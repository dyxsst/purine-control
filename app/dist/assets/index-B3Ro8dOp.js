function Rj(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Zi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tv={exports:{}},vu={};var Bx;function kj(){if(Bx)return vu;Bx=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:a}}return vu.Fragment=t,vu.jsx=n,vu.jsxs=n,vu}var $x;function Lj(){return $x||($x=1,tv.exports=kj()),tv.exports}var A=Lj(),nv={exports:{}},Me={};var Fx;function Uj(){if(Fx)return Me;Fx=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),v=Symbol.iterator;function _(U){return U===null||typeof U!="object"?null:(U=v&&U[v]||U["@@iterator"],typeof U=="function"?U:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,w={};function M(U,J,se){this.props=U,this.context=J,this.refs=w,this.updater=se||T}M.prototype.isReactComponent={},M.prototype.setState=function(U,J){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,J,"setState")},M.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function O(){}O.prototype=M.prototype;function P(U,J,se){this.props=U,this.context=J,this.refs=w,this.updater=se||T}var D=P.prototype=new O;D.constructor=P,E(D,M.prototype),D.isPureReactComponent=!0;var N=Array.isArray;function R(){}var k={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function $(U,J,se){var ce=se.ref;return{$$typeof:e,type:U,key:J,ref:ce!==void 0?ce:null,props:se}}function oe(U,J){return $(U.type,J,U.props)}function V(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function W(U){var J={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(se){return J[se]})}var fe=/\/+/g;function pe(U,J){return typeof U=="object"&&U!==null&&U.key!=null?W(""+U.key):J.toString(36)}function be(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(R,R):(U.status="pending",U.then(function(J){U.status==="pending"&&(U.status="fulfilled",U.value=J)},function(J){U.status==="pending"&&(U.status="rejected",U.reason=J)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function z(U,J,se,ce,K){var de=typeof U;(de==="undefined"||de==="boolean")&&(U=null);var _e=!1;if(U===null)_e=!0;else switch(de){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(U.$$typeof){case e:case t:_e=!0;break;case h:return _e=U._init,z(_e(U._payload),J,se,ce,K)}}if(_e)return K=K(U),_e=ce===""?"."+pe(U,0):ce,N(K)?(se="",_e!=null&&(se=_e.replace(fe,"$&/")+"/"),z(K,J,se,"",function(Ce){return Ce})):K!=null&&(V(K)&&(K=oe(K,se+(K.key==null||U&&U.key===K.key?"":(""+K.key).replace(fe,"$&/")+"/")+_e)),J.push(K)),1;_e=0;var dt=ce===""?".":ce+":";if(N(U))for(var Z=0;Z<U.length;Z++)ce=U[Z],de=dt+pe(ce,Z),_e+=z(ce,J,se,de,K);else if(Z=_(U),typeof Z=="function")for(U=Z.call(U),Z=0;!(ce=U.next()).done;)ce=ce.value,de=dt+pe(ce,Z++),_e+=z(ce,J,se,de,K);else if(de==="object"){if(typeof U.then=="function")return z(be(U),J,se,ce,K);throw J=String(U),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return _e}function ee(U,J,se){if(U==null)return U;var ce=[],K=0;return z(U,ce,"","",function(de){return J.call(se,de,K++)}),ce}function le(U){if(U._status===-1){var J=U._result;J=J(),J.then(function(se){(U._status===0||U._status===-1)&&(U._status=1,U._result=se)},function(se){(U._status===0||U._status===-1)&&(U._status=2,U._result=se)}),U._status===-1&&(U._status=0,U._result=J)}if(U._status===1)return U._result.default;throw U._result}var ue=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},we={map:ee,forEach:function(U,J,se){ee(U,function(){J.apply(this,arguments)},se)},count:function(U){var J=0;return ee(U,function(){J++}),J},toArray:function(U){return ee(U,function(J){return J})||[]},only:function(U){if(!V(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Me.Activity=m,Me.Children=we,Me.Component=M,Me.Fragment=n,Me.Profiler=i,Me.PureComponent=P,Me.StrictMode=r,Me.Suspense=c,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Me.__COMPILER_RUNTIME={__proto__:null,c:function(U){return k.H.useMemoCache(U)}},Me.cache=function(U){return function(){return U.apply(null,arguments)}},Me.cacheSignal=function(){return null},Me.cloneElement=function(U,J,se){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ce=E({},U.props),K=U.key;if(J!=null)for(de in J.key!==void 0&&(K=""+J.key),J)!B.call(J,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&J.ref===void 0||(ce[de]=J[de]);var de=arguments.length-2;if(de===1)ce.children=se;else if(1<de){for(var _e=Array(de),dt=0;dt<de;dt++)_e[dt]=arguments[dt+2];ce.children=_e}return $(U.type,K,ce)},Me.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:a,_context:U},U},Me.createElement=function(U,J,se){var ce,K={},de=null;if(J!=null)for(ce in J.key!==void 0&&(de=""+J.key),J)B.call(J,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(K[ce]=J[ce]);var _e=arguments.length-2;if(_e===1)K.children=se;else if(1<_e){for(var dt=Array(_e),Z=0;Z<_e;Z++)dt[Z]=arguments[Z+2];K.children=dt}if(U&&U.defaultProps)for(ce in _e=U.defaultProps,_e)K[ce]===void 0&&(K[ce]=_e[ce]);return $(U,de,K)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(U){return{$$typeof:u,render:U}},Me.isValidElement=V,Me.lazy=function(U){return{$$typeof:h,_payload:{_status:-1,_result:U},_init:le}},Me.memo=function(U,J){return{$$typeof:d,type:U,compare:J===void 0?null:J}},Me.startTransition=function(U){var J=k.T,se={};k.T=se;try{var ce=U(),K=k.S;K!==null&&K(se,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(R,ue)}catch(de){ue(de)}finally{J!==null&&se.types!==null&&(J.types=se.types),k.T=J}},Me.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Me.use=function(U){return k.H.use(U)},Me.useActionState=function(U,J,se){return k.H.useActionState(U,J,se)},Me.useCallback=function(U,J){return k.H.useCallback(U,J)},Me.useContext=function(U){return k.H.useContext(U)},Me.useDebugValue=function(){},Me.useDeferredValue=function(U,J){return k.H.useDeferredValue(U,J)},Me.useEffect=function(U,J){return k.H.useEffect(U,J)},Me.useEffectEvent=function(U){return k.H.useEffectEvent(U)},Me.useId=function(){return k.H.useId()},Me.useImperativeHandle=function(U,J,se){return k.H.useImperativeHandle(U,J,se)},Me.useInsertionEffect=function(U,J){return k.H.useInsertionEffect(U,J)},Me.useLayoutEffect=function(U,J){return k.H.useLayoutEffect(U,J)},Me.useMemo=function(U,J){return k.H.useMemo(U,J)},Me.useOptimistic=function(U,J){return k.H.useOptimistic(U,J)},Me.useReducer=function(U,J,se){return k.H.useReducer(U,J,se)},Me.useRef=function(U){return k.H.useRef(U)},Me.useState=function(U){return k.H.useState(U)},Me.useSyncExternalStore=function(U,J,se){return k.H.useSyncExternalStore(U,J,se)},Me.useTransition=function(){return k.H.useTransition()},Me.version="19.2.0",Me}var Hx;function cl(){return Hx||(Hx=1,nv.exports=Uj()),nv.exports}var x=cl();const qj=Zi(x),jj=Rj({__proto__:null,default:qj},[x]);var rv={exports:{}},yu={},iv={exports:{}},av={};var Gx;function zj(){return Gx||(Gx=1,(function(e){function t(z,ee){var le=z.length;z.push(ee);e:for(;0<le;){var ue=le-1>>>1,we=z[ue];if(0<i(we,ee))z[ue]=ee,z[le]=we,le=ue;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var ee=z[0],le=z.pop();if(le!==ee){z[0]=le;e:for(var ue=0,we=z.length,U=we>>>1;ue<U;){var J=2*(ue+1)-1,se=z[J],ce=J+1,K=z[ce];if(0>i(se,le))ce<we&&0>i(K,se)?(z[ue]=K,z[ce]=le,ue=ce):(z[ue]=se,z[J]=le,ue=J);else if(ce<we&&0>i(K,le))z[ue]=K,z[ce]=le,ue=ce;else break e}}return ee}function i(z,ee){var le=z.sortIndex-ee.sortIndex;return le!==0?le:z.id-ee.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var c=[],d=[],h=1,m=null,v=3,_=!1,T=!1,E=!1,w=!1,M=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function D(z){for(var ee=n(d);ee!==null;){if(ee.callback===null)r(d);else if(ee.startTime<=z)r(d),ee.sortIndex=ee.expirationTime,t(c,ee);else break;ee=n(d)}}function N(z){if(E=!1,D(z),!T)if(n(c)!==null)T=!0,R||(R=!0,W());else{var ee=n(d);ee!==null&&be(N,ee.startTime-z)}}var R=!1,k=-1,B=5,$=-1;function oe(){return w?!0:!(e.unstable_now()-$<B)}function V(){if(w=!1,R){var z=e.unstable_now();$=z;var ee=!0;try{e:{T=!1,E&&(E=!1,O(k),k=-1),_=!0;var le=v;try{t:{for(D(z),m=n(c);m!==null&&!(m.expirationTime>z&&oe());){var ue=m.callback;if(typeof ue=="function"){m.callback=null,v=m.priorityLevel;var we=ue(m.expirationTime<=z);if(z=e.unstable_now(),typeof we=="function"){m.callback=we,D(z),ee=!0;break t}m===n(c)&&r(c),D(z)}else r(c);m=n(c)}if(m!==null)ee=!0;else{var U=n(d);U!==null&&be(N,U.startTime-z),ee=!1}}break e}finally{m=null,v=le,_=!1}ee=void 0}}finally{ee?W():R=!1}}}var W;if(typeof P=="function")W=function(){P(V)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,pe=fe.port2;fe.port1.onmessage=V,W=function(){pe.postMessage(null)}}else W=function(){M(V,0)};function be(z,ee){k=M(function(){z(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(z){switch(v){case 1:case 2:case 3:var ee=3;break;default:ee=v}var le=v;v=ee;try{return z()}finally{v=le}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(z,ee){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var le=v;v=z;try{return ee()}finally{v=le}},e.unstable_scheduleCallback=function(z,ee,le){var ue=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ue+le:ue):le=ue,z){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=le+we,z={id:h++,callback:ee,priorityLevel:z,startTime:le,expirationTime:we,sortIndex:-1},le>ue?(z.sortIndex=le,t(d,z),n(c)===null&&z===n(d)&&(E?(O(k),k=-1):E=!0,be(N,le-ue))):(z.sortIndex=we,t(c,z),T||_||(T=!0,R||(R=!0,W()))),z},e.unstable_shouldYield=oe,e.unstable_wrapCallback=function(z){var ee=v;return function(){var le=v;v=ee;try{return z.apply(this,arguments)}finally{v=le}}}})(av)),av}var Vx;function Bj(){return Vx||(Vx=1,iv.exports=zj()),iv.exports}var ov={exports:{}},dn={};var Kx;function $j(){if(Kx)return dn;Kx=1;var e=cl();function t(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:c,containerInfo:d,implementation:h}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,dn.createPortal=function(c,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return a(c,d,null,h)},dn.flushSync=function(c){var d=l.T,h=r.p;try{if(l.T=null,r.p=2,c)return c()}finally{l.T=d,r.p=h,r.d.f()}},dn.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},dn.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},dn.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var h=d.as,m=u(h,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:_}):h==="script"&&r.d.X(c,{crossOrigin:m,integrity:v,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},dn.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=u(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},dn.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=u(h,d.crossOrigin);r.d.L(c,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},dn.preloadModule=function(c,d){if(typeof c=="string")if(d){var h=u(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},dn.requestFormReset=function(c){r.d.r(c)},dn.unstable_batchedUpdates=function(c,d){return c(d)},dn.useFormState=function(c,d,h){return l.H.useFormState(c,d,h)},dn.useFormStatus=function(){return l.H.useHostTransitionStatus()},dn.version="19.2.0",dn}var Yx;function DN(){if(Yx)return ov.exports;Yx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ov.exports=$j(),ov.exports}var Wx;function Fj(){if(Wx)return yu;Wx=1;var e=Bj(),t=cl(),n=DN();function r(o){var s="https://react.dev/errors/"+o;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)s+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var s=o,f=o;if(o.alternate)for(;s.return;)s=s.return;else{o=s;do s=o,(s.flags&4098)!==0&&(f=s.return),o=s.return;while(o)}return s.tag===3?f:null}function l(o){if(o.tag===13){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function u(o){if(o.tag===31){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function c(o){if(a(o)!==o)throw Error(r(188))}function d(o){var s=o.alternate;if(!s){if(s=a(o),s===null)throw Error(r(188));return s!==o?null:o}for(var f=o,p=s;;){var b=f.return;if(b===null)break;var S=b.alternate;if(S===null){if(p=b.return,p!==null){f=p;continue}break}if(b.child===S.child){for(S=b.child;S;){if(S===f)return c(b),o;if(S===p)return c(b),s;S=S.sibling}throw Error(r(188))}if(f.return!==p.return)f=b,p=S;else{for(var C=!1,I=b.child;I;){if(I===f){C=!0,f=b,p=S;break}if(I===p){C=!0,p=b,f=S;break}I=I.sibling}if(!C){for(I=S.child;I;){if(I===f){C=!0,f=S,p=b;break}if(I===p){C=!0,p=S,f=b;break}I=I.sibling}if(!C)throw Error(r(189))}}if(f.alternate!==p)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:s}function h(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o;for(o=o.child;o!==null;){if(s=h(o),s!==null)return s;o=o.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),P=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),oe=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function W(o){return o===null||typeof o!="object"?null:(o=V&&o[V]||o["@@iterator"],typeof o=="function"?o:null)}var fe=Symbol.for("react.client.reference");function pe(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===fe?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case E:return"Fragment";case M:return"Profiler";case w:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList";case $:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case T:return"Portal";case P:return o.displayName||"Context";case O:return(o._context.displayName||"Context")+".Consumer";case D:var s=o.render;return o=o.displayName,o||(o=s.displayName||s.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case k:return s=o.displayName||null,s!==null?s:pe(o.type)||"Memo";case B:s=o._payload,o=o._init;try{return pe(o(s))}catch{}}return null}var be=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},ue=[],we=-1;function U(o){return{current:o}}function J(o){0>we||(o.current=ue[we],ue[we]=null,we--)}function se(o,s){we++,ue[we]=o.current,o.current=s}var ce=U(null),K=U(null),de=U(null),_e=U(null);function dt(o,s){switch(se(de,s),se(K,o),se(ce,null),s.nodeType){case 9:case 11:o=(o=s.documentElement)&&(o=o.namespaceURI)?cx(o):0;break;default:if(o=s.tagName,s=s.namespaceURI)s=cx(s),o=fx(s,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}J(ce),se(ce,o)}function Z(){J(ce),J(K),J(de)}function Ce(o){o.memoizedState!==null&&se(_e,o);var s=ce.current,f=fx(s,o.type);s!==f&&(se(K,o),se(ce,f))}function Oe(o){K.current===o&&(J(ce),J(K)),_e.current===o&&(J(_e),hu._currentValue=le)}var ae,tt;function De(o){if(ae===void 0)try{throw Error()}catch(f){var s=f.stack.trim().match(/\n( *(at )?)/);ae=s&&s[1]||"",tt=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ae+o+tt}var yt=!1;function Tt(o,s){if(!o||yt)return"";yt=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(s){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(Y){var G=Y}Reflect.construct(o,[],re)}else{try{re.call()}catch(Y){G=Y}o.call(re.prototype)}}else{try{throw Error()}catch(Y){G=Y}(re=o())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=p.DetermineComponentFrameRoot(),C=S[0],I=S[1];if(C&&I){var L=C.split(`
`),H=I.split(`
`);for(b=p=0;p<L.length&&!L[p].includes("DetermineComponentFrameRoot");)p++;for(;b<H.length&&!H[b].includes("DetermineComponentFrameRoot");)b++;if(p===L.length||b===H.length)for(p=L.length-1,b=H.length-1;1<=p&&0<=b&&L[p]!==H[b];)b--;for(;1<=p&&0<=b;p--,b--)if(L[p]!==H[b]){if(p!==1||b!==1)do if(p--,b--,0>b||L[p]!==H[b]){var Q=`
`+L[p].replace(" at new "," at ");return o.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",o.displayName)),Q}while(1<=p&&0<=b);break}}}finally{yt=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?De(f):""}function Ke(o,s){switch(o.tag){case 26:case 27:case 5:return De(o.type);case 16:return De("Lazy");case 13:return o.child!==s&&s!==null?De("Suspense Fallback"):De("Suspense");case 19:return De("SuspenseList");case 0:case 15:return Tt(o.type,!1);case 11:return Tt(o.type.render,!1);case 1:return Tt(o.type,!0);case 31:return De("Activity");default:return""}}function Br(o){try{var s="",f=null;do s+=Ke(o,f),f=o,o=o.return;while(o);return s}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Ho=Object.prototype.hasOwnProperty,bn=e.unstable_scheduleCallback,Wa=e.unstable_cancelCallback,Go=e.unstable_shouldYield,ne=e.unstable_requestPaint,Ie=e.unstable_now,Mn=e.unstable_getCurrentPriorityLevel,Ja=e.unstable_ImmediatePriority,Uc=e.unstable_UserBlockingPriority,Vo=e.unstable_NormalPriority,jp=e.unstable_LowPriority,qc=e.unstable_IdlePriority,zp=e.log,jc=e.unstable_setDisableYieldValue,Xa=null,_n=null;function $r(o){if(typeof zp=="function"&&jc(o),_n&&typeof _n.setStrictMode=="function")try{_n.setStrictMode(Xa,o)}catch{}}var Sn=Math.clz32?Math.clz32:Fp,Bp=Math.log,$p=Math.LN2;function Fp(o){return o>>>=0,o===0?32:31-(Bp(o)/$p|0)|0}var Ko=256,Cl=262144,Yo=4194304;function ie(o){var s=o&42;if(s!==0)return s;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function xe(o,s,f){var p=o.pendingLanes;if(p===0)return 0;var b=0,S=o.suspendedLanes,C=o.pingedLanes;o=o.warmLanes;var I=p&134217727;return I!==0?(p=I&~S,p!==0?b=ie(p):(C&=I,C!==0?b=ie(C):f||(f=I&~o,f!==0&&(b=ie(f))))):(I=p&~S,I!==0?b=ie(I):C!==0?b=ie(C):f||(f=p&~o,f!==0&&(b=ie(f)))),b===0?0:s!==0&&s!==b&&(s&S)===0&&(S=b&-b,f=s&-s,S>=f||S===32&&(f&4194048)!==0)?s:b}function Re(o,s){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&s)===0}function at(o,s){switch(o){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $t(){var o=Yo;return Yo<<=1,(Yo&62914560)===0&&(Yo=4194304),o}function fn(o){for(var s=[],f=0;31>f;f++)s.push(o);return s}function si(o,s){o.pendingLanes|=s,s!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Qa(o,s,f,p,b,S){var C=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var I=o.entanglements,L=o.expirationTimes,H=o.hiddenUpdates;for(f=C&~f;0<f;){var Q=31-Sn(f),re=1<<Q;I[Q]=0,L[Q]=-1;var G=H[Q];if(G!==null)for(H[Q]=null,Q=0;Q<G.length;Q++){var Y=G[Q];Y!==null&&(Y.lane&=-536870913)}f&=~re}p!==0&&zc(o,p,0),S!==0&&b===0&&o.tag!==0&&(o.suspendedLanes|=S&~(C&~s))}function zc(o,s,f){o.pendingLanes|=s,o.suspendedLanes&=~s;var p=31-Sn(s);o.entangledLanes|=s,o.entanglements[p]=o.entanglements[p]|1073741824|f&261930}function Fr(o,s){var f=o.entangledLanes|=s;for(o=o.entanglements;f;){var p=31-Sn(f),b=1<<p;b&s|o[p]&s&&(o[p]|=s),f&=~b}}function Za(o,s){var f=s&-s;return f=(f&42)!==0?1:Hp(f),(f&(o.suspendedLanes|s))!==0?0:f}function Hp(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Gp(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function WS(){var o=ee.p;return o!==0?o:(o=window.event,o===void 0?32:Rx(o.type))}function JS(o,s){var f=ee.p;try{return ee.p=o,s()}finally{ee.p=f}}var sa=Math.random().toString(36).slice(2),Qt="__reactFiber$"+sa,Pn="__reactProps$"+sa,Wo="__reactContainer$"+sa,Vp="__reactEvents$"+sa,EU="__reactListeners$"+sa,wU="__reactHandles$"+sa,XS="__reactResources$"+sa,Ml="__reactMarker$"+sa;function Kp(o){delete o[Qt],delete o[Pn],delete o[Vp],delete o[EU],delete o[wU]}function Jo(o){var s=o[Qt];if(s)return s;for(var f=o.parentNode;f;){if(s=f[Wo]||f[Qt]){if(f=s.alternate,s.child!==null||f!==null&&f.child!==null)for(o=yx(o);o!==null;){if(f=o[Qt])return f;o=yx(o)}return s}o=f,f=o.parentNode}return null}function Xo(o){if(o=o[Qt]||o[Wo]){var s=o.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return o}return null}function Pl(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o.stateNode;throw Error(r(33))}function Qo(o){var s=o[XS];return s||(s=o[XS]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ft(o){o[Ml]=!0}var QS=new Set,ZS={};function eo(o,s){Zo(o,s),Zo(o+"Capture",s)}function Zo(o,s){for(ZS[o]=s,o=0;o<s.length;o++)QS.add(s[o])}var xU=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),eT={},tT={};function AU(o){return Ho.call(tT,o)?!0:Ho.call(eT,o)?!1:xU.test(o)?tT[o]=!0:(eT[o]=!0,!1)}function Bc(o,s,f){if(AU(s))if(f===null)o.removeAttribute(s);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(s);return;case"boolean":var p=s.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){o.removeAttribute(s);return}}o.setAttribute(s,""+f)}}function $c(o,s,f){if(f===null)o.removeAttribute(s);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(s);return}o.setAttribute(s,""+f)}}function li(o,s,f,p){if(p===null)o.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(s,f,""+p)}}function ir(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function nT(o){var s=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function CU(o,s,f){var p=Object.getOwnPropertyDescriptor(o.constructor.prototype,s);if(!o.hasOwnProperty(s)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,S=p.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return b.call(this)},set:function(C){f=""+C,S.call(this,C)}}),Object.defineProperty(o,s,{enumerable:p.enumerable}),{getValue:function(){return f},setValue:function(C){f=""+C},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}function Yp(o){if(!o._valueTracker){var s=nT(o)?"checked":"value";o._valueTracker=CU(o,s,""+o[s])}}function rT(o){if(!o)return!1;var s=o._valueTracker;if(!s)return!0;var f=s.getValue(),p="";return o&&(p=nT(o)?o.checked?"true":"false":o.value),o=p,o!==f?(s.setValue(o),!0):!1}function Fc(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var MU=/[\n"\\]/g;function ar(o){return o.replace(MU,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Wp(o,s,f,p,b,S,C,I){o.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?o.type=C:o.removeAttribute("type"),s!=null?C==="number"?(s===0&&o.value===""||o.value!=s)&&(o.value=""+ir(s)):o.value!==""+ir(s)&&(o.value=""+ir(s)):C!=="submit"&&C!=="reset"||o.removeAttribute("value"),s!=null?Jp(o,C,ir(s)):f!=null?Jp(o,C,ir(f)):p!=null&&o.removeAttribute("value"),b==null&&S!=null&&(o.defaultChecked=!!S),b!=null&&(o.checked=b&&typeof b!="function"&&typeof b!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?o.name=""+ir(I):o.removeAttribute("name")}function iT(o,s,f,p,b,S,C,I){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(o.type=S),s!=null||f!=null){if(!(S!=="submit"&&S!=="reset"||s!=null)){Yp(o);return}f=f!=null?""+ir(f):"",s=s!=null?""+ir(s):f,I||s===o.value||(o.value=s),o.defaultValue=s}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,o.checked=I?o.checked:!!p,o.defaultChecked=!!p,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(o.name=C),Yp(o)}function Jp(o,s,f){s==="number"&&Fc(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function es(o,s,f,p){if(o=o.options,s){s={};for(var b=0;b<f.length;b++)s["$"+f[b]]=!0;for(f=0;f<o.length;f++)b=s.hasOwnProperty("$"+o[f].value),o[f].selected!==b&&(o[f].selected=b),b&&p&&(o[f].defaultSelected=!0)}else{for(f=""+ir(f),s=null,b=0;b<o.length;b++){if(o[b].value===f){o[b].selected=!0,p&&(o[b].defaultSelected=!0);return}s!==null||o[b].disabled||(s=o[b])}s!==null&&(s.selected=!0)}}function aT(o,s,f){if(s!=null&&(s=""+ir(s),s!==o.value&&(o.value=s),f==null)){o.defaultValue!==s&&(o.defaultValue=s);return}o.defaultValue=f!=null?""+ir(f):""}function oT(o,s,f,p){if(s==null){if(p!=null){if(f!=null)throw Error(r(92));if(be(p)){if(1<p.length)throw Error(r(93));p=p[0]}f=p}f==null&&(f=""),s=f}f=ir(s),o.defaultValue=f,p=o.textContent,p===f&&p!==""&&p!==null&&(o.value=p),Yp(o)}function ts(o,s){if(s){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=s;return}}o.textContent=s}var PU=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sT(o,s,f){var p=s.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?p?o.setProperty(s,""):s==="float"?o.cssFloat="":o[s]="":p?o.setProperty(s,f):typeof f!="number"||f===0||PU.has(s)?s==="float"?o.cssFloat=f:o[s]=(""+f).trim():o[s]=f+"px"}function lT(o,s,f){if(s!=null&&typeof s!="object")throw Error(r(62));if(o=o.style,f!=null){for(var p in f)!f.hasOwnProperty(p)||s!=null&&s.hasOwnProperty(p)||(p.indexOf("--")===0?o.setProperty(p,""):p==="float"?o.cssFloat="":o[p]="");for(var b in s)p=s[b],s.hasOwnProperty(b)&&f[b]!==p&&sT(o,b,p)}else for(var S in s)s.hasOwnProperty(S)&&sT(o,S,s[S])}function Xp(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var OU=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),NU=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hc(o){return NU.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function ui(){}var Qp=null;function Zp(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ns=null,rs=null;function uT(o){var s=Xo(o);if(s&&(o=s.stateNode)){var f=o[Pn]||null;e:switch(o=s.stateNode,s.type){case"input":if(Wp(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),s=f.name,f.type==="radio"&&s!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+ar(""+s)+'"][type="radio"]'),s=0;s<f.length;s++){var p=f[s];if(p!==o&&p.form===o.form){var b=p[Pn]||null;if(!b)throw Error(r(90));Wp(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(s=0;s<f.length;s++)p=f[s],p.form===o.form&&rT(p)}break e;case"textarea":aT(o,f.value,f.defaultValue);break e;case"select":s=f.value,s!=null&&es(o,!!f.multiple,s,!1)}}}var em=!1;function cT(o,s,f){if(em)return o(s,f);em=!0;try{var p=o(s);return p}finally{if(em=!1,(ns!==null||rs!==null)&&(If(),ns&&(s=ns,o=rs,rs=ns=null,uT(s),o)))for(s=0;s<o.length;s++)uT(o[s])}}function Ol(o,s){var f=o.stateNode;if(f===null)return null;var p=f[Pn]||null;if(p===null)return null;f=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,s,typeof f));return f}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tm=!1;if(ci)try{var Nl={};Object.defineProperty(Nl,"passive",{get:function(){tm=!0}}),window.addEventListener("test",Nl,Nl),window.removeEventListener("test",Nl,Nl)}catch{tm=!1}var la=null,nm=null,Gc=null;function fT(){if(Gc)return Gc;var o,s=nm,f=s.length,p,b="value"in la?la.value:la.textContent,S=b.length;for(o=0;o<f&&s[o]===b[o];o++);var C=f-o;for(p=1;p<=C&&s[f-p]===b[S-p];p++);return Gc=b.slice(o,1<p?1-p:void 0)}function Vc(o){var s=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&s===13&&(o=13)):o=s,o===10&&(o=13),32<=o||o===13?o:0}function Kc(){return!0}function dT(){return!1}function On(o){function s(f,p,b,S,C){this._reactName=f,this._targetInst=b,this.type=p,this.nativeEvent=S,this.target=C,this.currentTarget=null;for(var I in o)o.hasOwnProperty(I)&&(f=o[I],this[I]=f?f(S):S[I]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Kc:dT,this.isPropagationStopped=dT,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Kc)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Kc)},persist:function(){},isPersistent:Kc}),s}var to={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yc=On(to),Il=m({},to,{view:0,detail:0}),IU=On(Il),rm,im,Dl,Wc=m({},Il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:om,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Dl&&(Dl&&o.type==="mousemove"?(rm=o.screenX-Dl.screenX,im=o.screenY-Dl.screenY):im=rm=0,Dl=o),rm)},movementY:function(o){return"movementY"in o?o.movementY:im}}),hT=On(Wc),DU=m({},Wc,{dataTransfer:0}),RU=On(DU),kU=m({},Il,{relatedTarget:0}),am=On(kU),LU=m({},to,{animationName:0,elapsedTime:0,pseudoElement:0}),UU=On(LU),qU=m({},to,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),jU=On(qU),zU=m({},to,{data:0}),pT=On(zU),BU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$U={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HU(o){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(o):(o=FU[o])?!!s[o]:!1}function om(){return HU}var GU=m({},Il,{key:function(o){if(o.key){var s=BU[o.key]||o.key;if(s!=="Unidentified")return s}return o.type==="keypress"?(o=Vc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?$U[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:om,charCode:function(o){return o.type==="keypress"?Vc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Vc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),VU=On(GU),KU=m({},Wc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mT=On(KU),YU=m({},Il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:om}),WU=On(YU),JU=m({},to,{propertyName:0,elapsedTime:0,pseudoElement:0}),XU=On(JU),QU=m({},Wc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),ZU=On(QU),eq=m({},to,{newState:0,oldState:0}),tq=On(eq),nq=[9,13,27,32],sm=ci&&"CompositionEvent"in window,Rl=null;ci&&"documentMode"in document&&(Rl=document.documentMode);var rq=ci&&"TextEvent"in window&&!Rl,gT=ci&&(!sm||Rl&&8<Rl&&11>=Rl),vT=" ",yT=!1;function bT(o,s){switch(o){case"keyup":return nq.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _T(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var is=!1;function iq(o,s){switch(o){case"compositionend":return _T(s);case"keypress":return s.which!==32?null:(yT=!0,vT);case"textInput":return o=s.data,o===vT&&yT?null:o;default:return null}}function aq(o,s){if(is)return o==="compositionend"||!sm&&bT(o,s)?(o=fT(),Gc=nm=la=null,is=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return gT&&s.locale!=="ko"?null:s.data;default:return null}}var oq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ST(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s==="input"?!!oq[o.type]:s==="textarea"}function TT(o,s,f,p){ns?rs?rs.push(p):rs=[p]:ns=p,s=jf(s,"onChange"),0<s.length&&(f=new Yc("onChange","change",null,f,p),o.push({event:f,listeners:s}))}var kl=null,Ll=null;function sq(o){ix(o,0)}function Jc(o){var s=Pl(o);if(rT(s))return o}function ET(o,s){if(o==="change")return s}var wT=!1;if(ci){var lm;if(ci){var um="oninput"in document;if(!um){var xT=document.createElement("div");xT.setAttribute("oninput","return;"),um=typeof xT.oninput=="function"}lm=um}else lm=!1;wT=lm&&(!document.documentMode||9<document.documentMode)}function AT(){kl&&(kl.detachEvent("onpropertychange",CT),Ll=kl=null)}function CT(o){if(o.propertyName==="value"&&Jc(Ll)){var s=[];TT(s,Ll,o,Zp(o)),cT(sq,s)}}function lq(o,s,f){o==="focusin"?(AT(),kl=s,Ll=f,kl.attachEvent("onpropertychange",CT)):o==="focusout"&&AT()}function uq(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Jc(Ll)}function cq(o,s){if(o==="click")return Jc(s)}function fq(o,s){if(o==="input"||o==="change")return Jc(s)}function dq(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var Hn=typeof Object.is=="function"?Object.is:dq;function Ul(o,s){if(Hn(o,s))return!0;if(typeof o!="object"||o===null||typeof s!="object"||s===null)return!1;var f=Object.keys(o),p=Object.keys(s);if(f.length!==p.length)return!1;for(p=0;p<f.length;p++){var b=f[p];if(!Ho.call(s,b)||!Hn(o[b],s[b]))return!1}return!0}function MT(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function PT(o,s){var f=MT(o);o=0;for(var p;f;){if(f.nodeType===3){if(p=o+f.textContent.length,o<=s&&p>=s)return{node:f,offset:s-o};o=p}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=MT(f)}}function OT(o,s){return o&&s?o===s?!0:o&&o.nodeType===3?!1:s&&s.nodeType===3?OT(o,s.parentNode):"contains"in o?o.contains(s):o.compareDocumentPosition?!!(o.compareDocumentPosition(s)&16):!1:!1}function NT(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var s=Fc(o.document);s instanceof o.HTMLIFrameElement;){try{var f=typeof s.contentWindow.location.href=="string"}catch{f=!1}if(f)o=s.contentWindow;else break;s=Fc(o.document)}return s}function cm(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s&&(s==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||s==="textarea"||o.contentEditable==="true")}var hq=ci&&"documentMode"in document&&11>=document.documentMode,as=null,fm=null,ql=null,dm=!1;function IT(o,s,f){var p=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;dm||as==null||as!==Fc(p)||(p=as,"selectionStart"in p&&cm(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ql&&Ul(ql,p)||(ql=p,p=jf(fm,"onSelect"),0<p.length&&(s=new Yc("onSelect","select",null,s,f),o.push({event:s,listeners:p}),s.target=as)))}function no(o,s){var f={};return f[o.toLowerCase()]=s.toLowerCase(),f["Webkit"+o]="webkit"+s,f["Moz"+o]="moz"+s,f}var os={animationend:no("Animation","AnimationEnd"),animationiteration:no("Animation","AnimationIteration"),animationstart:no("Animation","AnimationStart"),transitionrun:no("Transition","TransitionRun"),transitionstart:no("Transition","TransitionStart"),transitioncancel:no("Transition","TransitionCancel"),transitionend:no("Transition","TransitionEnd")},hm={},DT={};ci&&(DT=document.createElement("div").style,"AnimationEvent"in window||(delete os.animationend.animation,delete os.animationiteration.animation,delete os.animationstart.animation),"TransitionEvent"in window||delete os.transitionend.transition);function ro(o){if(hm[o])return hm[o];if(!os[o])return o;var s=os[o],f;for(f in s)if(s.hasOwnProperty(f)&&f in DT)return hm[o]=s[f];return o}var RT=ro("animationend"),kT=ro("animationiteration"),LT=ro("animationstart"),pq=ro("transitionrun"),mq=ro("transitionstart"),gq=ro("transitioncancel"),UT=ro("transitionend"),qT=new Map,pm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pm.push("scrollEnd");function Mr(o,s){qT.set(o,s),eo(s,[o])}var Xc=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},or=[],ss=0,mm=0;function Qc(){for(var o=ss,s=mm=ss=0;s<o;){var f=or[s];or[s++]=null;var p=or[s];or[s++]=null;var b=or[s];or[s++]=null;var S=or[s];if(or[s++]=null,p!==null&&b!==null){var C=p.pending;C===null?b.next=b:(b.next=C.next,C.next=b),p.pending=b}S!==0&&jT(f,b,S)}}function Zc(o,s,f,p){or[ss++]=o,or[ss++]=s,or[ss++]=f,or[ss++]=p,mm|=p,o.lanes|=p,o=o.alternate,o!==null&&(o.lanes|=p)}function gm(o,s,f,p){return Zc(o,s,f,p),ef(o)}function io(o,s){return Zc(o,null,null,s),ef(o)}function jT(o,s,f){o.lanes|=f;var p=o.alternate;p!==null&&(p.lanes|=f);for(var b=!1,S=o.return;S!==null;)S.childLanes|=f,p=S.alternate,p!==null&&(p.childLanes|=f),S.tag===22&&(o=S.stateNode,o===null||o._visibility&1||(b=!0)),o=S,S=S.return;return o.tag===3?(S=o.stateNode,b&&s!==null&&(b=31-Sn(f),o=S.hiddenUpdates,p=o[b],p===null?o[b]=[s]:p.push(s),s.lane=f|536870912),S):null}function ef(o){if(50<ou)throw ou=0,xg=null,Error(r(185));for(var s=o.return;s!==null;)o=s,s=o.return;return o.tag===3?o.stateNode:null}var ls={};function vq(o,s,f,p){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(o,s,f,p){return new vq(o,s,f,p)}function vm(o){return o=o.prototype,!(!o||!o.isReactComponent)}function fi(o,s){var f=o.alternate;return f===null?(f=Gn(o.tag,s,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=s,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,s=o.dependencies,f.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function zT(o,s){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=s,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,s=f.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),o}function tf(o,s,f,p,b,S){var C=0;if(p=o,typeof o=="function")vm(o)&&(C=1);else if(typeof o=="string")C=Tj(o,f,ce.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case $:return o=Gn(31,f,s,b),o.elementType=$,o.lanes=S,o;case E:return ao(f.children,b,S,s);case w:C=8,b|=24;break;case M:return o=Gn(12,f,s,b|2),o.elementType=M,o.lanes=S,o;case N:return o=Gn(13,f,s,b),o.elementType=N,o.lanes=S,o;case R:return o=Gn(19,f,s,b),o.elementType=R,o.lanes=S,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case P:C=10;break e;case O:C=9;break e;case D:C=11;break e;case k:C=14;break e;case B:C=16,p=null;break e}C=29,f=Error(r(130,o===null?"null":typeof o,"")),p=null}return s=Gn(C,f,s,b),s.elementType=o,s.type=p,s.lanes=S,s}function ao(o,s,f,p){return o=Gn(7,o,p,s),o.lanes=f,o}function ym(o,s,f){return o=Gn(6,o,null,s),o.lanes=f,o}function BT(o){var s=Gn(18,null,null,0);return s.stateNode=o,s}function bm(o,s,f){return s=Gn(4,o.children!==null?o.children:[],o.key,s),s.lanes=f,s.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},s}var $T=new WeakMap;function sr(o,s){if(typeof o=="object"&&o!==null){var f=$T.get(o);return f!==void 0?f:(s={value:o,source:s,stack:Br(s)},$T.set(o,s),s)}return{value:o,source:s,stack:Br(s)}}var us=[],cs=0,nf=null,jl=0,lr=[],ur=0,ua=null,Hr=1,Gr="";function di(o,s){us[cs++]=jl,us[cs++]=nf,nf=o,jl=s}function FT(o,s,f){lr[ur++]=Hr,lr[ur++]=Gr,lr[ur++]=ua,ua=o;var p=Hr;o=Gr;var b=32-Sn(p)-1;p&=~(1<<b),f+=1;var S=32-Sn(s)+b;if(30<S){var C=b-b%5;S=(p&(1<<C)-1).toString(32),p>>=C,b-=C,Hr=1<<32-Sn(s)+b|f<<b|p,Gr=S+o}else Hr=1<<S|f<<b|p,Gr=o}function _m(o){o.return!==null&&(di(o,1),FT(o,1,0))}function Sm(o){for(;o===nf;)nf=us[--cs],us[cs]=null,jl=us[--cs],us[cs]=null;for(;o===ua;)ua=lr[--ur],lr[ur]=null,Gr=lr[--ur],lr[ur]=null,Hr=lr[--ur],lr[ur]=null}function HT(o,s){lr[ur++]=Hr,lr[ur++]=Gr,lr[ur++]=ua,Hr=s.id,Gr=s.overflow,ua=o}var Zt=null,ot=null,Be=!1,ca=null,cr=!1,Tm=Error(r(519));function fa(o){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zl(sr(s,o)),Tm}function GT(o){var s=o.stateNode,f=o.type,p=o.memoizedProps;switch(s[Qt]=o,s[Pn]=p,f){case"dialog":Le("cancel",s),Le("close",s);break;case"iframe":case"object":case"embed":Le("load",s);break;case"video":case"audio":for(f=0;f<lu.length;f++)Le(lu[f],s);break;case"source":Le("error",s);break;case"img":case"image":case"link":Le("error",s),Le("load",s);break;case"details":Le("toggle",s);break;case"input":Le("invalid",s),iT(s,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Le("invalid",s);break;case"textarea":Le("invalid",s),oT(s,p.value,p.defaultValue,p.children)}f=p.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||s.textContent===""+f||p.suppressHydrationWarning===!0||lx(s.textContent,f)?(p.popover!=null&&(Le("beforetoggle",s),Le("toggle",s)),p.onScroll!=null&&Le("scroll",s),p.onScrollEnd!=null&&Le("scrollend",s),p.onClick!=null&&(s.onclick=ui),s=!0):s=!1,s||fa(o,!0)}function VT(o){for(Zt=o.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:cr=!1;return;case 27:case 3:cr=!0;return;default:Zt=Zt.return}}function fs(o){if(o!==Zt)return!1;if(!Be)return VT(o),Be=!0,!1;var s=o.tag,f;if((f=s!==3&&s!==27)&&((f=s===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||zg(o.type,o.memoizedProps)),f=!f),f&&ot&&fa(o),VT(o),s===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));ot=vx(o)}else if(s===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));ot=vx(o)}else s===27?(s=ot,xa(o.type)?(o=Gg,Gg=null,ot=o):ot=s):ot=Zt?dr(o.stateNode.nextSibling):null;return!0}function oo(){ot=Zt=null,Be=!1}function Em(){var o=ca;return o!==null&&(Rn===null?Rn=o:Rn.push.apply(Rn,o),ca=null),o}function zl(o){ca===null?ca=[o]:ca.push(o)}var wm=U(null),so=null,hi=null;function da(o,s,f){se(wm,s._currentValue),s._currentValue=f}function pi(o){o._currentValue=wm.current,J(wm)}function xm(o,s,f){for(;o!==null;){var p=o.alternate;if((o.childLanes&s)!==s?(o.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),o===f)break;o=o.return}}function Am(o,s,f,p){var b=o.child;for(b!==null&&(b.return=o);b!==null;){var S=b.dependencies;if(S!==null){var C=b.child;S=S.firstContext;e:for(;S!==null;){var I=S;S=b;for(var L=0;L<s.length;L++)if(I.context===s[L]){S.lanes|=f,I=S.alternate,I!==null&&(I.lanes|=f),xm(S.return,f,o),p||(C=null);break e}S=I.next}}else if(b.tag===18){if(C=b.return,C===null)throw Error(r(341));C.lanes|=f,S=C.alternate,S!==null&&(S.lanes|=f),xm(C,f,o),C=null}else C=b.child;if(C!==null)C.return=b;else for(C=b;C!==null;){if(C===o){C=null;break}if(b=C.sibling,b!==null){b.return=C.return,C=b;break}C=C.return}b=C}}function ds(o,s,f,p){o=null;for(var b=s,S=!1;b!==null;){if(!S){if((b.flags&524288)!==0)S=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var C=b.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var I=b.type;Hn(b.pendingProps.value,C.value)||(o!==null?o.push(I):o=[I])}}else if(b===_e.current){if(C=b.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(o!==null?o.push(hu):o=[hu])}b=b.return}o!==null&&Am(s,o,f,p),s.flags|=262144}function rf(o){for(o=o.firstContext;o!==null;){if(!Hn(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function lo(o){so=o,hi=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function en(o){return KT(so,o)}function af(o,s){return so===null&&lo(o),KT(o,s)}function KT(o,s){var f=s._currentValue;if(s={context:s,memoizedValue:f,next:null},hi===null){if(o===null)throw Error(r(308));hi=s,o.dependencies={lanes:0,firstContext:s},o.flags|=524288}else hi=hi.next=s;return f}var yq=typeof AbortController<"u"?AbortController:function(){var o=[],s=this.signal={aborted:!1,addEventListener:function(f,p){o.push(p)}};this.abort=function(){s.aborted=!0,o.forEach(function(f){return f()})}},bq=e.unstable_scheduleCallback,_q=e.unstable_NormalPriority,Mt={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cm(){return{controller:new yq,data:new Map,refCount:0}}function Bl(o){o.refCount--,o.refCount===0&&bq(_q,function(){o.controller.abort()})}var $l=null,Mm=0,hs=0,ps=null;function Sq(o,s){if($l===null){var f=$l=[];Mm=0,hs=Ng(),ps={status:"pending",value:void 0,then:function(p){f.push(p)}}}return Mm++,s.then(YT,YT),s}function YT(){if(--Mm===0&&$l!==null){ps!==null&&(ps.status="fulfilled");var o=$l;$l=null,hs=0,ps=null;for(var s=0;s<o.length;s++)(0,o[s])()}}function Tq(o,s){var f=[],p={status:"pending",value:null,reason:null,then:function(b){f.push(b)}};return o.then(function(){p.status="fulfilled",p.value=s;for(var b=0;b<f.length;b++)(0,f[b])(s)},function(b){for(p.status="rejected",p.reason=b,b=0;b<f.length;b++)(0,f[b])(void 0)}),p}var WT=z.S;z.S=function(o,s){Iw=Ie(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Sq(o,s),WT!==null&&WT(o,s)};var uo=U(null);function Pm(){var o=uo.current;return o!==null?o:nt.pooledCache}function of(o,s){s===null?se(uo,uo.current):se(uo,s.pool)}function JT(){var o=Pm();return o===null?null:{parent:Mt._currentValue,pool:o}}var ms=Error(r(460)),Om=Error(r(474)),sf=Error(r(542)),lf={then:function(){}};function XT(o){return o=o.status,o==="fulfilled"||o==="rejected"}function QT(o,s,f){switch(f=o[f],f===void 0?o.push(s):f!==s&&(s.then(ui,ui),s=f),s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,eE(o),o;default:if(typeof s.status=="string")s.then(ui,ui);else{if(o=nt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=s,o.status="pending",o.then(function(p){if(s.status==="pending"){var b=s;b.status="fulfilled",b.value=p}},function(p){if(s.status==="pending"){var b=s;b.status="rejected",b.reason=p}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,eE(o),o}throw fo=s,ms}}function co(o){try{var s=o._init;return s(o._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(fo=f,ms):f}}var fo=null;function ZT(){if(fo===null)throw Error(r(459));var o=fo;return fo=null,o}function eE(o){if(o===ms||o===sf)throw Error(r(483))}var gs=null,Fl=0;function uf(o){var s=Fl;return Fl+=1,gs===null&&(gs=[]),QT(gs,o,s)}function Hl(o,s){s=s.props.ref,o.ref=s!==void 0?s:null}function cf(o,s){throw s.$$typeof===v?Error(r(525)):(o=Object.prototype.toString.call(s),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o)))}function tE(o){function s(j,q){if(o){var F=j.deletions;F===null?(j.deletions=[q],j.flags|=16):F.push(q)}}function f(j,q){if(!o)return null;for(;q!==null;)s(j,q),q=q.sibling;return null}function p(j){for(var q=new Map;j!==null;)j.key!==null?q.set(j.key,j):q.set(j.index,j),j=j.sibling;return q}function b(j,q){return j=fi(j,q),j.index=0,j.sibling=null,j}function S(j,q,F){return j.index=F,o?(F=j.alternate,F!==null?(F=F.index,F<q?(j.flags|=67108866,q):F):(j.flags|=67108866,q)):(j.flags|=1048576,q)}function C(j){return o&&j.alternate===null&&(j.flags|=67108866),j}function I(j,q,F,te){return q===null||q.tag!==6?(q=ym(F,j.mode,te),q.return=j,q):(q=b(q,F),q.return=j,q)}function L(j,q,F,te){var Se=F.type;return Se===E?Q(j,q,F.props.children,te,F.key):q!==null&&(q.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===B&&co(Se)===q.type)?(q=b(q,F.props),Hl(q,F),q.return=j,q):(q=tf(F.type,F.key,F.props,null,j.mode,te),Hl(q,F),q.return=j,q)}function H(j,q,F,te){return q===null||q.tag!==4||q.stateNode.containerInfo!==F.containerInfo||q.stateNode.implementation!==F.implementation?(q=bm(F,j.mode,te),q.return=j,q):(q=b(q,F.children||[]),q.return=j,q)}function Q(j,q,F,te,Se){return q===null||q.tag!==7?(q=ao(F,j.mode,te,Se),q.return=j,q):(q=b(q,F),q.return=j,q)}function re(j,q,F){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=ym(""+q,j.mode,F),q.return=j,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case _:return F=tf(q.type,q.key,q.props,null,j.mode,F),Hl(F,q),F.return=j,F;case T:return q=bm(q,j.mode,F),q.return=j,q;case B:return q=co(q),re(j,q,F)}if(be(q)||W(q))return q=ao(q,j.mode,F,null),q.return=j,q;if(typeof q.then=="function")return re(j,uf(q),F);if(q.$$typeof===P)return re(j,af(j,q),F);cf(j,q)}return null}function G(j,q,F,te){var Se=q!==null?q.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return Se!==null?null:I(j,q,""+F,te);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case _:return F.key===Se?L(j,q,F,te):null;case T:return F.key===Se?H(j,q,F,te):null;case B:return F=co(F),G(j,q,F,te)}if(be(F)||W(F))return Se!==null?null:Q(j,q,F,te,null);if(typeof F.then=="function")return G(j,q,uf(F),te);if(F.$$typeof===P)return G(j,q,af(j,F),te);cf(j,F)}return null}function Y(j,q,F,te,Se){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return j=j.get(F)||null,I(q,j,""+te,Se);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case _:return j=j.get(te.key===null?F:te.key)||null,L(q,j,te,Se);case T:return j=j.get(te.key===null?F:te.key)||null,H(q,j,te,Se);case B:return te=co(te),Y(j,q,F,te,Se)}if(be(te)||W(te))return j=j.get(F)||null,Q(q,j,te,Se,null);if(typeof te.then=="function")return Y(j,q,F,uf(te),Se);if(te.$$typeof===P)return Y(j,q,F,af(q,te),Se);cf(q,te)}return null}function ge(j,q,F,te){for(var Se=null,$e=null,ve=q,Ne=q=0,je=null;ve!==null&&Ne<F.length;Ne++){ve.index>Ne?(je=ve,ve=null):je=ve.sibling;var Fe=G(j,ve,F[Ne],te);if(Fe===null){ve===null&&(ve=je);break}o&&ve&&Fe.alternate===null&&s(j,ve),q=S(Fe,q,Ne),$e===null?Se=Fe:$e.sibling=Fe,$e=Fe,ve=je}if(Ne===F.length)return f(j,ve),Be&&di(j,Ne),Se;if(ve===null){for(;Ne<F.length;Ne++)ve=re(j,F[Ne],te),ve!==null&&(q=S(ve,q,Ne),$e===null?Se=ve:$e.sibling=ve,$e=ve);return Be&&di(j,Ne),Se}for(ve=p(ve);Ne<F.length;Ne++)je=Y(ve,j,Ne,F[Ne],te),je!==null&&(o&&je.alternate!==null&&ve.delete(je.key===null?Ne:je.key),q=S(je,q,Ne),$e===null?Se=je:$e.sibling=je,$e=je);return o&&ve.forEach(function(Oa){return s(j,Oa)}),Be&&di(j,Ne),Se}function Ae(j,q,F,te){if(F==null)throw Error(r(151));for(var Se=null,$e=null,ve=q,Ne=q=0,je=null,Fe=F.next();ve!==null&&!Fe.done;Ne++,Fe=F.next()){ve.index>Ne?(je=ve,ve=null):je=ve.sibling;var Oa=G(j,ve,Fe.value,te);if(Oa===null){ve===null&&(ve=je);break}o&&ve&&Oa.alternate===null&&s(j,ve),q=S(Oa,q,Ne),$e===null?Se=Oa:$e.sibling=Oa,$e=Oa,ve=je}if(Fe.done)return f(j,ve),Be&&di(j,Ne),Se;if(ve===null){for(;!Fe.done;Ne++,Fe=F.next())Fe=re(j,Fe.value,te),Fe!==null&&(q=S(Fe,q,Ne),$e===null?Se=Fe:$e.sibling=Fe,$e=Fe);return Be&&di(j,Ne),Se}for(ve=p(ve);!Fe.done;Ne++,Fe=F.next())Fe=Y(ve,j,Ne,Fe.value,te),Fe!==null&&(o&&Fe.alternate!==null&&ve.delete(Fe.key===null?Ne:Fe.key),q=S(Fe,q,Ne),$e===null?Se=Fe:$e.sibling=Fe,$e=Fe);return o&&ve.forEach(function(Dj){return s(j,Dj)}),Be&&di(j,Ne),Se}function et(j,q,F,te){if(typeof F=="object"&&F!==null&&F.type===E&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case _:e:{for(var Se=F.key;q!==null;){if(q.key===Se){if(Se=F.type,Se===E){if(q.tag===7){f(j,q.sibling),te=b(q,F.props.children),te.return=j,j=te;break e}}else if(q.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===B&&co(Se)===q.type){f(j,q.sibling),te=b(q,F.props),Hl(te,F),te.return=j,j=te;break e}f(j,q);break}else s(j,q);q=q.sibling}F.type===E?(te=ao(F.props.children,j.mode,te,F.key),te.return=j,j=te):(te=tf(F.type,F.key,F.props,null,j.mode,te),Hl(te,F),te.return=j,j=te)}return C(j);case T:e:{for(Se=F.key;q!==null;){if(q.key===Se)if(q.tag===4&&q.stateNode.containerInfo===F.containerInfo&&q.stateNode.implementation===F.implementation){f(j,q.sibling),te=b(q,F.children||[]),te.return=j,j=te;break e}else{f(j,q);break}else s(j,q);q=q.sibling}te=bm(F,j.mode,te),te.return=j,j=te}return C(j);case B:return F=co(F),et(j,q,F,te)}if(be(F))return ge(j,q,F,te);if(W(F)){if(Se=W(F),typeof Se!="function")throw Error(r(150));return F=Se.call(F),Ae(j,q,F,te)}if(typeof F.then=="function")return et(j,q,uf(F),te);if(F.$$typeof===P)return et(j,q,af(j,F),te);cf(j,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,q!==null&&q.tag===6?(f(j,q.sibling),te=b(q,F),te.return=j,j=te):(f(j,q),te=ym(F,j.mode,te),te.return=j,j=te),C(j)):f(j,q)}return function(j,q,F,te){try{Fl=0;var Se=et(j,q,F,te);return gs=null,Se}catch(ve){if(ve===ms||ve===sf)throw ve;var $e=Gn(29,ve,null,j.mode);return $e.lanes=te,$e.return=j,$e}finally{}}}var ho=tE(!0),nE=tE(!1),ha=!1;function Nm(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Im(o,s){o=o.updateQueue,s.updateQueue===o&&(s.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function pa(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function ma(o,s,f){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(Ve&2)!==0){var b=p.pending;return b===null?s.next=s:(s.next=b.next,b.next=s),p.pending=s,s=ef(o),jT(o,null,f),s}return Zc(o,p,s,f),ef(o)}function Gl(o,s,f){if(s=s.updateQueue,s!==null&&(s=s.shared,(f&4194048)!==0)){var p=s.lanes;p&=o.pendingLanes,f|=p,s.lanes=f,Fr(o,f)}}function Dm(o,s){var f=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,f===p)){var b=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var C={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};S===null?b=S=C:S=S.next=C,f=f.next}while(f!==null);S===null?b=S=s:S=S.next=s}else b=S=s;f={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:S,shared:p.shared,callbacks:p.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=s:o.next=s,f.lastBaseUpdate=s}var Rm=!1;function Vl(){if(Rm){var o=ps;if(o!==null)throw o}}function Kl(o,s,f,p){Rm=!1;var b=o.updateQueue;ha=!1;var S=b.firstBaseUpdate,C=b.lastBaseUpdate,I=b.shared.pending;if(I!==null){b.shared.pending=null;var L=I,H=L.next;L.next=null,C===null?S=H:C.next=H,C=L;var Q=o.alternate;Q!==null&&(Q=Q.updateQueue,I=Q.lastBaseUpdate,I!==C&&(I===null?Q.firstBaseUpdate=H:I.next=H,Q.lastBaseUpdate=L))}if(S!==null){var re=b.baseState;C=0,Q=H=L=null,I=S;do{var G=I.lane&-536870913,Y=G!==I.lane;if(Y?(qe&G)===G:(p&G)===G){G!==0&&G===hs&&(Rm=!0),Q!==null&&(Q=Q.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var ge=o,Ae=I;G=s;var et=f;switch(Ae.tag){case 1:if(ge=Ae.payload,typeof ge=="function"){re=ge.call(et,re,G);break e}re=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Ae.payload,G=typeof ge=="function"?ge.call(et,re,G):ge,G==null)break e;re=m({},re,G);break e;case 2:ha=!0}}G=I.callback,G!==null&&(o.flags|=64,Y&&(o.flags|=8192),Y=b.callbacks,Y===null?b.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:I.tag,payload:I.payload,callback:I.callback,next:null},Q===null?(H=Q=Y,L=re):Q=Q.next=Y,C|=G;if(I=I.next,I===null){if(I=b.shared.pending,I===null)break;Y=I,I=Y.next,Y.next=null,b.lastBaseUpdate=Y,b.shared.pending=null}}while(!0);Q===null&&(L=re),b.baseState=L,b.firstBaseUpdate=H,b.lastBaseUpdate=Q,S===null&&(b.shared.lanes=0),_a|=C,o.lanes=C,o.memoizedState=re}}function rE(o,s){if(typeof o!="function")throw Error(r(191,o));o.call(s)}function iE(o,s){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)rE(f[o],s)}var vs=U(null),ff=U(0);function aE(o,s){o=Ei,se(ff,o),se(vs,s),Ei=o|s.baseLanes}function km(){se(ff,Ei),se(vs,vs.current)}function Lm(){Ei=ff.current,J(vs),J(ff)}var Vn=U(null),fr=null;function ga(o){var s=o.alternate;se(Et,Et.current&1),se(Vn,o),fr===null&&(s===null||vs.current!==null||s.memoizedState!==null)&&(fr=o)}function Um(o){se(Et,Et.current),se(Vn,o),fr===null&&(fr=o)}function oE(o){o.tag===22?(se(Et,Et.current),se(Vn,o),fr===null&&(fr=o)):va()}function va(){se(Et,Et.current),se(Vn,Vn.current)}function Kn(o){J(Vn),fr===o&&(fr=null),J(Et)}var Et=U(0);function df(o){for(var s=o;s!==null;){if(s.tag===13){var f=s.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||Fg(f)||Hg(f)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var mi=0,Pe=null,Qe=null,Pt=null,hf=!1,ys=!1,po=!1,pf=0,Yl=0,bs=null,Eq=0;function bt(){throw Error(r(321))}function qm(o,s){if(s===null)return!1;for(var f=0;f<s.length&&f<o.length;f++)if(!Hn(o[f],s[f]))return!1;return!0}function jm(o,s,f,p,b,S){return mi=S,Pe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,z.H=o===null||o.memoizedState===null?FE:eg,po=!1,S=f(p,b),po=!1,ys&&(S=lE(s,f,p,b)),sE(o),S}function sE(o){z.H=Xl;var s=Qe!==null&&Qe.next!==null;if(mi=0,Pt=Qe=Pe=null,hf=!1,Yl=0,bs=null,s)throw Error(r(300));o===null||Ot||(o=o.dependencies,o!==null&&rf(o)&&(Ot=!0))}function lE(o,s,f,p){Pe=o;var b=0;do{if(ys&&(bs=null),Yl=0,ys=!1,25<=b)throw Error(r(301));if(b+=1,Pt=Qe=null,o.updateQueue!=null){var S=o.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}z.H=HE,S=s(f,p)}while(ys);return S}function wq(){var o=z.H,s=o.useState()[0];return s=typeof s.then=="function"?Wl(s):s,o=o.useState()[0],(Qe!==null?Qe.memoizedState:null)!==o&&(Pe.flags|=1024),s}function zm(){var o=pf!==0;return pf=0,o}function Bm(o,s,f){s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~f}function $m(o){if(hf){for(o=o.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}hf=!1}mi=0,Pt=Qe=Pe=null,ys=!1,Yl=pf=0,bs=null}function Tn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Pe.memoizedState=Pt=o:Pt=Pt.next=o,Pt}function wt(){if(Qe===null){var o=Pe.alternate;o=o!==null?o.memoizedState:null}else o=Qe.next;var s=Pt===null?Pe.memoizedState:Pt.next;if(s!==null)Pt=s,Qe=o;else{if(o===null)throw Pe.alternate===null?Error(r(467)):Error(r(310));Qe=o,o={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Pt===null?Pe.memoizedState=Pt=o:Pt=Pt.next=o}return Pt}function mf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wl(o){var s=Yl;return Yl+=1,bs===null&&(bs=[]),o=QT(bs,o,s),s=Pe,(Pt===null?s.memoizedState:Pt.next)===null&&(s=s.alternate,z.H=s===null||s.memoizedState===null?FE:eg),o}function gf(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Wl(o);if(o.$$typeof===P)return en(o)}throw Error(r(438,String(o)))}function Fm(o){var s=null,f=Pe.updateQueue;if(f!==null&&(s=f.memoCache),s==null){var p=Pe.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(s={data:p.data.map(function(b){return b.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),f===null&&(f=mf(),Pe.updateQueue=f),f.memoCache=s,f=s.data[s.index],f===void 0)for(f=s.data[s.index]=Array(o),p=0;p<o;p++)f[p]=oe;return s.index++,f}function gi(o,s){return typeof s=="function"?s(o):s}function vf(o){var s=wt();return Hm(s,Qe,o)}function Hm(o,s,f){var p=o.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=f;var b=o.baseQueue,S=p.pending;if(S!==null){if(b!==null){var C=b.next;b.next=S.next,S.next=C}s.baseQueue=b=S,p.pending=null}if(S=o.baseState,b===null)o.memoizedState=S;else{s=b.next;var I=C=null,L=null,H=s,Q=!1;do{var re=H.lane&-536870913;if(re!==H.lane?(qe&re)===re:(mi&re)===re){var G=H.revertLane;if(G===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),re===hs&&(Q=!0);else if((mi&G)===G){H=H.next,G===hs&&(Q=!0);continue}else re={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},L===null?(I=L=re,C=S):L=L.next=re,Pe.lanes|=G,_a|=G;re=H.action,po&&f(S,re),S=H.hasEagerState?H.eagerState:f(S,re)}else G={lane:re,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},L===null?(I=L=G,C=S):L=L.next=G,Pe.lanes|=re,_a|=re;H=H.next}while(H!==null&&H!==s);if(L===null?C=S:L.next=I,!Hn(S,o.memoizedState)&&(Ot=!0,Q&&(f=ps,f!==null)))throw f;o.memoizedState=S,o.baseState=C,o.baseQueue=L,p.lastRenderedState=S}return b===null&&(p.lanes=0),[o.memoizedState,p.dispatch]}function Gm(o){var s=wt(),f=s.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var p=f.dispatch,b=f.pending,S=s.memoizedState;if(b!==null){f.pending=null;var C=b=b.next;do S=o(S,C.action),C=C.next;while(C!==b);Hn(S,s.memoizedState)||(Ot=!0),s.memoizedState=S,s.baseQueue===null&&(s.baseState=S),f.lastRenderedState=S}return[S,p]}function uE(o,s,f){var p=Pe,b=wt(),S=Be;if(S){if(f===void 0)throw Error(r(407));f=f()}else f=s();var C=!Hn((Qe||b).memoizedState,f);if(C&&(b.memoizedState=f,Ot=!0),b=b.queue,Ym(dE.bind(null,p,b,o),[o]),b.getSnapshot!==s||C||Pt!==null&&Pt.memoizedState.tag&1){if(p.flags|=2048,_s(9,{destroy:void 0},fE.bind(null,p,b,f,s),null),nt===null)throw Error(r(349));S||(mi&127)!==0||cE(p,s,f)}return f}function cE(o,s,f){o.flags|=16384,o={getSnapshot:s,value:f},s=Pe.updateQueue,s===null?(s=mf(),Pe.updateQueue=s,s.stores=[o]):(f=s.stores,f===null?s.stores=[o]:f.push(o))}function fE(o,s,f,p){s.value=f,s.getSnapshot=p,hE(s)&&pE(o)}function dE(o,s,f){return f(function(){hE(s)&&pE(o)})}function hE(o){var s=o.getSnapshot;o=o.value;try{var f=s();return!Hn(o,f)}catch{return!0}}function pE(o){var s=io(o,2);s!==null&&kn(s,o,2)}function Vm(o){var s=Tn();if(typeof o=="function"){var f=o;if(o=f(),po){$r(!0);try{f()}finally{$r(!1)}}}return s.memoizedState=s.baseState=o,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:o},s}function mE(o,s,f,p){return o.baseState=f,Hm(o,Qe,typeof p=="function"?p:gi)}function xq(o,s,f,p,b){if(_f(o))throw Error(r(485));if(o=s.action,o!==null){var S={payload:b,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){S.listeners.push(C)}};z.T!==null?f(!0):S.isTransition=!1,p(S),f=s.pending,f===null?(S.next=s.pending=S,gE(s,S)):(S.next=f.next,s.pending=f.next=S)}}function gE(o,s){var f=s.action,p=s.payload,b=o.state;if(s.isTransition){var S=z.T,C={};z.T=C;try{var I=f(b,p),L=z.S;L!==null&&L(C,I),vE(o,s,I)}catch(H){Km(o,s,H)}finally{S!==null&&C.types!==null&&(S.types=C.types),z.T=S}}else try{S=f(b,p),vE(o,s,S)}catch(H){Km(o,s,H)}}function vE(o,s,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(p){yE(o,s,p)},function(p){return Km(o,s,p)}):yE(o,s,f)}function yE(o,s,f){s.status="fulfilled",s.value=f,bE(s),o.state=f,s=o.pending,s!==null&&(f=s.next,f===s?o.pending=null:(f=f.next,s.next=f,gE(o,f)))}function Km(o,s,f){var p=o.pending;if(o.pending=null,p!==null){p=p.next;do s.status="rejected",s.reason=f,bE(s),s=s.next;while(s!==p)}o.action=null}function bE(o){o=o.listeners;for(var s=0;s<o.length;s++)(0,o[s])()}function _E(o,s){return s}function SE(o,s){if(Be){var f=nt.formState;if(f!==null){e:{var p=Pe;if(Be){if(ot){t:{for(var b=ot,S=cr;b.nodeType!==8;){if(!S){b=null;break t}if(b=dr(b.nextSibling),b===null){b=null;break t}}S=b.data,b=S==="F!"||S==="F"?b:null}if(b){ot=dr(b.nextSibling),p=b.data==="F!";break e}}fa(p)}p=!1}p&&(s=f[0])}}return f=Tn(),f.memoizedState=f.baseState=s,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_E,lastRenderedState:s},f.queue=p,f=zE.bind(null,Pe,p),p.dispatch=f,p=Vm(!1),S=Zm.bind(null,Pe,!1,p.queue),p=Tn(),b={state:s,dispatch:null,action:o,pending:null},p.queue=b,f=xq.bind(null,Pe,b,S,f),b.dispatch=f,p.memoizedState=o,[s,f,!1]}function TE(o){var s=wt();return EE(s,Qe,o)}function EE(o,s,f){if(s=Hm(o,s,_E)[0],o=vf(gi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var p=Wl(s)}catch(C){throw C===ms?sf:C}else p=s;s=wt();var b=s.queue,S=b.dispatch;return f!==s.memoizedState&&(Pe.flags|=2048,_s(9,{destroy:void 0},Aq.bind(null,b,f),null)),[p,S,o]}function Aq(o,s){o.action=s}function wE(o){var s=wt(),f=Qe;if(f!==null)return EE(s,f,o);wt(),s=s.memoizedState,f=wt();var p=f.queue.dispatch;return f.memoizedState=o,[s,p,!1]}function _s(o,s,f,p){return o={tag:o,create:f,deps:p,inst:s,next:null},s=Pe.updateQueue,s===null&&(s=mf(),Pe.updateQueue=s),f=s.lastEffect,f===null?s.lastEffect=o.next=o:(p=f.next,f.next=o,o.next=p,s.lastEffect=o),o}function xE(){return wt().memoizedState}function yf(o,s,f,p){var b=Tn();Pe.flags|=o,b.memoizedState=_s(1|s,{destroy:void 0},f,p===void 0?null:p)}function bf(o,s,f,p){var b=wt();p=p===void 0?null:p;var S=b.memoizedState.inst;Qe!==null&&p!==null&&qm(p,Qe.memoizedState.deps)?b.memoizedState=_s(s,S,f,p):(Pe.flags|=o,b.memoizedState=_s(1|s,S,f,p))}function AE(o,s){yf(8390656,8,o,s)}function Ym(o,s){bf(2048,8,o,s)}function Cq(o){Pe.flags|=4;var s=Pe.updateQueue;if(s===null)s=mf(),Pe.updateQueue=s,s.events=[o];else{var f=s.events;f===null?s.events=[o]:f.push(o)}}function CE(o){var s=wt().memoizedState;return Cq({ref:s,nextImpl:o}),function(){if((Ve&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function ME(o,s){return bf(4,2,o,s)}function PE(o,s){return bf(4,4,o,s)}function OE(o,s){if(typeof s=="function"){o=o();var f=s(o);return function(){typeof f=="function"?f():s(null)}}if(s!=null)return o=o(),s.current=o,function(){s.current=null}}function NE(o,s,f){f=f!=null?f.concat([o]):null,bf(4,4,OE.bind(null,s,o),f)}function Wm(){}function IE(o,s){var f=wt();s=s===void 0?null:s;var p=f.memoizedState;return s!==null&&qm(s,p[1])?p[0]:(f.memoizedState=[o,s],o)}function DE(o,s){var f=wt();s=s===void 0?null:s;var p=f.memoizedState;if(s!==null&&qm(s,p[1]))return p[0];if(p=o(),po){$r(!0);try{o()}finally{$r(!1)}}return f.memoizedState=[p,s],p}function Jm(o,s,f){return f===void 0||(mi&1073741824)!==0&&(qe&261930)===0?o.memoizedState=s:(o.memoizedState=f,o=Rw(),Pe.lanes|=o,_a|=o,f)}function RE(o,s,f,p){return Hn(f,s)?f:vs.current!==null?(o=Jm(o,f,p),Hn(o,s)||(Ot=!0),o):(mi&42)===0||(mi&1073741824)!==0&&(qe&261930)===0?(Ot=!0,o.memoizedState=f):(o=Rw(),Pe.lanes|=o,_a|=o,s)}function kE(o,s,f,p,b){var S=ee.p;ee.p=S!==0&&8>S?S:8;var C=z.T,I={};z.T=I,Zm(o,!1,s,f);try{var L=b(),H=z.S;if(H!==null&&H(I,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var Q=Tq(L,p);Jl(o,s,Q,Jn(o))}else Jl(o,s,p,Jn(o))}catch(re){Jl(o,s,{then:function(){},status:"rejected",reason:re},Jn())}finally{ee.p=S,C!==null&&I.types!==null&&(C.types=I.types),z.T=C}}function Mq(){}function Xm(o,s,f,p){if(o.tag!==5)throw Error(r(476));var b=LE(o).queue;kE(o,b,s,le,f===null?Mq:function(){return UE(o),f(p)})}function LE(o){var s=o.memoizedState;if(s!==null)return s;s={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:le},next:null};var f={};return s.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:f},next:null},o.memoizedState=s,o=o.alternate,o!==null&&(o.memoizedState=s),s}function UE(o){var s=LE(o);s.next===null&&(s=o.alternate.memoizedState),Jl(o,s.next.queue,{},Jn())}function Qm(){return en(hu)}function qE(){return wt().memoizedState}function jE(){return wt().memoizedState}function Pq(o){for(var s=o.return;s!==null;){switch(s.tag){case 24:case 3:var f=Jn();o=pa(f);var p=ma(s,o,f);p!==null&&(kn(p,s,f),Gl(p,s,f)),s={cache:Cm()},o.payload=s;return}s=s.return}}function Oq(o,s,f){var p=Jn();f={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},_f(o)?BE(s,f):(f=gm(o,s,f,p),f!==null&&(kn(f,o,p),$E(f,s,p)))}function zE(o,s,f){var p=Jn();Jl(o,s,f,p)}function Jl(o,s,f,p){var b={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(_f(o))BE(s,b);else{var S=o.alternate;if(o.lanes===0&&(S===null||S.lanes===0)&&(S=s.lastRenderedReducer,S!==null))try{var C=s.lastRenderedState,I=S(C,f);if(b.hasEagerState=!0,b.eagerState=I,Hn(I,C))return Zc(o,s,b,0),nt===null&&Qc(),!1}catch{}finally{}if(f=gm(o,s,b,p),f!==null)return kn(f,o,p),$E(f,s,p),!0}return!1}function Zm(o,s,f,p){if(p={lane:2,revertLane:Ng(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},_f(o)){if(s)throw Error(r(479))}else s=gm(o,f,p,2),s!==null&&kn(s,o,2)}function _f(o){var s=o.alternate;return o===Pe||s!==null&&s===Pe}function BE(o,s){ys=hf=!0;var f=o.pending;f===null?s.next=s:(s.next=f.next,f.next=s),o.pending=s}function $E(o,s,f){if((f&4194048)!==0){var p=s.lanes;p&=o.pendingLanes,f|=p,s.lanes=f,Fr(o,f)}}var Xl={readContext:en,use:gf,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt};Xl.useEffectEvent=bt;var FE={readContext:en,use:gf,useCallback:function(o,s){return Tn().memoizedState=[o,s===void 0?null:s],o},useContext:en,useEffect:AE,useImperativeHandle:function(o,s,f){f=f!=null?f.concat([o]):null,yf(4194308,4,OE.bind(null,s,o),f)},useLayoutEffect:function(o,s){return yf(4194308,4,o,s)},useInsertionEffect:function(o,s){yf(4,2,o,s)},useMemo:function(o,s){var f=Tn();s=s===void 0?null:s;var p=o();if(po){$r(!0);try{o()}finally{$r(!1)}}return f.memoizedState=[p,s],p},useReducer:function(o,s,f){var p=Tn();if(f!==void 0){var b=f(s);if(po){$r(!0);try{f(s)}finally{$r(!1)}}}else b=s;return p.memoizedState=p.baseState=b,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:b},p.queue=o,o=o.dispatch=Oq.bind(null,Pe,o),[p.memoizedState,o]},useRef:function(o){var s=Tn();return o={current:o},s.memoizedState=o},useState:function(o){o=Vm(o);var s=o.queue,f=zE.bind(null,Pe,s);return s.dispatch=f,[o.memoizedState,f]},useDebugValue:Wm,useDeferredValue:function(o,s){var f=Tn();return Jm(f,o,s)},useTransition:function(){var o=Vm(!1);return o=kE.bind(null,Pe,o.queue,!0,!1),Tn().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,s,f){var p=Pe,b=Tn();if(Be){if(f===void 0)throw Error(r(407));f=f()}else{if(f=s(),nt===null)throw Error(r(349));(qe&127)!==0||cE(p,s,f)}b.memoizedState=f;var S={value:f,getSnapshot:s};return b.queue=S,AE(dE.bind(null,p,S,o),[o]),p.flags|=2048,_s(9,{destroy:void 0},fE.bind(null,p,S,f,s),null),f},useId:function(){var o=Tn(),s=nt.identifierPrefix;if(Be){var f=Gr,p=Hr;f=(p&~(1<<32-Sn(p)-1)).toString(32)+f,s="_"+s+"R_"+f,f=pf++,0<f&&(s+="H"+f.toString(32)),s+="_"}else f=Eq++,s="_"+s+"r_"+f.toString(32)+"_";return o.memoizedState=s},useHostTransitionStatus:Qm,useFormState:SE,useActionState:SE,useOptimistic:function(o){var s=Tn();s.memoizedState=s.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=f,s=Zm.bind(null,Pe,!0,f),f.dispatch=s,[o,s]},useMemoCache:Fm,useCacheRefresh:function(){return Tn().memoizedState=Pq.bind(null,Pe)},useEffectEvent:function(o){var s=Tn(),f={impl:o};return s.memoizedState=f,function(){if((Ve&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},eg={readContext:en,use:gf,useCallback:IE,useContext:en,useEffect:Ym,useImperativeHandle:NE,useInsertionEffect:ME,useLayoutEffect:PE,useMemo:DE,useReducer:vf,useRef:xE,useState:function(){return vf(gi)},useDebugValue:Wm,useDeferredValue:function(o,s){var f=wt();return RE(f,Qe.memoizedState,o,s)},useTransition:function(){var o=vf(gi)[0],s=wt().memoizedState;return[typeof o=="boolean"?o:Wl(o),s]},useSyncExternalStore:uE,useId:qE,useHostTransitionStatus:Qm,useFormState:TE,useActionState:TE,useOptimistic:function(o,s){var f=wt();return mE(f,Qe,o,s)},useMemoCache:Fm,useCacheRefresh:jE};eg.useEffectEvent=CE;var HE={readContext:en,use:gf,useCallback:IE,useContext:en,useEffect:Ym,useImperativeHandle:NE,useInsertionEffect:ME,useLayoutEffect:PE,useMemo:DE,useReducer:Gm,useRef:xE,useState:function(){return Gm(gi)},useDebugValue:Wm,useDeferredValue:function(o,s){var f=wt();return Qe===null?Jm(f,o,s):RE(f,Qe.memoizedState,o,s)},useTransition:function(){var o=Gm(gi)[0],s=wt().memoizedState;return[typeof o=="boolean"?o:Wl(o),s]},useSyncExternalStore:uE,useId:qE,useHostTransitionStatus:Qm,useFormState:wE,useActionState:wE,useOptimistic:function(o,s){var f=wt();return Qe!==null?mE(f,Qe,o,s):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:Fm,useCacheRefresh:jE};HE.useEffectEvent=CE;function tg(o,s,f,p){s=o.memoizedState,f=f(p,s),f=f==null?s:m({},s,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var ng={enqueueSetState:function(o,s,f){o=o._reactInternals;var p=Jn(),b=pa(p);b.payload=s,f!=null&&(b.callback=f),s=ma(o,b,p),s!==null&&(kn(s,o,p),Gl(s,o,p))},enqueueReplaceState:function(o,s,f){o=o._reactInternals;var p=Jn(),b=pa(p);b.tag=1,b.payload=s,f!=null&&(b.callback=f),s=ma(o,b,p),s!==null&&(kn(s,o,p),Gl(s,o,p))},enqueueForceUpdate:function(o,s){o=o._reactInternals;var f=Jn(),p=pa(f);p.tag=2,s!=null&&(p.callback=s),s=ma(o,p,f),s!==null&&(kn(s,o,f),Gl(s,o,f))}};function GE(o,s,f,p,b,S,C){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,S,C):s.prototype&&s.prototype.isPureReactComponent?!Ul(f,p)||!Ul(b,S):!0}function VE(o,s,f,p){o=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(f,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(f,p),s.state!==o&&ng.enqueueReplaceState(s,s.state,null)}function mo(o,s){var f=s;if("ref"in s){f={};for(var p in s)p!=="ref"&&(f[p]=s[p])}if(o=o.defaultProps){f===s&&(f=m({},f));for(var b in o)f[b]===void 0&&(f[b]=o[b])}return f}function KE(o){Xc(o)}function YE(o){console.error(o)}function WE(o){Xc(o)}function Sf(o,s){try{var f=o.onUncaughtError;f(s.value,{componentStack:s.stack})}catch(p){setTimeout(function(){throw p})}}function JE(o,s,f){try{var p=o.onCaughtError;p(f.value,{componentStack:f.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function rg(o,s,f){return f=pa(f),f.tag=3,f.payload={element:null},f.callback=function(){Sf(o,s)},f}function XE(o){return o=pa(o),o.tag=3,o}function QE(o,s,f,p){var b=f.type.getDerivedStateFromError;if(typeof b=="function"){var S=p.value;o.payload=function(){return b(S)},o.callback=function(){JE(s,f,p)}}var C=f.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(o.callback=function(){JE(s,f,p),typeof b!="function"&&(Sa===null?Sa=new Set([this]):Sa.add(this));var I=p.stack;this.componentDidCatch(p.value,{componentStack:I!==null?I:""})})}function Nq(o,s,f,p,b){if(f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(s=f.alternate,s!==null&&ds(s,f,b,!0),f=Vn.current,f!==null){switch(f.tag){case 31:case 13:return fr===null?Df():f.alternate===null&&_t===0&&(_t=3),f.flags&=-257,f.flags|=65536,f.lanes=b,p===lf?f.flags|=16384:(s=f.updateQueue,s===null?f.updateQueue=new Set([p]):s.add(p),Mg(o,p,b)),!1;case 22:return f.flags|=65536,p===lf?f.flags|=16384:(s=f.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([p])},f.updateQueue=s):(f=s.retryQueue,f===null?s.retryQueue=new Set([p]):f.add(p)),Mg(o,p,b)),!1}throw Error(r(435,f.tag))}return Mg(o,p,b),Df(),!1}if(Be)return s=Vn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=b,p!==Tm&&(o=Error(r(422),{cause:p}),zl(sr(o,f)))):(p!==Tm&&(s=Error(r(423),{cause:p}),zl(sr(s,f))),o=o.current.alternate,o.flags|=65536,b&=-b,o.lanes|=b,p=sr(p,f),b=rg(o.stateNode,p,b),Dm(o,b),_t!==4&&(_t=2)),!1;var S=Error(r(520),{cause:p});if(S=sr(S,f),au===null?au=[S]:au.push(S),_t!==4&&(_t=2),s===null)return!0;p=sr(p,f),f=s;do{switch(f.tag){case 3:return f.flags|=65536,o=b&-b,f.lanes|=o,o=rg(f.stateNode,p,o),Dm(f,o),!1;case 1:if(s=f.type,S=f.stateNode,(f.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Sa===null||!Sa.has(S))))return f.flags|=65536,b&=-b,f.lanes|=b,b=XE(b),QE(b,o,f,p),Dm(f,b),!1}f=f.return}while(f!==null);return!1}var ig=Error(r(461)),Ot=!1;function tn(o,s,f,p){s.child=o===null?nE(s,null,f,p):ho(s,o.child,f,p)}function ZE(o,s,f,p,b){f=f.render;var S=s.ref;if("ref"in p){var C={};for(var I in p)I!=="ref"&&(C[I]=p[I])}else C=p;return lo(s),p=jm(o,s,f,C,S,b),I=zm(),o!==null&&!Ot?(Bm(o,s,b),vi(o,s,b)):(Be&&I&&_m(s),s.flags|=1,tn(o,s,p,b),s.child)}function ew(o,s,f,p,b){if(o===null){var S=f.type;return typeof S=="function"&&!vm(S)&&S.defaultProps===void 0&&f.compare===null?(s.tag=15,s.type=S,tw(o,s,S,p,b)):(o=tf(f.type,null,p,s,s.mode,b),o.ref=s.ref,o.return=s,s.child=o)}if(S=o.child,!dg(o,b)){var C=S.memoizedProps;if(f=f.compare,f=f!==null?f:Ul,f(C,p)&&o.ref===s.ref)return vi(o,s,b)}return s.flags|=1,o=fi(S,p),o.ref=s.ref,o.return=s,s.child=o}function tw(o,s,f,p,b){if(o!==null){var S=o.memoizedProps;if(Ul(S,p)&&o.ref===s.ref)if(Ot=!1,s.pendingProps=p=S,dg(o,b))(o.flags&131072)!==0&&(Ot=!0);else return s.lanes=o.lanes,vi(o,s,b)}return ag(o,s,f,p,b)}function nw(o,s,f,p){var b=p.children,S=o!==null?o.memoizedState:null;if(o===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((s.flags&128)!==0){if(S=S!==null?S.baseLanes|f:f,o!==null){for(p=s.child=o.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;p=b&~S}else p=0,s.child=null;return rw(o,s,S,f,p)}if((f&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},o!==null&&of(s,S!==null?S.cachePool:null),S!==null?aE(s,S):km(),oE(s);else return p=s.lanes=536870912,rw(o,s,S!==null?S.baseLanes|f:f,f,p)}else S!==null?(of(s,S.cachePool),aE(s,S),va(),s.memoizedState=null):(o!==null&&of(s,null),km(),va());return tn(o,s,b,f),s.child}function Ql(o,s){return o!==null&&o.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function rw(o,s,f,p,b){var S=Pm();return S=S===null?null:{parent:Mt._currentValue,pool:S},s.memoizedState={baseLanes:f,cachePool:S},o!==null&&of(s,null),km(),oE(s),o!==null&&ds(o,s,p,!0),s.childLanes=b,null}function Tf(o,s){return s=wf({mode:s.mode,children:s.children},o.mode),s.ref=o.ref,o.child=s,s.return=o,s}function iw(o,s,f){return ho(s,o.child,null,f),o=Tf(s,s.pendingProps),o.flags|=2,Kn(s),s.memoizedState=null,o}function Iq(o,s,f){var p=s.pendingProps,b=(s.flags&128)!==0;if(s.flags&=-129,o===null){if(Be){if(p.mode==="hidden")return o=Tf(s,p),s.lanes=536870912,Ql(null,o);if(Um(s),(o=ot)?(o=gx(o,cr),o=o!==null&&o.data==="&"?o:null,o!==null&&(s.memoizedState={dehydrated:o,treeContext:ua!==null?{id:Hr,overflow:Gr}:null,retryLane:536870912,hydrationErrors:null},f=BT(o),f.return=s,s.child=f,Zt=s,ot=null)):o=null,o===null)throw fa(s);return s.lanes=536870912,null}return Tf(s,p)}var S=o.memoizedState;if(S!==null){var C=S.dehydrated;if(Um(s),b)if(s.flags&256)s.flags&=-257,s=iw(o,s,f);else if(s.memoizedState!==null)s.child=o.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ot||ds(o,s,f,!1),b=(f&o.childLanes)!==0,Ot||b){if(p=nt,p!==null&&(C=Za(p,f),C!==0&&C!==S.retryLane))throw S.retryLane=C,io(o,C),kn(p,o,C),ig;Df(),s=iw(o,s,f)}else o=S.treeContext,ot=dr(C.nextSibling),Zt=s,Be=!0,ca=null,cr=!1,o!==null&&HT(s,o),s=Tf(s,p),s.flags|=4096;return s}return o=fi(o.child,{mode:p.mode,children:p.children}),o.ref=s.ref,s.child=o,o.return=s,o}function Ef(o,s){var f=s.ref;if(f===null)o!==null&&o.ref!==null&&(s.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(o===null||o.ref!==f)&&(s.flags|=4194816)}}function ag(o,s,f,p,b){return lo(s),f=jm(o,s,f,p,void 0,b),p=zm(),o!==null&&!Ot?(Bm(o,s,b),vi(o,s,b)):(Be&&p&&_m(s),s.flags|=1,tn(o,s,f,b),s.child)}function aw(o,s,f,p,b,S){return lo(s),s.updateQueue=null,f=lE(s,p,f,b),sE(o),p=zm(),o!==null&&!Ot?(Bm(o,s,S),vi(o,s,S)):(Be&&p&&_m(s),s.flags|=1,tn(o,s,f,S),s.child)}function ow(o,s,f,p,b){if(lo(s),s.stateNode===null){var S=ls,C=f.contextType;typeof C=="object"&&C!==null&&(S=en(C)),S=new f(p,S),s.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=ng,s.stateNode=S,S._reactInternals=s,S=s.stateNode,S.props=p,S.state=s.memoizedState,S.refs={},Nm(s),C=f.contextType,S.context=typeof C=="object"&&C!==null?en(C):ls,S.state=s.memoizedState,C=f.getDerivedStateFromProps,typeof C=="function"&&(tg(s,f,C,p),S.state=s.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(C=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),C!==S.state&&ng.enqueueReplaceState(S,S.state,null),Kl(s,p,S,b),Vl(),S.state=s.memoizedState),typeof S.componentDidMount=="function"&&(s.flags|=4194308),p=!0}else if(o===null){S=s.stateNode;var I=s.memoizedProps,L=mo(f,I);S.props=L;var H=S.context,Q=f.contextType;C=ls,typeof Q=="object"&&Q!==null&&(C=en(Q));var re=f.getDerivedStateFromProps;Q=typeof re=="function"||typeof S.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,Q||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(I||H!==C)&&VE(s,S,p,C),ha=!1;var G=s.memoizedState;S.state=G,Kl(s,p,S,b),Vl(),H=s.memoizedState,I||G!==H||ha?(typeof re=="function"&&(tg(s,f,re,p),H=s.memoizedState),(L=ha||GE(s,f,L,p,G,H,C))?(Q||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(s.flags|=4194308)):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=H),S.props=p,S.state=H,S.context=C,p=L):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{S=s.stateNode,Im(o,s),C=s.memoizedProps,Q=mo(f,C),S.props=Q,re=s.pendingProps,G=S.context,H=f.contextType,L=ls,typeof H=="object"&&H!==null&&(L=en(H)),I=f.getDerivedStateFromProps,(H=typeof I=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(C!==re||G!==L)&&VE(s,S,p,L),ha=!1,G=s.memoizedState,S.state=G,Kl(s,p,S,b),Vl();var Y=s.memoizedState;C!==re||G!==Y||ha||o!==null&&o.dependencies!==null&&rf(o.dependencies)?(typeof I=="function"&&(tg(s,f,I,p),Y=s.memoizedState),(Q=ha||GE(s,f,Q,p,G,Y,L)||o!==null&&o.dependencies!==null&&rf(o.dependencies))?(H||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,Y,L),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,Y,L)),typeof S.componentDidUpdate=="function"&&(s.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof S.componentDidUpdate!="function"||C===o.memoizedProps&&G===o.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||C===o.memoizedProps&&G===o.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=Y),S.props=p,S.state=Y,S.context=L,p=Q):(typeof S.componentDidUpdate!="function"||C===o.memoizedProps&&G===o.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||C===o.memoizedProps&&G===o.memoizedState||(s.flags|=1024),p=!1)}return S=p,Ef(o,s),p=(s.flags&128)!==0,S||p?(S=s.stateNode,f=p&&typeof f.getDerivedStateFromError!="function"?null:S.render(),s.flags|=1,o!==null&&p?(s.child=ho(s,o.child,null,b),s.child=ho(s,null,f,b)):tn(o,s,f,b),s.memoizedState=S.state,o=s.child):o=vi(o,s,b),o}function sw(o,s,f,p){return oo(),s.flags|=256,tn(o,s,f,p),s.child}var og={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sg(o){return{baseLanes:o,cachePool:JT()}}function lg(o,s,f){return o=o!==null?o.childLanes&~f:0,s&&(o|=Wn),o}function lw(o,s,f){var p=s.pendingProps,b=!1,S=(s.flags&128)!==0,C;if((C=S)||(C=o!==null&&o.memoizedState===null?!1:(Et.current&2)!==0),C&&(b=!0,s.flags&=-129),C=(s.flags&32)!==0,s.flags&=-33,o===null){if(Be){if(b?ga(s):va(),(o=ot)?(o=gx(o,cr),o=o!==null&&o.data!=="&"?o:null,o!==null&&(s.memoizedState={dehydrated:o,treeContext:ua!==null?{id:Hr,overflow:Gr}:null,retryLane:536870912,hydrationErrors:null},f=BT(o),f.return=s,s.child=f,Zt=s,ot=null)):o=null,o===null)throw fa(s);return Hg(o)?s.lanes=32:s.lanes=536870912,null}var I=p.children;return p=p.fallback,b?(va(),b=s.mode,I=wf({mode:"hidden",children:I},b),p=ao(p,b,f,null),I.return=s,p.return=s,I.sibling=p,s.child=I,p=s.child,p.memoizedState=sg(f),p.childLanes=lg(o,C,f),s.memoizedState=og,Ql(null,p)):(ga(s),ug(s,I))}var L=o.memoizedState;if(L!==null&&(I=L.dehydrated,I!==null)){if(S)s.flags&256?(ga(s),s.flags&=-257,s=cg(o,s,f)):s.memoizedState!==null?(va(),s.child=o.child,s.flags|=128,s=null):(va(),I=p.fallback,b=s.mode,p=wf({mode:"visible",children:p.children},b),I=ao(I,b,f,null),I.flags|=2,p.return=s,I.return=s,p.sibling=I,s.child=p,ho(s,o.child,null,f),p=s.child,p.memoizedState=sg(f),p.childLanes=lg(o,C,f),s.memoizedState=og,s=Ql(null,p));else if(ga(s),Hg(I)){if(C=I.nextSibling&&I.nextSibling.dataset,C)var H=C.dgst;C=H,p=Error(r(419)),p.stack="",p.digest=C,zl({value:p,source:null,stack:null}),s=cg(o,s,f)}else if(Ot||ds(o,s,f,!1),C=(f&o.childLanes)!==0,Ot||C){if(C=nt,C!==null&&(p=Za(C,f),p!==0&&p!==L.retryLane))throw L.retryLane=p,io(o,p),kn(C,o,p),ig;Fg(I)||Df(),s=cg(o,s,f)}else Fg(I)?(s.flags|=192,s.child=o.child,s=null):(o=L.treeContext,ot=dr(I.nextSibling),Zt=s,Be=!0,ca=null,cr=!1,o!==null&&HT(s,o),s=ug(s,p.children),s.flags|=4096);return s}return b?(va(),I=p.fallback,b=s.mode,L=o.child,H=L.sibling,p=fi(L,{mode:"hidden",children:p.children}),p.subtreeFlags=L.subtreeFlags&65011712,H!==null?I=fi(H,I):(I=ao(I,b,f,null),I.flags|=2),I.return=s,p.return=s,p.sibling=I,s.child=p,Ql(null,p),p=s.child,I=o.child.memoizedState,I===null?I=sg(f):(b=I.cachePool,b!==null?(L=Mt._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=JT(),I={baseLanes:I.baseLanes|f,cachePool:b}),p.memoizedState=I,p.childLanes=lg(o,C,f),s.memoizedState=og,Ql(o.child,p)):(ga(s),f=o.child,o=f.sibling,f=fi(f,{mode:"visible",children:p.children}),f.return=s,f.sibling=null,o!==null&&(C=s.deletions,C===null?(s.deletions=[o],s.flags|=16):C.push(o)),s.child=f,s.memoizedState=null,f)}function ug(o,s){return s=wf({mode:"visible",children:s},o.mode),s.return=o,o.child=s}function wf(o,s){return o=Gn(22,o,null,s),o.lanes=0,o}function cg(o,s,f){return ho(s,o.child,null,f),o=ug(s,s.pendingProps.children),o.flags|=2,s.memoizedState=null,o}function uw(o,s,f){o.lanes|=s;var p=o.alternate;p!==null&&(p.lanes|=s),xm(o.return,s,f)}function fg(o,s,f,p,b,S){var C=o.memoizedState;C===null?o.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:f,tailMode:b,treeForkCount:S}:(C.isBackwards=s,C.rendering=null,C.renderingStartTime=0,C.last=p,C.tail=f,C.tailMode=b,C.treeForkCount=S)}function cw(o,s,f){var p=s.pendingProps,b=p.revealOrder,S=p.tail;p=p.children;var C=Et.current,I=(C&2)!==0;if(I?(C=C&1|2,s.flags|=128):C&=1,se(Et,C),tn(o,s,p,f),p=Be?jl:0,!I&&o!==null&&(o.flags&128)!==0)e:for(o=s.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&uw(o,f,s);else if(o.tag===19)uw(o,f,s);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(b){case"forwards":for(f=s.child,b=null;f!==null;)o=f.alternate,o!==null&&df(o)===null&&(b=f),f=f.sibling;f=b,f===null?(b=s.child,s.child=null):(b=f.sibling,f.sibling=null),fg(s,!1,b,f,S,p);break;case"backwards":case"unstable_legacy-backwards":for(f=null,b=s.child,s.child=null;b!==null;){if(o=b.alternate,o!==null&&df(o)===null){s.child=b;break}o=b.sibling,b.sibling=f,f=b,b=o}fg(s,!0,f,null,S,p);break;case"together":fg(s,!1,null,null,void 0,p);break;default:s.memoizedState=null}return s.child}function vi(o,s,f){if(o!==null&&(s.dependencies=o.dependencies),_a|=s.lanes,(f&s.childLanes)===0)if(o!==null){if(ds(o,s,f,!1),(f&s.childLanes)===0)return null}else return null;if(o!==null&&s.child!==o.child)throw Error(r(153));if(s.child!==null){for(o=s.child,f=fi(o,o.pendingProps),s.child=f,f.return=s;o.sibling!==null;)o=o.sibling,f=f.sibling=fi(o,o.pendingProps),f.return=s;f.sibling=null}return s.child}function dg(o,s){return(o.lanes&s)!==0?!0:(o=o.dependencies,!!(o!==null&&rf(o)))}function Dq(o,s,f){switch(s.tag){case 3:dt(s,s.stateNode.containerInfo),da(s,Mt,o.memoizedState.cache),oo();break;case 27:case 5:Ce(s);break;case 4:dt(s,s.stateNode.containerInfo);break;case 10:da(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Um(s),null;break;case 13:var p=s.memoizedState;if(p!==null)return p.dehydrated!==null?(ga(s),s.flags|=128,null):(f&s.child.childLanes)!==0?lw(o,s,f):(ga(s),o=vi(o,s,f),o!==null?o.sibling:null);ga(s);break;case 19:var b=(o.flags&128)!==0;if(p=(f&s.childLanes)!==0,p||(ds(o,s,f,!1),p=(f&s.childLanes)!==0),b){if(p)return cw(o,s,f);s.flags|=128}if(b=s.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),se(Et,Et.current),p)break;return null;case 22:return s.lanes=0,nw(o,s,f,s.pendingProps);case 24:da(s,Mt,o.memoizedState.cache)}return vi(o,s,f)}function fw(o,s,f){if(o!==null)if(o.memoizedProps!==s.pendingProps)Ot=!0;else{if(!dg(o,f)&&(s.flags&128)===0)return Ot=!1,Dq(o,s,f);Ot=(o.flags&131072)!==0}else Ot=!1,Be&&(s.flags&1048576)!==0&&FT(s,jl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var p=s.pendingProps;if(o=co(s.elementType),s.type=o,typeof o=="function")vm(o)?(p=mo(o,p),s.tag=1,s=ow(null,s,o,p,f)):(s.tag=0,s=ag(null,s,o,p,f));else{if(o!=null){var b=o.$$typeof;if(b===D){s.tag=11,s=ZE(null,s,o,p,f);break e}else if(b===k){s.tag=14,s=ew(null,s,o,p,f);break e}}throw s=pe(o)||o,Error(r(306,s,""))}}return s;case 0:return ag(o,s,s.type,s.pendingProps,f);case 1:return p=s.type,b=mo(p,s.pendingProps),ow(o,s,p,b,f);case 3:e:{if(dt(s,s.stateNode.containerInfo),o===null)throw Error(r(387));p=s.pendingProps;var S=s.memoizedState;b=S.element,Im(o,s),Kl(s,p,null,f);var C=s.memoizedState;if(p=C.cache,da(s,Mt,p),p!==S.cache&&Am(s,[Mt],f,!0),Vl(),p=C.element,S.isDehydrated)if(S={element:p,isDehydrated:!1,cache:C.cache},s.updateQueue.baseState=S,s.memoizedState=S,s.flags&256){s=sw(o,s,p,f);break e}else if(p!==b){b=sr(Error(r(424)),s),zl(b),s=sw(o,s,p,f);break e}else{switch(o=s.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(ot=dr(o.firstChild),Zt=s,Be=!0,ca=null,cr=!0,f=nE(s,null,p,f),s.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(oo(),p===b){s=vi(o,s,f);break e}tn(o,s,p,f)}s=s.child}return s;case 26:return Ef(o,s),o===null?(f=Tx(s.type,null,s.pendingProps,null))?s.memoizedState=f:Be||(f=s.type,o=s.pendingProps,p=zf(de.current).createElement(f),p[Qt]=s,p[Pn]=o,nn(p,f,o),Ft(p),s.stateNode=p):s.memoizedState=Tx(s.type,o.memoizedProps,s.pendingProps,o.memoizedState),null;case 27:return Ce(s),o===null&&Be&&(p=s.stateNode=bx(s.type,s.pendingProps,de.current),Zt=s,cr=!0,b=ot,xa(s.type)?(Gg=b,ot=dr(p.firstChild)):ot=b),tn(o,s,s.pendingProps.children,f),Ef(o,s),o===null&&(s.flags|=4194304),s.child;case 5:return o===null&&Be&&((b=p=ot)&&(p=uj(p,s.type,s.pendingProps,cr),p!==null?(s.stateNode=p,Zt=s,ot=dr(p.firstChild),cr=!1,b=!0):b=!1),b||fa(s)),Ce(s),b=s.type,S=s.pendingProps,C=o!==null?o.memoizedProps:null,p=S.children,zg(b,S)?p=null:C!==null&&zg(b,C)&&(s.flags|=32),s.memoizedState!==null&&(b=jm(o,s,wq,null,null,f),hu._currentValue=b),Ef(o,s),tn(o,s,p,f),s.child;case 6:return o===null&&Be&&((o=f=ot)&&(f=cj(f,s.pendingProps,cr),f!==null?(s.stateNode=f,Zt=s,ot=null,o=!0):o=!1),o||fa(s)),null;case 13:return lw(o,s,f);case 4:return dt(s,s.stateNode.containerInfo),p=s.pendingProps,o===null?s.child=ho(s,null,p,f):tn(o,s,p,f),s.child;case 11:return ZE(o,s,s.type,s.pendingProps,f);case 7:return tn(o,s,s.pendingProps,f),s.child;case 8:return tn(o,s,s.pendingProps.children,f),s.child;case 12:return tn(o,s,s.pendingProps.children,f),s.child;case 10:return p=s.pendingProps,da(s,s.type,p.value),tn(o,s,p.children,f),s.child;case 9:return b=s.type._context,p=s.pendingProps.children,lo(s),b=en(b),p=p(b),s.flags|=1,tn(o,s,p,f),s.child;case 14:return ew(o,s,s.type,s.pendingProps,f);case 15:return tw(o,s,s.type,s.pendingProps,f);case 19:return cw(o,s,f);case 31:return Iq(o,s,f);case 22:return nw(o,s,f,s.pendingProps);case 24:return lo(s),p=en(Mt),o===null?(b=Pm(),b===null&&(b=nt,S=Cm(),b.pooledCache=S,S.refCount++,S!==null&&(b.pooledCacheLanes|=f),b=S),s.memoizedState={parent:p,cache:b},Nm(s),da(s,Mt,b)):((o.lanes&f)!==0&&(Im(o,s),Kl(s,null,null,f),Vl()),b=o.memoizedState,S=s.memoizedState,b.parent!==p?(b={parent:p,cache:p},s.memoizedState=b,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=b),da(s,Mt,p)):(p=S.cache,da(s,Mt,p),p!==b.cache&&Am(s,[Mt],f,!0))),tn(o,s,s.pendingProps.children,f),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function yi(o){o.flags|=4}function hg(o,s,f,p,b){if((s=(o.mode&32)!==0)&&(s=!1),s){if(o.flags|=16777216,(b&335544128)===b)if(o.stateNode.complete)o.flags|=8192;else if(qw())o.flags|=8192;else throw fo=lf,Om}else o.flags&=-16777217}function dw(o,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!Cx(s))if(qw())o.flags|=8192;else throw fo=lf,Om}function xf(o,s){s!==null&&(o.flags|=4),o.flags&16384&&(s=o.tag!==22?$t():536870912,o.lanes|=s,ws|=s)}function Zl(o,s){if(!Be)switch(o.tailMode){case"hidden":s=o.tail;for(var f=null;s!==null;)s.alternate!==null&&(f=s),s=s.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?s||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function st(o){var s=o.alternate!==null&&o.alternate.child===o.child,f=0,p=0;if(s)for(var b=o.child;b!==null;)f|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=o,b=b.sibling;else for(b=o.child;b!==null;)f|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=o,b=b.sibling;return o.subtreeFlags|=p,o.childLanes=f,s}function Rq(o,s,f){var p=s.pendingProps;switch(Sm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(s),null;case 1:return st(s),null;case 3:return f=s.stateNode,p=null,o!==null&&(p=o.memoizedState.cache),s.memoizedState.cache!==p&&(s.flags|=2048),pi(Mt),Z(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(fs(s)?yi(s):o===null||o.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Em())),st(s),null;case 26:var b=s.type,S=s.memoizedState;return o===null?(yi(s),S!==null?(st(s),dw(s,S)):(st(s),hg(s,b,null,p,f))):S?S!==o.memoizedState?(yi(s),st(s),dw(s,S)):(st(s),s.flags&=-16777217):(o=o.memoizedProps,o!==p&&yi(s),st(s),hg(s,b,o,p,f)),null;case 27:if(Oe(s),f=de.current,b=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==p&&yi(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return st(s),null}o=ce.current,fs(s)?GT(s):(o=bx(b,p,f),s.stateNode=o,yi(s))}return st(s),null;case 5:if(Oe(s),b=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==p&&yi(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return st(s),null}if(S=ce.current,fs(s))GT(s);else{var C=zf(de.current);switch(S){case 1:S=C.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:S=C.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":S=C.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":S=C.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":S=C.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof p.is=="string"?C.createElement("select",{is:p.is}):C.createElement("select"),p.multiple?S.multiple=!0:p.size&&(S.size=p.size);break;default:S=typeof p.is=="string"?C.createElement(b,{is:p.is}):C.createElement(b)}}S[Qt]=s,S[Pn]=p;e:for(C=s.child;C!==null;){if(C.tag===5||C.tag===6)S.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===s)break e;for(;C.sibling===null;){if(C.return===null||C.return===s)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}s.stateNode=S;e:switch(nn(S,b,p),b){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&yi(s)}}return st(s),hg(s,s.type,o===null?null:o.memoizedProps,s.pendingProps,f),null;case 6:if(o&&s.stateNode!=null)o.memoizedProps!==p&&yi(s);else{if(typeof p!="string"&&s.stateNode===null)throw Error(r(166));if(o=de.current,fs(s)){if(o=s.stateNode,f=s.memoizedProps,p=null,b=Zt,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}o[Qt]=s,o=!!(o.nodeValue===f||p!==null&&p.suppressHydrationWarning===!0||lx(o.nodeValue,f)),o||fa(s,!0)}else o=zf(o).createTextNode(p),o[Qt]=s,s.stateNode=o}return st(s),null;case 31:if(f=s.memoizedState,o===null||o.memoizedState!==null){if(p=fs(s),f!==null){if(o===null){if(!p)throw Error(r(318));if(o=s.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[Qt]=s}else oo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;st(s),o=!1}else f=Em(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=f),o=!0;if(!o)return s.flags&256?(Kn(s),s):(Kn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return st(s),null;case 13:if(p=s.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(b=fs(s),p!==null&&p.dehydrated!==null){if(o===null){if(!b)throw Error(r(318));if(b=s.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[Qt]=s}else oo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;st(s),b=!1}else b=Em(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=b),b=!0;if(!b)return s.flags&256?(Kn(s),s):(Kn(s),null)}return Kn(s),(s.flags&128)!==0?(s.lanes=f,s):(f=p!==null,o=o!==null&&o.memoizedState!==null,f&&(p=s.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool),S=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),S!==b&&(p.flags|=2048)),f!==o&&f&&(s.child.flags|=8192),xf(s,s.updateQueue),st(s),null);case 4:return Z(),o===null&&kg(s.stateNode.containerInfo),st(s),null;case 10:return pi(s.type),st(s),null;case 19:if(J(Et),p=s.memoizedState,p===null)return st(s),null;if(b=(s.flags&128)!==0,S=p.rendering,S===null)if(b)Zl(p,!1);else{if(_t!==0||o!==null&&(o.flags&128)!==0)for(o=s.child;o!==null;){if(S=df(o),S!==null){for(s.flags|=128,Zl(p,!1),o=S.updateQueue,s.updateQueue=o,xf(s,o),s.subtreeFlags=0,o=f,f=s.child;f!==null;)zT(f,o),f=f.sibling;return se(Et,Et.current&1|2),Be&&di(s,p.treeForkCount),s.child}o=o.sibling}p.tail!==null&&Ie()>Of&&(s.flags|=128,b=!0,Zl(p,!1),s.lanes=4194304)}else{if(!b)if(o=df(S),o!==null){if(s.flags|=128,b=!0,o=o.updateQueue,s.updateQueue=o,xf(s,o),Zl(p,!0),p.tail===null&&p.tailMode==="hidden"&&!S.alternate&&!Be)return st(s),null}else 2*Ie()-p.renderingStartTime>Of&&f!==536870912&&(s.flags|=128,b=!0,Zl(p,!1),s.lanes=4194304);p.isBackwards?(S.sibling=s.child,s.child=S):(o=p.last,o!==null?o.sibling=S:s.child=S,p.last=S)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=Ie(),o.sibling=null,f=Et.current,se(Et,b?f&1|2:f&1),Be&&di(s,p.treeForkCount),o):(st(s),null);case 22:case 23:return Kn(s),Lm(),p=s.memoizedState!==null,o!==null?o.memoizedState!==null!==p&&(s.flags|=8192):p&&(s.flags|=8192),p?(f&536870912)!==0&&(s.flags&128)===0&&(st(s),s.subtreeFlags&6&&(s.flags|=8192)):st(s),f=s.updateQueue,f!==null&&xf(s,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==f&&(s.flags|=2048),o!==null&&J(uo),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),pi(Mt),st(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function kq(o,s){switch(Sm(s),s.tag){case 1:return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 3:return pi(Mt),Z(),o=s.flags,(o&65536)!==0&&(o&128)===0?(s.flags=o&-65537|128,s):null;case 26:case 27:case 5:return Oe(s),null;case 31:if(s.memoizedState!==null){if(Kn(s),s.alternate===null)throw Error(r(340));oo()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 13:if(Kn(s),o=s.memoizedState,o!==null&&o.dehydrated!==null){if(s.alternate===null)throw Error(r(340));oo()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 19:return J(Et),null;case 4:return Z(),null;case 10:return pi(s.type),null;case 22:case 23:return Kn(s),Lm(),o!==null&&J(uo),o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 24:return pi(Mt),null;case 25:return null;default:return null}}function hw(o,s){switch(Sm(s),s.tag){case 3:pi(Mt),Z();break;case 26:case 27:case 5:Oe(s);break;case 4:Z();break;case 31:s.memoizedState!==null&&Kn(s);break;case 13:Kn(s);break;case 19:J(Et);break;case 10:pi(s.type);break;case 22:case 23:Kn(s),Lm(),o!==null&&J(uo);break;case 24:pi(Mt)}}function eu(o,s){try{var f=s.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var b=p.next;f=b;do{if((f.tag&o)===o){p=void 0;var S=f.create,C=f.inst;p=S(),C.destroy=p}f=f.next}while(f!==b)}}catch(I){We(s,s.return,I)}}function ya(o,s,f){try{var p=s.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var S=b.next;p=S;do{if((p.tag&o)===o){var C=p.inst,I=C.destroy;if(I!==void 0){C.destroy=void 0,b=s;var L=f,H=I;try{H()}catch(Q){We(b,L,Q)}}}p=p.next}while(p!==S)}}catch(Q){We(s,s.return,Q)}}function pw(o){var s=o.updateQueue;if(s!==null){var f=o.stateNode;try{iE(s,f)}catch(p){We(o,o.return,p)}}}function mw(o,s,f){f.props=mo(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(p){We(o,s,p)}}function tu(o,s){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var p=o.stateNode;break;case 30:p=o.stateNode;break;default:p=o.stateNode}typeof f=="function"?o.refCleanup=f(p):f.current=p}}catch(b){We(o,s,b)}}function Vr(o,s){var f=o.ref,p=o.refCleanup;if(f!==null)if(typeof p=="function")try{p()}catch(b){We(o,s,b)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(b){We(o,s,b)}else f.current=null}function gw(o){var s=o.type,f=o.memoizedProps,p=o.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":f.autoFocus&&p.focus();break e;case"img":f.src?p.src=f.src:f.srcSet&&(p.srcset=f.srcSet)}}catch(b){We(o,o.return,b)}}function pg(o,s,f){try{var p=o.stateNode;rj(p,o.type,f,s),p[Pn]=s}catch(b){We(o,o.return,b)}}function vw(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&xa(o.type)||o.tag===4}function mg(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||vw(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&xa(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function gg(o,s,f){var p=o.tag;if(p===5||p===6)o=o.stateNode,s?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,s):(s=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,s.appendChild(o),f=f._reactRootContainer,f!=null||s.onclick!==null||(s.onclick=ui));else if(p!==4&&(p===27&&xa(o.type)&&(f=o.stateNode,s=null),o=o.child,o!==null))for(gg(o,s,f),o=o.sibling;o!==null;)gg(o,s,f),o=o.sibling}function Af(o,s,f){var p=o.tag;if(p===5||p===6)o=o.stateNode,s?f.insertBefore(o,s):f.appendChild(o);else if(p!==4&&(p===27&&xa(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(Af(o,s,f),o=o.sibling;o!==null;)Af(o,s,f),o=o.sibling}function yw(o){var s=o.stateNode,f=o.memoizedProps;try{for(var p=o.type,b=s.attributes;b.length;)s.removeAttributeNode(b[0]);nn(s,p,f),s[Qt]=o,s[Pn]=f}catch(S){We(o,o.return,S)}}var bi=!1,Nt=!1,vg=!1,bw=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function Lq(o,s){if(o=o.containerInfo,qg=Kf,o=NT(o),cm(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var p=f.getSelection&&f.getSelection();if(p&&p.rangeCount!==0){f=p.anchorNode;var b=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var C=0,I=-1,L=-1,H=0,Q=0,re=o,G=null;t:for(;;){for(var Y;re!==f||b!==0&&re.nodeType!==3||(I=C+b),re!==S||p!==0&&re.nodeType!==3||(L=C+p),re.nodeType===3&&(C+=re.nodeValue.length),(Y=re.firstChild)!==null;)G=re,re=Y;for(;;){if(re===o)break t;if(G===f&&++H===b&&(I=C),G===S&&++Q===p&&(L=C),(Y=re.nextSibling)!==null)break;re=G,G=re.parentNode}re=Y}f=I===-1||L===-1?null:{start:I,end:L}}else f=null}f=f||{start:0,end:0}}else f=null;for(jg={focusedElem:o,selectionRange:f},Kf=!1,Ht=s;Ht!==null;)if(s=Ht,o=s.child,(s.subtreeFlags&1028)!==0&&o!==null)o.return=s,Ht=o;else for(;Ht!==null;){switch(s=Ht,S=s.alternate,o=s.flags,s.tag){case 0:if((o&4)!==0&&(o=s.updateQueue,o=o!==null?o.events:null,o!==null))for(f=0;f<o.length;f++)b=o[f],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&S!==null){o=void 0,f=s,b=S.memoizedProps,S=S.memoizedState,p=f.stateNode;try{var ge=mo(f.type,b);o=p.getSnapshotBeforeUpdate(ge,S),p.__reactInternalSnapshotBeforeUpdate=o}catch(Ae){We(f,f.return,Ae)}}break;case 3:if((o&1024)!==0){if(o=s.stateNode.containerInfo,f=o.nodeType,f===9)$g(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":$g(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=s.sibling,o!==null){o.return=s.return,Ht=o;break}Ht=s.return}}function _w(o,s,f){var p=f.flags;switch(f.tag){case 0:case 11:case 15:Si(o,f),p&4&&eu(5,f);break;case 1:if(Si(o,f),p&4)if(o=f.stateNode,s===null)try{o.componentDidMount()}catch(C){We(f,f.return,C)}else{var b=mo(f.type,s.memoizedProps);s=s.memoizedState;try{o.componentDidUpdate(b,s,o.__reactInternalSnapshotBeforeUpdate)}catch(C){We(f,f.return,C)}}p&64&&pw(f),p&512&&tu(f,f.return);break;case 3:if(Si(o,f),p&64&&(o=f.updateQueue,o!==null)){if(s=null,f.child!==null)switch(f.child.tag){case 27:case 5:s=f.child.stateNode;break;case 1:s=f.child.stateNode}try{iE(o,s)}catch(C){We(f,f.return,C)}}break;case 27:s===null&&p&4&&yw(f);case 26:case 5:Si(o,f),s===null&&p&4&&gw(f),p&512&&tu(f,f.return);break;case 12:Si(o,f);break;case 31:Si(o,f),p&4&&Ew(o,f);break;case 13:Si(o,f),p&4&&ww(o,f),p&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=Gq.bind(null,f),fj(o,f))));break;case 22:if(p=f.memoizedState!==null||bi,!p){s=s!==null&&s.memoizedState!==null||Nt,b=bi;var S=Nt;bi=p,(Nt=s)&&!S?Ti(o,f,(f.subtreeFlags&8772)!==0):Si(o,f),bi=b,Nt=S}break;case 30:break;default:Si(o,f)}}function Sw(o){var s=o.alternate;s!==null&&(o.alternate=null,Sw(s)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(s=o.stateNode,s!==null&&Kp(s)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var ht=null,Nn=!1;function _i(o,s,f){for(f=f.child;f!==null;)Tw(o,s,f),f=f.sibling}function Tw(o,s,f){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(Xa,f)}catch{}switch(f.tag){case 26:Nt||Vr(f,s),_i(o,s,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Nt||Vr(f,s);var p=ht,b=Nn;xa(f.type)&&(ht=f.stateNode,Nn=!1),_i(o,s,f),cu(f.stateNode),ht=p,Nn=b;break;case 5:Nt||Vr(f,s);case 6:if(p=ht,b=Nn,ht=null,_i(o,s,f),ht=p,Nn=b,ht!==null)if(Nn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(f.stateNode)}catch(S){We(f,s,S)}else try{ht.removeChild(f.stateNode)}catch(S){We(f,s,S)}break;case 18:ht!==null&&(Nn?(o=ht,px(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),Is(o)):px(ht,f.stateNode));break;case 4:p=ht,b=Nn,ht=f.stateNode.containerInfo,Nn=!0,_i(o,s,f),ht=p,Nn=b;break;case 0:case 11:case 14:case 15:ya(2,f,s),Nt||ya(4,f,s),_i(o,s,f);break;case 1:Nt||(Vr(f,s),p=f.stateNode,typeof p.componentWillUnmount=="function"&&mw(f,s,p)),_i(o,s,f);break;case 21:_i(o,s,f);break;case 22:Nt=(p=Nt)||f.memoizedState!==null,_i(o,s,f),Nt=p;break;default:_i(o,s,f)}}function Ew(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Is(o)}catch(f){We(s,s.return,f)}}}function ww(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Is(o)}catch(f){We(s,s.return,f)}}function Uq(o){switch(o.tag){case 31:case 13:case 19:var s=o.stateNode;return s===null&&(s=o.stateNode=new bw),s;case 22:return o=o.stateNode,s=o._retryCache,s===null&&(s=o._retryCache=new bw),s;default:throw Error(r(435,o.tag))}}function Cf(o,s){var f=Uq(o);s.forEach(function(p){if(!f.has(p)){f.add(p);var b=Vq.bind(null,o,p);p.then(b,b)}})}function In(o,s){var f=s.deletions;if(f!==null)for(var p=0;p<f.length;p++){var b=f[p],S=o,C=s,I=C;e:for(;I!==null;){switch(I.tag){case 27:if(xa(I.type)){ht=I.stateNode,Nn=!1;break e}break;case 5:ht=I.stateNode,Nn=!1;break e;case 3:case 4:ht=I.stateNode.containerInfo,Nn=!0;break e}I=I.return}if(ht===null)throw Error(r(160));Tw(S,C,b),ht=null,Nn=!1,S=b.alternate,S!==null&&(S.return=null),b.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)xw(s,o),s=s.sibling}var Pr=null;function xw(o,s){var f=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:In(s,o),Dn(o),p&4&&(ya(3,o,o.return),eu(3,o),ya(5,o,o.return));break;case 1:In(s,o),Dn(o),p&512&&(Nt||f===null||Vr(f,f.return)),p&64&&bi&&(o=o.updateQueue,o!==null&&(p=o.callbacks,p!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?p:f.concat(p))));break;case 26:var b=Pr;if(In(s,o),Dn(o),p&512&&(Nt||f===null||Vr(f,f.return)),p&4){var S=f!==null?f.memoizedState:null;if(p=o.memoizedState,f===null)if(p===null)if(o.stateNode===null){e:{p=o.type,f=o.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":S=b.getElementsByTagName("title")[0],(!S||S[Ml]||S[Qt]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=b.createElement(p),b.head.insertBefore(S,b.querySelector("head > title"))),nn(S,p,f),S[Qt]=o,Ft(S),p=S;break e;case"link":var C=xx("link","href",b).get(p+(f.href||""));if(C){for(var I=0;I<C.length;I++)if(S=C[I],S.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&S.getAttribute("rel")===(f.rel==null?null:f.rel)&&S.getAttribute("title")===(f.title==null?null:f.title)&&S.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){C.splice(I,1);break t}}S=b.createElement(p),nn(S,p,f),b.head.appendChild(S);break;case"meta":if(C=xx("meta","content",b).get(p+(f.content||""))){for(I=0;I<C.length;I++)if(S=C[I],S.getAttribute("content")===(f.content==null?null:""+f.content)&&S.getAttribute("name")===(f.name==null?null:f.name)&&S.getAttribute("property")===(f.property==null?null:f.property)&&S.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&S.getAttribute("charset")===(f.charSet==null?null:f.charSet)){C.splice(I,1);break t}}S=b.createElement(p),nn(S,p,f),b.head.appendChild(S);break;default:throw Error(r(468,p))}S[Qt]=o,Ft(S),p=S}o.stateNode=p}else Ax(b,o.type,o.stateNode);else o.stateNode=wx(b,p,o.memoizedProps);else S!==p?(S===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):S.count--,p===null?Ax(b,o.type,o.stateNode):wx(b,p,o.memoizedProps)):p===null&&o.stateNode!==null&&pg(o,o.memoizedProps,f.memoizedProps)}break;case 27:In(s,o),Dn(o),p&512&&(Nt||f===null||Vr(f,f.return)),f!==null&&p&4&&pg(o,o.memoizedProps,f.memoizedProps);break;case 5:if(In(s,o),Dn(o),p&512&&(Nt||f===null||Vr(f,f.return)),o.flags&32){b=o.stateNode;try{ts(b,"")}catch(ge){We(o,o.return,ge)}}p&4&&o.stateNode!=null&&(b=o.memoizedProps,pg(o,b,f!==null?f.memoizedProps:b)),p&1024&&(vg=!0);break;case 6:if(In(s,o),Dn(o),p&4){if(o.stateNode===null)throw Error(r(162));p=o.memoizedProps,f=o.stateNode;try{f.nodeValue=p}catch(ge){We(o,o.return,ge)}}break;case 3:if(Ff=null,b=Pr,Pr=Bf(s.containerInfo),In(s,o),Pr=b,Dn(o),p&4&&f!==null&&f.memoizedState.isDehydrated)try{Is(s.containerInfo)}catch(ge){We(o,o.return,ge)}vg&&(vg=!1,Aw(o));break;case 4:p=Pr,Pr=Bf(o.stateNode.containerInfo),In(s,o),Dn(o),Pr=p;break;case 12:In(s,o),Dn(o);break;case 31:In(s,o),Dn(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Cf(o,p)));break;case 13:In(s,o),Dn(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Pf=Ie()),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Cf(o,p)));break;case 22:b=o.memoizedState!==null;var L=f!==null&&f.memoizedState!==null,H=bi,Q=Nt;if(bi=H||b,Nt=Q||L,In(s,o),Nt=Q,bi=H,Dn(o),p&8192)e:for(s=o.stateNode,s._visibility=b?s._visibility&-2:s._visibility|1,b&&(f===null||L||bi||Nt||go(o)),f=null,s=o;;){if(s.tag===5||s.tag===26){if(f===null){L=f=s;try{if(S=L.stateNode,b)C=S.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{I=L.stateNode;var re=L.memoizedProps.style,G=re!=null&&re.hasOwnProperty("display")?re.display:null;I.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ge){We(L,L.return,ge)}}}else if(s.tag===6){if(f===null){L=s;try{L.stateNode.nodeValue=b?"":L.memoizedProps}catch(ge){We(L,L.return,ge)}}}else if(s.tag===18){if(f===null){L=s;try{var Y=L.stateNode;b?mx(Y,!0):mx(L.stateNode,!1)}catch(ge){We(L,L.return,ge)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===o)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;f===s&&(f=null),s=s.return}f===s&&(f=null),s.sibling.return=s.return,s=s.sibling}p&4&&(p=o.updateQueue,p!==null&&(f=p.retryQueue,f!==null&&(p.retryQueue=null,Cf(o,f))));break;case 19:In(s,o),Dn(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Cf(o,p)));break;case 30:break;case 21:break;default:In(s,o),Dn(o)}}function Dn(o){var s=o.flags;if(s&2){try{for(var f,p=o.return;p!==null;){if(vw(p)){f=p;break}p=p.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var b=f.stateNode,S=mg(o);Af(o,S,b);break;case 5:var C=f.stateNode;f.flags&32&&(ts(C,""),f.flags&=-33);var I=mg(o);Af(o,I,C);break;case 3:case 4:var L=f.stateNode.containerInfo,H=mg(o);gg(o,H,L);break;default:throw Error(r(161))}}catch(Q){We(o,o.return,Q)}o.flags&=-3}s&4096&&(o.flags&=-4097)}function Aw(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var s=o;Aw(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),o=o.sibling}}function Si(o,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)_w(o,s.alternate,s),s=s.sibling}function go(o){for(o=o.child;o!==null;){var s=o;switch(s.tag){case 0:case 11:case 14:case 15:ya(4,s,s.return),go(s);break;case 1:Vr(s,s.return);var f=s.stateNode;typeof f.componentWillUnmount=="function"&&mw(s,s.return,f),go(s);break;case 27:cu(s.stateNode);case 26:case 5:Vr(s,s.return),go(s);break;case 22:s.memoizedState===null&&go(s);break;case 30:go(s);break;default:go(s)}o=o.sibling}}function Ti(o,s,f){for(f=f&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var p=s.alternate,b=o,S=s,C=S.flags;switch(S.tag){case 0:case 11:case 15:Ti(b,S,f),eu(4,S);break;case 1:if(Ti(b,S,f),p=S,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(H){We(p,p.return,H)}if(p=S,b=p.updateQueue,b!==null){var I=p.stateNode;try{var L=b.shared.hiddenCallbacks;if(L!==null)for(b.shared.hiddenCallbacks=null,b=0;b<L.length;b++)rE(L[b],I)}catch(H){We(p,p.return,H)}}f&&C&64&&pw(S),tu(S,S.return);break;case 27:yw(S);case 26:case 5:Ti(b,S,f),f&&p===null&&C&4&&gw(S),tu(S,S.return);break;case 12:Ti(b,S,f);break;case 31:Ti(b,S,f),f&&C&4&&Ew(b,S);break;case 13:Ti(b,S,f),f&&C&4&&ww(b,S);break;case 22:S.memoizedState===null&&Ti(b,S,f),tu(S,S.return);break;case 30:break;default:Ti(b,S,f)}s=s.sibling}}function yg(o,s){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&Bl(f))}function bg(o,s){o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&Bl(o))}function Or(o,s,f,p){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Cw(o,s,f,p),s=s.sibling}function Cw(o,s,f,p){var b=s.flags;switch(s.tag){case 0:case 11:case 15:Or(o,s,f,p),b&2048&&eu(9,s);break;case 1:Or(o,s,f,p);break;case 3:Or(o,s,f,p),b&2048&&(o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&Bl(o)));break;case 12:if(b&2048){Or(o,s,f,p),o=s.stateNode;try{var S=s.memoizedProps,C=S.id,I=S.onPostCommit;typeof I=="function"&&I(C,s.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(L){We(s,s.return,L)}}else Or(o,s,f,p);break;case 31:Or(o,s,f,p);break;case 13:Or(o,s,f,p);break;case 23:break;case 22:S=s.stateNode,C=s.alternate,s.memoizedState!==null?S._visibility&2?Or(o,s,f,p):nu(o,s):S._visibility&2?Or(o,s,f,p):(S._visibility|=2,Ss(o,s,f,p,(s.subtreeFlags&10256)!==0||!1)),b&2048&&yg(C,s);break;case 24:Or(o,s,f,p),b&2048&&bg(s.alternate,s);break;default:Or(o,s,f,p)}}function Ss(o,s,f,p,b){for(b=b&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var S=o,C=s,I=f,L=p,H=C.flags;switch(C.tag){case 0:case 11:case 15:Ss(S,C,I,L,b),eu(8,C);break;case 23:break;case 22:var Q=C.stateNode;C.memoizedState!==null?Q._visibility&2?Ss(S,C,I,L,b):nu(S,C):(Q._visibility|=2,Ss(S,C,I,L,b)),b&&H&2048&&yg(C.alternate,C);break;case 24:Ss(S,C,I,L,b),b&&H&2048&&bg(C.alternate,C);break;default:Ss(S,C,I,L,b)}s=s.sibling}}function nu(o,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var f=o,p=s,b=p.flags;switch(p.tag){case 22:nu(f,p),b&2048&&yg(p.alternate,p);break;case 24:nu(f,p),b&2048&&bg(p.alternate,p);break;default:nu(f,p)}s=s.sibling}}var ru=8192;function Ts(o,s,f){if(o.subtreeFlags&ru)for(o=o.child;o!==null;)Mw(o,s,f),o=o.sibling}function Mw(o,s,f){switch(o.tag){case 26:Ts(o,s,f),o.flags&ru&&o.memoizedState!==null&&Ej(f,Pr,o.memoizedState,o.memoizedProps);break;case 5:Ts(o,s,f);break;case 3:case 4:var p=Pr;Pr=Bf(o.stateNode.containerInfo),Ts(o,s,f),Pr=p;break;case 22:o.memoizedState===null&&(p=o.alternate,p!==null&&p.memoizedState!==null?(p=ru,ru=16777216,Ts(o,s,f),ru=p):Ts(o,s,f));break;default:Ts(o,s,f)}}function Pw(o){var s=o.alternate;if(s!==null&&(o=s.child,o!==null)){s.child=null;do s=o.sibling,o.sibling=null,o=s;while(o!==null)}}function iu(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var f=0;f<s.length;f++){var p=s[f];Ht=p,Nw(p,o)}Pw(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Ow(o),o=o.sibling}function Ow(o){switch(o.tag){case 0:case 11:case 15:iu(o),o.flags&2048&&ya(9,o,o.return);break;case 3:iu(o);break;case 12:iu(o);break;case 22:var s=o.stateNode;o.memoizedState!==null&&s._visibility&2&&(o.return===null||o.return.tag!==13)?(s._visibility&=-3,Mf(o)):iu(o);break;default:iu(o)}}function Mf(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var f=0;f<s.length;f++){var p=s[f];Ht=p,Nw(p,o)}Pw(o)}for(o=o.child;o!==null;){switch(s=o,s.tag){case 0:case 11:case 15:ya(8,s,s.return),Mf(s);break;case 22:f=s.stateNode,f._visibility&2&&(f._visibility&=-3,Mf(s));break;default:Mf(s)}o=o.sibling}}function Nw(o,s){for(;Ht!==null;){var f=Ht;switch(f.tag){case 0:case 11:case 15:ya(8,f,s);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var p=f.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Bl(f.memoizedState.cache)}if(p=f.child,p!==null)p.return=f,Ht=p;else e:for(f=o;Ht!==null;){p=Ht;var b=p.sibling,S=p.return;if(Sw(p),p===f){Ht=null;break e}if(b!==null){b.return=S,Ht=b;break e}Ht=S}}}var qq={getCacheForType:function(o){var s=en(Mt),f=s.data.get(o);return f===void 0&&(f=o(),s.data.set(o,f)),f},cacheSignal:function(){return en(Mt).controller.signal}},jq=typeof WeakMap=="function"?WeakMap:Map,Ve=0,nt=null,ke=null,qe=0,Ye=0,Yn=null,ba=!1,Es=!1,_g=!1,Ei=0,_t=0,_a=0,vo=0,Sg=0,Wn=0,ws=0,au=null,Rn=null,Tg=!1,Pf=0,Iw=0,Of=1/0,Nf=null,Sa=null,kt=0,Ta=null,xs=null,wi=0,Eg=0,wg=null,Dw=null,ou=0,xg=null;function Jn(){return(Ve&2)!==0&&qe!==0?qe&-qe:z.T!==null?Ng():WS()}function Rw(){if(Wn===0)if((qe&536870912)===0||Be){var o=Cl;Cl<<=1,(Cl&3932160)===0&&(Cl=262144),Wn=o}else Wn=536870912;return o=Vn.current,o!==null&&(o.flags|=32),Wn}function kn(o,s,f){(o===nt&&(Ye===2||Ye===9)||o.cancelPendingCommit!==null)&&(As(o,0),Ea(o,qe,Wn,!1)),si(o,f),((Ve&2)===0||o!==nt)&&(o===nt&&((Ve&2)===0&&(vo|=f),_t===4&&Ea(o,qe,Wn,!1)),Kr(o))}function kw(o,s,f){if((Ve&6)!==0)throw Error(r(327));var p=!f&&(s&127)===0&&(s&o.expiredLanes)===0||Re(o,s),b=p?$q(o,s):Cg(o,s,!0),S=p;do{if(b===0){Es&&!p&&Ea(o,s,0,!1);break}else{if(f=o.current.alternate,S&&!zq(f)){b=Cg(o,s,!1),S=!1;continue}if(b===2){if(S=s,o.errorRecoveryDisabledLanes&S)var C=0;else C=o.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){s=C;e:{var I=o;b=au;var L=I.current.memoizedState.isDehydrated;if(L&&(As(I,C).flags|=256),C=Cg(I,C,!1),C!==2){if(_g&&!L){I.errorRecoveryDisabledLanes|=S,vo|=S,b=4;break e}S=Rn,Rn=b,S!==null&&(Rn===null?Rn=S:Rn.push.apply(Rn,S))}b=C}if(S=!1,b!==2)continue}}if(b===1){As(o,0),Ea(o,s,0,!0);break}e:{switch(p=o,S=b,S){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ea(p,s,Wn,!ba);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(b=Pf+300-Ie(),10<b)){if(Ea(p,s,Wn,!ba),xe(p,0,!0)!==0)break e;wi=s,p.timeoutHandle=dx(Lw.bind(null,p,f,Rn,Nf,Tg,s,Wn,vo,ws,ba,S,"Throttled",-0,0),b);break e}Lw(p,f,Rn,Nf,Tg,s,Wn,vo,ws,ba,S,null,-0,0)}}break}while(!0);Kr(o)}function Lw(o,s,f,p,b,S,C,I,L,H,Q,re,G,Y){if(o.timeoutHandle=-1,re=s.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ui},Mw(s,S,re);var ge=(S&62914560)===S?Pf-Ie():(S&4194048)===S?Iw-Ie():0;if(ge=wj(re,ge),ge!==null){wi=S,o.cancelPendingCommit=ge(Hw.bind(null,o,s,S,f,p,b,C,I,L,Q,re,null,G,Y)),Ea(o,S,C,!H);return}}Hw(o,s,S,f,p,b,C,I,L)}function zq(o){for(var s=o;;){var f=s.tag;if((f===0||f===11||f===15)&&s.flags&16384&&(f=s.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var p=0;p<f.length;p++){var b=f[p],S=b.getSnapshot;b=b.value;try{if(!Hn(S(),b))return!1}catch{return!1}}if(f=s.child,s.subtreeFlags&16384&&f!==null)f.return=s,s=f;else{if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ea(o,s,f,p){s&=~Sg,s&=~vo,o.suspendedLanes|=s,o.pingedLanes&=~s,p&&(o.warmLanes|=s),p=o.expirationTimes;for(var b=s;0<b;){var S=31-Sn(b),C=1<<S;p[S]=-1,b&=~C}f!==0&&zc(o,f,s)}function If(){return(Ve&6)===0?(su(0),!1):!0}function Ag(){if(ke!==null){if(Ye===0)var o=ke.return;else o=ke,hi=so=null,$m(o),gs=null,Fl=0,o=ke;for(;o!==null;)hw(o.alternate,o),o=o.return;ke=null}}function As(o,s){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,oj(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),wi=0,Ag(),nt=o,ke=f=fi(o.current,null),qe=s,Ye=0,Yn=null,ba=!1,Es=Re(o,s),_g=!1,ws=Wn=Sg=vo=_a=_t=0,Rn=au=null,Tg=!1,(s&8)!==0&&(s|=s&32);var p=o.entangledLanes;if(p!==0)for(o=o.entanglements,p&=s;0<p;){var b=31-Sn(p),S=1<<b;s|=o[b],p&=~S}return Ei=s,Qc(),f}function Uw(o,s){Pe=null,z.H=Xl,s===ms||s===sf?(s=ZT(),Ye=3):s===Om?(s=ZT(),Ye=4):Ye=s===ig?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Yn=s,ke===null&&(_t=1,Sf(o,sr(s,o.current)))}function qw(){var o=Vn.current;return o===null?!0:(qe&4194048)===qe?fr===null:(qe&62914560)===qe||(qe&536870912)!==0?o===fr:!1}function jw(){var o=z.H;return z.H=Xl,o===null?Xl:o}function zw(){var o=z.A;return z.A=qq,o}function Df(){_t=4,ba||(qe&4194048)!==qe&&Vn.current!==null||(Es=!0),(_a&134217727)===0&&(vo&134217727)===0||nt===null||Ea(nt,qe,Wn,!1)}function Cg(o,s,f){var p=Ve;Ve|=2;var b=jw(),S=zw();(nt!==o||qe!==s)&&(Nf=null,As(o,s)),s=!1;var C=_t;e:do try{if(Ye!==0&&ke!==null){var I=ke,L=Yn;switch(Ye){case 8:Ag(),C=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(s=!0);var H=Ye;if(Ye=0,Yn=null,Cs(o,I,L,H),f&&Es){C=0;break e}break;default:H=Ye,Ye=0,Yn=null,Cs(o,I,L,H)}}Bq(),C=_t;break}catch(Q){Uw(o,Q)}while(!0);return s&&o.shellSuspendCounter++,hi=so=null,Ve=p,z.H=b,z.A=S,ke===null&&(nt=null,qe=0,Qc()),C}function Bq(){for(;ke!==null;)Bw(ke)}function $q(o,s){var f=Ve;Ve|=2;var p=jw(),b=zw();nt!==o||qe!==s?(Nf=null,Of=Ie()+500,As(o,s)):Es=Re(o,s);e:do try{if(Ye!==0&&ke!==null){s=ke;var S=Yn;t:switch(Ye){case 1:Ye=0,Yn=null,Cs(o,s,S,1);break;case 2:case 9:if(XT(S)){Ye=0,Yn=null,$w(s);break}s=function(){Ye!==2&&Ye!==9||nt!==o||(Ye=7),Kr(o)},S.then(s,s);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:XT(S)?(Ye=0,Yn=null,$w(s)):(Ye=0,Yn=null,Cs(o,s,S,7));break;case 5:var C=null;switch(ke.tag){case 26:C=ke.memoizedState;case 5:case 27:var I=ke;if(C?Cx(C):I.stateNode.complete){Ye=0,Yn=null;var L=I.sibling;if(L!==null)ke=L;else{var H=I.return;H!==null?(ke=H,Rf(H)):ke=null}break t}}Ye=0,Yn=null,Cs(o,s,S,5);break;case 6:Ye=0,Yn=null,Cs(o,s,S,6);break;case 8:Ag(),_t=6;break e;default:throw Error(r(462))}}Fq();break}catch(Q){Uw(o,Q)}while(!0);return hi=so=null,z.H=p,z.A=b,Ve=f,ke!==null?0:(nt=null,qe=0,Qc(),_t)}function Fq(){for(;ke!==null&&!Go();)Bw(ke)}function Bw(o){var s=fw(o.alternate,o,Ei);o.memoizedProps=o.pendingProps,s===null?Rf(o):ke=s}function $w(o){var s=o,f=s.alternate;switch(s.tag){case 15:case 0:s=aw(f,s,s.pendingProps,s.type,void 0,qe);break;case 11:s=aw(f,s,s.pendingProps,s.type.render,s.ref,qe);break;case 5:$m(s);default:hw(f,s),s=ke=zT(s,Ei),s=fw(f,s,Ei)}o.memoizedProps=o.pendingProps,s===null?Rf(o):ke=s}function Cs(o,s,f,p){hi=so=null,$m(s),gs=null,Fl=0;var b=s.return;try{if(Nq(o,b,s,f,qe)){_t=1,Sf(o,sr(f,o.current)),ke=null;return}}catch(S){if(b!==null)throw ke=b,S;_t=1,Sf(o,sr(f,o.current)),ke=null;return}s.flags&32768?(Be||p===1?o=!0:Es||(qe&536870912)!==0?o=!1:(ba=o=!0,(p===2||p===9||p===3||p===6)&&(p=Vn.current,p!==null&&p.tag===13&&(p.flags|=16384))),Fw(s,o)):Rf(s)}function Rf(o){var s=o;do{if((s.flags&32768)!==0){Fw(s,ba);return}o=s.return;var f=Rq(s.alternate,s,Ei);if(f!==null){ke=f;return}if(s=s.sibling,s!==null){ke=s;return}ke=s=o}while(s!==null);_t===0&&(_t=5)}function Fw(o,s){do{var f=kq(o.alternate,o);if(f!==null){f.flags&=32767,ke=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!s&&(o=o.sibling,o!==null)){ke=o;return}ke=o=f}while(o!==null);_t=6,ke=null}function Hw(o,s,f,p,b,S,C,I,L){o.cancelPendingCommit=null;do kf();while(kt!==0);if((Ve&6)!==0)throw Error(r(327));if(s!==null){if(s===o.current)throw Error(r(177));if(S=s.lanes|s.childLanes,S|=mm,Qa(o,f,S,C,I,L),o===nt&&(ke=nt=null,qe=0),xs=s,Ta=o,wi=f,Eg=S,wg=b,Dw=p,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,Kq(Vo,function(){return Ww(),null})):(o.callbackNode=null,o.callbackPriority=0),p=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||p){p=z.T,z.T=null,b=ee.p,ee.p=2,C=Ve,Ve|=4;try{Lq(o,s,f)}finally{Ve=C,ee.p=b,z.T=p}}kt=1,Gw(),Vw(),Kw()}}function Gw(){if(kt===1){kt=0;var o=Ta,s=xs,f=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||f){f=z.T,z.T=null;var p=ee.p;ee.p=2;var b=Ve;Ve|=4;try{xw(s,o);var S=jg,C=NT(o.containerInfo),I=S.focusedElem,L=S.selectionRange;if(C!==I&&I&&I.ownerDocument&&OT(I.ownerDocument.documentElement,I)){if(L!==null&&cm(I)){var H=L.start,Q=L.end;if(Q===void 0&&(Q=H),"selectionStart"in I)I.selectionStart=H,I.selectionEnd=Math.min(Q,I.value.length);else{var re=I.ownerDocument||document,G=re&&re.defaultView||window;if(G.getSelection){var Y=G.getSelection(),ge=I.textContent.length,Ae=Math.min(L.start,ge),et=L.end===void 0?Ae:Math.min(L.end,ge);!Y.extend&&Ae>et&&(C=et,et=Ae,Ae=C);var j=PT(I,Ae),q=PT(I,et);if(j&&q&&(Y.rangeCount!==1||Y.anchorNode!==j.node||Y.anchorOffset!==j.offset||Y.focusNode!==q.node||Y.focusOffset!==q.offset)){var F=re.createRange();F.setStart(j.node,j.offset),Y.removeAllRanges(),Ae>et?(Y.addRange(F),Y.extend(q.node,q.offset)):(F.setEnd(q.node,q.offset),Y.addRange(F))}}}}for(re=[],Y=I;Y=Y.parentNode;)Y.nodeType===1&&re.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<re.length;I++){var te=re[I];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Kf=!!qg,jg=qg=null}finally{Ve=b,ee.p=p,z.T=f}}o.current=s,kt=2}}function Vw(){if(kt===2){kt=0;var o=Ta,s=xs,f=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||f){f=z.T,z.T=null;var p=ee.p;ee.p=2;var b=Ve;Ve|=4;try{_w(o,s.alternate,s)}finally{Ve=b,ee.p=p,z.T=f}}kt=3}}function Kw(){if(kt===4||kt===3){kt=0,ne();var o=Ta,s=xs,f=wi,p=Dw;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?kt=5:(kt=0,xs=Ta=null,Yw(o,o.pendingLanes));var b=o.pendingLanes;if(b===0&&(Sa=null),Gp(f),s=s.stateNode,_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(Xa,s,void 0,(s.current.flags&128)===128)}catch{}if(p!==null){s=z.T,b=ee.p,ee.p=2,z.T=null;try{for(var S=o.onRecoverableError,C=0;C<p.length;C++){var I=p[C];S(I.value,{componentStack:I.stack})}}finally{z.T=s,ee.p=b}}(wi&3)!==0&&kf(),Kr(o),b=o.pendingLanes,(f&261930)!==0&&(b&42)!==0?o===xg?ou++:(ou=0,xg=o):ou=0,su(0)}}function Yw(o,s){(o.pooledCacheLanes&=s)===0&&(s=o.pooledCache,s!=null&&(o.pooledCache=null,Bl(s)))}function kf(){return Gw(),Vw(),Kw(),Ww()}function Ww(){if(kt!==5)return!1;var o=Ta,s=Eg;Eg=0;var f=Gp(wi),p=z.T,b=ee.p;try{ee.p=32>f?32:f,z.T=null,f=wg,wg=null;var S=Ta,C=wi;if(kt=0,xs=Ta=null,wi=0,(Ve&6)!==0)throw Error(r(331));var I=Ve;if(Ve|=4,Ow(S.current),Cw(S,S.current,C,f),Ve=I,su(0,!1),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(Xa,S)}catch{}return!0}finally{ee.p=b,z.T=p,Yw(o,s)}}function Jw(o,s,f){s=sr(f,s),s=rg(o.stateNode,s,2),o=ma(o,s,2),o!==null&&(si(o,2),Kr(o))}function We(o,s,f){if(o.tag===3)Jw(o,o,f);else for(;s!==null;){if(s.tag===3){Jw(s,o,f);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Sa===null||!Sa.has(p))){o=sr(f,o),f=XE(2),p=ma(s,f,2),p!==null&&(QE(f,p,s,o),si(p,2),Kr(p));break}}s=s.return}}function Mg(o,s,f){var p=o.pingCache;if(p===null){p=o.pingCache=new jq;var b=new Set;p.set(s,b)}else b=p.get(s),b===void 0&&(b=new Set,p.set(s,b));b.has(f)||(_g=!0,b.add(f),o=Hq.bind(null,o,s,f),s.then(o,o))}function Hq(o,s,f){var p=o.pingCache;p!==null&&p.delete(s),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,nt===o&&(qe&f)===f&&(_t===4||_t===3&&(qe&62914560)===qe&&300>Ie()-Pf?(Ve&2)===0&&As(o,0):Sg|=f,ws===qe&&(ws=0)),Kr(o)}function Xw(o,s){s===0&&(s=$t()),o=io(o,s),o!==null&&(si(o,s),Kr(o))}function Gq(o){var s=o.memoizedState,f=0;s!==null&&(f=s.retryLane),Xw(o,f)}function Vq(o,s){var f=0;switch(o.tag){case 31:case 13:var p=o.stateNode,b=o.memoizedState;b!==null&&(f=b.retryLane);break;case 19:p=o.stateNode;break;case 22:p=o.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(s),Xw(o,f)}function Kq(o,s){return bn(o,s)}var Lf=null,Ms=null,Pg=!1,Uf=!1,Og=!1,wa=0;function Kr(o){o!==Ms&&o.next===null&&(Ms===null?Lf=Ms=o:Ms=Ms.next=o),Uf=!0,Pg||(Pg=!0,Wq())}function su(o,s){if(!Og&&Uf){Og=!0;do for(var f=!1,p=Lf;p!==null;){if(o!==0){var b=p.pendingLanes;if(b===0)var S=0;else{var C=p.suspendedLanes,I=p.pingedLanes;S=(1<<31-Sn(42|o)+1)-1,S&=b&~(C&~I),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(f=!0,tx(p,S))}else S=qe,S=xe(p,p===nt?S:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(S&3)===0||Re(p,S)||(f=!0,tx(p,S));p=p.next}while(f);Og=!1}}function Yq(){Qw()}function Qw(){Uf=Pg=!1;var o=0;wa!==0&&aj()&&(o=wa);for(var s=Ie(),f=null,p=Lf;p!==null;){var b=p.next,S=Zw(p,s);S===0?(p.next=null,f===null?Lf=b:f.next=b,b===null&&(Ms=f)):(f=p,(o!==0||(S&3)!==0)&&(Uf=!0)),p=b}kt!==0&&kt!==5||su(o),wa!==0&&(wa=0)}function Zw(o,s){for(var f=o.suspendedLanes,p=o.pingedLanes,b=o.expirationTimes,S=o.pendingLanes&-62914561;0<S;){var C=31-Sn(S),I=1<<C,L=b[C];L===-1?((I&f)===0||(I&p)!==0)&&(b[C]=at(I,s)):L<=s&&(o.expiredLanes|=I),S&=~I}if(s=nt,f=qe,f=xe(o,o===s?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p=o.callbackNode,f===0||o===s&&(Ye===2||Ye===9)||o.cancelPendingCommit!==null)return p!==null&&p!==null&&Wa(p),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||Re(o,f)){if(s=f&-f,s===o.callbackPriority)return s;switch(p!==null&&Wa(p),Gp(f)){case 2:case 8:f=Uc;break;case 32:f=Vo;break;case 268435456:f=qc;break;default:f=Vo}return p=ex.bind(null,o),f=bn(f,p),o.callbackPriority=s,o.callbackNode=f,s}return p!==null&&p!==null&&Wa(p),o.callbackPriority=2,o.callbackNode=null,2}function ex(o,s){if(kt!==0&&kt!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(kf()&&o.callbackNode!==f)return null;var p=qe;return p=xe(o,o===nt?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p===0?null:(kw(o,p,s),Zw(o,Ie()),o.callbackNode!=null&&o.callbackNode===f?ex.bind(null,o):null)}function tx(o,s){if(kf())return null;kw(o,s,!0)}function Wq(){sj(function(){(Ve&6)!==0?bn(Ja,Yq):Qw()})}function Ng(){if(wa===0){var o=hs;o===0&&(o=Ko,Ko<<=1,(Ko&261888)===0&&(Ko=256)),wa=o}return wa}function nx(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Hc(""+o)}function rx(o,s){var f=s.ownerDocument.createElement("input");return f.name=s.name,f.value=s.value,o.id&&f.setAttribute("form",o.id),s.parentNode.insertBefore(f,s),o=new FormData(o),f.parentNode.removeChild(f),o}function Jq(o,s,f,p,b){if(s==="submit"&&f&&f.stateNode===b){var S=nx((b[Pn]||null).action),C=p.submitter;C&&(s=(s=C[Pn]||null)?nx(s.formAction):C.getAttribute("formAction"),s!==null&&(S=s,C=null));var I=new Yc("action","action",null,p,b);o.push({event:I,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(wa!==0){var L=C?rx(b,C):new FormData(b);Xm(f,{pending:!0,data:L,method:b.method,action:S},null,L)}}else typeof S=="function"&&(I.preventDefault(),L=C?rx(b,C):new FormData(b),Xm(f,{pending:!0,data:L,method:b.method,action:S},S,L))},currentTarget:b}]})}}for(var Ig=0;Ig<pm.length;Ig++){var Dg=pm[Ig],Xq=Dg.toLowerCase(),Qq=Dg[0].toUpperCase()+Dg.slice(1);Mr(Xq,"on"+Qq)}Mr(RT,"onAnimationEnd"),Mr(kT,"onAnimationIteration"),Mr(LT,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(pq,"onTransitionRun"),Mr(mq,"onTransitionStart"),Mr(gq,"onTransitionCancel"),Mr(UT,"onTransitionEnd"),Zo("onMouseEnter",["mouseout","mouseover"]),Zo("onMouseLeave",["mouseout","mouseover"]),Zo("onPointerEnter",["pointerout","pointerover"]),Zo("onPointerLeave",["pointerout","pointerover"]),eo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),eo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),eo("onBeforeInput",["compositionend","keypress","textInput","paste"]),eo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),eo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),eo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zq=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lu));function ix(o,s){s=(s&4)!==0;for(var f=0;f<o.length;f++){var p=o[f],b=p.event;p=p.listeners;e:{var S=void 0;if(s)for(var C=p.length-1;0<=C;C--){var I=p[C],L=I.instance,H=I.currentTarget;if(I=I.listener,L!==S&&b.isPropagationStopped())break e;S=I,b.currentTarget=H;try{S(b)}catch(Q){Xc(Q)}b.currentTarget=null,S=L}else for(C=0;C<p.length;C++){if(I=p[C],L=I.instance,H=I.currentTarget,I=I.listener,L!==S&&b.isPropagationStopped())break e;S=I,b.currentTarget=H;try{S(b)}catch(Q){Xc(Q)}b.currentTarget=null,S=L}}}}function Le(o,s){var f=s[Vp];f===void 0&&(f=s[Vp]=new Set);var p=o+"__bubble";f.has(p)||(ax(s,o,2,!1),f.add(p))}function Rg(o,s,f){var p=0;s&&(p|=4),ax(f,o,p,s)}var qf="_reactListening"+Math.random().toString(36).slice(2);function kg(o){if(!o[qf]){o[qf]=!0,QS.forEach(function(f){f!=="selectionchange"&&(Zq.has(f)||Rg(f,!1,o),Rg(f,!0,o))});var s=o.nodeType===9?o:o.ownerDocument;s===null||s[qf]||(s[qf]=!0,Rg("selectionchange",!1,s))}}function ax(o,s,f,p){switch(Rx(s)){case 2:var b=Cj;break;case 8:b=Mj;break;default:b=Jg}f=b.bind(null,s,f,o),b=void 0,!tm||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(b=!0),p?b!==void 0?o.addEventListener(s,f,{capture:!0,passive:b}):o.addEventListener(s,f,!0):b!==void 0?o.addEventListener(s,f,{passive:b}):o.addEventListener(s,f,!1)}function Lg(o,s,f,p,b){var S=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var C=p.tag;if(C===3||C===4){var I=p.stateNode.containerInfo;if(I===b)break;if(C===4)for(C=p.return;C!==null;){var L=C.tag;if((L===3||L===4)&&C.stateNode.containerInfo===b)return;C=C.return}for(;I!==null;){if(C=Jo(I),C===null)return;if(L=C.tag,L===5||L===6||L===26||L===27){p=S=C;continue e}I=I.parentNode}}p=p.return}cT(function(){var H=S,Q=Zp(f),re=[];e:{var G=qT.get(o);if(G!==void 0){var Y=Yc,ge=o;switch(o){case"keypress":if(Vc(f)===0)break e;case"keydown":case"keyup":Y=VU;break;case"focusin":ge="focus",Y=am;break;case"focusout":ge="blur",Y=am;break;case"beforeblur":case"afterblur":Y=am;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=hT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=RU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=WU;break;case RT:case kT:case LT:Y=UU;break;case UT:Y=XU;break;case"scroll":case"scrollend":Y=IU;break;case"wheel":Y=ZU;break;case"copy":case"cut":case"paste":Y=jU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=mT;break;case"toggle":case"beforetoggle":Y=tq}var Ae=(s&4)!==0,et=!Ae&&(o==="scroll"||o==="scrollend"),j=Ae?G!==null?G+"Capture":null:G;Ae=[];for(var q=H,F;q!==null;){var te=q;if(F=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||F===null||j===null||(te=Ol(q,j),te!=null&&Ae.push(uu(q,te,F))),et)break;q=q.return}0<Ae.length&&(G=new Y(G,ge,null,f,Q),re.push({event:G,listeners:Ae}))}}if((s&7)===0){e:{if(G=o==="mouseover"||o==="pointerover",Y=o==="mouseout"||o==="pointerout",G&&f!==Qp&&(ge=f.relatedTarget||f.fromElement)&&(Jo(ge)||ge[Wo]))break e;if((Y||G)&&(G=Q.window===Q?Q:(G=Q.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(ge=f.relatedTarget||f.toElement,Y=H,ge=ge?Jo(ge):null,ge!==null&&(et=a(ge),Ae=ge.tag,ge!==et||Ae!==5&&Ae!==27&&Ae!==6)&&(ge=null)):(Y=null,ge=H),Y!==ge)){if(Ae=hT,te="onMouseLeave",j="onMouseEnter",q="mouse",(o==="pointerout"||o==="pointerover")&&(Ae=mT,te="onPointerLeave",j="onPointerEnter",q="pointer"),et=Y==null?G:Pl(Y),F=ge==null?G:Pl(ge),G=new Ae(te,q+"leave",Y,f,Q),G.target=et,G.relatedTarget=F,te=null,Jo(Q)===H&&(Ae=new Ae(j,q+"enter",ge,f,Q),Ae.target=F,Ae.relatedTarget=et,te=Ae),et=te,Y&&ge)t:{for(Ae=ej,j=Y,q=ge,F=0,te=j;te;te=Ae(te))F++;te=0;for(var Se=q;Se;Se=Ae(Se))te++;for(;0<F-te;)j=Ae(j),F--;for(;0<te-F;)q=Ae(q),te--;for(;F--;){if(j===q||q!==null&&j===q.alternate){Ae=j;break t}j=Ae(j),q=Ae(q)}Ae=null}else Ae=null;Y!==null&&ox(re,G,Y,Ae,!1),ge!==null&&et!==null&&ox(re,et,ge,Ae,!0)}}e:{if(G=H?Pl(H):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var $e=ET;else if(ST(G))if(wT)$e=fq;else{$e=uq;var ve=lq}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&Xp(H.elementType)&&($e=ET):$e=cq;if($e&&($e=$e(o,H))){TT(re,$e,f,Q);break e}ve&&ve(o,G,H),o==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&Jp(G,"number",G.value)}switch(ve=H?Pl(H):window,o){case"focusin":(ST(ve)||ve.contentEditable==="true")&&(as=ve,fm=H,ql=null);break;case"focusout":ql=fm=as=null;break;case"mousedown":dm=!0;break;case"contextmenu":case"mouseup":case"dragend":dm=!1,IT(re,f,Q);break;case"selectionchange":if(hq)break;case"keydown":case"keyup":IT(re,f,Q)}var Ne;if(sm)e:{switch(o){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else is?bT(o,f)&&(je="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(je="onCompositionStart");je&&(gT&&f.locale!=="ko"&&(is||je!=="onCompositionStart"?je==="onCompositionEnd"&&is&&(Ne=fT()):(la=Q,nm="value"in la?la.value:la.textContent,is=!0)),ve=jf(H,je),0<ve.length&&(je=new pT(je,o,null,f,Q),re.push({event:je,listeners:ve}),Ne?je.data=Ne:(Ne=_T(f),Ne!==null&&(je.data=Ne)))),(Ne=rq?iq(o,f):aq(o,f))&&(je=jf(H,"onBeforeInput"),0<je.length&&(ve=new pT("onBeforeInput","beforeinput",null,f,Q),re.push({event:ve,listeners:je}),ve.data=Ne)),Jq(re,o,H,f,Q)}ix(re,s)})}function uu(o,s,f){return{instance:o,listener:s,currentTarget:f}}function jf(o,s){for(var f=s+"Capture",p=[];o!==null;){var b=o,S=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||S===null||(b=Ol(o,f),b!=null&&p.unshift(uu(o,b,S)),b=Ol(o,s),b!=null&&p.push(uu(o,b,S))),o.tag===3)return p;o=o.return}return[]}function ej(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function ox(o,s,f,p,b){for(var S=s._reactName,C=[];f!==null&&f!==p;){var I=f,L=I.alternate,H=I.stateNode;if(I=I.tag,L!==null&&L===p)break;I!==5&&I!==26&&I!==27||H===null||(L=H,b?(H=Ol(f,S),H!=null&&C.unshift(uu(f,H,L))):b||(H=Ol(f,S),H!=null&&C.push(uu(f,H,L)))),f=f.return}C.length!==0&&o.push({event:s,listeners:C})}var tj=/\r\n?/g,nj=/\u0000|\uFFFD/g;function sx(o){return(typeof o=="string"?o:""+o).replace(tj,`
`).replace(nj,"")}function lx(o,s){return s=sx(s),sx(o)===s}function Ze(o,s,f,p,b,S){switch(f){case"children":typeof p=="string"?s==="body"||s==="textarea"&&p===""||ts(o,p):(typeof p=="number"||typeof p=="bigint")&&s!=="body"&&ts(o,""+p);break;case"className":$c(o,"class",p);break;case"tabIndex":$c(o,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":$c(o,f,p);break;case"style":lT(o,p,S);break;case"data":if(s!=="object"){$c(o,"data",p);break}case"src":case"href":if(p===""&&(s!=="a"||f!=="href")){o.removeAttribute(f);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(f);break}p=Hc(""+p),o.setAttribute(f,p);break;case"action":case"formAction":if(typeof p=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(f==="formAction"?(s!=="input"&&Ze(o,s,"name",b.name,b,null),Ze(o,s,"formEncType",b.formEncType,b,null),Ze(o,s,"formMethod",b.formMethod,b,null),Ze(o,s,"formTarget",b.formTarget,b,null)):(Ze(o,s,"encType",b.encType,b,null),Ze(o,s,"method",b.method,b,null),Ze(o,s,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(f);break}p=Hc(""+p),o.setAttribute(f,p);break;case"onClick":p!=null&&(o.onclick=ui);break;case"onScroll":p!=null&&Le("scroll",o);break;case"onScrollEnd":p!=null&&Le("scrollend",o);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(f=p.__html,f!=null){if(b.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"multiple":o.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":o.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){o.removeAttribute("xlink:href");break}f=Hc(""+p),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,""+p):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":p===!0?o.setAttribute(f,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,p):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?o.setAttribute(f,p):o.removeAttribute(f);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?o.removeAttribute(f):o.setAttribute(f,p);break;case"popover":Le("beforetoggle",o),Le("toggle",o),Bc(o,"popover",p);break;case"xlinkActuate":li(o,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":li(o,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":li(o,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":li(o,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":li(o,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":li(o,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":li(o,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":li(o,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":li(o,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Bc(o,"is",p);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=OU.get(f)||f,Bc(o,f,p))}}function Ug(o,s,f,p,b,S){switch(f){case"style":lT(o,p,S);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(f=p.__html,f!=null){if(b.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"children":typeof p=="string"?ts(o,p):(typeof p=="number"||typeof p=="bigint")&&ts(o,""+p);break;case"onScroll":p!=null&&Le("scroll",o);break;case"onScrollEnd":p!=null&&Le("scrollend",o);break;case"onClick":p!=null&&(o.onclick=ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ZS.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(b=f.endsWith("Capture"),s=f.slice(2,b?f.length-7:void 0),S=o[Pn]||null,S=S!=null?S[f]:null,typeof S=="function"&&o.removeEventListener(s,S,b),typeof p=="function")){typeof S!="function"&&S!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(s,p,b);break e}f in o?o[f]=p:p===!0?o.setAttribute(f,""):Bc(o,f,p)}}}function nn(o,s,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",o),Le("load",o);var p=!1,b=!1,S;for(S in f)if(f.hasOwnProperty(S)){var C=f[S];if(C!=null)switch(S){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ze(o,s,S,C,f,null)}}b&&Ze(o,s,"srcSet",f.srcSet,f,null),p&&Ze(o,s,"src",f.src,f,null);return;case"input":Le("invalid",o);var I=S=C=b=null,L=null,H=null;for(p in f)if(f.hasOwnProperty(p)){var Q=f[p];if(Q!=null)switch(p){case"name":b=Q;break;case"type":C=Q;break;case"checked":L=Q;break;case"defaultChecked":H=Q;break;case"value":S=Q;break;case"defaultValue":I=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:Ze(o,s,p,Q,f,null)}}iT(o,S,I,L,H,C,b,!1);return;case"select":Le("invalid",o),p=C=S=null;for(b in f)if(f.hasOwnProperty(b)&&(I=f[b],I!=null))switch(b){case"value":S=I;break;case"defaultValue":C=I;break;case"multiple":p=I;default:Ze(o,s,b,I,f,null)}s=S,f=C,o.multiple=!!p,s!=null?es(o,!!p,s,!1):f!=null&&es(o,!!p,f,!0);return;case"textarea":Le("invalid",o),S=b=p=null;for(C in f)if(f.hasOwnProperty(C)&&(I=f[C],I!=null))switch(C){case"value":p=I;break;case"defaultValue":b=I;break;case"children":S=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:Ze(o,s,C,I,f,null)}oT(o,p,b,S);return;case"option":for(L in f)if(f.hasOwnProperty(L)&&(p=f[L],p!=null))switch(L){case"selected":o.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Ze(o,s,L,p,f,null)}return;case"dialog":Le("beforetoggle",o),Le("toggle",o),Le("cancel",o),Le("close",o);break;case"iframe":case"object":Le("load",o);break;case"video":case"audio":for(p=0;p<lu.length;p++)Le(lu[p],o);break;case"image":Le("error",o),Le("load",o);break;case"details":Le("toggle",o);break;case"embed":case"source":case"link":Le("error",o),Le("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in f)if(f.hasOwnProperty(H)&&(p=f[H],p!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ze(o,s,H,p,f,null)}return;default:if(Xp(s)){for(Q in f)f.hasOwnProperty(Q)&&(p=f[Q],p!==void 0&&Ug(o,s,Q,p,f,void 0));return}}for(I in f)f.hasOwnProperty(I)&&(p=f[I],p!=null&&Ze(o,s,I,p,f,null))}function rj(o,s,f,p){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,S=null,C=null,I=null,L=null,H=null,Q=null;for(Y in f){var re=f[Y];if(f.hasOwnProperty(Y)&&re!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":L=re;default:p.hasOwnProperty(Y)||Ze(o,s,Y,null,p,re)}}for(var G in p){var Y=p[G];if(re=f[G],p.hasOwnProperty(G)&&(Y!=null||re!=null))switch(G){case"type":S=Y;break;case"name":b=Y;break;case"checked":H=Y;break;case"defaultChecked":Q=Y;break;case"value":C=Y;break;case"defaultValue":I=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:Y!==re&&Ze(o,s,G,Y,p,re)}}Wp(o,C,I,L,H,Q,S,b);return;case"select":Y=C=I=G=null;for(S in f)if(L=f[S],f.hasOwnProperty(S)&&L!=null)switch(S){case"value":break;case"multiple":Y=L;default:p.hasOwnProperty(S)||Ze(o,s,S,null,p,L)}for(b in p)if(S=p[b],L=f[b],p.hasOwnProperty(b)&&(S!=null||L!=null))switch(b){case"value":G=S;break;case"defaultValue":I=S;break;case"multiple":C=S;default:S!==L&&Ze(o,s,b,S,p,L)}s=I,f=C,p=Y,G!=null?es(o,!!f,G,!1):!!p!=!!f&&(s!=null?es(o,!!f,s,!0):es(o,!!f,f?[]:"",!1));return;case"textarea":Y=G=null;for(I in f)if(b=f[I],f.hasOwnProperty(I)&&b!=null&&!p.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Ze(o,s,I,null,p,b)}for(C in p)if(b=p[C],S=f[C],p.hasOwnProperty(C)&&(b!=null||S!=null))switch(C){case"value":G=b;break;case"defaultValue":Y=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==S&&Ze(o,s,C,b,p,S)}aT(o,G,Y);return;case"option":for(var ge in f)if(G=f[ge],f.hasOwnProperty(ge)&&G!=null&&!p.hasOwnProperty(ge))switch(ge){case"selected":o.selected=!1;break;default:Ze(o,s,ge,null,p,G)}for(L in p)if(G=p[L],Y=f[L],p.hasOwnProperty(L)&&G!==Y&&(G!=null||Y!=null))switch(L){case"selected":o.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ze(o,s,L,G,p,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in f)G=f[Ae],f.hasOwnProperty(Ae)&&G!=null&&!p.hasOwnProperty(Ae)&&Ze(o,s,Ae,null,p,G);for(H in p)if(G=p[H],Y=f[H],p.hasOwnProperty(H)&&G!==Y&&(G!=null||Y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:Ze(o,s,H,G,p,Y)}return;default:if(Xp(s)){for(var et in f)G=f[et],f.hasOwnProperty(et)&&G!==void 0&&!p.hasOwnProperty(et)&&Ug(o,s,et,void 0,p,G);for(Q in p)G=p[Q],Y=f[Q],!p.hasOwnProperty(Q)||G===Y||G===void 0&&Y===void 0||Ug(o,s,Q,G,p,Y);return}}for(var j in f)G=f[j],f.hasOwnProperty(j)&&G!=null&&!p.hasOwnProperty(j)&&Ze(o,s,j,null,p,G);for(re in p)G=p[re],Y=f[re],!p.hasOwnProperty(re)||G===Y||G==null&&Y==null||Ze(o,s,re,G,p,Y)}function ux(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ij(){if(typeof performance.getEntriesByType=="function"){for(var o=0,s=0,f=performance.getEntriesByType("resource"),p=0;p<f.length;p++){var b=f[p],S=b.transferSize,C=b.initiatorType,I=b.duration;if(S&&I&&ux(C)){for(C=0,I=b.responseEnd,p+=1;p<f.length;p++){var L=f[p],H=L.startTime;if(H>I)break;var Q=L.transferSize,re=L.initiatorType;Q&&ux(re)&&(L=L.responseEnd,C+=Q*(L<I?1:(I-H)/(L-H)))}if(--p,s+=8*(S+C)/(b.duration/1e3),o++,10<o)break}}if(0<o)return s/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var qg=null,jg=null;function zf(o){return o.nodeType===9?o:o.ownerDocument}function cx(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fx(o,s){if(o===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&s==="foreignObject"?0:o}function zg(o,s){return o==="textarea"||o==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Bg=null;function aj(){var o=window.event;return o&&o.type==="popstate"?o===Bg?!1:(Bg=o,!0):(Bg=null,!1)}var dx=typeof setTimeout=="function"?setTimeout:void 0,oj=typeof clearTimeout=="function"?clearTimeout:void 0,hx=typeof Promise=="function"?Promise:void 0,sj=typeof queueMicrotask=="function"?queueMicrotask:typeof hx<"u"?function(o){return hx.resolve(null).then(o).catch(lj)}:dx;function lj(o){setTimeout(function(){throw o})}function xa(o){return o==="head"}function px(o,s){var f=s,p=0;do{var b=f.nextSibling;if(o.removeChild(f),b&&b.nodeType===8)if(f=b.data,f==="/$"||f==="/&"){if(p===0){o.removeChild(b),Is(s);return}p--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")p++;else if(f==="html")cu(o.ownerDocument.documentElement);else if(f==="head"){f=o.ownerDocument.head,cu(f);for(var S=f.firstChild;S;){var C=S.nextSibling,I=S.nodeName;S[Ml]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&S.rel.toLowerCase()==="stylesheet"||f.removeChild(S),S=C}}else f==="body"&&cu(o.ownerDocument.body);f=b}while(f);Is(s)}function mx(o,s){var f=o;o=0;do{var p=f.nextSibling;if(f.nodeType===1?s?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(s?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),p&&p.nodeType===8)if(f=p.data,f==="/$"){if(o===0)break;o--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||o++;f=p}while(f)}function $g(o){var s=o.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var f=s;switch(s=s.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":$g(f),Kp(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function uj(o,s,f,p){for(;o.nodeType===1;){var b=f;if(o.nodeName.toLowerCase()!==s.toLowerCase()){if(!p&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(p){if(!o[Ml])switch(s){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(S=o.getAttribute("rel"),S==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(S!==b.rel||o.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||o.getAttribute("title")!==(b.title==null?null:b.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(S=o.getAttribute("src"),(S!==(b.src==null?null:b.src)||o.getAttribute("type")!==(b.type==null?null:b.type)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&S&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(s==="input"&&o.type==="hidden"){var S=b.name==null?null:""+b.name;if(b.type==="hidden"&&o.getAttribute("name")===S)return o}else return o;if(o=dr(o.nextSibling),o===null)break}return null}function cj(o,s,f){if(s==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=dr(o.nextSibling),o===null))return null;return o}function gx(o,s){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!s||(o=dr(o.nextSibling),o===null))return null;return o}function Fg(o){return o.data==="$?"||o.data==="$~"}function Hg(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function fj(o,s){var f=o.ownerDocument;if(o.data==="$~")o._reactRetry=s;else if(o.data!=="$?"||f.readyState!=="loading")s();else{var p=function(){s(),f.removeEventListener("DOMContentLoaded",p)};f.addEventListener("DOMContentLoaded",p),o._reactRetry=p}}function dr(o){for(;o!=null;o=o.nextSibling){var s=o.nodeType;if(s===1||s===3)break;if(s===8){if(s=o.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return o}var Gg=null;function vx(o){o=o.nextSibling;for(var s=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"||f==="/&"){if(s===0)return dr(o.nextSibling);s--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||s++}o=o.nextSibling}return null}function yx(o){o=o.previousSibling;for(var s=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(s===0)return o;s--}else f!=="/$"&&f!=="/&"||s++}o=o.previousSibling}return null}function bx(o,s,f){switch(s=zf(f),o){case"html":if(o=s.documentElement,!o)throw Error(r(452));return o;case"head":if(o=s.head,!o)throw Error(r(453));return o;case"body":if(o=s.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function cu(o){for(var s=o.attributes;s.length;)o.removeAttributeNode(s[0]);Kp(o)}var hr=new Map,_x=new Set;function Bf(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var xi=ee.d;ee.d={f:dj,r:hj,D:pj,C:mj,L:gj,m:vj,X:bj,S:yj,M:_j};function dj(){var o=xi.f(),s=If();return o||s}function hj(o){var s=Xo(o);s!==null&&s.tag===5&&s.type==="form"?UE(s):xi.r(o)}var Ps=typeof document>"u"?null:document;function Sx(o,s,f){var p=Ps;if(p&&typeof s=="string"&&s){var b=ar(s);b='link[rel="'+o+'"][href="'+b+'"]',typeof f=="string"&&(b+='[crossorigin="'+f+'"]'),_x.has(b)||(_x.add(b),o={rel:o,crossOrigin:f,href:s},p.querySelector(b)===null&&(s=p.createElement("link"),nn(s,"link",o),Ft(s),p.head.appendChild(s)))}}function pj(o){xi.D(o),Sx("dns-prefetch",o,null)}function mj(o,s){xi.C(o,s),Sx("preconnect",o,s)}function gj(o,s,f){xi.L(o,s,f);var p=Ps;if(p&&o&&s){var b='link[rel="preload"][as="'+ar(s)+'"]';s==="image"&&f&&f.imageSrcSet?(b+='[imagesrcset="'+ar(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(b+='[imagesizes="'+ar(f.imageSizes)+'"]')):b+='[href="'+ar(o)+'"]';var S=b;switch(s){case"style":S=Os(o);break;case"script":S=Ns(o)}hr.has(S)||(o=m({rel:"preload",href:s==="image"&&f&&f.imageSrcSet?void 0:o,as:s},f),hr.set(S,o),p.querySelector(b)!==null||s==="style"&&p.querySelector(fu(S))||s==="script"&&p.querySelector(du(S))||(s=p.createElement("link"),nn(s,"link",o),Ft(s),p.head.appendChild(s)))}}function vj(o,s){xi.m(o,s);var f=Ps;if(f&&o){var p=s&&typeof s.as=="string"?s.as:"script",b='link[rel="modulepreload"][as="'+ar(p)+'"][href="'+ar(o)+'"]',S=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Ns(o)}if(!hr.has(S)&&(o=m({rel:"modulepreload",href:o},s),hr.set(S,o),f.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(du(S)))return}p=f.createElement("link"),nn(p,"link",o),Ft(p),f.head.appendChild(p)}}}function yj(o,s,f){xi.S(o,s,f);var p=Ps;if(p&&o){var b=Qo(p).hoistableStyles,S=Os(o);s=s||"default";var C=b.get(S);if(!C){var I={loading:0,preload:null};if(C=p.querySelector(fu(S)))I.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":s},f),(f=hr.get(S))&&Vg(o,f);var L=C=p.createElement("link");Ft(L),nn(L,"link",o),L._p=new Promise(function(H,Q){L.onload=H,L.onerror=Q}),L.addEventListener("load",function(){I.loading|=1}),L.addEventListener("error",function(){I.loading|=2}),I.loading|=4,$f(C,s,p)}C={type:"stylesheet",instance:C,count:1,state:I},b.set(S,C)}}}function bj(o,s){xi.X(o,s);var f=Ps;if(f&&o){var p=Qo(f).hoistableScripts,b=Ns(o),S=p.get(b);S||(S=f.querySelector(du(b)),S||(o=m({src:o,async:!0},s),(s=hr.get(b))&&Kg(o,s),S=f.createElement("script"),Ft(S),nn(S,"link",o),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(b,S))}}function _j(o,s){xi.M(o,s);var f=Ps;if(f&&o){var p=Qo(f).hoistableScripts,b=Ns(o),S=p.get(b);S||(S=f.querySelector(du(b)),S||(o=m({src:o,async:!0,type:"module"},s),(s=hr.get(b))&&Kg(o,s),S=f.createElement("script"),Ft(S),nn(S,"link",o),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(b,S))}}function Tx(o,s,f,p){var b=(b=de.current)?Bf(b):null;if(!b)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(s=Os(f.href),f=Qo(b).hoistableStyles,p=f.get(s),p||(p={type:"style",instance:null,count:0,state:null},f.set(s,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=Os(f.href);var S=Qo(b).hoistableStyles,C=S.get(o);if(C||(b=b.ownerDocument||b,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(o,C),(S=b.querySelector(fu(o)))&&!S._p&&(C.instance=S,C.state.loading=5),hr.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},hr.set(o,f),S||Sj(b,o,f,C.state))),s&&p===null)throw Error(r(528,""));return C}if(s&&p!==null)throw Error(r(529,""));return null;case"script":return s=f.async,f=f.src,typeof f=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ns(f),f=Qo(b).hoistableScripts,p=f.get(s),p||(p={type:"script",instance:null,count:0,state:null},f.set(s,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Os(o){return'href="'+ar(o)+'"'}function fu(o){return'link[rel="stylesheet"]['+o+"]"}function Ex(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function Sj(o,s,f,p){o.querySelector('link[rel="preload"][as="style"]['+s+"]")?p.loading=1:(s=o.createElement("link"),p.preload=s,s.addEventListener("load",function(){return p.loading|=1}),s.addEventListener("error",function(){return p.loading|=2}),nn(s,"link",f),Ft(s),o.head.appendChild(s))}function Ns(o){return'[src="'+ar(o)+'"]'}function du(o){return"script[async]"+o}function wx(o,s,f){if(s.count++,s.instance===null)switch(s.type){case"style":var p=o.querySelector('style[data-href~="'+ar(f.href)+'"]');if(p)return s.instance=p,Ft(p),p;var b=m({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return p=(o.ownerDocument||o).createElement("style"),Ft(p),nn(p,"style",b),$f(p,f.precedence,o),s.instance=p;case"stylesheet":b=Os(f.href);var S=o.querySelector(fu(b));if(S)return s.state.loading|=4,s.instance=S,Ft(S),S;p=Ex(f),(b=hr.get(b))&&Vg(p,b),S=(o.ownerDocument||o).createElement("link"),Ft(S);var C=S;return C._p=new Promise(function(I,L){C.onload=I,C.onerror=L}),nn(S,"link",p),s.state.loading|=4,$f(S,f.precedence,o),s.instance=S;case"script":return S=Ns(f.src),(b=o.querySelector(du(S)))?(s.instance=b,Ft(b),b):(p=f,(b=hr.get(S))&&(p=m({},f),Kg(p,b)),o=o.ownerDocument||o,b=o.createElement("script"),Ft(b),nn(b,"link",p),o.head.appendChild(b),s.instance=b);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(p=s.instance,s.state.loading|=4,$f(p,f.precedence,o));return s.instance}function $f(o,s,f){for(var p=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,S=b,C=0;C<p.length;C++){var I=p[C];if(I.dataset.precedence===s)S=I;else if(S!==b)break}S?S.parentNode.insertBefore(o,S.nextSibling):(s=f.nodeType===9?f.head:f,s.insertBefore(o,s.firstChild))}function Vg(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.title==null&&(o.title=s.title)}function Kg(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.integrity==null&&(o.integrity=s.integrity)}var Ff=null;function xx(o,s,f){if(Ff===null){var p=new Map,b=Ff=new Map;b.set(f,p)}else b=Ff,p=b.get(f),p||(p=new Map,b.set(f,p));if(p.has(o))return p;for(p.set(o,null),f=f.getElementsByTagName(o),b=0;b<f.length;b++){var S=f[b];if(!(S[Ml]||S[Qt]||o==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var C=S.getAttribute(s)||"";C=o+C;var I=p.get(C);I?I.push(S):p.set(C,[S])}}return p}function Ax(o,s,f){o=o.ownerDocument||o,o.head.insertBefore(f,s==="title"?o.querySelector("head > title"):null)}function Tj(o,s,f){if(f===1||s.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return o=s.disabled,typeof s.precedence=="string"&&o==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Cx(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function Ej(o,s,f,p){if(f.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var b=Os(p.href),S=s.querySelector(fu(b));if(S){s=S._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(o.count++,o=Hf.bind(o),s.then(o,o)),f.state.loading|=4,f.instance=S,Ft(S);return}S=s.ownerDocument||s,p=Ex(p),(b=hr.get(b))&&Vg(p,b),S=S.createElement("link"),Ft(S);var C=S;C._p=new Promise(function(I,L){C.onload=I,C.onerror=L}),nn(S,"link",p),f.instance=S}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(f,s),(s=f.state.preload)&&(f.state.loading&3)===0&&(o.count++,f=Hf.bind(o),s.addEventListener("load",f),s.addEventListener("error",f))}}var Yg=0;function wj(o,s){return o.stylesheets&&o.count===0&&Vf(o,o.stylesheets),0<o.count||0<o.imgCount?function(f){var p=setTimeout(function(){if(o.stylesheets&&Vf(o,o.stylesheets),o.unsuspend){var S=o.unsuspend;o.unsuspend=null,S()}},6e4+s);0<o.imgBytes&&Yg===0&&(Yg=62500*ij());var b=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Vf(o,o.stylesheets),o.unsuspend)){var S=o.unsuspend;o.unsuspend=null,S()}},(o.imgBytes>Yg?50:800)+s);return o.unsuspend=f,function(){o.unsuspend=null,clearTimeout(p),clearTimeout(b)}}:null}function Hf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vf(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Gf=null;function Vf(o,s){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Gf=new Map,s.forEach(xj,o),Gf=null,Hf.call(o))}function xj(o,s){if(!(s.state.loading&4)){var f=Gf.get(o);if(f)var p=f.get(null);else{f=new Map,Gf.set(o,f);for(var b=o.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<b.length;S++){var C=b[S];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(f.set(C.dataset.precedence,C),p=C)}p&&f.set(null,p)}b=s.instance,C=b.getAttribute("data-precedence"),S=f.get(C)||p,S===p&&f.set(null,b),f.set(C,b),this.count++,p=Hf.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),S?S.parentNode.insertBefore(b,S.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(b,o.firstChild)),s.state.loading|=4}}var hu={$$typeof:P,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function Aj(o,s,f,p,b,S,C,I,L){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fn(0),this.hiddenUpdates=fn(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=S,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function Mx(o,s,f,p,b,S,C,I,L,H,Q,re){return o=new Aj(o,s,f,C,L,H,Q,re,I),s=1,S===!0&&(s|=24),S=Gn(3,null,null,s),o.current=S,S.stateNode=o,s=Cm(),s.refCount++,o.pooledCache=s,s.refCount++,S.memoizedState={element:p,isDehydrated:f,cache:s},Nm(S),o}function Px(o){return o?(o=ls,o):ls}function Ox(o,s,f,p,b,S){b=Px(b),p.context===null?p.context=b:p.pendingContext=b,p=pa(s),p.payload={element:f},S=S===void 0?null:S,S!==null&&(p.callback=S),f=ma(o,p,s),f!==null&&(kn(f,o,s),Gl(f,o,s))}function Nx(o,s){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<s?f:s}}function Wg(o,s){Nx(o,s),(o=o.alternate)&&Nx(o,s)}function Ix(o){if(o.tag===13||o.tag===31){var s=io(o,67108864);s!==null&&kn(s,o,67108864),Wg(o,67108864)}}function Dx(o){if(o.tag===13||o.tag===31){var s=Jn();s=Hp(s);var f=io(o,s);f!==null&&kn(f,o,s),Wg(o,s)}}var Kf=!0;function Cj(o,s,f,p){var b=z.T;z.T=null;var S=ee.p;try{ee.p=2,Jg(o,s,f,p)}finally{ee.p=S,z.T=b}}function Mj(o,s,f,p){var b=z.T;z.T=null;var S=ee.p;try{ee.p=8,Jg(o,s,f,p)}finally{ee.p=S,z.T=b}}function Jg(o,s,f,p){if(Kf){var b=Xg(p);if(b===null)Lg(o,s,p,Yf,f),kx(o,p);else if(Oj(b,o,s,f,p))p.stopPropagation();else if(kx(o,p),s&4&&-1<Pj.indexOf(o)){for(;b!==null;){var S=Xo(b);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var C=ie(S.pendingLanes);if(C!==0){var I=S;for(I.pendingLanes|=2,I.entangledLanes|=2;C;){var L=1<<31-Sn(C);I.entanglements[1]|=L,C&=~L}Kr(S),(Ve&6)===0&&(Of=Ie()+500,su(0))}}break;case 31:case 13:I=io(S,2),I!==null&&kn(I,S,2),If(),Wg(S,2)}if(S=Xg(p),S===null&&Lg(o,s,p,Yf,f),S===b)break;b=S}b!==null&&p.stopPropagation()}else Lg(o,s,p,null,f)}}function Xg(o){return o=Zp(o),Qg(o)}var Yf=null;function Qg(o){if(Yf=null,o=Jo(o),o!==null){var s=a(o);if(s===null)o=null;else{var f=s.tag;if(f===13){if(o=l(s),o!==null)return o;o=null}else if(f===31){if(o=u(s),o!==null)return o;o=null}else if(f===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null)}}return Yf=o,null}function Rx(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mn()){case Ja:return 2;case Uc:return 8;case Vo:case jp:return 32;case qc:return 268435456;default:return 32}default:return 32}}var Zg=!1,Aa=null,Ca=null,Ma=null,pu=new Map,mu=new Map,Pa=[],Pj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kx(o,s){switch(o){case"focusin":case"focusout":Aa=null;break;case"dragenter":case"dragleave":Ca=null;break;case"mouseover":case"mouseout":Ma=null;break;case"pointerover":case"pointerout":pu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":mu.delete(s.pointerId)}}function gu(o,s,f,p,b,S){return o===null||o.nativeEvent!==S?(o={blockedOn:s,domEventName:f,eventSystemFlags:p,nativeEvent:S,targetContainers:[b]},s!==null&&(s=Xo(s),s!==null&&Ix(s)),o):(o.eventSystemFlags|=p,s=o.targetContainers,b!==null&&s.indexOf(b)===-1&&s.push(b),o)}function Oj(o,s,f,p,b){switch(s){case"focusin":return Aa=gu(Aa,o,s,f,p,b),!0;case"dragenter":return Ca=gu(Ca,o,s,f,p,b),!0;case"mouseover":return Ma=gu(Ma,o,s,f,p,b),!0;case"pointerover":var S=b.pointerId;return pu.set(S,gu(pu.get(S)||null,o,s,f,p,b)),!0;case"gotpointercapture":return S=b.pointerId,mu.set(S,gu(mu.get(S)||null,o,s,f,p,b)),!0}return!1}function Lx(o){var s=Jo(o.target);if(s!==null){var f=a(s);if(f!==null){if(s=f.tag,s===13){if(s=l(f),s!==null){o.blockedOn=s,JS(o.priority,function(){Dx(f)});return}}else if(s===31){if(s=u(f),s!==null){o.blockedOn=s,JS(o.priority,function(){Dx(f)});return}}else if(s===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Wf(o){if(o.blockedOn!==null)return!1;for(var s=o.targetContainers;0<s.length;){var f=Xg(o.nativeEvent);if(f===null){f=o.nativeEvent;var p=new f.constructor(f.type,f);Qp=p,f.target.dispatchEvent(p),Qp=null}else return s=Xo(f),s!==null&&Ix(s),o.blockedOn=f,!1;s.shift()}return!0}function Ux(o,s,f){Wf(o)&&f.delete(s)}function Nj(){Zg=!1,Aa!==null&&Wf(Aa)&&(Aa=null),Ca!==null&&Wf(Ca)&&(Ca=null),Ma!==null&&Wf(Ma)&&(Ma=null),pu.forEach(Ux),mu.forEach(Ux)}function Jf(o,s){o.blockedOn===s&&(o.blockedOn=null,Zg||(Zg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Nj)))}var Xf=null;function qx(o){Xf!==o&&(Xf=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Xf===o&&(Xf=null);for(var s=0;s<o.length;s+=3){var f=o[s],p=o[s+1],b=o[s+2];if(typeof p!="function"){if(Qg(p||f)===null)continue;break}var S=Xo(f);S!==null&&(o.splice(s,3),s-=3,Xm(S,{pending:!0,data:b,method:f.method,action:p},p,b))}}))}function Is(o){function s(L){return Jf(L,o)}Aa!==null&&Jf(Aa,o),Ca!==null&&Jf(Ca,o),Ma!==null&&Jf(Ma,o),pu.forEach(s),mu.forEach(s);for(var f=0;f<Pa.length;f++){var p=Pa[f];p.blockedOn===o&&(p.blockedOn=null)}for(;0<Pa.length&&(f=Pa[0],f.blockedOn===null);)Lx(f),f.blockedOn===null&&Pa.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(p=0;p<f.length;p+=3){var b=f[p],S=f[p+1],C=b[Pn]||null;if(typeof S=="function")C||qx(f);else if(C){var I=null;if(S&&S.hasAttribute("formAction")){if(b=S,C=S[Pn]||null)I=C.formAction;else if(Qg(b)!==null)continue}else I=C.action;typeof I=="function"?f[p+1]=I:(f.splice(p,3),p-=3),qx(f)}}}function jx(){function o(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(C){return b=C})},focusReset:"manual",scroll:"manual"})}function s(){b!==null&&(b(),b=null),p||setTimeout(f,20)}function f(){if(!p&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,b=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(f,100),function(){p=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),b!==null&&(b(),b=null)}}}function ev(o){this._internalRoot=o}Qf.prototype.render=ev.prototype.render=function(o){var s=this._internalRoot;if(s===null)throw Error(r(409));var f=s.current,p=Jn();Ox(f,p,o,s,null,null)},Qf.prototype.unmount=ev.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var s=o.containerInfo;Ox(o.current,2,null,o,null,null),If(),s[Wo]=null}};function Qf(o){this._internalRoot=o}Qf.prototype.unstable_scheduleHydration=function(o){if(o){var s=WS();o={blockedOn:null,target:o,priority:s};for(var f=0;f<Pa.length&&s!==0&&s<Pa[f].priority;f++);Pa.splice(f,0,o),f===0&&Lx(o)}};var zx=t.version;if(zx!=="19.2.0")throw Error(r(527,zx,"19.2.0"));ee.findDOMNode=function(o){var s=o._reactInternals;if(s===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(s),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var Ij={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zf.isDisabled&&Zf.supportsFiber)try{Xa=Zf.inject(Ij),_n=Zf}catch{}}return yu.createRoot=function(o,s){if(!i(o))throw Error(r(299));var f=!1,p="",b=KE,S=YE,C=WE;return s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(b=s.onUncaughtError),s.onCaughtError!==void 0&&(S=s.onCaughtError),s.onRecoverableError!==void 0&&(C=s.onRecoverableError)),s=Mx(o,1,!1,null,null,f,p,null,b,S,C,jx),o[Wo]=s.current,kg(o),new ev(s)},yu.hydrateRoot=function(o,s,f){if(!i(o))throw Error(r(299));var p=!1,b="",S=KE,C=YE,I=WE,L=null;return f!=null&&(f.unstable_strictMode===!0&&(p=!0),f.identifierPrefix!==void 0&&(b=f.identifierPrefix),f.onUncaughtError!==void 0&&(S=f.onUncaughtError),f.onCaughtError!==void 0&&(C=f.onCaughtError),f.onRecoverableError!==void 0&&(I=f.onRecoverableError),f.formState!==void 0&&(L=f.formState)),s=Mx(o,1,!0,s,f??null,p,b,L,S,C,I,jx),s.context=Px(null),f=s.current,p=Jn(),p=Hp(p),b=pa(p),b.callback=null,ma(f,b,p),f=p,s.current.lanes=f,si(s,f),Kr(s),o[Wo]=s.current,kg(o),new Qf(s)},yu.version="19.2.0",yu}var Jx;function Hj(){if(Jx)return rv.exports;Jx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),rv.exports=Fj(),rv.exports}var Gj=Hj();var Xx="popstate";function Vj(e={}){function t(r,i){let{pathname:a,search:l,hash:u}=r.location;return Jy("",{pathname:a,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ku(i)}return Yj(t,n,null,e)}function vt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Tr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Kj(){return Math.random().toString(36).substring(2,10)}function Qx(e,t){return{usr:e.state,key:e.key,idx:t}}function Jy(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?fl(t):t,state:n,key:t&&t.key||r||Kj()}}function Ku({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function fl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Yj(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,u="POP",c=null,d=h();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function h(){return(l.state||{idx:null}).idx}function m(){u="POP";let w=h(),M=w==null?null:w-d;d=w,c&&c({action:u,location:E.location,delta:M})}function v(w,M){u="PUSH";let O=Jy(E.location,w,M);d=h()+1;let P=Qx(O,d),D=E.createHref(O);try{l.pushState(P,"",D)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(D)}a&&c&&c({action:u,location:E.location,delta:1})}function _(w,M){u="REPLACE";let O=Jy(E.location,w,M);d=h();let P=Qx(O,d),D=E.createHref(O);l.replaceState(P,"",D),a&&c&&c({action:u,location:E.location,delta:0})}function T(w){return Wj(w)}let E={get action(){return u},get location(){return e(i,l)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Xx,m),c=w,()=>{i.removeEventListener(Xx,m),c=null}},createHref(w){return t(i,w)},createURL:T,encodeLocation(w){let M=T(w);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:v,replace:_,go(w){return l.go(w)}};return E}function Wj(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),vt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Ku(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function RN(e,t,n="/"){return Jj(e,t,n,!1)}function Jj(e,t,n,r){let i=typeof t=="string"?fl(t):t,a=$i(i.pathname||"/",n);if(a==null)return null;let l=kN(e);Xj(l);let u=null;for(let c=0;u==null&&c<l.length;++c){let d=lz(a);u=oz(l[c],d,r)}return u}function kN(e,t=[],n=[],r="",i=!1){let a=(l,u,c=i,d)=>{let h={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&c)return;vt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let m=qi([r,h.relativePath]),v=n.concat(h);l.children&&l.children.length>0&&(vt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),kN(l.children,t,v,m,c)),!(l.path==null&&!l.index)&&t.push({path:m,score:iz(m,l.index),routesMeta:v})};return e.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))a(l,u);else for(let c of LN(l.path))a(l,u,!0,c)}),t}function LN(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=LN(r.join("/")),u=[];return u.push(...l.map(c=>c===""?a:[a,c].join("/"))),i&&u.push(...l),u.map(c=>e.startsWith("/")&&c===""?"/":c)}function Xj(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:az(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Qj=/^:[\w-]+$/,Zj=3,ez=2,tz=1,nz=10,rz=-2,Zx=e=>e==="*";function iz(e,t){let n=e.split("/"),r=n.length;return n.some(Zx)&&(r+=rz),t&&(r+=ez),n.filter(i=>!Zx(i)).reduce((i,a)=>i+(Qj.test(a)?Zj:a===""?tz:nz),r)}function az(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function oz(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",l=[];for(let u=0;u<r.length;++u){let c=r[u],d=u===r.length-1,h=a==="/"?t:t.slice(a.length)||"/",m=Ud({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),v=c.route;if(!m&&d&&n&&!r[r.length-1].route.index&&(m=Ud({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:qi([a,m.pathname]),pathnameBase:hz(qi([a,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(a=qi([a,m.pathnameBase]))}return l}function Ud(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=sz(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:m},v)=>{if(h==="*"){let T=u[v]||"";l=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}const _=u[v];return m&&!_?d[h]=void 0:d[h]=(_||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:l,pattern:e}}function sz(e,t=!1,n=!0){Tr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function lz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Tr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function $i(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var uz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cz=e=>uz.test(e);function fz(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?fl(e):e,a;if(n)if(cz(n))a=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Tr(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?a=eA(n.substring(1),"/"):a=eA(n,t)}else a=t;return{pathname:a,search:pz(r),hash:mz(i)}}function eA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function sv(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dz(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function UN(e){let t=dz(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function qN(e,t,n,r=!1){let i;typeof e=="string"?i=fl(e):(i={...e},vt(!i.pathname||!i.pathname.includes("?"),sv("?","pathname","search",i)),vt(!i.pathname||!i.pathname.includes("#"),sv("#","pathname","hash",i)),vt(!i.search||!i.search.includes("#"),sv("#","search","hash",i)));let a=e===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=n;else{let m=t.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),m-=1;i.pathname=v.join("/")}u=m>=0?t[m]:"/"}let c=fz(i,u),d=l&&l!=="/"&&l.endsWith("/"),h=(a||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}var qi=e=>e.join("/").replace(/\/\/+/g,"/"),hz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),pz=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,mz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function gz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var jN=["POST","PUT","PATCH","DELETE"];new Set(jN);var vz=["GET",...jN];new Set(vz);var dl=x.createContext(null);dl.displayName="DataRouter";var Fh=x.createContext(null);Fh.displayName="DataRouterState";x.createContext(!1);var zN=x.createContext({isTransitioning:!1});zN.displayName="ViewTransition";var yz=x.createContext(new Map);yz.displayName="Fetchers";var bz=x.createContext(null);bz.displayName="Await";var ri=x.createContext(null);ri.displayName="Navigation";var fc=x.createContext(null);fc.displayName="Location";var ea=x.createContext({outlet:null,matches:[],isDataRoute:!1});ea.displayName="Route";var Rb=x.createContext(null);Rb.displayName="RouteError";function _z(e,{relative:t}={}){vt(dc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(ri),{hash:i,pathname:a,search:l}=hc(e,{relative:t}),u=a;return n!=="/"&&(u=a==="/"?n:qi([n,a])),r.createHref({pathname:u,search:l,hash:i})}function dc(){return x.useContext(fc)!=null}function $a(){return vt(dc(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(fc).location}var BN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $N(e){x.useContext(ri).static||x.useLayoutEffect(e)}function Hh(){let{isDataRoute:e}=x.useContext(ea);return e?Dz():Sz()}function Sz(){vt(dc(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(dl),{basename:t,navigator:n}=x.useContext(ri),{matches:r}=x.useContext(ea),{pathname:i}=$a(),a=JSON.stringify(UN(r)),l=x.useRef(!1);return $N(()=>{l.current=!0}),x.useCallback((c,d={})=>{if(Tr(l.current,BN),!l.current)return;if(typeof c=="number"){n.go(c);return}let h=qN(c,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:qi([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,a,i,e])}x.createContext(null);function hc(e,{relative:t}={}){let{matches:n}=x.useContext(ea),{pathname:r}=$a(),i=JSON.stringify(UN(n));return x.useMemo(()=>qN(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function Tz(e,t){return FN(e,t)}function FN(e,t,n,r,i){vt(dc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=x.useContext(ri),{matches:l}=x.useContext(ea),u=l[l.length-1],c=u?u.params:{},d=u?u.pathname:"/",h=u?u.pathnameBase:"/",m=u&&u.route;{let O=m&&m.path||"";HN(d,!m||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let v=$a(),_;if(t){let O=typeof t=="string"?fl(t):t;vt(h==="/"||O.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${O.pathname}" was given in the \`location\` prop.`),_=O}else _=v;let T=_.pathname||"/",E=T;if(h!=="/"){let O=h.replace(/^\//,"").split("/");E="/"+T.replace(/^\//,"").split("/").slice(O.length).join("/")}let w=RN(e,{pathname:E});Tr(m||w!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Tr(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=Cz(w&&w.map(O=>Object.assign({},O,{params:Object.assign({},c,O.params),pathname:qi([h,a.encodeLocation?a.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?h:qi([h,a.encodeLocation?a.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),l,n,r,i);return t&&M?x.createElement(fc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},M):M}function Ez(){let e=Iz(),t=gz(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:a},"ErrorBoundary")," or"," ",x.createElement("code",{style:a},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:i},n):null,l)}var wz=x.createElement(Ez,null),xz=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?x.createElement(ea.Provider,{value:this.props.routeContext},x.createElement(Rb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Az({routeContext:e,match:t,children:n}){let r=x.useContext(dl);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(ea.Provider,{value:e},n)}function Cz(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=n?.errors;if(l!=null){let h=a.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);vt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,c=-1;if(n)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=h),m.route.id){let{loaderData:v,errors:_}=n,T=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!_||_[m.route.id]===void 0);if(m.route.lazy||T){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}let d=n&&r?(h,m)=>{r(h,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:m})}:void 0;return a.reduceRight((h,m,v)=>{let _,T=!1,E=null,w=null;n&&(_=l&&m.route.id?l[m.route.id]:void 0,E=m.route.errorElement||wz,u&&(c<0&&v===0?(HN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,w=null):c===v&&(T=!0,w=m.route.hydrateFallbackElement||null)));let M=t.concat(a.slice(0,v+1)),O=()=>{let P;return _?P=E:T?P=w:m.route.Component?P=x.createElement(m.route.Component,null):m.route.element?P=m.route.element:P=h,x.createElement(Az,{match:m,routeContext:{outlet:h,matches:M,isDataRoute:n!=null},children:P})};return n&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?x.createElement(xz,{location:n.location,revalidation:n.revalidation,component:E,error:_,children:O(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:d}):O()},null)}function kb(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Mz(e){let t=x.useContext(dl);return vt(t,kb(e)),t}function Pz(e){let t=x.useContext(Fh);return vt(t,kb(e)),t}function Oz(e){let t=x.useContext(ea);return vt(t,kb(e)),t}function Lb(e){let t=Oz(e),n=t.matches[t.matches.length-1];return vt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Nz(){return Lb("useRouteId")}function Iz(){let e=x.useContext(Rb),t=Pz("useRouteError"),n=Lb("useRouteError");return e!==void 0?e:t.errors?.[n]}function Dz(){let{router:e}=Mz("useNavigate"),t=Lb("useNavigate"),n=x.useRef(!1);return $N(()=>{n.current=!0}),x.useCallback(async(i,a={})=>{Tr(n.current,BN),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var tA={};function HN(e,t,n){!t&&!tA[e]&&(tA[e]=!0,Tr(!1,n))}x.memo(Rz);function Rz({routes:e,future:t,state:n,unstable_onError:r}){return FN(e,void 0,n,r,t)}function Ls(e){vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kz({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){vt(!dc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof n=="string"&&(n=fl(n));let{pathname:c="/",search:d="",hash:h="",state:m=null,key:v="default"}=n,_=x.useMemo(()=>{let T=$i(c,l);return T==null?null:{location:{pathname:T,search:d,hash:h,state:m,key:v},navigationType:r}},[l,c,d,h,m,v,r]);return Tr(_!=null,`<Router basename="${l}"> is not able to match the URL "${c}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:x.createElement(ri.Provider,{value:u},x.createElement(fc.Provider,{children:t,value:_}))}function Lz({children:e,location:t}){return Tz(Xy(e),t)}function Xy(e,t=[]){let n=[];return x.Children.forEach(e,(r,i)=>{if(!x.isValidElement(r))return;let a=[...t,i];if(r.type===x.Fragment){n.push.apply(n,Xy(r.props.children,a));return}vt(r.type===Ls,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Xy(r.props.children,a)),n.push(l)}),n}var Ed="get",wd="application/x-www-form-urlencoded";function Gh(e){return e!=null&&typeof e.tagName=="string"}function Uz(e){return Gh(e)&&e.tagName.toLowerCase()==="button"}function qz(e){return Gh(e)&&e.tagName.toLowerCase()==="form"}function jz(e){return Gh(e)&&e.tagName.toLowerCase()==="input"}function zz(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Bz(e,t){return e.button===0&&(!t||t==="_self")&&!zz(e)}function Qy(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function $z(e,t){let n=Qy(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(a=>{n.append(i,a)})}),n}var ed=null;function Fz(){if(ed===null)try{new FormData(document.createElement("form"),0),ed=!1}catch{ed=!0}return ed}var Hz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lv(e){return e!=null&&!Hz.has(e)?(Tr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wd}"`),null):e}function Gz(e,t){let n,r,i,a,l;if(qz(e)){let u=e.getAttribute("action");r=u?$i(u,t):null,n=e.getAttribute("method")||Ed,i=lv(e.getAttribute("enctype"))||wd,a=new FormData(e)}else if(Uz(e)||jz(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||u.getAttribute("action");if(r=c?$i(c,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||Ed,i=lv(e.getAttribute("formenctype"))||lv(u.getAttribute("enctype"))||wd,a=new FormData(u,e),!Fz()){let{name:d,type:h,value:m}=e;if(h==="image"){let v=d?`${d}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else d&&a.append(d,m)}}else{if(Gh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ed,r=null,i=wd,l=e}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ub(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Vz(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&$i(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Kz(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Yz(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Wz(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let l=await Kz(a,n);return l.links?l.links():[]}return[]}));return Zz(r.flat(1).filter(Yz).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function nA(e,t,n,r,i,a){let l=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,u=(c,d)=>n[d].pathname!==c.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==c.params["*"];return a==="assets"?t.filter((c,d)=>l(c,d)||u(c,d)):a==="data"?t.filter((c,d)=>{let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(l(c,d)||u(c,d))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function Jz(e,t,{includeHydrateFallback:n}={}){return Xz(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function Xz(e){return[...new Set(e)]}function Qz(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Zz(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(Qz(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function GN(){let e=x.useContext(dl);return Ub(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function eB(){let e=x.useContext(Fh);return Ub(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var qb=x.createContext(void 0);qb.displayName="FrameworkContext";function VN(){let e=x.useContext(qb);return Ub(e,"You must render this element inside a <HydratedRouter> element"),e}function tB(e,t){let n=x.useContext(qb),[r,i]=x.useState(!1),[a,l]=x.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:m}=t,v=x.useRef(null);x.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let E=M=>{M.forEach(O=>{l(O.isIntersecting)})},w=new IntersectionObserver(E,{threshold:.5});return v.current&&w.observe(v.current),()=>{w.disconnect()}}},[e]),x.useEffect(()=>{if(r){let E=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(E)}}},[r]);let _=()=>{i(!0)},T=()=>{i(!1),l(!1)};return n?e!=="intent"?[a,v,{}]:[a,v,{onFocus:bu(u,_),onBlur:bu(c,T),onMouseEnter:bu(d,_),onMouseLeave:bu(h,T),onTouchStart:bu(m,_)}]:[!1,v,{}]}function bu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function nB({page:e,...t}){let{router:n}=GN(),r=x.useMemo(()=>RN(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?x.createElement(iB,{page:e,matches:r,...t}):null}function rB(e){let{manifest:t,routeModules:n}=VN(),[r,i]=x.useState([]);return x.useEffect(()=>{let a=!1;return Wz(e,t,n).then(l=>{a||i(l)}),()=>{a=!0}},[e,t,n]),r}function iB({page:e,matches:t,...n}){let r=$a(),{manifest:i,routeModules:a}=VN(),{basename:l}=GN(),{loaderData:u,matches:c}=eB(),d=x.useMemo(()=>nA(e,t,c,i,r,"data"),[e,t,c,i,r]),h=x.useMemo(()=>nA(e,t,c,i,r,"assets"),[e,t,c,i,r]),m=x.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let T=new Set,E=!1;if(t.forEach(M=>{let O=i.routes[M.route.id];!O||!O.hasLoader||(!d.some(P=>P.route.id===M.route.id)&&M.route.id in u&&a[M.route.id]?.shouldRevalidate||O.hasClientLoader?E=!0:T.add(M.route.id))}),T.size===0)return[];let w=Vz(e,l,"data");return E&&T.size>0&&w.searchParams.set("_routes",t.filter(M=>T.has(M.route.id)).map(M=>M.route.id).join(",")),[w.pathname+w.search]},[l,u,r,i,d,t,e,a]),v=x.useMemo(()=>Jz(h,i),[h,i]),_=rB(h);return x.createElement(x.Fragment,null,m.map(T=>x.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),v.map(T=>x.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),_.map(({key:T,link:E})=>x.createElement("link",{key:T,nonce:n.nonce,...E})))}function aB(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var KN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{KN&&(window.__reactRouterVersion="7.9.6")}catch{}function oB({basename:e,children:t,window:n}){let r=x.useRef();r.current==null&&(r.current=Vj({window:n,v5Compat:!0}));let i=r.current,[a,l]=x.useState({action:i.action,location:i.location}),u=x.useCallback(c=>{x.startTransition(()=>l(c))},[l]);return x.useLayoutEffect(()=>i.listen(u),[i,u]),x.createElement(kz,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}var YN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WN=x.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:u,target:c,to:d,preventScrollReset:h,viewTransition:m,...v},_){let{basename:T}=x.useContext(ri),E=typeof d=="string"&&YN.test(d),w,M=!1;if(typeof d=="string"&&E&&(w=d,KN))try{let $=new URL(window.location.href),oe=d.startsWith("//")?new URL($.protocol+d):new URL(d),V=$i(oe.pathname,T);oe.origin===$.origin&&V!=null?d=V+oe.search+oe.hash:M=!0}catch{Tr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=_z(d,{relative:i}),[P,D,N]=tB(r,v),R=uB(d,{replace:l,state:u,target:c,preventScrollReset:h,relative:i,viewTransition:m});function k($){t&&t($),$.defaultPrevented||R($)}let B=x.createElement("a",{...v,...N,href:w||O,onClick:M||a?t:k,ref:aB(_,D),target:c,"data-discover":!E&&n==="render"?"true":void 0});return P&&!E?x.createElement(x.Fragment,null,B,x.createElement(nB,{page:O})):B});WN.displayName="Link";var JN=x.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:u,children:c,...d},h){let m=hc(l,{relative:d.relative}),v=$a(),_=x.useContext(Fh),{navigator:T,basename:E}=x.useContext(ri),w=_!=null&&mB(m)&&u===!0,M=T.encodeLocation?T.encodeLocation(m).pathname:m.pathname,O=v.pathname,P=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(O=O.toLowerCase(),P=P?P.toLowerCase():null,M=M.toLowerCase()),P&&E&&(P=$i(P,E)||P);const D=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let N=O===M||!i&&O.startsWith(M)&&O.charAt(D)==="/",R=P!=null&&(P===M||!i&&P.startsWith(M)&&P.charAt(M.length)==="/"),k={isActive:N,isPending:R,isTransitioning:w},B=N?t:void 0,$;typeof r=="function"?$=r(k):$=[r,N?"active":null,R?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let oe=typeof a=="function"?a(k):a;return x.createElement(WN,{...d,"aria-current":B,className:$,ref:h,style:oe,to:l,viewTransition:u},typeof c=="function"?c(k):c)});JN.displayName="NavLink";var sB=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:l=Ed,action:u,onSubmit:c,relative:d,preventScrollReset:h,viewTransition:m,...v},_)=>{let T=hB(),E=pB(u,{relative:d}),w=l.toLowerCase()==="get"?"get":"post",M=typeof u=="string"&&YN.test(u),O=P=>{if(c&&c(P),P.defaultPrevented)return;P.preventDefault();let D=P.nativeEvent.submitter,N=D?.getAttribute("formmethod")||l;T(D||P.currentTarget,{fetcherKey:t,method:N,navigate:n,replace:i,state:a,relative:d,preventScrollReset:h,viewTransition:m})};return x.createElement("form",{ref:_,method:w,action:E,onSubmit:r?c:O,...v,"data-discover":!M&&e==="render"?"true":void 0})});sB.displayName="Form";function lB(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XN(e){let t=x.useContext(dl);return vt(t,lB(e)),t}function uB(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let u=Hh(),c=$a(),d=hc(e,{relative:a});return x.useCallback(h=>{if(Bz(h,t)){h.preventDefault();let m=n!==void 0?n:Ku(c)===Ku(d);u(e,{replace:m,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[c,u,d,n,r,t,e,i,a,l])}function cB(e){Tr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=x.useRef(Qy(e)),n=x.useRef(!1),r=$a(),i=x.useMemo(()=>$z(r.search,n.current?null:t.current),[r.search]),a=Hh(),l=x.useCallback((u,c)=>{const d=Qy(typeof u=="function"?u(new URLSearchParams(i)):u);n.current=!0,a("?"+d,c)},[a,i]);return[i,l]}var fB=0,dB=()=>`__${String(++fB)}__`;function hB(){let{router:e}=XN("useSubmit"),{basename:t}=x.useContext(ri),n=Nz();return x.useCallback(async(r,i={})=>{let{action:a,method:l,encType:u,formData:c,body:d}=Gz(r,t);if(i.navigate===!1){let h=i.fetcherKey||dB();await e.fetch(h,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function pB(e,{relative:t}={}){let{basename:n}=x.useContext(ri),r=x.useContext(ea);vt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...hc(e||".",{relative:t})},l=$a();if(e==null){a.search=l.search;let u=new URLSearchParams(a.search),c=u.getAll("index");if(c.some(h=>h==="")){u.delete("index"),c.filter(m=>m).forEach(m=>u.append("index",m));let h=u.toString();a.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:qi([n,a.pathname])),Ku(a)}function mB(e,{relative:t}={}){let n=x.useContext(zN);vt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=XN("useViewTransitionState"),i=hc(e,{relative:t});if(!n.isTransitioning)return!1;let a=$i(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=$i(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ud(i.pathname,l)!=null||Ud(i.pathname,a)!=null}var jb=DN();function on(e){if(typeof e=="number")return(Math.abs(e*2654435761)>>>0).toString(16);if(typeof e=="boolean")return e?"1":"0";if(e===null)return"null";if(e===void 0)return"undefined";if(typeof e=="string"){let t=2166136261;for(let n=0;n<e.length;n++)t^=e.charCodeAt(n),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24),t=t>>>0;return t.toString(16)}if(Array.isArray(e)){let t=2166136261;for(let n=0;n<e.length;n++){t^=(n+1)*2654435761;const r=on(e[n]);for(let i=0;i<r.length;i++)t^=r.charCodeAt(i),t*=16777619,t=t>>>0}return t.toString(16)}if(typeof e=="object"){let t=2166136261;const n=Object.keys(e).sort();for(let r=0;r<n.length;r++){const i=n[r],a=on(i);t^=parseInt(a,16),t*=16777619,t=t>>>0;const l=on(e[i]);t^=parseInt(l,16),t*=16777619,t=t>>>0}return t.toString(16)}return on(String(e))}const At={Remove:"remove",Replace:"replace",Add:"add"},QN=Symbol.for("__MUTATIVE_PROXY_DRAFT__"),gB=Symbol("__MUTATIVE_RAW_RETURN_SYMBOL__"),xd=Symbol.iterator,tr={mutable:"mutable",immutable:"immutable"},zb={};function Uu(e,t){return e instanceof Map?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function rA(e,t){if(t in e){let n=Reflect.getPrototypeOf(e);for(;n;){const r=Reflect.getOwnPropertyDescriptor(n,t);if(r)return r;n=Reflect.getPrototypeOf(n)}}}function Bb(e){return Object.getPrototypeOf(e)===Set.prototype}function $b(e){return Object.getPrototypeOf(e)===Map.prototype}function Qn(e){var t;return(t=e.copy)!==null&&t!==void 0?t:e.original}function Ua(e){return!!ze(e)}function ze(e){return typeof e!="object"?null:e?.[QN]}function Fb(e){var t;const n=ze(e);return n?(t=n.copy)!==null&&t!==void 0?t:n.original:e}function Ur(e,t){if(!e||typeof e!="object")return!1;let n;return Object.getPrototypeOf(e)===Object.prototype||Array.isArray(e)||e instanceof Map||e instanceof Set||!!t?.mark&&((n=t.mark(e,tr))===tr.immutable||typeof n=="function")}function ZN(e,t=[]){if(Object.hasOwnProperty.call(e,"key")){const n=e.parent.copy,r=ze(Fi(n,e.key));if(r!==null&&r?.original!==e.original)return null;const i=e.parent.type===3,a=i?Array.from(e.parent.setMap.keys()).indexOf(e.key):e.key;if(!(i&&n.size>a||Uu(n,a)))return null;t.push(a)}if(e.parent)return ZN(e.parent,t);t.reverse();try{vB(e.copy,t)}catch{return null}return t}function zo(e){return Array.isArray(e)?1:e instanceof Map?2:e instanceof Set?3:0}function Fi(e,t){return zo(e)===2?e.get(t):e[t]}function pc(e,t,n){zo(e)===2?e.set(t,n):e[t]=n}function uv(e,t){const n=ze(e);return(n?Qn(n):e)[t]}function ji(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Zy(e){if(e)for(;e.finalities.revoke.length>0;)e.finalities.revoke.pop()()}function Ao(e,t){return t?e:[""].concat(e).map(n=>{const r=`${n}`;return r.indexOf("/")===-1&&r.indexOf("~")===-1?r:r.replace(/~/g,"~0").replace(/\//g,"~1")}).join("/")}function vB(e,t){for(let n=0;n<t.length-1;n+=1){const r=t[n];if(e=Fi(zo(e)===3?Array.from(e):e,r),typeof e!="object")throw new Error(`Cannot resolve patch at '${t.join("/")}'.`)}return e}function yB(e){const t=Object.create(Object.getPrototypeOf(e));return Reflect.ownKeys(e).forEach(n=>{let r=Reflect.getOwnPropertyDescriptor(e,n);if(r.enumerable&&r.configurable&&r.writable){t[n]=e[n];return}r.writable||(r.writable=!0,r.configurable=!0),(r.get||r.set)&&(r={configurable:!0,writable:!0,enumerable:r.enumerable,value:e[n]}),Reflect.defineProperty(t,n,r)}),t}const bB=Object.prototype.propertyIsEnumerable;function eI(e,t){let n;if(Array.isArray(e))return Array.prototype.concat.call(e);if(e instanceof Set){if(!Bb(e)){const r=Object.getPrototypeOf(e).constructor;return new r(e.values())}return Set.prototype.difference?Set.prototype.difference.call(e,new Set):new Set(e.values())}else if(e instanceof Map){if(!$b(e)){const r=Object.getPrototypeOf(e).constructor;return new r(e)}return new Map(e)}else if(t?.mark&&(n=t.mark(e,tr),n!==void 0)&&n!==tr.mutable){if(n===tr.immutable)return yB(e);if(typeof n=="function"){if(t.enablePatches||t.enableAutoFreeze)throw new Error("You can't use mark and patches or auto freeze together.");return n()}throw new Error(`Unsupported mark result: ${n}`)}else if(typeof e=="object"&&Object.getPrototypeOf(e)===Object.prototype){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i]}),Object.getOwnPropertySymbols(e).forEach(i=>{bB.call(e,i)&&(r[i]=e[i])}),r}else throw new Error("Please check mark() to ensure that it is a stable marker draftable function.")}function En(e){e.copy||(e.copy=eI(e.original,e.options))}function Ou(e){if(!Ur(e))return Fb(e);if(Array.isArray(e))return e.map(Ou);if(e instanceof Map){const n=Array.from(e.entries()).map(([r,i])=>[r,Ou(i)]);if(!$b(e)){const r=Object.getPrototypeOf(e).constructor;return new r(n)}return new Map(n)}if(e instanceof Set){const n=Array.from(e).map(Ou);if(!Bb(e)){const r=Object.getPrototypeOf(e).constructor;return new r(n)}return new Set(n)}const t=Object.create(Object.getPrototypeOf(e));for(const n in e)t[n]=Ou(e[n]);return t}function Ad(e){return Ua(e)?Ou(e):e}function Xr(e){var t;e.assignedMap=(t=e.assignedMap)!==null&&t!==void 0?t:new Map,e.operated||(e.operated=!0,e.parent&&Xr(e.parent))}function iA(){throw new Error("Cannot modify frozen object")}function Us(e,t,n,r,i){{n=n??new WeakMap,r=r??[],i=i??[];const l=n.has(e)?n.get(e):e;if(r.length>0){const u=r.indexOf(l);if(l&&typeof l=="object"&&u!==-1)throw r[0]===l?new Error("Forbids circular reference"):new Error(`Forbids circular reference: ~/${i.slice(0,u).map((c,d)=>{if(typeof c=="symbol")return`[${c.toString()}]`;const h=r[d];return typeof c=="object"&&(h instanceof Map||h instanceof Set)?Array.from(h.keys()).indexOf(c):c}).join("/")}`);r.push(l),i.push(t)}else r.push(l)}if(Object.isFrozen(e)||Ua(e)){r.pop(),i.pop();return}switch(zo(e)){case 2:for(const[u,c]of e)Us(u,u,n,r,i),Us(c,u,n,r,i);e.set=e.clear=e.delete=iA;break;case 3:for(const u of e)Us(u,u,n,r,i);e.add=e.clear=e.delete=iA;break;case 1:Object.freeze(e);let l=0;for(const u of e)Us(u,l,n,r,i),l+=1;break;default:Object.freeze(e),Object.keys(e).forEach(u=>{const c=e[u];Us(c,u,n,r,i)})}r.pop(),i.pop()}function Hb(e,t){const n=zo(e);if(n===0)Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)});else if(n===1){let r=0;for(const i of e)t(r,i,e),r+=1}else e.forEach((r,i)=>t(i,r,e))}function tI(e,t,n){if(Ua(e)||!Ur(e,n)||t.has(e)||Object.isFrozen(e))return;const r=e instanceof Set,i=r?new Map:void 0;if(t.add(e),Hb(e,(a,l)=>{var u;if(Ua(l)){const c=ze(l);En(c);const d=!((u=c.assignedMap)===null||u===void 0)&&u.size||c.operated?c.copy:c.original;pc(r?i:e,a,d)}else tI(l,t,n)}),i){const a=e,l=Array.from(a);a.clear(),l.forEach(u=>{a.add(i.has(u)?i.get(u):u)})}}function _B(e,t){const n=e.type===3?e.setMap:e.copy;e.finalities.revoke.length>1&&e.assignedMap.get(t)&&n&&tI(Fi(n,t),e.finalities.handledSet,e.options)}function e0(e){e.type===3&&e.copy&&(e.copy.clear(),e.setMap.forEach(t=>{e.copy.add(Fb(t))}))}function t0(e,t,n,r){if(e.operated&&e.assignedMap&&e.assignedMap.size>0&&!e.finalized){if(n&&r){const a=ZN(e);a&&t(e,a,n,r)}e.finalized=!0}}function Gb(e,t,n,r){const i=ze(n);i&&(i.callbacks||(i.callbacks=[]),i.callbacks.push((a,l)=>{var u;const c=e.type===3?e.setMap:e.copy;if(ji(Fi(c,t),n)){let d=i.original;i.copy&&(d=i.copy),e0(e),t0(e,r,a,l),e.options.enableAutoFreeze&&(e.options.updatedValues=(u=e.options.updatedValues)!==null&&u!==void 0?u:new WeakMap,e.options.updatedValues.set(d,i.original)),pc(c,t,d)}}),e.options.enableAutoFreeze&&i.finalities!==e.finalities&&(e.options.enableAutoFreeze=!1)),Ur(n,e.options)&&e.finalities.draft.push(()=>{const a=e.type===3?e.setMap:e.copy;ji(Fi(a,t),n)&&_B(e,t)})}function SB(e,t,n,r,i){let{original:a,assignedMap:l,options:u}=e,c=e.copy;c.length<a.length&&([a,c]=[c,a],[n,r]=[r,n]);for(let d=0;d<a.length;d+=1)if(l.get(d.toString())&&c[d]!==a[d]){const h=t.concat([d]),m=Ao(h,i);n.push({op:At.Replace,path:m,value:Ad(c[d])}),r.push({op:At.Replace,path:m,value:Ad(a[d])})}for(let d=a.length;d<c.length;d+=1){const h=t.concat([d]),m=Ao(h,i);n.push({op:At.Add,path:m,value:Ad(c[d])})}if(a.length<c.length){const{arrayLengthAssignment:d=!0}=u.enablePatches;if(d){const h=t.concat(["length"]),m=Ao(h,i);r.push({op:At.Replace,path:m,value:a.length})}else for(let h=c.length;a.length<h;h-=1){const m=t.concat([h-1]),v=Ao(m,i);r.push({op:At.Remove,path:v})}}}function TB({original:e,copy:t,assignedMap:n},r,i,a,l){n.forEach((u,c)=>{const d=Fi(e,c),h=Ad(Fi(t,c)),m=u?Uu(e,c)?At.Replace:At.Add:At.Remove;if(ji(d,h)&&m===At.Replace)return;const v=r.concat(c),_=Ao(v,l);i.push(m===At.Remove?{op:m,path:_}:{op:m,path:_,value:h}),a.push(m===At.Add?{op:At.Remove,path:_}:m===At.Remove?{op:At.Add,path:_,value:d}:{op:At.Replace,path:_,value:d})})}function EB({original:e,copy:t},n,r,i,a){let l=0;e.forEach(u=>{if(!t.has(u)){const c=n.concat([l]),d=Ao(c,a);r.push({op:At.Remove,path:d,value:u}),i.unshift({op:At.Add,path:d,value:u})}l+=1}),l=0,t.forEach(u=>{if(!e.has(u)){const c=n.concat([l]),d=Ao(c,a);r.push({op:At.Add,path:d,value:u}),i.unshift({op:At.Remove,path:d,value:u})}l+=1})}function Yu(e,t,n,r){const{pathAsArray:i=!0}=e.options.enablePatches;switch(e.type){case 0:case 2:return TB(e,t,n,r,i);case 1:return SB(e,t,n,r,i);case 3:return EB(e,t,n,r,i)}}const qd=(e,t,n=!1)=>{if(typeof e=="object"&&e!==null&&(!Ur(e,t)||n))throw new Error("Strict mode: Mutable data cannot be accessed directly, please use 'unsafe(callback)' wrap.")},n0={get size(){return Qn(ze(this)).size},has(e){return Qn(ze(this)).has(e)},set(e,t){const n=ze(this),r=Qn(n);return(!r.has(e)||!ji(r.get(e),t))&&(En(n),Xr(n),n.assignedMap.set(e,!0),n.copy.set(e,t),Gb(n,e,t,Yu)),this},delete(e){if(!this.has(e))return!1;const t=ze(this);return En(t),Xr(t),t.original.has(e)?t.assignedMap.set(e,!1):t.assignedMap.delete(e),t.copy.delete(e),!0},clear(){const e=ze(this);if(this.size){En(e),Xr(e),e.assignedMap=new Map;for(const[t]of e.original)e.assignedMap.set(t,!1);e.copy.clear()}},forEach(e,t){const n=ze(this);Qn(n).forEach((r,i)=>{e.call(t,this.get(i),i,this)})},get(e){var t,n;const r=ze(this),i=Qn(r).get(e),a=((n=(t=r.options).mark)===null||n===void 0?void 0:n.call(t,i,tr))===tr.mutable;if(r.options.strict&&qd(i,r.options,a),a||r.finalized||!Ur(i,r.options)||i!==r.original.get(e))return i;const l=zb.createDraft({original:i,parentDraft:r,key:e,finalities:r.finalities,options:r.options});return En(r),r.copy.set(e,l),l},keys(){return Qn(ze(this)).keys()},values(){const e=this.keys();return{[xd]:()=>this.values(),next:()=>{const t=e.next();return t.done?t:{done:!1,value:this.get(t.value)}}}},entries(){const e=this.keys();return{[xd]:()=>this.entries(),next:()=>{const t=e.next();if(t.done)return t;const n=this.get(t.value);return{done:!1,value:[t.value,n]}}}},[xd](){return this.entries()}},wB=Reflect.ownKeys(n0),aA=(e,t,{isValuesIterator:n})=>()=>{var r,i;const a=t.next();if(a.done)return a;const l=a.value;let u=e.setMap.get(l);const c=ze(u),d=((i=(r=e.options).mark)===null||i===void 0?void 0:i.call(r,u,tr))===tr.mutable;if(e.options.strict&&qd(l,e.options,d),!d&&!c&&Ur(l,e.options)&&!e.finalized&&e.original.has(l)){const h=zb.createDraft({original:l,parentDraft:e,key:l,finalities:e.finalities,options:e.options});e.setMap.set(l,h),u=h}else c&&(u=c.proxy);return{done:!1,value:n?u:[u,u]}},jd={get size(){return ze(this).setMap.size},has(e){const t=ze(this);if(t.setMap.has(e))return!0;En(t);const n=ze(e);return!!(n&&t.setMap.has(n.original))},add(e){const t=ze(this);return this.has(e)||(En(t),Xr(t),t.assignedMap.set(e,!0),t.setMap.set(e,e),Gb(t,e,e,Yu)),this},delete(e){if(!this.has(e))return!1;const t=ze(this);En(t),Xr(t);const n=ze(e);return n&&t.setMap.has(n.original)?(t.assignedMap.set(n.original,!1),t.setMap.delete(n.original)):(!n&&t.setMap.has(e)?t.assignedMap.set(e,!1):t.assignedMap.delete(e),t.setMap.delete(e))},clear(){if(!this.size)return;const e=ze(this);En(e),Xr(e);for(const t of e.original)e.assignedMap.set(t,!1);e.setMap.clear()},values(){const e=ze(this);En(e);const t=e.setMap.keys();return{[Symbol.iterator]:()=>this.values(),next:aA(e,t,{isValuesIterator:!0})}},entries(){const e=ze(this);En(e);const t=e.setMap.keys();return{[Symbol.iterator]:()=>this.entries(),next:aA(e,t,{isValuesIterator:!1})}},keys(){return this.values()},[xd](){return this.values()},forEach(e,t){const n=this.values();let r=n.next();for(;!r.done;)e.call(t,r.value,r.value,this),r=n.next()}};Set.prototype.difference&&Object.assign(jd,{intersection(e){return Set.prototype.intersection.call(new Set(this.values()),e)},union(e){return Set.prototype.union.call(new Set(this.values()),e)},difference(e){return Set.prototype.difference.call(new Set(this.values()),e)},symmetricDifference(e){return Set.prototype.symmetricDifference.call(new Set(this.values()),e)},isSubsetOf(e){return Set.prototype.isSubsetOf.call(new Set(this.values()),e)},isSupersetOf(e){return Set.prototype.isSupersetOf.call(new Set(this.values()),e)},isDisjointFrom(e){return Set.prototype.isDisjointFrom.call(new Set(this.values()),e)}});const xB=Reflect.ownKeys(jd),nI={get(e,t,n){var r,i;const a=(r=e.copy)===null||r===void 0?void 0:r[t];if(a&&e.finalities.draftsCache.has(a))return a;if(t===QN)return e;let l;if(e.options.mark){const d=t==="size"&&(e.original instanceof Map||e.original instanceof Set)?Reflect.get(e.original,t):Reflect.get(e.original,t,n);if(l=e.options.mark(d,tr),l===tr.mutable)return e.options.strict&&qd(d,e.options,!0),d}const u=Qn(e);if(u instanceof Map&&wB.includes(t))return t==="size"?Object.getOwnPropertyDescriptor(n0,"size").get.call(e.proxy):n0[t].bind(e.proxy);if(u instanceof Set&&xB.includes(t))return t==="size"?Object.getOwnPropertyDescriptor(jd,"size").get.call(e.proxy):jd[t].bind(e.proxy);if(!Uu(u,t)){const d=rA(u,t);return d?"value"in d?d.value:(i=d.get)===null||i===void 0?void 0:i.call(e.proxy):void 0}const c=u[t];if(e.options.strict&&qd(c,e.options),e.finalized||!Ur(c,e.options))return c;if(c===uv(e.original,t)){if(En(e),e.copy[t]=Vb({original:e.original[t],parentDraft:e,key:e.type===1?Number(t):t,finalities:e.finalities,options:e.options}),typeof l=="function"){const d=ze(e.copy[t]);return En(d),Xr(d),d.copy}return e.copy[t]}return Ua(c)&&e.finalities.draftsCache.add(c),c},set(e,t,n){var r;if(e.type===3||e.type===2)throw new Error("Map/Set draft does not support any property assignment.");let i;if(e.type===1&&t!=="length"&&!(Number.isInteger(i=Number(t))&&i>=0&&(t===0||i===0||String(i)===String(t))))throw new Error("Only supports setting array indices and the 'length' property.");const a=rA(Qn(e),t);if(a?.set)return a.set.call(e.proxy,n),!0;const l=uv(Qn(e),t),u=ze(l);return u&&ji(u.original,n)?(e.copy[t]=n,e.assignedMap=(r=e.assignedMap)!==null&&r!==void 0?r:new Map,e.assignedMap.set(t,!1),!0):(ji(n,l)&&(n!==void 0||Uu(e.original,t))||(En(e),Xr(e),Uu(e.original,t)&&ji(n,e.original[t])?e.assignedMap.delete(t):e.assignedMap.set(t,!0),e.copy[t]=n,Gb(e,t,n,Yu)),!0)},has(e,t){return t in Qn(e)},ownKeys(e){return Reflect.ownKeys(Qn(e))},getOwnPropertyDescriptor(e,t){const n=Qn(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},getPrototypeOf(e){return Reflect.getPrototypeOf(e.original)},setPrototypeOf(){throw new Error("Cannot call 'setPrototypeOf()' on drafts")},defineProperty(){throw new Error("Cannot call 'defineProperty()' on drafts")},deleteProperty(e,t){var n;return e.type===1?nI.set.call(this,e,t,void 0,e.proxy):(uv(e.original,t)!==void 0||t in e.original?(En(e),Xr(e),e.assignedMap.set(t,!1)):(e.assignedMap=(n=e.assignedMap)!==null&&n!==void 0?n:new Map,e.assignedMap.delete(t)),e.copy&&delete e.copy[t],!0)}};function Vb(e){const{original:t,parentDraft:n,key:r,finalities:i,options:a}=e,l=zo(t),u={type:l,finalized:!1,parent:n,original:t,copy:null,proxy:null,finalities:i,options:a,setMap:l===3?new Map(t.entries()):void 0};(r||"key"in e)&&(u.key=r);const{proxy:c,revoke:d}=Proxy.revocable(l===1?Object.assign([],u):u,nI);if(i.revoke.push(d),u.proxy=c,n){const h=n;h.finalities.draft.push((m,v)=>{var _,T;const E=ze(c);let w=h.type===3?h.setMap:h.copy;const M=Fi(w,r),O=ze(M);if(O){let P=O.original;O.operated&&(P=Fb(M)),e0(O),t0(O,Yu,m,v),h.options.enableAutoFreeze&&(h.options.updatedValues=(_=h.options.updatedValues)!==null&&_!==void 0?_:new WeakMap,h.options.updatedValues.set(P,O.original)),pc(w,r,P)}(T=E.callbacks)===null||T===void 0||T.forEach(P=>{P(m,v)})})}else{const h=ze(c);h.finalities.draft.push((m,v)=>{e0(h),t0(h,Yu,m,v)})}return c}zb.createDraft=Vb;function AB(e,t,n,r,i){var a;const l=ze(e),u=(a=l?.original)!==null&&a!==void 0?a:e,c=!!t.length;if(l?.operated)for(;l.finalities.draft.length>0;)l.finalities.draft.pop()(n,r);const d=c?t[0]:l?l.operated?l.copy:l.original:e;return l&&Zy(l),i&&Us(d,d,l?.options.updatedValues),[d,n&&c?[{op:At.Replace,path:[],value:t[0]}]:n,r&&c?[{op:At.Replace,path:[],value:u}]:r]}function CB(e,t){var n;const r={draft:[],revoke:[],handledSet:new WeakSet,draftsCache:new WeakSet};let i,a;t.enablePatches&&(i=[],a=[]);const u=((n=t.mark)===null||n===void 0?void 0:n.call(t,e,tr))===tr.mutable||!Ur(e,t)?e:Vb({original:e,parentDraft:null,finalities:r,options:t});return[u,(c=[])=>{const[d,h,m]=AB(u,c,i,a,t.enableAutoFreeze);return t.enablePatches?[d,h,m]:d}]}function r0(e){const{rootDraft:t,value:n,useRawReturn:r=!1,isRoot:i=!0}=e;Hb(n,(a,l,u)=>{const c=ze(l);if(c&&t&&c.finalities===t.finalities){e.isContainDraft=!0;const d=c.original;if(u instanceof Set){const h=Array.from(u);u.clear(),h.forEach(m=>u.add(a===m?d:m))}else pc(u,a,d)}else typeof l=="object"&&l!==null&&(e.value=l,e.isRoot=!1,r0(e))}),i&&(e.isContainDraft||console.warn("The return value does not contain any draft, please use 'rawReturn()' to wrap the return value to improve performance."),r&&console.warn("The return value contains drafts, please don't use 'rawReturn()' to wrap the return value."))}function rI(e){var t;const n=ze(e);if(!Ur(e,n?.options))return e;const r=zo(e);if(n&&!n.operated)return n.original;let i;function a(){i=r===2?$b(e)?new Map(e):new(Object.getPrototypeOf(e)).constructor(e):r===3?Array.from(n.setMap.values()):eI(e,n?.options)}if(n){n.finalized=!0;try{a()}finally{n.finalized=!1}}else i=e;if(Hb(i,(l,u)=>{if(n&&ji(Fi(n.original,l),u))return;const c=rI(u);c!==u&&(i===e&&a(),pc(i,l,c))}),r===3){const l=(t=n?.original)!==null&&t!==void 0?t:i;return Bb(l)?new Set(i):new(Object.getPrototypeOf(l)).constructor(i)}return i}function oA(e){if(!Ua(e))throw new Error(`current() is only used for Draft, parameter: ${e}`);return rI(e)}const MB=e=>function t(n,r,i){var a,l,u;if(typeof n=="function"&&typeof r!="function")return function(N,...R){return t(N,k=>n.call(this,k,...R),r)};const c=n,d=r;let h=i;if(typeof r!="function"&&(h=r),h!==void 0&&Object.prototype.toString.call(h)!=="[object Object]")throw new Error(`Invalid options: ${h}, 'options' should be an object.`);h=Object.assign(Object.assign({},e),h);const m=Ua(c)?oA(c):c,v=Array.isArray(h.mark)?((N,R)=>{for(const k of h.mark){if(typeof k!="function")throw new Error(`Invalid mark: ${k}, 'mark' should be a function.`);const B=k(N,R);if(B)return B}}):h.mark,_=(a=h.enablePatches)!==null&&a!==void 0?a:!1,T=(l=h.strict)!==null&&l!==void 0?l:!1,w={enableAutoFreeze:(u=h.enableAutoFreeze)!==null&&u!==void 0?u:!1,mark:v,strict:T,enablePatches:_};if(!Ur(m,w)&&typeof m=="object"&&m!==null)throw new Error("Invalid base state: create() only supports plain objects, arrays, Set, Map or using mark() to mark the state as immutable.");const[M,O]=CB(m,w);if(typeof r!="function"){if(!Ur(m,w))throw new Error("Invalid base state: create() only supports plain objects, arrays, Set, Map or using mark() to mark the state as immutable.");return[M,O]}let P;try{P=d(M)}catch(N){throw Zy(ze(M)),N}const D=N=>{const R=ze(M);if(!Ua(N)){if(N!==void 0&&!ji(N,M)&&R?.operated)throw new Error("Either the value is returned as a new non-draft value, or only the draft is modified without returning any value.");const B=N?.[gB];if(B){const $=B[0];return w.strict&&typeof N=="object"&&N!==null&&r0({rootDraft:R,value:N,useRawReturn:!0}),O([$])}if(N!==void 0)return typeof N=="object"&&N!==null&&r0({rootDraft:R,value:N}),O([N])}if(N===M||N===void 0)return O([]);const k=ze(N);if(w===k.options){if(k.operated)throw new Error("Cannot return a modified child draft.");return O([oA(N)])}return O([N])};return P instanceof Promise?P.then(D,N=>{throw Zy(ze(M)),N}):D(P)},zd=MB();Object.prototype.constructor.toString();function iI(e,t){const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&Object.keys(e).every(i=>t.hasOwnProperty(i))}function sA(e,t){return Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(n=>t.hasOwnProperty(n)&&e[n]===t[n])}function Cd(e,t){return typeof e!="object"||typeof t!="object"||e===null||t===null?e===t:iI(e,t)?Object.keys(e).every(n=>Cd(e[n],t[n])):!1}function Kb(e){if(!Nu(e))return e;const t={};for(const[n,r]of Object.entries(e))r!==void 0&&(t[n]=r);return t}function aI(e,t){if(!Nu(e)||!Nu(t))return t;const n=Object.assign({},e);for(const r of Object.keys(t)){if(t[r]===void 0)continue;if(t[r]===null){delete n[r];continue}const i=Nu(e[r])&&Nu(t[r]);n[r]=i?aI(e[r],t[r]):t[r]}return n}function Nu(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function PB(e,t,n){if(!e||t.length===0)return;let r=e||{};for(let a=0;a<t.length-1;a++){const l=t[a];(!(l in r)||typeof r[l]!="object")&&(r[l]=typeof t[a+1]=="number"?[]:{}),r=r[l]}const i=t[t.length-1];Array.isArray(r)&&typeof i=="number"?r.splice(i,0,n):r[i]=n}function lA(e,t,n){if(!e||t.length===0)return;let r=e||{};for(let i=0;i<t.length-1;i++){const a=t[i];(!(a in r)||typeof r[a]!="object")&&(r[a]=typeof t[i+1]=="number"?[]:{}),r=r[a]}r[t[t.length-1]]=n}function oI(e,t){if(!e||t.length===0)return;const[n,...r]=t;if(n in e){if(r.length===0){Array.isArray(e)?e.splice(n,1):delete e[n];return}oI(e[n],r),OB(e[n])&&delete e[n]}}function OB(e){return e&&Object.keys(e).length===0}const uA=/ZULU|YEKT|YEKST|YAPT|YAKT|YAKST|XJT|WGT|WGST|WFT|WETDST|WET|WDT|WAT|WAST|WAKT|WADT|VUT|VOLT|VLAT|VLAST|VET|UZT|UZST|UYT|UYST|UTC|UT|ULAT|ULAST|UCT|TVT|TRUT|TOT|TMT|TKT|TJT|TFT|TAHT|SGT|SCT|SAST|SADT|RET|PYT|PYST|PWT|PST|PONT|PMST|PMDT|PKT|PKST|PHT|PGT|PETT|PETST|PET|PDT|OMST|OMSST|NZT|NZST|NZDT|NUT|NST|NPT|NOVT|NOVST|NFT|NDT|MYT|MVT|MUT|MUST|MST|MSK|MSD|MPT|MMT|MHT|MEZ|METDST|MET|MESZ|MEST|MDT|MAWT|MART|MAGT|MAGST|LKT|LINT|LIGT|LHST|LHDT|KST|KRAT|KRAST|KOST|KGT|KGST|KDT|JST|JAYT|IST|IRT|IRKT|IRKST|IOT|IDT|ICT|HST|HKT|GYT|GMT|GILT|GFT|GET|GEST|GAMT|GALT|FNT|FNST|FKT|FKST|FJT|FJST|FET|EST|EGT|EGST|EETDST|EET|EEST|EDT|EAT|EAST|EASST|DDUT|DAVT|CXT|CST|COT|CLT|CLST|CKT|CHUT|CHAST|CHADT|CETDST|CET|CEST|CDT|CCT|CAST|CADT|BTT|BST|BRT|BRST|BRA|BOT|BORT|BNT|BDT|BDST|AZT|AZST|AZOT|AZOST|AWST|AWSST|AST|ART|ARST|ANAT|ANAST|AMT|AMST|ALMT|ALMST|AKST|AKDT|AFT|AEST|AESST|AEDT|ADT|ACWST|ACT|ACST|ACSST|ACDT$/,NB={ZULU:0,YEKT:18e3,YEKST:21600,YAPT:36e3,YAKT:32400,YAKST:32400,XJT:21600,WGT:-10800,WGST:-7200,WFT:43200,WETDST:3600,WET:0,WDT:32400,WAT:3600,WAST:25200,WAKT:43200,WADT:28800,VUT:39600,VOLT:10800,VLAT:36e3,VLAST:36e3,VET:-14400,UZT:18e3,UZST:21600,UYT:-10800,UYST:-7200,UTC:0,UT:0,ULAT:28800,ULAST:32400,UCT:0,TVT:43200,TRUT:36e3,TOT:46800,TMT:18e3,TKT:46800,TJT:18e3,TFT:18e3,TAHT:-36e3,SGT:28800,SCT:14400,SAST:7200,SADT:37800,RET:14400,PYT:-14400,PYST:-10800,PWT:32400,PST:-28800,PONT:39600,PMST:-10800,PMDT:-7200,PKT:18e3,PKST:21600,PHT:28800,PGT:36e3,PETT:43200,PETST:43200,PET:-18e3,PDT:-25200,OMST:21600,OMSST:21600,NZT:43200,NZST:43200,NZDT:46800,NUT:-39600,NST:-12600,NPT:20700,NOVT:25200,NOVST:25200,NFT:-12600,NDT:-9e3,MYT:28800,MVT:18e3,MUT:14400,MUST:18e3,MST:-25200,MSK:10800,MSD:14400,MPT:36e3,MMT:23400,MHT:43200,MEZ:3600,METDST:7200,MET:3600,MESZ:7200,MEST:7200,MDT:-21600,MAWT:18e3,MART:-34200,MAGT:39600,MAGST:39600,LKT:19800,LINT:50400,LIGT:36e3,LHST:37800,LHDT:37800,KST:32400,KRAT:25200,KRAST:25200,KOST:39600,KGT:21600,KGST:21600,KDT:36e3,JST:32400,JAYT:32400,IST:7200,IRT:12600,IRKT:28800,IRKST:28800,IOT:21600,IDT:10800,ICT:25200,HST:-36e3,HKT:28800,GYT:-14400,GMT:0,GILT:43200,GFT:-10800,GET:14400,GEST:14400,GAMT:-32400,GALT:-21600,FNT:-7200,FNST:-3600,FKT:-10800,FKST:-10800,FJT:43200,FJST:46800,FET:10800,EST:-18e3,EGT:-3600,EGST:0,EETDST:10800,EET:7200,EEST:10800,EDT:-14400,EAT:10800,EAST:-21600,EASST:-21600,DDUT:36e3,DAVT:25200,CXT:25200,CST:-21600,COT:-18e3,CLT:-14400,CLST:-10800,CKT:-36e3,CHUT:36e3,CHAST:45900,CHADT:49500,CETDST:7200,CET:3600,CEST:7200,CDT:-18e3,CCT:28800,CAST:34200,CADT:37800,BTT:21600,BST:3600,BRT:-10800,BRST:-7200,BRA:-10800,BOT:-14400,BORT:28800,BNT:28800,BDT:21600,BDST:7200,AZT:14400,AZST:14400,AZOT:-3600,AZOST:0,AWST:28800,AWSST:32400,AST:-14400,ART:-10800,ARST:-10800,ANAT:43200,ANAST:43200,AMT:-14400,AMST:14400,ALMT:21600,ALMST:25200,AKST:-32400,AKDT:-28800,AFT:16200,AEST:36e3,AESST:39600,AEDT:39600,ADT:-10800,ACWST:31500,ACT:-18e3,ACST:34200,ACSST:37800,ACDT:37800};function IB(e){return new Date(e)}function DB(e){return new Date(e+"Z")}const RB=/^(\d+)[\./-](\d+)[\./-](\d+)$/;function kB(e){const t=e.match(RB);if(!t)return null;const[n,r,i,a]=t;return r<=0||i<=0||a<=0?null:r>999?new Date(Date.UTC(r,i-1,a,0,0,0,0)):new Date(Date.UTC(a,r-1,i,0,0,0,0))}function LB(e){const[t,n]=e.split(" ");return new Date(t+"T"+n+"Z")}function UB(e){const[t,n]=e.split(" ");return new Date(t+"T"+n+"Z")}function qB(e){return new Date(e)}function jB(e){const t=/^(\w{3}) (\w{3}) (\d{2}) (\d{4})$/;if(!e.match(t))throw new Error(`Unable to parse \`${e}\` as a date.`);const r=new Date(e+" UTC");return new Date(Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),0,0,0,0))}function zB(e){const t=/^(.+T.+)([+-])(\d{2})$/,n=e.match(t);if(n){const[,r,i,a]=n,l=`${r}${i}${a}:00`;return new Date(l)}return null}function BB(e){const[t,n]=e.split(", "),[r,i,a]=t.split("/").map(Number),l=n.match(/(\d{1,2}):(\d{2}):(\d{2}) (AM|PM)/);if(!l)throw new Error(`Unable to parse time from: ${e}`);let[,u,c,d,h]=l;return u=Number(u),c=Number(c),d=Number(d),h==="PM"&&u!==12?u+=12:h==="AM"&&u===12&&(u=0),new Date(Date.UTC(a,r-1,i,u,c,d))}function $B(e){switch(e){case"epoch":return new Date(0);case"infinity":case"-infinity":case"today":case"tomorrow":case"yesterday":return null}}function FB(e){const t=e.match(uA);if(!t)return null;const[n]=t,r=NB[n],i=new Date(e.replace(uA,"Z"));return new Date(i.getTime()-r*1e3)}const HB=[kB,UB,jB,BB,qB,DB,zB,LB,IB,$B,FB];function GB(e,t){try{const n=e(t);return n instanceof Date&&!isNaN(n.getTime())?n:null}catch{return null}}function i0(e){for(const t of HB){const n=GB(t,e);if(n)return n}return null}function VB(e){try{const t=JSON.parse(e);return typeof t=="string"?i0(t):null}catch{return null}}function Vh(e){if(e!==void 0){if(e===null)return null;if(e instanceof Date)return e;if(typeof e=="string"){const t=i0(e)||VB(e)||i0(e.trim());if(!t)throw new Error(`Unable to parse \`${e}\` as a date.`);return t}else if(typeof e=="number")return new Date(e);throw new Error(`Invalid date value \`${e}\`. Expected a date, number, or string, got type ${typeof e}.`)}}function KB(e){return e.cardinality==="one"}function Yb(e){return e["value-type"]==="ref"}function Wb(e){return e["value-type"]==="blob"}function hl(e,t){return e[t]}function pl(e,t){return t.reduce((n,r)=>n&&n.get(r),e)}function Ir(e,t){if(t.length===0)throw new Error("path must have at least one element");if(t.length===1){e.delete(t[0]);return}const[n,...r]=t;e.has(n)&&Ir(e.get(n),r)}function qn(e,t,n){if(t.length===0)throw new Error("path must have at least one element");if(t.length===1){e.set(t[0],n);return}const[r,...i]=t;let a=e.get(r);a||(a=new Map,e.set(r,a)),qn(a,i,n)}function sI(e,t,n){const r=new Map,i=new Map,a=new Map;for(const l of t){let[u,c,d,h]=l;const m=hl(e,c);if(!m){console.warn("no such attr",u,e);continue}m["checked-data-type"]==="date"&&n&&(d=Vh(d),l[2]=d),Yb(m)&&qn(a,[d,c,u],l),qn(r,[u,c,d],l),qn(i,[c,u,d],l)}return{eav:r,aev:i,vae:a}}function lI(e){const t=new Map,n=new Map,r=new Map,i=new Map;for(const a of Object.values(e)){const l=a["forward-identity"],[u,c,d]=l,h=a["reverse-identity"];if(qn(r,[c,d],a),Wb(a)&&qn(t,[c,d],a),a["primary?"]&&qn(n,[c],a),h){const[m,v,_]=h;qn(i,[v,_],a)}}return{blobAttrs:t,primaryKeys:n,forwardIdents:r,revIdents:i}}function uI(e){return{__type:e.__type,attrs:e.attrs,triples:zn(e.eav,3),cardinalityInference:e.cardinalityInference,linkIndex:e.linkIndex,useDateObjects:e.useDateObjects}}function cI(e){return Md(e.attrs,e.triples,e.cardinalityInference,e.linkIndex,e.useDateObjects)}function YB(e,t){return pl(e.eav,[t])!==void 0}function Jb(e){e.attrIndexes=lI(e.attrs)}function Md(e,t,n,r,i){const a=sI(e,t,i);return a.useDateObjects=i,a.attrs=e,a.attrIndexes=lI(e),a.cardinalityInference=n,a.linkIndex=r,a.__type="store",a}function mc(e,t){var n,r;let i;if(Array.isArray(t[0])){const[l,u]=t[0],c=e.aev.get(l);if(!c)return null;i=(n=zn(c,2).find(h=>h[2]===u))===null||n===void 0?void 0:n[0]}else i=t[0];if(!i)return null;const a=t[2];if(Array.isArray(a)&&a.length===2&&e.aev.get(a[0])){const[l,u]=a,c=e.aev.get(l);if(!c)return null;const h=(r=zn(c,2).find(E=>E[2]===u))===null||r===void 0?void 0:r[0];if(!h)return null;const[m,v,_,...T]=t;return[i,v,h,...T]}else{const[l,...u]=t;return[i,...u]}}function fI(e,t){const n=mc(e,t);if(!n)return;const[r,i,a]=n,l=hl(e.attrs,i);l&&(Ir(e.eav,[r,i,a]),Ir(e.aev,[i,r,a]),Yb(l)&&Ir(e.vae,[a,i,r]))}let WB=0;function dI(e,t,n){const[r,i,a]=n;let l;const u=pl(e.ea,[r,i,a]);return u&&(l=u[3]),l||Date.now()*10+WB++}function hI(e,t){var n;const r=mc(e,t);if(!r)return;let[i,a,l]=r;const u=hl(e.attrs,a);if(!u)return;u["checked-data-type"]==="date"&&e.useDateObjects&&(l=Vh(l));const c=pl(e.eav,[i,a,l]),d=(n=c?.[3])!==null&&n!==void 0?n:dI(e,u,r),h=[i,a,l,d];KB(u)?(qn(e.eav,[i,a],new Map([[l,h]])),qn(e.aev,[a,i],new Map([[l,h]]))):(qn(e.eav,[i,a,l],h),qn(e.aev,[a,i,l],h)),Yb(u)&&qn(e.vae,[l,a,i],h)}function JB(e,t){var n;const r=mc(e,t);if(!r)return;const[i,a,l]=r,u=hl(e.attrs,a);if(!u)return;if(!Wb(u))throw new Error("merge operation is not supported for links");const c=pl(e.eav,[i,a]);if(!c)return;const d=(n=c.values().next())===null||n===void 0?void 0:n.value;if(!d)return;const h=d[2],m=aI(h,l),v=[i,a,m,dI(e,u,d)];qn(e.eav,[i,a],new Map([[m,v]]))}function a0(e,t){var n,r;const[i,a]=t,l=mc(e,[i]);if(!l)return;const[u]=l,c=e.eav.get(u);if(c){for(const h of c.keys()){const m=e.attrs[h];m&&m["on-delete-reverse"]==="cascade"&&zn(c.get(h),1).forEach(([v,_,T])=>{var E;return a0(e,[T,(E=m["reverse-identity"])===null||E===void 0?void 0:E[1]])}),(!a||!m||((n=m["forward-identity"])===null||n===void 0?void 0:n[1])===a)&&(Ir(e.aev,[h,u]),Ir(e.eav,[u,h]))}c.size===0&&Ir(e.eav,[u])}const d=e.vae.get(u)&&zn(e.vae.get(u),2);d&&d.forEach(h=>{var m,v,_;const[T,E,w]=h,M=e.attrs[E];(!a||!M||((m=M["reverse-identity"])===null||m===void 0?void 0:m[1])===a)&&(Ir(e.eav,[T,E,w]),Ir(e.aev,[E,T,w]),Ir(e.vae,[w,E,T])),M&&M["on-delete"]==="cascade"&&((v=M["reverse-identity"])===null||v===void 0?void 0:v[1])===a&&a0(e,[T,(_=M["forward-identity"])===null||_===void 0?void 0:_[1]])}),((r=e.vae.get(u))===null||r===void 0?void 0:r.size)===0&&Ir(e.vae,[u])}function pI(e,t){const n=sI(e.attrs,t,e.useDateObjects);Object.keys(n).forEach(r=>{e[r]=n[r]})}function XB(e,[t]){e.attrs[t.id]=t,Jb(e)}function mI(e){return zn(e.eav,3)}function QB(e,[t]){if(!e.attrs[t])return;const n=mI(e).filter(([r,i])=>i!==t);delete e.attrs[t],Jb(e),pI(e,n)}function ZB(e,[t]){const n=e.attrs[t.id];n&&(e.attrs[t.id]=Object.assign(Object.assign({},n),t),Jb(e),pI(e,mI(e)))}function e3(e,t){const[n,...r]=t;switch(n){case"add-triple":hI(e,r);break;case"deep-merge-triple":JB(e,r);break;case"retract-triple":fI(e,r);break;case"delete-entity":a0(e,r);break;case"add-attr":XB(e,r);break;case"delete-attr":QB(e,r);break;case"update-attr":ZB(e,r);break;case"restore-attr":break;case"rule-params":break;default:throw new Error(`unhandled transaction action: ${n}`)}}function zn(e,t,n=[]){if(!e||t===0)return n;if(t===1){for(const r of e.values())n.push(r);return n}for(const r of e.values())zn(r,t-1,n);return n}function td(e,t,n){var r,i;const a=[];if(n?.hasOwnProperty("$not")){for(const u of t.keys())n.$not!==u&&a.push(t.get(u));return a}if(n?.hasOwnProperty("$isNull")){const{attrId:u,isNull:c,reverse:d}=n.$isNull;if(d)for(const h of t.keys()){const m=e.vae.get(h),v=!m||((r=m.get(u))===null||r===void 0?void 0:r.get(null))||!m.get(u);(c?v:!v)&&a.push(t.get(h))}else{const h=e.aev.get(u);for(const m of t.keys()){const v=!h||((i=h.get(m))===null||i===void 0?void 0:i.get(null))||!h.get(m);(c?v:!v)&&a.push(t.get(m))}}return a}if(n?.$comparator)return zn(t,1).filter(n.$op);const l=n.in||n.$in||[n];for(const u of l){const c=t.get(u);c&&a.push(c)}return a}function t3(e,t,n){let r="";return e!==void 0&&(r+="e"),t!==void 0&&(r+="a"),n!==void 0&&(r+="v"),r}function n3(e,[t,n,r]){var i,a;switch(t3(t,n,r)){case"e":{const u=e.eav.get(t);return zn(u,2)}case"ea":{const u=(i=e.eav.get(t))===null||i===void 0?void 0:i.get(n);return zn(u,1)}case"eav":{const u=(a=e.eav.get(t))===null||a===void 0?void 0:a.get(n);return u?td(e,u,r):[]}case"ev":{const u=e.eav.get(t);if(!u)return[];const c=[];for(const d of u.values())c.push(...td(e,d,r));return c}case"a":{const u=e.aev.get(n);return zn(u,2)}case"av":{const u=e.aev.get(n);if(!u)return[];const c=[];for(const d of u.values())c.push(...td(e,d,r));return c}case"v":{const u=[];for(const c of e.eav.values())for(const d of c.values())u.push(...td(e,d,r));return u}default:return zn(e.eav,3)}}function r3(e,t,n){var r;const i={};for(const[a,l]of t.entries()){const u=(r=e.eav.get(n))===null||r===void 0?void 0:r.get(l.id),c=zn(u,1);for(const d of c)i[a]=d[2]}return i}function qa(e,t,n){var r;return(r=e.attrIndexes.forwardIdents.get(t))===null||r===void 0?void 0:r.get(n)}function gI(e,t,n){var r;return(r=e.attrIndexes.revIdents.get(t))===null||r===void 0?void 0:r.get(n)}function i3(e,t){return e.attrIndexes.blobAttrs.get(t)}function vI(e,t){var n;const r=e.attrIndexes.primaryKeys.get(t);return r||((n=e.attrIndexes.forwardIdents.get(t))===null||n===void 0?void 0:n.get("id"))}function a3(e,t){const n=mc(e,t);if(!n)return;const[r,i,a]=n;if(hl(e.attrs,i))return pl(e.eav,[r,i])}function o3(e,t){const n=t.filter(([r,i,a,l,u])=>{if(r!=="add-triple"&&r!=="deep-merge-triple")return!0;const c=u?.mode;if(c!=="create"&&c!=="update")return!0;let d=!1;const h=hl(e.attrs,a);if(h){const m=vI(e,h["forward-identity"][1]);d=!!a3(e,[i,m.id,i])}return!(c==="create"&&d||c==="update"&&!d)});return zd(e,r=>{n.forEach(i=>{e3(r,i)})})}function s3(e){return typeof e=="string"&&e.startsWith("?")}function l3(e,t,n){if(n.hasOwnProperty(e)){const r=n[e];return yI(r,t,n)}return Object.assign(Object.assign({},n),{[e]:t})}function cA(e,t,n){return e===t?n:null}function u3(e){switch(typeof e){case"string":return e.startsWith("?")?l3:cA;default:return cA}}const c3=["in","$in","$not","$isNull","$comparator"];function f3(e){for(const t of c3)if(e.hasOwnProperty(t))return!0;return!1}function yI(e,t,n){return n?typeof e=="object"?f3(e)?n:null:u3(e)(e,t,n):null}function d3(e,t,n){return e.reduce((r,i,a)=>{const l=t[a];return yI(i,l,r)},n)}function h3(e,t,n){return g3(e,t,n).map(r=>d3(t,r,n)).filter(r=>r)}function p3(e,t,n){return t.or?t.or.patterns.flatMap(r=>o0(e,r,n)):t.and?t.and.patterns.reduce((r,i)=>o0(e,i,r),n):n.flatMap(r=>h3(e,t,r))}function o0(e,t,n=[{}]){return t.reduce((r,i)=>p3(e,i,r),n)}function Xb(e,t){return Array.isArray(t)?t.map(n=>Xb(e,n)):s3(t)?e[t]:t}function m3(e,{find:t,where:n}){return o0(e,n).map(i=>Xb(i,t))}function g3(e,t,n){return n3(e,Xb(n,t))}const v3=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function Zs(e){return typeof e=="string"&&v3.test(e)}const rn=[];for(let e=0;e<256;++e)rn.push((e+256).toString(16).slice(1));function y3(e,t=0){return(rn[e[t+0]]+rn[e[t+1]]+rn[e[t+2]]+rn[e[t+3]]+"-"+rn[e[t+4]]+rn[e[t+5]]+"-"+rn[e[t+6]]+rn[e[t+7]]+"-"+rn[e[t+8]]+rn[e[t+9]]+"-"+rn[e[t+10]]+rn[e[t+11]]+rn[e[t+12]]+rn[e[t+13]]+rn[e[t+14]]+rn[e[t+15]]).toLowerCase()}let cv;const b3=new Uint8Array(16);function _3(){if(!cv){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");cv=crypto.getRandomValues.bind(crypto)}return cv(b3)}const S3=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),fA={randomUUID:S3};function T3(e,t,n){if(fA.randomUUID&&!e)return fA.randomUUID();e=e||{};const r=e.random??e.rng?.()??_3();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,y3(r)}function dA(e){const t=e.replace(/-/g,""),n=[];for(let r=0;r<t.length;r+=2)n.push(parseInt(t.substring(r,r+2),16));return n}function E3(e,t){for(let n=0;n<e.length;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0}function w3(e,t){return E3(dA(e),dA(t))}function Yt(){return T3()}function x3(e,t){return e.localeCompare(t)}function A3(){let e=x3;if(typeof Intl=="object"&&Intl.hasOwnProperty("Collator"))try{e=Intl.Collator("en-US").compare}catch{}return e}const C3=A3();let M3=0;function qu(e){return Kh(`_${e}`,M3++)}function Kh(e,t){return`?${e}-${t}`}class el extends Error{constructor(t){super(t),this.name="AttrNotFoundError"}}function P3(e,t){const n=vI(e,t);if(!n)throw new el(`Could not find id attr for ${t}`);return n}function hA(e,t,n,r){return[O3(e,t,n,r)]}function O3(e,t,n,r){return[e(n,r),P3(t,n).id,e(n,r),e("time",r)]}function N3(e,t,n){return e.map(r=>r===t?n:r)}function bI(e,t,n,r,i){const a=qa(t,n,i),l=gI(t,n,i),u=a||l;if(!u)throw new el(`Could not find attr for ${[n,i]}`);if(u["value-type"]!=="ref")throw new Error(`Attr ${u.id} is not a ref`);const[c,d]=u["forward-identity"],[h,m]=u["reverse-identity"],v=r+1,_=a?[e(d,r),u.id,e(m,v),qu("time")]:[e(d,v),u.id,e(m,r),qu("time")];return[a?m:d,v,_,u,!!a]}function pA(e,t){if(typeof t!="string")return function(l){return!1};const r=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/%/g,".*").replace(/_/g,"."),i=new RegExp(`^${r}$`,e?void 0:"i");return function(l){return typeof l!="string"?!1:i.test(l)}}function I3(e,t){if(typeof t!="object"||t.hasOwnProperty("$in")||t.hasOwnProperty("in"))return t;const n=e["checked-data-type"]==="date";if(t.hasOwnProperty("$gt"))return{$comparator:!0,$op:n?function(i){return new Date(i[2])>new Date(t.$gt)}:function(i){return i[2]>t.$gt}};if(t.hasOwnProperty("$gte"))return{$comparator:!0,$op:n?function(i){return new Date(i[2])>=new Date(t.$gte)}:function(i){return i[2]>=t.$gte}};if(t.hasOwnProperty("$lt"))return{$comparator:!0,$op:n?function(i){return new Date(i[2])<new Date(t.$lt)}:function(i){return i[2]<t.$lt}};if(t.hasOwnProperty("$lte"))return{$comparator:!0,$op:n?function(i){return new Date(i[2])<=new Date(t.$lte)}:function(i){return i[2]<=t.$lte}};if(t.hasOwnProperty("$like")){const r=pA(!0,t.$like);return{$comparator:!0,$op:function(a){return r(a[2])}}}if(t.hasOwnProperty("$ilike")){const r=pA(!1,t.$ilike);return{$comparator:!0,$op:function(a){return r(a[2])}}}return t}function D3(e,t,n,r,i,a){const l=qa(t,n,i),u=gI(t,n,i),c=l||u;if(!c)throw new el(`No attr for etype = ${n} label = ${i}`);if(a?.hasOwnProperty("$isNull")){const d=qa(t,n,"id");if(!d)throw new el(`No attr for etype = ${n} label = id`);return[e(n,r),d.id,{$isNull:{attrId:c.id,isNull:a.$isNull,reverse:!l}},qu("time")]}return l?[e(n,r),c.id,I3(c,a),qu("time")]:[a,c.id,e(n,r),qu("time")]}function R3(e,t,n,r,i){const[a,l,u]=i.reduce((c,d)=>{const[h,m,v]=c,[_,T,E]=bI(e,t,h,m,d);return[_,T,[...v,E]]},[n,r,[]]);return[a,l,u]}function s0(e,t,n,r,i,a){const l=i.slice(0,i.length-1),u=i[i.length-1],[c,d,h]=R3(e,t,n,r,l),m=D3(e,t,c,d,u,a);return h.concat([m])}function k3(e,t){return t?[t].concat(e):e}function L3([e,t]){return e==="or"&&Array.isArray(t)}function U3([e,t]){return e==="and"&&Array.isArray(t)}function q3(e,t,n){return(r,i)=>{const a=e(r,i);return t==a?a:`${a}-${n}`}}function mA(e,t,n,r,i,a){const l=e(r,i),u=a.map((c,d)=>{const h=q3(e,l,d);return _I(h,n,r,i,c)});return{[t]:{patterns:u,joinSym:l}}}function j3(e){const t=[];for(let n=1;n<=e.length;n++)t.push(e.slice(0,n));return t}function gA(e,t,n,r,i){return j3(i).map(a=>s0(e,t,n,r,a,{$isNull:!0}))}function _I(e,t,n,r,i){return Object.entries(i).flatMap(([a,l])=>{if(L3([a,l]))return mA(e,"or",t,n,r,l);if(U3([a,l]))return mA(e,"and",t,n,r,l);if(a==="$entityIdStartsWith")return[];const u=a.split(".");if(l?.hasOwnProperty("$ne")&&(l=Object.assign(Object.assign({},l),{$not:l.$ne}),delete l.$ne),l?.hasOwnProperty("$not")){const c=s0(e,t,n,r,u,l),d=gA(e,t,n,r,u);return[{or:{patterns:[c,...d],joinSym:e(n,r)}}]}return l?.hasOwnProperty("$isNull")&&l.$isNull===!0&&u.length>1?[{or:{patterns:gA(e,t,n,r,u),joinSym:e(n,r)}}]:s0(e,t,n,r,u,l)})}function z3(e,t,n,r){const i=Kh;return r?_I(i,e,t,n,r).concat(hA(i,e,t,n)):hA(i,e,t,n)}function B3(e,t,n){return[e(t,n),e("time",n)]}function $3(e,t,n,r,i,a){const[l,u,c,d,h]=bI(e,t,n,r,i),m=N3(c,e(n,r),a);return[l,u,m,d,h]}function F3(e,t,{etype:n,level:r,form:i},a){const l=Object.keys(i).filter(u=>u!=="$");return l.length?Object.entries(a).map(function([c,d]){return l.map(function(v){var _,T,E;const w=!!(t.cardinalityInference&&(!((E=(T=(_=t.linkIndex)===null||_===void 0?void 0:_[n])===null||T===void 0?void 0:T[v])===null||E===void 0)&&E.isSingular));try{const[M,O,P]=$3(e,t,n,r,v,c),D=TI(t,{etype:M,level:O,form:i[v],join:P}),N=w?D[0]:D;return{[v]:N}}catch(M){if(M instanceof el)return{[v]:w?void 0:[]};throw M}}).reduce(function(v,_){return Object.assign(Object.assign({},v),_)},d)}):Object.values(a)}function H3(e,t,n){return n==="string"?C3(e,t):e>t?1:-1}function Iu(e,t,n,r,i){return t===r||t==null&&r==null?w3(e,n):r==null?1:t==null?-1:H3(t,r,i)}function Bd([e,t],[n,r],i){return Iu(e,t,n,r,i)}function l0(e){return e==null?e:new Date(e).getTime()}function G3(e,t,n,r){var i;const[a,l,u,c]=e,d=n==="desc"?1:-1;if(((i=t["forward-identity"])===null||i===void 0?void 0:i[2])==="id")return Bd(r,[a,c],null)===d;const[h,m]=r,v=t["checked-data-type"],_=v==="date"?l0(m):m,T=v==="date"?l0(u):u;return Bd([h,_],[a,T],v)===d}function V3(e,t){const n=t[1];return e.attrs[n]}function K3(e,t,n){const r=Object.keys(n)[0];return qa(e,t,r)}function Y3(e,t,n,r){if(n)return V3(e,n);if(r)return K3(e,t,r)}function W3(e,t,n){var r,i;if(!Array.isArray(n.fields))return i3(e,t);const a=new Map;for(const l of n.fields){const u=qa(e,t,l),c=(r=u?.["forward-identity"])===null||r===void 0?void 0:r[2];c&&Wb(u)&&a.set(c,u)}if(!a.has("id")){const l=qa(e,t,"id"),u=(i=l?.["forward-identity"])===null||i===void 0?void 0:i[2];u&&a.set(u,l)}return a}function J3(e,{etype:t,pageInfo:n,dq:r,form:i}){var a,l;const u=(a=i?.$)===null||a===void 0?void 0:a.order,c=SI(i),d=X3(i);let h=m3(e,r);const m=n?.["start-cursor"],v=Y3(e,t,m,u);if(v&&((l=v?.["forward-identity"])===null||l===void 0?void 0:l[2])!=="id"){const E=v["checked-data-type"]==="date",w=v.id;h=h.map(([M])=>{var O,P,D,N,R;let k=(R=(N=(D=(P=(O=e.eav.get(M))===null||O===void 0?void 0:O.get(w))===null||P===void 0?void 0:P.values())===null||D===void 0?void 0:D.next())===null||N===void 0?void 0:N.value)===null||R===void 0?void 0:R[2];return E&&(k=l0(k)),[M,k]})}h.sort(d==="asc"?function(w,M){return Bd(w,M,v?.["checked-data-type"])}:function(w,M){return Bd(M,w,v?.["checked-data-type"])});let _={};const T=W3(e,t,r);for(const E of h){const[w]=E;if(_[w]||!c&&m&&v&&G3(m,v,d,E))continue;const M=r3(e,T,w);M&&(_[w]=M)}return _}function X3(e){var t;const n=(t=e.$)===null||t===void 0?void 0:t.order;return n&&n[Object.keys(n)[0]]||"asc"}function SI(e){var t,n,r;const i=(t=e.$)===null||t===void 0?void 0:t.offset,a=(n=e.$)===null||n===void 0?void 0:n.before,l=(r=e.$)===null||r===void 0?void 0:r.after;return!i&&!a&&!l}function Q3(e,{etype:t,level:n,form:r,join:i,pageInfo:a}){var l,u,c,d,h;if(!SI(r)&&(!a||!a["start-cursor"]))return[];const m=k3(z3(e,t,n,(l=r.$)===null||l===void 0?void 0:l.where),i),v=B3(Kh,t,n),_=(u=r.$)===null||u===void 0?void 0:u.fields,T=J3(e,{etype:t,pageInfo:a,form:r,dq:{where:m,find:v,fields:_}}),E=((c=r.$)===null||c===void 0?void 0:c.limit)||((d=r.$)===null||d===void 0?void 0:d.first)||((h=r.$)===null||h===void 0?void 0:h.last);if(E!=null){n>0&&console.warn("WARNING: Limits in child queries are only run client-side. Data returned from the server will not have a limit.");const w=Object.entries(T);return w.length<=E?T:Object.fromEntries(w.slice(0,E))}return T}function Z3(e,t){try{return Q3(e,t)}catch(n){if(n instanceof el)return{};throw n}}function TI(e,t){const n=Z3(e,t);return F3(Kh,e,t,n)}function e$(e){const t={};for(const[n,r]of Object.entries(e))t[n]={startCursor:r["start-cursor"],endCursor:r["end-cursor"],hasNextPage:r["has-next-page?"],hasPreviousPage:r["has-previous-page?"]};return t}function EI({store:e,pageInfo:t,aggregate:n},r){const a={data:Object.keys(r).reduce(function(u,c){return n?.[c]||c==="$$ruleParams"||(u[c]=TI(e,{etype:c,form:r[c],level:0,pageInfo:t?.[c]})),u},{})};return t&&(a.pageInfo=e$(t)),n&&(a.aggregate=n),a}function t$(){const t={__etype:1,__ops:1,create:1,update:1,link:1,unlink:1,delete:1,merge:1,ruleParams:1};return new Set(Object.keys(t))}const n$=t$();function u0(e,t,n){const r={__etype:e,__ops:n};return new Proxy(r,{get:(i,a)=>{if(a==="__ops")return n;if(a==="__etype")return e;if(n$.has(a))return(l,u)=>u0(e,t,[...n,u?[a,e,t,l,u]:[a,e,t,l]])}})}function $d(e){return e.startsWith("lookup__")}function wI(e){const[t,n,...r]=e.split("__");return[n,JSON.parse(r.join("__"))]}function r$(e){return new Proxy({__etype:e},{get(t,n){if(n==="__etype")return e;const r=n;return $d(r)?u0(e,wI(r),[]):u0(e,r,[])}})}function Qb(){return new Proxy({},{get(e,t){return r$(t)}})}Qb();function i$(e){return e.__ops}function a$(e,t){const{attrIdMap:n,refSwapAttrIds:r}=e,i=[];for(const l of t){const u=n[l];if(u)i.push(u);else if(Array.isArray(l)&&l.length==2&&n[l[0]]){const[c,d]=l;i.push([n[c],d])}else i.push(l)}const[a]=t;if((a==="add-triple"||a==="retract-triple")&&r.has(t[2])){const l=i[1];i[1]=i[3],i[3]=l}return i}function sn(e,t,n){return Object.values(e).find(r=>{const[i,a,l]=r["forward-identity"];return a===t&&l===n})}function Oo(e,t,n){return Object.values(e).find(r=>{const i=r["reverse-identity"];if(!i)return!1;const[a,l,u]=i;return l===t&&u===n})}function o$(e){if(Array.isArray(e))return e;const t=Object.entries(e);if(t.length!==1)throw new Error("lookup must be an object with a single unique attr and value.");return t[0]}function c0(e,t,n){return n.indexOf(".")!==-1&&!sn(e,t,n)}function f0(e){const[t,n,...r]=e.split(".");if(r.length>0||n!=="id")throw new Error(`${e} is not a valid lookup attribute.`);return t}function s$(e,t,n){if(!c0(e,t,n))return sn(e,t,n);const r=f0(n),i=sn(e,t,r)||Oo(e,t,r);if(i&&i["value-type"]!=="ref")throw new Error(`${n} does not reference a valid link attribute.`);return i}function d0(e){return typeof e=="string"&&!$d(e)?null:typeof e=="string"&&$d(e)?wI(e):o$(e)}function Bn(e,t,n){const r=d0(n);if(r===null)return n;const[i,a]=r,l=s$(e,t,i);if(!l||!l["unique?"])throw new Error(`${i} is not a unique attribute.`);return[l.id,a]}function xI(e,t,n,r){const i=Bn(e,t,n);return Array.isArray(i)?[["add-triple",i,sn(e,t,"id").id,i]].concat(r):r}function l$({attrs:e},[t,n,r]){const i=Object.entries(r).flatMap(([a,l])=>{const u=Array.isArray(l)?l:[l],c=sn(e,t,a),d=Oo(e,t,a);return u.map(h=>c?["add-triple",Bn(e,t,n),c.id,Bn(e,c["reverse-identity"][1],h)]:["add-triple",Bn(e,d["forward-identity"][1],h),d.id,Bn(e,t,n)])});return xI(e,t,n,i)}function u$({attrs:e},[t,n,r]){const i=Object.entries(r).flatMap(([a,l])=>{const u=Array.isArray(l)?l:[l],c=sn(e,t,a),d=Oo(e,t,a);return u.map(h=>c?["retract-triple",Bn(e,t,n),c.id,Bn(e,c["reverse-identity"][1],h)]:["retract-triple",Bn(e,d["forward-identity"][1],h),d.id,Bn(e,t,n)])});return xI(e,t,n,i)}function c$(e,t,n){if(Array.isArray(n)){const[r,i]=n;for(const a of e||[]){const l=a?.aev.get(r);if(l){for(const[u,c,d]of zn(l,2))if(d===i)return!0}}}else for(const r of e||[]){const i=r?.eav.get(n);if(i){for(const a of i.keys())if(r.attrs[a]["forward-identity"][1]==t)return!0}}return!1}function AI({stores:e,attrs:t},[n,r,i,a]){return a?.upsert===!1?{mode:"update"}:a?.upsert===!0?null:c$(e,n,r)?{mode:"update"}:null}function f$(e,t){const{stores:n,attrs:r}=e,[i,a,l,u]=t,c=Kb(l),d=Bn(r,i,a);return[["id",d]].concat(Object.entries(c)).map(([m,v])=>{const _=sn(r,i,m);return _["checked-data-type"]==="date"&&e.useDateObjects&&(v=Vh(v)),["add-triple",d,_.id,v,{mode:"create"}]})}function d$(e,t){const{stores:n,attrs:r}=e,[i,a,l,u]=t,c=Kb(l),d=Bn(r,i,a),h=AI(e,[i,d,l,u]);return[["id",d]].concat(Object.entries(c)).map(([v,_])=>{const T=sn(r,i,v);return T["checked-data-type"]==="date"&&e.useDateObjects&&(_=Vh(_)),["add-triple",d,T.id,_,...h?[h]:[]]})}function h$({attrs:e},[t,n]){return[["delete-entity",Bn(e,t,n),t]]}function p$(e,t){const{stores:n,attrs:r}=e,[i,a,l,u]=t,c=Kb(l),d=Bn(r,i,a),h=AI(e,[i,d,l,u]),m=Object.entries(c).map(([_,T])=>{const E=sn(r,i,_);return["deep-merge-triple",d,E.id,T,...h?[h]:[]]});return[["add-triple",d,sn(r,i,"id").id,d,...h?[h]:[]]].concat(m)}function m$({attrs:e},[t,n,r]){return[["rule-params",Bn(e,t,n),t,r]]}function g$(e){const[t,n,r,i,a]=e;if(!i)return e;const l=Object.assign({},i);return delete l.id,[t,n,r,l,...a?[a]:[]]}function v$(e,t){const[n,...r]=g$(t);switch(n){case"merge":return p$(e,r);case"create":return f$(e,r);case"update":return d$(e,r);case"link":return l$(e,r);case"unlink":return u$(e,r);case"delete":return h$(e,r);case"ruleParams":return m$(e,r);default:throw new Error(`unsupported action ${n}`)}}function y$(e){switch(e){case"string":case"date":case"boolean":case"number":return e;default:return}}function b$(e,t,n){var r,i;const a=(i=(r=e.entities[t])===null||r===void 0?void 0:r.attrs)===null||i===void 0?void 0:i[n];if(n==="id")return null;if(!a)throw new Error(`${t}.${n} does not exist in your schema`);const{unique:l,indexed:u}=a?.config,c=y$(a?.valueType);return{"index?":u,"unique?":l,"checked-data-type":c}}function nd(e,t,n,r){const i=e?b$(e,t,n):null,a=Yt(),u=[Yt(),t,n];return Object.assign(Object.assign({id:a,"forward-identity":u,"value-type":"blob",cardinality:"one","unique?":!1,"index?":!1,isUnsynced:!0},i||{}),r||{})}function _$(e,t,n){return Object.values(e.links).find(i=>i.forward.on===t&&i.forward.label===n||i.reverse.on===t&&i.reverse.label===n)}function S$(e,t,n){const r=_$(e,t,n);if(!r)throw new Error(`Couldn't find the link ${t}.${n} in your schema`);const{forward:i,reverse:a}=r;return{"forward-identity":[Yt(),i.on,i.label],"reverse-identity":[Yt(),a.on,a.label],cardinality:i.has==="one"?"one":"many","unique?":a.has==="one","on-delete":i.onDelete,"on-delete-reverse":a.onDelete}}function vA(e,t,n,r){const i=e?S$(e,t,n):null,a=Yt(),l=[Yt(),t,n],u=[Yt(),n,t];return Object.assign(Object.assign({id:a,"forward-identity":l,"reverse-identity":u,"value-type":"ref",cardinality:"many","unique?":!1,"index?":!1,isUnsynced:!0},i||{}),r||{})}const T$=new Set(["create","update","merge","link","unlink"]),E$=new Set(["link","unlink"]),w$=new Set(["create","update","merge"]),x$=new Set(["link","unlink","create","update","merge","delete","ruleParams"]),h0={"unique?":!0,"index?":!0},A$=Object.assign(Object.assign({},h0),{cardinality:"one"});function C$(e){const t=[],[n,r,i,a]=e;if(!x$.has(n))return t;const l=d0(i);if(l&&t.push({etype:r,lookupPair:l}),n==="link")for(const[u,c]of Object.entries(a)){const d=Array.isArray(c)?c:[c];for(const h of d){const m=d0(h);m&&t.push({etype:r,lookupPair:m,linkLabel:u})}}return t}function M$({attrs:e,schema:t},n){var r,i;const[a,l,u]=[new Set,Object.assign({},e),[]];function c(m){l[m.id]=m,u.push(["add-attr",m]),a.add(m.id)}function d(m){m?.isUnsynced&&!a.has(m.id)&&(u.push(["add-attr",m]),a.add(m.id))}function h(m,v){const _=sn(l,m,v),T=Oo(l,m,v);d(_),d(T),!_&&!T&&c(vA(t,m,v,A$))}for(const m of n)for(const{etype:v,lookupPair:_,linkLabel:T}of C$(m)){const E=_[0];if(T){h(v,T);const w=sn(l,v,T),M=Oo(l,v,T);d(w),d(M);const O=((r=w?.["reverse-identity"])===null||r===void 0?void 0:r[1])||((i=M?.["forward-identity"])===null||i===void 0?void 0:i[1])||T;if(c0(l,O,E))h(O,f0(E));else{const P=sn(l,O,E);P||c(nd(t,O,E,h0)),d(P)}}else if(c0(l,v,E))h(v,f0(E));else{const w=sn(l,v,E);w||c(nd(t,v,E,h0)),d(w)}}for(const m of n){const[v,_,T,E]=m;if(T$.has(v)){const w=sn(l,_,"id");d(w),w||c(nd(t,_,"id",{"unique?":!0}));for(const M of Object.keys(E)){const O=sn(l,_,M);if(d(O),w$.has(v)&&(O||c(nd(t,_,M,M==="id"?{"unique?":!0}:null))),E$.has(v)){const P=Oo(l,_,M);!O&&!P&&c(vA(t,_,M)),d(P)}}}}return[l,u]}function P$(e,t){const r=(Array.isArray(t)?t:[t]).flatMap(c=>i$(c)),[i,a]=M$(e,r),l=Object.assign(Object.assign({},e),{attrs:i}),u=r.flatMap(c=>v$(l,c));return[...a,...u]}var Yr=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};function yA(e,t){typeof requestIdleCallback>"u"?e():requestIdleCallback(e,{timeout:t})}const ju="__meta";class O${constructor(t,n){}}class p0{constructor(t){var n,r;this._subs=[],this._nextSave=null,this._nextGc=null,this._pendingSaveKeys=new Set,this._loadedKeys=new Set,this._version=0,this._meta={isLoading:!0,onLoadCbs:[],value:null,error:null,attempts:0},this._persister=t.persister,this._merge=t.merge,this.serialize=t.serialize,this.parse=t.parse,this._objectSize=t.objectSize,this._log=t.logger,this._saveThrottleMs=(n=t.saveThrottleMs)!==null&&n!==void 0?n:100,this._idleCallbackMaxWaitMs=(r=t.idleCallbackMaxWaitMs)!==null&&r!==void 0?r:1e3,this._gcOpts=t.gc,this.currentValue={},this._loadedKeys=new Set,this._loadingKeys={},this._initMeta(),t.preloadEntryCount&&this._preloadEntries(t.preloadEntryCount)}_initMeta(){return Yr(this,void 0,void 0,function*(){var t,n,r;this._meta.loadingPromise&&(yield this._meta.loadingPromise);try{const i=this._persister.getItem(ju);this._meta.loadingPromise=i;const a=yield i;this._meta.isLoading=!1,this._meta.error=null,this._meta.loadingPromise=null,this._meta.attempts=0;const l=(n=(t=this._meta.value)===null||t===void 0?void 0:t.objects)!==null&&n!==void 0?n:{},u=a??{},c=(r=u.objects)!==null&&r!==void 0?r:{};this._meta.value=Object.assign(Object.assign({},u),{objects:Object.assign(Object.assign({},l),c)})}catch(i){this._meta.error=i,this._meta.attempts++,this._meta.loadingPromise=null}})}_getMeta(){return Yr(this,void 0,void 0,function*(){return this._meta.value?this._meta.value:this._meta.loadingPromise?(yield this._meta.loadingPromise,this._meta.value):(this._initMeta(),yield this._meta.loadingPromise,this._meta.value)})}_refreshMeta(){return Yr(this,void 0,void 0,function*(){return yield this._initMeta(),this._meta.value})}_preloadEntries(t){return Yr(this,void 0,void 0,function*(){const n=yield this.waitForMetaToLoad();if(!n)return;const r=Object.entries(n.objects);r.sort(([i,a],[l,u])=>u.updatedAt-a.updatedAt);for(const[i]of r.slice(0,t))this._loadKey(i)})}_getFromStorage(t){return Yr(this,void 0,void 0,function*(){try{const n=yield this._persister.getItem(t);return n&&this.parse(t,n)}catch(n){return console.error(`Unable to read from storage for key=${t}`,n),null}})}waitForKeyToLoad(t){return Yr(this,void 0,void 0,function*(){return this._loadedKeys.has(t)?this.currentValue[t]:(yield this._loadingKeys[t]||this._loadKey(t),this.currentValue[t])})}waitForMetaToLoad(){return Yr(this,void 0,void 0,function*(){return this._getMeta()})}unloadKey(t){this._loadedKeys.delete(t),delete this._loadingKeys[t],delete this.currentValue[t]}_loadKey(t){return Yr(this,void 0,void 0,function*(){if(this._loadedKeys.has(t)||t in this._loadingKeys)return;const n=this._getFromStorage(t);this._loadingKeys[t]=n;const r=yield n;if(delete this._loadingKeys[t],this._loadedKeys.add(t),r){const i=this._merge(t,r,this.currentValue[t]);i&&(this.currentValue[t]=i)}this.onKeyLoaded&&this.onKeyLoaded(t)})}_writeToStorage(t){var n,r;const i=[],a=t?.skipGc;if(this._meta.isLoading){const _=new Promise((T,E)=>{var w;setTimeout(()=>this._enqueuePersist(t?Object.assign(Object.assign({},t),{attempts:(t.attempts||0)+1}):{attempts:1}).then(T).catch(E),10+((w=t?.attempts)!==null&&w!==void 0?w:0)*1e3)});return i.push(_),Promise.all(i).then(T=>T.reduce((E,w)=>E+w,0))}const l=this._meta.value;if(!l)return Promise.resolve(0);const u=[],c=[];for(const _ of this._pendingSaveKeys)_ in this.currentValue?c.push(_):(u.push(_),delete l.objects[_]);for(const _ of u){const T=this._persister.removeItem(_);i.push(T.then(()=>1)),this._loadedKeys.delete(_),this._pendingSaveKeys.delete(_)}const d=[],h=[[ju,l]],m=(n=l.objects)!==null&&n!==void 0?n:{};l.objects=m;for(const _ of c)if(this._loadedKeys.has(_)){const T=this.serialize(_,this.currentValue[_]);h.push([_,T]);const E=this._objectSize(T),w=(r=m[_])!==null&&r!==void 0?r:{createdAt:Date.now(),updatedAt:Date.now(),size:E};w.updatedAt=Date.now(),w.size=E,m[_]=w,this._pendingSaveKeys.delete(_)}else d.push(_);const v=this._persister.multiSet(h);i.push(v.then(()=>1));for(const _ of d){const T=this._loadKey(_).then(()=>this._enqueuePersist(t));i.push(T)}return a||this.gc(),Promise.all(i).then(_=>_.reduce((T,E)=>T+E,0))}flush(){return Yr(this,void 0,void 0,function*(){return this._nextSave?(clearTimeout(this._nextSave),this._nextSave=null,this._writeToStorage()):void 0})}_gc(){return Yr(this,void 0,void 0,function*(){if(!this._gcOpts)return;const t=new Set(yield this._persister.getAllKeys());t.delete(ju);const n=new Set(Object.keys(this.currentValue));for(const v of Object.keys(this._loadingKeys))n.add(v);for(const v of this._loadedKeys)n.add(v);const r=yield this._refreshMeta();if(!r){this._log.info("Could not gc because we were not able to load meta");return}const i=[],a={gcOpts:this._gcOpts,keys:t,sacredKeys:n,removed:[],metaRemoved:[],removedMissingCount:0,removedOldCount:0,removedThresholdCount:0,removedSizeCount:0};for(const v of t)n.has(v)||v in r.objects||(this._log.info("Lost track of key in meta",v),i.push(this._persister.removeItem(v)),a.removed.push(v),a.removedMissingCount++);const l=Date.now();for(const[v,_]of Object.entries(r.objects))!n.has(v)&&_.updatedAt<l-this._gcOpts.maxAgeMs&&(i.push(this._persister.removeItem(v)),delete r.objects[v],a.removed.push(v),a.removedOldCount++);const u=Object.entries(r.objects);u.sort(([v,_],[T,E])=>_.updatedAt-E.updatedAt);const c=u.filter(([v])=>!n.has(v));if(u.length>this._gcOpts.maxEntries)for(const[v]of c.slice(0,u.length-this._gcOpts.maxEntries))i.push(this._persister.removeItem(v)),delete r.objects[v],a.removed.push(v),a.removedThresholdCount++;const d=Object.entries(r.objects);d.sort(([v,_],[T,E])=>_.updatedAt-E.updatedAt);const h=d.filter(([v])=>!n.has(v));let m=d.reduce((v,[_,T])=>v+T.size,0);for(;m>0&&m>this._gcOpts.maxSize&&h.length;){const[[v,_]]=h.splice(0,1);m-=_.size,i.push(this._persister.removeItem(v)),delete r.objects[v],a.removed.push(v),a.removedSizeCount++}for(const v of Object.keys(r.objects))!t.has(v)&&!n.has(v)&&delete r.objects[v];return(a.removed.length||a.metaRemoved.length)&&i.push(this._enqueuePersist({skipGc:!0})),this._log.info("Completed GC",a),yield Promise.all(i),a})}gc(){this._nextGc||(this._nextGc=setTimeout(()=>{yA(()=>{this._nextGc=null,this._gc()},30*1e3)},1e3*60+Math.random()*500))}_enqueuePersist(t){return new Promise((n,r)=>{if(this._nextSave){n(0);return}this._nextSave=setTimeout(()=>{yA(()=>{this._nextSave=null,this._writeToStorage(t).then(n).catch(r)},this._idleCallbackMaxWaitMs)},this._saveThrottleMs)})}version(){return this._version}updateInPlace(t){this._version++;const[n,r]=zd(this.currentValue,t,{enablePatches:!0});for(const i of r){const a=i.path[0];a&&typeof a=="string"&&(this._pendingSaveKeys.add(a),this._loadedKeys.has(a)||this._loadKey(a))}for(const i of Object.keys(n))if(!n[i])debugger;this.currentValue=n,this._enqueuePersist();for(const i of this._subs)i(this.currentValue);return n}subscribe(t){return this._subs.push(t),t(this.currentValue),()=>{this._subs=this._subs.filter(n=>n!==t)}}}var Ii=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};const N$=6,I$=["kv","querySubs","syncSubs"];function D$(e){return function(n){console.error("Error in IndexedDB event",{source:e,event:n})}}function R$(e){return Ii(this,void 0,void 0,function*(){return new Promise(t=>{const n=indexedDB.open(e);n.onerror=r=>{t(null)},n.onsuccess=r=>{const a=r.target.result;t(a)},n.onupgradeneeded=r=>{var i;(i=r.target.transaction)===null||i===void 0||i.abort(),t(null)}})})}function k$(e,t,n){return Ii(this,void 0,void 0,function*(){const r=typeof t=="string"?JSON.parse(t):t;if(!r)return;const i=new Set;return new Promise((a,l)=>{var u,c,d,h;const m={};for(const[T,E]of Object.entries(r)){const w=typeof E=="string"?JSON.parse(E):E;if(w.lastAccessed){const O={createdAt:w.lastAccessed,updatedAt:w.lastAccessed,size:(h=(d=(c=(u=w.result)===null||u===void 0?void 0:u.store)===null||c===void 0?void 0:c.triples)===null||d===void 0?void 0:d.length)!==null&&h!==void 0?h:0};m[T]=O}const M=n.put(w,T);i.add(M)}const v={objects:m},_=n.put(v,ju);i.add(_);for(const T of i)T.onsuccess=()=>{i.delete(T),i.size===0&&a()},T.onerror=E=>{l(E)}})})}function bA(e,t,n){return Ii(this,void 0,void 0,function*(){const r=n.put(t,e);return new Promise((i,a)=>{r.onsuccess=()=>i(),r.onerror=l=>a(l)})})}function L$(e,t){return Ii(this,void 0,void 0,function*(){const n=yield R$(`instant_${e}_5`);if(!n)return;const r=yield new Promise((h,m)=>{const T=n.transaction(["kv"],"readonly").objectStore("kv").openCursor();T.onerror=w=>{m(w)};const E=[];T.onsuccess=()=>{const w=T.result;if(w){const M=w.key,O=w.value;E.push([M,O]),w.continue()}else h(E)},T.onerror=w=>{m(w)}}),i=t.transaction(["kv","querySubs"],"readwrite"),a=i.objectStore("kv"),l=i.objectStore("querySubs"),u=[],c={objects:{}};for(const[h,m]of r)switch(h){case"querySubs":{const v=k$(h,m,l);u.push(v);break}default:{const v=bA(h,m,a);u.push(v);const _={createdAt:Date.now(),updatedAt:Date.now(),size:0};c.objects[h]=_;break}}const d=bA(ju,c,a);u.push(d),yield Promise.all(u),yield new Promise((h,m)=>{i.oncomplete=v=>h(v),i.onerror=v=>m(v),i.onabort=v=>m(v)})})}const _A=new Map;class CI extends O${constructor(t,n){super(t,n),this.dbName=`instant_${t}_${N$}`,this._storeName=n,this._appId=t,this._dbPromise=this._init()}_init(){return new Promise((t,n)=>{let r=!1;const i=indexedDB.open(this.dbName,1);i.onerror=a=>{n(a)},i.onsuccess=a=>{const u=a.target.result;if(r){const c=L$(this._appId,u).catch(d=>{D$("Error upgrading store from version 5 to 6.")(d)});_A.set(this.dbName,c),c.then(()=>t(u)).catch(()=>t(u))}else{const c=_A.get(this.dbName);c?c.then(()=>t(u)).catch(()=>t(u)):t(u)}},i.onupgradeneeded=a=>{r=!0,this._upgradeStore(a)}})}_upgradeStore(t){const r=t.target.result;for(const i of I$)r.objectStoreNames.contains(i)||r.createObjectStore(i)}getItem(t){return Ii(this,void 0,void 0,function*(){const n=yield this._dbPromise;return new Promise((r,i)=>{const u=n.transaction([this._storeName],"readonly").objectStore(this._storeName).get(t);u.onerror=c=>{i(c)},u.onsuccess=c=>{u.result?r(u.result):r(null)}})})}setItem(t,n){return Ii(this,void 0,void 0,function*(){const r=yield this._dbPromise;return new Promise((i,a)=>{const c=r.transaction([this._storeName],"readwrite").objectStore(this._storeName).put(n,t);c.onerror=d=>{a(d)},c.onsuccess=d=>{i()}})})}multiSet(t){return Ii(this,void 0,void 0,function*(){const n=yield this._dbPromise;return new Promise((r,i)=>{const a=n.transaction([this._storeName],"readwrite"),l=a.objectStore(this._storeName),u=new Set;for(const[c,d]of t){const h=l.put(d,c);u.add(h)}for(const c of u)c.onerror=d=>{a.abort(),i(d)},c.onsuccess=d=>{u.delete(c),u.size===0&&r()}})})}removeItem(t){return Ii(this,void 0,void 0,function*(){const n=yield this._dbPromise;return new Promise((r,i)=>{const u=n.transaction([this._storeName],"readwrite").objectStore(this._storeName).delete(t);u.onerror=c=>{i(c)},u.onsuccess=c=>{r()}})})}getAllKeys(){return Ii(this,void 0,void 0,function*(){const t=yield this._dbPromise;return new Promise((n,r)=>{const l=t.transaction([this._storeName],"readonly").objectStore(this._storeName).getAllKeys();l.onerror=u=>{r(u)},l.onsuccess=u=>{n(l.result.filter(c=>typeof c=="string"))}})})}}var U$=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};class MI{static getIsOnline(){return U$(this,void 0,void 0,function*(){return navigator.onLine})}static listen(t){const n=()=>{t(!0)},r=()=>{t(!1)};return addEventListener("online",n),addEventListener("offline",r),()=>{removeEventListener("online",n),removeEventListener("offline",r)}}}class tl extends Error{constructor(t,n){super(t),this.hint=n;const r=new.target.prototype;Object.setPrototypeOf&&Object.setPrototypeOf(this,r),Error.captureStackTrace&&Error.captureStackTrace(this,tl),this.name="InstantError"}get[Symbol.toStringTag](){return"InstantError"}}var q$=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};class Yh extends tl{constructor(t){var n;const r=((n=t.body)===null||n===void 0?void 0:n.message)||`API Error (${t.status})`;super(r,t.body.hint);const i=new.target.prototype;Object.setPrototypeOf&&Object.setPrototypeOf(this,i),Error.captureStackTrace&&Error.captureStackTrace(this,Yh),this.name="InstantAPIError",this.status=t.status,this.body=t.body}get[Symbol.toStringTag](){return"InstantAPIError"}}function qr(e,t){return q$(this,void 0,void 0,function*(){const n=yield fetch(e,t),r=yield n.json();return n.status===200?Promise.resolve(r):Promise.reject(new Yh({status:n.status,body:r}))})}var ml=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};function j$({apiURI:e,appId:t,email:n}){return qr(`${e}/runtime/auth/send_magic_code`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({"app-id":t,email:n})})}function z$(e){return ml(this,arguments,void 0,function*({apiURI:t,appId:n,email:r,code:i,refreshToken:a}){return yield qr(`${t}/runtime/auth/verify_magic_code`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(Object.assign({"app-id":n,email:r,code:i},a?{"refresh-token":a}:{}))})})}function B$(e){return ml(this,arguments,void 0,function*({apiURI:t,appId:n,refreshToken:r}){return yield qr(`${t}/runtime/auth/verify_refresh_token`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({"app-id":n,"refresh-token":r})})})}function $$(e){return ml(this,arguments,void 0,function*({apiURI:t,appId:n}){return yield qr(`${t}/runtime/auth/sign_in_guest`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({"app-id":n})})})}function SA(e){return ml(this,arguments,void 0,function*({apiURI:t,appId:n,code:r,codeVerifier:i,refreshToken:a}){return yield qr(`${t}/runtime/oauth/token`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({app_id:n,code:r,code_verifier:i,refresh_token:a})})})}function F$(e){return ml(this,arguments,void 0,function*({apiURI:t,appId:n,nonce:r,idToken:i,clientName:a,refreshToken:l}){return yield qr(`${t}/runtime/oauth/id_token`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({app_id:n,nonce:r,id_token:i,client_name:a,refresh_token:l})})})}function H$(e){return ml(this,arguments,void 0,function*({apiURI:t,appId:n,refreshToken:r}){return yield qr(`${t}/runtime/signout`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({app_id:n,refresh_token:r})})})}var gc=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};function G$(e){return gc(this,arguments,void 0,function*({apiURI:t,appId:n,path:r,file:i,refreshToken:a,contentType:l,contentDisposition:u}){const c={app_id:n,path:r,authorization:`Bearer ${a}`,"content-type":l||i.type};return u&&(c["content-disposition"]=u),yield qr(`${t}/storage/upload`,{method:"PUT",headers:c,body:i})})}function V$(e){return gc(this,arguments,void 0,function*({apiURI:t,appId:n,path:r,refreshToken:i}){const{data:a}=yield qr(`${t}/storage/files?app_id=${n}&filename=${encodeURIComponent(r)}`,{method:"DELETE",headers:{"content-type":"application/json",authorization:`Bearer ${i}`}});return a})}function K$(e){return gc(this,arguments,void 0,function*({apiURI:t,appId:n,fileName:r,refreshToken:i,metadata:a={}}){const{data:l}=yield qr(`${t}/storage/signed-upload-url`,{method:"POST",headers:{"content-type":"application/json",authorization:`Bearer ${i}`},body:JSON.stringify({app_id:n,filename:r})});return l})}function Y$(e,t){return gc(this,void 0,void 0,function*(){return(yield fetch(e,{method:"PUT",body:t,headers:{"Content-Type":t.type}})).ok})}function W$(e){return gc(this,arguments,void 0,function*({apiURI:t,appId:n,path:r,refreshToken:i}){const{data:a}=yield qr(`${t}/storage/signed-download-url?app_id=${n}&filename=${encodeURIComponent(r)}`,{method:"GET",headers:{"content-type":"application/json",authorization:`Bearer ${i}`}});return a})}let Zb=!1,PI=!1,OI=!1;typeof window<"u"&&typeof window.localStorage<"u"&&(Zb=!!window.localStorage.getItem("devBackend"),PI=!!window.localStorage.getItem("__instantLogging"),OI=!!window.localStorage.getItem("__devtoolLocalDash"));function TA(e,t){if(!t)return e;const n={};return t.forEach(r=>{n[r]=e[r]}),n}function J$(e,t,n){var r,i;const a={peers:{}};if(t&&"user"in t?t.user:!0){const u=TA((r=e.user)!==null&&r!==void 0?r:{},t?.keys);a.user=Object.assign(Object.assign({},u),{peerId:n})}for(const u of Object.keys((i=e.peers)!==null&&i!==void 0?i:{})){const c=t?.peers===void 0,d=Array.isArray(t?.peers)&&t?.peers.includes(u);if(c||d){const h=TA(e.peers[u],t?.keys);a.peers[u]=Object.assign(Object.assign({},h),{peerId:u})}}return a}function X$(e,t){if(e.isLoading!==t.isLoading||e.error!==t.error||(e.user||t.user)&&(!e.user||!t.user||!sA(e.user,t.user))||!iI(e.peers,t.peers))return!0;for(const r of Object.keys(e.peers))if(!sA(e.peers[r],t.peers[r]))return!0;return!1}class EA{constructor(){this.promise=new Promise((t,n)=>{this._resolve=t,this._reject=n})}resolve(t){this._resolve(t)}reject(t){this._reject(t)}}function NI(e,t=[]){e.forEach(n=>{const{data:r}=n,{"datalog-result":i}=r,{"join-rows":a}=i;for(const l of a)for(const u of l)t.push(u);NI(n["child-nodes"],t)})}function wA(e){const t=[];return NI(e,t),t}function xA(e){return Object.values(e.links).reduce((t,n)=>{var r,i,a,l;return(r=t[a=n.forward.on])!==null&&r!==void 0||(t[a]={}),t[n.forward.on][n.forward.label]={isForward:!0,isSingular:n.forward.has==="one",link:n},(i=t[l=n.reverse.on])!==null&&i!==void 0||(t[l]={}),t[n.reverse.on][n.reverse.label]={isForward:!1,isSingular:n.reverse.has==="one",link:n},t},{})}const e_="v0.22.73";function Q$(e,t){return{info:e?(...n)=>console.info(...n,t()):()=>{},debug:e?(...n)=>console.debug(...n,t()):()=>{},error:e?(...n)=>console.error(...n,t()):()=>{}}}class ki{constructor(t,n,r,i={indexed:!1,unique:!1}){this.valueType=t,this.required=n,this.isIndexed=r,this.config=i,this.metadata={}}clientRequired(){return new ki(this.valueType,!1,this.isIndexed,this.config)}optional(){return new ki(this.valueType,!1,this.isIndexed,this.config)}unique(){return new ki(this.valueType,this.required,this.isIndexed,Object.assign(Object.assign({},this.config),{unique:!0}))}indexed(){return new ki(this.valueType,this.required,!0,Object.assign(Object.assign({},this.config),{indexed:!0}))}}class ct extends Error{constructor(t,n){const r=n?`At path '${n}': ${t}`:t;super(r),this.name="QueryValidationError"}}const AA=["where","order","limit","last","first","offset","after","before","fields","aggregate"],Z$=e=>e.valueType||"unknown",II=(e,t,n=!1)=>{if(n||e==null)return!0;switch(t){case"string":return typeof e=="string";case"number":return typeof e=="number"&&!isNaN(e);case"boolean":return typeof e=="boolean";case"date":return e instanceof Date||typeof e=="string"||typeof e=="number";default:return!0}},eF=(e,t,n,r,i,a,l)=>{const u=a.valueType==="json",c=(d,h,m)=>{if(!II(m,h,u))throw new ct(`Invalid value for operator '${d}' on attribute '${r}' in entity '${i}'. Expected ${h}, but received: ${typeof m}`,l)};switch(e){case"in":case"$in":if(!Array.isArray(t))throw new ct(`Operator '${e}' for attribute '${r}' in entity '${i}' must be an array, but received: ${typeof t}`,l);for(const d of t)c(e,n,d);break;case"$not":case"$ne":case"$gt":case"$lt":case"$gte":case"$lte":c(e,n,t);break;case"$like":case"$ilike":if(c(e,"string",t),e==="$ilike"&&!a.isIndexed)throw new ct(`Operator '${e}' can only be used with indexed attributes, but '${r}' in entity '${i}' is not indexed`,l);break;case"$isNull":c(e,"boolean",t);break;default:throw new ct(`Unknown operator '${e}' for attribute '${r}' in entity '${i}'`,l)}},Vs=(e,t,n,r,i)=>{const a=Z$(n),l=n.valueType==="json";if(typeof e=="object"&&e!==null&&!Array.isArray(e)){if(l)return;const c=e;for(const[d,h]of Object.entries(c))eF(d,h,a,t,r,n,`${i}.${d}`)}else if(!II(e,a,l))throw new ct(`Invalid value for attribute '${t}' in entity '${r}'. Expected ${a}, but received: ${typeof e}`,i)},tF=(e,t,n,r,i)=>{const a=e.split(".");if(a.length<2)throw new ct(`Invalid dot notation path '${e}'. Must contain at least one dot.`,i);let l=n;for(let h=0;h<a.length-1;h++){const m=a[h],v=r.entities[l];if(!v)throw new ct(`Entity '${l}' does not exist in schema while traversing dot notation path '${e}'.`,i);const _=v.links[m];if(!_){const T=Object.keys(v.links);throw new ct(`Link '${m}' does not exist on entity '${l}' in dot notation path '${e}'. Available links: ${T.length>0?T.join(", "):"none"}`,i)}l=_.entityName}const u=a[a.length-1],c=r.entities[l];if(!c)throw new ct(`Target entity '${l}' does not exist in schema for dot notation path '${e}'.`,i);if(u==="id"){if(typeof t=="string"&&!Zs(t))throw new ct(`Invalid value for id field in entity '${l}'. Expected a UUID, but received: ${t}`,i);Vs(t,e,new ki("string",!1,!0),n,i);return}const d=c.attrs[u];if(Object.keys(c.links).includes(u)){if(typeof t=="string"&&!Zs(t))throw new ct(`Invalid value for link '${u}' in entity '${l}'. Expected a UUID, but received: ${t}`,i);Vs(t,e,new ki("string",!1,!0),n,i);return}if(!d){const h=Object.keys(c.attrs);throw new ct(`Attribute '${u}' does not exist on entity '${l}' in dot notation path '${e}'. Available attributes: ${h.length>0?h.join(", ")+", id":"id"}`,i)}Vs(t,e,d,n,i)},DI=(e,t,n,r)=>{for(const[i,a]of Object.entries(e)){if(i==="or"||i==="and"){if(Array.isArray(a))for(const d of a)typeof d=="object"&&d!==null&&DI(d,t,n,`${r}.${i}[${d}]`);continue}if(i==="id"){Vs(a,"id",new ki("string",!1,!0),t,`${r}.id`);continue}if(i.includes(".")){tF(i,a,t,n,`${r}.${i}`);continue}const l=n.entities[t];if(!l)continue;const u=l.attrs[i],c=l.links[i];if(!u&&!c){const d=Object.keys(l.attrs),h=Object.keys(l.links);throw new ct(`Attribute or link '${i}' does not exist on entity '${t}'. Available attributes: ${d.length>0?d.join(", "):"none"}. Available links: ${h.length>0?h.join(", "):"none"}`,`${r}.${i}`)}if(u)Vs(a,i,u,t,`${r}.${i}`);else if(c){if(typeof a=="string"&&!Zs(a))throw new ct(`Invalid value for link '${i}' in entity '${t}'. Expected a UUID, but received: ${a}`,`${r}.${i}`);const d=new ki("string",!1,!0);Vs(a,i,d,t,`${r}.${i}`)}}},nF=(e,t,n,r,i=0)=>{for(const l of Object.keys(e))if(!AA.includes(l))throw new ct(`Invalid query parameter '${l}' in $ object. Valid parameters are: ${AA.join(", ")}. Found: ${l}`,r);const a=["offset","before","after","first","last"];for(const l of a)if(e[l]!==void 0&&i>0)throw new ct(`'${l}' can only be used on top-level namespaces. It cannot be used in nested queries.`,r);if(e.where&&n){if(typeof e.where!="object"||e.where===null)throw new ct(`'where' clause must be an object in entity '${t}', but received: ${typeof e.where}`,r?`${r}.where`:void 0);DI(e.where,t,n,r?`${r}.where`:"where")}},RI=(e,t,n,r,i=0)=>{var a;if(!e||typeof e!="object")throw new ct(`Query part for entity '${t}' must be an object, but received: ${typeof e}`,r);for(const l of Object.keys(e))if(l!=="$"){if(n&&!(l in n.entities[t].links)){const c=Object.keys(n.entities[t].links);throw new ct(`Link '${l}' does not exist on entity '${t}'. Available links: ${c.length>0?c.join(", "):"none"}`,`${r}.${l}`)}const u=e[l];if(typeof u=="object"&&u!==null){const c=(a=n?.entities[t].links[l])===null||a===void 0?void 0:a.entityName;c&&RI(u,c,n,`${r}.${l}`,i+1)}}else{const u=e[l];if(typeof u!="object"||u===null)throw new ct(`Query parameter '$' must be an object in entity '${t}', but received: ${typeof u}`,`${r}.$`);nF(u,t,n,`${r}.$`,i)}},CA=(e,t)=>{if(typeof e!="object"||e===null)throw new ct(`Query must be an object, but received: ${typeof e}${e===null?" (null)":""}`);if(Array.isArray(e))throw new ct(`Query must be an object, but received: ${typeof e}`);const n=e;for(const r of Object.keys(n)){if(Array.isArray(e[r]))throw new ct(`Query keys must be strings, but found key of type: ${typeof r}`,r);if(typeof r!="string")throw new ct(`Query keys must be strings, but found key of type: ${typeof r}`,r);if(r!=="$$ruleParams"){if(t&&!t.entities[r]){const i=Object.keys(t.entities);throw new ct(`Entity '${r}' does not exist in schema. Available entities: ${i.length>0?i.join(", "):"none"}`,r)}RI(n[r],r,t,r,0)}}},MA=e=>typeof e!="string"?!1:$d(e)?!0:Zs(e);class yr extends Error{constructor(t){super(t),this.name="TransactionValidationError"}}const kI=e=>e.length>0?e.join(", "):"none",rF=(e,t)=>new yr(`Entity '${e}' does not exist in schema. Available entities: ${kI(t)}`),PA={string:e=>typeof e=="string",number:e=>typeof e=="number"&&!isNaN(e),boolean:e=>typeof e=="boolean",date:e=>e instanceof Date||typeof e=="string"||typeof e=="number",json:()=>!0},iF=(e,t)=>{var n,r;return e==null?!0:(r=(n=PA[t.valueType])===null||n===void 0?void 0:n.call(PA,e))!==null&&r!==void 0?r:!1},LI=(e,t)=>{const n=t.entities[e];if(!n)throw rF(e,Object.keys(t.entities));return n},fv=(e,t,n)=>{const r=LI(e,n);if(typeof t!="object"||t===null)throw new yr(`Arguments for data operation on entity '${e}' must be an object, but received: ${typeof t}`);for(const[i,a]of Object.entries(t)){if(i==="id")continue;const l=r.attrs[i];if(l&&!iF(a,l))throw new yr(`Invalid value for attribute '${i}' in entity '${e}'. Expected ${l.valueType}, but received: ${typeof a}`)}},OA=(e,t,n)=>{const r=LI(e,n);if(typeof t!="object"||t===null)throw new yr(`Arguments for link operation on entity '${e}' must be an object, but received: ${typeof t}`);for(const[i,a]of Object.entries(t)){if(!r.links[i]){const u=Object.keys(r.links);throw new yr(`Link '${i}' does not exist on entity '${e}'. Available links: ${kI(u)}`)}if(a!=null){if(Array.isArray(a)){for(const u of a)if(!MA(u))throw new yr(`Invalid entity ID in link '${i}' for entity '${e}'. Expected a UUID or a lookup, but received: ${u}`)}else if(!MA(a))throw new yr(`Invalid UUID in link '${i}' for entity '${e}'. Expected a UUID, but received: ${a}`)}}},aF={create:fv,update:fv,merge:fv,link:OA,unlink:OA,delete:()=>{}},oF=(e,t)=>{if(!t)return;const[n,r,i,a]=e;if(!Array.isArray(i)&&!Zs(i))throw new yr(`Invalid id for entity '${r}'. Expected a UUID, but received: ${i}`);if(typeof r!="string")throw new yr(`Entity name must be a string, but received: ${typeof r}`);const l=aF[n];l&&a!==void 0&&l(r,a,t)},sF=(e,t)=>{const n=Array.isArray(e)?e:[e];for(const r of n){if(!r||typeof r!="object")throw new yr(`Transaction chunk must be an object, but received: ${typeof r}`);if(!Array.isArray(r.__ops))throw new yr(`Transaction chunk must have __ops array, but received: ${typeof r.__ops}`);for(const i of r.__ops){if(!Array.isArray(i))throw new yr(`Transaction operation must be an array, but received: ${typeof i}`);oF(i,t)}}};var NA=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};let UI=0;class IA{constructor(t){this.type="ws",this.id=`${this.type}_${UI++}`,this.conn=new WebSocket(t),this.conn.onopen=n=>{this.onopen&&this.onopen({target:this})},this.conn.onmessage=n=>{this.onmessage&&this.onmessage({target:this,message:JSON.parse(n.data.toString())})},this.conn.onclose=n=>{this.onclose&&this.onclose({target:this})},this.conn.onerror=n=>{this.onerror&&this.onerror({target:this})}}close(){this.conn.close()}isOpen(){var t;return this.conn.readyState===((t=WebSocket.OPEN)!==null&&t!==void 0?t:1)}isConnecting(){var t;return this.conn.readyState===((t=WebSocket.CONNECTING)!==null&&t!==void 0?t:0)}send(t){return this.conn.send(JSON.stringify(t))}}class lF{constructor(t,n){this.type="sse",this.initParams=null,this.sendQueue=[],this.closeFired=!1,this.sseInitTimeout=void 0,this.id=`${this.type}_${UI++}`,this.url=n,this.ES=t,this.conn=new t(n),this.sseInitTimeout=setTimeout(()=>{this.initParams||this.handleError()},1e4),this.conn.onmessage=r=>{const i=JSON.parse(r.data);if(i.op==="sse-init"){this.initParams={machineId:i["machine-id"],sessionId:i["session-id"],sseToken:i["sse-token"]},this.onopen&&this.onopen({target:this}),clearTimeout(this.sseInitTimeout);return}this.onmessage&&this.onmessage({target:this,message:i})},this.conn.onerror=r=>{this.handleError()}}handleError(){try{this.onerror&&this.onerror({target:this})}finally{this.handleClose()}}handleClose(){this.conn.close(),this.onclose&&!this.closeFired&&(this.closeFired=!0,this.onclose({target:this}))}postMessages(t){return NA(this,void 0,void 0,function*(){var n,r,i;try{(yield fetch(this.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({machine_id:(n=this.initParams)===null||n===void 0?void 0:n.machineId,session_id:(r=this.initParams)===null||r===void 0?void 0:r.sessionId,sse_token:(i=this.initParams)===null||i===void 0?void 0:i.sseToken,messages:t})})).ok||this.handleError()}catch{this.handleError()}})}flushQueue(){return NA(this,void 0,void 0,function*(){if(this.sendPromise||!this.sendQueue.length)return;const t=this.sendQueue;this.sendQueue=[];const n=this.postMessages(t);this.sendPromise=n,n.then(()=>{this.sendPromise=null,this.flushQueue()})})}send(t){if(!this.isOpen()||!this.initParams)throw this.isConnecting()?new Error("Failed to execute 'send' on 'EventSource': Still in CONNECTING state."):this.conn.readyState===this.ES.CLOSED?new Error("EventSource is already in CLOSING or CLOSED state."):new Error("EventSource is in invalid state.");this.sendQueue.push(t),this.flushQueue()}isOpen(){return this.conn.readyState===this.ES.OPEN&&this.initParams!==null}isConnecting(){return this.conn.readyState===this.ES.CONNECTING||this.conn.readyState===this.ES.OPEN&&this.initParams===null}close(){this.handleClose()}}var DA=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};function uF(e,t){const n=e.values;if(n)for(const r of n.entities||[])r.store.useDateObjects=t,r.store.attrs=n.attrs,r.store=cI(r.store);return e}function cF(e,t){var n,r;if(!((n=t.values)===null||n===void 0)&&n.entities){const i=[];for(const a of(r=t.values)===null||r===void 0?void 0:r.entities){const l=uI(a.store);delete l.attrs,i.push(Object.assign(Object.assign({},a),{store:l}))}return Object.assign(Object.assign({},t),{values:Object.assign(Object.assign({},t.values),{entities:i})})}else return t}function fF(e,t,n){var r,i;const a=(r=t?.state)===null||r===void 0?void 0:r.txId,l=(i=n?.state)===null||i===void 0?void 0:i.txId;return a&&(!l||a>l)?t:l&&(!a||l>a)?n:t||n}function dv(e,t){return EI({store:t,pageInfo:null,aggregate:null},e.query).data[e.table][0]}function RA(e,t,n){var r;const i=(r=qa(t,e.table,"id"))===null||r===void 0?void 0:r.id;if(!i)return-1;const a=pl(t.eav,[n,i,n]);return a?a[3]:-1}function kA(e,t){for(const{action:n,triple:r}of t)switch(n){case"added":hI(e,r);break;case"removed":fI(e,r);break}}function dF(e,t){var n,r,i,a;const l={};for(const{action:u,triple:c}of t){const[d,h,m]=c,v=(r=(n=e.attrs[h])===null||n===void 0?void 0:n["forward-identity"])===null||r===void 0?void 0:r[2];if(!v)continue;const _=(i=l[d])!==null&&i!==void 0?i:{};l[d]=_;const T=(a=_[v])!==null&&a!==void 0?a:{};switch(_[v]=T,u){case"added":T.newValue=m;break;case"removed":T.oldValue===void 0&&(T.oldValue=m);break}}for(const u of Object.keys(l)){const{oldValue:c,newValue:d}=l[u];c===d&&delete l[u]}return l}function rd(e,t){return{[e.table]:t.map(n=>n.entity)}}function hF(e,t){var n;if(e.orderFieldType)return e.orderFieldType;const r=e.orderField==="serverCreatedAt"?"number":(n=qa(t([]),e.table,e.orderField))===null||n===void 0?void 0:n["checked-data-type"];return e.orderFieldType=r,r}function pF(e,t,n){const r=t;if(e.orderField==="serverCreatedAt"){n.sort(e.orderDirection==="asc"?function(l,u){return Iu(l.entity.id,l.serverCreatedAt,u.entity.id,u.serverCreatedAt,r)}:function(l,u){return Iu(u.entity.id,u.serverCreatedAt,l.entity.id,l.serverCreatedAt,r)});return}const i=e.orderField;n.sort(e.orderDirection==="asc"?function(l,u){return Iu(l.entity.id,l.entity[i],u.entity.id,u.entity[i],r)}:function(l,u){return Iu(u.entity.id,u.entity[i],l.entity.id,l.entity[i],r)})}var So;(function(e){e.InitialSyncBatch="InitialSyncBatch",e.InitialSyncComplete="InitialSyncComplete",e.LoadFromStorage="LoadFromStorage",e.SyncTransaction="SyncTransaction",e.Error="Error"})(So||(So={}));class mF{constructor(t,n,r,i,a){this.callbacks={},this.idToHash={},this.trySend=t,this.config=r,this.log=i,this.createStore=a,this.subs=new p0({persister:n,merge:fF,serialize:cF,parse:(l,u)=>uF(u,this.config.useDateObjects),objectSize:l=>{var u;return((u=l.values)===null||u===void 0?void 0:u.entities.length)||0},logger:i,gc:{maxAgeMs:1e3*60*60*24*7*52,maxEntries:1e3,maxSize:1e6}})}beforeUnload(){this.subs.flush()}subscribe(t,n){const r=on(t);return this.callbacks[r]=this.callbacks[r]||[],this.callbacks[r].push(n),this.initSubscription(t,r,n),i=>{this.unsubscribe(r,n,i?.keepSubscription)}}unsubscribe(t,n,r){const i=(this.callbacks[t]||[]).filter(a=>a!==n);if(this.callbacks[t]=i,!i.length){delete this.callbacks[t];const a=this.subs.currentValue[t];a?.state&&this.clearSubscriptionData(a.state.subscriptionId,!!r),r||this.subs.updateInPlace(l=>{delete l[t]})}}sendStart(t){this.trySend(Yt(),{op:"start-sync",q:t})}sendResync(t,n,r){this.idToHash[n.subscriptionId]=t.hash,this.trySend(n.subscriptionId,{op:"resync-table","subscription-id":n.subscriptionId,"tx-id":r,token:n.token})}sendRemove(t,n){this.trySend(Yt(),{op:"remove-sync","subscription-id":t.subscriptionId,"keep-subscription":n})}initSubscription(t,n,r){return DA(this,void 0,void 0,function*(){var i,a,l,u;yield this.subs.waitForKeyToLoad(n);const c=this.subs.currentValue[n];if(c&&c.state&&c.state.txId){this.sendResync(c,c.state,c.state.txId),!((i=c.values)===null||i===void 0)&&i.entities&&r&&r({type:So.LoadFromStorage,data:rd(c,(a=c.values)===null||a===void 0?void 0:a.entities)});return}const d=Object.keys(t)[0],h=((u=(l=t[d])===null||l===void 0?void 0:l.$)===null||u===void 0?void 0:u.order)||{serverCreatedAt:"asc"},[m,v]=Object.entries(h)[0];this.subs.updateInPlace(_=>{_[n]={query:t,hash:n,table:d,orderDirection:v,orderField:m,createdAt:Date.now(),updatedAt:Date.now()}}),this.sendStart(t)})}flushPending(){return DA(this,void 0,void 0,function*(){for(const t of Object.keys(this.callbacks)){yield this.subs.waitForKeyToLoad(t);const n=this.subs.currentValue[t];n?yield this.initSubscription(n.query,n.hash):this.log.error("Missing sub for hash in flushPending",t)}})}onStartSyncOk(t){const n=t["subscription-id"],r=t.q,i=on(r);this.idToHash[n]=i,this.subs.updateInPlace(a=>{const l=a[i];if(!l)return this.log.error("Missing sub for hash",i,"subscription-id",n,"query",r),a;l.state={subscriptionId:n,token:t.token}})}notifyCbs(t,n){for(const r of this.callbacks[t]||[])r(n)}onSyncLoadBatch(t){var n;const r=t["subscription-id"],i=t["join-rows"],a=this.idToHash[r];if(!a){this.log.error("Missing hash for subscription",t);return}const l=[],u=this.subs.currentValue[a];if(!u){this.log.error("Missing sub for hash",a,t);return}const c=(n=u.values)!==null&&n!==void 0?n:{entities:[],attrs:this.createStore([]).attrs};u.values=c;const d=c.entities;for(const h of i){const m=this.createStore(h);c.attrs=m.attrs;const v=dv(u,m);d.push({store:m,entity:v,serverCreatedAt:RA(u,m,v.id)}),l.push(v)}this.subs.updateInPlace(h=>{h[a]=u,h[a].updatedAt=Date.now()}),u.values&&this.notifyCbs(a,{type:So.InitialSyncBatch,data:rd(u,u.values.entities),batch:l})}onSyncInitFinish(t){var n;const r=t["subscription-id"],i=this.idToHash[r];if(!i){this.log.error("Missing hash for subscription",t);return}this.subs.updateInPlace(l=>{const u=l[i];if(!u){this.log.error("Missing sub for hash",i,t);return}const c=u.state;if(!c)return this.log.error("Sub never set init, missing result",u,t),l;c.txId=t["tx-id"],u.updatedAt=Date.now()});const a=this.subs.currentValue[i];a&&this.notifyCbs(i,{type:So.InitialSyncComplete,data:rd(a,((n=a.values)===null||n===void 0?void 0:n.entities)||[])})}onSyncUpdateTriples(t){var n,r,i;const a=t["subscription-id"],l=this.idToHash[a];if(!l){this.log.error("Missing hash for subscription",t);return}const u=this.subs.currentValue[l];if(!u){this.log.error("Missing sub for hash",l,t);return}const c=u.state;if(!c){this.log.error("Missing state for sub",u,t);return}for(const d of t.txes){if(c.txId&&c.txId>=d["tx-id"])continue;c.txId=d["tx-id"];const h=[],m={};for(const O of d.changes){const P=(n=m[O.triple[0]])!==null&&n!==void 0?n:[];m[O.triple[0]]=P,P.push(O)}const v=(r=u.values)!==null&&r!==void 0?r:{entities:[],attrs:this.createStore([]).attrs},_=v.entities;u.values=v;const T=[];e:for(const[O,P]of Object.entries(m))for(let D=0;D<_.length;D++){const N=_[D];if(YB(N.store,O)){kA(N.store,P);const R=dv(u,N.store),k=dF(N.store,P)[O];R?(T.push({oldEntity:N.entity,newEntity:R,changedFields:k||{}}),N.entity=R):h.push(D),delete m[O];continue e}}const E=[];for(const[O,P]of Object.entries(m)){const D=this.createStore([]);v.attrs=D.attrs,kA(D,P);const N=dv(u,D);if(!N){this.log.error("No entity found after applying change",{sub:u,changes:P,store:D});continue}_.push({store:D,entity:N,serverCreatedAt:RA(u,D,N.id)}),E.push(N)}const w=[];for(const O of h.sort().reverse())w.push(_[O].entity),_.splice(O,1);const M=hF(u,this.createStore);pF(u,M,_),this.notifyCbs(l,{type:So.SyncTransaction,data:rd(u,(i=u.values)===null||i===void 0?void 0:i.entities),added:E,removed:w,updated:T})}this.subs.updateInPlace(d=>{d[l]=u,d[l].updatedAt=Date.now()})}clearSubscriptionData(t,n){const r=this.idToHash[t];if(r){delete this.idToHash[t];const i=this.subs.currentValue[r];if(i.state&&this.sendRemove(i.state,n),n?this.subs.unloadKey(r):this.subs.updateInPlace(a=>{delete a[r]}),i)return i}}onStartSyncError(t){const n=on(t["original-event"].q),r={message:t.message||"Uh-oh, something went wrong. Ping Joe & Stopa.",status:t.status,type:t.type,hint:t.hint},i=Object.keys(t["original-event"].q)[0];this.notifyCbs(n,{type:So.Error,data:{[i]:[]},error:r})}onResyncError(t){const n=t["original-event"]["subscription-id"],r=this.clearSubscriptionData(n,!1);r&&this.initSubscription(r.query,r.hash)}}var It=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})},gF=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Ai={CONNECTING:"connecting",OPENED:"opened",AUTHENTICATED:"authenticated",CLOSED:"closed",ERRORED:"errored"},vF=3e4,yF=3e4,bF=200,_F={apiURI:"https://api.instantdb.com",websocketURI:"wss://api.instantdb.com/runtime/session"},hv="_instant_oauth_redirect",_u="currentUser";function SF({transportType:e,appId:t,apiURI:n,wsURI:r,EventSourceImpl:i}){if(!i)return new IA(`${r}?app_id=${t}`);switch(e){case"ws":return new IA(`${r}?app_id=${t}`);case"sse":return new lF(i,`${n}/runtime/sse?app_id=${t}`);default:throw new Error("Unknown transport type "+e)}}function TF(){return typeof window<"u"||typeof chrome<"u"}const LA={"set-presence":!0,"set-presence-ok":!0,"refresh-presence":!0,"patch-presence":!0};function EF(e,t){var n;const r=typeof e=="string"?JSON.parse(e):e;if(!((n=r?.result)===null||n===void 0)&&n.store){const i=r.result.store;r.result.store=cI(Object.assign(Object.assign({},i),{useDateObjects:t}))}return r}function wF(e,t){var n;const r=Object.assign({},t);return!((n=t.result)===null||n===void 0)&&n.store&&(r.result=Object.assign(Object.assign({},t.result),{store:uI(t.result.store)})),r}function xF(e,t){switch(e){case"pendingMutations":return new Map(typeof t=="string"?JSON.parse(t):t);default:return t}}function AF(e,t){switch(e){case"pendingMutations":return[...t.entries()];default:return t}}function CF(e,t,n){const r=t?.result,i=n?.result;return r&&!i&&n&&(n.result=r),n||t}function UA(e){return[...e].sort((t,n)=>{const[r,i]=t,[a,l]=n,u=i.order||0,c=l.order||0;return u==c?r<a?-1:r>a?1:0:u-c})}class MF{constructor(t,n=CI,r=MI,i,a){var l,u,c;if(this._isOnline=!0,this._isShutdown=!1,this.status=Ai.CONNECTING,this.queryCbs={},this.queryOnceDfds={},this.authCbs=[],this.attrsCbs=[],this.mutationErrorCbs=[],this.connectionStatusCbs=[],this.mutationDeferredStore=new Map,this._reconnectTimeoutId=null,this._reconnectTimeoutMs=0,this._transportType="ws",this._wsOk=null,this._localIdPromises={},this._errorMessage=null,this._oauthCallbackResponse=null,this._linkIndex=null,this._rooms={},this._roomsPendingLeave={},this._presence={},this._broadcastQueue=[],this._broadcastSubs={},this._currentUserCached={isLoading:!0,error:void 0,user:void 0},this._beforeUnloadCbs=[],this._dataForQueryCache={},this._inFlightMutationEventIds=new Set,this._onMergeKv=(d,h,m)=>{var v,_;switch(d){case"pendingMutations":{const T=(v=h?.entries())!==null&&v!==void 0?v:[],E=(_=m?.entries())!==null&&_!==void 0?_:[],w=new Map([...T,...E]);return(h?this._rewriteMutationsSorted(this.attrs,h):[]).forEach(([O,P])=>{var D;!(!((D=m?.pendingMutations)===null||D===void 0)&&D.has(O))&&!P["tx-id"]&&this._sendMutation(O,P)}),w}default:return m||h}},this.getPreviousResult=d=>{const h=on(d);return this.dataForQuery(h)},this.notifyOne=d=>{var h,m;const v=(h=this.queryCbs[d])!==null&&h!==void 0?h:[],_=(m=this._dataForQueryCache[d])===null||m===void 0?void 0:m.data,T=this.dataForQuery(d);T&&(Cd(T,_)||v.forEach(E=>E.cb(T)))},this.notifyOneQueryOnce=d=>{var h;const m=(h=this.queryOnceDfds[d])!==null&&h!==void 0?h:[],v=this.dataForQuery(d);m.forEach(_=>{this._completeQueryOnce(_.q,d,_.dfd),_.dfd.resolve(v)})},this.notifyQueryError=(d,h)=>{(this.queryCbs[d]||[]).forEach(v=>v.cb({error:h}))},this.pushTx=d=>{this.config.disableValidation||sF(d,this.config.schema);try{const h=P$({attrs:this.optimisticAttrs(),schema:this.config.schema,stores:Object.values(this.querySubs.currentValue).map(m=>{var v;return(v=m?.result)===null||v===void 0?void 0:v.store}),useDateObjects:this.config.useDateObjects},d);return this.pushOps(h)}catch(h){return this.pushOps([],h)}},this.pushOps=(d,h)=>{const m=Yt(),v=[...this._pendingMutations().values()],_=Math.max(0,...v.map(w=>w.order||0))+1,T={op:"transact","tx-steps":d,created:Date.now(),error:h,order:_};this._updatePendingMutations(w=>{w.set(m,T)});const E=new EA;return this.mutationDeferredStore.set(m,E),this._sendMutation(m,T),this.notifyAll(),E.promise},this._transportOnOpen=d=>{const h=d.target;if(this._transport!==h){this._log.info("[socket][open]",h.id,"skip; this is no longer the current transport");return}this._log.info("[socket][open]",this._transport.id),this._setStatus(Ai.OPENED),this.getCurrentUser().then(m=>{var v;this._trySend(Yt(),{op:"init","app-id":this.config.appId,"refresh-token":(v=m.user)===null||v===void 0?void 0:v.refresh_token,versions:this.versions,"__admin-token":this.config.__adminToken})}).catch(m=>{this._log.error("[socket][error]",h.id,m)})},this._transportOnMessage=d=>{const h=d.target,m=d.message;if(this._transport!==h){this._log.info("[socket][message]",h.id,m,"skip; this is no longer the current transport");return}!this._wsOk&&h.type==="ws"&&(this._wsOk=!0),this._transportType="ws",this._handleReceive(h.id,d.message)},this._transportOnError=d=>{const h=d.target;if(this._transport!==h){this._log.info("[socket][error]",h.id,"skip; this is no longer the current transport");return}this._log.error("[socket][error]",h.id,d)},this._scheduleReconnect=()=>{!this._wsOk&&this._transportType!=="sse"&&(this._transportType="sse",this._reconnectTimeoutMs=0),setTimeout(()=>{if(this._reconnectTimeoutMs=Math.min(this._reconnectTimeoutMs+1e3,1e4),!this._isOnline){this._log.info("[socket][close]",this._transport.id,"we are offline, no need to start socket");return}this._startSocket()},this._reconnectTimeoutMs)},this._transportOnClose=d=>{const h=d.target;if(this._transport!==h){this._log.info("[socket][close]",h.id,"skip; this is no longer the current transport");return}this._setStatus(Ai.CLOSED);for(const m of Object.values(this._rooms))m.isConnected=!1;if(this._isShutdown){this._log.info("[socket][close]",h.id,"Reactor has been shut down and will not reconnect");return}this._log.info("[socket][close]",h.id,"schedule reconnect, ms =",this._reconnectTimeoutMs),this._scheduleReconnect()},this._EventSource=a,this.config=Object.assign(Object.assign({},_F),t),this.queryCacheLimit=(l=this.config.queryCacheLimit)!==null&&l!==void 0?l:10,this._pendingTxCleanupTimeout=(u=this.config.pendingTxCleanupTimeout)!==null&&u!==void 0?u:yF,this._pendingMutationCleanupThreshold=(c=this.config.pendingMutationCleanupThreshold)!==null&&c!==void 0?c:bF,this._log=Q$(t.verbose||Zb||PI,()=>this._reactorStats()),this.versions=Object.assign(Object.assign({},i||{}),{"@instantdb/core":e_}),this.config.schema&&(this._linkIndex=xA(this.config.schema)),!!TF()){if(!t.appId)throw new Error("Instant must be initialized with an appId.");if(!Zs(t.appId))throw new Error(`Instant must be initialized with a valid appId. \`${t.appId}\` is not a valid uuid.`);typeof BroadcastChannel=="function"&&(this._broadcastChannel=new BroadcastChannel("@instantdb"),this._broadcastChannel.addEventListener("message",d=>It(this,void 0,void 0,function*(){var h;try{if(((h=d.data)===null||h===void 0?void 0:h.type)==="auth"){const m=yield this.getCurrentUser();this.updateUser(m.user)}}catch(m){this._log.error("[error] handle broadcast channel",m)}}))),this._initStorage(n),this._syncTable=new mF(this._trySendAuthed.bind(this),new n(this.config.appId,"syncSubs"),{useDateObjects:this.config.useDateObjects},this._log,d=>Md(this.attrs,d,this.config.enableCardinalityInference,this._linkIndex,this.config.useDateObjects)),this._oauthCallbackResponse=this._oauthLoginInit(),this.getCurrentUser(),r.getIsOnline().then(d=>{this._isOnline=d,this._startSocket(),r.listen(h=>{h!==this._isOnline&&(this._log.info("[network] online =",h),this._isOnline=h,this._isOnline?this._startSocket():(this._log.info("Changing status from",this.status,"to",Ai.CLOSED),this._setStatus(Ai.CLOSED)))})}),typeof addEventListener<"u"&&(this._beforeUnload=this._beforeUnload.bind(this),addEventListener("beforeunload",this._beforeUnload))}}updateSchema(t){this.config=Object.assign(Object.assign({},this.config),{schema:t,cardinalityInference:!!t}),this._linkIndex=t?xA(this.config.schema):null}_reactorStats(){return{inFlightMutationCount:this._inFlightMutationEventIds.size,pendingMutationCount:this._pendingMutations().size,transportType:this._transportType}}_onQuerySubLoaded(t){this.kv.waitForKeyToLoad("pendingMutations").then(()=>this.notifyOne(t))}_initStorage(t){this.querySubs=new p0({persister:new t(this.config.appId,"querySubs"),merge:CF,serialize:wF,parse:(n,r)=>EF(r,this.config.useDateObjects),objectSize:n=>{var r,i,a,l;return(l=(a=(i=(r=n.result)===null||r===void 0?void 0:r.store)===null||i===void 0?void 0:i.triples)===null||a===void 0?void 0:a.length)!==null&&l!==void 0?l:0},logger:this._log,preloadEntryCount:10,gc:{maxAgeMs:1e3*60*60*24*7*52,maxEntries:1e3,maxSize:1e6}}),this.querySubs.onKeyLoaded=n=>this._onQuerySubLoaded(n),this.kv=new p0({persister:new t(this.config.appId,"kv"),merge:this._onMergeKv,serialize:AF,parse:xF,objectSize:()=>0,logger:this._log,saveThrottleMs:100,idleCallbackMaxWaitMs:100,gc:null}),this.kv.onKeyLoaded=n=>{n==="pendingMutations"&&this.notifyAll()},this.kv.waitForKeyToLoad("pendingMutations"),this.kv.waitForKeyToLoad(_u),this._beforeUnloadCbs.push(()=>{this.kv.flush(),this.querySubs.flush()})}_beforeUnload(){for(const t of this._beforeUnloadCbs)t();this._syncTable.beforeUnload()}_finishTransaction(t,n,r){const i=this.mutationDeferredStore.get(n);this.mutationDeferredStore.delete(n);const a=t!=="error"&&t!=="timeout";if(!i&&!a&&console.error("Mutation failed",Object.assign({status:t,eventId:n},r)),!!i)if(a)i.resolve({status:t,eventId:n});else if(r?.type){const{status:l}=r,u=gF(r,["status"]);i.reject(new Yh({body:u,status:l??0}))}else i.reject(new tl(r?.message||"Unknown error",r?.hint))}_setStatus(t,n){this.status=t,this._errorMessage=n,this.notifyConnectionStatusSubs(t)}_flushEnqueuedRoomData(t){var n,r;const i=(r=(n=this._presence[t])===null||n===void 0?void 0:n.result)===null||r===void 0?void 0:r.user,a=this._broadcastQueue[t];if(this._broadcastQueue[t]=[],i&&this._trySetPresence(t,i),a)for(const l of a){const{topic:u,roomType:c,data:d}=l;this._tryBroadcast(t,c,u,d)}}_handleReceive(t,n){var r,i,a,l,u,c;const d=!!this.config.schema&&("cardinalityInference"in this.config?!!this.config.cardinalityInference:!0);switch(LA[n.op]||this._log.info("[receive]",t,n.op,n),n.op){case"init-ok":{this._setStatus(Ai.AUTHENTICATED),this._reconnectTimeoutMs=0,this._setAttrs(n.attrs),this._flushPendingMessages(),this._sessionId=n["session-id"];for(const v of Object.keys(this._rooms)){const _=(i=(r=this._presence[v])===null||r===void 0?void 0:r.result)===null||i===void 0?void 0:i.user;this._tryJoinRoom(v,_)}break}case"add-query-exists":{this.notifyOneQueryOnce(on(n.q));break}case"add-query-ok":{const{q:v,result:_}=n,T=on(v);if(!this._hasQueryListeners()&&!this.querySubs.currentValue[T])break;const E=(l=(a=_?.[0])===null||a===void 0?void 0:a.data)===null||l===void 0?void 0:l["page-info"],w=(c=(u=_?.[0])===null||u===void 0?void 0:u.data)===null||c===void 0?void 0:c.aggregate,M=wA(_),O=Md(this.attrs,M,d,this._linkIndex,this.config.useDateObjects);this.querySubs.updateInPlace(P=>{if(!P[T]){this._log.info("Missing value in querySubs",{hash:T,q:v});return}P[T].result={store:O,pageInfo:E,aggregate:w,processedTxId:n["processed-tx-id"]}}),this._cleanupPendingMutationsQueries(),this.notifyOne(T),this.notifyOneQueryOnce(T),this._cleanupPendingMutationsTimeout();break}case"start-sync-ok":{this._syncTable.onStartSyncOk(n);break}case"sync-load-batch":{this._syncTable.onSyncLoadBatch(n);break}case"sync-init-finish":{this._syncTable.onSyncInitFinish(n);break}case"sync-update-triples":{this._syncTable.onSyncUpdateTriples(n);break}case"refresh-ok":{const{computations:v,attrs:_}=n,T=n["processed-tx-id"];_&&this._setAttrs(_),this._cleanupPendingMutationsTimeout();const E=this._rewriteMutations(this.attrs,this._pendingMutations(),T);E!==this._pendingMutations()&&this.kv.updateInPlace(O=>{O.pendingMutations=E});const w=UA(E.entries()),M=v.map(O=>{var P,D,N,R;const k=O["instaql-query"],B=O["instaql-result"],$=on(k),oe=wA(B),V=Md(this.attrs,oe,d,this._linkIndex,this.config.useDateObjects),W=this._applyOptimisticUpdates(V,w,T),fe=(D=(P=B?.[0])===null||P===void 0?void 0:P.data)===null||D===void 0?void 0:D["page-info"],pe=(R=(N=B?.[0])===null||N===void 0?void 0:N.data)===null||R===void 0?void 0:R.aggregate;return{q:k,hash:$,store:W,pageInfo:fe,aggregate:pe}});M.forEach(({hash:O,q:P,store:D,pageInfo:N,aggregate:R})=>{this.querySubs.updateInPlace(k=>{if(!k[O]){this._log.error("Missing value in querySubs",{hash:O,q:P});return}k[O].result={store:D,pageInfo:N,aggregate:R,processedTxId:T}})}),this._cleanupPendingMutationsQueries(),M.forEach(({hash:O})=>{this.notifyOne(O)});break}case"transact-ok":{const{"client-event-id":v,"tx-id":_}=n;this._inFlightMutationEventIds.delete(v);const E=this._rewriteMutations(this.attrs,this._pendingMutations()).get(v);if(!E)break;this._updatePendingMutations(M=>{M.set(v,Object.assign(Object.assign({},M.get(v)),{"tx-id":_,confirmed:Date.now()}))});const w=E["tx-steps"].filter(([M,...O])=>M==="add-attr").map(([M,O])=>O).concat(Object.values(this.attrs));this._setAttrs(w),this._finishTransaction("synced",v),this._cleanupPendingMutationsTimeout();break}case"patch-presence":{const v=n["room-id"];this._trySetRoomConnected(v,!0),this._patchPresencePeers(v,n.edits),this._notifyPresenceSubs(v);break}case"refresh-presence":{const v=n["room-id"];this._trySetRoomConnected(v,!0),this._setPresencePeers(v,n.data),this._notifyPresenceSubs(v);break}case"server-broadcast":{const v=n["room-id"],_=n.topic;this._trySetRoomConnected(v,!0),this._notifyBroadcastSubs(v,_,n);break}case"join-room-ok":{const v=n["room-id"];if(!this._rooms[v]){this._roomsPendingLeave[v]&&(this._tryLeaveRoom(v),delete this._roomsPendingLeave[v]);break}this._trySetRoomConnected(v,!0),this._flushEnqueuedRoomData(v);break}case"leave-room-ok":{const v=n["room-id"];this._trySetRoomConnected(v,!1);break}case"join-room-error":const h=n["room-id"],m=this._rooms[h];m&&(m.error=n.error),this._notifyPresenceSubs(h);break;case"error":this._handleReceiveError(n);break;default:this._log.info("Uknown op",n.op,n);break}}_pendingMutations(){var t;return(t=this.kv.currentValue.pendingMutations)!==null&&t!==void 0?t:new Map}_updatePendingMutations(t){this.kv.updateInPlace(n=>{var r;const i=(r=n.pendingMutations)!==null&&r!==void 0?r:new Map;n.pendingMutations=i,t(i)})}_handleMutationError(t,n,r){const i=this._pendingMutations().get(n);if(i&&(t!=="timeout"||!i["tx-id"])){this._updatePendingMutations(l=>(l.delete(n),l)),this._inFlightMutationEventIds.delete(n);const a={message:r.message,hint:r.hint};this.notifyAll(),this.notifyAttrsSubs(),this.notifyMutationErrorSubs(a),this._finishTransaction(t,n,r)}}_handleReceiveError(t){var n,r,i,a,l,u,c;console.log("error",t);const d=t["client-event-id"];this._inFlightMutationEventIds.delete(d);const h=this._pendingMutations().get(d),m={message:t.message||"Uh-oh, something went wrong. Ping Joe & Stopa."};if(t.hint&&(m.hint=t.hint),h){this._handleMutationError("error",d,t);return}if(!((n=t["original-event"])===null||n===void 0)&&n.hasOwnProperty("q")&&((r=t["original-event"])===null||r===void 0?void 0:r.op)==="add-query"){const T=(i=t["original-event"])===null||i===void 0?void 0:i.q,E=on(T);this.notifyQueryError(on(T),m),this.notifyQueryOnceError(T,E,d,m);return}if(((a=t["original-event"])===null||a===void 0?void 0:a.op)==="init"){if(t.type==="record-not-found"&&((l=t.hint)===null||l===void 0?void 0:l["record-type"])==="app-user"){this.changeCurrentUser(null);return}this._setStatus(Ai.ERRORED,m),this.notifyAll();return}if(((u=t["original-event"])===null||u===void 0?void 0:u.op)==="resync-table"){this._syncTable.onResyncError(t);return}if(((c=t["original-event"])===null||c===void 0?void 0:c.op)==="start-sync"){this._syncTable.onStartSyncError(t);return}const _=Object.assign({},t);delete _.message,delete _.hint,console.error(t.message,_),t.hint&&console.error(`This error comes with some debugging information. Here it is: 
`,t.hint)}notifyQueryOnceError(t,n,r,i){var a;const l=(a=this.queryOnceDfds[n])===null||a===void 0?void 0:a.find(u=>u.eventId===r);l&&(l.dfd.reject(i),this._completeQueryOnce(t,n,l.dfd))}_setAttrs(t){this.attrs=t.reduce((n,r)=>(n[r.id]=r,n),{}),this.notifyAttrsSubs()}_startQuerySub(t,n){const r=Yt();return this.querySubs.updateInPlace(i=>{i[n]=i[n]||{q:t,result:null,eventId:r},i[n].lastAccessed=Date.now()}),this._trySendAuthed(r,{op:"add-query",q:t}),r}subscribeTable(t,n){return this._syncTable.subscribe(t,n)}subscribeQuery(t,n,r){var i;this.config.disableValidation||CA(t,this.config.schema),r&&"ruleParams"in r&&(t=Object.assign({$$ruleParams:r.ruleParams},t));const a=on(t),l=this.getPreviousResult(t);return l&&n(l),this.queryCbs[a]=(i=this.queryCbs[a])!==null&&i!==void 0?i:[],this.queryCbs[a].push({q:t,cb:n}),this._startQuerySub(t,a),()=>{this._unsubQuery(t,a,n)}}queryOnce(t,n){var r;this.config.disableValidation||CA(t,this.config.schema),n&&"ruleParams"in n&&(t=Object.assign({$$ruleParams:n.ruleParams},t));const i=new EA;if(!this._isOnline)return i.reject(new Error("We can't run `queryOnce`, because the device is offline.")),i.promise;if(!this.querySubs)return i.reject(new Error("We can't run `queryOnce` on the backend. Use adminAPI.query instead: https://www.instantdb.com/docs/backend#query")),i.promise;const a=on(t),l=this._startQuerySub(t,a);return this.queryOnceDfds[a]=(r=this.queryOnceDfds[a])!==null&&r!==void 0?r:[],this.queryOnceDfds[a].push({q:t,dfd:i,eventId:l}),setTimeout(()=>i.reject(new Error("Query timed out")),vF),i.promise}_completeQueryOnce(t,n,r){this.queryOnceDfds[n]&&(this.queryOnceDfds[n]=this.queryOnceDfds[n].filter(i=>i.dfd!==r),this._cleanupQuery(t,n))}_unsubQuery(t,n,r){this.queryCbs[n]&&(this.queryCbs[n]=this.queryCbs[n].filter(i=>i.cb!==r),this._cleanupQuery(t,n))}_hasQueryListeners(t){var n,r;return!!(!((n=this.queryCbs[t])===null||n===void 0)&&n.length||!((r=this.queryOnceDfds[t])===null||r===void 0)&&r.length)}_cleanupQuery(t,n){this._hasQueryListeners(n)||(delete this.queryCbs[n],delete this.queryOnceDfds[n],delete this._dataForQueryCache[n],this.querySubs.unloadKey(n),this._trySendAuthed(Yt(),{op:"remove-query",q:t}))}_rewriteMutations(t,n,r){if(!t)return n;if(!n)return new Map;const i=h=>{const[m,v,_]=h["forward-identity"];return sn(t,v,_)},a=h=>{const[m,v,_]=h["forward-identity"];return Oo(t,v,_)},l={attrIdMap:{},refSwapAttrIds:new Set};let u=!1;const c=(h,m)=>{const v=[];for(const _ of h){const[T]=_;if(T==="add-attr"){const[w,M]=_,O=i(M);if(O&&M.id!==O.id){l.attrIdMap[M.id]=O.id,u=!0;continue}if(M["value-type"]==="ref"){const P=a(M);if(P){l.attrIdMap[M.id]=P.id,l.refSwapAttrIds.add(M.id),u=!0;continue}}}if(r&&m&&r>=m&&T==="add-attr"||T==="update-attr"||T==="delete-attr"){u=!0;continue}const E=u?a$(l,_):_;v.push(E)}return u?v:h},d=new Map;for(const[h,m]of n.entries())d.set(h,Object.assign(Object.assign({},m),{"tx-steps":c(m["tx-steps"],m["tx-id"])}));return u?d:n}_rewriteMutationsSorted(t,n){return UA(this._rewriteMutations(t,n).entries())}optimisticAttrs(){var t;const n=[...this._pendingMutations().values()].flatMap(u=>u["tx-steps"]),r=new Set(n.filter(([u,c])=>u==="delete-attr").map(([u,c])=>c)),i=[];for(const[u,c]of n)if(u==="add-attr")i.push(c);else if(u==="update-attr"&&c.id&&(!((t=this.attrs)===null||t===void 0)&&t[c.id])){const d=Object.assign(Object.assign({},this.attrs[c.id]),c);i.push(d)}const a=[...Object.values(this.attrs||{}),...i].filter(u=>!r.has(u.id));return Object.fromEntries(a.map(u=>[u.id,u]))}dataForQuery(t){const n=this._errorMessage;if(n)return{error:n};if(!this.querySubs||!this.kv.currentValue.pendingMutations)return;const r=this.querySubs.version(),i=this.querySubs.currentValue,a=this.kv.version(),l=this._pendingMutations(),{q:u,result:c}=i[t]||{};if(!c)return;const d=this._dataForQueryCache[t];if(d&&r===d.querySubVersion&&a===d.pendingMutationsVersion)return d.data;const{store:h,pageInfo:m,aggregate:v,processedTxId:_}=c,T=this._rewriteMutationsSorted(h.attrs,l),E=this._applyOptimisticUpdates(h,T,_),w=EI({store:E,pageInfo:m,aggregate:v},u);return this._dataForQueryCache[t]={querySubVersion:r,pendingMutationsVersion:a,data:w},w}_applyOptimisticUpdates(t,n,r){for(const[i,a]of n)(!a["tx-id"]||r&&a["tx-id"]>r)&&(t=o3(t,a["tx-steps"]));return t}notifyAll(){Object.keys(this.queryCbs).forEach(t=>{this.querySubs.waitForKeyToLoad(t).then(()=>this.notifyOne(t)).catch(()=>this.notifyOne(t))})}loadedNotifyAll(){this.kv.waitForKeyToLoad("pendingMutations").then(()=>this.notifyAll()).catch(()=>this.notifyAll())}shutdown(){var t;this._log.info("[shutdown]",this.config.appId),this._isShutdown=!0,(t=this._transport)===null||t===void 0||t.close()}_sendMutation(t,n){if(n.error){this._handleMutationError("error",t,{message:n.error.message});return}if(this.status!==Ai.AUTHENTICATED){this._finishTransaction("enqueued",t);return}const r=Math.max(6e3,Math.min(this._inFlightMutationEventIds.size+1,this._pendingMutations().size+1)*6e3);this._isOnline?(this._trySend(t,n),setTimeout(()=>{this._isOnline&&this._handleMutationError("timeout",t,{message:"transaction timed out"})},r)):this._finishTransaction("enqueued",t)}_flushPendingMessages(){Object.keys(this.queryCbs).map(i=>this.querySubs.currentValue[i]).filter(i=>i).forEach(({eventId:i,q:a})=>{this._trySendAuthed(i,{op:"add-query",q:a})}),Object.values(this.queryOnceDfds).flat().forEach(({eventId:i,q:a})=>{this._trySendAuthed(i,{op:"add-query",q:a})}),this._rewriteMutationsSorted(this.attrs,this._pendingMutations()).forEach(([i,a])=>{a["tx-id"]||this._sendMutation(i,a)}),this._syncTable.flushPending()}_cleanupPendingMutationsQueries(){let t=Number.MAX_SAFE_INTEGER;for(const{result:n}of Object.values(this.querySubs.currentValue))n?.processedTxId&&(t=Math.min(t,n?.processedTxId));this._updatePendingMutations(n=>{for(const[r,i]of Array.from(n.entries()))i["tx-id"]&&i["tx-id"]<=t&&n.delete(r)})}_cleanupPendingMutationsTimeout(){if(this._pendingMutations().size<this._pendingMutationCleanupThreshold)return;const t=Date.now();this._updatePendingMutations(n=>{for(const[r,i]of Array.from(n.entries()))i.confirmed&&i.confirmed+this._pendingTxCleanupTimeout<t&&n.delete(r)})}_trySendAuthed(...t){this.status===Ai.AUTHENTICATED&&this._trySend(...t)}_trySend(t,n,r){if(this._transport.isOpen()){switch(LA[n.op]||this._log.info("[send]",this._transport.id,n.op,n),n.op){case"transact":{this._inFlightMutationEventIds.add(t);break}case"init":this._inFlightMutationEventIds.clear()}this._transport.send(Object.assign({"client-event-id":t},n))}}_startSocket(){if(this._wsOk=null,this._isShutdown){this._log.info("[socket][start]",this.config.appId,"Reactor has been shut down and will not start a new socket");return}if(this._transport&&this._transport.isConnecting()){this._log.info("[socket][start]",this._transport.id,"maintained as current transport, we were still in a connecting state");return}const t=this._transport;this._transport=SF({transportType:this._transportType,appId:this.config.appId,apiURI:this.config.apiURI,wsURI:this.config.websocketURI,EventSourceImpl:this._EventSource}),this._transport.onopen=this._transportOnOpen,this._transport.onmessage=this._transportOnMessage,this._transport.onclose=this._transportOnClose,this._transport.onerror=this._transportOnError,this._log.info("[socket][start]",this._transport.id),t?.isOpen()&&(this._log.info("[socket][start]",this._transport.id,"close previous transport id = ",t.id),t.close())}getLocalId(t){return It(this,void 0,void 0,function*(){const n=`localToken_${t}`;if(this.kv.currentValue[n])return this.kv.currentValue[n];const r=yield this.kv.waitForKeyToLoad(n);if(r)return r;const i=Yt();return this.kv.updateInPlace(a=>{a[n]||(a[n]=i)}),yield this.kv.waitForKeyToLoad(n)})}_replaceUrlAfterOAuth(){if(typeof URL>"u")return;const t=new URL(window.location.href);if(t.searchParams.get(hv)){const n=t.toString();t.searchParams.delete(hv),t.searchParams.delete("code"),t.searchParams.delete("error");const r=t.pathname+(t.searchParams.size?"?"+t.searchParams:"")+t.hash;if(history.replaceState(history.state,"",r),typeof navigation=="object"&&typeof navigation.addEventListener=="function"&&typeof navigation.removeEventListener=="function"){let i=!1;const a=l=>{var u;i||(i=!0,navigation.removeEventListener("navigate",a),!l.userInitiated&&l.navigationType==="replace"&&((u=l.destination)===null||u===void 0?void 0:u.url)===n&&history.replaceState(history.state,"",r))};navigation.addEventListener("navigate",a)}}}_oauthLoginInit(){return It(this,void 0,void 0,function*(){var t,n,r,i;if(typeof window>"u"||typeof window.location>"u"||typeof URLSearchParams>"u")return null;const a=new URLSearchParams(window.location.search);if(!a.get(hv))return null;const l=a.get("error");if(l)return this._replaceUrlAfterOAuth(),{error:{message:l}};const u=a.get("code");if(!u)return null;this._replaceUrlAfterOAuth();try{const c=yield this._getCurrentUser(),d=c?.type==="guest",{user:h}=yield SA({apiURI:this.config.apiURI,appId:this.config.appId,code:u,refreshToken:d?c.refresh_token:void 0});return this.setCurrentUser(h),null}catch(c){return((t=c?.body)===null||t===void 0?void 0:t.type)==="record-not-found"&&((r=(n=c?.body)===null||n===void 0?void 0:n.hint)===null||r===void 0?void 0:r["record-type"])==="app-oauth-code"&&(yield this._hasCurrentUser())?null:{error:{message:((i=c?.body)===null||i===void 0?void 0:i.message)||"Error logging in."}}}})}_waitForOAuthCallbackResponse(){return It(this,void 0,void 0,function*(){return yield this._oauthCallbackResponse})}__subscribeMutationErrors(t){return this.mutationErrorCbs.push(t),()=>{this.mutationErrorCbs=this.mutationErrorCbs.filter(n=>n!==t)}}subscribeAuth(t){this.authCbs.push(t);const n=this._currentUserCached;n.isLoading||t(this._currentUserCached);let r=!1;return this.getCurrentUser().then(i=>{r||Cd(i,n)||t(i)}),()=>{r=!0,this.authCbs=this.authCbs.filter(i=>i!==t)}}getAuth(){return It(this,void 0,void 0,function*(){const{user:t,error:n}=yield this.getCurrentUser();if(n)throw new tl("Could not get current user: "+n.message);return t})}subscribeConnectionStatus(t){return this.connectionStatusCbs.push(t),()=>{this.connectionStatusCbs=this.connectionStatusCbs.filter(n=>n!==t)}}subscribeAttrs(t){return this.attrsCbs.push(t),this.attrs&&t(this.attrs),()=>{this.attrsCbs=this.attrsCbs.filter(n=>n!==t)}}notifyAuthSubs(t){this.authCbs.forEach(n=>n(t))}notifyMutationErrorSubs(t){this.mutationErrorCbs.forEach(n=>n(t))}notifyAttrsSubs(){if(!this.attrs)return;const t=this.optimisticAttrs();this.attrsCbs.forEach(n=>n(t))}notifyConnectionStatusSubs(t){this.connectionStatusCbs.forEach(n=>n(t))}setCurrentUser(t){return It(this,void 0,void 0,function*(){this.kv.updateInPlace(n=>{n[_u]=t}),yield this.kv.waitForKeyToLoad(_u)})}getCurrentUserCached(){return this._currentUserCached}_getCurrentUser(){return It(this,void 0,void 0,function*(){const t=yield this.kv.waitForKeyToLoad(_u);return typeof t=="string"?JSON.parse(t):t})}getCurrentUser(){return It(this,void 0,void 0,function*(){const t=yield this._waitForOAuthCallbackResponse();if(t?.error){const n={error:t.error,user:void 0};return this._currentUserCached=Object.assign({isLoading:!1},n),n}try{const r={user:yield this._getCurrentUser(),error:void 0};return this._currentUserCached=Object.assign({isLoading:!1},r),r}catch(n){return{user:void 0,isLoading:!1,error:{message:n?.message||"Error loading user"}}}})}_hasCurrentUser(){return It(this,void 0,void 0,function*(){const t=yield this.kv.waitForKeyToLoad(_u);return typeof t=="string"?JSON.parse(t)!=null:t!=null})}changeCurrentUser(t){return It(this,void 0,void 0,function*(){var n;const{user:r}=yield this.getCurrentUser();if(!Cd(r,t)){yield this.setCurrentUser(t),this.updateUser(t);try{(n=this._broadcastChannel)===null||n===void 0||n.postMessage({type:"auth"})}catch(i){console.error("Error posting message to broadcast channel",i)}}})}updateUser(t){const n={error:void 0,user:t};this._currentUserCached=Object.assign({isLoading:!1},n),this._dataForQueryCache={},this.querySubs.updateInPlace(r=>{Object.keys(r).forEach(i=>{delete r[i].result})}),this._reconnectTimeoutMs=0,this._transport.close(),this._oauthCallbackResponse=null,this.notifyAuthSubs(n)}sendMagicCode({email:t}){return j$({apiURI:this.config.apiURI,appId:this.config.appId,email:t})}signInWithMagicCode(t){return It(this,arguments,void 0,function*({email:n,code:r}){var i;const a=yield this.getCurrentUser(),l=((i=a?.user)===null||i===void 0?void 0:i.type)==="guest",u=yield z$({apiURI:this.config.apiURI,appId:this.config.appId,email:n,code:r,refreshToken:l?a.user.refresh_token:void 0});return yield this.changeCurrentUser(u.user),u})}signInWithCustomToken(t){return It(this,void 0,void 0,function*(){const n=yield B$({apiURI:this.config.apiURI,appId:this.config.appId,refreshToken:t});return yield this.changeCurrentUser(n.user),n})}signInAsGuest(){return It(this,void 0,void 0,function*(){const t=yield $$({apiURI:this.config.apiURI,appId:this.config.appId});return yield this.changeCurrentUser(t.user),t})}potentiallyInvalidateToken(t,n){var r;const i=(r=t?.user)===null||r===void 0?void 0:r.refresh_token;if(!i)return;if(n.invalidateToken===!1){this._log.info("[auth-invalidate] skipped invalidateToken");return}H$({apiURI:this.config.apiURI,appId:this.config.appId,refreshToken:i}).then(()=>{this._log.info("[auth-invalidate] completed invalidateToken")}).catch(l=>{})}signOut(t){return It(this,void 0,void 0,function*(){const n=yield this.getCurrentUser();this.potentiallyInvalidateToken(n,t),yield this.changeCurrentUser(null)})}createAuthorizationURL({clientName:t,redirectURL:n}){const{apiURI:r,appId:i}=this.config;return`${r}/runtime/oauth/start?app_id=${i}&client_name=${t}&redirect_uri=${n}`}exchangeCodeForToken(t){return It(this,arguments,void 0,function*({code:n,codeVerifier:r}){var i;const a=yield this.getCurrentUser(),l=((i=a?.user)===null||i===void 0?void 0:i.type)==="guest",u=yield SA({apiURI:this.config.apiURI,appId:this.config.appId,code:n,codeVerifier:r,refreshToken:l?a.user.refresh_token:void 0});return yield this.changeCurrentUser(u.user),u})}issuerURI(){const{apiURI:t,appId:n}=this.config;return`${t}/runtime/${n}`}signInWithIdToken(t){return It(this,arguments,void 0,function*({idToken:n,clientName:r,nonce:i}){var a;const l=yield this.getCurrentUser(),u=(a=l?.user)===null||a===void 0?void 0:a.refresh_token,c=yield F$({apiURI:this.config.apiURI,appId:this.config.appId,idToken:n,clientName:r,nonce:i,refreshToken:u});return yield this.changeCurrentUser(c.user),c})}joinRoom(t,n){let r=!1;this._rooms[t]||(r=!0,this._rooms[t]={isConnected:!1,error:void 0}),this._presence[t]=this._presence[t]||{};const i=this._presence[t].result;return n&&!i&&(this._presence[t].result=this._presence[t].result||{},this._presence[t].result.user=n,this._notifyPresenceSubs(t)),r&&this._tryJoinRoom(t,n),()=>{this._cleanupRoom(t)}}_cleanupRoom(t){var n,r,i,a;if(!(!((r=(n=this._presence[t])===null||n===void 0?void 0:n.handlers)===null||r===void 0)&&r.length)&&!Object.keys((i=this._broadcastSubs[t])!==null&&i!==void 0?i:{}).length){const l=(a=this._rooms[t])===null||a===void 0?void 0:a.isConnected;delete this._rooms[t],delete this._presence[t],delete this._broadcastSubs[t],l?this._tryLeaveRoom(t):this._roomsPendingLeave[t]=!0}}getPresence(t,n,r={}){const i=this._rooms[n],a=this._presence[n];return!i||!a||!a.result?null:Object.assign(Object.assign({},J$(a.result,r,this._sessionId)),{isLoading:!i.isConnected,error:i.error})}publishPresence(t,n,r){const i=this._rooms[n],a=this._presence[n];if(!i||!a)return;a.result=a.result||{};const l=Object.assign(Object.assign({},a.result.user),r);a.result.user=l,i.isConnected&&(this._trySetPresence(n,l),this._notifyPresenceSubs(n))}_trySetPresence(t,n){this._trySendAuthed(Yt(),{op:"set-presence","room-id":t,data:n})}_tryJoinRoom(t,n){this._trySendAuthed(Yt(),{op:"join-room","room-id":t,data:n}),delete this._roomsPendingLeave[t]}_tryLeaveRoom(t){this._trySendAuthed(Yt(),{op:"leave-room","room-id":t})}_trySetRoomConnected(t,n){const r=this._rooms[t];r&&(r.isConnected=n)}subscribePresence(t,n,r,i){const a=this.joinRoom(n,r.initialPresence||r.initialData),l=Object.assign(Object.assign({},r),{roomId:n,cb:i,prev:null});return this._presence[n]=this._presence[n]||{},this._presence[n].handlers=this._presence[n].handlers||[],this._presence[n].handlers.push(l),this._notifyPresenceSub(n,l),()=>{var u,c,d;this._presence[n].handlers=(d=(c=(u=this._presence[n])===null||u===void 0?void 0:u.handlers)===null||c===void 0?void 0:c.filter(h=>h!==l))!==null&&d!==void 0?d:[],a()}}_notifyPresenceSubs(t){var n,r;(r=(n=this._presence[t])===null||n===void 0?void 0:n.handlers)===null||r===void 0||r.forEach(i=>{this._notifyPresenceSub(t,i)})}_notifyPresenceSub(t,n){const r=this.getPresence("",t,n);r&&(n.prev&&!X$(r,n.prev)||(n.prev=r,n.cb(r)))}_patchPresencePeers(t,n){var r,i,a;const l=((i=(r=this._presence[t])===null||r===void 0?void 0:r.result)===null||i===void 0?void 0:i.peers)||{};let u=Object.fromEntries(Object.entries(l).map(([d,h])=>[d,{data:h}]));(a=this._presence[t])===null||a===void 0||a.result;const c=zd(u,d=>{for(let[h,m,v]of n)switch(m){case"+":PB(d,h,v);break;case"r":lA(d,h,v);break;case"-":oI(d,h);break}delete d[this._sessionId]});this._setPresencePeers(t,c)}_setPresencePeers(t,n){const r=Object.assign({},n);delete r[this._sessionId];const i=Object.fromEntries(Object.entries(r).map(([a,l])=>[a,l.data]));this._presence=zd(this._presence,a=>{lA(a,[t,"result","peers"],i)})}publishTopic({roomType:t,roomId:n,topic:r,data:i}){var a;const l=this._rooms[n];if(l){if(!l.isConnected){this._broadcastQueue[n]=(a=this._broadcastQueue[n])!==null&&a!==void 0?a:[],this._broadcastQueue[n].push({topic:r,roomType:t,data:i});return}this._tryBroadcast(n,t,r,i)}}_tryBroadcast(t,n,r,i){this._trySendAuthed(Yt(),{op:"client-broadcast","room-id":t,roomType:n,topic:r,data:i})}subscribeTopic(t,n,r){const i=this.joinRoom(t);return this._broadcastSubs[t]=this._broadcastSubs[t]||{},this._broadcastSubs[t][n]=this._broadcastSubs[t][n]||[],this._broadcastSubs[t][n].push(r),this._presence[t]=this._presence[t]||{},()=>{this._broadcastSubs[t][n]=this._broadcastSubs[t][n].filter(a=>a!==r),this._broadcastSubs[t][n].length||delete this._broadcastSubs[t][n],i()}}_notifyBroadcastSubs(t,n,r){var i,a,l;(l=(a=(i=this._broadcastSubs)===null||i===void 0?void 0:i[t])===null||a===void 0?void 0:a[n])===null||l===void 0||l.forEach(u=>{var c,d,h,m,v,_;const T=(c=r.data)===null||c===void 0?void 0:c.data,E=r.data["peer-id"]===this._sessionId?(h=(d=this._presence[t])===null||d===void 0?void 0:d.result)===null||h===void 0?void 0:h.user:(_=(v=(m=this._presence[t])===null||m===void 0?void 0:m.result)===null||v===void 0?void 0:v.peers)===null||_===void 0?void 0:_[r.data["peer-id"]];return u(T,E)})}uploadFile(t,n,r){return It(this,void 0,void 0,function*(){var i;const a=yield this.getCurrentUser(),l=(i=a?.user)===null||i===void 0?void 0:i.refresh_token;return G$(Object.assign(Object.assign({},r),{apiURI:this.config.apiURI,appId:this.config.appId,path:t,file:n,refreshToken:l}))})}deleteFile(t){return It(this,void 0,void 0,function*(){var n;const r=yield this.getCurrentUser(),i=(n=r?.user)===null||n===void 0?void 0:n.refresh_token;return yield V$({apiURI:this.config.apiURI,appId:this.config.appId,path:t,refreshToken:i})})}upload(t,n){return It(this,void 0,void 0,function*(){var r;const i=yield this.getCurrentUser(),a=(r=i?.user)===null||r===void 0?void 0:r.refresh_token,l=t||n.name,u=yield K$({apiURI:this.config.apiURI,appId:this.config.appId,fileName:l,refreshToken:a});return yield Y$(u,n)})}getDownloadUrl(t){return It(this,void 0,void 0,function*(){var n;const r=yield this.getCurrentUser(),i=(n=r?.user)===null||n===void 0?void 0:n.refresh_token;return yield W$({apiURI:this.config.apiURI,appId:this.config.appId,path:t,refreshToken:i})})}}let id;function PF(e,t){id?.dispose();const n=kF(t),r=IF(t,u),i=NF(OF(e));function a(h){var m;h.source===i.element.contentWindow&&((m=h.data)===null||m===void 0?void 0:m.type)==="close"&&n.isVisible()&&u()}function l(h){const m=h.shiftKey&&h.ctrlKey&&h.key==="0",v=h.key==="Escape"||h.key==="Esc";(m||v&&n.isVisible())&&u()}function u(){n.isVisible()?n.element.style.display="none":(n.element.style.display="block",n.element.contains(i.element)||n.element.appendChild(i.element))}function c(){n.element.remove(),r.element.remove(),removeEventListener("keydown",l),removeEventListener("message",a)}function d(){document.body.appendChild(n.element),document.body.appendChild(r.element),addEventListener("keydown",l),addEventListener("message",a),id={dispose:c}}return d()}function OF(e){return`${Zb||OI?"http://localhost:3000":"https://instantdb.com"}/_devtool?appId=${e}`}function NF(e){const t=document.createElement("iframe");return t.src=e,t.className="instant-devtool-iframe",Object.assign(t.style,{width:"100%",height:"100%",backgroundColor:"white",border:"none"}),{element:t}}function IF(e,t){const n=`
    <svg width="32" height="32" viewBox="0 0 512 512" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="512" height="512" fill="black"/>
      <rect x="97.0973" y="91.3297" width="140" height="330" fill="white"/>
    </svg>
  `,r=document.createElement("button");return r.innerHTML=n,r.className="instant-devtool-toggler",Object.assign(r.style,Object.assign(Object.assign({position:"fixed"},DF(e.position)),{height:"32px",width:"32px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:"9010",padding:"0",margin:"0",border:"none",cursor:"pointer"})),r.addEventListener("click",t),{element:r}}function DF(e){switch(e){case"bottom-left":return{bottom:"24px",left:"24px"};case"bottom-right":return{bottom:"24px",right:"24px"};case"top-right":return{top:"24px",right:"24px"};case"top-left":return{top:"24px",left:"24px"}}}function RF(e){switch(e){case"bottom-left":return{bottom:"24px",right:"24px",left:"60px",top:"72px"};case"bottom-right":return{bottom:"24px",left:"24px",right:"60px",top:"72px"};case"top-right":return{top:"24px",left:"24px",right:"60px",bottom:"72px"};case"top-left":return{top:"24px",right:"24px",left:"60px",bottom:"72px"}}}function kF(e){const t=document.createElement("div");Object.assign(t.style,Object.assign(Object.assign({position:"fixed"},RF(e.position)),{display:"block",borderRadius:"4px",border:"1px #ccc solid",boxShadow:"0px 0px 8px #00000044",backgroundColor:"#eee",zIndex:"999990"})),t.style.display="none",t.className="instant-devtool-container";function n(){return t.style.display!=="none"}return{element:t,isVisible:n}}const LF={apiURI:"https://api.instantdb.com",websocketURI:"wss://api.instantdb.com/runtime/session"};function UF(){var e;return globalThis.__instantDbSchemaHashStore=(e=globalThis.__instantDbSchemaHashStore)!==null&&e!==void 0?e:new WeakMap,globalThis.__instantDbSchemaHashStore}function qF(){var e;return globalThis.__instantDbStore=(e=globalThis.__instantDbStore)!==null&&e!==void 0?e:{},globalThis.__instantDbStore}function m0(e){const t=e.__adminToken;return e.appId+"_"+(e.websocketURI||"default_ws_uri")+"_"+(e.apiURI||"default_api_uri")+"_"+(t||"client_only")+"_"+e.useDateObjects}const g0=qF(),qA=UF();class jF{constructor(t){this.db=t,this.sendMagicCode=n=>this.db.sendMagicCode(n),this.signInWithMagicCode=n=>this.db.signInWithMagicCode(n),this.signInWithToken=n=>this.db.signInWithCustomToken(n),this.signInAsGuest=()=>this.db.signInAsGuest(),this.createAuthorizationURL=n=>this.db.createAuthorizationURL(n),this.signInWithIdToken=n=>this.db.signInWithIdToken(n),this.exchangeOAuthCode=n=>this.db.exchangeCodeForToken(n),this.issuerURI=()=>this.db.issuerURI(),this.signOut=(n={invalidateToken:!0})=>this.db.signOut(n)}}class zF{constructor(t){this.db=t,this.uploadFile=(n,r,i={})=>this.db.uploadFile(n,r,i),this.delete=n=>this.db.deleteFile(n),this.upload=(n,r)=>this.db.upload(n,r),this.put=this.upload,this.getDownloadUrl=n=>this.db.getDownloadUrl(n)}}function BF(e){return JSON.parse(JSON.stringify(e))}class $F{constructor(t){this.tx=Qb(),this._reactor=t,this.auth=new jF(this._reactor),this.storage=new zF(this._reactor)}transact(t){return this._reactor.pushTx(t)}getLocalId(t){return this._reactor.getLocalId(t)}subscribeQuery(t,n,r){return this._reactor.subscribeQuery(t,n,r)}subscribeAuth(t){return this._reactor.subscribeAuth(t)}getAuth(){return this._reactor.getAuth()}subscribeConnectionStatus(t){return this._reactor.subscribeConnectionStatus(t)}joinRoom(t="_defaultRoomType",n="_defaultRoomId",r){return{leaveRoom:this._reactor.joinRoom(n,r?.initialPresence),subscribeTopic:(a,l)=>this._reactor.subscribeTopic(n,a,l),subscribePresence:(a,l)=>this._reactor.subscribePresence(t,n,a,l),publishTopic:(a,l)=>this._reactor.publishTopic({roomType:t,roomId:n,topic:a,data:l}),publishPresence:a=>this._reactor.publishPresence(t,n,a),getPresence:a=>this._reactor.getPresence(t,n,a)}}shutdown(){delete g0[m0(this._reactor.config)],this._reactor.shutdown()}queryOnce(t,n){return this._reactor.queryOnce(t,n)}_syncTableExperimental(t,n){return this._reactor.subscribeTable(t,n)}}function jA(e){if(!e)return"0";const t=qA.get(e);if(t)return t;const n=on(e);return qA.set(e,n),n}function FF(e,t){return jA(e._reactor.config.schema)!==jA(t)}function HF(e,t,n,r,i){const a=g0[m0(e)];if(a)return FF(a,e.schema)&&a._reactor.updateSchema(e.schema),a;const l=new MF(Object.assign(Object.assign(Object.assign({},LF),e),{cardinalityInference:!!e.schema}),t||CI,n||MI,Object.assign(Object.assign({},r||{}),{"@instantdb/core":e_}),i),u=new $F(l);return g0[m0(e)]=u,GF(e.appId,e.devtool),u}function GF(e,t){if(typeof window>"u"||typeof window.location>"u"||typeof document>"u"||typeof t=="boolean"&&!t)return;const n=Object.assign({position:"bottom-right",allowedHosts:["localhost"]},typeof t=="object"?t:{});n.allowedHosts.includes(window.location.hostname)&&PF(e,n)}const VF={isLoading:!0,data:void 0,pageInfo:void 0,error:void 0};function zA(e){return Object.assign({isLoading:!e,data:void 0,pageInfo:void 0,error:void 0},e||{})}function KF(e,t,n){t&&n&&"ruleParams"in n&&(t=Object.assign({$$ruleParams:n.ruleParams},t));const r=t?BF(t):null,i=on(r),a=x.useRef(zA(e._reactor.getPreviousResult(r))),l=x.useCallback(c=>(a.current=zA(e._reactor.getPreviousResult(r)),r?e.subscribeQuery(r,h=>{a.current=Object.assign({isLoading:!h,data:void 0,pageInfo:void 0,error:void 0},h),c()}):()=>{}),[i]);return{state:x.useSyncExternalStore(l,()=>a.current,()=>VF),query:r}}function YF(){const e=x.useRef(null);x.useEffect(()=>{n()},[]);function t(r,i){clearTimeout(e.current),e.current=setTimeout(i,r)}function n(){clearTimeout(e.current)}return{set:t,clear:n}}const WF=1e3;function JF(e,t,n){const r=x.useRef(n);r.current=n,x.useEffect(()=>e.core._reactor.subscribeTopic(e.id,t,(a,l)=>{r.current(a,l)}),[e.id,t])}function XF(e,t){return x.useEffect(()=>e.core._reactor.joinRoom(e.id),[e.id]),x.useCallback(r=>{e.core._reactor.publishTopic({roomType:e.type,roomId:e.id,topic:t,data:r})},[e.id,t])}function QF(e,t={}){var n,r;const[i,a]=x.useState(()=>{var c;return(c=e.core._reactor.getPresence(e.type,e.id,t))!==null&&c!==void 0?c:{peers:{},isLoading:!0}});x.useEffect(()=>e.core._reactor.subscribePresence(e.type,e.id,t,d=>{a(d)}),[e.id,t.user,(n=t.peers)===null||n===void 0?void 0:n.join(),(r=t.keys)===null||r===void 0?void 0:r.join()]);const l=x.useCallback(c=>{e.core._reactor.publishPresence(e.type,e.id,c)},[e.type,e.id]);return x.useMemo(()=>Object.assign(Object.assign({},i),{publishPresence:l}),[i,l])}function ZF(e,t,n){x.useEffect(()=>e.core._reactor.joinRoom(e.id,t),[e.id]),x.useEffect(()=>e.core._reactor.publishPresence(e.type,e.id,t),[e.type,e.id,n??JSON.stringify(t)])}function eH(e,t,n={}){const r=YF(),i=To.usePresence(e,{keys:[t]}),a=x.useMemo(()=>{var h;const m=e._core._reactor.getPresence(e.type,e.id);return n?.writeOnly?[]:Object.values((h=m?.peers)!==null&&h!==void 0?h:{}).filter(v=>v[t]===!0)},[n?.writeOnly,i]),l=x.useCallback(h=>{var m;e.core._reactor.publishPresence(e.type,e.id,{[t]:h}),h&&(n?.timeout===null||n?.timeout===0||r.set((m=n?.timeout)!==null&&m!==void 0?m:WF,()=>{e.core._reactor.publishPresence(e.type,e.id,{[t]:null})}))},[e.type,e.id,t,n?.timeout,r]),u=x.useCallback(h=>{const v=!(n?.stopOnEnter&&h.key==="Enter");l(v)},[n.stopOnEnter,l]),c=x.useCallback(()=>{l(!1)},[l]),d=x.useMemo(()=>({onKeyDown:u,onBlur:c}),[u,c]);return{active:a,setActive:l,inputProps:d}}const To={useTopicEffect:JF,usePublishTopic:XF,usePresence:QF,useSyncPresence:ZF,useTypingIndicator:eH};class tH{constructor(t,n,r){this.useTopicEffect=(i,a)=>{To.useTopicEffect(this,i,a)},this.usePublishTopic=i=>To.usePublishTopic(this,i),this.usePresence=(i={})=>To.usePresence(this,i),this.useSyncPresence=(i,a)=>To.useSyncPresence(this,i,a),this.useTypingIndicator=(i,a={})=>To.useTypingIndicator(this,i,a),this.core=t,this._core=this.core,this.type=n,this.id=r}}var nH=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};const rH={isLoading:!0,user:void 0,error:void 0};class iH{constructor(t,n){this.tx=Qb(),this.getLocalId=r=>this.core.getLocalId(r),this.useLocalId=r=>{const[i,a]=x.useState(null);return x.useEffect(()=>{nH(this,void 0,void 0,function*(){const u=yield this.getLocalId(r);a(u)})},[r]),i},this.rooms=To,this.transact=r=>this.core.transact(r),this.useQuery=(r,i)=>KF(this.core,r,i).state,this.useAuth=()=>{const r=x.useRef(this.core._reactor._currentUserCached),i=x.useCallback(l=>this.core.subscribeAuth(c=>{r.current=Object.assign({isLoading:!1},c),l()}),[]);return x.useSyncExternalStore(i,()=>r.current,()=>rH)},this.useUser=()=>{const{user:r}=this.useAuth();if(!r)throw new tl("useUser must be used within an auth-protected route");return r},this.useConnectionStatus=()=>{const r=x.useRef(this.core._reactor.status),i=x.useCallback(l=>this.core.subscribeConnectionStatus(c=>{c!==r.current&&(r.current=c,l())}),[]);return x.useSyncExternalStore(i,()=>r.current,()=>"connecting")},this.queryOnce=(r,i)=>this.core.queryOnce(r,i),this.SignedIn=({children:r})=>{const i=this.useAuth();return i.isLoading||i.error||!i.user?null:A.jsx(A.Fragment,{children:r})},this.SignedOut=({children:r})=>{const i=this.useAuth();return i.isLoading||i.error||i.user?null:A.jsx(A.Fragment,{children:r})},this.core=HF(t,this.constructor.Storage,this.constructor.NetworkListener,n,this.constructor.EventSourceImpl),this._core=this.core,this.auth=this.core.auth,this.storage=this.core.storage}room(t="_defaultRoomType",n="_defaultRoomId"){return new tH(this.core,t,n)}getAuth(){return this.core.getAuth()}}class BA extends Error{constructor(t,n){super(t),this.name="ParseError",this.type=n.type,this.field=n.field,this.value=n.value,this.line=n.line}}function pv(e){}function aH(e){if(typeof e=="function")throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent:t=pv,onError:n=pv,onRetry:r=pv,onComment:i}=e;let a="",l=!0,u,c="",d="";function h(E){const w=l?E.replace(/^\xEF\xBB\xBF/,""):E,[M,O]=oH(`${a}${w}`);for(const P of M)m(P);a=O,l=!1}function m(E){if(E===""){_();return}if(E.startsWith(":")){i&&i(E.slice(E.startsWith(": ")?2:1));return}const w=E.indexOf(":");if(w!==-1){const M=E.slice(0,w),O=E[w+1]===" "?2:1,P=E.slice(w+O);v(M,P,E);return}v(E,"",E)}function v(E,w,M){switch(E){case"event":d=w;break;case"data":c=`${c}${w}
`;break;case"id":u=w.includes("\0")?void 0:w;break;case"retry":/^\d+$/.test(w)?r(parseInt(w,10)):n(new BA(`Invalid \`retry\` value: "${w}"`,{type:"invalid-retry",value:w,line:M}));break;default:n(new BA(`Unknown field "${E.length>20?`${E.slice(0,20)}`:E}"`,{type:"unknown-field",field:E,value:w,line:M}));break}}function _(){c.length>0&&t({id:u,event:d||void 0,data:c.endsWith(`
`)?c.slice(0,-1):c}),u=void 0,c="",d=""}function T(E={}){a&&E.consume&&m(a),l=!0,u=void 0,c="",d="",a=""}return{feed:h,reset:T}}function oH(e){const t=[];let n="",r=0;for(;r<e.length;){const i=e.indexOf("\r",r),a=e.indexOf(`
`,r);let l=-1;if(i!==-1&&a!==-1?l=Math.min(i,a):i!==-1?i===e.length-1?l=-1:l=i:a!==-1&&(l=a),l===-1){n=e.slice(r);break}else{const u=e.slice(r,l);t.push(u),r=l+1,e[r-1]==="\r"&&e[r]===`
`&&r++}}return[t,n]}class $A extends Event{constructor(t,n){var r,i;super(t),this.code=(r=n?.code)!=null?r:void 0,this.message=(i=n?.message)!=null?i:void 0}[Symbol.for("nodejs.util.inspect.custom")](t,n,r){return r(FA(this),n)}[Symbol.for("Deno.customInspect")](t,n){return t(FA(this),n)}}function sH(e){const t=globalThis.DOMException;return typeof t=="function"?new t(e,"SyntaxError"):new SyntaxError(e)}function v0(e){return e instanceof Error?"errors"in e&&Array.isArray(e.errors)?e.errors.map(v0).join(", "):"cause"in e&&e.cause instanceof Error?`${e}: ${v0(e.cause)}`:e.message:`${e}`}function FA(e){return{type:e.type,message:e.message,code:e.code,defaultPrevented:e.defaultPrevented,cancelable:e.cancelable,timeStamp:e.timeStamp}}var qI=e=>{throw TypeError(e)},t_=(e,t,n)=>t.has(e)||qI("Cannot "+n),Ue=(e,t,n)=>(t_(e,t,"read from private field"),n?n.call(e):t.get(e)),Lt=(e,t,n)=>t.has(e)?qI("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),pt=(e,t,n,r)=>(t_(e,t,"write to private field"),t.set(e,n),n),Pi=(e,t,n)=>(t_(e,t,"access private method"),n),Un,Eo,qs,Pd,Fd,zu,$s,Bu,Da,js,Ks,zs,Du,Nr,y0,b0,_0,HA,S0,T0,Ru,E0,w0;class $u extends EventTarget{constructor(t,n){var r,i;super(),Lt(this,Nr),this.CONNECTING=0,this.OPEN=1,this.CLOSED=2,Lt(this,Un),Lt(this,Eo),Lt(this,qs),Lt(this,Pd),Lt(this,Fd),Lt(this,zu),Lt(this,$s),Lt(this,Bu,null),Lt(this,Da),Lt(this,js),Lt(this,Ks,null),Lt(this,zs,null),Lt(this,Du,null),Lt(this,b0,async a=>{var l;Ue(this,js).reset();const{body:u,redirected:c,status:d,headers:h}=a;if(d===204){Pi(this,Nr,Ru).call(this,"Server sent HTTP 204, not reconnecting",204),this.close();return}if(c?pt(this,qs,new URL(a.url)):pt(this,qs,void 0),d!==200){Pi(this,Nr,Ru).call(this,`Non-200 status code (${d})`,d);return}if(!(h.get("content-type")||"").startsWith("text/event-stream")){Pi(this,Nr,Ru).call(this,'Invalid content type, expected "text/event-stream"',d);return}if(Ue(this,Un)===this.CLOSED)return;pt(this,Un,this.OPEN);const m=new Event("open");if((l=Ue(this,Du))==null||l.call(this,m),this.dispatchEvent(m),typeof u!="object"||!u||!("getReader"in u)){Pi(this,Nr,Ru).call(this,"Invalid response body, expected a web ReadableStream",d),this.close();return}const v=new TextDecoder,_=u.getReader();let T=!0;do{const{done:E,value:w}=await _.read();w&&Ue(this,js).feed(v.decode(w,{stream:!E})),E&&(T=!1,Ue(this,js).reset(),Pi(this,Nr,E0).call(this))}while(T)}),Lt(this,_0,a=>{pt(this,Da,void 0),!(a.name==="AbortError"||a.type==="aborted")&&Pi(this,Nr,E0).call(this,v0(a))}),Lt(this,S0,a=>{typeof a.id=="string"&&pt(this,Bu,a.id);const l=new MessageEvent(a.event||"message",{data:a.data,origin:Ue(this,qs)?Ue(this,qs).origin:Ue(this,Eo).origin,lastEventId:a.id||""});Ue(this,zs)&&(!a.event||a.event==="message")&&Ue(this,zs).call(this,l),this.dispatchEvent(l)}),Lt(this,T0,a=>{pt(this,zu,a)}),Lt(this,w0,()=>{pt(this,$s,void 0),Ue(this,Un)===this.CONNECTING&&Pi(this,Nr,y0).call(this)});try{if(t instanceof URL)pt(this,Eo,t);else if(typeof t=="string")pt(this,Eo,new URL(t,lH()));else throw new Error("Invalid URL")}catch{throw sH("An invalid or illegal string was specified")}pt(this,js,aH({onEvent:Ue(this,S0),onRetry:Ue(this,T0)})),pt(this,Un,this.CONNECTING),pt(this,zu,3e3),pt(this,Fd,(r=n?.fetch)!=null?r:globalThis.fetch),pt(this,Pd,(i=n?.withCredentials)!=null?i:!1),Pi(this,Nr,y0).call(this)}get readyState(){return Ue(this,Un)}get url(){return Ue(this,Eo).href}get withCredentials(){return Ue(this,Pd)}get onerror(){return Ue(this,Ks)}set onerror(t){pt(this,Ks,t)}get onmessage(){return Ue(this,zs)}set onmessage(t){pt(this,zs,t)}get onopen(){return Ue(this,Du)}set onopen(t){pt(this,Du,t)}addEventListener(t,n,r){const i=n;super.addEventListener(t,i,r)}removeEventListener(t,n,r){const i=n;super.removeEventListener(t,i,r)}close(){Ue(this,$s)&&clearTimeout(Ue(this,$s)),Ue(this,Un)!==this.CLOSED&&(Ue(this,Da)&&Ue(this,Da).abort(),pt(this,Un,this.CLOSED),pt(this,Da,void 0))}}Un=new WeakMap,Eo=new WeakMap,qs=new WeakMap,Pd=new WeakMap,Fd=new WeakMap,zu=new WeakMap,$s=new WeakMap,Bu=new WeakMap,Da=new WeakMap,js=new WeakMap,Ks=new WeakMap,zs=new WeakMap,Du=new WeakMap,Nr=new WeakSet,y0=function(){pt(this,Un,this.CONNECTING),pt(this,Da,new AbortController),Ue(this,Fd)(Ue(this,Eo),Pi(this,Nr,HA).call(this)).then(Ue(this,b0)).catch(Ue(this,_0))},b0=new WeakMap,_0=new WeakMap,HA=function(){var e;const t={mode:"cors",redirect:"follow",headers:{Accept:"text/event-stream",...Ue(this,Bu)?{"Last-Event-ID":Ue(this,Bu)}:void 0},cache:"no-store",signal:(e=Ue(this,Da))==null?void 0:e.signal};return"window"in globalThis&&(t.credentials=this.withCredentials?"include":"same-origin"),t},S0=new WeakMap,T0=new WeakMap,Ru=function(e,t){var n;Ue(this,Un)!==this.CLOSED&&pt(this,Un,this.CLOSED);const r=new $A("error",{code:t,message:e});(n=Ue(this,Ks))==null||n.call(this,r),this.dispatchEvent(r)},E0=function(e,t){var n;if(Ue(this,Un)===this.CLOSED)return;pt(this,Un,this.CONNECTING);const r=new $A("error",{code:t,message:e});(n=Ue(this,Ks))==null||n.call(this,r),this.dispatchEvent(r),pt(this,$s,setTimeout(Ue(this,w0),Ue(this,zu)))},w0=new WeakMap,$u.CONNECTING=0,$u.OPEN=1,$u.CLOSED=2;Object.defineProperty($u,Symbol.for("eventsource.supports-fetch-override"),{value:!0,writable:!1,configurable:!1,enumerable:!1});function lH(){const e="document"in globalThis?globalThis.document:void 0;return e&&typeof e=="object"&&"baseURI"in e&&typeof e.baseURI=="string"?e.baseURI:void 0}class jI extends iH{}jI.EventSourceImpl=$u;function uH(e){return new jI(e,{"@instantdb/react":e_})}const cH="fb13a3d0-35ab-493b-9aa6-64a77363fe93",Te=uH({appId:cH}),Hd={calories_min:1600,calories_max:2e3,purines_min:0,purines_max:400,protein_target:50,carbs_target:250,fat_target:65,fiber_target:25,sodium_max:2300,sugar_max:50,hydration_target:2e3},Oi={calories:{icon:"",unit:"kcal",label:"Calories"},purines:{icon:"",unit:"mg",label:"Purines"},protein:{icon:"",unit:"g",label:"Protein"},carbs:{icon:"",unit:"g",label:"Carbs"},fat:{icon:"",unit:"g",label:"Fat"},fiber:{icon:"",unit:"g",label:"Fiber"},sodium:{icon:"",unit:"mg",label:"Sodium"},sugar:{icon:"",unit:"g",label:"Sugar"},hydration:{icon:"",unit:"ml",label:"Water"}};function fH(e,t,n,r){const i=10*e+6.25*t-5*n;return r==="male"?i+5:i-161}const dH={sedentary:1.2,light:1.375,moderate:1.55,active:1.725,very_active:1.9};function hH(e,t,n,r,i){const a=fH(e,t,n,r),l=dH[i]||1.55;return Math.round(a*l)}function pH(e=[]){return e.includes("kidney_disease")?150:e.includes("gout")?200:400}function mH(e,t){const n=e*30;return Math.round(n+({sedentary:0,light:200,moderate:400,active:600,very_active:800}[t]||0))}function gH(e){const{weight_kg:t,height_cm:n,age:r,sex:i,activity_level:a,dietary_conditions:l=[]}=e,u=hH(t,n,r,i,a),c=pH(l),d=mH(t,a),m=Math.round(t*({sedentary:.8,light:.9,moderate:1,active:1.2,very_active:1.4}[a]||1));let v=.5;l.includes("diabetes")&&(v=.4);const _=Math.round(u*v/4),T=Math.round(u*.275/9);let E=i==="female"?25:38;r>50&&(E=i==="female"?21:30);let w=2300;l.includes("kidney_disease")&&(w=1500);let M=i==="female"?25:36;return(l.includes("diabetes")||l.includes("gout"))&&(M=Math.round(M*.6)),{calories_min:Math.round(u*.85),calories_max:u,purines_min:0,purines_max:c,protein_target:m,carbs_target:_,fat_target:T,fiber_target:E,sodium_max:w,sugar_max:M,hydration_target:d}}function vH(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function GA(){return vH(new Date)}function yH(e){e=e.replace(/^#/,"");const t=parseInt(e.substring(0,2),16)/255,n=parseInt(e.substring(2,4),16)/255,r=parseInt(e.substring(4,6),16)/255,i=Math.max(t,n,r),a=Math.min(t,n,r);let l,u,c=(i+a)/2;if(i===a)l=u=0;else{const d=i-a;switch(u=c>.5?d/(2-i-a):d/(i+a),i){case t:l=((n-r)/d+(n<r?6:0))/6;break;case n:l=((r-t)/d+2)/6;break;case r:l=((t-n)/d+4)/6;break}}return{h:Math.round(l*360),s:Math.round(u*100),l:Math.round(c*100)}}function Gt(e,t,n){t/=100,n/=100;const r=(1-Math.abs(2*n-1))*t,i=r*(1-Math.abs(e/60%2-1)),a=n-r/2;let l=0,u=0,c=0;return 0<=e&&e<60?(l=r,u=i,c=0):60<=e&&e<120?(l=i,u=r,c=0):120<=e&&e<180?(l=0,u=r,c=i):180<=e&&e<240?(l=0,u=i,c=r):240<=e&&e<300?(l=i,u=0,c=r):300<=e&&e<360&&(l=r,u=0,c=i),l=Math.round((l+a)*255).toString(16).padStart(2,"0"),u=Math.round((u+a)*255).toString(16).padStart(2,"0"),c=Math.round((c+a)*255).toString(16).padStart(2,"0"),`#${l}${u}${c}`}function wo(e,t=!1){const n=yH(e);return t?{primary:e,primaryLight:Gt(n.h,n.s*.8,Math.min(n.l+15,80)),primaryDark:Gt(n.h,n.s,Math.max(n.l-15,20)),background:Gt(n.h,n.s*.2,12),surface:Gt(n.h,n.s*.15,18),surfaceVariant:Gt(n.h,n.s*.2,25),secondary:Gt((n.h+180)%360,n.s*.7,60),text:Gt(n.h,n.s*.1,95),textSecondary:Gt(n.h,n.s*.15,70),border:Gt(n.h,n.s*.2,30),success:"#66BB6A",warning:"#FFA726",danger:"#EF5350"}:{primary:e,primaryLight:Gt(n.h,n.s*.6,Math.min(n.l+20,90)),primaryDark:Gt(n.h,n.s,Math.max(n.l-20,30)),background:Gt(n.h,n.s*.3,97),surface:Gt(n.h,n.s*.1,100),surfaceVariant:Gt(n.h,n.s*.2,95),secondary:Gt((n.h+180)%360,n.s*.7,n.l),text:Gt(n.h,n.s*.5,15),textSecondary:Gt(n.h,n.s*.3,40),border:Gt(n.h,n.s*.2,85),success:"#66BB6A",warning:"#FFA726",danger:"#EF5350"}}const Fu={emerald:{name:"Emerald Dragon",description:"Bright, cheerful, default",seedColor:"#66BB6A",isDark:!1},midnight:{name:"Midnight Dragon",description:"Sleek, easy on eyes",seedColor:"#7B2CBF",isDark:!0},crystal:{name:"Crystal Dragon",description:"High contrast, accessible",seedColor:"#2196F3",isDark:!1}};function xo(e){const t=document.documentElement;Object.entries(e).forEach(([n,r])=>{const i=`--color-${n.replace(/([A-Z])/g,"-$1").toLowerCase()}`;t.style.setProperty(i,r)})}function bH(e,t,n){return e>n?"danger":e>n*.8||t&&e<t*.8?"warning":"success"}const zI=x.createContext(null),Su={id:"local-user",name:"Dragon Keeper",profile:{sex:"male",age:30,weight_kg:75,height_cm:175,activity_level:"moderate",dietary_conditions:[]},thresholds:Hd,theme:{preset:"emerald",seed_color_hex:"#66BB6A"},badges:[],stats:{total_meals_logged:0,current_streak_days:0,longest_streak_days:0,meals_saved_to_stash:0}};function _H({children:e}){const[t,n]=x.useState(null),[r,i]=x.useState(!0),[a,l]=x.useState(!1),{isLoading:u,error:c,data:d}=Te.useQuery({users:{}});x.useEffect(()=>{if(!u){if(d?.users&&d.users.length>0){const O=d.users[0];if(n({...Su,...O,profile:{...Su.profile,...O.profile},thresholds:{...Su.thresholds,...O.thresholds},theme:{...Su.theme,...O.theme}}),l(!0),O.theme?.preset){const P=Fu[O.theme.preset];if(P){const D=wo(P.seedColor,P.isDark);xo(D)}else if(O.theme.seed_color_hex){const D=wo(O.theme.seed_color_hex,!1);xo(D)}}h(O.id)}else{n(Su),l(!1);const O=Fu.emerald,P=wo(O.seedColor,O.isDark);xo(P)}i(!1)}},[u,d]);const h=async O=>{if(!(!O||O==="local-user"))try{const P=await Te.queryOnce({meals:{$:{where:{user_id:"local-user"}}},hydration:{$:{where:{user_id:"local-user"}}},customItems:{$:{where:{user_id:"local-user"}}},ingredientLibrary:{$:{where:{user_id:"local-user"}}}}),D=[];if(P.data?.meals?.length>0){for(const N of P.data.meals)D.push(Te.tx.meals[N.id].update({user_id:O}));console.log(` Migrating ${P.data.meals.length} orphaned meals`)}if(P.data?.hydration?.length>0){for(const N of P.data.hydration)D.push(Te.tx.hydration[N.id].update({user_id:O}));console.log(` Migrating ${P.data.hydration.length} orphaned hydration records`)}if(P.data?.customItems?.length>0){for(const N of P.data.customItems)D.push(Te.tx.customItems[N.id].update({user_id:O}));console.log(` Migrating ${P.data.customItems.length} orphaned stash items`)}if(P.data?.ingredientLibrary?.length>0){for(const N of P.data.ingredientLibrary)D.push(Te.tx.ingredientLibrary[N.id].update({user_id:O}));console.log(` Migrating ${P.data.ingredientLibrary.length} orphaned cached ingredients`)}D.length>0&&(await Te.transact(D),console.log(` Migration complete! Moved ${D.length} records to user ${O}`))}catch(P){console.error("Migration failed:",P)}},m=async O=>{const P={...t,profile:{...t.profile,...O}};n(P),t.id&&t.id!=="local-user"&&await Te.transact([Te.tx.users[t.id].update({profile:P.profile})])},v=async O=>{const P={...t,thresholds:{...t.thresholds,...O}};n(P),t.id&&t.id!=="local-user"&&await Te.transact([Te.tx.users[t.id].update({thresholds:P.thresholds})])},_=async O=>{const P={...t.stats,...O},D={...t,stats:P};n(D),t.id&&t.id!=="local-user"&&await Te.transact([Te.tx.users[t.id].update({stats:P})])},M={user:t,isLoading:r||u,isAuthenticated:a,error:c,updateProfile:m,updateThresholds:v,updateStats:_,incrementStat:async(O,P=1)=>{const D=t.stats?.[O]||0;await _({[O]:D+P})},updateTheme:async(O,P=null)=>{const D={preset:O,seed_color_hex:P||t.theme.seed_color_hex},N={...t,theme:D};if(n(N),O==="custom"&&P){const R=wo(P,!1);xo(R)}else{const R=Fu[O];if(R){const k=wo(R.seedColor,R.isDark);xo(k)}}t.id&&t.id!=="local-user"&&await Te.transact([Te.tx.users[t.id].update({theme:D})])},saveUser:async(O=null)=>{const P=O||t;if(t.id==="local-user"){const D=crypto.randomUUID(),N={...P,id:D},R=await Te.queryOnce({meals:{$:{where:{user_id:"local-user"}}},hydration:{$:{where:{user_id:"local-user"}}},customItems:{$:{where:{user_id:"local-user"}}},ingredientLibrary:{$:{where:{user_id:"local-user"}}}}),k=[Te.tx.users[D].update({id:D,name:N.name,profile:N.profile,thresholds:N.thresholds,theme:N.theme,badges:N.badges||[],stats:N.stats||{},created_at:Date.now()})];if(R.data?.meals){for(const B of R.data.meals)k.push(Te.tx.meals[B.id].update({user_id:D}));console.log(`Migrating ${R.data.meals.length} meals to user ${D}`)}if(R.data?.hydration){for(const B of R.data.hydration)k.push(Te.tx.hydration[B.id].update({user_id:D}));console.log(`Migrating ${R.data.hydration.length} hydration records to user ${D}`)}if(R.data?.customItems){for(const B of R.data.customItems)k.push(Te.tx.customItems[B.id].update({user_id:D}));console.log(`Migrating ${R.data.customItems.length} stash items to user ${D}`)}if(R.data?.ingredientLibrary){for(const B of R.data.ingredientLibrary)k.push(Te.tx.ingredientLibrary[B.id].update({user_id:D}));console.log(`Migrating ${R.data.ingredientLibrary.length} cached ingredients to user ${D}`)}return await Te.transact(k),n(N),l(!0),D}else return await Te.transact([Te.tx.users[t.id].update({name:P.name,profile:P.profile,thresholds:P.thresholds,theme:P.theme,updated_at:Date.now()})]),t.id},setUser:n};return A.jsx(zI.Provider,{value:M,children:e})}function Fa(){const e=x.useContext(zI);if(!e)throw new Error("useUser must be used within a UserProvider");return e}const SH=[{path:"/",icon:"",label:"Diary"},{path:"/charts",icon:"",label:"Scroll"},{path:"/oracle",icon:"",label:"Oracle"},{path:"/settings",icon:"",label:"Lair"}];function TH(){return A.jsx("nav",{className:"nav-bar",children:SH.map(e=>A.jsxs(JN,{to:e.path,className:({isActive:t})=>`nav-item ${t?"active":""}`,children:[A.jsx("span",{className:"nav-icon",children:e.icon}),A.jsx("span",{className:"nav-label",children:e.label})]},e.path))})}function Hi({title:e,subtitle:t,action:n,showBack:r,onBack:i}){return A.jsx("header",{className:"header",children:A.jsxs("div",{className:"header-content",children:[r&&A.jsx("button",{className:"header-back",onClick:i,"aria-label":"Go back",children:""}),A.jsxs("div",{className:"header-title-group",children:[A.jsxs("h1",{className:"header-title",children:[A.jsx("span",{className:"header-dragon",children:""})," ",e]}),t&&A.jsx("p",{className:"header-subtitle",children:t})]}),n&&A.jsx("div",{className:"header-action",children:n})]})})}function Ci({nutrient:e,value:t,target:n,min:r=0,max:i,showLabel:a=!0,compact:l=!1}){const u=Oi[e]||{icon:"",unit:"",label:e},c=i||n,d=Math.min(t/c*100,100),h=bH(t,r,c);return A.jsxs("div",{className:`nutrient-progress ${l?"compact":""}`,children:[a&&A.jsxs("div",{className:"nutrient-header",children:[A.jsxs("span",{className:"nutrient-label",children:[A.jsx("span",{className:"nutrient-icon",children:u.icon}),A.jsx("span",{className:"nutrient-name",children:u.label})]}),A.jsxs("span",{className:"nutrient-value",children:[A.jsx("span",{className:"current",children:Math.round(t)}),A.jsx("span",{className:"separator",children:"/"}),A.jsx("span",{className:"target",children:Math.round(c)}),A.jsx("span",{className:"unit",children:u.unit})]})]}),A.jsx("div",{className:"progress-bar",children:A.jsx("div",{className:`progress-bar-fill ${h}`,style:{width:`${d}%`}})}),!l&&A.jsxs("div",{className:"nutrient-footer",children:[A.jsxs("span",{className:`status-indicator ${h}`,children:[h==="success"&&"",h==="warning"&&"",h==="danger"&&""]}),A.jsxs("span",{className:"percentage",children:[Math.round(d),"%"]})]})]})}const VA={curious:{emoji:"",animation:"sniff",message:"Your dragon is looking for food..."},happy:{emoji:"",animation:"bounce",message:"Your dragon is happy!"},satisfied:{emoji:"",animation:"pulse",message:"Your dragon is satisfied and content."},stuffed:{emoji:"",animation:"wobble",message:"Your dragon ate too much!"},sick:{emoji:"",animation:"shake",message:"Your dragon isn't feeling well..."},celebrating:{emoji:"",animation:"celebrate",message:"Your dragon is celebrating! "},hoarding:{emoji:"",animation:"hoard",message:"Saved to your dragon's hoard!"}};function x0({state:e="happy",showMessage:t=!0,size:n="medium"}){const r=VA[e]||VA.happy;return A.jsxs("div",{className:`ember-mascot ${n}`,children:[A.jsxs("div",{className:`ember-emoji ${r.animation}`,children:[r.emoji,e==="sick"&&A.jsx("span",{className:"ember-effect",children:""}),e==="celebrating"&&A.jsx("span",{className:"ember-effect",children:""}),e==="happy"&&A.jsx("span",{className:"ember-effect",children:""})]}),t&&A.jsx("p",{className:"ember-message",children:r.message})]})}function EH(e,t){if(!e||!t)return"curious";const n=e.calories/t.calories_max,r=e.purines/t.purines_max;return r>1?"sick":n>1?"stuffed":r>.8||n>.8?"satisfied":e.calories===0?"curious":"happy"}const Gd=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`},KA={breakfast:1,lunch:2,dinner:3,snack:4,hydration:5};function n_(e=null){const{user:t}=Fa(),n=t?.id,{isLoading:r,error:i,data:a}=Te.useQuery(n?{meals:{}}:null),u=(a?.meals||[]).filter(E=>!(E.user_id!==n||e&&E.date!==e));return{meals:x.useMemo(()=>[...u].sort((E,w)=>{const M=KA[E.meal_type]||99,O=KA[w.meal_type]||99;return M-O}),[u]),isLoading:r,error:i,addMeal:async E=>{if(!n)return null;const w=crypto.randomUUID(),M={id:w,user_id:n,date:E.date||Gd(),timestamp:Date.now(),meal_type:E.meal_type||"snack",meal_name:E.meal_name||"Unnamed Meal",ingredients:E.ingredients||[],total_nutrients:E.total_nutrients||{},hydration_ml:E.hydration_ml||0,image_urls:E.image_urls||[],analysis_method:E.analysis_method||"manual"};return await Te.transact([Te.tx.meals[w].update(M)]),w},updateMeal:async(E,w)=>{await Te.transact([Te.tx.meals[E].update({...w,updated_at:Date.now()})])},deleteMeal:async E=>{await Te.transact([Te.tx.meals[E].delete()])},getDailyTotals:(E=e||Gd())=>u.filter(O=>O.date===E).reduce((O,P)=>(P.total_nutrients&&Object.keys(P.total_nutrients).forEach(D=>{O[D]=(O[D]||0)+(P.total_nutrients[D]||0)}),O.hydration=(O.hydration||0)+(P.hydration_ml||0),O),{}),getMealCount:()=>u.length,getUniqueDates:()=>{const E=new Set(u.map(w=>w.date));return Array.from(E).sort()}}}function BI(){const{user:e}=Fa(),t=e?.id,{isLoading:n,data:r}=Te.useQuery({meals:{}}),a=(r?.meals||[]).filter(u=>u.user_id===t),l=()=>{if(a.length===0)return 0;const u=[...new Set(a.map(v=>v.date))].sort().reverse();if(u.length===0)return 0;const c=Gd(),d=(()=>{const v=new Date;return v.setDate(v.getDate()-1),`${v.getFullYear()}-${String(v.getMonth()+1).padStart(2,"0")}-${String(v.getDate()).padStart(2,"0")}`})();if(u[0]!==c&&u[0]!==d)return 0;let h=0,m=new Date(u[0]+"T00:00:00");for(const v of u){const _=new Date(v+"T00:00:00");if(Math.round((m-_)/(1e3*60*60*24))===0)h++,m.setDate(m.getDate()-1);else break}return h};return{meals:a,isLoading:n,totalMeals:a.length,calculateStreak:l}}function $I(e=Gd()){const{user:t}=Fa(),n=t?.id,{isLoading:r,data:i}=Te.useQuery(n?{hydration:{$:{where:{user_id:n,date:e}}}}:null),l=(i?.hydration||[])[0],u=l?.amount_ml||0,c=async h=>{if(n)if(l)await Te.transact([Te.tx.hydration[l.id].update({amount_ml:Math.max(0,h),updated_at:Date.now()})]);else{const m=crypto.randomUUID();await Te.transact([Te.tx.hydration[m].update({id:m,user_id:n,date:e,amount_ml:Math.max(0,h),created_at:Date.now(),updated_at:Date.now()})])}};return{totalHydration:u,isLoading:r,setHydration:c,adjustHydration:async h=>{if(!n)return;const m=Math.max(0,u+h);await c(m)}}}function r_(){const{user:e}=Fa(),t=e?.id,{isLoading:n,error:r,data:i}=Te.useQuery(t?{customItems:{$:{where:{user_id:t}}}}:null),a=i?.customItems||[],l=a.filter(v=>v.type==="meal"),u=a.filter(v=>v.type==="ingredient"),c=a.filter(v=>v.type==="container");return{savedMeals:l,customIngredients:u,bottles:c,items:a,isLoading:n,error:r,addToStash:async v=>{if(!t)return null;const _=crypto.randomUUID();return await Te.transact([Te.tx.customItems[_].update({id:_,user_id:t,type:v.type,name:v.name,icon:v.icon||null,ingredients:v.ingredients||[],total_nutrients:v.total_nutrients||{},capacity_ml:v.capacity_ml||0,use_count:v.use_count||0,created_at:Date.now()})]),_},removeFromStash:async v=>{await Te.transact([Te.tx.customItems[v].delete()])},updateStashItem:async(v,_)=>{await Te.transact([Te.tx.customItems[v].update({..._,updated_at:Date.now()})])}}}function FI(){const{user:e}=Fa(),t=e?.id,{isLoading:n,data:r}=Te.useQuery({ingredientLibrary:{},meals:{}}),i=(r?.ingredientLibrary||[]).filter(T=>!T.user_id||T.user_id===t),a=(r?.meals||[]).filter(T=>T.user_id===t),l=T=>{const E=ad(T);return i.find(w=>w.normalized_name===E)},u=async T=>{const E=ad(T.name);return await Te.transact([Te.tx.ingredientLibrary[E].update({normalized_name:E,display_name:T.name,nutrients_per_100g:T.nutrients_per_100g,user_id:t,use_count:1,last_used:Date.now(),source:T.source||"manual"})]),E},c=async T=>{const E=i.find(w=>w.normalized_name===T);E&&await Te.transact([Te.tx.ingredientLibrary[T].update({use_count:(E.use_count||0)+1,last_used:Date.now()})])},d=async(T,E)=>{await Te.transact([Te.tx.ingredientLibrary[T].update({...E,updated_at:Date.now()})])},h=async T=>{await Te.transact([Te.tx.ingredientLibrary[T].delete()])},m=(T,E=null)=>a.filter(w=>{if(E){const M=new Date(w.date),O=new Date;if(E==="week"){const P=new Date(O);if(P.setDate(P.getDate()-7),M<P)return!1}else if(E==="month"){const P=new Date(O);if(P.setMonth(P.getMonth()-1),M<P)return!1}}return!w.ingredients||!Array.isArray(w.ingredients)?!1:w.ingredients.some(M=>ad(M.name||"")===T)});return{ingredients:i,isLoading:n,lookupIngredient:l,addIngredient:u,recordUsage:c,updateIngredient:d,deleteIngredient:h,findMealsWithIngredient:m,propagateToMeals:async(T,E,w=null)=>{const M=m(T,w);if(M.length===0)return{updated:0};const O=[];for(const P of M){const D=P.ingredients.map(R=>{if(ad(R.name||"")===T){const $=(R.quantity_g||100)/100;return{...R,nutrients:{calories:Math.round((E.calories||0)*$),purines:Math.round((E.purines||0)*$),protein:Math.round((E.protein||0)*$*10)/10,carbs:Math.round((E.carbs||0)*$*10)/10,fat:Math.round((E.fat||0)*$*10)/10,fiber:Math.round((E.fiber||0)*$*10)/10,sodium:Math.round((E.sodium||0)*$),sugar:Math.round((E.sugar||0)*$*10)/10}}}return R}),N=D.reduce((R,k)=>(k.nutrients&&Object.keys(k.nutrients).forEach(B=>{R[B]=(R[B]||0)+(k.nutrients[B]||0)}),R),{});O.push(Te.tx.meals[P.id].update({ingredients:D,total_nutrients:N,updated_at:Date.now()}))}return await Te.transact(O),{updated:M.length}},getIngredientUsageCount:T=>m(T).length}}function ad(e){return(e||"").toLowerCase().trim().replace(/s$/,"").replace(/ies$/,"y").replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"_")}let wH,xH;function AH(){return{geminiUrl:wH,vertexUrl:xH}}function CH(e,t,n,r){var i,a;if(!e?.baseUrl){const l=AH();return t?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(a=l.geminiUrl)!==null&&a!==void 0?a:r}return e.baseUrl}class ta{}function he(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const a=t[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function y(e,t,n){for(let a=0;a<t.length-1;a++){const l=t[a];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[u])){const c=e[u];if(Array.isArray(n))for(let d=0;d<c.length;d++){const h=c[d];y(h,t.slice(a+1),n[d])}else for(const d of c)y(d,t.slice(a+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in e||(e[u]=[{}]);const c=e[u];y(c[0],t.slice(a+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function g(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const i=t[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in e){const l=e[a];return Array.isArray(l)?l.map(u=>g(u,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function MH(e,t){for(const[n,r]of Object.entries(t)){const i=n.split("."),a=r.split("."),l=new Set;let u=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){u=c;break}if(u!==-1&&a.length>u)for(let c=u;c<a.length;c++){const d=a[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}A0(e,i,a,0,l)}}function A0(e,t,n,r,i){if(r>=t.length||typeof e!="object"||e===null)return;const a=t[r];if(a.endsWith("[]")){const l=a.slice(0,-2),u=e;if(l in u&&Array.isArray(u[l]))for(const c of u[l])A0(c,t,n,r+1,i)}else if(a==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,u=Object.keys(l).filter(d=>!d.startsWith("_")&&!i.has(d)),c={};for(const d of u)c[d]=l[d];for(const[d,h]of Object.entries(c)){const m=[];for(const v of n.slice(r))v==="*"?m.push(d):m.push(v);y(l,m,h)}for(const d of u)delete l[d]}}else{const l=e;a in l&&A0(l[a],t,n,r+1,i)}}function i_(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function PH(e){const t={},n=g(e,["operationName"]);n!=null&&y(t,["operationName"],n);const r=g(e,["resourceName"]);return r!=null&&y(t,["_url","resourceName"],r),t}function OH(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["response","generateVideoResponse"]);return l!=null&&y(t,["response"],IH(l)),t}function NH(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["response"]);return l!=null&&y(t,["response"],DH(l)),t}function IH(e){const t={},n=g(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>RH(l))),y(t,["generatedVideos"],a)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&y(t,["raiMediaFilteredReasons"],i),t}function DH(e){const t={},n=g(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>kH(l))),y(t,["generatedVideos"],a)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&y(t,["raiMediaFilteredReasons"],i),t}function RH(e){const t={},n=g(e,["video"]);return n!=null&&y(t,["video"],BH(n)),t}function kH(e){const t={},n=g(e,["_self"]);return n!=null&&y(t,["video"],$H(n)),t}function LH(e){const t={},n=g(e,["operationName"]);return n!=null&&y(t,["_url","operationName"],n),t}function UH(e){const t={},n=g(e,["operationName"]);return n!=null&&y(t,["_url","operationName"],n),t}function qH(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["response"]);return l!=null&&y(t,["response"],jH(l)),t}function jH(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["parent"]);r!=null&&y(t,["parent"],r);const i=g(e,["documentName"]);return i!=null&&y(t,["documentName"],i),t}function HI(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["response"]);return l!=null&&y(t,["response"],zH(l)),t}function zH(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["parent"]);r!=null&&y(t,["parent"],r);const i=g(e,["documentName"]);return i!=null&&y(t,["documentName"],i),t}function BH(e){const t={},n=g(e,["uri"]);n!=null&&y(t,["uri"],n);const r=g(e,["encodedVideo"]);r!=null&&y(t,["videoBytes"],i_(r));const i=g(e,["encoding"]);return i!=null&&y(t,["mimeType"],i),t}function $H(e){const t={},n=g(e,["gcsUri"]);n!=null&&y(t,["uri"],n);const r=g(e,["bytesBase64Encoded"]);r!=null&&y(t,["videoBytes"],i_(r));const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}var YA;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(YA||(YA={}));var WA;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(WA||(WA={}));var JA;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(JA||(JA={}));var ka;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(ka||(ka={}));var XA;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(XA||(XA={}));var QA;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(QA||(QA={}));var ZA;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(ZA||(ZA={}));var eC;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(eC||(eC={}));var tC;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(tC||(tC={}));var nC;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.HIGH="HIGH"})(nC||(nC={}));var rC;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(rC||(rC={}));var iC;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(iC||(iC={}));var aC;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(aC||(aC={}));var oC;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(oC||(oC={}));var sC;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(sC||(sC={}));var lC;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(lC||(lC={}));var uC;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(uC||(uC={}));var cC;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(cC||(cC={}));var fC;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(fC||(fC={}));var Vd;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Vd||(Vd={}));var dC;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(dC||(dC={}));var hC;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(hC||(hC={}));var pC;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(pC||(pC={}));var C0;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(C0||(C0={}));var mC;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(mC||(mC={}));var gC;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(gC||(gC={}));var vC;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(vC||(vC={}));var yC;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(yC||(yC={}));var bC;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(bC||(bC={}));var _C;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(_C||(_C={}));var SC;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(SC||(SC={}));var TC;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(TC||(TC={}));var EC;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(EC||(EC={}));var wC;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(wC||(wC={}));var xC;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(xC||(xC={}));var AC;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(AC||(AC={}));var CC;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(CC||(CC={}));var MC;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(MC||(MC={}));var PC;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(PC||(PC={}));var OC;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(OC||(OC={}));var NC;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(NC||(NC={}));var IC;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(IC||(IC={}));var DC;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(DC||(DC={}));var RC;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(RC||(RC={}));var kC;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(kC||(kC={}));var LC;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(LC||(LC={}));var UC;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(UC||(UC={}));var qC;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(qC||(qC={}));var jC;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(jC||(jC={}));var zC;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(zC||(zC={}));var BC;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(BC||(BC={}));var $C;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})($C||($C={}));var FC;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(FC||(FC={}));var HC;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(HC||(HC={}));var Fs;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Fs||(Fs={}));class M0{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Tu{get text(){var t,n,r,i,a,l,u,c;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const m=[];for(const v of(c=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[_,T]of Object.entries(v))_!=="text"&&_!=="thought"&&_!=="thoughtSignature"&&(T!==null||T!==void 0)&&m.push(_);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;h=!0,d+=v.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var t,n,r,i,a,l,u,c;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const m of(c=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[v,_]of Object.entries(m))v!=="inlineData"&&(_!==null||_!==void 0)&&h.push(v);m.inlineData&&typeof m.inlineData.data=="string"&&(d+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var t,n,r,i,a,l,u,c;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if(d?.length!==0)return d}get executableCode(){var t,n,r,i,a,l,u,c,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if(h?.length!==0)return(d=h?.[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var t,n,r,i,a,l,u,c,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if(h?.length!==0)return(d=h?.[0])===null||d===void 0?void 0:d.output}}class GC{}class VC{}class FH{}class HH{}class GH{}class VH{}class KC{}class YC{}class WC{}class KH{}class Kd{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Kd;let i;const a=t;return n?i=NH(a):i=OH(a),Object.assign(r,i),r}}class JC{}class XC{}class QC{}class YH{}class WH{}class JH{}class a_{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new a_,a=qH(t);return Object.assign(r,a),r}}class XH{}class QH{}class ZH{}class ZC{}class eG{get text(){var t,n,r;let i="",a=!1;const l=[];for(const u of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,d]of Object.entries(u))c!=="text"&&c!=="thought"&&d!==null&&l.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;a=!0,i+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var t,n,r;let i="";const a=[];for(const l of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(l))u!=="inlineData"&&c!==null&&a.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class tG{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class o_{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new o_,a=HI(t);return Object.assign(r,a),r}}function He(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function GI(e,t){const n=He(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function VI(e){return Array.isArray(e)?e.map(t=>Yd(t)):[Yd(e)]}function Yd(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function KI(e){const t=Yd(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function YI(e){const t=Yd(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function e1(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function WI(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>e1(t)):[e1(e)]}function P0(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function t1(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function n1(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function mn(e){if(e==null)throw new Error("ContentUnion is required");return P0(e)?e:{role:"user",parts:WI(e)}}function s_(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=mn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=mn(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>mn(n)):[mn(t)]}function Sr(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(t1(e)||n1(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[mn(e)]}const t=[],n=[],r=P0(e[0]);for(const i of e){const a=P0(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)t.push(i);else{if(t1(i)||n1(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:WI(n)}),t}function nG(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(ka).includes(n[0].toUpperCase())?n[0].toUpperCase():ka.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(ka).includes(r.toUpperCase())?r.toUpperCase():ka.TYPE_UNSPECIFIED})}}function Ys(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=e.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(t.nullable=!0,e=a[1]):a[1].type==="null"&&(t.nullable=!0,e=a[0])),e.type instanceof Array&&nG(e.type,t);for(const[l,u]of Object.entries(e))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(ka).includes(u.toUpperCase())?u.toUpperCase():ka.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=Ys(u);else if(r.includes(l)){const c=[];for(const d of u){if(d.type=="null"){t.nullable=!0;continue}c.push(Ys(d))}t[l]=c}else if(i.includes(l)){const c={};for(const[d,h]of Object.entries(u))c[d]=Ys(h);t[l]=c}else{if(l==="additionalProperties")continue;t[l]=u}return t}function l_(e){return Ys(e)}function u_(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function c_(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function gl(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Ys(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Ys(t.response));return e}function vl(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function rG(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function na(e,t){if(typeof t!="string")throw new Error("name must be a string");return rG(e,t,"cachedContents")}function JI(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Ha(e){return i_(e)}function iG(e){return e!=null&&typeof e=="object"&&"name"in e}function aG(e){return e!=null&&typeof e=="object"&&"video"in e}function oG(e){return e!=null&&typeof e=="object"&&"uri"in e}function XI(e){var t;let n;if(iG(e)&&(n=e.name),!(oG(e)&&(n=e.uri,n===void 0))&&!(aG(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function QI(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function ZI(e){for(const t of["models","tunedModels","publisherModels"])if(sG(e,t))return e[t];return[]}function sG(e,t){return e!==null&&typeof e=="object"&&t in e}function lG(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function uG(e,t={}){const n=[],r=new Set;for(const i of e){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const l=lG(i,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function eD(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function cG(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function tD(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let a=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const c=l.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){a=!0;break}}return a&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function yl(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function nD(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}function fG(e){const t={},n=g(e,["responsesFile"]);n!=null&&y(t,["fileName"],n);const r=g(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>GG(l))),y(t,["inlinedResponses"],a)}const i=g(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["inlinedEmbedContentResponses"],a)}return t}function dG(e){const t={},n=g(e,["predictionsFormat"]);n!=null&&y(t,["format"],n);const r=g(e,["gcsDestination","outputUriPrefix"]);r!=null&&y(t,["gcsUri"],r);const i=g(e,["bigqueryDestination","outputUri"]);return i!=null&&y(t,["bigqueryUri"],i),t}function hG(e){const t={},n=g(e,["format"]);n!=null&&y(t,["predictionsFormat"],n);const r=g(e,["gcsUri"]);r!=null&&y(t,["gcsDestination","outputUriPrefix"],r);const i=g(e,["bigqueryUri"]);if(i!=null&&y(t,["bigqueryDestination","outputUri"],i),g(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(g(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Od(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata","displayName"]);r!=null&&y(t,["displayName"],r);const i=g(e,["metadata","state"]);i!=null&&y(t,["state"],nD(i));const a=g(e,["metadata","createTime"]);a!=null&&y(t,["createTime"],a);const l=g(e,["metadata","endTime"]);l!=null&&y(t,["endTime"],l);const u=g(e,["metadata","updateTime"]);u!=null&&y(t,["updateTime"],u);const c=g(e,["metadata","model"]);c!=null&&y(t,["model"],c);const d=g(e,["metadata","output"]);return d!=null&&y(t,["dest"],fG(tD(d))),t}function O0(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["displayName"]);r!=null&&y(t,["displayName"],r);const i=g(e,["state"]);i!=null&&y(t,["state"],nD(i));const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["createTime"]);l!=null&&y(t,["createTime"],l);const u=g(e,["startTime"]);u!=null&&y(t,["startTime"],u);const c=g(e,["endTime"]);c!=null&&y(t,["endTime"],c);const d=g(e,["updateTime"]);d!=null&&y(t,["updateTime"],d);const h=g(e,["model"]);h!=null&&y(t,["model"],h);const m=g(e,["inputConfig"]);m!=null&&y(t,["src"],pG(m));const v=g(e,["outputConfig"]);v!=null&&y(t,["dest"],dG(tD(v)));const _=g(e,["completionStats"]);return _!=null&&y(t,["completionStats"],_),t}function pG(e){const t={},n=g(e,["instancesFormat"]);n!=null&&y(t,["format"],n);const r=g(e,["gcsSource","uris"]);r!=null&&y(t,["gcsUri"],r);const i=g(e,["bigquerySource","inputUri"]);return i!=null&&y(t,["bigqueryUri"],i),t}function mG(e,t){const n={};if(g(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=g(t,["fileName"]);r!=null&&y(n,["fileName"],r);const i=g(t,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>HG(e,l))),y(n,["requests","requests"],a)}return n}function gG(e){const t={},n=g(e,["format"]);n!=null&&y(t,["instancesFormat"],n);const r=g(e,["gcsUri"]);r!=null&&y(t,["gcsSource","uris"],r);const i=g(e,["bigqueryUri"]);if(i!=null&&y(t,["bigquerySource","inputUri"],i),g(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function vG(e){const t={},n=g(e,["data"]);if(n!=null&&y(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function yG(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],yl(e,r)),n}function bG(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],yl(e,r)),n}function _G(e){const t={},n=g(e,["content"]);n!=null&&y(t,["content"],n);const r=g(e,["citationMetadata"]);r!=null&&y(t,["citationMetadata"],SG(r));const i=g(e,["tokenCount"]);i!=null&&y(t,["tokenCount"],i);const a=g(e,["finishReason"]);a!=null&&y(t,["finishReason"],a);const l=g(e,["avgLogprobs"]);l!=null&&y(t,["avgLogprobs"],l);const u=g(e,["groundingMetadata"]);u!=null&&y(t,["groundingMetadata"],u);const c=g(e,["index"]);c!=null&&y(t,["index"],c);const d=g(e,["logprobsResult"]);d!=null&&y(t,["logprobsResult"],d);const h=g(e,["safetyRatings"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(_=>_)),y(t,["safetyRatings"],v)}const m=g(e,["urlContextMetadata"]);return m!=null&&y(t,["urlContextMetadata"],m),t}function SG(e){const t={},n=g(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(t,["citations"],r)}return t}function rD(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>QG(a))),y(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&y(t,["role"],r),t}function TG(e,t){const n={},r=g(e,["displayName"]);if(t!==void 0&&r!=null&&y(t,["batch","displayName"],r),g(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function EG(e,t){const n={},r=g(e,["displayName"]);t!==void 0&&r!=null&&y(t,["displayName"],r);const i=g(e,["dest"]);return t!==void 0&&i!=null&&y(t,["outputConfig"],hG(cG(i))),n}function r1(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],He(e,r));const i=g(t,["src"]);i!=null&&y(n,["batch","inputConfig"],mG(e,eD(e,i)));const a=g(t,["config"]);return a!=null&&TG(a,n),n}function wG(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["model"],He(e,r));const i=g(t,["src"]);i!=null&&y(n,["inputConfig"],gG(eD(e,i)));const a=g(t,["config"]);return a!=null&&EG(a,n),n}function xG(e,t){const n={},r=g(e,["displayName"]);return t!==void 0&&r!=null&&y(t,["batch","displayName"],r),n}function AG(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],He(e,r));const i=g(t,["src"]);i!=null&&y(n,["batch","inputConfig"],DG(e,i));const a=g(t,["config"]);return a!=null&&xG(a,n),n}function CG(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],yl(e,r)),n}function MG(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],yl(e,r)),n}function PG(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["name"]);r!=null&&y(t,["name"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);return a!=null&&y(t,["error"],a),t}function OG(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["name"]);r!=null&&y(t,["name"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);return a!=null&&y(t,["error"],a),t}function NG(e,t){const n={},r=g(t,["contents"]);if(r!=null){let a=s_(e,r);Array.isArray(a)&&(a=a.map(l=>l)),y(n,["requests[]","request","content"],a)}const i=g(t,["config"]);return i!=null&&(y(n,["_self"],IG(i,n)),MH(n,{"requests[].*":"requests[].request.*"})),n}function IG(e,t){const n={},r=g(e,["taskType"]);t!==void 0&&r!=null&&y(t,["requests[]","taskType"],r);const i=g(e,["title"]);t!==void 0&&i!=null&&y(t,["requests[]","title"],i);const a=g(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&y(t,["requests[]","outputDimensionality"],a),g(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function DG(e,t){const n={},r=g(t,["fileName"]);r!=null&&y(n,["file_name"],r);const i=g(t,["inlinedRequests"]);return i!=null&&y(n,["requests"],NG(e,i)),n}function RG(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function kG(e){const t={},n=g(e,["id"]);n!=null&&y(t,["id"],n);const r=g(e,["args"]);r!=null&&y(t,["args"],r);const i=g(e,["name"]);if(i!=null&&y(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function LG(e){const t={},n=g(e,["mode"]);n!=null&&y(t,["mode"],n);const r=g(e,["allowedFunctionNames"]);if(r!=null&&y(t,["allowedFunctionNames"],r),g(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function UG(e,t,n){const r={},i=g(t,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],rD(mn(i)));const a=g(t,["temperature"]);a!=null&&y(r,["temperature"],a);const l=g(t,["topP"]);l!=null&&y(r,["topP"],l);const u=g(t,["topK"]);u!=null&&y(r,["topK"],u);const c=g(t,["candidateCount"]);c!=null&&y(r,["candidateCount"],c);const d=g(t,["maxOutputTokens"]);d!=null&&y(r,["maxOutputTokens"],d);const h=g(t,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=g(t,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const v=g(t,["logprobs"]);v!=null&&y(r,["logprobs"],v);const _=g(t,["presencePenalty"]);_!=null&&y(r,["presencePenalty"],_);const T=g(t,["frequencyPenalty"]);T!=null&&y(r,["frequencyPenalty"],T);const E=g(t,["seed"]);E!=null&&y(r,["seed"],E);const w=g(t,["responseMimeType"]);w!=null&&y(r,["responseMimeType"],w);const M=g(t,["responseSchema"]);M!=null&&y(r,["responseSchema"],l_(M));const O=g(t,["responseJsonSchema"]);if(O!=null&&y(r,["responseJsonSchema"],O),g(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=g(t,["safetySettings"]);if(n!==void 0&&P!=null){let W=P;Array.isArray(W)&&(W=W.map(fe=>ZG(fe))),y(n,["safetySettings"],W)}const D=g(t,["tools"]);if(n!==void 0&&D!=null){let W=vl(D);Array.isArray(W)&&(W=W.map(fe=>tV(gl(fe)))),y(n,["tools"],W)}const N=g(t,["toolConfig"]);if(n!==void 0&&N!=null&&y(n,["toolConfig"],eV(N)),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=g(t,["cachedContent"]);n!==void 0&&R!=null&&y(n,["cachedContent"],na(e,R));const k=g(t,["responseModalities"]);k!=null&&y(r,["responseModalities"],k);const B=g(t,["mediaResolution"]);B!=null&&y(r,["mediaResolution"],B);const $=g(t,["speechConfig"]);if($!=null&&y(r,["speechConfig"],u_($)),g(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const oe=g(t,["thinkingConfig"]);oe!=null&&y(r,["thinkingConfig"],oe);const V=g(t,["imageConfig"]);return V!=null&&y(r,["imageConfig"],FG(V)),r}function qG(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>_G(d))),y(t,["candidates"],c)}const i=g(e,["modelVersion"]);i!=null&&y(t,["modelVersion"],i);const a=g(e,["promptFeedback"]);a!=null&&y(t,["promptFeedback"],a);const l=g(e,["responseId"]);l!=null&&y(t,["responseId"],l);const u=g(e,["usageMetadata"]);return u!=null&&y(t,["usageMetadata"],u),t}function jG(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],yl(e,r)),n}function zG(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],yl(e,r)),n}function BG(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function $G(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function FG(e){const t={},n=g(e,["aspectRatio"]);n!=null&&y(t,["aspectRatio"],n);const r=g(e,["imageSize"]);if(r!=null&&y(t,["imageSize"],r),g(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function HG(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["request","model"],He(e,r));const i=g(t,["contents"]);if(i!=null){let u=Sr(i);Array.isArray(u)&&(u=u.map(c=>rD(c))),y(n,["request","contents"],u)}const a=g(t,["metadata"]);a!=null&&y(n,["metadata"],a);const l=g(t,["config"]);return l!=null&&y(n,["request","generationConfig"],UG(e,l,g(n,["request"],{}))),n}function GG(e){const t={},n=g(e,["response"]);n!=null&&y(t,["response"],qG(n));const r=g(e,["error"]);return r!=null&&y(t,["error"],r),t}function VG(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);if(t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),g(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function KG(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);t!==void 0&&i!=null&&y(t,["_query","pageToken"],i);const a=g(e,["filter"]);return t!==void 0&&a!=null&&y(t,["_query","filter"],a),n}function YG(e){const t={},n=g(e,["config"]);return n!=null&&VG(n,t),t}function WG(e){const t={},n=g(e,["config"]);return n!=null&&KG(n,t),t}function JG(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Od(l))),y(t,["batchJobs"],a)}return t}function XG(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>O0(l))),y(t,["batchJobs"],a)}return t}function QG(e){const t={},n=g(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const a=g(e,["fileData"]);a!=null&&y(t,["fileData"],RG(a));const l=g(e,["functionCall"]);l!=null&&y(t,["functionCall"],kG(l));const u=g(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const c=g(e,["inlineData"]);c!=null&&y(t,["inlineData"],vG(c));const d=g(e,["text"]);d!=null&&y(t,["text"],d);const h=g(e,["thought"]);h!=null&&y(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const v=g(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function ZG(e){const t={},n=g(e,["category"]);if(n!=null&&y(t,["category"],n),g(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(e,["threshold"]);return r!=null&&y(t,["threshold"],r),t}function eV(e){const t={},n=g(e,["functionCallingConfig"]);n!=null&&y(t,["functionCallingConfig"],LG(n));const r=g(e,["retrievalConfig"]);return r!=null&&y(t,["retrievalConfig"],r),t}function tV(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["googleSearchRetrieval"]);r!=null&&y(t,["googleSearchRetrieval"],r);const i=g(e,["computerUse"]);i!=null&&y(t,["computerUse"],i);const a=g(e,["fileSearch"]);a!=null&&y(t,["fileSearch"],a);const l=g(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],BG(u));const c=g(e,["googleSearch"]);c!=null&&y(t,["googleSearch"],$G(c));const d=g(e,["urlContext"]);return d!=null&&y(t,["urlContext"],d),t}var Gi;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Gi||(Gi={}));class Bo{constructor(t,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,a;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(a=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}class nV extends ta{constructor(t){super(),this.apiClient=t,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new Bo(Gi.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(t){const n=r1(this.apiClient,t),r=n._url,i=he("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,c=u.requests,d=[];for(const h of c){const m=Object.assign({},h);if(m.systemInstruction){const v=m.systemInstruction;delete m.systemInstruction;const _=m.request;_.systemInstruction=v,m.request=_}d.push(m)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(t),l=this.getBigqueryUri(t);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=wG(this.apiClient,t);return u=he("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>O0(h))}else{const d=r1(this.apiClient,t);return u=he("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>Od(h))}}async createEmbeddingsInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=AG(this.apiClient,t);return a=he("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>Od(c))}}async get(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=zG(this.apiClient,t);return u=he("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>O0(h))}else{const d=jG(this.apiClient,t);return u=he("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>Od(h))}}async cancel(t){var n,r,i,a;let l="",u={};if(this.apiClient.isVertexAI()){const c=bG(this.apiClient,t);l=he("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=yG(this.apiClient,t);l=he("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=WG(t);return u=he("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=XG(h),v=new ZC;return Object.assign(v,m),v})}else{const d=YG(t);return u=he("batches",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=JG(h),v=new ZC;return Object.assign(v,m),v})}}async delete(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=MG(this.apiClient,t);return u=he("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>OG(h))}else{const d=CG(this.apiClient,t);return u=he("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>PG(h))}}}function rV(e){const t={},n=g(e,["data"]);if(n!=null&&y(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function i1(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>AV(a))),y(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&y(t,["role"],r),t}function iV(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=g(e,["expireTime"]);t!==void 0&&i!=null&&y(t,["expireTime"],i);const a=g(e,["displayName"]);t!==void 0&&a!=null&&y(t,["displayName"],a);const l=g(e,["contents"]);if(t!==void 0&&l!=null){let h=Sr(l);Array.isArray(h)&&(h=h.map(m=>i1(m))),y(t,["contents"],h)}const u=g(e,["systemInstruction"]);t!==void 0&&u!=null&&y(t,["systemInstruction"],i1(mn(u)));const c=g(e,["tools"]);if(t!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>MV(m))),y(t,["tools"],h)}const d=g(e,["toolConfig"]);if(t!==void 0&&d!=null&&y(t,["toolConfig"],CV(d)),g(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function aV(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=g(e,["expireTime"]);t!==void 0&&i!=null&&y(t,["expireTime"],i);const a=g(e,["displayName"]);t!==void 0&&a!=null&&y(t,["displayName"],a);const l=g(e,["contents"]);if(t!==void 0&&l!=null){let m=Sr(l);Array.isArray(m)&&(m=m.map(v=>v)),y(t,["contents"],m)}const u=g(e,["systemInstruction"]);t!==void 0&&u!=null&&y(t,["systemInstruction"],mn(u));const c=g(e,["tools"]);if(t!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(v=>PV(v))),y(t,["tools"],m)}const d=g(e,["toolConfig"]);t!==void 0&&d!=null&&y(t,["toolConfig"],d);const h=g(e,["kmsKeyName"]);return t!==void 0&&h!=null&&y(t,["encryption_spec","kmsKeyName"],h),n}function oV(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["model"],GI(e,r));const i=g(t,["config"]);return i!=null&&iV(i,n),n}function sV(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["model"],GI(e,r));const i=g(t,["config"]);return i!=null&&aV(i,n),n}function lV(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],na(e,r)),n}function uV(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],na(e,r)),n}function cV(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function fV(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function dV(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function hV(e){const t={},n=g(e,["id"]);n!=null&&y(t,["id"],n);const r=g(e,["args"]);r!=null&&y(t,["args"],r);const i=g(e,["name"]);if(i!=null&&y(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function pV(e){const t={},n=g(e,["mode"]);n!=null&&y(t,["mode"],n);const r=g(e,["allowedFunctionNames"]);if(r!=null&&y(t,["allowedFunctionNames"],r),g(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function mV(e){const t={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(e,["description"]);n!=null&&y(t,["description"],n);const r=g(e,["name"]);r!=null&&y(t,["name"],r);const i=g(e,["parameters"]);i!=null&&y(t,["parameters"],i);const a=g(e,["parametersJsonSchema"]);a!=null&&y(t,["parametersJsonSchema"],a);const l=g(e,["response"]);l!=null&&y(t,["response"],l);const u=g(e,["responseJsonSchema"]);return u!=null&&y(t,["responseJsonSchema"],u),t}function gV(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],na(e,r)),n}function vV(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],na(e,r)),n}function yV(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function bV(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function _V(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function SV(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function TV(e){const t={},n=g(e,["config"]);return n!=null&&_V(n,t),t}function EV(e){const t={},n=g(e,["config"]);return n!=null&&SV(n,t),t}function wV(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["cachedContents"],a)}return t}function xV(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["cachedContents"],a)}return t}function AV(e){const t={},n=g(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const a=g(e,["fileData"]);a!=null&&y(t,["fileData"],dV(a));const l=g(e,["functionCall"]);l!=null&&y(t,["functionCall"],hV(l));const u=g(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const c=g(e,["inlineData"]);c!=null&&y(t,["inlineData"],rV(c));const d=g(e,["text"]);d!=null&&y(t,["text"],d);const h=g(e,["thought"]);h!=null&&y(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const v=g(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function CV(e){const t={},n=g(e,["functionCallingConfig"]);n!=null&&y(t,["functionCallingConfig"],pV(n));const r=g(e,["retrievalConfig"]);return r!=null&&y(t,["retrievalConfig"],r),t}function MV(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["googleSearchRetrieval"]);r!=null&&y(t,["googleSearchRetrieval"],r);const i=g(e,["computerUse"]);i!=null&&y(t,["computerUse"],i);const a=g(e,["fileSearch"]);a!=null&&y(t,["fileSearch"],a);const l=g(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],yV(u));const c=g(e,["googleSearch"]);c!=null&&y(t,["googleSearch"],bV(c));const d=g(e,["urlContext"]);return d!=null&&y(t,["urlContext"],d),t}function PV(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>mV(v))),y(t,["functionDeclarations"],m)}const r=g(e,["retrieval"]);r!=null&&y(t,["retrieval"],r);const i=g(e,["googleSearchRetrieval"]);i!=null&&y(t,["googleSearchRetrieval"],i);const a=g(e,["computerUse"]);if(a!=null&&y(t,["computerUse"],a),g(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(e,["codeExecution"]);l!=null&&y(t,["codeExecution"],l);const u=g(e,["enterpriseWebSearch"]);u!=null&&y(t,["enterpriseWebSearch"],u);const c=g(e,["googleMaps"]);c!=null&&y(t,["googleMaps"],c);const d=g(e,["googleSearch"]);d!=null&&y(t,["googleSearch"],d);const h=g(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}function OV(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=g(e,["expireTime"]);return t!==void 0&&i!=null&&y(t,["expireTime"],i),n}function NV(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=g(e,["expireTime"]);return t!==void 0&&i!=null&&y(t,["expireTime"],i),n}function IV(e,t){const n={},r=g(t,["name"]);r!=null&&y(n,["_url","name"],na(e,r));const i=g(t,["config"]);return i!=null&&OV(i,n),n}function DV(e,t){const n={},r=g(t,["name"]);r!=null&&y(n,["_url","name"],na(e,r));const i=g(t,["config"]);return i!=null&&NV(i,n),n}class RV extends ta{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Bo(Gi.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=sV(this.apiClient,t);return u=he("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=oV(this.apiClient,t);return u=he("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async get(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=vV(this.apiClient,t);return u=he("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=gV(this.apiClient,t);return u=he("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async delete(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=uV(this.apiClient,t);return u=he("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=fV(h),v=new XC;return Object.assign(v,m),v})}else{const d=lV(this.apiClient,t);return u=he("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=cV(h),v=new XC;return Object.assign(v,m),v})}}async update(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=DV(this.apiClient,t);return u=he("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=IV(this.apiClient,t);return u=he("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async listInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=EV(t);return u=he("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=xV(h),v=new QC;return Object.assign(v,m),v})}else{const d=TV(t);return u=he("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=wV(h),v=new QC;return Object.assign(v,m),v})}}}function a1(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function lt(e){return this instanceof lt?(this.v=e,this):new lt(e)}function Ws(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(_){return function(T){return Promise.resolve(T).then(_,m)}}function u(_,T){r[_]&&(i[_]=function(E){return new Promise(function(w,M){a.push([_,E,w,M])>1||c(_,E)})},T&&(i[_]=T(i[_])))}function c(_,T){try{d(r[_](T))}catch(E){v(a[0][3],E)}}function d(_){_.value instanceof lt?Promise.resolve(_.value.v).then(h,m):v(a[0][2],_)}function h(_){c("next",_)}function m(_){c("throw",_)}function v(_,T){_(T),a.shift(),a.length&&c(a[0][0],a[0][1])}}function Hu(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof a1=="function"?a1(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(l){return new Promise(function(u,c){l=e[a](l),i(u,c,l.done,l.value)})}}function i(a,l,u,c){Promise.resolve(c).then(function(d){a({value:d,done:u})},l)}}function kV(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:iD(n)}function iD(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function LV(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function o1(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const i=[];let a=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),a&&!iD(e[r])&&(a=!1),r++;a?t.push(...i):t.pop()}return t}class UV{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new qV(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class qV{constructor(t,n,r,i={},a=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),LV(a)}async sendMessage(t){var n;await this.sendPromise;const r=mn(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,l,u;const c=await i,d=(l=(a=c.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content,h=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let v=[];h!=null&&(v=(u=h.slice(m))!==null&&u!==void 0?u:[]);const _=d?[d]:[];this.recordHistory(r,_,v)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const r=mn(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(t=!1){const n=t?o1(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var r,i;return Ws(this,arguments,function*(){var l,u,c,d;const h=[];try{for(var m=!0,v=Hu(t),_;_=yield lt(v.next()),l=_.done,!l;m=!0){d=_.value,m=!1;const T=d;if(kV(T)){const E=(i=(r=T.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;E!==void 0&&h.push(E)}yield yield lt(T)}}catch(T){u={error:T}}finally{try{!m&&!l&&(c=v.return)&&(yield lt(c.call(v)))}finally{if(u)throw u.error}}this.recordHistory(n,h)})}recordHistory(t,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...o1(r)):this.history.push(t),this.history.push(...i)}}class Wh extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Wh.prototype)}}function jV(e){const t={},n=g(e,["file"]);return n!=null&&y(t,["file"],n),t}function zV(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function BV(e){const t={},n=g(e,["name"]);return n!=null&&y(t,["_url","file"],XI(n)),t}function $V(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function FV(e){const t={},n=g(e,["name"]);return n!=null&&y(t,["_url","file"],XI(n)),t}function HV(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function GV(e){const t={},n=g(e,["config"]);return n!=null&&HV(n,t),t}function VV(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["files"],a)}return t}class KV extends ta{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Bo(Gi.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=GV(t);return a=he("files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=VV(c),h=new XH;return Object.assign(h,d),h})}}async createInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=jV(t);return a=he("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=zV(c),h=new QH;return Object.assign(h,d),h})}}async get(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=FV(t);return a=he("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=BV(t);return a=he("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=$V(c),h=new ZH;return Object.assign(h,d),h})}}}function Nd(e){const t={},n=g(e,["data"]);if(n!=null&&y(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function YV(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>c6(a))),y(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&y(t,["role"],r),t}function WV(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function JV(e){const t={},n=g(e,["id"]);n!=null&&y(t,["id"],n);const r=g(e,["args"]);r!=null&&y(t,["args"],r);const i=g(e,["name"]);if(i!=null&&y(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function XV(e){const t={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(e,["description"]);n!=null&&y(t,["description"],n);const r=g(e,["name"]);r!=null&&y(t,["name"],r);const i=g(e,["parameters"]);i!=null&&y(t,["parameters"],i);const a=g(e,["parametersJsonSchema"]);a!=null&&y(t,["parametersJsonSchema"],a);const l=g(e,["response"]);l!=null&&y(t,["response"],l);const u=g(e,["responseJsonSchema"]);return u!=null&&y(t,["responseJsonSchema"],u),t}function QV(e){const t={},n=g(e,["modelSelectionConfig"]);n!=null&&y(t,["modelConfig"],n);const r=g(e,["responseJsonSchema"]);r!=null&&y(t,["responseJsonSchema"],r);const i=g(e,["audioTimestamp"]);i!=null&&y(t,["audioTimestamp"],i);const a=g(e,["candidateCount"]);a!=null&&y(t,["candidateCount"],a);const l=g(e,["enableAffectiveDialog"]);l!=null&&y(t,["enableAffectiveDialog"],l);const u=g(e,["frequencyPenalty"]);u!=null&&y(t,["frequencyPenalty"],u);const c=g(e,["logprobs"]);c!=null&&y(t,["logprobs"],c);const d=g(e,["maxOutputTokens"]);d!=null&&y(t,["maxOutputTokens"],d);const h=g(e,["mediaResolution"]);h!=null&&y(t,["mediaResolution"],h);const m=g(e,["presencePenalty"]);m!=null&&y(t,["presencePenalty"],m);const v=g(e,["responseLogprobs"]);v!=null&&y(t,["responseLogprobs"],v);const _=g(e,["responseMimeType"]);_!=null&&y(t,["responseMimeType"],_);const T=g(e,["responseModalities"]);T!=null&&y(t,["responseModalities"],T);const E=g(e,["responseSchema"]);E!=null&&y(t,["responseSchema"],E);const w=g(e,["routingConfig"]);w!=null&&y(t,["routingConfig"],w);const M=g(e,["seed"]);M!=null&&y(t,["seed"],M);const O=g(e,["speechConfig"]);O!=null&&y(t,["speechConfig"],aD(O));const P=g(e,["stopSequences"]);P!=null&&y(t,["stopSequences"],P);const D=g(e,["temperature"]);D!=null&&y(t,["temperature"],D);const N=g(e,["thinkingConfig"]);N!=null&&y(t,["thinkingConfig"],N);const R=g(e,["topK"]);R!=null&&y(t,["topK"],R);const k=g(e,["topP"]);if(k!=null&&y(t,["topP"],k),g(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function ZV(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function e6(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function t6(e,t){const n={},r=g(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],r);const i=g(e,["responseModalities"]);t!==void 0&&i!=null&&y(t,["setup","generationConfig","responseModalities"],i);const a=g(e,["temperature"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","temperature"],a);const l=g(e,["topP"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","topP"],l);const u=g(e,["topK"]);t!==void 0&&u!=null&&y(t,["setup","generationConfig","topK"],u);const c=g(e,["maxOutputTokens"]);t!==void 0&&c!=null&&y(t,["setup","generationConfig","maxOutputTokens"],c);const d=g(e,["mediaResolution"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","mediaResolution"],d);const h=g(e,["seed"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","seed"],h);const m=g(e,["speechConfig"]);t!==void 0&&m!=null&&y(t,["setup","generationConfig","speechConfig"],c_(m));const v=g(e,["thinkingConfig"]);t!==void 0&&v!=null&&y(t,["setup","generationConfig","thinkingConfig"],v);const _=g(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],_);const T=g(e,["systemInstruction"]);t!==void 0&&T!=null&&y(t,["setup","systemInstruction"],YV(mn(T)));const E=g(e,["tools"]);if(t!==void 0&&E!=null){let R=vl(E);Array.isArray(R)&&(R=R.map(k=>d6(gl(k)))),y(t,["setup","tools"],R)}const w=g(e,["sessionResumption"]);t!==void 0&&w!=null&&y(t,["setup","sessionResumption"],f6(w));const M=g(e,["inputAudioTranscription"]);t!==void 0&&M!=null&&y(t,["setup","inputAudioTranscription"],M);const O=g(e,["outputAudioTranscription"]);t!==void 0&&O!=null&&y(t,["setup","outputAudioTranscription"],O);const P=g(e,["realtimeInputConfig"]);t!==void 0&&P!=null&&y(t,["setup","realtimeInputConfig"],P);const D=g(e,["contextWindowCompression"]);t!==void 0&&D!=null&&y(t,["setup","contextWindowCompression"],D);const N=g(e,["proactivity"]);return t!==void 0&&N!=null&&y(t,["setup","proactivity"],N),n}function n6(e,t){const n={},r=g(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],QV(r));const i=g(e,["responseModalities"]);t!==void 0&&i!=null&&y(t,["setup","generationConfig","responseModalities"],i);const a=g(e,["temperature"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","temperature"],a);const l=g(e,["topP"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","topP"],l);const u=g(e,["topK"]);t!==void 0&&u!=null&&y(t,["setup","generationConfig","topK"],u);const c=g(e,["maxOutputTokens"]);t!==void 0&&c!=null&&y(t,["setup","generationConfig","maxOutputTokens"],c);const d=g(e,["mediaResolution"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","mediaResolution"],d);const h=g(e,["seed"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","seed"],h);const m=g(e,["speechConfig"]);t!==void 0&&m!=null&&y(t,["setup","generationConfig","speechConfig"],aD(c_(m)));const v=g(e,["thinkingConfig"]);t!==void 0&&v!=null&&y(t,["setup","generationConfig","thinkingConfig"],v);const _=g(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],_);const T=g(e,["systemInstruction"]);t!==void 0&&T!=null&&y(t,["setup","systemInstruction"],mn(T));const E=g(e,["tools"]);if(t!==void 0&&E!=null){let R=vl(E);Array.isArray(R)&&(R=R.map(k=>h6(gl(k)))),y(t,["setup","tools"],R)}const w=g(e,["sessionResumption"]);t!==void 0&&w!=null&&y(t,["setup","sessionResumption"],w);const M=g(e,["inputAudioTranscription"]);t!==void 0&&M!=null&&y(t,["setup","inputAudioTranscription"],M);const O=g(e,["outputAudioTranscription"]);t!==void 0&&O!=null&&y(t,["setup","outputAudioTranscription"],O);const P=g(e,["realtimeInputConfig"]);t!==void 0&&P!=null&&y(t,["setup","realtimeInputConfig"],P);const D=g(e,["contextWindowCompression"]);t!==void 0&&D!=null&&y(t,["setup","contextWindowCompression"],D);const N=g(e,["proactivity"]);return t!==void 0&&N!=null&&y(t,["setup","proactivity"],N),n}function r6(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["setup","model"],He(e,r));const i=g(t,["config"]);return i!=null&&y(n,["config"],t6(i,n)),n}function i6(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["setup","model"],He(e,r));const i=g(t,["config"]);return i!=null&&y(n,["config"],n6(i,n)),n}function a6(e){const t={},n=g(e,["musicGenerationConfig"]);return n!=null&&y(t,["musicGenerationConfig"],n),t}function o6(e){const t={},n=g(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(t,["weightedPrompts"],r)}return t}function s6(e){const t={},n=g(e,["media"]);if(n!=null){let d=VI(n);Array.isArray(d)&&(d=d.map(h=>Nd(h))),y(t,["mediaChunks"],d)}const r=g(e,["audio"]);r!=null&&y(t,["audio"],Nd(YI(r)));const i=g(e,["audioStreamEnd"]);i!=null&&y(t,["audioStreamEnd"],i);const a=g(e,["video"]);a!=null&&y(t,["video"],Nd(KI(a)));const l=g(e,["text"]);l!=null&&y(t,["text"],l);const u=g(e,["activityStart"]);u!=null&&y(t,["activityStart"],u);const c=g(e,["activityEnd"]);return c!=null&&y(t,["activityEnd"],c),t}function l6(e){const t={},n=g(e,["media"]);if(n!=null){let d=VI(n);Array.isArray(d)&&(d=d.map(h=>h)),y(t,["mediaChunks"],d)}const r=g(e,["audio"]);r!=null&&y(t,["audio"],YI(r));const i=g(e,["audioStreamEnd"]);i!=null&&y(t,["audioStreamEnd"],i);const a=g(e,["video"]);a!=null&&y(t,["video"],KI(a));const l=g(e,["text"]);l!=null&&y(t,["text"],l);const u=g(e,["activityStart"]);u!=null&&y(t,["activityStart"],u);const c=g(e,["activityEnd"]);return c!=null&&y(t,["activityEnd"],c),t}function u6(e){const t={},n=g(e,["setupComplete"]);n!=null&&y(t,["setupComplete"],n);const r=g(e,["serverContent"]);r!=null&&y(t,["serverContent"],r);const i=g(e,["toolCall"]);i!=null&&y(t,["toolCall"],i);const a=g(e,["toolCallCancellation"]);a!=null&&y(t,["toolCallCancellation"],a);const l=g(e,["usageMetadata"]);l!=null&&y(t,["usageMetadata"],p6(l));const u=g(e,["goAway"]);u!=null&&y(t,["goAway"],u);const c=g(e,["sessionResumptionUpdate"]);return c!=null&&y(t,["sessionResumptionUpdate"],c),t}function c6(e){const t={},n=g(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const a=g(e,["fileData"]);a!=null&&y(t,["fileData"],WV(a));const l=g(e,["functionCall"]);l!=null&&y(t,["functionCall"],JV(l));const u=g(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const c=g(e,["inlineData"]);c!=null&&y(t,["inlineData"],Nd(c));const d=g(e,["text"]);d!=null&&y(t,["text"],d);const h=g(e,["thought"]);h!=null&&y(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const v=g(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function f6(e){const t={},n=g(e,["handle"]);if(n!=null&&y(t,["handle"],n),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function aD(e){const t={},n=g(e,["languageCode"]);n!=null&&y(t,["languageCode"],n);const r=g(e,["voiceConfig"]);if(r!=null&&y(t,["voiceConfig"],r),g(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function d6(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["googleSearchRetrieval"]);r!=null&&y(t,["googleSearchRetrieval"],r);const i=g(e,["computerUse"]);i!=null&&y(t,["computerUse"],i);const a=g(e,["fileSearch"]);a!=null&&y(t,["fileSearch"],a);const l=g(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],ZV(u));const c=g(e,["googleSearch"]);c!=null&&y(t,["googleSearch"],e6(c));const d=g(e,["urlContext"]);return d!=null&&y(t,["urlContext"],d),t}function h6(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>XV(v))),y(t,["functionDeclarations"],m)}const r=g(e,["retrieval"]);r!=null&&y(t,["retrieval"],r);const i=g(e,["googleSearchRetrieval"]);i!=null&&y(t,["googleSearchRetrieval"],i);const a=g(e,["computerUse"]);if(a!=null&&y(t,["computerUse"],a),g(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(e,["codeExecution"]);l!=null&&y(t,["codeExecution"],l);const u=g(e,["enterpriseWebSearch"]);u!=null&&y(t,["enterpriseWebSearch"],u);const c=g(e,["googleMaps"]);c!=null&&y(t,["googleMaps"],c);const d=g(e,["googleSearch"]);d!=null&&y(t,["googleSearch"],d);const h=g(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}function p6(e){const t={},n=g(e,["promptTokenCount"]);n!=null&&y(t,["promptTokenCount"],n);const r=g(e,["cachedContentTokenCount"]);r!=null&&y(t,["cachedContentTokenCount"],r);const i=g(e,["candidatesTokenCount"]);i!=null&&y(t,["responseTokenCount"],i);const a=g(e,["toolUsePromptTokenCount"]);a!=null&&y(t,["toolUsePromptTokenCount"],a);const l=g(e,["thoughtsTokenCount"]);l!=null&&y(t,["thoughtsTokenCount"],l);const u=g(e,["totalTokenCount"]);u!=null&&y(t,["totalTokenCount"],u);const c=g(e,["promptTokensDetails"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(T=>T)),y(t,["promptTokensDetails"],_)}const d=g(e,["cacheTokensDetails"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(T=>T)),y(t,["cacheTokensDetails"],_)}const h=g(e,["candidatesTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(T=>T)),y(t,["responseTokensDetails"],_)}const m=g(e,["toolUsePromptTokensDetails"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(T=>T)),y(t,["toolUsePromptTokensDetails"],_)}const v=g(e,["trafficType"]);return v!=null&&y(t,["trafficType"],v),t}function m6(e){const t={},n=g(e,["data"]);if(n!=null&&y(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function g6(e){const t={},n=g(e,["content"]);n!=null&&y(t,["content"],n);const r=g(e,["citationMetadata"]);r!=null&&y(t,["citationMetadata"],v6(r));const i=g(e,["tokenCount"]);i!=null&&y(t,["tokenCount"],i);const a=g(e,["finishReason"]);a!=null&&y(t,["finishReason"],a);const l=g(e,["avgLogprobs"]);l!=null&&y(t,["avgLogprobs"],l);const u=g(e,["groundingMetadata"]);u!=null&&y(t,["groundingMetadata"],u);const c=g(e,["index"]);c!=null&&y(t,["index"],c);const d=g(e,["logprobsResult"]);d!=null&&y(t,["logprobsResult"],d);const h=g(e,["safetyRatings"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(_=>_)),y(t,["safetyRatings"],v)}const m=g(e,["urlContextMetadata"]);return m!=null&&y(t,["urlContextMetadata"],m),t}function v6(e){const t={},n=g(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(t,["citations"],r)}return t}function y6(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],He(e,r));const i=g(t,["contents"]);if(i!=null){let a=Sr(i);Array.isArray(a)&&(a=a.map(l=>l)),y(n,["contents"],a)}return n}function b6(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),y(t,["tokensInfo"],i)}return t}function _6(e){const t={},n=g(e,["values"]);n!=null&&y(t,["values"],n);const r=g(e,["statistics"]);return r!=null&&y(t,["statistics"],S6(r)),t}function S6(e){const t={},n=g(e,["truncated"]);n!=null&&y(t,["truncated"],n);const r=g(e,["token_count"]);return r!=null&&y(t,["tokenCount"],r),t}function Jh(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>O4(a))),y(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&y(t,["role"],r),t}function T6(e){const t={},n=g(e,["controlType"]);n!=null&&y(t,["controlType"],n);const r=g(e,["enableControlImageComputation"]);return r!=null&&y(t,["computeControl"],r),t}function E6(e){const t={};if(g(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function w6(e,t){const n={},r=g(e,["systemInstruction"]);t!==void 0&&r!=null&&y(t,["systemInstruction"],mn(r));const i=g(e,["tools"]);if(t!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>cD(u))),y(t,["tools"],l)}const a=g(e,["generationConfig"]);return t!==void 0&&a!=null&&y(t,["generationConfig"],m4(a)),n}function x6(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],He(e,r));const i=g(t,["contents"]);if(i!=null){let l=Sr(i);Array.isArray(l)&&(l=l.map(u=>Jh(u))),y(n,["contents"],l)}const a=g(t,["config"]);return a!=null&&E6(a),n}function A6(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],He(e,r));const i=g(t,["contents"]);if(i!=null){let l=Sr(i);Array.isArray(l)&&(l=l.map(u=>u)),y(n,["contents"],l)}const a=g(t,["config"]);return a!=null&&w6(a,n),n}function C6(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["totalTokens"]);r!=null&&y(t,["totalTokens"],r);const i=g(e,["cachedContentTokenCount"]);return i!=null&&y(t,["cachedContentTokenCount"],i),t}function M6(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["totalTokens"]);return r!=null&&y(t,["totalTokens"],r),t}function P6(e,t){const n={},r=g(t,["model"]);return r!=null&&y(n,["_url","name"],He(e,r)),n}function O6(e,t){const n={},r=g(t,["model"]);return r!=null&&y(n,["_url","name"],He(e,r)),n}function N6(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function I6(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function D6(e,t){const n={},r=g(e,["outputGcsUri"]);t!==void 0&&r!=null&&y(t,["parameters","storageUri"],r);const i=g(e,["negativePrompt"]);t!==void 0&&i!=null&&y(t,["parameters","negativePrompt"],i);const a=g(e,["numberOfImages"]);t!==void 0&&a!=null&&y(t,["parameters","sampleCount"],a);const l=g(e,["aspectRatio"]);t!==void 0&&l!=null&&y(t,["parameters","aspectRatio"],l);const u=g(e,["guidanceScale"]);t!==void 0&&u!=null&&y(t,["parameters","guidanceScale"],u);const c=g(e,["seed"]);t!==void 0&&c!=null&&y(t,["parameters","seed"],c);const d=g(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&y(t,["parameters","safetySetting"],d);const h=g(e,["personGeneration"]);t!==void 0&&h!=null&&y(t,["parameters","personGeneration"],h);const m=g(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&y(t,["parameters","includeSafetyAttributes"],m);const v=g(e,["includeRaiReason"]);t!==void 0&&v!=null&&y(t,["parameters","includeRaiReason"],v);const _=g(e,["language"]);t!==void 0&&_!=null&&y(t,["parameters","language"],_);const T=g(e,["outputMimeType"]);t!==void 0&&T!=null&&y(t,["parameters","outputOptions","mimeType"],T);const E=g(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&y(t,["parameters","outputOptions","compressionQuality"],E);const w=g(e,["addWatermark"]);t!==void 0&&w!=null&&y(t,["parameters","addWatermark"],w);const M=g(e,["labels"]);t!==void 0&&M!=null&&y(t,["labels"],M);const O=g(e,["editMode"]);t!==void 0&&O!=null&&y(t,["parameters","editMode"],O);const P=g(e,["baseSteps"]);return t!==void 0&&P!=null&&y(t,["parameters","editConfig","baseSteps"],P),n}function R6(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],He(e,r));const i=g(t,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=g(t,["referenceImages"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>L4(c))),y(n,["instances[0]","referenceImages"],u)}const l=g(t,["config"]);return l!=null&&D6(l,n),n}function k6(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Xh(a))),y(t,["generatedImages"],i)}return t}function L6(e,t){const n={},r=g(e,["taskType"]);t!==void 0&&r!=null&&y(t,["requests[]","taskType"],r);const i=g(e,["title"]);t!==void 0&&i!=null&&y(t,["requests[]","title"],i);const a=g(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&y(t,["requests[]","outputDimensionality"],a),g(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function U6(e,t){const n={},r=g(e,["taskType"]);t!==void 0&&r!=null&&y(t,["instances[]","task_type"],r);const i=g(e,["title"]);t!==void 0&&i!=null&&y(t,["instances[]","title"],i);const a=g(e,["outputDimensionality"]);t!==void 0&&a!=null&&y(t,["parameters","outputDimensionality"],a);const l=g(e,["mimeType"]);t!==void 0&&l!=null&&y(t,["instances[]","mimeType"],l);const u=g(e,["autoTruncate"]);return t!==void 0&&u!=null&&y(t,["parameters","autoTruncate"],u),n}function q6(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],He(e,r));const i=g(t,["contents"]);if(i!=null){let u=s_(e,i);Array.isArray(u)&&(u=u.map(c=>c)),y(n,["requests[]","content"],u)}const a=g(t,["config"]);a!=null&&L6(a,n);const l=g(t,["model"]);return l!==void 0&&y(n,["requests[]","model"],He(e,l)),n}function j6(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],He(e,r));const i=g(t,["contents"]);if(i!=null){let l=s_(e,i);Array.isArray(l)&&(l=l.map(u=>u)),y(n,["instances[]","content"],l)}const a=g(t,["config"]);return a!=null&&U6(a,n),n}function z6(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["embeddings"],a)}const i=g(e,["metadata"]);return i!=null&&y(t,["metadata"],i),t}function B6(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>_6(l))),y(t,["embeddings"],a)}const i=g(e,["metadata"]);return i!=null&&y(t,["metadata"],i),t}function $6(e){const t={},n=g(e,["endpoint"]);n!=null&&y(t,["name"],n);const r=g(e,["deployedModelId"]);return r!=null&&y(t,["deployedModelId"],r),t}function F6(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function H6(e){const t={},n=g(e,["id"]);n!=null&&y(t,["id"],n);const r=g(e,["args"]);r!=null&&y(t,["args"],r);const i=g(e,["name"]);if(i!=null&&y(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function G6(e){const t={},n=g(e,["mode"]);n!=null&&y(t,["mode"],n);const r=g(e,["allowedFunctionNames"]);if(r!=null&&y(t,["allowedFunctionNames"],r),g(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function V6(e){const t={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(e,["description"]);n!=null&&y(t,["description"],n);const r=g(e,["name"]);r!=null&&y(t,["name"],r);const i=g(e,["parameters"]);i!=null&&y(t,["parameters"],i);const a=g(e,["parametersJsonSchema"]);a!=null&&y(t,["parametersJsonSchema"],a);const l=g(e,["response"]);l!=null&&y(t,["response"],l);const u=g(e,["responseJsonSchema"]);return u!=null&&y(t,["responseJsonSchema"],u),t}function K6(e,t,n){const r={},i=g(t,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],Jh(mn(i)));const a=g(t,["temperature"]);a!=null&&y(r,["temperature"],a);const l=g(t,["topP"]);l!=null&&y(r,["topP"],l);const u=g(t,["topK"]);u!=null&&y(r,["topK"],u);const c=g(t,["candidateCount"]);c!=null&&y(r,["candidateCount"],c);const d=g(t,["maxOutputTokens"]);d!=null&&y(r,["maxOutputTokens"],d);const h=g(t,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=g(t,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const v=g(t,["logprobs"]);v!=null&&y(r,["logprobs"],v);const _=g(t,["presencePenalty"]);_!=null&&y(r,["presencePenalty"],_);const T=g(t,["frequencyPenalty"]);T!=null&&y(r,["frequencyPenalty"],T);const E=g(t,["seed"]);E!=null&&y(r,["seed"],E);const w=g(t,["responseMimeType"]);w!=null&&y(r,["responseMimeType"],w);const M=g(t,["responseSchema"]);M!=null&&y(r,["responseSchema"],l_(M));const O=g(t,["responseJsonSchema"]);if(O!=null&&y(r,["responseJsonSchema"],O),g(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=g(t,["safetySettings"]);if(n!==void 0&&P!=null){let W=P;Array.isArray(W)&&(W=W.map(fe=>U4(fe))),y(n,["safetySettings"],W)}const D=g(t,["tools"]);if(n!==void 0&&D!=null){let W=vl(D);Array.isArray(W)&&(W=W.map(fe=>H4(gl(fe)))),y(n,["tools"],W)}const N=g(t,["toolConfig"]);if(n!==void 0&&N!=null&&y(n,["toolConfig"],F4(N)),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=g(t,["cachedContent"]);n!==void 0&&R!=null&&y(n,["cachedContent"],na(e,R));const k=g(t,["responseModalities"]);k!=null&&y(r,["responseModalities"],k);const B=g(t,["mediaResolution"]);B!=null&&y(r,["mediaResolution"],B);const $=g(t,["speechConfig"]);if($!=null&&y(r,["speechConfig"],u_($)),g(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const oe=g(t,["thinkingConfig"]);oe!=null&&y(r,["thinkingConfig"],oe);const V=g(t,["imageConfig"]);return V!=null&&y(r,["imageConfig"],_4(V)),r}function Y6(e,t,n){const r={},i=g(t,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],mn(i));const a=g(t,["temperature"]);a!=null&&y(r,["temperature"],a);const l=g(t,["topP"]);l!=null&&y(r,["topP"],l);const u=g(t,["topK"]);u!=null&&y(r,["topK"],u);const c=g(t,["candidateCount"]);c!=null&&y(r,["candidateCount"],c);const d=g(t,["maxOutputTokens"]);d!=null&&y(r,["maxOutputTokens"],d);const h=g(t,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=g(t,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const v=g(t,["logprobs"]);v!=null&&y(r,["logprobs"],v);const _=g(t,["presencePenalty"]);_!=null&&y(r,["presencePenalty"],_);const T=g(t,["frequencyPenalty"]);T!=null&&y(r,["frequencyPenalty"],T);const E=g(t,["seed"]);E!=null&&y(r,["seed"],E);const w=g(t,["responseMimeType"]);w!=null&&y(r,["responseMimeType"],w);const M=g(t,["responseSchema"]);M!=null&&y(r,["responseSchema"],l_(M));const O=g(t,["responseJsonSchema"]);O!=null&&y(r,["responseJsonSchema"],O);const P=g(t,["routingConfig"]);P!=null&&y(r,["routingConfig"],P);const D=g(t,["modelSelectionConfig"]);D!=null&&y(r,["modelConfig"],D);const N=g(t,["safetySettings"]);if(n!==void 0&&N!=null){let z=N;Array.isArray(z)&&(z=z.map(ee=>ee)),y(n,["safetySettings"],z)}const R=g(t,["tools"]);if(n!==void 0&&R!=null){let z=vl(R);Array.isArray(z)&&(z=z.map(ee=>cD(gl(ee)))),y(n,["tools"],z)}const k=g(t,["toolConfig"]);n!==void 0&&k!=null&&y(n,["toolConfig"],k);const B=g(t,["labels"]);n!==void 0&&B!=null&&y(n,["labels"],B);const $=g(t,["cachedContent"]);n!==void 0&&$!=null&&y(n,["cachedContent"],na(e,$));const oe=g(t,["responseModalities"]);oe!=null&&y(r,["responseModalities"],oe);const V=g(t,["mediaResolution"]);V!=null&&y(r,["mediaResolution"],V);const W=g(t,["speechConfig"]);W!=null&&y(r,["speechConfig"],uD(u_(W)));const fe=g(t,["audioTimestamp"]);fe!=null&&y(r,["audioTimestamp"],fe);const pe=g(t,["thinkingConfig"]);pe!=null&&y(r,["thinkingConfig"],pe);const be=g(t,["imageConfig"]);return be!=null&&y(r,["imageConfig"],S4(be)),r}function s1(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],He(e,r));const i=g(t,["contents"]);if(i!=null){let l=Sr(i);Array.isArray(l)&&(l=l.map(u=>Jh(u))),y(n,["contents"],l)}const a=g(t,["config"]);return a!=null&&y(n,["generationConfig"],K6(e,a,n)),n}function l1(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],He(e,r));const i=g(t,["contents"]);if(i!=null){let l=Sr(i);Array.isArray(l)&&(l=l.map(u=>u)),y(n,["contents"],l)}const a=g(t,["config"]);return a!=null&&y(n,["generationConfig"],Y6(e,a,n)),n}function u1(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>g6(d))),y(t,["candidates"],c)}const i=g(e,["modelVersion"]);i!=null&&y(t,["modelVersion"],i);const a=g(e,["promptFeedback"]);a!=null&&y(t,["promptFeedback"],a);const l=g(e,["responseId"]);l!=null&&y(t,["responseId"],l);const u=g(e,["usageMetadata"]);return u!=null&&y(t,["usageMetadata"],u),t}function c1(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),y(t,["candidates"],d)}const i=g(e,["createTime"]);i!=null&&y(t,["createTime"],i);const a=g(e,["modelVersion"]);a!=null&&y(t,["modelVersion"],a);const l=g(e,["promptFeedback"]);l!=null&&y(t,["promptFeedback"],l);const u=g(e,["responseId"]);u!=null&&y(t,["responseId"],u);const c=g(e,["usageMetadata"]);return c!=null&&y(t,["usageMetadata"],c),t}function W6(e,t){const n={};if(g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=g(e,["numberOfImages"]);t!==void 0&&r!=null&&y(t,["parameters","sampleCount"],r);const i=g(e,["aspectRatio"]);t!==void 0&&i!=null&&y(t,["parameters","aspectRatio"],i);const a=g(e,["guidanceScale"]);if(t!==void 0&&a!=null&&y(t,["parameters","guidanceScale"],a),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=g(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&y(t,["parameters","safetySetting"],l);const u=g(e,["personGeneration"]);t!==void 0&&u!=null&&y(t,["parameters","personGeneration"],u);const c=g(e,["includeSafetyAttributes"]);t!==void 0&&c!=null&&y(t,["parameters","includeSafetyAttributes"],c);const d=g(e,["includeRaiReason"]);t!==void 0&&d!=null&&y(t,["parameters","includeRaiReason"],d);const h=g(e,["language"]);t!==void 0&&h!=null&&y(t,["parameters","language"],h);const m=g(e,["outputMimeType"]);t!==void 0&&m!=null&&y(t,["parameters","outputOptions","mimeType"],m);const v=g(e,["outputCompressionQuality"]);if(t!==void 0&&v!=null&&y(t,["parameters","outputOptions","compressionQuality"],v),g(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=g(e,["imageSize"]);if(t!==void 0&&_!=null&&y(t,["parameters","sampleImageSize"],_),g(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function J6(e,t){const n={},r=g(e,["outputGcsUri"]);t!==void 0&&r!=null&&y(t,["parameters","storageUri"],r);const i=g(e,["negativePrompt"]);t!==void 0&&i!=null&&y(t,["parameters","negativePrompt"],i);const a=g(e,["numberOfImages"]);t!==void 0&&a!=null&&y(t,["parameters","sampleCount"],a);const l=g(e,["aspectRatio"]);t!==void 0&&l!=null&&y(t,["parameters","aspectRatio"],l);const u=g(e,["guidanceScale"]);t!==void 0&&u!=null&&y(t,["parameters","guidanceScale"],u);const c=g(e,["seed"]);t!==void 0&&c!=null&&y(t,["parameters","seed"],c);const d=g(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&y(t,["parameters","safetySetting"],d);const h=g(e,["personGeneration"]);t!==void 0&&h!=null&&y(t,["parameters","personGeneration"],h);const m=g(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&y(t,["parameters","includeSafetyAttributes"],m);const v=g(e,["includeRaiReason"]);t!==void 0&&v!=null&&y(t,["parameters","includeRaiReason"],v);const _=g(e,["language"]);t!==void 0&&_!=null&&y(t,["parameters","language"],_);const T=g(e,["outputMimeType"]);t!==void 0&&T!=null&&y(t,["parameters","outputOptions","mimeType"],T);const E=g(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&y(t,["parameters","outputOptions","compressionQuality"],E);const w=g(e,["addWatermark"]);t!==void 0&&w!=null&&y(t,["parameters","addWatermark"],w);const M=g(e,["labels"]);t!==void 0&&M!=null&&y(t,["labels"],M);const O=g(e,["imageSize"]);t!==void 0&&O!=null&&y(t,["parameters","sampleImageSize"],O);const P=g(e,["enhancePrompt"]);return t!==void 0&&P!=null&&y(t,["parameters","enhancePrompt"],P),n}function X6(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],He(e,r));const i=g(t,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=g(t,["config"]);return a!=null&&W6(a,n),n}function Q6(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],He(e,r));const i=g(t,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=g(t,["config"]);return a!=null&&J6(a,n),n}function Z6(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>f4(l))),y(t,["generatedImages"],a)}const i=g(e,["positivePromptSafetyAttributes"]);return i!=null&&y(t,["positivePromptSafetyAttributes"],sD(i)),t}function e4(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>Xh(l))),y(t,["generatedImages"],a)}const i=g(e,["positivePromptSafetyAttributes"]);return i!=null&&y(t,["positivePromptSafetyAttributes"],lD(i)),t}function t4(e,t){const n={},r=g(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&y(t,["parameters","sampleCount"],r),g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=g(e,["durationSeconds"]);if(t!==void 0&&i!=null&&y(t,["parameters","durationSeconds"],i),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=g(e,["aspectRatio"]);t!==void 0&&a!=null&&y(t,["parameters","aspectRatio"],a);const l=g(e,["resolution"]);t!==void 0&&l!=null&&y(t,["parameters","resolution"],l);const u=g(e,["personGeneration"]);if(t!==void 0&&u!=null&&y(t,["parameters","personGeneration"],u),g(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=g(e,["negativePrompt"]);t!==void 0&&c!=null&&y(t,["parameters","negativePrompt"],c);const d=g(e,["enhancePrompt"]);if(t!==void 0&&d!=null&&y(t,["parameters","enhancePrompt"],d),g(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=g(e,["lastFrame"]);t!==void 0&&h!=null&&y(t,["instances[0]","lastFrame"],Qh(h));const m=g(e,["referenceImages"]);if(t!==void 0&&m!=null){let v=m;Array.isArray(v)&&(v=v.map(_=>r5(_))),y(t,["instances[0]","referenceImages"],v)}if(g(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(g(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function n4(e,t){const n={},r=g(e,["numberOfVideos"]);t!==void 0&&r!=null&&y(t,["parameters","sampleCount"],r);const i=g(e,["outputGcsUri"]);t!==void 0&&i!=null&&y(t,["parameters","storageUri"],i);const a=g(e,["fps"]);t!==void 0&&a!=null&&y(t,["parameters","fps"],a);const l=g(e,["durationSeconds"]);t!==void 0&&l!=null&&y(t,["parameters","durationSeconds"],l);const u=g(e,["seed"]);t!==void 0&&u!=null&&y(t,["parameters","seed"],u);const c=g(e,["aspectRatio"]);t!==void 0&&c!=null&&y(t,["parameters","aspectRatio"],c);const d=g(e,["resolution"]);t!==void 0&&d!=null&&y(t,["parameters","resolution"],d);const h=g(e,["personGeneration"]);t!==void 0&&h!=null&&y(t,["parameters","personGeneration"],h);const m=g(e,["pubsubTopic"]);t!==void 0&&m!=null&&y(t,["parameters","pubsubTopic"],m);const v=g(e,["negativePrompt"]);t!==void 0&&v!=null&&y(t,["parameters","negativePrompt"],v);const _=g(e,["enhancePrompt"]);t!==void 0&&_!=null&&y(t,["parameters","enhancePrompt"],_);const T=g(e,["generateAudio"]);t!==void 0&&T!=null&&y(t,["parameters","generateAudio"],T);const E=g(e,["lastFrame"]);t!==void 0&&E!=null&&y(t,["instances[0]","lastFrame"],jr(E));const w=g(e,["referenceImages"]);if(t!==void 0&&w!=null){let P=w;Array.isArray(P)&&(P=P.map(D=>i5(D))),y(t,["instances[0]","referenceImages"],P)}const M=g(e,["mask"]);t!==void 0&&M!=null&&y(t,["instances[0]","mask"],n5(M));const O=g(e,["compressionQuality"]);return t!==void 0&&O!=null&&y(t,["parameters","compressionQuality"],O),n}function r4(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["response","generateVideoResponse"]);return l!=null&&y(t,["response"],s4(l)),t}function i4(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["response"]);return l!=null&&y(t,["response"],l4(l)),t}function a4(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],He(e,r));const i=g(t,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=g(t,["image"]);a!=null&&y(n,["instances[0]","image"],Qh(a));const l=g(t,["video"]);l!=null&&y(n,["instances[0]","video"],fD(l));const u=g(t,["source"]);u!=null&&u4(u,n);const c=g(t,["config"]);return c!=null&&t4(c,n),n}function o4(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],He(e,r));const i=g(t,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=g(t,["image"]);a!=null&&y(n,["instances[0]","image"],jr(a));const l=g(t,["video"]);l!=null&&y(n,["instances[0]","video"],dD(l));const u=g(t,["source"]);u!=null&&c4(u,n);const c=g(t,["config"]);return c!=null&&n4(c,n),n}function s4(e){const t={},n=g(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>h4(l))),y(t,["generatedVideos"],a)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&y(t,["raiMediaFilteredReasons"],i),t}function l4(e){const t={},n=g(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>p4(l))),y(t,["generatedVideos"],a)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&y(t,["raiMediaFilteredReasons"],i),t}function u4(e,t){const n={},r=g(e,["prompt"]);t!==void 0&&r!=null&&y(t,["instances[0]","prompt"],r);const i=g(e,["image"]);t!==void 0&&i!=null&&y(t,["instances[0]","image"],Qh(i));const a=g(e,["video"]);return t!==void 0&&a!=null&&y(t,["instances[0]","video"],fD(a)),n}function c4(e,t){const n={},r=g(e,["prompt"]);t!==void 0&&r!=null&&y(t,["instances[0]","prompt"],r);const i=g(e,["image"]);t!==void 0&&i!=null&&y(t,["instances[0]","image"],jr(i));const a=g(e,["video"]);return t!==void 0&&a!=null&&y(t,["instances[0]","video"],dD(a)),n}function f4(e){const t={},n=g(e,["_self"]);n!=null&&y(t,["image"],T4(n));const r=g(e,["raiFilteredReason"]);r!=null&&y(t,["raiFilteredReason"],r);const i=g(e,["_self"]);return i!=null&&y(t,["safetyAttributes"],sD(i)),t}function Xh(e){const t={},n=g(e,["_self"]);n!=null&&y(t,["image"],oD(n));const r=g(e,["raiFilteredReason"]);r!=null&&y(t,["raiFilteredReason"],r);const i=g(e,["_self"]);i!=null&&y(t,["safetyAttributes"],lD(i));const a=g(e,["prompt"]);return a!=null&&y(t,["enhancedPrompt"],a),t}function d4(e){const t={},n=g(e,["_self"]);n!=null&&y(t,["mask"],oD(n));const r=g(e,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),y(t,["labels"],i)}return t}function h4(e){const t={},n=g(e,["video"]);return n!=null&&y(t,["video"],e5(n)),t}function p4(e){const t={},n=g(e,["_self"]);return n!=null&&y(t,["video"],t5(n)),t}function m4(e){const t={},n=g(e,["modelSelectionConfig"]);n!=null&&y(t,["modelConfig"],n);const r=g(e,["responseJsonSchema"]);r!=null&&y(t,["responseJsonSchema"],r);const i=g(e,["audioTimestamp"]);i!=null&&y(t,["audioTimestamp"],i);const a=g(e,["candidateCount"]);a!=null&&y(t,["candidateCount"],a);const l=g(e,["enableAffectiveDialog"]);l!=null&&y(t,["enableAffectiveDialog"],l);const u=g(e,["frequencyPenalty"]);u!=null&&y(t,["frequencyPenalty"],u);const c=g(e,["logprobs"]);c!=null&&y(t,["logprobs"],c);const d=g(e,["maxOutputTokens"]);d!=null&&y(t,["maxOutputTokens"],d);const h=g(e,["mediaResolution"]);h!=null&&y(t,["mediaResolution"],h);const m=g(e,["presencePenalty"]);m!=null&&y(t,["presencePenalty"],m);const v=g(e,["responseLogprobs"]);v!=null&&y(t,["responseLogprobs"],v);const _=g(e,["responseMimeType"]);_!=null&&y(t,["responseMimeType"],_);const T=g(e,["responseModalities"]);T!=null&&y(t,["responseModalities"],T);const E=g(e,["responseSchema"]);E!=null&&y(t,["responseSchema"],E);const w=g(e,["routingConfig"]);w!=null&&y(t,["routingConfig"],w);const M=g(e,["seed"]);M!=null&&y(t,["seed"],M);const O=g(e,["speechConfig"]);O!=null&&y(t,["speechConfig"],uD(O));const P=g(e,["stopSequences"]);P!=null&&y(t,["stopSequences"],P);const D=g(e,["temperature"]);D!=null&&y(t,["temperature"],D);const N=g(e,["thinkingConfig"]);N!=null&&y(t,["thinkingConfig"],N);const R=g(e,["topK"]);R!=null&&y(t,["topK"],R);const k=g(e,["topP"]);if(k!=null&&y(t,["topP"],k),g(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function g4(e,t){const n={},r=g(t,["model"]);return r!=null&&y(n,["_url","name"],He(e,r)),n}function v4(e,t){const n={},r=g(t,["model"]);return r!=null&&y(n,["_url","name"],He(e,r)),n}function y4(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function b4(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function _4(e){const t={},n=g(e,["aspectRatio"]);n!=null&&y(t,["aspectRatio"],n);const r=g(e,["imageSize"]);if(r!=null&&y(t,["imageSize"],r),g(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function S4(e){const t={},n=g(e,["aspectRatio"]);n!=null&&y(t,["aspectRatio"],n);const r=g(e,["imageSize"]);r!=null&&y(t,["imageSize"],r);const i=g(e,["outputMimeType"]);i!=null&&y(t,["imageOutputOptions","mimeType"],i);const a=g(e,["outputCompressionQuality"]);return a!=null&&y(t,["imageOutputOptions","compressionQuality"],a),t}function T4(e){const t={},n=g(e,["bytesBase64Encoded"]);n!=null&&y(t,["imageBytes"],Ha(n));const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function oD(e){const t={},n=g(e,["gcsUri"]);n!=null&&y(t,["gcsUri"],n);const r=g(e,["bytesBase64Encoded"]);r!=null&&y(t,["imageBytes"],Ha(r));const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function Qh(e){const t={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=g(e,["imageBytes"]);n!=null&&y(t,["bytesBase64Encoded"],Ha(n));const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function jr(e){const t={},n=g(e,["gcsUri"]);n!=null&&y(t,["gcsUri"],n);const r=g(e,["imageBytes"]);r!=null&&y(t,["bytesBase64Encoded"],Ha(r));const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function E4(e,t,n){const r={},i=g(t,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const a=g(t,["pageToken"]);n!==void 0&&a!=null&&y(n,["_query","pageToken"],a);const l=g(t,["filter"]);n!==void 0&&l!=null&&y(n,["_query","filter"],l);const u=g(t,["queryBase"]);return n!==void 0&&u!=null&&y(n,["_url","models_url"],QI(e,u)),r}function w4(e,t,n){const r={},i=g(t,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const a=g(t,["pageToken"]);n!==void 0&&a!=null&&y(n,["_query","pageToken"],a);const l=g(t,["filter"]);n!==void 0&&l!=null&&y(n,["_query","filter"],l);const u=g(t,["queryBase"]);return n!==void 0&&u!=null&&y(n,["_url","models_url"],QI(e,u)),r}function x4(e,t){const n={},r=g(t,["config"]);return r!=null&&E4(e,r,n),n}function A4(e,t){const n={},r=g(t,["config"]);return r!=null&&w4(e,r,n),n}function C4(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["_self"]);if(i!=null){let a=ZI(i);Array.isArray(a)&&(a=a.map(l=>N0(l))),y(t,["models"],a)}return t}function M4(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["_self"]);if(i!=null){let a=ZI(i);Array.isArray(a)&&(a=a.map(l=>I0(l))),y(t,["models"],a)}return t}function P4(e){const t={},n=g(e,["maskMode"]);n!=null&&y(t,["maskMode"],n);const r=g(e,["segmentationClasses"]);r!=null&&y(t,["maskClasses"],r);const i=g(e,["maskDilation"]);return i!=null&&y(t,["dilation"],i),t}function N0(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["displayName"]);r!=null&&y(t,["displayName"],r);const i=g(e,["description"]);i!=null&&y(t,["description"],i);const a=g(e,["version"]);a!=null&&y(t,["version"],a);const l=g(e,["_self"]);l!=null&&y(t,["tunedModelInfo"],G4(l));const u=g(e,["inputTokenLimit"]);u!=null&&y(t,["inputTokenLimit"],u);const c=g(e,["outputTokenLimit"]);c!=null&&y(t,["outputTokenLimit"],c);const d=g(e,["supportedGenerationMethods"]);d!=null&&y(t,["supportedActions"],d);const h=g(e,["temperature"]);h!=null&&y(t,["temperature"],h);const m=g(e,["maxTemperature"]);m!=null&&y(t,["maxTemperature"],m);const v=g(e,["topP"]);v!=null&&y(t,["topP"],v);const _=g(e,["topK"]);_!=null&&y(t,["topK"],_);const T=g(e,["thinking"]);return T!=null&&y(t,["thinking"],T),t}function I0(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["displayName"]);r!=null&&y(t,["displayName"],r);const i=g(e,["description"]);i!=null&&y(t,["description"],i);const a=g(e,["versionId"]);a!=null&&y(t,["version"],a);const l=g(e,["deployedModels"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(v=>$6(v))),y(t,["endpoints"],m)}const u=g(e,["labels"]);u!=null&&y(t,["labels"],u);const c=g(e,["_self"]);c!=null&&y(t,["tunedModelInfo"],V4(c));const d=g(e,["defaultCheckpointId"]);d!=null&&y(t,["defaultCheckpointId"],d);const h=g(e,["checkpoints"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(v=>v)),y(t,["checkpoints"],m)}return t}function O4(e){const t={},n=g(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const a=g(e,["fileData"]);a!=null&&y(t,["fileData"],F6(a));const l=g(e,["functionCall"]);l!=null&&y(t,["functionCall"],H6(l));const u=g(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const c=g(e,["inlineData"]);c!=null&&y(t,["inlineData"],m6(c));const d=g(e,["text"]);d!=null&&y(t,["text"],d);const h=g(e,["thought"]);h!=null&&y(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const v=g(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function N4(e){const t={},n=g(e,["productImage"]);return n!=null&&y(t,["image"],jr(n)),t}function I4(e,t){const n={},r=g(e,["numberOfImages"]);t!==void 0&&r!=null&&y(t,["parameters","sampleCount"],r);const i=g(e,["baseSteps"]);t!==void 0&&i!=null&&y(t,["parameters","baseSteps"],i);const a=g(e,["outputGcsUri"]);t!==void 0&&a!=null&&y(t,["parameters","storageUri"],a);const l=g(e,["seed"]);t!==void 0&&l!=null&&y(t,["parameters","seed"],l);const u=g(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&y(t,["parameters","safetySetting"],u);const c=g(e,["personGeneration"]);t!==void 0&&c!=null&&y(t,["parameters","personGeneration"],c);const d=g(e,["addWatermark"]);t!==void 0&&d!=null&&y(t,["parameters","addWatermark"],d);const h=g(e,["outputMimeType"]);t!==void 0&&h!=null&&y(t,["parameters","outputOptions","mimeType"],h);const m=g(e,["outputCompressionQuality"]);t!==void 0&&m!=null&&y(t,["parameters","outputOptions","compressionQuality"],m);const v=g(e,["enhancePrompt"]);t!==void 0&&v!=null&&y(t,["parameters","enhancePrompt"],v);const _=g(e,["labels"]);return t!==void 0&&_!=null&&y(t,["labels"],_),n}function D4(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],He(e,r));const i=g(t,["source"]);i!=null&&k4(i,n);const a=g(t,["config"]);return a!=null&&I4(a,n),n}function R4(e){const t={},n=g(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Xh(i))),y(t,["generatedImages"],r)}return t}function k4(e,t){const n={},r=g(e,["prompt"]);t!==void 0&&r!=null&&y(t,["instances[0]","prompt"],r);const i=g(e,["personImage"]);t!==void 0&&i!=null&&y(t,["instances[0]","personImage","image"],jr(i));const a=g(e,["productImages"]);if(t!==void 0&&a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>N4(u))),y(t,["instances[0]","productImages"],l)}return n}function L4(e){const t={},n=g(e,["referenceImage"]);n!=null&&y(t,["referenceImage"],jr(n));const r=g(e,["referenceId"]);r!=null&&y(t,["referenceId"],r);const i=g(e,["referenceType"]);i!=null&&y(t,["referenceType"],i);const a=g(e,["maskImageConfig"]);a!=null&&y(t,["maskImageConfig"],P4(a));const l=g(e,["controlImageConfig"]);l!=null&&y(t,["controlImageConfig"],T6(l));const u=g(e,["styleImageConfig"]);u!=null&&y(t,["styleImageConfig"],u);const c=g(e,["subjectImageConfig"]);return c!=null&&y(t,["subjectImageConfig"],c),t}function sD(e){const t={},n=g(e,["safetyAttributes","categories"]);n!=null&&y(t,["categories"],n);const r=g(e,["safetyAttributes","scores"]);r!=null&&y(t,["scores"],r);const i=g(e,["contentType"]);return i!=null&&y(t,["contentType"],i),t}function lD(e){const t={},n=g(e,["safetyAttributes","categories"]);n!=null&&y(t,["categories"],n);const r=g(e,["safetyAttributes","scores"]);r!=null&&y(t,["scores"],r);const i=g(e,["contentType"]);return i!=null&&y(t,["contentType"],i),t}function U4(e){const t={},n=g(e,["category"]);if(n!=null&&y(t,["category"],n),g(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(e,["threshold"]);return r!=null&&y(t,["threshold"],r),t}function q4(e){const t={},n=g(e,["image"]);return n!=null&&y(t,["image"],jr(n)),t}function j4(e,t){const n={},r=g(e,["mode"]);t!==void 0&&r!=null&&y(t,["parameters","mode"],r);const i=g(e,["maxPredictions"]);t!==void 0&&i!=null&&y(t,["parameters","maxPredictions"],i);const a=g(e,["confidenceThreshold"]);t!==void 0&&a!=null&&y(t,["parameters","confidenceThreshold"],a);const l=g(e,["maskDilation"]);t!==void 0&&l!=null&&y(t,["parameters","maskDilation"],l);const u=g(e,["binaryColorThreshold"]);t!==void 0&&u!=null&&y(t,["parameters","binaryColorThreshold"],u);const c=g(e,["labels"]);return t!==void 0&&c!=null&&y(t,["labels"],c),n}function z4(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],He(e,r));const i=g(t,["source"]);i!=null&&$4(i,n);const a=g(t,["config"]);return a!=null&&j4(a,n),n}function B4(e){const t={},n=g(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>d4(i))),y(t,["generatedMasks"],r)}return t}function $4(e,t){const n={},r=g(e,["prompt"]);t!==void 0&&r!=null&&y(t,["instances[0]","prompt"],r);const i=g(e,["image"]);t!==void 0&&i!=null&&y(t,["instances[0]","image"],jr(i));const a=g(e,["scribbleImage"]);return t!==void 0&&a!=null&&y(t,["instances[0]","scribble"],q4(a)),n}function uD(e){const t={},n=g(e,["languageCode"]);n!=null&&y(t,["languageCode"],n);const r=g(e,["voiceConfig"]);if(r!=null&&y(t,["voiceConfig"],r),g(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function F4(e){const t={},n=g(e,["functionCallingConfig"]);n!=null&&y(t,["functionCallingConfig"],G6(n));const r=g(e,["retrievalConfig"]);return r!=null&&y(t,["retrievalConfig"],r),t}function H4(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["googleSearchRetrieval"]);r!=null&&y(t,["googleSearchRetrieval"],r);const i=g(e,["computerUse"]);i!=null&&y(t,["computerUse"],i);const a=g(e,["fileSearch"]);a!=null&&y(t,["fileSearch"],a);const l=g(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],y4(u));const c=g(e,["googleSearch"]);c!=null&&y(t,["googleSearch"],b4(c));const d=g(e,["urlContext"]);return d!=null&&y(t,["urlContext"],d),t}function cD(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>V6(v))),y(t,["functionDeclarations"],m)}const r=g(e,["retrieval"]);r!=null&&y(t,["retrieval"],r);const i=g(e,["googleSearchRetrieval"]);i!=null&&y(t,["googleSearchRetrieval"],i);const a=g(e,["computerUse"]);if(a!=null&&y(t,["computerUse"],a),g(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(e,["codeExecution"]);l!=null&&y(t,["codeExecution"],l);const u=g(e,["enterpriseWebSearch"]);u!=null&&y(t,["enterpriseWebSearch"],u);const c=g(e,["googleMaps"]);c!=null&&y(t,["googleMaps"],c);const d=g(e,["googleSearch"]);d!=null&&y(t,["googleSearch"],d);const h=g(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}function G4(e){const t={},n=g(e,["baseModel"]);n!=null&&y(t,["baseModel"],n);const r=g(e,["createTime"]);r!=null&&y(t,["createTime"],r);const i=g(e,["updateTime"]);return i!=null&&y(t,["updateTime"],i),t}function V4(e){const t={},n=g(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&y(t,["baseModel"],n);const r=g(e,["createTime"]);r!=null&&y(t,["createTime"],r);const i=g(e,["updateTime"]);return i!=null&&y(t,["updateTime"],i),t}function K4(e,t){const n={},r=g(e,["displayName"]);t!==void 0&&r!=null&&y(t,["displayName"],r);const i=g(e,["description"]);t!==void 0&&i!=null&&y(t,["description"],i);const a=g(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&y(t,["defaultCheckpointId"],a),n}function Y4(e,t){const n={},r=g(e,["displayName"]);t!==void 0&&r!=null&&y(t,["displayName"],r);const i=g(e,["description"]);t!==void 0&&i!=null&&y(t,["description"],i);const a=g(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&y(t,["defaultCheckpointId"],a),n}function W4(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","name"],He(e,r));const i=g(t,["config"]);return i!=null&&K4(i,n),n}function J4(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],He(e,r));const i=g(t,["config"]);return i!=null&&Y4(i,n),n}function X4(e,t){const n={},r=g(e,["outputGcsUri"]);t!==void 0&&r!=null&&y(t,["parameters","storageUri"],r);const i=g(e,["safetyFilterLevel"]);t!==void 0&&i!=null&&y(t,["parameters","safetySetting"],i);const a=g(e,["personGeneration"]);t!==void 0&&a!=null&&y(t,["parameters","personGeneration"],a);const l=g(e,["includeRaiReason"]);t!==void 0&&l!=null&&y(t,["parameters","includeRaiReason"],l);const u=g(e,["outputMimeType"]);t!==void 0&&u!=null&&y(t,["parameters","outputOptions","mimeType"],u);const c=g(e,["outputCompressionQuality"]);t!==void 0&&c!=null&&y(t,["parameters","outputOptions","compressionQuality"],c);const d=g(e,["enhanceInputImage"]);t!==void 0&&d!=null&&y(t,["parameters","upscaleConfig","enhanceInputImage"],d);const h=g(e,["imagePreservationFactor"]);t!==void 0&&h!=null&&y(t,["parameters","upscaleConfig","imagePreservationFactor"],h);const m=g(e,["labels"]);t!==void 0&&m!=null&&y(t,["labels"],m);const v=g(e,["numberOfImages"]);t!==void 0&&v!=null&&y(t,["parameters","sampleCount"],v);const _=g(e,["mode"]);return t!==void 0&&_!=null&&y(t,["parameters","mode"],_),n}function Q4(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],He(e,r));const i=g(t,["image"]);i!=null&&y(n,["instances[0]","image"],jr(i));const a=g(t,["upscaleFactor"]);a!=null&&y(n,["parameters","upscaleConfig","upscaleFactor"],a);const l=g(t,["config"]);return l!=null&&X4(l,n),n}function Z4(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Xh(a))),y(t,["generatedImages"],i)}return t}function e5(e){const t={},n=g(e,["uri"]);n!=null&&y(t,["uri"],n);const r=g(e,["encodedVideo"]);r!=null&&y(t,["videoBytes"],Ha(r));const i=g(e,["encoding"]);return i!=null&&y(t,["mimeType"],i),t}function t5(e){const t={},n=g(e,["gcsUri"]);n!=null&&y(t,["uri"],n);const r=g(e,["bytesBase64Encoded"]);r!=null&&y(t,["videoBytes"],Ha(r));const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function n5(e){const t={},n=g(e,["image"]);n!=null&&y(t,["_self"],jr(n));const r=g(e,["maskMode"]);return r!=null&&y(t,["maskMode"],r),t}function r5(e){const t={},n=g(e,["image"]);n!=null&&y(t,["image"],Qh(n));const r=g(e,["referenceType"]);return r!=null&&y(t,["referenceType"],r),t}function i5(e){const t={},n=g(e,["image"]);n!=null&&y(t,["image"],jr(n));const r=g(e,["referenceType"]);return r!=null&&y(t,["referenceType"],r),t}function fD(e){const t={},n=g(e,["uri"]);n!=null&&y(t,["uri"],n);const r=g(e,["videoBytes"]);r!=null&&y(t,["encodedVideo"],Ha(r));const i=g(e,["mimeType"]);return i!=null&&y(t,["encoding"],i),t}function dD(e){const t={},n=g(e,["uri"]);n!=null&&y(t,["gcsUri"],n);const r=g(e,["videoBytes"]);r!=null&&y(t,["bytesBase64Encoded"],Ha(r));const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}const a5="Content-Type",o5="X-Server-Timeout",s5="User-Agent",D0="x-goog-api-client",l5="1.30.0",u5=`google-genai-sdk/${l5}`,c5="v1beta1",f5="v1beta",f1=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class d5{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:c5,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:f5,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[l,u]of Object.entries(t.queryParams))i.searchParams.append(l,String(u));let a={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=t.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),t.abortSignal),this.unaryApiCall(i,a,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=t.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),t.abortSignal),this.streamApiCall(i,a,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,i){if(n&&n.timeout||i){const a=new AbortController,l=a.signal;if(n.timeout&&n?.timeout>0){const u=setTimeout(()=>a.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),t.signal=l}return n&&n.extraBody!==null&&h5(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await d1(i),new M0(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await d1(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){var n;return Ws(this,arguments,function*(){const i=(n=t?.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";for(;;){const{done:u,value:c}=yield lt(i.read());if(u){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=a.decode(c,{stream:!0});try{const m=JSON.parse(d);if("error"in m){const v=JSON.parse(JSON.stringify(m.error)),_=v.status,T=v.code,E=`got status: ${_}. ${JSON.stringify(m)}`;if(T>=400&&T<600)throw new Wh({message:E,status:T})}}catch(m){if(m.name==="ApiError")throw m}l+=d;let h=l.match(f1);for(;h;){const m=h[1];try{const v=new Response(m,{headers:t?.headers,status:t?.status,statusText:t?.statusText});yield yield lt(new M0(v)),l=l.slice(h[0].length),h=l.match(f1)}catch(v){throw new Error(`exception parsing stream chunk ${m}. ${v}`)}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=u5+" "+this.clientOptions.userAgentExtra;return t[s5]=n,t[D0]=n,t[a5]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[i,a]of Object.entries(t.headers))r.append(i,a);t.timeout&&t.timeout>0&&r.append(o5,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,l=await a.stat(t);i.sizeBytes=String(l.size);const u=(r=n?.mimeType)!==null&&r!==void 0?r:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c={file:i},d=this.getFileName(t),h=he("upload/v1beta/files",c._url),m=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,d,c,n?.httpOptions);return a.upload(t,m,this)}async uploadFileToFileSearchStore(t,n,r){var i;const a=this.clientOptions.uploader,l=await a.stat(n),u=String(l.size),c=(i=r?.mimeType)!==null&&i!==void 0?i:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${t}:uploadToFileSearchStore`,h=this.getFileName(n),m={};r?.customMetadata&&(m.customMetadata=r.customMetadata),r?.chunkingConfig&&(m.chunkingConfig=r.chunkingConfig);const v=await this.fetchUploadUrl(d,u,c,h,m,r?.httpOptions);return a.uploadToFileSearchStore(n,v,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,i,a,l){var u;let c={};l?c=l:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:t,body:JSON.stringify(a),httpMethod:"POST",httpOptions:c});if(!d||!d?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=d?.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function d1(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Wh({message:i,status:n}):new Error(i)}}function h5(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const a=JSON.parse(e.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,l){const u=Object.assign({},a);for(const c in l)if(Object.prototype.hasOwnProperty.call(l,c)){const d=l[c],h=u[c];d&&typeof d=="object"&&!Array.isArray(d)&&h&&typeof h=="object"&&!Array.isArray(h)?u[c]=r(h,d):(h&&d&&typeof h!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof d}. Overwriting.`),u[c]=d)}return u}const i=r(n,t);e.body=JSON.stringify(i)}const p5="mcp_used/unknown";let m5=!1;function hD(e){for(const t of e)if(g5(t)||typeof t=="object"&&"inputSchema"in t)return!0;return m5}function pD(e){var t;const n=(t=e[D0])!==null&&t!==void 0?t:"";e[D0]=(n+` ${p5}`).trimStart()}function g5(e){return e!==null&&typeof e=="object"&&e instanceof f_}function v5(e,t=100){return Ws(this,arguments,function*(){let r,i=0;for(;i<t;){const a=yield lt(e.listTools({cursor:r}));for(const l of a.tools)yield yield lt(l),i++;if(!a.nextCursor)break;r=a.nextCursor}})}class f_{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new f_(t,n)}async initialize(){var t,n,r,i;if(this.mcpTools.length>0)return;const a={},l=[];for(const h of this.mcpClients)try{for(var u=!0,c=(n=void 0,Hu(v5(h))),d;d=await c.next(),t=d.done,!t;u=!0){i=d.value,u=!1;const m=i;l.push(m);const v=m.name;if(a[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);a[v]=h}}catch(m){n={error:m}}finally{try{!u&&!t&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),uG(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}async function y5(e,t,n){const r=new tG;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),t(r)}class b5{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),l=T5(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const h=new Promise(P=>{d=P}),m=t.callbacks,v=function(){d({})},_=this.apiClient,T={onopen:v,onmessage:P=>{y5(_,m.onmessage,P)},onerror:(n=m?.onerror)!==null&&n!==void 0?n:function(P){},onclose:(r=m?.onclose)!==null&&r!==void 0?r:function(P){}},E=this.webSocketFactory.create(c,S5(l),T);E.connect(),await h;const O={setup:{model:He(this.apiClient,t.model)}};return E.send(JSON.stringify(O)),new _5(E,this.apiClient)}}class _5{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=o6(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=a6(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Fs.PLAY)}pause(){this.sendPlaybackControl(Fs.PAUSE)}stop(){this.sendPlaybackControl(Fs.STOP)}resetContext(){this.sendPlaybackControl(Fs.RESET_CONTEXT)}close(){this.conn.close()}}function S5(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function T5(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}const E5="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function w5(e,t,n){const r=new eG;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(e.isVertexAI()){const l=u6(a);Object.assign(r,l)}else Object.assign(r,a);t(r)}class x5{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new b5(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,i,a,l,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const m=this.apiClient.getHeaders();t.config&&t.config.tools&&hD(t.config.tools)&&pD(m);const v=P5(m);if(this.apiClient.isVertexAI())h=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(v,h);else{const $=this.apiClient.getApiKey();let oe="BidiGenerateContent",V="key";$?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),oe="BidiGenerateContentConstrained",V="access_token"),h=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${oe}?${V}=${$}`}let _=()=>{};const T=new Promise($=>{_=$}),E=t.callbacks,w=function(){var $;($=E?.onopen)===null||$===void 0||$.call(E),_({})},M=this.apiClient,O={onopen:w,onmessage:$=>{w5(M,E.onmessage,$)},onerror:(n=E?.onerror)!==null&&n!==void 0?n:function($){},onclose:(r=E?.onclose)!==null&&r!==void 0?r:function($){}},P=this.webSocketFactory.create(h,M5(v),O);P.connect(),await T;let D=He(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const $=this.apiClient.getProject(),oe=this.apiClient.getLocation();D=`projects/${$}/locations/${oe}/`+D}let N={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Vd.AUDIO]}:t.config.responseModalities=[Vd.AUDIO]),!((a=t.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const R=(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],k=[];for(const $ of R)if(this.isCallableTool($)){const oe=$;k.push(await oe.tool())}else k.push($);k.length>0&&(t.config.tools=k);const B={model:D,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?N=i6(this.apiClient,B):N=r6(this.apiClient,B),delete N.config,P.send(JSON.stringify(N)),new C5(P,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const A5={turnComplete:!0};class C5{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Sr(n.turns),t.isVertexAI()||(r=r.map(i=>Jh(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!t.isVertexAI()&&!("id"in a))throw new Error(E5)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},A5),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:l6(t)}:n={realtimeInput:s6(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function M5(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function P5(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}const h1=10;function p1(e){var t,n,r;if(!((t=e?.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const l of(n=e?.tools)!==null&&n!==void 0?n:[])if(Js(l)){i=!0;break}if(!i)return!0;const a=(r=e?.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Js(e){return"callTool"in e&&typeof e.callTool=="function"}function O5(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>Js(i)))!==null&&r!==void 0?r:!1}function m1(e){var t;const n=[];return!((t=e?.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,i)=>{if(Js(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function g1(e){var t;return!(!((t=e?.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}class N5 extends ta{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,i,a,l,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!O5(n)||p1(n.config))return await this.generateContentInternal(c);const d=m1(n);if(d.length>0){const E=d.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let h,m;const v=Sr(c.contents),_=(a=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:h1;let T=0;for(;T<_&&(h=await this.generateContentInternal(c),!(!h.functionCalls||h.functionCalls.length===0));){const E=h.candidates[0].content,w=[];for(const M of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(Js(M)){const P=await M.callTool(h.functionCalls);w.push(...P)}T++,m={role:"user",parts:w},c.contents=Sr(c.contents),c.contents.push(E),c.contents.push(m),g1(c.config)&&(v.push(E),v.push(m))}return g1(c.config)&&(h.automaticFunctionCallingHistory=v),h},this.generateContentStream=async n=>{var r,i,a,l,u;if(this.maybeMoveToResponseJsonSchem(n),p1(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const c=m1(n);if(c.length>0){const m=c.map(v=>`tools[${v}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(a=(i=(r=n?.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,h=(u=(l=n?.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const l=[];if(r?.generatedImages)for(const c of r.generatedImages)c&&c?.safetyAttributes&&((i=c?.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=c?.safetyAttributes:l.push(c);let u;return a?u={generatedImages:l,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Bo(Gi.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,l,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,i;const a=(n=t.config)===null||n===void 0?void 0:n.tools;if(!a)return t;const l=await Promise.all(a.map(async c=>Js(c)?await c.tool():c)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(u.config.tools=l,t.config&&t.config.tools&&hD(t.config.tools)){const c=(i=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),pD(d),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(t){var n,r,i;const a=new Map;for(const l of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Js(l)){const u=l,c=await u.tool();for(const d of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(a.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);a.set(d.name,u)}}return a}async processAfcStream(t){var n,r,i;const a=(i=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:h1;let l=!1,u=0;const c=await this.initAfcToolsMap(t);return(function(d,h,m){var v,_;return Ws(this,arguments,function*(){for(var T,E,w,M;u<a;){l&&(u++,l=!1);const N=yield lt(d.processParamsMaybeAddMcpUsage(m)),R=yield lt(d.generateContentStreamInternal(N)),k=[],B=[];try{for(var O=!0,P=(E=void 0,Hu(R)),D;D=yield lt(P.next()),T=D.done,!T;O=!0){M=D.value,O=!1;const $=M;if(yield yield lt($),$.candidates&&(!((v=$.candidates[0])===null||v===void 0)&&v.content)){B.push($.candidates[0].content);for(const oe of(_=$.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(u<a&&oe.functionCall){if(!oe.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(oe.functionCall.name)){const V=yield lt(h.get(oe.functionCall.name).callTool([oe.functionCall]));k.push(...V)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${oe.functionCall.name}`)}}}}catch($){E={error:$}}finally{try{!O&&!T&&(w=P.return)&&(yield lt(w.call(P)))}finally{if(E)throw E.error}}if(k.length>0){l=!0;const $=new Tu;$.candidates=[{content:{role:"user",parts:k}}],yield yield lt($);const oe=[];oe.push(...B),oe.push({role:"user",parts:k});const V=Sr(m.contents).concat(oe);m.contents=V}else break}})})(this,c,t)}async generateContentInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=l1(this.apiClient,t);return u=he("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=c1(h),v=new Tu;return Object.assign(v,m),v})}else{const d=s1(this.apiClient,t);return u=he("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=u1(h),v=new Tu;return Object.assign(v,m),v})}}async generateContentStreamInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=l1(this.apiClient,t);return u=he("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(m){return Ws(this,arguments,function*(){var v,_,T,E;try{for(var w=!0,M=Hu(m),O;O=yield lt(M.next()),v=O.done,!v;w=!0){E=O.value,w=!1;const P=E,D=c1(yield lt(P.json()));D.sdkHttpResponse={headers:P.headers};const N=new Tu;Object.assign(N,D),yield yield lt(N)}}catch(P){_={error:P}}finally{try{!w&&!v&&(T=M.return)&&(yield lt(T.call(M)))}finally{if(_)throw _.error}}})})}else{const d=s1(this.apiClient,t);return u=he("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),l.then(function(m){return Ws(this,arguments,function*(){var v,_,T,E;try{for(var w=!0,M=Hu(m),O;O=yield lt(M.next()),v=O.done,!v;w=!0){E=O.value,w=!1;const P=E,D=u1(yield lt(P.json()));D.sdkHttpResponse={headers:P.headers};const N=new Tu;Object.assign(N,D),yield yield lt(N)}}catch(P){_={error:P}}finally{try{!w&&!v&&(T=M.return)&&(yield lt(T.call(M)))}finally{if(_)throw _.error}}})})}}async embedContent(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=j6(this.apiClient,t);return u=he("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=B6(h),v=new GC;return Object.assign(v,m),v})}else{const d=q6(this.apiClient,t);return u=he("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=z6(h),v=new GC;return Object.assign(v,m),v})}}async generateImagesInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Q6(this.apiClient,t);return u=he("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=e4(h),v=new VC;return Object.assign(v,m),v})}else{const d=X6(this.apiClient,t);return u=he("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=Z6(h),v=new VC;return Object.assign(v,m),v})}}async editImageInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=R6(this.apiClient,t);return a=he("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=k6(c),h=new FH;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=Q4(this.apiClient,t);return a=he("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=Z4(c),h=new HH;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=D4(this.apiClient,t);return a=he("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=R4(c),h=new GH;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=z4(this.apiClient,t);return a=he("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=B4(c),h=new VH;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=v4(this.apiClient,t);return u=he("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>I0(h))}else{const d=g4(this.apiClient,t);return u=he("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>N0(h))}}async listInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=A4(this.apiClient,t);return u=he("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=M4(h),v=new KC;return Object.assign(v,m),v})}else{const d=x4(this.apiClient,t);return u=he("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=C4(h),v=new KC;return Object.assign(v,m),v})}}async update(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=J4(this.apiClient,t);return u=he("{model}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>I0(h))}else{const d=W4(this.apiClient,t);return u=he("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>N0(h))}}async delete(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=O6(this.apiClient,t);return u=he("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=I6(h),v=new YC;return Object.assign(v,m),v})}else{const d=P6(this.apiClient,t);return u=he("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=N6(h),v=new YC;return Object.assign(v,m),v})}}async countTokens(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=A6(this.apiClient,t);return u=he("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=M6(h),v=new WC;return Object.assign(v,m),v})}else{const d=x6(this.apiClient,t);return u=he("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=C6(h),v=new WC;return Object.assign(v,m),v})}}async computeTokens(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=y6(this.apiClient,t);return a=he("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=b6(c),h=new KH;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=o4(this.apiClient,t);return u=he("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>{const m=i4(h),v=new Kd;return Object.assign(v,m),v})}else{const d=a4(this.apiClient,t);return u=he("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>{const m=r4(h),v=new Kd;return Object.assign(v,m),v})}}}class I5 extends ta{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=UH(t);return u=he("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l}else{const d=LH(t);return u=he("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l}}async fetchPredictVideosOperationInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=PH(t);return a=he("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}function D5(e){const t={},n=g(e,["data"]);if(n!=null&&y(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function R5(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>F5(a))),y(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&y(t,["role"],r),t}function k5(e,t,n){const r={},i=g(t,["expireTime"]);n!==void 0&&i!=null&&y(n,["expireTime"],i);const a=g(t,["newSessionExpireTime"]);n!==void 0&&a!=null&&y(n,["newSessionExpireTime"],a);const l=g(t,["uses"]);n!==void 0&&l!=null&&y(n,["uses"],l);const u=g(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&y(n,["bidiGenerateContentSetup"],$5(e,u));const c=g(t,["lockAdditionalFields"]);return n!==void 0&&c!=null&&y(n,["fieldMask"],c),r}function L5(e,t){const n={},r=g(t,["config"]);return r!=null&&y(n,["config"],k5(e,r,n)),n}function U5(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function q5(e){const t={},n=g(e,["id"]);n!=null&&y(t,["id"],n);const r=g(e,["args"]);r!=null&&y(t,["args"],r);const i=g(e,["name"]);if(i!=null&&y(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function j5(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function z5(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function B5(e,t){const n={},r=g(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],r);const i=g(e,["responseModalities"]);t!==void 0&&i!=null&&y(t,["setup","generationConfig","responseModalities"],i);const a=g(e,["temperature"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","temperature"],a);const l=g(e,["topP"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","topP"],l);const u=g(e,["topK"]);t!==void 0&&u!=null&&y(t,["setup","generationConfig","topK"],u);const c=g(e,["maxOutputTokens"]);t!==void 0&&c!=null&&y(t,["setup","generationConfig","maxOutputTokens"],c);const d=g(e,["mediaResolution"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","mediaResolution"],d);const h=g(e,["seed"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","seed"],h);const m=g(e,["speechConfig"]);t!==void 0&&m!=null&&y(t,["setup","generationConfig","speechConfig"],c_(m));const v=g(e,["thinkingConfig"]);t!==void 0&&v!=null&&y(t,["setup","generationConfig","thinkingConfig"],v);const _=g(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],_);const T=g(e,["systemInstruction"]);t!==void 0&&T!=null&&y(t,["setup","systemInstruction"],R5(mn(T)));const E=g(e,["tools"]);if(t!==void 0&&E!=null){let R=vl(E);Array.isArray(R)&&(R=R.map(k=>G5(gl(k)))),y(t,["setup","tools"],R)}const w=g(e,["sessionResumption"]);t!==void 0&&w!=null&&y(t,["setup","sessionResumption"],H5(w));const M=g(e,["inputAudioTranscription"]);t!==void 0&&M!=null&&y(t,["setup","inputAudioTranscription"],M);const O=g(e,["outputAudioTranscription"]);t!==void 0&&O!=null&&y(t,["setup","outputAudioTranscription"],O);const P=g(e,["realtimeInputConfig"]);t!==void 0&&P!=null&&y(t,["setup","realtimeInputConfig"],P);const D=g(e,["contextWindowCompression"]);t!==void 0&&D!=null&&y(t,["setup","contextWindowCompression"],D);const N=g(e,["proactivity"]);return t!==void 0&&N!=null&&y(t,["setup","proactivity"],N),n}function $5(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["setup","model"],He(e,r));const i=g(t,["config"]);return i!=null&&y(n,["config"],B5(i,n)),n}function F5(e){const t={},n=g(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const a=g(e,["fileData"]);a!=null&&y(t,["fileData"],U5(a));const l=g(e,["functionCall"]);l!=null&&y(t,["functionCall"],q5(l));const u=g(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const c=g(e,["inlineData"]);c!=null&&y(t,["inlineData"],D5(c));const d=g(e,["text"]);d!=null&&y(t,["text"],d);const h=g(e,["thought"]);h!=null&&y(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const v=g(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function H5(e){const t={},n=g(e,["handle"]);if(n!=null&&y(t,["handle"],n),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function G5(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["googleSearchRetrieval"]);r!=null&&y(t,["googleSearchRetrieval"],r);const i=g(e,["computerUse"]);i!=null&&y(t,["computerUse"],i);const a=g(e,["fileSearch"]);a!=null&&y(t,["fileSearch"],a);const l=g(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],j5(u));const c=g(e,["googleSearch"]);c!=null&&y(t,["googleSearch"],z5(c));const d=g(e,["urlContext"]);return d!=null&&y(t,["urlContext"],d),t}function V5(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);t.push(...i)}else t.push(n)}return t.join(",")}function K5(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(e.bidiGenerateContentSetup=a,n=a):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const a=V5(n);if(Array.isArray(t?.lockAdditionalFields)&&t?.lockAdditionalFields.length===0)a?e.fieldMask=a:delete e.fieldMask;else if(t?.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(d=>l.includes(d)?`generationConfig.${d}`:d));const c=[];a&&c.push(a),u.length>0&&c.push(...u),c.length>0?e.fieldMask=c.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class Y5 extends ta{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=L5(this.apiClient,t);a=he("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const c=K5(u,t.config);return i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}function W5(e,t){const n={},r=g(e,["displayName"]);return t!==void 0&&r!=null&&y(t,["displayName"],r),n}function J5(e){const t={},n=g(e,["config"]);return n!=null&&W5(n,t),t}function X5(e,t){const n={},r=g(e,["force"]);return t!==void 0&&r!=null&&y(t,["_query","force"],r),n}function Q5(e){const t={},n=g(e,["name"]);n!=null&&y(t,["_url","name"],n);const r=g(e,["config"]);return r!=null&&X5(r,t),t}function Z5(e){const t={},n=g(e,["name"]);return n!=null&&y(t,["_url","name"],n),t}function e8(e,t){const n={},r=g(e,["customMetadata"]);if(t!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["customMetadata"],a)}const i=g(e,["chunkingConfig"]);return t!==void 0&&i!=null&&y(t,["chunkingConfig"],i),n}function t8(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["response"]);return l!=null&&y(t,["response"],r8(l)),t}function n8(e){const t={},n=g(e,["fileSearchStoreName"]);n!=null&&y(t,["_url","file_search_store_name"],n);const r=g(e,["fileName"]);r!=null&&y(t,["fileName"],r);const i=g(e,["config"]);return i!=null&&e8(i,t),t}function r8(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["parent"]);r!=null&&y(t,["parent"],r);const i=g(e,["documentName"]);return i!=null&&y(t,["documentName"],i),t}function i8(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function a8(e){const t={},n=g(e,["config"]);return n!=null&&i8(n,t),t}function o8(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["fileSearchStores"],a)}return t}function s8(e,t){const n={},r=g(e,["mimeType"]);t!==void 0&&r!=null&&y(t,["mimeType"],r);const i=g(e,["displayName"]);t!==void 0&&i!=null&&y(t,["displayName"],i);const a=g(e,["customMetadata"]);if(t!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>c)),y(t,["customMetadata"],u)}const l=g(e,["chunkingConfig"]);return t!==void 0&&l!=null&&y(t,["chunkingConfig"],l),n}function l8(e){const t={},n=g(e,["fileSearchStoreName"]);n!=null&&y(t,["_url","file_search_store_name"],n);const r=g(e,["config"]);return r!=null&&s8(r,t),t}function u8(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function c8(e,t){const n={},r=g(e,["force"]);return t!==void 0&&r!=null&&y(t,["_query","force"],r),n}function f8(e){const t={},n=g(e,["name"]);n!=null&&y(t,["_url","name"],n);const r=g(e,["config"]);return r!=null&&c8(r,t),t}function d8(e){const t={},n=g(e,["name"]);return n!=null&&y(t,["_url","name"],n),t}function h8(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function p8(e){const t={},n=g(e,["parent"]);n!=null&&y(t,["_url","parent"],n);const r=g(e,["config"]);return r!=null&&h8(r,t),t}function m8(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["documents"],a)}return t}class g8 extends ta{constructor(t){super(),this.apiClient=t,this.list=async n=>new Bo(Gi.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=d8(t);return a=he("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(t){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=f8(t);i=he("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=p8(t);return a=he("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=m8(c),h=new YH;return Object.assign(h,d),h})}}}class v8 extends ta{constructor(t,n=new g8(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new Bo(Gi.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=J5(t);return a=he("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Z5(t);return a=he("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(t){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Q5(t);i=he("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=a8(t);return a=he("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=o8(c),h=new WH;return Object.assign(h,d),h})}}async uploadToFileSearchStoreInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=l8(t);return a=he("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=u8(c),h=new JH;return Object.assign(h,d),h})}}async importFile(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=n8(t);return a=he("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=t8(c),h=new a_;return Object.assign(h,d),h})}}}function y8(e,t){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function b8(e,t){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function _8(e,t,n){const r={};if(g(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=g(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&y(t,["displayName"],i),g(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=g(e,["epochCount"]);t!==void 0&&a!=null&&y(t,["tuningTask","hyperparameters","epochCount"],a);const l=g(e,["learningRateMultiplier"]);if(l!=null&&y(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),g(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(g(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(g(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=g(e,["batchSize"]);t!==void 0&&u!=null&&y(t,["tuningTask","hyperparameters","batchSize"],u);const c=g(e,["learningRate"]);if(t!==void 0&&c!=null&&y(t,["tuningTask","hyperparameters","learningRate"],c),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(g(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function S8(e,t,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const _=g(e,["validationDataset"]);t!==void 0&&_!=null&&y(t,["supervisedTuningSpec"],v1(_))}else if(i==="PREFERENCE_TUNING"){const _=g(e,["validationDataset"]);t!==void 0&&_!=null&&y(t,["preferenceOptimizationSpec"],v1(_))}const a=g(e,["tunedModelDisplayName"]);t!==void 0&&a!=null&&y(t,["tunedModelDisplayName"],a);const l=g(e,["description"]);t!==void 0&&l!=null&&y(t,["description"],l);let u=g(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const _=g(e,["epochCount"]);t!==void 0&&_!=null&&y(t,["supervisedTuningSpec","hyperParameters","epochCount"],_)}else if(u==="PREFERENCE_TUNING"){const _=g(e,["epochCount"]);t!==void 0&&_!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],_)}let c=g(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const _=g(e,["learningRateMultiplier"]);t!==void 0&&_!=null&&y(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],_)}else if(c==="PREFERENCE_TUNING"){const _=g(e,["learningRateMultiplier"]);t!==void 0&&_!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],_)}let d=g(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const _=g(e,["exportLastCheckpointOnly"]);t!==void 0&&_!=null&&y(t,["supervisedTuningSpec","exportLastCheckpointOnly"],_)}else if(d==="PREFERENCE_TUNING"){const _=g(e,["exportLastCheckpointOnly"]);t!==void 0&&_!=null&&y(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],_)}let h=g(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const _=g(e,["adapterSize"]);t!==void 0&&_!=null&&y(t,["supervisedTuningSpec","hyperParameters","adapterSize"],_)}else if(h==="PREFERENCE_TUNING"){const _=g(e,["adapterSize"]);t!==void 0&&_!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],_)}if(g(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(g(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=g(e,["labels"]);t!==void 0&&m!=null&&y(t,["labels"],m);const v=g(e,["beta"]);return t!==void 0&&v!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","beta"],v),r}function T8(e,t){const n={},r=g(e,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=g(e,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const a=g(e,["trainingDataset"]);a!=null&&D8(a);const l=g(e,["config"]);return l!=null&&_8(l,n),n}function E8(e,t){const n={},r=g(e,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=g(e,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const a=g(e,["trainingDataset"]);a!=null&&R8(a,n,t);const l=g(e,["config"]);return l!=null&&S8(l,n,t),n}function w8(e,t){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function x8(e,t){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function A8(e,t,n){const r={},i=g(e,["pageSize"]);t!==void 0&&i!=null&&y(t,["_query","pageSize"],i);const a=g(e,["pageToken"]);t!==void 0&&a!=null&&y(t,["_query","pageToken"],a);const l=g(e,["filter"]);return t!==void 0&&l!=null&&y(t,["_query","filter"],l),r}function C8(e,t,n){const r={},i=g(e,["pageSize"]);t!==void 0&&i!=null&&y(t,["_query","pageSize"],i);const a=g(e,["pageToken"]);t!==void 0&&a!=null&&y(t,["_query","pageToken"],a);const l=g(e,["filter"]);return t!==void 0&&l!=null&&y(t,["_query","filter"],l),r}function M8(e,t){const n={},r=g(e,["config"]);return r!=null&&A8(r,n),n}function P8(e,t){const n={},r=g(e,["config"]);return r!=null&&C8(r,n),n}function O8(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const a=g(e,["tunedModels"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>mD(u))),y(n,["tuningJobs"],l)}return n}function N8(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const a=g(e,["tuningJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>R0(u))),y(n,["tuningJobs"],l)}return n}function I8(e,t){const n={},r=g(e,["name"]);r!=null&&y(n,["model"],r);const i=g(e,["name"]);return i!=null&&y(n,["endpoint"],i),n}function D8(e,t){const n={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=g(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),y(n,["examples","examples"],i)}return n}function R8(e,t,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=g(e,["gcsUri"]);t!==void 0&&l!=null&&y(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=g(e,["gcsUri"]);t!==void 0&&l!=null&&y(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let a=g(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const l=g(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&y(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(a==="PREFERENCE_TUNING"){const l=g(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&y(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(g(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function mD(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["name"]);i!=null&&y(n,["name"],i);const a=g(e,["state"]);a!=null&&y(n,["state"],JI(a));const l=g(e,["createTime"]);l!=null&&y(n,["createTime"],l);const u=g(e,["tuningTask","startTime"]);u!=null&&y(n,["startTime"],u);const c=g(e,["tuningTask","completeTime"]);c!=null&&y(n,["endTime"],c);const d=g(e,["updateTime"]);d!=null&&y(n,["updateTime"],d);const h=g(e,["description"]);h!=null&&y(n,["description"],h);const m=g(e,["baseModel"]);m!=null&&y(n,["baseModel"],m);const v=g(e,["_self"]);return v!=null&&y(n,["tunedModel"],I8(v)),n}function R0(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["name"]);i!=null&&y(n,["name"],i);const a=g(e,["state"]);a!=null&&y(n,["state"],JI(a));const l=g(e,["createTime"]);l!=null&&y(n,["createTime"],l);const u=g(e,["startTime"]);u!=null&&y(n,["startTime"],u);const c=g(e,["endTime"]);c!=null&&y(n,["endTime"],c);const d=g(e,["updateTime"]);d!=null&&y(n,["updateTime"],d);const h=g(e,["error"]);h!=null&&y(n,["error"],h);const m=g(e,["description"]);m!=null&&y(n,["description"],m);const v=g(e,["baseModel"]);v!=null&&y(n,["baseModel"],v);const _=g(e,["tunedModel"]);_!=null&&y(n,["tunedModel"],_);const T=g(e,["preTunedModel"]);T!=null&&y(n,["preTunedModel"],T);const E=g(e,["supervisedTuningSpec"]);E!=null&&y(n,["supervisedTuningSpec"],E);const w=g(e,["preferenceOptimizationSpec"]);w!=null&&y(n,["preferenceOptimizationSpec"],w);const M=g(e,["tuningDataStats"]);M!=null&&y(n,["tuningDataStats"],M);const O=g(e,["encryptionSpec"]);O!=null&&y(n,["encryptionSpec"],O);const P=g(e,["partnerModelTuningSpec"]);P!=null&&y(n,["partnerModelTuningSpec"],P);const D=g(e,["customBaseModel"]);D!=null&&y(n,["customBaseModel"],D);const N=g(e,["experiment"]);N!=null&&y(n,["experiment"],N);const R=g(e,["labels"]);R!=null&&y(n,["labels"],R);const k=g(e,["outputUri"]);k!=null&&y(n,["outputUri"],k);const B=g(e,["pipelineJob"]);B!=null&&y(n,["pipelineJob"],B);const $=g(e,["serviceAccount"]);$!=null&&y(n,["serviceAccount"],$);const oe=g(e,["tunedModelDisplayName"]);oe!=null&&y(n,["tunedModelDisplayName"],oe);const V=g(e,["veoTuningSpec"]);return V!=null&&y(n,["veoTuningSpec"],V),n}function k8(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["name"]);i!=null&&y(n,["name"],i);const a=g(e,["metadata"]);a!=null&&y(n,["metadata"],a);const l=g(e,["done"]);l!=null&&y(n,["done"],l);const u=g(e,["error"]);return u!=null&&y(n,["error"],u),n}function v1(e,t){const n={},r=g(e,["gcsUri"]);r!=null&&y(n,["validationDatasetUri"],r);const i=g(e,["vertexDatasetResource"]);return i!=null&&y(n,["validationDatasetUri"],i),n}class L8 extends ta{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Bo(Gi.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let l="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?l=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(l=a.name.split("/operations/")[0]),{name:l,state:C0.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=x8(t);return u=he("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>R0(h))}else{const d=w8(t);return u=he("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>mD(h))}}async listInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=P8(t);return u=he("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=N8(h),v=new JC;return Object.assign(v,m),v})}else{const d=M8(t);return u=he("tunedModels",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=O8(h),v=new JC;return Object.assign(v,m),v})}}async cancel(t){var n,r,i,a;let l="",u={};if(this.apiClient.isVertexAI()){const c=b8(t);l=he("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=y8(t);l=he("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async tuneInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=E8(t,t);return a=he("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>R0(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=T8(t);return a=he("tunedModels",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>k8(c))}}}class U8{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const q8=1024*1024*8,j8=3,z8=1e3,B8=2,Wd="x-goog-upload-status";async function $8(e,t,n){var r;const i=await gD(e,t,n),a=await i?.json();if(((r=i?.headers)===null||r===void 0?void 0:r[Wd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function F8(e,t,n){var r;const i=await gD(e,t,n),a=await i?.json();if(((r=i?.headers)===null||r===void 0?void 0:r[Wd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=HI(a),u=new o_;return Object.assign(u,l),u}async function gD(e,t,n){var r,i;let a=0,l=0,u=new M0(new Response),c="upload";for(a=e.size;l<a;){const d=Math.min(q8,a-l),h=e.slice(l,l+d);l+d>=a&&(c+=", finalize");let m=0,v=z8;for(;m<j8&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(l),"Content-Length":String(d)}}}),!(!((r=u?.headers)===null||r===void 0)&&r[Wd]));)m++,await G8(v),v=v*B8;if(l+=d,((i=u?.headers)===null||i===void 0?void 0:i[Wd])!=="active")break;if(a<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function H8(e){return{size:e.size,type:e.type}}function G8(e){return new Promise(t=>setTimeout(t,e))}class V8{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await $8(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await F8(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await H8(t)}}class K8{create(t,n,r){return new Y8(t,n,r)}}class Y8{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const y1="x-goog-api-key";class W8{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(y1)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(y1,this.apiKey)}}}const J8="gl-node/";class vD{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=CH(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion;const i=new W8(this.apiKey);this.apiClient=new d5({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:J8+"web",uploader:new V8,downloader:new U8}),this.models=new N5(this.apiClient),this.live=new x5(this.apiClient,i,new K8),this.batches=new nV(this.apiClient),this.chats=new UV(this.models,this.apiClient),this.caches=new RV(this.apiClient),this.files=new KV(this.apiClient),this.operations=new I5(this.apiClient),this.authTokens=new Y5(this.apiClient),this.tunings=new L8(this.apiClient),this.fileSearchStores=new v8(this.apiClient)}}let Gu=null;function X8(e){localStorage.setItem("gemini_api_key",e),Gu=new vD({apiKey:e})}function yD(){return localStorage.getItem("gemini_api_key")}function k0(){return!!yD()}function Q8(){Gu=null,localStorage.removeItem("gemini_api_key")}function d_(){if(!Gu){const e=yD();if(!e)throw new Error("Gemini API key not set. Add your key in Settings.");Gu=new vD({apiKey:e})}return Gu}function h_(e){return e.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim()}async function Z8(e,t=[]){const n=d_(),r=t&&t.length>0,i=e&&e.trim().length>0;let a="";i&&r?a=`The user provided a text description AND ${t.length} image(s). Use ALL information together - the text gives context, images show the actual food and/or nutrition labels.`:r?a=`The user provided ${t.length} image(s) of their meal. These may include food photos and/or nutrition labels.`:a="The user provided a text description of their meal.";const l=`Analyze this meal and provide complete nutritional breakdown.

${a}

${i?`Text description: "${e}"`:""}

Instructions:
- If you see a NUTRITION LABEL in any image, use those EXACT values for that product
- If you see FOOD in an image, identify items and estimate portions
- Combine information from text AND images to build the complete meal
- If text mentions something not visible in images, include it anyway

Return ONLY valid JSON with no markdown formatting:
{
  "meal_name": "short descriptive name (max 50 chars)",
  "ingredients": [
    {
      "name": "ingredient name",
      "quantity": number,
      "unit": "g" | "ml" | "cup" | "tbsp" | "tsp" | "oz" | "slice" | "piece",
      "grams": number,
      "nutrients": {
        "calories": number,
        "purines": number,
        "protein": number,
        "carbs": number,
        "fat": number,
        "fiber": number,
        "sodium": number,
        "sugar": number
      }
    }
  ],
  "total_nutrients": {
    "calories": number,
    "purines": number,
    "protein": number,
    "carbs": number,
    "fat": number,
    "fiber": number,
    "sodium": number,
    "sugar": number
  }
}

Rules:
- Make reasonable portion estimates if not specified (e.g., "an egg" = 50g, "a glass of juice" = 250ml)
- "grams" is the converted weight in grams for the specified quantity
- "nutrients" are the values for THAT ingredient's quantity (not per 100g)
- "total_nutrients" is the sum of all ingredients
- Use USDA database for calories, protein, carbs, fat, fiber, sodium, sugar
- Use USDA and medical literature for purine values, these need to be as precise as possible
- All values: calories=kcal, purines/sodium=mg, all others=grams

Calculate purines by: (grams / 100)  purine_per_100g`;try{const u=[{text:l}];if(r)for(const h of t)u.push({inlineData:{data:h.base64,mimeType:h.mimeType||"image/jpeg"}});const d=(await n.models.generateContent({model:"gemini-2.5-flash",contents:u})).text;return JSON.parse(h_(d))}catch(u){throw console.error("Failed to analyze meal:",u),new Error(`Failed to analyze meal: ${u.message}`)}}async function eK(e){const t=d_(),n=`Parse this meal description into structured ingredient data:

"${e}"

Return ONLY valid JSON with no markdown formatting:
{
  "meal_name": "short descriptive name (max 50 chars)",
  "ingredients": [
    {
      "name": "ingredient name",
      "quantity": number,
      "unit": "g" | "ml" | "cup" | "tbsp" | "tsp" | "oz" | "slice" | "piece",
      "grams": number
    }
  ]
}

Rules:
- Make reasonable portion estimates if not specified
- "grams" is the TOTAL weight in grams for the specified quantity
- Use realistic weights when estimating portions
- If ambiguous, choose the most common interpretation`;try{const i=(await t.models.generateContent({model:"gemini-2.5-flash",contents:n})).text;return JSON.parse(h_(i))}catch(r){throw console.error("Failed to parse meal:",r),new Error(`Failed to parse meal: ${r.message}`)}}async function tK(e){const t=d_(),n=`Estimate complete nutritional information per 100g for this ingredient:

"${e}"

Return ONLY valid JSON with no markdown formatting:
{
  "calories": number,
  "purines": number,
  "protein": number,
  "carbs": number,
  "fat": number,
  "fiber": number,
  "sodium": number,
  "sugar": number
}

All values in standard units:
- calories: kcal
- purines: mg (CRITICAL - see reference below)
- all others: grams (g) except sodium (mg)

Use USDA database for calories, protein, carbs, fat, fiber, sodium, sugar.
Use USDA and medical literature for purine values. When conflicting purine data exists, average the result.`;try{const i=(await t.models.generateContent({model:"gemini-2.5-flash",contents:n})).text;return JSON.parse(h_(i))}catch(r){throw console.error("Failed to get nutrition:",r),new Error(`Failed to get nutrition data: ${r.message}`)}}async function bD(e,t=[],n=null){const r=await Z8(e,t),i=r.ingredients.map(a=>{const l=a.grams||100,u=100/l,c=Jd(a.nutrients,u);return n&&n({name:a.name,nutrients_per_100g:c,source:"ai"}),{name:a.name,normalized_name:_D(a.name),quantity:a.quantity,unit:a.unit,grams:l,nutrients_per_100g:c,nutrients:a.nutrients}});return{meal_name:r.meal_name,ingredients:i,total_nutrients:r.total_nutrients}}async function nK(e,t=[],n=null){if(!n)return bD(e,t);const{lookup:r,add:i,recordUsage:a}=n,l=await eK(e),u=[],c=[],d=[];for(const m of l.ingredients){const v=_D(m.name),_=r?r(v):null;_&&_.nutrients_per_100g?(d.push({...m,normalizedName:v,cached:_}),a&&a(v)):c.push({...m,normalizedName:v})}if(c.length>0)for(const m of c)try{const v=await tK(m.name),_=m.grams||mv(m.quantity,m.unit),T=_/100,E=Jd(v,T);u.push({name:m.name,normalized_name:m.normalizedName,quantity:m.quantity,unit:m.unit,grams:_,nutrients_per_100g:v,nutrients:E}),i&&i({name:m.name,nutrients_per_100g:v,source:"ai"})}catch(v){console.error(`Failed to get nutrition for ${m.name}:`,v),u.push({name:m.name,normalized_name:m.normalizedName,quantity:m.quantity,unit:m.unit,grams:m.grams||mv(m.quantity,m.unit),nutrients_per_100g:{calories:0,purines:0,protein:0,carbs:0,fat:0,fiber:0,sodium:0,sugar:0},nutrients:{calories:0,purines:0,protein:0,carbs:0,fat:0,fiber:0,sodium:0,sugar:0}})}for(const m of d){const v=m.grams||mv(m.quantity,m.unit),_=v/100,T=Jd(m.cached.nutrients_per_100g,_);u.push({name:m.name,normalized_name:m.normalizedName,quantity:m.quantity,unit:m.unit,grams:v,nutrients_per_100g:m.cached.nutrients_per_100g,nutrients:T})}const h=SD(u);return{meal_name:l.meal_name,ingredients:u,total_nutrients:h,cache_stats:{hits:d.length,misses:c.length}}}function _D(e){return e.toLowerCase().trim().replace(/s$/,"").replace(/ies$/,"y").replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"_")}const rK={g:1,gram:1,grams:1,kg:1e3,oz:28.35,ounce:28.35,ounces:28.35,lb:453.6,pound:453.6,pounds:453.6,cup:240,cups:240,tbsp:15,tablespoon:15,tablespoons:15,tsp:5,teaspoon:5,teaspoons:5,ml:1,slice:30,slices:30,piece:50,pieces:50};function mv(e,t){const n=t.toLowerCase().trim(),r=rK[n]||1;return e*r}function Jd(e,t){const n={};return Object.keys(e).forEach(r=>{n[r]=Math.round(e[r]*t*10)/10}),n}function b1(e,t){const n=e.quantity||1,r=t/n,i=(e.grams||100)*r,a=e.nutrients||e.nutrients_per_unit||{};return{...e,quantity:t,grams:i,nutrients:Jd(a,r)}}function SD(e){return e.reduce((t,n)=>{const r=n.nutrients||n.nutrients_per_unit||{};return Object.keys(r).forEach(i=>{t[i]=(t[i]||0)+r[i]}),t},{})}const iK=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const i=r.result.split(",")[1];t({base64:i,mimeType:e.type||"image/jpeg",preview:r.result,name:e.name})},r.onerror=n,r.readAsDataURL(e)}),gv=[{key:"breakfast",icon:"",label:"Brekkie"},{key:"lunch",icon:"",label:"Lunch"},{key:"dinner",icon:"",label:"Dinner"},{key:"snack",icon:"",label:"Snack"}],vv=e=>{const t=new Date(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`},aK=e=>{const t=[];for(let n=-3;n<=3;n++){const r=new Date(e);r.setDate(r.getDate()+n),t.push({date:r,dateKey:vv(r),dayName:r.toLocaleDateString("en-US",{weekday:"short"}).charAt(0),dayNum:r.getDate(),isToday:vv(r)===vv(new Date)})}return t};function oK(){const{user:e,isLoading:t}=Fa(),[n,r]=x.useState(GA()),[i,a]=x.useState(new Date),[l,u]=x.useState("breakfast"),[c,d]=x.useState(""),[h,m]=x.useState(!1),[v,_]=x.useState(!1),[T,E]=x.useState(null),[w,M]=x.useState([]),O=x.useRef(null),P=x.useRef(null),[D,N]=x.useState(null),[R,k]=x.useState(""),[B,$]=x.useState("snack"),[oe,V]=x.useState(""),[W,fe]=x.useState(null),[pe,be]=x.useState(""),[z,ee]=x.useState(null),[le,ue]=x.useState({}),{meals:we,isLoading:U,addMeal:J,updateMeal:se,deleteMeal:ce,getDailyTotals:K}=n_(n),{totalHydration:de,adjustHydration:_e,isLoading:dt}=$I(n),{addToStash:Z,bottles:Ce}=r_(),{lookupIngredient:Oe,addIngredient:ae,recordUsage:tt}=FI(),yt=[...[{id:"quick-250",name:"+250ml",capacity_ml:250,icon:null},{id:"quick-500",name:"+500ml",capacity_ml:500,icon:null}],...Ce],Tt=aK(i),Ke=e?.thresholds||{},Br=we.filter(ie=>ie.meal_type!=="hydration"),bn={...K(n)},Wa=EH(bn,Ke),Go=t||U||dt,ne=async ie=>{await _e(ie)},Ie=ie=>{r(ie)},Mn=ie=>{const xe=new Date(i);xe.setDate(xe.getDate()+(ie==="next"?7:-7)),a(xe)},Ja=async ie=>{const xe=Array.from(ie.target.files||[]);if(xe.length!==0){try{const Re=await Promise.all(xe.map(iK));M(at=>[...at,...Re])}catch(Re){console.error("Failed to read image:",Re),E("Failed to read image. Please try again.")}ie.target.value=""}},Uc=ie=>{M(xe=>xe.filter((Re,at)=>at!==ie))},Vo=async ie=>{ie.preventDefault();const xe=c.trim().length>0,Re=w.length>0;if(!(!xe&&!Re)){if(E(null),!k0()){await J({date:n,meal_type:l,meal_name:xe?c:"Meal with photos",ingredients:[],total_nutrients:{calories:0,purines:0,protein:0,carbs:0,fat:0,fiber:0,sodium:0,sugar:0},hydration_ml:0,analysis_method:"manual"}),d(""),M([]);return}_(!0);try{const at=w.map(Fr=>({base64:Fr.base64,mimeType:Fr.mimeType}));let $t,fn,si,Qa;if(Re){const Fr=await bD(c,at,ae);$t=Fr.meal_name,fn=Fr.ingredients,si=Fr.total_nutrients,Qa={hits:0,misses:fn.length}}else{const Za=await nK(c,[],{lookup:Oe,add:ae,recordUsage:tt});$t=Za.meal_name,fn=Za.ingredients,si=Za.total_nutrients,Qa=Za.cache_stats,Qa&&console.log(` Ingredient cache: ${Qa.hits} hits, ${Qa.misses} AI calls`)}const zc={date:n,meal_type:l,meal_name:$t,description:c,ingredients:fn,total_nutrients:si,hydration_ml:0,analysis_method:Re?"ai-vision":"ai",image_count:w.length};await J(zc),d(""),M([])}catch(at){console.error("AI parsing failed:",at),E(at.message||"Failed to analyze meal. Try again or check your API key.")}finally{_(!1)}}},jp=async ie=>{confirm("Delete this meal?")&&await ce(ie)},qc=ie=>{N(ie),k(ie.meal_name),$(ie.meal_type),V(ie.date)},zp=async()=>{D&&(await se(D.id,{meal_name:R,meal_type:B,date:oe}),N(null))},jc=()=>{N(null),k(""),$("snack"),V("")},Xa=ie=>{fe(ie),be(GA())},_n=async()=>{if(!W||!pe)return;const ie={date:pe,meal_type:W.meal_type,meal_name:W.meal_name,description:W.description,ingredients:W.ingredients,total_nutrients:W.total_nutrients,hydration_ml:0,analysis_method:"copy"};await J(ie),fe(null),alert(`Meal copied to ${pe}! `)},$r=ie=>{ee({mealId:ie.id,originalIngredients:ie.ingredients,ingredients:[...ie.ingredients]}),ue({})},Sn=(ie,xe)=>{const Re=parseFloat(xe)||0;ue(at=>({...at,[ie]:Re}))},Bp=async()=>{if(!z)return;const ie=z.ingredients.map((Re,at)=>le[at]!==void 0&&le[at]!==Re.quantity?b1(Re,le[at]):Re),xe=SD(ie);await se(z.mealId,{ingredients:ie,total_nutrients:xe}),ee(null),ue({})},$p=async ie=>{if(!z)return;const xe=z.ingredients.filter(($t,fn)=>fn!==ie);ee($t=>({...$t,ingredients:xe}));const Re={...le};delete Re[ie];const at={};Object.keys(Re).forEach($t=>{const fn=parseInt($t);fn>ie?at[fn-1]=Re[$t]:at[fn]=Re[$t]}),ue(at)},Fp=()=>{ee(null),ue({})},Ko=async ie=>{await Z({type:"meal",name:ie.meal_name,ingredients:ie.ingredients||[],total_nutrients:ie.total_nutrients||{},use_count:0});const xe=e?.stats?.meals_saved_to_stash||0;await updateStats({meals_saved_to_stash:xe+1}),alert(`"${ie.meal_name}" saved to your Dragon's Hoard! `)},Yo=(ie=>{const[xe,Re,at]=ie.split("-").map(Number);return new Date(xe,Re-1,at)})(n).toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"});return Go?A.jsxs("div",{className:"page diary-page",children:[A.jsx(Hi,{title:"Dragon Keeper",subtitle:"Loading..."}),A.jsxs("div",{className:"loading-state card",children:[A.jsx("div",{className:"spinner"}),A.jsx("p",{children:"Waking up the dragon..."})]})]}):A.jsxs("div",{className:"page diary-page",children:[A.jsx(Hi,{title:"Dragon Keeper",subtitle:`Feeding log for ${Yo}`}),A.jsxs("div",{className:"calendar-ribbon card",children:[A.jsx("button",{className:"cal-nav",onClick:()=>Mn("prev"),"aria-label":"Previous week",children:""}),A.jsx("div",{className:"cal-days",children:Tt.map(ie=>{const xe=ie.dateKey===n;return A.jsxs("button",{className:`cal-day ${xe?"active":""} ${ie.isToday?"today":""}`,onClick:()=>Ie(ie.dateKey),children:[A.jsx("span",{className:"cal-day-name",children:ie.dayName}),A.jsx("span",{className:"cal-day-num",children:ie.dayNum}),ie.isToday&&A.jsx("span",{className:"cal-day-indicator",children:""})]},ie.dateKey)})}),A.jsx("button",{className:"cal-nav",onClick:()=>Mn("next"),"aria-label":"Next week",children:""})]}),A.jsx("div",{className:"meal-type-selector",children:gv.map(ie=>A.jsxs("button",{className:`meal-type-btn ${l===ie.key?"active":""}`,onClick:()=>u(ie.key),children:[A.jsx("span",{className:"meal-icon",children:ie.icon}),A.jsx("span",{className:"meal-label",children:ie.label})]},ie.key))}),A.jsxs("form",{className:"meal-input-section card",onSubmit:Vo,children:[A.jsx("label",{className:"input-label",children:"What did your dragon eat? "}),A.jsx("div",{className:"input-row",children:A.jsx("input",{type:"text",placeholder:w.length>0?"Add context or just tap Log It!":"e.g., grilled chicken with rice...",value:c,onChange:ie=>d(ie.target.value),disabled:v})}),w.length>0&&A.jsx("div",{className:"attached-images",children:w.map((ie,xe)=>A.jsxs("div",{className:"attached-image",children:[A.jsx("img",{src:ie.preview,alt:`Attached ${xe+1}`}),A.jsx("button",{type:"button",className:"remove-image-btn",onClick:()=>Uc(xe),"aria-label":"Remove image",children:""})]},xe))}),T&&A.jsx("div",{className:"ai-error",children:A.jsxs("span",{children:[" ",T]})}),A.jsx("input",{type:"file",ref:O,accept:"image/*",capture:"environment",onChange:Ja,style:{display:"none"}}),A.jsx("input",{type:"file",ref:P,accept:"image/*",multiple:!0,onChange:Ja,style:{display:"none"}}),A.jsxs("div",{className:"input-actions",children:[A.jsx("button",{type:"button",className:"btn btn-secondary",disabled:v,children:""}),A.jsx("button",{type:"button",className:"btn btn-secondary",disabled:v,onClick:()=>O.current?.click(),title:"Take a photo",children:""}),A.jsx("button",{type:"button",className:"btn btn-secondary",disabled:v,onClick:()=>P.current?.click(),title:"Choose from gallery",children:""}),A.jsx("button",{type:"submit",className:"btn btn-primary btn-lg",disabled:v||!c.trim()&&w.length===0,children:v?A.jsx(A.Fragment,{children:" Analyzing..."}):A.jsx(A.Fragment,{children:"Log It! "})})]}),!k0()&&A.jsx("p",{className:"no-api-hint text-muted text-sm",children:" Set up AI in Settings  Dragon's Intelligence to auto-analyze meals!"})]}),A.jsxs("div",{className:"hydration-section card",children:[A.jsxs("div",{className:"hydration-header",children:[A.jsx("span",{className:"hydration-title",children:" Dragon's Hydration"}),A.jsxs("span",{className:"hydration-value",children:[de,"/",Ke.hydration_target||2e3,"ml"]})]}),A.jsx("div",{className:"progress-bar",children:A.jsx("div",{className:`progress-bar-fill ${de>=(Ke.hydration_target||2e3)?"success":"warning"}`,style:{width:`${Math.min(de/(Ke.hydration_target||2e3)*100,100)}%`}})}),A.jsxs("div",{className:"hydration-buttons",children:[A.jsx("button",{className:"btn btn-secondary btn-danger-outline",onClick:()=>ne(-250),children:"250"}),yt.map(ie=>A.jsxs("button",{className:"btn btn-secondary",onClick:()=>ne(ie.capacity_ml),children:[ie.icon||"",ie.icon?" ":"",ie.name||`+${ie.capacity_ml}ml`]},ie.id))]})]}),A.jsxs("section",{className:"meals-section",children:[A.jsx("h2",{className:"section-title",children:"Today's Feast"}),Br.length===0?A.jsxs("div",{className:"empty-state card",children:[A.jsx(x0,{state:"curious"}),A.jsx("p",{children:"No meals logged yet today!"}),A.jsx("p",{className:"text-muted",children:"Feed your dragon to get started."})]}):A.jsx("div",{className:"meals-list",children:Br.map(ie=>A.jsxs("div",{className:"meal-card card",children:[A.jsxs("div",{className:"meal-header",children:[A.jsx("span",{className:"meal-type-badge",children:gv.find(xe=>xe.key===ie.meal_type)?.icon||""}),A.jsx("h3",{className:"meal-name",children:ie.meal_name})]}),ie.ingredients&&ie.ingredients.length>0&&A.jsx("div",{className:"meal-ingredients-section",children:z?.mealId===ie.id?A.jsxs("div",{className:"ingredients-edit-mode",children:[A.jsx("ul",{className:"meal-ingredients editing",children:z.ingredients.map((xe,Re)=>{const at=le[Re]!==void 0?le[Re]:xe.quantity,$t=le[Re]!==void 0?b1(xe,le[Re]):xe;return A.jsxs("li",{className:"ingredient-edit-row",children:[A.jsxs("span",{className:"ing-name",children:[" ",xe.name]}),A.jsx("input",{type:"number",className:"ing-qty-input",value:at,onChange:fn=>Sn(Re,fn.target.value),min:"0",step:"0.1"}),A.jsx("span",{className:"ing-unit",children:xe.unit}),A.jsxs("span",{className:"ing-nutrients",children:["",Math.round(($t.nutrients||$t.nutrients_per_unit)?.calories||0),"  ",Math.round(($t.nutrients||$t.nutrients_per_unit)?.purines||0)]}),A.jsx("button",{className:"btn-icon btn-delete-ing",onClick:()=>$p(Re),title:"Remove ingredient",children:""})]},Re)})}),A.jsxs("div",{className:"ingredient-edit-actions",children:[A.jsx("button",{className:"btn btn-secondary btn-sm",onClick:Fp,children:"Cancel"}),A.jsx("button",{className:"btn btn-primary btn-sm",onClick:Bp,children:" Save Changes"})]})]}):A.jsxs(A.Fragment,{children:[A.jsx("ul",{className:"meal-ingredients",children:ie.ingredients.map((xe,Re)=>A.jsxs("li",{children:[A.jsxs("span",{className:"ing-name",children:[" ",xe.name]}),A.jsxs("span",{className:"ing-qty",children:["(",xe.quantity||"?",xe.unit||"g",")"]}),A.jsxs("span",{className:"ing-nutrients",children:["",Math.round((xe.nutrients||xe.nutrients_per_unit)?.calories||0),"  ",Math.round((xe.nutrients||xe.nutrients_per_unit)?.purines||0)]})]},Re))}),A.jsx("button",{type:"button",className:"btn btn-secondary btn-sm btn-edit-ingredients",onClick:xe=>{xe.preventDefault(),xe.stopPropagation(),$r(ie)},children:" Edit quantities"})]})}),A.jsxs("div",{className:"meal-nutrients meal-totals",children:[A.jsx("span",{className:"total-label",children:"Total:"}),A.jsxs("span",{children:[" ",Math.round(ie.total_nutrients?.calories||0)," cal"]}),A.jsxs("span",{children:[" ",Math.round(ie.total_nutrients?.purines||0),"mg"]})]}),A.jsxs("div",{className:"meal-actions",children:[A.jsx("button",{className:"btn btn-secondary",onClick:()=>qc(ie),children:" Edit"}),A.jsx("button",{className:"btn btn-secondary",onClick:()=>Xa(ie),children:" Copy"}),A.jsx("button",{className:"btn btn-secondary",onClick:()=>jp(ie.id),children:""}),A.jsx("button",{className:"btn btn-secondary",onClick:()=>Ko(ie),children:" Stash"})]})]},ie.id))})]}),A.jsxs("section",{className:"daily-status card",children:[A.jsxs("div",{className:"status-header",onClick:()=>m(!h),children:[A.jsx("h3",{children:" Dragon's Daily Status"}),A.jsx(x0,{state:Wa,showMessage:!1,size:"small"}),A.jsx("span",{className:"toggle-hint",children:h?"":""})]}),A.jsx(Ci,{nutrient:"calories",value:bn.calories||0,target:Ke.calories_max||2e3,min:Ke.calories_min||1500,max:Ke.calories_max||2e3}),A.jsx(Ci,{nutrient:"purines",value:bn.purines||0,target:Ke.purines_max||400,max:Ke.purines_max||400}),h&&A.jsxs("div",{className:"all-nutrients animate-fade-in",children:[A.jsx(Ci,{nutrient:"protein",value:bn.protein||0,target:Ke.protein_target||60,compact:!0}),A.jsx(Ci,{nutrient:"carbs",value:bn.carbs||0,target:Ke.carbs_target||250,compact:!0}),A.jsx(Ci,{nutrient:"fat",value:bn.fat||0,target:Ke.fat_target||65,compact:!0}),A.jsx(Ci,{nutrient:"fiber",value:bn.fiber||0,target:Ke.fiber_target||30,compact:!0}),A.jsx(Ci,{nutrient:"sodium",value:bn.sodium||0,target:Ke.sodium_max||2300,max:Ke.sodium_max||2300,compact:!0}),A.jsx(Ci,{nutrient:"sugar",value:bn.sugar||0,target:Ke.sugar_max||50,max:Ke.sugar_max||50,compact:!0}),A.jsx(Ci,{nutrient:"hydration",value:de,target:Ke.hydration_target||2e3,compact:!0})]})]}),D&&A.jsx("div",{className:"modal-overlay",onClick:jc,children:A.jsxs("div",{className:"modal-content card",onClick:ie=>ie.stopPropagation(),children:[A.jsx("h2",{children:" Edit Meal"}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Meal Name"}),A.jsx("input",{type:"text",value:R,onChange:ie=>k(ie.target.value),placeholder:"e.g., Grilled Chicken"})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Meal Type"}),A.jsx("select",{value:B,onChange:ie=>$(ie.target.value),children:gv.map(ie=>A.jsxs("option",{value:ie.key,children:[ie.icon," ",ie.label]},ie.key))})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Date (move to different day)"}),A.jsx("input",{type:"date",value:oe,onChange:ie=>V(ie.target.value)})]}),A.jsxs("div",{className:"modal-actions",children:[A.jsx("button",{className:"btn btn-secondary",onClick:jc,children:"Cancel"}),A.jsx("button",{className:"btn btn-primary",onClick:zp,children:" Save"})]})]})}),W&&A.jsx("div",{className:"modal-overlay",onClick:()=>fe(null),children:A.jsxs("div",{className:"modal-content card",onClick:ie=>ie.stopPropagation(),children:[A.jsx("h2",{children:" Copy Meal"}),A.jsxs("p",{children:['Copy "',W.meal_name,'" to another date:']}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Target Date"}),A.jsx("input",{type:"date",value:pe,onChange:ie=>be(ie.target.value)})]}),A.jsxs("div",{className:"modal-actions",children:[A.jsx("button",{className:"btn btn-secondary",onClick:()=>fe(null),children:"Cancel"}),A.jsx("button",{className:"btn btn-primary",onClick:_n,children:" Copy Meal"})]})]})})]})}function TD(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=TD(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Xe(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=TD(e))&&(r&&(r+=" "),r+=t);return r}var sK=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function p_(e){if(typeof e!="string")return!1;var t=sK;return t.includes(e)}var lK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],uK=new Set(lK);function ED(e){return typeof e!="string"?!1:uK.has(e)}function wD(e){return typeof e=="string"&&e.startsWith("data-")}function Zr(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(ED(n)||wD(n))&&(t[n]=e[n]);return t}function Zh(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Zr(t)}return typeof e=="object"&&!Array.isArray(e)?Zr(e):null}function yn(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(ED(n)||wD(n)||p_(n))&&(t[n]=e[n]);return t}function cK(e){return e==null?null:x.isValidElement(e)?yn(e.props):typeof e=="object"&&!Array.isArray(e)?yn(e):null}var fK=["children","width","height","viewBox","className","style","title","desc"];function L0(){return L0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L0.apply(null,arguments)}function dK(e,t){if(e==null)return{};var n,r,i=hK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var m_=x.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:l,style:u,title:c,desc:d}=e,h=dK(e,fK),m=a||{width:r,height:i,x:0,y:0},v=Xe("recharts-surface",l);return x.createElement("svg",L0({},yn(h),{className:v,width:r,height:i,style:u,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),x.createElement("title",null,c),x.createElement("desc",null,d),n)}),pK=["children","className"];function U0(){return U0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U0.apply(null,arguments)}function mK(e,t){if(e==null)return{};var n,r,i=gK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Vi=x.forwardRef((e,t)=>{var{children:n,className:r}=e,i=mK(e,pK),a=Xe("recharts-layer",r);return x.createElement("g",U0({className:a},yn(i),{ref:t}),n)}),xD=x.createContext(null),vK=()=>x.useContext(xD);function it(e){return function(){return e}}const AD=Math.cos,Xd=Math.sin,zr=Math.sqrt,Qd=Math.PI,ep=2*Qd,q0=Math.PI,j0=2*q0,yo=1e-6,yK=j0-yo;function CD(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function bK(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return CD;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class _K{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?CD:bK(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,u=this._y1,c=r-t,d=i-n,h=l-t,m=u-n,v=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>yo)if(!(Math.abs(m*c-d*h)>yo)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let _=r-l,T=i-u,E=c*c+d*d,w=_*_+T*T,M=Math.sqrt(E),O=Math.sqrt(v),P=a*Math.tan((q0-Math.acos((E+v-w)/(2*M*O)))/2),D=P/O,N=P/M;Math.abs(D-1)>yo&&this._append`L${t+D*h},${n+D*m}`,this._append`A${a},${a},0,0,${+(m*_>h*T)},${this._x1=t+N*c},${this._y1=n+N*d}`}}arc(t,n,r,i,a,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),c=r*Math.sin(i),d=t+u,h=n+c,m=1^l,v=l?i-a:a-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>yo||Math.abs(this._y1-h)>yo)&&this._append`L${d},${h}`,r&&(v<0&&(v=v%j0+j0),v>yK?this._append`A${r},${r},0,1,${m},${t-u},${n-c}A${r},${r},0,1,${m},${this._x1=d},${this._y1=h}`:v>yo&&this._append`A${r},${r},0,${+(v>=q0)},${m},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function g_(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new _K(t)}function v_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function MD(e){this._context=e}MD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function tp(e){return new MD(e)}function PD(e){return e[0]}function OD(e){return e[1]}function ND(e,t){var n=it(!0),r=null,i=tp,a=null,l=g_(u);e=typeof e=="function"?e:e===void 0?PD:it(e),t=typeof t=="function"?t:t===void 0?OD:it(t);function u(c){var d,h=(c=v_(c)).length,m,v=!1,_;for(r==null&&(a=i(_=l())),d=0;d<=h;++d)!(d<h&&n(m=c[d],d,c))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+e(m,d,c),+t(m,d,c));if(_)return a=null,_+""||null}return u.x=function(c){return arguments.length?(e=typeof c=="function"?c:it(+c),u):e},u.y=function(c){return arguments.length?(t=typeof c=="function"?c:it(+c),u):t},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:it(!!c),u):n},u.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),u):i},u.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),u):r},u}function od(e,t,n){var r=null,i=it(!0),a=null,l=tp,u=null,c=g_(d);e=typeof e=="function"?e:e===void 0?PD:it(+e),t=typeof t=="function"?t:it(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?OD:it(+n);function d(m){var v,_,T,E=(m=v_(m)).length,w,M=!1,O,P=new Array(E),D=new Array(E);for(a==null&&(u=l(O=c())),v=0;v<=E;++v){if(!(v<E&&i(w=m[v],v,m))===M)if(M=!M)_=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),T=v-1;T>=_;--T)u.point(P[T],D[T]);u.lineEnd(),u.areaEnd()}M&&(P[v]=+e(w,v,m),D[v]=+t(w,v,m),u.point(r?+r(w,v,m):P[v],n?+n(w,v,m):D[v]))}if(O)return u=null,O+""||null}function h(){return ND().defined(i).curve(l).context(a)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:it(+m),r=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:it(+m),d):e},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:it(+m),d):r},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:it(+m),n=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:it(+m),d):t},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:it(+m),d):n},d.lineX0=d.lineY0=function(){return h().x(e).y(t)},d.lineY1=function(){return h().x(e).y(n)},d.lineX1=function(){return h().x(r).y(t)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:it(!!m),d):i},d.curve=function(m){return arguments.length?(l=m,a!=null&&(u=l(a)),d):l},d.context=function(m){return arguments.length?(m==null?a=u=null:u=l(a=m),d):a},d}class ID{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function SK(e){return new ID(e,!0)}function TK(e){return new ID(e,!1)}const y_={draw(e,t){const n=zr(t/Qd);e.moveTo(n,0),e.arc(0,0,n,0,ep)}},EK={draw(e,t){const n=zr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},DD=zr(1/3),wK=DD*2,xK={draw(e,t){const n=zr(t/wK),r=n*DD;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},AK={draw(e,t){const n=zr(t),r=-n/2;e.rect(r,r,n,n)}},CK=.8908130915292852,RD=Xd(Qd/10)/Xd(7*Qd/10),MK=Xd(ep/10)*RD,PK=-AD(ep/10)*RD,OK={draw(e,t){const n=zr(t*CK),r=MK*n,i=PK*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const l=ep*a/5,u=AD(l),c=Xd(l);e.lineTo(c*n,-u*n),e.lineTo(u*r-c*i,c*r+u*i)}e.closePath()}},yv=zr(3),NK={draw(e,t){const n=-zr(t/(yv*3));e.moveTo(0,n*2),e.lineTo(-yv*n,-n),e.lineTo(yv*n,-n),e.closePath()}},pr=-.5,mr=zr(3)/2,z0=1/zr(12),IK=(z0/2+1)*3,DK={draw(e,t){const n=zr(t/IK),r=n/2,i=n*z0,a=r,l=n*z0+n,u=-a,c=l;e.moveTo(r,i),e.lineTo(a,l),e.lineTo(u,c),e.lineTo(pr*r-mr*i,mr*r+pr*i),e.lineTo(pr*a-mr*l,mr*a+pr*l),e.lineTo(pr*u-mr*c,mr*u+pr*c),e.lineTo(pr*r+mr*i,pr*i-mr*r),e.lineTo(pr*a+mr*l,pr*l-mr*a),e.lineTo(pr*u+mr*c,pr*c-mr*u),e.closePath()}};function RK(e,t){let n=null,r=g_(i);e=typeof e=="function"?e:it(e||y_),t=typeof t=="function"?t:it(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:it(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:it(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Zd(){}function eh(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function kD(e){this._context=e}kD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:eh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:eh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function kK(e){return new kD(e)}function LD(e){this._context=e}LD.prototype={areaStart:Zd,areaEnd:Zd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:eh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function LK(e){return new LD(e)}function UD(e){this._context=e}UD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:eh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function UK(e){return new UD(e)}function qD(e){this._context=e}qD.prototype={areaStart:Zd,areaEnd:Zd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function qK(e){return new qD(e)}function _1(e){return e<0?-1:1}function S1(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),u=(a*i+l*r)/(r+i);return(_1(a)+_1(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(u))||0}function T1(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function bv(e,t,n){var r=e._x0,i=e._y0,a=e._x1,l=e._y1,u=(a-r)/3;e._context.bezierCurveTo(r+u,i+u*t,a-u,l-u*n,a,l)}function th(e){this._context=e}th.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:bv(this,this._t0,T1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,bv(this,T1(this,n=S1(this,e,t)),n);break;default:bv(this,this._t0,n=S1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function jD(e){this._context=new zD(e)}(jD.prototype=Object.create(th.prototype)).point=function(e,t){th.prototype.point.call(this,t,e)};function zD(e){this._context=e}zD.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function jK(e){return new th(e)}function zK(e){return new jD(e)}function BD(e){this._context=e}BD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=E1(e),i=E1(t),a=0,l=1;l<n;++a,++l)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function E1(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),l=new Array(n);for(i[0]=0,a[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,l[t]-=r*l[t-1];for(i[n-1]=l[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(l[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function BK(e){return new BD(e)}function np(e,t){this._context=e,this._t=t}np.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function $K(e){return new np(e,.5)}function FK(e){return new np(e,0)}function HK(e){return new np(e,1)}function nl(e,t){if((l=e.length)>1)for(var n=1,r,i,a=e[t[0]],l,u=a.length;n<l;++n)for(i=a,a=e[t[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function B0(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function GK(e,t){return e[t]}function VK(e){const t=[];return t.key=e,t}function KK(){var e=it([]),t=B0,n=nl,r=GK;function i(a){var l=Array.from(e.apply(this,arguments),VK),u,c=l.length,d=-1,h;for(const m of a)for(u=0,++d;u<c;++u)(l[u][d]=[0,+r(m,l[u].key,d,a)]).data=m;for(u=0,h=v_(t(l));u<c;++u)l[h[u]].index=u;return n(l,h),l}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:it(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:it(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?B0:typeof a=="function"?a:it(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??nl,i):n},i}function YK(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,l;i<a;++i){for(l=n=0;n<r;++n)l+=e[n][i][1]||0;if(l)for(n=0;n<r;++n)e[n][i][1]/=l}nl(e,t)}}function WK(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var l=0,u=0;l<i;++l)u+=e[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}nl(e,t)}}function JK(e,t){if(!(!((l=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,l;r<a;++r){for(var u=0,c=0,d=0;u<l;++u){for(var h=e[t[u]],m=h[r][1]||0,v=h[r-1][1]||0,_=(m-v)/2,T=0;T<u;++T){var E=e[t[T]],w=E[r][1]||0,M=E[r-1][1]||0;_+=w-M}c+=m,d+=_*m}i[r-1][1]+=i[r-1][0]=n,c&&(n-=d/c)}i[r-1][1]+=i[r-1][0]=n,nl(e,t)}}var _v={},Sv={},w1;function XK(){return w1||(w1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Sv)),Sv}var Tv={},x1;function $D(){return x1||(x1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Tv)),Tv}var Ev={},A1;function b_(){return A1||(A1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(Ev)),Ev}var wv={},xv={},C1;function QK(){return C1||(C1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(xv)),xv}var M1;function __(){return M1||(M1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QK(),n=b_();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],l=i.length;if(l===0)return a;let u=0,c="",d="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),u++);u<l;){const m=i[u];d?m==="\\"&&u+1<l?(u++,c+=i[u]):m===d?d="":c+=m:h?m==='"'||m==="'"?d=m:m==="]"?(h=!1,a.push(c),c=""):c+=m:m==="["?(h=!0,c&&(a.push(c),c="")):m==="."?c&&(a.push(c),c=""):c+=m,u++}return c&&a.push(c),a}e.toPath=r})(wv)),wv}var P1;function S_(){return P1||(P1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XK(),n=$D(),r=b_(),i=__();function a(u,c,d){if(u==null)return d;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return d;const h=u[c];return h===void 0?n.isDeepKey(c)?a(u,i.toPath(c),d):d:h}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const h=u[c];return h===void 0?d:h}default:{if(Array.isArray(c))return l(u,c,d);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return d;const h=u[c];return h===void 0?d:h}}}function l(u,c,d){if(c.length===0)return d;let h=u;for(let m=0;m<c.length;m++){if(h==null||t.isUnsafeProperty(c[m]))return d;h=h[c[m]]}return h===void 0?d:h}e.get=a})(_v)),_v}var Av,O1;function ZK(){return O1||(O1=1,Av=S_().get),Av}var eY=ZK();const rp=Zi(eY);var br=e=>e===0?0:e>0?1:-1,Er=e=>typeof e=="number"&&e!=+e,Ki=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ee=e=>(typeof e=="number"||e instanceof Number)&&!Er(e),wr=e=>Ee(e)||typeof e=="string",tY=0,Wu=e=>{var t=++tY;return"".concat(e||"").concat(t)},ja=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ee(t)&&typeof t!="string")return r;var a;if(Ki(t)){if(n==null)return r;var l=t.indexOf("%");a=n*parseFloat(t.slice(0,l))/100}else a=+t;return Er(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},FD=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function jn(e,t,n){return Ee(e)&&Ee(t)?e+n*(t-e):t}function HD(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):rp(r,t))===n)}var Jt=e=>e===null||typeof e>"u",vc=e=>Jt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function nY(e){return e!=null}function yc(){}var rY=["type","size","sizeType"];function $0(){return $0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$0.apply(null,arguments)}function N1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function I1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N1(Object(n),!0).forEach(function(r){iY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iY(e,t,n){return(t=aY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aY(e){var t=oY(e,"string");return typeof t=="symbol"?t:t+""}function oY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sY(e,t){if(e==null)return{};var n,r,i=lY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var GD={symbolCircle:y_,symbolCross:EK,symbolDiamond:xK,symbolSquare:AK,symbolStar:OK,symbolTriangle:NK,symbolWye:DK},uY=Math.PI/180,cY=e=>{var t="symbol".concat(vc(e));return GD[t]||y_},fY=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*uY;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},dY=(e,t)=>{GD["symbol".concat(vc(e))]=t},T_=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=sY(e,rY),a=I1(I1({},i),{},{type:t,size:n,sizeType:r}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var v=cY(l),_=RK().type(v).size(fY(n,r,l)),T=_();if(T!==null)return T},{className:c,cx:d,cy:h}=a,m=yn(a);return Ee(d)&&Ee(h)&&Ee(n)?x.createElement("path",$0({},m,{className:Xe("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(h,")"),d:u()})):null};T_.registerSymbol=dY;var VD=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,E_=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{p_(i)&&(r[i]=(a=>n[i](n,a)))}),r},hY=(e,t,n)=>r=>(e(t,n,r),null),KD=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];p_(i)&&typeof a=="function"&&(r||(r={}),r[i]=hY(a,t,n))}),r};function D1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D1(Object(n),!0).forEach(function(r){mY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mY(e,t,n){return(t=gY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gY(e){var t=vY(e,"string");return typeof t=="symbol"?t:t+""}function vY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function un(e,t){var n=pY({},e),r=t,i=Object.keys(t),a=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return a}function nh(){return nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nh.apply(null,arguments)}function R1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R1(Object(n),!0).forEach(function(r){bY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bY(e,t,n){return(t=_Y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Y(e){var t=SY(e,"string");return typeof t=="symbol"?t:t+""}function SY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vr=32,TY={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function EY(e){var{data:t,iconType:n,inactiveColor:r}=e,i=vr/2,a=vr/6,l=vr/3,u=t.inactive?r:t.color,c=n??t.type;if(c==="none")return null;if(c==="plainline"){var d;return x.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(d=t.payload)===null||d===void 0?void 0:d.strokeDasharray,x1:0,y1:i,x2:vr,y2:i,className:"recharts-legend-icon"})}if(c==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(vr,"M").concat(2*l,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return x.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(vr/8,"h").concat(vr,"v").concat(vr*3/4,"h").concat(-vr,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var h=yY({},t);return delete h.legendIcon,x.cloneElement(t.legendIcon,h)}return x.createElement(T_,{fill:u,cx:i,cy:i,size:vr,sizeType:"diameter",type:c})}function wY(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:l}=e,u={x:0,y:0,width:vr,height:vr},c={display:r==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,m)=>{var v=h.formatter||i,_=Xe({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:h.inactive});if(h.type==="none")return null;var T=h.inactive?a:h.color,E=v?v(h.value,h,m):h.value;return x.createElement("li",nh({className:_,style:c,key:"legend-item-".concat(m)},KD(e,h,m)),x.createElement(m_,{width:n,height:n,viewBox:u,style:d,"aria-label":"".concat(E," legend icon")},x.createElement(EY,{data:h,iconType:l,inactiveColor:a})),x.createElement("span",{className:"recharts-legend-item-text",style:{color:T}},E))})}var xY=e=>{var t=un(e,TY),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:a},x.createElement(wY,nh({},t,{payload:n})))},Cv={},Mv={},k1;function AY(){return k1||(k1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const l=n[a],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}e.uniqBy=t})(Mv)),Mv}var Pv={},L1;function YD(){return L1||(L1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Pv)),Pv}var Ov={},Nv={},Iv={},U1;function CY(){return U1||(U1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Iv)),Iv}var q1;function w_(){return q1||(q1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CY();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Nv)),Nv}var Dv={},j1;function MY(){return j1||(j1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(Dv)),Dv}var z1;function PY(){return z1||(z1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w_(),n=MY();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(Ov)),Ov}var Rv={},kv={},B1;function OY(){return B1||(B1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S_();function n(r){return function(i){return t.get(i,r)}}e.property=n})(kv)),kv}var Lv={},Uv={},qv={},jv={},$1;function WD(){return $1||($1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(jv)),jv}var zv={},F1;function JD(){return F1||(F1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(zv)),zv}var Bv={},H1;function XD(){return H1||(H1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(Bv)),Bv}var G1;function NY(){return G1||(G1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WD(),n=JD(),r=XD();function i(h,m,v){return typeof v!="function"?i(h,m,()=>{}):a(h,m,function _(T,E,w,M,O,P){const D=v(T,E,w,M,O,P);return D!==void 0?!!D:a(T,E,_,P)},new Map)}function a(h,m,v,_){if(m===h)return!0;switch(typeof m){case"object":return l(h,m,v,_);case"function":return Object.keys(m).length>0?a(h,{...m},v,_):r.eq(h,m);default:return t.isObject(h)?typeof m=="string"?m==="":!0:r.eq(h,m)}}function l(h,m,v,_){if(m==null)return!0;if(Array.isArray(m))return c(h,m,v,_);if(m instanceof Map)return u(h,m,v,_);if(m instanceof Set)return d(h,m,v,_);const T=Object.keys(m);if(h==null)return T.length===0;if(T.length===0)return!0;if(_?.has(m))return _.get(m)===h;_?.set(m,h);try{for(let E=0;E<T.length;E++){const w=T[E];if(!n.isPrimitive(h)&&!(w in h)||m[w]===void 0&&h[w]!==void 0||m[w]===null&&h[w]!==null||!v(h[w],m[w],w,h,m,_))return!1}return!0}finally{_?.delete(m)}}function u(h,m,v,_){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[T,E]of m.entries()){const w=h.get(T);if(v(w,E,T,h,m,_)===!1)return!1}return!0}function c(h,m,v,_){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const T=new Set;for(let E=0;E<m.length;E++){const w=m[E];let M=!1;for(let O=0;O<h.length;O++){if(T.has(O))continue;const P=h[O];let D=!1;if(v(P,w,E,h,m,_)&&(D=!0),D){T.add(O),M=!0;break}}if(!M)return!1}return!0}function d(h,m,v,_){return m.size===0?!0:h instanceof Set?c([...h],[...m],v,_):!1}e.isMatchWith=i,e.isSetMatch=d})(qv)),qv}var V1;function QD(){return V1||(V1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NY();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(Uv)),Uv}var $v={},Fv={},Hv={},K1;function IY(){return K1||(K1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(Hv)),Hv}var Gv={},Y1;function ZD(){return Y1||(Y1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(Gv)),Gv}var Vv={},W1;function eR(){return W1||(W1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",l="[object Symbol]",u="[object Date]",c="[object Map]",d="[object Set]",h="[object Array]",m="[object Function]",v="[object ArrayBuffer]",_="[object Object]",T="[object Error]",E="[object DataView]",w="[object Uint8Array]",M="[object Uint8ClampedArray]",O="[object Uint16Array]",P="[object Uint32Array]",D="[object BigUint64Array]",N="[object Int8Array]",R="[object Int16Array]",k="[object Int32Array]",B="[object BigInt64Array]",$="[object Float32Array]",oe="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=v,e.arrayTag=h,e.bigInt64ArrayTag=B,e.bigUint64ArrayTag=D,e.booleanTag=i,e.dataViewTag=E,e.dateTag=u,e.errorTag=T,e.float32ArrayTag=$,e.float64ArrayTag=oe,e.functionTag=m,e.int16ArrayTag=R,e.int32ArrayTag=k,e.int8ArrayTag=N,e.mapTag=c,e.numberTag=r,e.objectTag=_,e.regexpTag=t,e.setTag=d,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=O,e.uint32ArrayTag=P,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=M})(Vv)),Vv}var Kv={},J1;function DY(){return J1||(J1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(Kv)),Kv}var X1;function tR(){return X1||(X1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IY(),n=ZD(),r=eR(),i=JD(),a=DY();function l(h,m){return u(h,void 0,h,new Map,m)}function u(h,m,v,_=new Map,T=void 0){const E=T?.(h,m,v,_);if(E!==void 0)return E;if(i.isPrimitive(h))return h;if(_.has(h))return _.get(h);if(Array.isArray(h)){const w=new Array(h.length);_.set(h,w);for(let M=0;M<h.length;M++)w[M]=u(h[M],M,v,_,T);return Object.hasOwn(h,"index")&&(w.index=h.index),Object.hasOwn(h,"input")&&(w.input=h.input),w}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const w=new RegExp(h.source,h.flags);return w.lastIndex=h.lastIndex,w}if(h instanceof Map){const w=new Map;_.set(h,w);for(const[M,O]of h)w.set(M,u(O,M,v,_,T));return w}if(h instanceof Set){const w=new Set;_.set(h,w);for(const M of h)w.add(u(M,void 0,v,_,T));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const w=new(Object.getPrototypeOf(h)).constructor(h.length);_.set(h,w);for(let M=0;M<h.length;M++)w[M]=u(h[M],M,v,_,T);return w}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const w=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return _.set(h,w),c(w,h,v,_,T),w}if(typeof File<"u"&&h instanceof File){const w=new File([h],h.name,{type:h.type});return _.set(h,w),c(w,h,v,_,T),w}if(typeof Blob<"u"&&h instanceof Blob){const w=new Blob([h],{type:h.type});return _.set(h,w),c(w,h,v,_,T),w}if(h instanceof Error){const w=new h.constructor;return _.set(h,w),w.message=h.message,w.name=h.name,w.stack=h.stack,w.cause=h.cause,c(w,h,v,_,T),w}if(h instanceof Boolean){const w=new Boolean(h.valueOf());return _.set(h,w),c(w,h,v,_,T),w}if(h instanceof Number){const w=new Number(h.valueOf());return _.set(h,w),c(w,h,v,_,T),w}if(h instanceof String){const w=new String(h.valueOf());return _.set(h,w),c(w,h,v,_,T),w}if(typeof h=="object"&&d(h)){const w=Object.create(Object.getPrototypeOf(h));return _.set(h,w),c(w,h,v,_,T),w}return h}function c(h,m,v=h,_,T){const E=[...Object.keys(m),...t.getSymbols(m)];for(let w=0;w<E.length;w++){const M=E[w],O=Object.getOwnPropertyDescriptor(h,M);(O==null||O.writable)&&(h[M]=u(m[M],M,v,_,T))}}function d(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=c})(Fv)),Fv}var Q1;function RY(){return Q1||(Q1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tR();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})($v)),$v}var Z1;function kY(){return Z1||(Z1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QD(),n=RY();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(Lv)),Lv}var Yv={},Wv={},Jv={},eM;function LY(){return eM||(eM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tR(),n=eR();function r(i,a){return t.cloneDeepWith(i,(l,u,c,d)=>{const h=a?.(l,u,c,d);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i?.valueOf());return t.copyProperties(m,i),m}case n.argumentsTag:{const m={};return t.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}e.cloneDeepWith=r})(Jv)),Jv}var tM;function UY(){return tM||(tM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LY();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(Wv)),Wv}var Xv={},Qv={},nM;function nR(){return nM||(nM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Qv)),Qv}var Zv={},rM;function qY(){return rM||(rM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZD();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(Zv)),Zv}var iM;function jY(){return iM||(iM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$D(),n=nR(),r=qY(),i=__();function a(l,u){let c;if(Array.isArray(u)?c=u:typeof u=="string"&&t.isDeepKey(u)&&l?.[u]==null?c=i.toPath(u):c=[u],c.length===0)return!1;let d=l;for(let h=0;h<c.length;h++){const m=c[h];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}e.has=a})(Xv)),Xv}var aM;function zY(){return aM||(aM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QD(),n=b_(),r=UY(),i=S_(),a=jY();function l(u,c){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return c=r.cloneDeep(c),function(d){const h=i.get(d,u);return h===void 0?a.has(d,u):c===void 0?h===void 0:t.isMatch(h,c)}}e.matchesProperty=l})(Yv)),Yv}var oM;function BY(){return oM||(oM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YD(),n=OY(),r=kY(),i=zY();function a(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=a})(Rv)),Rv}var sM;function $Y(){return sM||(sM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AY(),n=YD(),r=PY(),i=BY();function a(l,u=n.identity){return r.isArrayLikeObject(l)?t.uniqBy(Array.from(l),i.iteratee(u)):[]}e.uniqBy=a})(Cv)),Cv}var ey,lM;function FY(){return lM||(lM=1,ey=$Y().uniqBy),ey}var HY=FY();const uM=Zi(HY);function rR(e,t,n){return t===!0?uM(e,n):typeof t=="function"?uM(e,t):e}var ty={exports:{}},ny={},ry={exports:{}},iy={};var cM;function GY(){if(cM)return iy;cM=1;var e=cl();function t(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,l=e.useDebugValue;function u(m,v){var _=v(),T=r({inst:{value:_,getSnapshot:v}}),E=T[0].inst,w=T[1];return a(function(){E.value=_,E.getSnapshot=v,c(E)&&w({inst:E})},[m,_,v]),i(function(){return c(E)&&w({inst:E}),m(function(){c(E)&&w({inst:E})})},[m]),l(_),_}function c(m){var v=m.getSnapshot;m=m.value;try{var _=v();return!n(m,_)}catch{return!0}}function d(m,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return iy.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,iy}var fM;function VY(){return fM||(fM=1,ry.exports=GY()),ry.exports}var dM;function KY(){if(dM)return ny;dM=1;var e=cl(),t=VY();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,l=e.useEffect,u=e.useMemo,c=e.useDebugValue;return ny.useSyncExternalStoreWithSelector=function(d,h,m,v,_){var T=a(null);if(T.current===null){var E={hasValue:!1,value:null};T.current=E}else E=T.current;T=u(function(){function M(R){if(!O){if(O=!0,P=R,R=v(R),_!==void 0&&E.hasValue){var k=E.value;if(_(k,R))return D=k}return D=R}if(k=D,r(P,R))return k;var B=v(R);return _!==void 0&&_(k,B)?(P=R,k):(P=R,D=B)}var O=!1,P,D,N=m===void 0?null:m;return[function(){return M(h())},N===null?void 0:function(){return M(N())}]},[h,m,v,_]);var w=i(d,T[0],T[1]);return l(function(){E.hasValue=!0,E.value=w},[w]),c(w),w},ny}var hM;function YY(){return hM||(hM=1,ty.exports=KY()),ty.exports}var WY=YY(),x_=x.createContext(null),JY=e=>e,Ct=()=>{var e=x.useContext(x_);return e?e.store.dispatch:JY},Id=()=>{},XY=()=>Id,QY=(e,t)=>e===t;function ye(e){var t=x.useContext(x_);return WY.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:XY,t?t.store.getState:Id,t?t.store.getState:Id,t?e:Id,QY)}function ZY(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function e9(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function t9(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var pM=e=>Array.isArray(e)?e:[e];function n9(e){const t=Array.isArray(e[0])?e[0]:e;return t9(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function r9(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var i9=class{constructor(e){this.value=e}deref(){return this.value}},a9=typeof WeakRef<"u"?WeakRef:i9,o9=0,mM=1;function sd(){return{s:o9,v:void 0,o:null,p:null}}function iR(e,t={}){let n=sd();const{resultEqualityCheck:r}=t;let i,a=0;function l(){let u=n;const{length:c}=arguments;for(let m=0,v=c;m<v;m++){const _=arguments[m];if(typeof _=="function"||typeof _=="object"&&_!==null){let T=u.o;T===null&&(u.o=T=new WeakMap);const E=T.get(_);E===void 0?(u=sd(),T.set(_,u)):u=E}else{let T=u.p;T===null&&(u.p=T=new Map);const E=T.get(_);E===void 0?(u=sd(),T.set(_,u)):u=E}}const d=u;let h;if(u.s===mM)h=u.v;else if(h=e.apply(null,arguments),a++,r){const m=i?.deref?.()??i;m!=null&&r(m,h)&&(h=m,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new a9(h):h}return d.s=mM,d.v=h,h}return l.clearCache=()=>{n=sd(),l.resetResultsCount()},l.resultsCount=()=>a,l.resetResultsCount=()=>{a=0},l}function s9(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,l=0,u,c={},d=i.pop();typeof d=="object"&&(c=d,d=i.pop()),ZY(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...c},{memoize:m,memoizeOptions:v=[],argsMemoize:_=iR,argsMemoizeOptions:T=[]}=h,E=pM(v),w=pM(T),M=n9(i),O=m(function(){return a++,d.apply(null,arguments)},...E),P=_(function(){l++;const N=r9(M,arguments);return u=O.apply(null,N),u},...w);return Object.assign(P,{resultFunc:d,memoizedResultFunc:O,dependencies:M,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:m,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var X=s9(iR),l9=Object.assign((e,t=X)=>{e9(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((l,u,c)=>(l[n[c]]=u,l),{}))},{withTypes:()=>l9}),ay={},oy={},sy={},gM;function u9(){return gM||(gM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const l=t(r),u=t(i);if(l===u&&l===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?u-l:l-u}return 0};e.compareValues=n})(sy)),sy}var ly={},uy={},vM;function aR(){return vM||(vM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(uy)),uy}var yM;function c9(){return yM||(yM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aR(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,l){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||l!=null&&Object.hasOwn(l,a)}e.isKey=i})(ly)),ly}var bM;function f9(){return bM||(bM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u9(),n=c9(),r=__();function i(a,l,u,c){if(a==null)return[];u=c?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(_=>String(_));const d=(_,T)=>{let E=_;for(let w=0;w<T.length&&E!=null;++w)E=E[T[w]];return E},h=(_,T)=>T==null||_==null?T:typeof _=="object"&&"key"in _?Object.hasOwn(T,_.key)?T[_.key]:d(T,_.path):typeof _=="function"?_(T):Array.isArray(_)?d(T,_):typeof T=="object"?T[_]:T,m=l.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return a.map(_=>({original:_,criteria:m.map(T=>h(T,_))})).slice().sort((_,T)=>{for(let E=0;E<m.length;E++){const w=t.compareValues(_.criteria[E],T.criteria[E],u[E]);if(w!==0)return w}return 0}).map(_=>_.original)}e.orderBy=i})(oy)),oy}var cy={},_M;function d9(){return _M||(_M=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),l=(u,c)=>{for(let d=0;d<u.length;d++){const h=u[d];Array.isArray(h)&&c<a?l(h,c+1):i.push(h)}};return l(n,0),i}e.flatten=t})(cy)),cy}var fy={},SM;function oR(){return SM||(SM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nR(),n=w_(),r=WD(),i=XD();function a(l,u,c){return r.isObject(c)&&(typeof u=="number"&&n.isArrayLike(c)&&t.isIndex(u)&&u<c.length||typeof u=="string"&&u in c)?i.eq(c[u],l):!1}e.isIterateeCall=a})(fy)),fy}var TM;function h9(){return TM||(TM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f9(),n=d9(),r=oR();function i(a,...l){const u=l.length;return u>1&&r.isIterateeCall(a,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(a,n.flatten(l),["asc"])}e.sortBy=i})(ay)),ay}var dy,EM;function p9(){return EM||(EM=1,dy=h9().sortBy),dy}var m9=p9();const ip=Zi(m9);var sR=e=>e.legend.settings,g9=e=>e.legend.size,v9=e=>e.legend.payload,y9=X([v9,sR],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?ip(r,n):r});function b9(){return ye(y9)}var ld=1;function lR(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),l={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(l.height-t.height)>ld||Math.abs(l.left-t.left)>ld||Math.abs(l.top-t.top)>ld||Math.abs(l.width-t.width)>ld)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function an(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var _9=typeof Symbol=="function"&&Symbol.observable||"@@observable",wM=_9,hy=()=>Math.random().toString(36).substring(7).split("").join("."),S9={INIT:`@@redux/INIT${hy()}`,REPLACE:`@@redux/REPLACE${hy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${hy()}`},rh=S9;function A_(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function uR(e,t,n){if(typeof e!="function")throw new Error(an(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(an(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(an(1));return n(uR)(e,t)}let r=e,i=t,a=new Map,l=a,u=0,c=!1;function d(){l===a&&(l=new Map,a.forEach((w,M)=>{l.set(M,w)}))}function h(){if(c)throw new Error(an(3));return i}function m(w){if(typeof w!="function")throw new Error(an(4));if(c)throw new Error(an(5));let M=!0;d();const O=u++;return l.set(O,w),function(){if(M){if(c)throw new Error(an(6));M=!1,d(),l.delete(O),a=null}}}function v(w){if(!A_(w))throw new Error(an(7));if(typeof w.type>"u")throw new Error(an(8));if(typeof w.type!="string")throw new Error(an(17));if(c)throw new Error(an(9));try{c=!0,i=r(i,w)}finally{c=!1}return(a=l).forEach(O=>{O()}),w}function _(w){if(typeof w!="function")throw new Error(an(10));r=w,v({type:rh.REPLACE})}function T(){const w=m;return{subscribe(M){if(typeof M!="object"||M===null)throw new Error(an(11));function O(){const D=M;D.next&&D.next(h())}return O(),{unsubscribe:w(O)}},[wM](){return this}}}return v({type:rh.INIT}),{dispatch:v,subscribe:m,getState:h,replaceReducer:_,[wM]:T}}function T9(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:rh.INIT})>"u")throw new Error(an(12));if(typeof n(void 0,{type:rh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(an(13))})}function cR(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const l=t[a];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let i;try{T9(n)}catch(a){i=a}return function(l={},u){if(i)throw i;let c=!1;const d={};for(let h=0;h<r.length;h++){const m=r[h],v=n[m],_=l[m],T=v(_,u);if(typeof T>"u")throw u&&u.type,new Error(an(14));d[m]=T,c=c||T!==_}return c=c||r.length!==Object.keys(l).length,c?d:l}}function ih(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function E9(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(an(15))};const l={getState:i.getState,dispatch:(c,...d)=>a(c,...d)},u=e.map(c=>c(l));return a=ih(...u)(i.dispatch),{...i,dispatch:a}}}function fR(e){return A_(e)&&"type"in e&&typeof e.type=="string"}var dR=Symbol.for("immer-nothing"),xM=Symbol.for("immer-draftable"),xn=Symbol.for("immer-state");function Dr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var er=Object,rl=er.getPrototypeOf,ah="constructor",ap="prototype",F0="configurable",oh="enumerable",Dd="writable",Ju="value",Yi=e=>!!e&&!!e[xn];function ei(e){return e?hR(e)||op(e)||!!e[xM]||!!e[ah]?.[xM]||sp(e)||lp(e):!1}var w9=er[ap][ah].toString(),AM=new WeakMap;function hR(e){if(!e||!C_(e))return!1;const t=rl(e);if(t===null||t===er[ap])return!0;const n=er.hasOwnProperty.call(t,ah)&&t[ah];if(n===Object)return!0;if(!Bs(n))return!1;let r=AM.get(n);return r===void 0&&(r=Function.toString.call(n),AM.set(n,r)),r===w9}function bc(e,t,n=!0){_c(e)===0?(n?Reflect.ownKeys(e):er.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function _c(e){const t=e[xn];return t?t.type_:op(e)?1:sp(e)?2:lp(e)?3:0}var CM=(e,t,n=_c(e))=>n===2?e.has(t):er[ap].hasOwnProperty.call(e,t),H0=(e,t,n=_c(e))=>n===2?e.get(t):e[t],sh=(e,t,n,r=_c(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function x9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var op=Array.isArray,sp=e=>e instanceof Map,lp=e=>e instanceof Set,C_=e=>typeof e=="object",Bs=e=>typeof e=="function",py=e=>typeof e=="boolean",Ni=e=>e.copy_||e.base_,M_=e=>e.modified_?e.copy_:e.base_;function G0(e,t){if(sp(e))return new Map(e);if(lp(e))return new Set(e);if(op(e))return Array[ap].slice.call(e);const n=hR(e);if(t===!0||t==="class_only"&&!n){const r=er.getOwnPropertyDescriptors(e);delete r[xn];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],u=r[l];u[Dd]===!1&&(u[Dd]=!0,u[F0]=!0),(u.get||u.set)&&(r[l]={[F0]:!0,[Dd]:!0,[oh]:u[oh],[Ju]:e[l]})}return er.create(rl(e),r)}else{const r=rl(e);if(r!==null&&n)return{...e};const i=er.create(r);return er.assign(i,e)}}function P_(e,t=!1){return up(e)||Yi(e)||(_c(e)>1&&er.defineProperties(e,{set:ud,add:ud,clear:ud,delete:ud}),er.freeze(e),t&&bc(e,(n,r)=>{P_(r,!0)},!1)),e}function A9(){Dr(2)}var ud={[Ju]:A9};function up(e){return e===null||!C_(e)?!0:er.isFrozen(e)}var lh="MapSet",V0="Patches",pR={};function il(e){const t=pR[e];return t||Dr(0,e),t}var C9=e=>!!pR[e],Xu,mR=()=>Xu,M9=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:C9(lh)?il(lh):void 0});function MM(e,t){t&&(e.patchPlugin_=il(V0),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function K0(e){Y0(e),e.drafts_.forEach(P9),e.drafts_=null}function Y0(e){e===Xu&&(Xu=e.parent_)}var PM=e=>Xu=M9(Xu,e);function P9(e){const t=e[xn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function OM(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[xn].modified_&&(K0(t),Dr(4)),ei(e)&&(e=NM(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[xn].base_,e,t)}else e=NM(t,n);return O9(t,e,!0),K0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==dR?e:void 0}function NM(e,t){if(up(t))return t;const n=t[xn];if(!n)return O_(t,e.handledSet_,e);if(!cp(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);yR(n,e)}return n.copy_}function O9(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&P_(t,n)}function gR(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var cp=(e,t)=>e.scope_===t,N9=[];function vR(e,t,n,r){const i=Ni(e),a=e.type_;if(r!==void 0&&H0(i,r,a)===t){sh(i,r,n,a);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;bc(i,(c,d)=>{if(Yi(d)){const h=u.get(d)||[];h.push(c),u.set(d,h)}})}const l=e.draftLocations_.get(t)??N9;for(const u of l)sh(i,u,n,a)}function I9(e,t,n){e.callbacks_.push(function(i){const a=t;if(!a||!cp(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const l=M_(a);vR(e,a.draft_??a,l,n),yR(a,i)})}function yR(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}gR(e)}}function D9(e,t,n){const{scope_:r}=e;if(Yi(n)){const i=n[xn];cp(i,r)&&i.callbacks_.push(function(){Rd(e);const l=M_(i);vR(e,n,l,t)})}else ei(n)&&e.callbacks_.push(function(){const a=Ni(e);H0(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&O_(H0(e.copy_,t,e.type_),r.handledSet_,r)})}function O_(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Yi(e)||t.has(e)||!ei(e)||up(e)||(t.add(e),bc(e,(r,i)=>{if(Yi(i)){const a=i[xn];if(cp(a,n)){const l=M_(a);sh(e,r,l,e.type_),gR(a)}}else ei(i)&&O_(i,t,n)})),e}function R9(e,t){const n=op(e),r={type_:n?1:0,scope_:t?t.scope_:mR(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=N_;n&&(i=[r],a=Qu);const{revoke:l,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=l,[u,r]}var N_={get(e,t){if(t===xn)return e;const n=Ni(e);if(!CM(n,t,e.type_))return k9(e,n,t);const r=n[t];if(e.finalized_||!ei(r))return r;if(r===my(e.base_,t)){Rd(e);const i=e.type_===1?+t:t,a=J0(e.scope_,r,e,i);return e.copy_[i]=a}return r},has(e,t){return t in Ni(e)},ownKeys(e){return Reflect.ownKeys(Ni(e))},set(e,t,n){const r=bR(Ni(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=my(Ni(e),t),a=i?.[xn];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(x9(n,i)&&(n!==void 0||CM(e.base_,t,e.type_)))return!0;Rd(e),W0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),D9(e,t,n)),!0},deleteProperty(e,t){return Rd(e),my(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),W0(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ni(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Dd]:!0,[F0]:e.type_!==1||t!=="length",[oh]:r[oh],[Ju]:n[t]}},defineProperty(){Dr(11)},getPrototypeOf(e){return rl(e.base_)},setPrototypeOf(){Dr(12)}},Qu={};bc(N_,(e,t)=>{Qu[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});Qu.deleteProperty=function(e,t){return Qu.set.call(this,e,t,void 0)};Qu.set=function(e,t,n){return N_.set.call(this,e[0],t,n,e[0])};function my(e,t){const n=e[xn];return(n?Ni(n):e)[t]}function k9(e,t,n){const r=bR(t,n);return r?Ju in r?r[Ju]:r.get?.call(e.draft_):void 0}function bR(e,t){if(!(t in e))return;let n=rl(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=rl(n)}}function W0(e){e.modified_||(e.modified_=!0,e.parent_&&W0(e.parent_))}function Rd(e){e.copy_||(e.assigned_=new Map,e.copy_=G0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var L9=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Bs(n)&&!Bs(r)){const l=r;r=n;const u=this;return function(d=l,...h){return u.produce(d,m=>r.call(this,m,...h))}}Bs(r)||Dr(6),i!==void 0&&!Bs(i)&&Dr(7);let a;if(ei(n)){const l=PM(this),u=J0(l,n,void 0);let c=!0;try{a=r(u),c=!1}finally{c?K0(l):Y0(l)}return MM(l,i),OM(a,l)}else if(!n||!C_(n)){if(a=r(n),a===void 0&&(a=n),a===dR&&(a=void 0),this.autoFreeze_&&P_(a,!0),i){const l=[],u=[];il(V0).generateReplacementPatches_(n,a,{patches_:l,inversePatches_:u}),i(l,u)}return a}else Dr(1,n)},this.produceWithPatches=(n,r)=>{if(Bs(n))return(u,...c)=>this.produceWithPatches(u,d=>n(d,...c));let i,a;return[this.produce(n,r,(u,c)=>{i=u,a=c}),i,a]},py(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),py(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),py(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ei(t)||Dr(8),Yi(t)&&(t=Lr(t));const n=PM(this),r=J0(n,t,void 0);return r[xn].isManual_=!0,Y0(n),r}finishDraft(t,n){const r=t&&t[xn];(!r||!r.isManual_)&&Dr(9);const{scope_:i}=r;return MM(i,n),OM(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=il(V0).applyPatches_;return Yi(t)?i(t,n):this.produce(t,a=>i(a,n))}};function J0(e,t,n,r){const[i,a]=sp(t)?il(lh).proxyMap_(t,n):lp(t)?il(lh).proxySet_(t,n):R9(t,n);return(n?.scope_??mR()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?I9(n,a,r):a.callbacks_.push(function(c){c.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:d}=c;a.modified_&&d&&d.generatePatches_(a,[],c)}),i}function Lr(e){return Yi(e)||Dr(10,e),_R(e)}function _R(e){if(!ei(e)||up(e))return e;const t=e[xn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=G0(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=G0(e,!0);return bc(n,(i,a)=>{sh(n,i,_R(a))},r),t&&(t.finalized_=!1),n}var U9=new L9,SR=U9.produce;function TR(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var q9=TR(),j9=TR,z9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ih:ih.apply(null,arguments)};function xr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(nr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>fR(r)&&r.type===e,n}var ER=class ku extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ku.prototype)}static get[Symbol.species](){return ku}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ku(...t[0].concat(this)):new ku(...t.concat(this))}};function IM(e){return ei(e)?SR(e,()=>{}):e}function cd(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function B9(e){return typeof e=="boolean"}var $9=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let l=new ER;return n&&(B9(n)?l.push(q9):l.push(j9(n.extraArgument))),l},wR="RTK_autoBatch",mt=()=>e=>({payload:e,meta:{[wR]:!0}}),DM=e=>t=>{setTimeout(t,e)},xR=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,l=!1;const u=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:DM(10):e.type==="callback"?e.queueNotification:DM(e.timeout),d=()=>{l=!1,a&&(a=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const m=()=>i&&h(),v=r.subscribe(m);return u.add(h),()=>{v(),u.delete(h)}},dispatch(h){try{return i=!h?.meta?.[wR],a=!i,a&&(l||(l=!0,c(d))),r.dispatch(h)}finally{i=!0}}})},F9=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new ER(e);return r&&i.push(xR(typeof r=="object"?r:void 0)),i};function H9(e){const t=$9(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:l=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(A_(n))u=cR(n);else throw new Error(nr(1));let c;typeof r=="function"?c=r(t):c=t();let d=ih;i&&(d=z9({trace:!1,...typeof i=="object"&&i}));const h=E9(...c),m=F9(h);let v=typeof l=="function"?l(m):m();const _=d(...v);return uR(u,a,_)}function AR(e){const t={},n=[];let r;const i={addCase(a,l){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(nr(28));if(u in t)throw new Error(nr(29));return t[u]=l,i},addAsyncThunk(a,l){return l.pending&&(t[a.pending.type]=l.pending),l.rejected&&(t[a.rejected.type]=l.rejected),l.fulfilled&&(t[a.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:a.settled,reducer:l.settled}),i},addMatcher(a,l){return n.push({matcher:a,reducer:l}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function G9(e){return typeof e=="function"}function V9(e,t){let[n,r,i]=AR(t),a;if(G9(e))a=()=>IM(e());else{const u=IM(e);a=()=>u}function l(u=a(),c){let d=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,m)=>{if(m)if(Yi(h)){const _=m(h,c);return _===void 0?h:_}else{if(ei(h))return SR(h,v=>m(v,c));{const v=m(h,c);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},u)}return l.getInitialState=a,l}var K9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Y9=(e=21)=>{let t="",n=e;for(;n--;)t+=K9[Math.random()*64|0];return t},W9=Symbol.for("rtk-slice-createasyncthunk");function J9(e,t){return`${e}/${t}`}function X9({creators:e}={}){const t=e?.asyncThunk?.[W9];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(nr(11));const l=(typeof r.reducers=="function"?r.reducers(Z9()):r.reducers)||{},u=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(P,D){const N=typeof P=="string"?P:P.type;if(!N)throw new Error(nr(12));if(N in c.sliceCaseReducersByType)throw new Error(nr(13));return c.sliceCaseReducersByType[N]=D,d},addMatcher(P,D){return c.sliceMatchers.push({matcher:P,reducer:D}),d},exposeAction(P,D){return c.actionCreators[P]=D,d},exposeCaseReducer(P,D){return c.sliceCaseReducersByName[P]=D,d}};u.forEach(P=>{const D=l[P],N={reducerName:P,type:J9(i,P),createNotation:typeof r.reducers=="function"};t7(D)?r7(N,D,d,t):e7(N,D,d)});function h(){const[P={},D=[],N=void 0]=typeof r.extraReducers=="function"?AR(r.extraReducers):[r.extraReducers],R={...P,...c.sliceCaseReducersByType};return V9(r.initialState,k=>{for(let B in R)k.addCase(B,R[B]);for(let B of c.sliceMatchers)k.addMatcher(B.matcher,B.reducer);for(let B of D)k.addMatcher(B.matcher,B.reducer);N&&k.addDefaultCase(N)})}const m=P=>P,v=new Map,_=new WeakMap;let T;function E(P,D){return T||(T=h()),T(P,D)}function w(){return T||(T=h()),T.getInitialState()}function M(P,D=!1){function N(k){let B=k[P];return typeof B>"u"&&D&&(B=cd(_,N,w)),B}function R(k=m){const B=cd(v,D,()=>new WeakMap);return cd(B,k,()=>{const $={};for(const[oe,V]of Object.entries(r.selectors??{}))$[oe]=Q9(V,k,()=>cd(_,k,w),D);return $})}return{reducerPath:P,getSelectors:R,get selectors(){return R(N)},selectSlice:N}}const O={name:i,reducer:E,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:w,...M(a),injectInto(P,{reducerPath:D,...N}={}){const R=D??a;return P.inject({reducerPath:R,reducer:E},N),{...O,...M(R,!0)}}};return O}}function Q9(e,t,n,r){function i(a,...l){let u=t(a);return typeof u>"u"&&r&&(u=n()),e(u,...l)}return i.unwrapped=e,i}var Fn=X9();function Z9(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function e7({type:e,reducerName:t,createNotation:n},r,i){let a,l;if("reducer"in r){if(n&&!n7(r))throw new Error(nr(17));a=r.reducer,l=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,l?xr(e,l):xr(e))}function t7(e){return e._reducerDefinitionType==="asyncThunk"}function n7(e){return e._reducerDefinitionType==="reducerWithPrepare"}function r7({type:e,reducerName:t},n,r,i){if(!i)throw new Error(nr(18));const{payloadCreator:a,fulfilled:l,pending:u,rejected:c,settled:d,options:h}=n,m=i(e,a,h);r.exposeAction(t,m),l&&r.addCase(m.fulfilled,l),u&&r.addCase(m.pending,u),c&&r.addCase(m.rejected,c),d&&r.addMatcher(m.settled,d),r.exposeCaseReducer(t,{fulfilled:l||fd,pending:u||fd,rejected:c||fd,settled:d||fd})}function fd(){}var i7="task",CR="listener",MR="completed",I_="cancelled",a7=`task-${I_}`,o7=`task-${MR}`,X0=`${CR}-${I_}`,s7=`${CR}-${MR}`,fp=class{constructor(e){this.code=e,this.message=`${i7} ${I_} (reason: ${e})`}name="TaskAbortError";message},D_=(e,t)=>{if(typeof e!="function")throw new TypeError(nr(32))},uh=()=>{},PR=(e,t=uh)=>(e.catch(t),e),OR=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),No=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Io=e=>{if(e.aborted){const{reason:t}=e;throw new fp(t)}};function NR(e,t){let n=uh;return new Promise((r,i)=>{const a=()=>i(new fp(e.reason));if(e.aborted){a();return}n=OR(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=uh})}var l7=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof fp?"cancelled":"rejected",error:n}}finally{t?.()}},ch=e=>t=>PR(NR(e,t).then(n=>(Io(e),n))),IR=e=>{const t=ch(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Xs}=Object,RM={},dp="listenerMiddleware",u7=(e,t)=>{const n=r=>OR(e,()=>No(r,e.reason));return(r,i)=>{D_(r);const a=new AbortController;n(a);const l=l7(async()=>{Io(e),Io(a.signal);const u=await r({pause:ch(a.signal),delay:IR(a.signal),signal:a.signal});return Io(a.signal),u},()=>No(a,o7));return i?.autoJoin&&t.push(l.catch(uh)),{result:ch(e)(l),cancel(){No(a,a7)}}}},c7=(e,t)=>{const n=async(r,i)=>{Io(t);let a=()=>{};const u=[new Promise((c,d)=>{let h=e({predicate:r,effect:(m,v)=>{v.unsubscribe(),c([m,v.getState(),v.getOriginalState()])}});a=()=>{h(),d()}})];i!=null&&u.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await NR(t,Promise.race(u));return Io(t),c}finally{a()}};return(r,i)=>PR(n(r,i))},DR=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=xr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(nr(21));return D_(a),{predicate:i,type:t,effect:a}},RR=Xs(e=>{const{type:t,predicate:n,effect:r}=DR(e);return{id:Y9(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(nr(22))}}},{withTypes:()=>RR}),kM=(e,t)=>{const{type:n,effect:r,predicate:i}=DR(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},Q0=e=>{e.pending.forEach(t=>{No(t,X0)})},f7=(e,t)=>()=>{for(const n of t.keys())Q0(n);e.clear()},LM=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},kR=Xs(xr(`${dp}/add`),{withTypes:()=>kR}),d7=xr(`${dp}/removeAll`),LR=Xs(xr(`${dp}/remove`),{withTypes:()=>LR}),h7=(...e)=>{console.error(`${dp}/error`,...e)},Sc=(e={})=>{const t=new Map,n=new Map,r=_=>{const T=n.get(_)??0;n.set(_,T+1)},i=_=>{const T=n.get(_)??1;T===1?n.delete(_):n.set(_,T-1)},{extra:a,onError:l=h7}=e;D_(l);const u=_=>(_.unsubscribe=()=>t.delete(_.id),t.set(_.id,_),T=>{_.unsubscribe(),T?.cancelActive&&Q0(_)}),c=_=>{const T=kM(t,_)??RR(_);return u(T)};Xs(c,{withTypes:()=>c});const d=_=>{const T=kM(t,_);return T&&(T.unsubscribe(),_.cancelActive&&Q0(T)),!!T};Xs(d,{withTypes:()=>d});const h=async(_,T,E,w)=>{const M=new AbortController,O=c7(c,M.signal),P=[];try{_.pending.add(M),r(_),await Promise.resolve(_.effect(T,Xs({},E,{getOriginalState:w,condition:(D,N)=>O(D,N).then(Boolean),take:O,delay:IR(M.signal),pause:ch(M.signal),extra:a,signal:M.signal,fork:u7(M.signal,P),unsubscribe:_.unsubscribe,subscribe:()=>{t.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach((D,N,R)=>{D!==M&&(No(D,X0),R.delete(D))})},cancel:()=>{No(M,X0),_.pending.delete(M)},throwIfCancelled:()=>{Io(M.signal)}})))}catch(D){D instanceof fp||LM(l,D,{raisedBy:"effect"})}finally{await Promise.all(P),No(M,s7),i(_),_.pending.delete(M)}},m=f7(t,n);return{middleware:_=>T=>E=>{if(!fR(E))return T(E);if(kR.match(E))return c(E.payload);if(d7.match(E)){m();return}if(LR.match(E))return d(E.payload);let w=_.getState();const M=()=>{if(w===RM)throw new Error(nr(23));return w};let O;try{if(O=T(E),t.size>0){const P=_.getState(),D=Array.from(t.values());for(const N of D){let R=!1;try{R=N.predicate(E,P,w)}catch(k){R=!1,LM(l,k,{raisedBy:"predicate"})}R&&h(N,E,_,M)}}}finally{w=RM}return O},startListening:c,stopListening:d,clearListeners:m}};function nr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var p7={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},UR=Fn({name:"chartLayout",initialState:p7,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:m7,setLayout:g7,setChartSize:v7,setScale:y7}=UR.actions,b7=UR.reducer;function qR(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function UM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UM(Object(n),!0).forEach(function(r){_7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _7(e,t,n){return(t=S7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S7(e){var t=T7(e,"string");return typeof t=="symbol"?t:t+""}function T7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vn(e,t,n){return Jt(e)||Jt(t)?n:wr(t)?rp(e,t,n):typeof t=="function"?t(e):n}var E7=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&a!=="center"&&Ee(e[a]))return Hs(Hs({},e),{},{[a]:e[a]+(r||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&l!=="middle"&&Ee(e[l]))return Hs(Hs({},e),{},{[l]:e[l]+(i||0)})}return e},Ga=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",jR=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var i,a,l=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===n&&(a=!0),u.coordinate));return i||l.push(t),a||l.push(n),l},zR=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:l,realScaleType:u,isCategorical:c,categoricalDomain:d,tickCount:h,ticks:m,niceTicks:v,axisType:_}=e;if(!l)return null;var T=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,E=i==="category"&&l.bandwidth?l.bandwidth()/T:0;if(E=_==="angleAxis"&&a&&a.length>=2?br(a[0]-a[1])*2*E:E,m||v){var w=(m||v||[]).map((M,O)=>{var P=r?r.indexOf(M):M;return{coordinate:l(P)+E,value:M,offset:E,index:O}});return w.filter(M=>!Er(M.coordinate))}return c&&d?d.map((M,O)=>({coordinate:l(M)+E,value:M,index:O,offset:E})):l.ticks&&h!=null?l.ticks(h).map((M,O)=>({coordinate:l(M)+E,value:M,offset:E,index:O})):l.domain().map((M,O)=>({coordinate:l(M)+E,value:r?r[M]:M,index:O,offset:E}))},qM=1e-4,w7=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-qM,a=Math.max(r[0],r[1])+qM,l=e(t[0]),u=e(t[n-1]);(l<i||l>a||u<i||u>a)&&e.domain([t[0],t[n-1]])}},x7=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,l=0;l<t;++l){var u=Er(e[l][n][1])?e[l][n][0]:e[l][n][1];u>=0?(e[l][n][0]=i,e[l][n][1]=i+u,i=e[l][n][1]):(e[l][n][0]=a,e[l][n][1]=a+u,a=e[l][n][1])}},A7=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var l=Er(e[a][n][1])?e[a][n][0]:e[a][n][1];l>=0?(e[a][n][0]=i,e[a][n][1]=i+l,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},C7={sign:x7,expand:YK,none:nl,silhouette:WK,wiggle:JK,positive:A7},M7=(e,t,n)=>{var r=C7[n],i=KK().keys(t).value((a,l)=>Number(vn(a,l,0))).order(B0).offset(r);return i(e)};function jM(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Jt(i[t.dataKey])){var u=HD(n,"value",i[t.dataKey]);if(u)return u.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=vn(i,Jt(l)?t.dataKey:l);return Jt(c)?null:t.scale(c)}var P7=e=>{var t=e.flat(2).filter(Ee);return[Math.min(...t),Math.max(...t)]},O7=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],N7=(e,t,n)=>{if(e!=null)return O7(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:l}=a,u=l.reduce((c,d)=>{var h=qR(d,t,n),m=P7(h);return[Math.min(c[0],m[0]),Math.max(c[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},zM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,BM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fh=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=ip(t,h=>h.coordinate),a=1/0,l=1,u=i.length;l<u;l++){var c=i[l],d=i[l-1];a=Math.min((c.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function $M(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Hs(Hs({},t),{},{dataKey:n,payload:r,value:i,name:a})}function BR(e,t){if(e)return String(e);if(typeof t=="string")return t}var I7=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},D7=(e,t)=>t==="centric"?e.angle:e.radius,ra=e=>e.layout.width,ia=e=>e.layout.height,R7=e=>e.layout.scale,$R=e=>e.layout.margin,hp=X(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),pp=X(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),k7="data-recharts-item-index",L7="data-recharts-item-data-key",Tc=60;function FM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FM(Object(n),!0).forEach(function(r){U7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U7(e,t,n){return(t=q7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q7(e){var t=j7(e,"string");return typeof t=="symbol"?t:t+""}function j7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z7=e=>e.brush.height;function B7(e){var t=pp(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Tc;return n+i}return n},0)}function $7(e){var t=pp(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Tc;return n+i}return n},0)}function F7(e){var t=hp(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function H7(e){var t=hp(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var cn=X([ra,ia,$R,z7,B7,$7,F7,H7,sR,g9],(e,t,n,r,i,a,l,u,c,d)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},m={top:(n.top||0)+l,bottom:(n.bottom||0)+u},v=dd(dd({},m),h),_=v.bottom;v.bottom+=r,v=E7(v,c,d);var T=e-v.left-v.right,E=t-v.top-v.bottom;return dd(dd({brushBottom:_},v),{},{width:Math.max(T,0),height:Math.max(E,0)})}),G7=X(cn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),FR=X(ra,ia,(e,t)=>({x:0,y:0,width:e,height:t})),V7=x.createContext(null),An=()=>x.useContext(V7)!=null,mp=e=>e.brush,gp=X([mp,cn,$R],(e,t,n)=>({height:e.height,x:Ee(e.x)?e.x:t.left,y:Ee(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:Ee(e.width)?e.width:t.width})),gy={},vy={},yy={},HM;function K7(){return HM||(HM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let l,u=null;const c=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),h=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},m=()=>{d&&h(),E()};let v=null;const _=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,m()},r)},T=()=>{v!==null&&(clearTimeout(v),v=null)},E=()=>{T(),l=void 0,u=null},w=()=>{h()},M=function(...O){if(i?.aborted)return;l=this,u=O;const P=v==null;_(),c&&P&&h()};return M.schedule=_,M.cancel=E,M.flush=w,i?.addEventListener("abort",E,{once:!0}),M}e.debounce=t})(yy)),yy}var GM;function Y7(){return GM||(GM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K7();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:l=!1,trailing:u=!0,maxWait:c}=a,d=Array(2);l&&(d[0]="leading"),u&&(d[1]="trailing");let h,m=null;const v=t.debounce(function(...E){h=r.apply(this,E),m=null},i,{edges:d}),_=function(...E){return c!=null&&(m===null&&(m=Date.now()),Date.now()-m>=c)?(h=r.apply(this,E),m=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,E),h)},T=()=>(v.flush(),h);return _.cancel=v.cancel,_.flush=T,_}e.debounce=n})(vy)),vy}var VM;function W7(){return VM||(VM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y7();function n(r,i=0,a={}){const{leading:l=!0,trailing:u=!0}=a;return t.debounce(r,i,{leading:l,maxWait:i,trailing:u})}e.throttle=n})(gy)),gy}var by,KM;function J7(){return KM||(KM=1,by=W7().throttle),by}var X7=J7();const Q7=Zi(X7);var dh=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},HR=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:l}=n,u=Ki(r)?e:Number(r),c=Ki(i)?t:Number(i);return a&&a>0&&(u?c=u/a:c&&(u=c*a),l&&c!=null&&c>l&&(c=l)),{calculatedWidth:u,calculatedHeight:c}},Z7={width:0,height:0,overflow:"visible"},eW={width:0,overflowX:"visible"},tW={height:0,overflowY:"visible"},nW={},rW=e=>{var{width:t,height:n}=e,r=Ki(t),i=Ki(n);return r&&i?Z7:r?eW:i?tW:nW};function iW(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function St(e){return Number.isFinite(e)}function ti(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Z0(){return Z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z0.apply(null,arguments)}function YM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function WM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YM(Object(n),!0).forEach(function(r){aW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aW(e,t,n){return(t=oW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oW(e){var t=sW(e,"string");return typeof t=="symbol"?t:t+""}function sW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GR=x.createContext({width:-1,height:-1});function lW(e){return ti(e.width)&&ti(e.height)}function VR(e){var{children:t,width:n,height:r}=e,i=x.useMemo(()=>({width:n,height:r}),[n,r]);return lW(i)?x.createElement(GR.Provider,{value:i},t):null}var R_=()=>x.useContext(GR),uW=x.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:l=0,minHeight:u,maxHeight:c,children:d,debounce:h=0,id:m,className:v,onResize:_,style:T={}}=e,E=x.useRef(null),w=x.useRef();w.current=_,x.useImperativeHandle(t,()=>E.current);var[M,O]=x.useState({containerWidth:r.width,containerHeight:r.height}),P=x.useCallback((B,$)=>{O(oe=>{var V=Math.round(B),W=Math.round($);return oe.containerWidth===V&&oe.containerHeight===W?oe:{containerWidth:V,containerHeight:W}})},[]);x.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return yc;var B=W=>{var fe,{width:pe,height:be}=W[0].contentRect;P(pe,be),(fe=w.current)===null||fe===void 0||fe.call(w,pe,be)};h>0&&(B=Q7(B,h,{trailing:!0,leading:!1}));var $=new ResizeObserver(B),{width:oe,height:V}=E.current.getBoundingClientRect();return P(oe,V),$.observe(E.current),()=>{$.disconnect()}},[P,h]);var{containerWidth:D,containerHeight:N}=M;dh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:R,calculatedHeight:k}=HR(D,N,{width:i,height:a,aspect:n,maxHeight:c});return dh(R!=null&&R>0||k!=null&&k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,k,i,a,l,u,n),x.createElement("div",{id:m?"".concat(m):void 0,className:Xe("recharts-responsive-container",v),style:WM(WM({},T),{},{width:i,height:a,minWidth:l,minHeight:u,maxHeight:c}),ref:E},x.createElement("div",{style:rW({width:i,height:a})},x.createElement(VR,{width:R,height:k},d)))}),cW=x.forwardRef((e,t)=>{var n=R_();if(ti(n.width)&&ti(n.height))return e.children;var{width:r,height:i}=iW({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:l}=HR(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Ee(a)&&Ee(l)?x.createElement(VR,{width:a,height:l},e.children):x.createElement(uW,Z0({},e,{width:r,height:i,ref:t}))});function KR(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Ec=()=>{var e,t=An(),n=ye(G7),r=ye(gp),i=(e=ye(mp))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},fW={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},YR=()=>{var e;return(e=ye(cn))!==null&&e!==void 0?e:fW},k_=()=>ye(ra),L_=()=>ye(ia),dW=()=>ye(e=>e.layout.margin),ft=e=>e.layout.layoutType,vp=()=>ye(ft),hW=()=>{var e=vp();return e!==void 0},yp=e=>{var t=Ct(),n=An(),{width:r,height:i}=e,a=R_(),l=r,u=i;return a&&(l=a.width>0?a.width:r,u=a.height>0?a.height:i),x.useEffect(()=>{!n&&ti(l)&&ti(u)&&t(v7({width:l,height:u}))},[t,n,l,u]),null},WR=Symbol.for("immer-nothing"),JM=Symbol.for("immer-draftable"),rr=Symbol.for("immer-state");function Rr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Zu=Object.getPrototypeOf;function al(e){return!!e&&!!e[rr]}function ko(e){return e?JR(e)||Array.isArray(e)||!!e[JM]||!!e.constructor?.[JM]||wc(e)||_p(e):!1}var pW=Object.prototype.constructor.toString(),XM=new WeakMap;function JR(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=XM.get(n);return r===void 0&&(r=Function.toString.call(n),XM.set(n,r)),r===pW}function hh(e,t,n=!0){bp(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function bp(e){const t=e[rr];return t?t.type_:Array.isArray(e)?1:wc(e)?2:_p(e)?3:0}function eb(e,t){return bp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function XR(e,t,n){const r=bp(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function mW(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function wc(e){return e instanceof Map}function _p(e){return e instanceof Set}function bo(e){return e.copy_||e.base_}function tb(e,t){if(wc(e))return new Map(e);if(_p(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=JR(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[rr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(Zu(e),r)}else{const r=Zu(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function U_(e,t=!1){return Sp(e)||al(e)||!ko(e)||(bp(e)>1&&Object.defineProperties(e,{set:hd,add:hd,clear:hd,delete:hd}),Object.freeze(e),t&&Object.values(e).forEach(n=>U_(n,!0))),e}function gW(){Rr(2)}var hd={value:gW};function Sp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var vW={};function Lo(e){const t=vW[e];return t||Rr(0,e),t}var ec;function QR(){return ec}function yW(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function QM(e,t){t&&(Lo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function nb(e){rb(e),e.drafts_.forEach(bW),e.drafts_=null}function rb(e){e===ec&&(ec=e.parent_)}function ZM(e){return ec=yW(ec,e)}function bW(e){const t=e[rr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function eP(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[rr].modified_&&(nb(t),Rr(4)),ko(e)&&(e=ph(t,e),t.parent_||mh(t,e)),t.patches_&&Lo("Patches").generateReplacementPatches_(n[rr].base_,e,t.patches_,t.inversePatches_)):e=ph(t,n,[]),nb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==WR?e:void 0}function ph(e,t,n){if(Sp(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[rr];if(!i)return hh(t,(a,l)=>tP(e,i,t,a,l,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return mh(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let l=a,u=!1;i.type_===3&&(l=new Set(a),a.clear(),u=!0),hh(l,(c,d)=>tP(e,i,a,c,d,n,u),r),mh(e,a,!1),n&&e.patches_&&Lo("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function tP(e,t,n,r,i,a,l){if(i==null||typeof i!="object"&&!l)return;const u=Sp(i);if(!(u&&!l)){if(al(i)){const c=a&&t&&t.type_!==3&&!eb(t.assigned_,r)?a.concat(r):void 0,d=ph(e,i,c);if(XR(n,r,d),al(d))e.canAutoFreeze_=!1;else return}else l&&n.add(i);if(ko(i)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&u)return;ph(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(wc(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&mh(e,i)}}}function mh(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&U_(t,n)}function _W(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:QR(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=q_;n&&(i=[r],a=tc);const{revoke:l,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=l,u}var q_={get(e,t){if(t===rr)return e;const n=bo(e);if(!eb(n,t))return SW(e,n,t);const r=n[t];return e.finalized_||!ko(r)?r:r===_y(e.base_,t)?(Sy(e),e.copy_[t]=ab(r,e)):r},has(e,t){return t in bo(e)},ownKeys(e){return Reflect.ownKeys(bo(e))},set(e,t,n){const r=ZR(bo(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=_y(bo(e),t),a=i?.[rr];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(mW(n,i)&&(n!==void 0||eb(e.base_,t)))return!0;Sy(e),ib(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return _y(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Sy(e),ib(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=bo(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Rr(11)},getPrototypeOf(e){return Zu(e.base_)},setPrototypeOf(){Rr(12)}},tc={};hh(q_,(e,t)=>{tc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});tc.deleteProperty=function(e,t){return tc.set.call(this,e,t,void 0)};tc.set=function(e,t,n){return q_.set.call(this,e[0],t,n,e[0])};function _y(e,t){const n=e[rr];return(n?bo(n):e)[t]}function SW(e,t,n){const r=ZR(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function ZR(e,t){if(!(t in e))return;let n=Zu(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Zu(n)}}function ib(e){e.modified_||(e.modified_=!0,e.parent_&&ib(e.parent_))}function Sy(e){e.copy_||(e.copy_=tb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var TW=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const l=this;return function(c=a,...d){return l.produce(c,h=>n.call(this,h,...d))}}typeof n!="function"&&Rr(6),r!==void 0&&typeof r!="function"&&Rr(7);let i;if(ko(t)){const a=ZM(this),l=ab(t,void 0);let u=!0;try{i=n(l),u=!1}finally{u?nb(a):rb(a)}return QM(a,r),eP(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===WR&&(i=void 0),this.autoFreeze_&&U_(i,!0),r){const a=[],l=[];Lo("Patches").generateReplacementPatches_(t,i,a,l),r(a,l)}return i}else Rr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,c=>t(c,...u));let r,i;return[this.produce(t,n,(l,u)=>{r=l,i=u}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ko(e)||Rr(8),al(e)&&(e=EW(e));const t=ZM(this),n=ab(e,void 0);return n[rr].isManual_=!0,rb(t),n}finishDraft(e,t){const n=e&&e[rr];(!n||!n.isManual_)&&Rr(9);const{scope_:r}=n;return QM(r,t),eP(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Lo("Patches").applyPatches_;return al(e)?r(e,t):this.produce(e,i=>r(i,t))}};function ab(e,t){const n=wc(e)?Lo("MapSet").proxyMap_(e,t):_p(e)?Lo("MapSet").proxySet_(e,t):_W(e,t);return(t?t.scope_:QR()).drafts_.push(n),n}function EW(e){return al(e)||Rr(10,e),ek(e)}function ek(e){if(!ko(e)||Sp(e))return e;const t=e[rr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=tb(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=tb(e,!0);return hh(n,(i,a)=>{XR(n,i,ek(a))},r),t&&(t.finalized_=!1),n}var wW=new TW;wW.produce;var xW={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},tk=Fn({name:"legend",initialState:xW,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:mt()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Lr(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:mt()},removeLegendPayload:{reducer(e,t){var n=Lr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:mt()}}}),{setLegendSize:nP,setLegendSettings:AW,addLegendPayload:CW,replaceLegendPayload:MW,removeLegendPayload:PW}=tk.actions,OW=tk.reducer,NW=["contextPayload"];function ob(){return ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ob.apply(null,arguments)}function rP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ol(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rP(Object(n),!0).forEach(function(r){IW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IW(e,t,n){return(t=DW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DW(e){var t=RW(e,"string");return typeof t=="symbol"?t:t+""}function RW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kW(e,t){if(e==null)return{};var n,r,i=LW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function LW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function UW(e){return e.value}function qW(e){var{contextPayload:t}=e,n=kW(e,NW),r=rR(t,e.payloadUniqBy,UW),i=ol(ol({},n),{},{payload:r});return x.isValidElement(e.content)?x.cloneElement(e.content,i):typeof e.content=="function"?x.createElement(e.content,i):x.createElement(xY,i)}function jW(e,t,n,r,i,a){var{layout:l,align:u,verticalAlign:c}=t,d,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&l==="vertical"?d={left:((r||0)-a.width)/2}:d=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?h={top:((i||0)-a.height)/2}:h=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),ol(ol({},d),h)}function zW(e){var t=Ct();return x.useEffect(()=>{t(AW(e))},[t,e]),null}function BW(e){var t=Ct();return x.useEffect(()=>(t(nP(e)),()=>{t(nP({width:0,height:0}))}),[t,e]),null}function $W(e,t,n,r){return e==="vertical"&&Ee(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var FW={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function nk(e){var t=un(e,FW),n=b9(),r=vK(),i=dW(),{width:a,height:l,wrapperStyle:u,portal:c}=t,[d,h]=lR([n]),m=k_(),v=L_();if(m==null||v==null)return null;var _=m-(i?.left||0)-(i?.right||0),T=$W(t.layout,l,a,_),E=c?u:ol(ol({position:"absolute",width:T?.width||a||"auto",height:T?.height||l||"auto"},jW(u,t,i,m,v,d)),u),w=c??r;if(w==null||n==null)return null;var M=x.createElement("div",{className:"recharts-legend-wrapper",style:E,ref:h},x.createElement(zW,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&x.createElement(BW,{width:d.width,height:d.height}),x.createElement(qW,ob({},t,T,{margin:i,chartWidth:m,chartHeight:v,contextPayload:n})));return jb.createPortal(M,w)}nk.displayName="Legend";function sb(){return sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sb.apply(null,arguments)}function iP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ty(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iP(Object(n),!0).forEach(function(r){HW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HW(e,t,n){return(t=GW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GW(e){var t=VW(e,"string");return typeof t=="symbol"?t:t+""}function VW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KW(e){return Array.isArray(e)&&wr(e[0])&&wr(e[1])?e.join(" ~ "):e}var YW=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:l,itemSorter:u,wrapperClassName:c,labelClassName:d,label:h,labelFormatter:m,accessibilityLayer:v=!1}=e,_=()=>{if(a&&a.length){var N={padding:0,margin:0},R=(u?ip(a,u):a).map((k,B)=>{if(k.type==="none")return null;var $=k.formatter||l||KW,{value:oe,name:V}=k,W=oe,fe=V;if($){var pe=$(oe,V,k,B,a);if(Array.isArray(pe))[W,fe]=pe;else if(pe!=null)W=pe;else return null}var be=Ty({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:be},wr(fe)?x.createElement("span",{className:"recharts-tooltip-item-name"},fe):null,wr(fe)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},W),x.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:N},R)}return null},T=Ty({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=Ty({margin:0},i),w=!Jt(h),M=w?h:"",O=Xe("recharts-default-tooltip",c),P=Xe("recharts-tooltip-label",d);w&&m&&a!==void 0&&a!==null&&(M=m(h,a));var D=v?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",sb({className:O,style:T},D),x.createElement("p",{className:P,style:E},x.isValidElement(M)?M:"".concat(M)),_())},Eu="recharts-tooltip-wrapper",WW={visibility:"hidden"};function JW(e){var{coordinate:t,translateX:n,translateY:r}=e;return Xe(Eu,{["".concat(Eu,"-right")]:Ee(n)&&t&&Ee(t.x)&&n>=t.x,["".concat(Eu,"-left")]:Ee(n)&&t&&Ee(t.x)&&n<t.x,["".concat(Eu,"-bottom")]:Ee(r)&&t&&Ee(t.y)&&r>=t.y,["".concat(Eu,"-top")]:Ee(r)&&t&&Ee(t.y)&&r<t.y})}function aP(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:l,tooltipDimension:u,viewBox:c,viewBoxDimension:d}=e;if(a&&Ee(a[r]))return a[r];var h=n[r]-u-(i>0?i:0),m=n[r]+i;if(t[r])return l[r]?h:m;var v=c[r];if(v==null)return 0;if(l[r]){var _=h,T=v;return _<T?Math.max(m,v):Math.max(h,v)}if(d==null)return 0;var E=m+u,w=v+d;return E>w?Math.max(h,v):Math.max(m,v)}function XW(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function QW(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:l,useTranslate3d:u,viewBox:c}=e,d,h,m;return l.height>0&&l.width>0&&n?(h=aP({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),m=aP({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),d=XW({translateX:h,translateY:m,useTranslate3d:u})):d=WW,{cssProperties:d,cssClasses:JW({translateX:h,translateY:m,coordinate:n})}}function oP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(n),!0).forEach(function(r){lb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lb(e,t,n){return(t=ZW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZW(e){var t=eJ(e,"string");return typeof t=="symbol"?t:t+""}function eJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class tJ extends x.PureComponent{constructor(){super(...arguments),lb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),lb(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:l,hasPayload:u,isAnimationActive:c,offset:d,position:h,reverseDirection:m,useTranslate3d:v,viewBox:_,wrapperStyle:T,lastBoundingBox:E,innerRef:w,hasPortalFromProps:M}=this.props,{cssClasses:O,cssProperties:P}=QW({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:d,position:h,reverseDirection:m,tooltipBox:{height:E.height,width:E.width},useTranslate3d:v,viewBox:_}),D=M?{}:pd(pd({transition:c&&t?"transform ".concat(r,"ms ").concat(i):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),N=pd(pd({},D),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},T);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:N,ref:w},a)}}var nJ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),bl={devToolsEnabled:!1,isSsr:nJ()},rk=()=>{var e;return(e=ye(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function ub(){return ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ub.apply(null,arguments)}function sP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sP(Object(n),!0).forEach(function(r){rJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rJ(e,t,n){return(t=iJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iJ(e){var t=aJ(e,"string");return typeof t=="symbol"?t:t+""}function aJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uP={curveBasisClosed:LK,curveBasisOpen:UK,curveBasis:kK,curveBumpX:SK,curveBumpY:TK,curveLinearClosed:qK,curveLinear:tp,curveMonotoneX:jK,curveMonotoneY:zK,curveNatural:BK,curveStep:$K,curveStepAfter:HK,curveStepBefore:FK},gh=e=>St(e.x)&&St(e.y),cP=e=>e.base!=null&&gh(e.base)&&gh(e),wu=e=>e.x,xu=e=>e.y,oJ=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(vc(e));return(n==="curveMonotone"||n==="curveBump")&&t?uP["".concat(n).concat(t==="vertical"?"Y":"X")]:uP[n]||tp},sJ=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,l=oJ(t,i),u=a?n.filter(gh):n,c;if(Array.isArray(r)){var d=n.map((_,T)=>lP(lP({},_),{},{base:r[T]}));i==="vertical"?c=od().y(xu).x1(wu).x0(_=>_.base.x):c=od().x(wu).y1(xu).y0(_=>_.base.y);var h=c.defined(cP).curve(l),m=a?d.filter(cP):d;return h(m)}i==="vertical"&&Ee(r)?c=od().y(xu).x1(wu).x0(r):Ee(r)?c=od().x(wu).y1(xu).y0(r):c=ND().x(wu).y(xu);var v=c.defined(gh).curve(l);return v(u)},ik=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?sJ(e):r;return x.createElement("path",ub({},Zr(e),E_(e),{className:Xe("recharts-curve",t),d:a===null?void 0:a,ref:i}))},lJ=["x","y","top","left","width","height","className"];function cb(){return cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cb.apply(null,arguments)}function fP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fP(Object(n),!0).forEach(function(r){cJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cJ(e,t,n){return(t=fJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fJ(e){var t=dJ(e,"string");return typeof t=="symbol"?t:t+""}function dJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hJ(e,t){if(e==null)return{};var n,r,i=pJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var mJ=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),gJ=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:l=0,className:u}=e,c=hJ(e,lJ),d=uJ({x:t,y:n,top:r,left:i,width:a,height:l},c);return!Ee(t)||!Ee(n)||!Ee(a)||!Ee(l)||!Ee(r)||!Ee(i)?null:x.createElement("path",cb({},yn(d),{className:Xe("recharts-cross",u),d:mJ(t,n,a,l,r,i)}))};function vJ(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function dP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(n),!0).forEach(function(r){yJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yJ(e,t,n){return(t=bJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bJ(e){var t=_J(e,"string");return typeof t=="symbol"?t:t+""}function _J(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SJ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),ak=(e,t,n)=>e.map(r=>"".concat(SJ(r)," ").concat(t,"ms ").concat(n)).join(","),TJ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),nc=(e,t)=>Object.keys(t).reduce((n,r)=>hP(hP({},n),{},{[r]:e(r,t[r])}),{});function pP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pP(Object(n),!0).forEach(function(r){EJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EJ(e,t,n){return(t=wJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wJ(e){var t=xJ(e,"string");return typeof t=="symbol"?t:t+""}function xJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vh=(e,t,n)=>e+(t-e)*n,fb=e=>{var{from:t,to:n}=e;return t!==n},ok=(e,t,n)=>{var r=nc((i,a)=>{if(fb(a)){var[l,u]=e(a.from,a.to,a.velocity);return Ut(Ut({},a),{},{from:l,velocity:u})}return a},t);return n<1?nc((i,a)=>fb(a)?Ut(Ut({},a),{},{velocity:vh(a.velocity,r[i].velocity,n),from:vh(a.from,r[i].from,n)}):a,t):ok(e,r,n-1)};function AJ(e,t,n,r,i,a){var l,u=r.reduce((v,_)=>Ut(Ut({},v),{},{[_]:{from:e[_],velocity:0,to:t[_]}}),{}),c=()=>nc((v,_)=>_.from,u),d=()=>!Object.values(u).filter(fb).length,h=null,m=v=>{l||(l=v);var _=v-l,T=_/n.dt;u=ok(n,u,T),i(Ut(Ut(Ut({},e),t),c())),l=v,d()||(h=a.setTimeout(m))};return()=>(h=a.setTimeout(m),()=>{var v;(v=h)===null||v===void 0||v()})}function CJ(e,t,n,r,i,a,l){var u=null,c=i.reduce((m,v)=>Ut(Ut({},m),{},{[v]:[e[v],t[v]]}),{}),d,h=m=>{d||(d=m);var v=(m-d)/r,_=nc((E,w)=>vh(...w,n(v)),c);if(a(Ut(Ut(Ut({},e),t),_)),v<1)u=l.setTimeout(h);else{var T=nc((E,w)=>vh(...w,n(1)),c);a(Ut(Ut(Ut({},e),t),T))}};return()=>(u=l.setTimeout(h),()=>{var m;(m=u)===null||m===void 0||m()})}const MJ=(e,t,n,r,i,a)=>{var l=TJ(e,t);return n==null?()=>(i(Ut(Ut({},e),t)),()=>{}):n.isStepper===!0?AJ(e,t,n,l,i,a):CJ(e,t,n,r,l,i,a)};var yh=1e-4,sk=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],lk=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),mP=(e,t)=>n=>{var r=sk(e,t);return lk(r,n)},PJ=(e,t)=>n=>{var r=sk(e,t),i=[...r.map((a,l)=>a*l).slice(1),0];return lk(i,n)},OJ=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var l=a[1].split(")")[0].split(",").map(u=>parseFloat(u));return[l[0],l[1],l[2],l[3]]}}}return n.length===4?n:[0,0,1,1]},NJ=(e,t,n,r)=>{var i=mP(e,n),a=mP(t,r),l=PJ(e,n),u=d=>d>1?1:d<0?0:d,c=d=>{for(var h=d>1?1:d,m=h,v=0;v<8;++v){var _=i(m)-h,T=l(m);if(Math.abs(_-h)<yh||T<yh)return a(m);m=u(m-_/T)}return a(m)};return c.isStepper=!1,c},gP=function(){return NJ(...OJ(...arguments))},IJ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(l,u,c)=>{var d=-(l-u)*n,h=c*r,m=c+(d-h)*i/1e3,v=c*i/1e3+l;return Math.abs(v-u)<yh&&Math.abs(m)<yh?[u,0]:[v,m]};return a.isStepper=!0,a.dt=i,a},DJ=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gP(e);case"spring":return IJ();default:if(e.split("(")[0]==="cubic-bezier")return gP(e)}return typeof e=="function"?e:null};function RJ(e){var t,n=()=>null,r=!1,i=null,a=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[c,...d]=u;if(typeof c=="number"){i=e.setTimeout(a.bind(null,d),c);return}a(c),i=e.setTimeout(a.bind(null,d));return}typeof l=="string"&&(t=l,n(t)),typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),a(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}class kJ{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=l=>{l-r>=n?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function LJ(){return RJ(new kJ)}var UJ=x.createContext(LJ);function qJ(e,t){var n=x.useContext(UJ);return x.useMemo(()=>t??n(e),[e,t,n])}var jJ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},vP={t:0},Ey={t:1};function j_(e){var t=un(e,jJ),{isActive:n,canBegin:r,duration:i,easing:a,begin:l,onAnimationEnd:u,onAnimationStart:c,children:d}=t,h=n==="auto"?!bl.isSsr:n,m=qJ(t.animationId,t.animationManager),[v,_]=x.useState(h?vP:Ey),T=x.useRef(null);return x.useEffect(()=>{h||_(Ey)},[h]),x.useEffect(()=>{if(!h||!r)return yc;var E=MJ(vP,Ey,DJ(a),i,_,m.getTimeoutController()),w=()=>{T.current=E()};return m.start([c,l,w,i,u]),()=>{m.stop(),T.current&&T.current(),u()}},[h,r,i,a,l,c,u,m]),d(v.t)}function z_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=x.useRef(Wu(t)),r=x.useRef(e);return r.current!==e&&(n.current=Wu(t),r.current=e),n.current}var zJ=["radius"],BJ=["radius"];function yP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(n),!0).forEach(function(r){$J(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $J(e,t,n){return(t=FJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FJ(e){var t=HJ(e,"string");return typeof t=="symbol"?t:t+""}function HJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bh(){return bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bh.apply(null,arguments)}function _P(e,t){if(e==null)return{};var n,r,i=GJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var SP=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,u=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0,d;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,v=4;m<v;m++)h[m]=i[m]>a?a:i[m];d="M".concat(e,",").concat(t+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(e+u*h[0],",").concat(t)),d+="L ".concat(e+n-u*h[1],",").concat(t),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(t+l*h[1])),d+="L ".concat(e+n,",").concat(t+r-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(e+n-u*h[2],",").concat(t+r)),d+="L ".concat(e+u*h[3],",").concat(t+r),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+r-l*h[3])),d+="Z"}else if(a>0&&i===+i&&i>0){var _=Math.min(a,i);d="M ".concat(e,",").concat(t+l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(c,",").concat(e+u*_,",").concat(t,`
            L `).concat(e+n-u*_,",").concat(t,`
            A `).concat(_,",").concat(_,",0,0,").concat(c,",").concat(e+n,",").concat(t+l*_,`
            L `).concat(e+n,",").concat(t+r-l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(c,",").concat(e+n-u*_,",").concat(t+r,`
            L `).concat(e+u*_,",").concat(t+r,`
            A `).concat(_,",").concat(_,",0,0,").concat(c,",").concat(e,",").concat(t+r-l*_," Z")}else d="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},TP={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uk=e=>{var t=un(e,TP),n=x.useRef(null),[r,i]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ee=n.current.getTotalLength();ee&&i(ee)}catch{}},[]);var{x:a,y:l,width:u,height:c,radius:d,className:h}=t,{animationEasing:m,animationDuration:v,animationBegin:_,isAnimationActive:T,isUpdateAnimationActive:E}=t,w=x.useRef(u),M=x.useRef(c),O=x.useRef(a),P=x.useRef(l),D=x.useMemo(()=>({x:a,y:l,width:u,height:c,radius:d}),[a,l,u,c,d]),N=z_(D,"rectangle-");if(a!==+a||l!==+l||u!==+u||c!==+c||u===0||c===0)return null;var R=Xe("recharts-rectangle",h);if(!E){var k=yn(t),{radius:B}=k,$=_P(k,zJ);return x.createElement("path",bh({},$,{radius:typeof d=="number"?d:void 0,className:R,d:SP(a,l,u,c,d)}))}var oe=w.current,V=M.current,W=O.current,fe=P.current,pe="0px ".concat(r===-1?1:r,"px"),be="".concat(r,"px 0px"),z=ak(["strokeDasharray"],v,typeof m=="string"?m:TP.animationEasing);return x.createElement(j_,{animationId:N,key:N,canBegin:r>0,duration:v,easing:m,isActive:E,begin:_},ee=>{var le=jn(oe,u,ee),ue=jn(V,c,ee),we=jn(W,a,ee),U=jn(fe,l,ee);n.current&&(w.current=le,M.current=ue,O.current=we,P.current=U);var J;T?ee>0?J={transition:z,strokeDasharray:be}:J={strokeDasharray:pe}:J={strokeDasharray:be};var se=yn(t),{radius:ce}=se,K=_P(se,BJ);return x.createElement("path",bh({},K,{radius:typeof d=="number"?d:void 0,className:R,d:SP(we,U,le,ue,d),ref:n,style:bP(bP({},J),t.style)}))})};function EP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(n),!0).forEach(function(r){VJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VJ(e,t,n){return(t=KJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KJ(e){var t=YJ(e,"string");return typeof t=="symbol"?t:t+""}function YJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _h=Math.PI/180,WJ=e=>e*180/Math.PI,ln=(e,t,n,r)=>({x:e+Math.cos(-_h*r)*n,y:t+Math.sin(-_h*r)*n}),JJ=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},XJ=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},QJ=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,l=XJ({x:n,y:r},{x:i,y:a});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,c=Math.acos(u);return r>a&&(c=2*Math.PI-c),{radius:l,angle:WJ(c),angleInRadian:c}},ZJ=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},eX=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),l=Math.min(i,a);return e+l*360},tX=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=QJ({x:n,y:r},t),{innerRadius:l,outerRadius:u}=t;if(i<l||i>u||i===0)return null;var{startAngle:c,endAngle:d}=ZJ(t),h=a,m;if(c<=d){for(;h>d;)h-=360;for(;h<c;)h+=360;m=h>=c&&h<=d}else{for(;h>c;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=c}return m?wP(wP({},t),{},{radius:i,angle:eX(h,t)}):null};function ck(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,l=ln(t,n,r,i),u=ln(t,n,r,a);return{points:[l,u],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function db(){return db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},db.apply(null,arguments)}var nX=(e,t)=>{var n=br(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},md=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:l,cornerRadius:u,cornerIsExternal:c}=e,d=u*(l?1:-1)+r,h=Math.asin(u/d)/_h,m=c?i:i+a*h,v=ln(t,n,d,m),_=ln(t,n,r,m),T=c?i-a*h:i,E=ln(t,n,d*Math.cos(h*_h),T);return{center:v,circleTangency:_,lineTangency:E,theta:h}},fk=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:l}=e,u=nX(a,l),c=a+u,d=ln(t,n,i,a),h=ln(t,n,i,c),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(a>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var v=ln(t,n,r,a),_=ln(t,n,r,c);m+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(a<=c),`,
            `).concat(v.x,",").concat(v.y," Z")}else m+="L ".concat(t,",").concat(n," Z");return m},rX=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}=e,h=br(d-c),{circleTangency:m,lineTangency:v,theta:_}=md({cx:t,cy:n,radius:i,angle:c,sign:h,cornerRadius:a,cornerIsExternal:u}),{circleTangency:T,lineTangency:E,theta:w}=md({cx:t,cy:n,radius:i,angle:d,sign:-h,cornerRadius:a,cornerIsExternal:u}),M=u?Math.abs(c-d):Math.abs(c-d)-_-w;if(M<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):fk({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:d});var O="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(M>180),",").concat(+(h<0),",").concat(T.x,",").concat(T.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,`
  `);if(r>0){var{circleTangency:P,lineTangency:D,theta:N}=md({cx:t,cy:n,radius:r,angle:c,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),{circleTangency:R,lineTangency:k,theta:B}=md({cx:t,cy:n,radius:r,angle:d,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),$=u?Math.abs(c-d):Math.abs(c-d)-N-B;if($<0&&a===0)return"".concat(O,"L").concat(t,",").concat(n,"Z");O+="L".concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(r,",").concat(r,",0,").concat(+($>180),",").concat(+(h>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(D.x,",").concat(D.y,"Z")}else O+="L".concat(t,",").concat(n,"Z");return O},iX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},dk=e=>{var t=un(e,iX),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:c,startAngle:d,endAngle:h,className:m}=t;if(a<i||d===h)return null;var v=Xe("recharts-sector",m),_=a-i,T=ja(l,_,0,!0),E;return T>0&&Math.abs(d-h)<360?E=rX({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(T,_/2),forceCornerRadius:u,cornerIsExternal:c,startAngle:d,endAngle:h}):E=fk({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:h}),x.createElement("path",db({},yn(t),{className:v,d:E}))};function aX(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(VD(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:l,angle:u}=t,c=ln(r,i,a,u),d=ln(r,i,l,u);return[{x:c.x,y:c.y},{x:d.x,y:d.y}]}return ck(t)}}var wy={},xy={},Ay={},xP;function oX(){return xP||(xP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aR();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Ay)),Ay}var AP;function sX(){return AP||(AP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oX();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(xy)),xy}var CP;function lX(){return CP||(CP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oR(),n=sX();function r(i,a,l){l&&typeof l!="number"&&t.isIterateeCall(i,a,l)&&(a=l=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),l=l===void 0?i<a?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((a-i)/(l||1)),0),c=new Array(u);for(let d=0;d<u;d++)c[d]=i,i+=l;return c}e.range=r})(wy)),wy}var Cy,MP;function uX(){return MP||(MP=1,Cy=lX().range),Cy}var cX=uX();const hk=Zi(cX);function La(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fX(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function B_(e){let t,n,r;e.length!==2?(t=La,n=(u,c)=>La(e(u),c),r=(u,c)=>e(u)-c):(t=e===La||e===fX?e:dX,n=e,r=e);function i(u,c,d=0,h=u.length){if(d<h){if(t(c,c)!==0)return h;do{const m=d+h>>>1;n(u[m],c)<0?d=m+1:h=m}while(d<h)}return d}function a(u,c,d=0,h=u.length){if(d<h){if(t(c,c)!==0)return h;do{const m=d+h>>>1;n(u[m],c)<=0?d=m+1:h=m}while(d<h)}return d}function l(u,c,d=0,h=u.length){const m=i(u,c,d,h-1);return m>d&&r(u[m-1],c)>-r(u[m],c)?m-1:m}return{left:i,center:l,right:a}}function dX(){return 0}function pk(e){return e===null?NaN:+e}function*hX(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const pX=B_(La),xc=pX.right;B_(pk).center;class PP extends Map{constructor(t,n=vX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(OP(this,t))}has(t){return super.has(OP(this,t))}set(t,n){return super.set(mX(this,t),n)}delete(t){return super.delete(gX(this,t))}}function OP({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function mX({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function gX({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function vX(e){return e!==null&&typeof e=="object"?e.valueOf():e}function yX(e=La){if(e===La)return mk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function mk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const bX=Math.sqrt(50),_X=Math.sqrt(10),SX=Math.sqrt(2);function Sh(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),l=a>=bX?10:a>=_X?5:a>=SX?2:1;let u,c,d;return i<0?(d=Math.pow(10,-i)/l,u=Math.round(e*d),c=Math.round(t*d),u/d<e&&++u,c/d>t&&--c,d=-d):(d=Math.pow(10,i)*l,u=Math.round(e/d),c=Math.round(t/d),u*d<e&&++u,c*d>t&&--c),c<u&&.5<=n&&n<2?Sh(e,t,n*2):[u,c,d]}function hb(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,l]=r?Sh(t,e,n):Sh(e,t,n);if(!(a>=i))return[];const u=a-i+1,c=new Array(u);if(r)if(l<0)for(let d=0;d<u;++d)c[d]=(a-d)/-l;else for(let d=0;d<u;++d)c[d]=(a-d)*l;else if(l<0)for(let d=0;d<u;++d)c[d]=(i+d)/-l;else for(let d=0;d<u;++d)c[d]=(i+d)*l;return c}function pb(e,t,n){return t=+t,e=+e,n=+n,Sh(e,t,n)[2]}function mb(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?pb(t,e,n):pb(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function NP(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function IP(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function gk(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?mk:yX(i);r>n;){if(r-n>600){const c=r-n+1,d=t-n+1,h=Math.log(c),m=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*m*(c-m)/c)*(d-c/2<0?-1:1),_=Math.max(n,Math.floor(t-d*m/c+v)),T=Math.min(r,Math.floor(t+(c-d)*m/c+v));gk(e,t,_,T,i)}const a=e[t];let l=n,u=r;for(Au(e,n,t),i(e[r],a)>0&&Au(e,n,r);l<u;){for(Au(e,l,u),++l,--u;i(e[l],a)<0;)++l;for(;i(e[u],a)>0;)--u}i(e[n],a)===0?Au(e,n,u):(++u,Au(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function Au(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function TX(e,t,n){if(e=Float64Array.from(hX(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return IP(e);if(t>=1)return NP(e);var r,i=(r-1)*t,a=Math.floor(i),l=NP(gk(e,a).subarray(0,a+1)),u=IP(e.subarray(a+1));return l+(u-l)*(i-a)}}function EX(e,t,n=pk){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),l=+n(e[a],a,e),u=+n(e[a+1],a+1,e);return l+(u-l)*(i-a)}}function wX(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Cr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function aa(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const gb=Symbol("implicit");function $_(){var e=new PP,t=[],n=[],r=gb;function i(a){let l=e.get(a);if(l===void 0){if(r!==gb)return r;e.set(a,l=t.push(a)-1)}return n[l%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new PP;for(const l of a)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return $_(t,n).unknown(r)},Cr.apply(i,arguments),i}function F_(){var e=$_().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,l,u=!1,c=0,d=0,h=.5;delete e.unknown;function m(){var v=t().length,_=i<r,T=_?i:r,E=_?r:i;a=(E-T)/Math.max(1,v-c+d*2),u&&(a=Math.floor(a)),T+=(E-T-a*(v-c))*h,l=a*(1-c),u&&(T=Math.round(T),l=Math.round(l));var w=wX(v).map(function(M){return T+a*M});return n(_?w.reverse():w)}return e.domain=function(v){return arguments.length?(t(v),m()):t()},e.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,m()):[r,i]},e.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,u=!0,m()},e.bandwidth=function(){return l},e.step=function(){return a},e.round=function(v){return arguments.length?(u=!!v,m()):u},e.padding=function(v){return arguments.length?(c=Math.min(1,d=+v),m()):c},e.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),m()):c},e.paddingOuter=function(v){return arguments.length?(d=+v,m()):d},e.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),m()):h},e.copy=function(){return F_(t(),[r,i]).round(u).paddingInner(c).paddingOuter(d).align(h)},Cr.apply(m(),arguments)}function vk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return vk(t())},e}function xX(){return vk(F_.apply(null,arguments).paddingInner(1))}function H_(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function yk(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ac(){}var rc=.7,Th=1/rc,Qs="\\s*([+-]?\\d+)\\s*",ic="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",AX=/^#([0-9a-f]{3,8})$/,CX=new RegExp(`^rgb\\(${Qs},${Qs},${Qs}\\)$`),MX=new RegExp(`^rgb\\(${Qr},${Qr},${Qr}\\)$`),PX=new RegExp(`^rgba\\(${Qs},${Qs},${Qs},${ic}\\)$`),OX=new RegExp(`^rgba\\(${Qr},${Qr},${Qr},${ic}\\)$`),NX=new RegExp(`^hsl\\(${ic},${Qr},${Qr}\\)$`),IX=new RegExp(`^hsla\\(${ic},${Qr},${Qr},${ic}\\)$`),DP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};H_(Ac,ac,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:RP,formatHex:RP,formatHex8:DX,formatHsl:RX,formatRgb:kP,toString:kP});function RP(){return this.rgb().formatHex()}function DX(){return this.rgb().formatHex8()}function RX(){return bk(this).formatHsl()}function kP(){return this.rgb().formatRgb()}function ac(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=AX.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?LP(t):n===3?new $n(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?gd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?gd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=CX.exec(e))?new $n(t[1],t[2],t[3],1):(t=MX.exec(e))?new $n(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=PX.exec(e))?gd(t[1],t[2],t[3],t[4]):(t=OX.exec(e))?gd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=NX.exec(e))?jP(t[1],t[2]/100,t[3]/100,1):(t=IX.exec(e))?jP(t[1],t[2]/100,t[3]/100,t[4]):DP.hasOwnProperty(e)?LP(DP[e]):e==="transparent"?new $n(NaN,NaN,NaN,0):null}function LP(e){return new $n(e>>16&255,e>>8&255,e&255,1)}function gd(e,t,n,r){return r<=0&&(e=t=n=NaN),new $n(e,t,n,r)}function kX(e){return e instanceof Ac||(e=ac(e)),e?(e=e.rgb(),new $n(e.r,e.g,e.b,e.opacity)):new $n}function vb(e,t,n,r){return arguments.length===1?kX(e):new $n(e,t,n,r??1)}function $n(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}H_($n,vb,yk(Ac,{brighter(e){return e=e==null?Th:Math.pow(Th,e),new $n(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?rc:Math.pow(rc,e),new $n(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new $n(Do(this.r),Do(this.g),Do(this.b),Eh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:UP,formatHex:UP,formatHex8:LX,formatRgb:qP,toString:qP}));function UP(){return`#${Co(this.r)}${Co(this.g)}${Co(this.b)}`}function LX(){return`#${Co(this.r)}${Co(this.g)}${Co(this.b)}${Co((isNaN(this.opacity)?1:this.opacity)*255)}`}function qP(){const e=Eh(this.opacity);return`${e===1?"rgb(":"rgba("}${Do(this.r)}, ${Do(this.g)}, ${Do(this.b)}${e===1?")":`, ${e})`}`}function Eh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Do(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Co(e){return e=Do(e),(e<16?"0":"")+e.toString(16)}function jP(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new kr(e,t,n,r)}function bk(e){if(e instanceof kr)return new kr(e.h,e.s,e.l,e.opacity);if(e instanceof Ac||(e=ac(e)),!e)return new kr;if(e instanceof kr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),l=NaN,u=a-i,c=(a+i)/2;return u?(t===a?l=(n-r)/u+(n<r)*6:n===a?l=(r-t)/u+2:l=(t-n)/u+4,u/=c<.5?a+i:2-a-i,l*=60):u=c>0&&c<1?0:l,new kr(l,u,c,e.opacity)}function UX(e,t,n,r){return arguments.length===1?bk(e):new kr(e,t,n,r??1)}function kr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}H_(kr,UX,yk(Ac,{brighter(e){return e=e==null?Th:Math.pow(Th,e),new kr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?rc:Math.pow(rc,e),new kr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new $n(My(e>=240?e-240:e+120,i,r),My(e,i,r),My(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new kr(zP(this.h),vd(this.s),vd(this.l),Eh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Eh(this.opacity);return`${e===1?"hsl(":"hsla("}${zP(this.h)}, ${vd(this.s)*100}%, ${vd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function zP(e){return e=(e||0)%360,e<0?e+360:e}function vd(e){return Math.max(0,Math.min(1,e||0))}function My(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const G_=e=>()=>e;function qX(e,t){return function(n){return e+n*t}}function jX(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function zX(e){return(e=+e)==1?_k:function(t,n){return n-t?jX(t,n,e):G_(isNaN(t)?n:t)}}function _k(e,t){var n=t-e;return n?qX(e,n):G_(isNaN(e)?t:e)}const BP=(function e(t){var n=zX(t);function r(i,a){var l=n((i=vb(i)).r,(a=vb(a)).r),u=n(i.g,a.g),c=n(i.b,a.b),d=_k(i.opacity,a.opacity);return function(h){return i.r=l(h),i.g=u(h),i.b=c(h),i.opacity=d(h),i+""}}return r.gamma=e,r})(1);function BX(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function $X(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function FX(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),l;for(l=0;l<r;++l)i[l]=_l(e[l],t[l]);for(;l<n;++l)a[l]=t[l];return function(u){for(l=0;l<r;++l)a[l]=i[l](u);return a}}function HX(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function wh(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function GX(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=_l(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var yb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Py=new RegExp(yb.source,"g");function VX(e){return function(){return e}}function KX(e){return function(t){return e(t)+""}}function YX(e,t){var n=yb.lastIndex=Py.lastIndex=0,r,i,a,l=-1,u=[],c=[];for(e=e+"",t=t+"";(r=yb.exec(e))&&(i=Py.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),u[l]?u[l]+=a:u[++l]=a),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,c.push({i:l,x:wh(r,i)})),n=Py.lastIndex;return n<t.length&&(a=t.slice(n),u[l]?u[l]+=a:u[++l]=a),u.length<2?c[0]?KX(c[0].x):VX(t):(t=c.length,function(d){for(var h=0,m;h<t;++h)u[(m=c[h]).i]=m.x(d);return u.join("")})}function _l(e,t){var n=typeof t,r;return t==null||n==="boolean"?G_(t):(n==="number"?wh:n==="string"?(r=ac(t))?(t=r,BP):YX:t instanceof ac?BP:t instanceof Date?HX:$X(t)?BX:Array.isArray(t)?FX:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?GX:wh)(e,t)}function V_(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function WX(e,t){t===void 0&&(t=e,e=_l);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return a[u](l-u)}}function JX(e){return function(){return e}}function xh(e){return+e}var $P=[0,1];function wn(e){return e}function bb(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:JX(isNaN(t)?NaN:.5)}function XX(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function QX(e,t,n){var r=e[0],i=e[1],a=t[0],l=t[1];return i<r?(r=bb(i,r),a=n(l,a)):(r=bb(r,i),a=n(a,l)),function(u){return a(r(u))}}function ZX(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=bb(e[l],e[l+1]),a[l]=n(t[l],t[l+1]);return function(u){var c=xc(e,u,1,r)-1;return a[c](i[c](u))}}function Cc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Tp(){var e=$P,t=$P,n=_l,r,i,a,l=wn,u,c,d;function h(){var v=Math.min(e.length,t.length);return l!==wn&&(l=XX(e[0],e[v-1])),u=v>2?ZX:QX,c=d=null,m}function m(v){return v==null||isNaN(v=+v)?a:(c||(c=u(e.map(r),t,n)))(r(l(v)))}return m.invert=function(v){return l(i((d||(d=u(t,e.map(r),wh)))(v)))},m.domain=function(v){return arguments.length?(e=Array.from(v,xh),h()):e.slice()},m.range=function(v){return arguments.length?(t=Array.from(v),h()):t.slice()},m.rangeRound=function(v){return t=Array.from(v),n=V_,h()},m.clamp=function(v){return arguments.length?(l=v?!0:wn,h()):l!==wn},m.interpolate=function(v){return arguments.length?(n=v,h()):n},m.unknown=function(v){return arguments.length?(a=v,m):a},function(v,_){return r=v,i=_,h()}}function K_(){return Tp()(wn,wn)}function eQ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ah(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function sl(e){return e=Ah(Math.abs(e)),e?e[1]:NaN}function tQ(e,t){return function(n,r){for(var i=n.length,a=[],l=0,u=e[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),a.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=e[l=(l+1)%e.length];return a.reverse().join(t)}}function nQ(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var rQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function oc(e){if(!(t=rQ.exec(e)))throw new Error("invalid format: "+e);var t;return new Y_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}oc.prototype=Y_.prototype;function Y_(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Y_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function iQ(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Sk;function aQ(e,t){var n=Ah(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(Sk=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return a===l?r:a>l?r+new Array(a-l+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ah(e,Math.max(0,t+a-1))[0]}function FP(e,t){var n=Ah(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const HP={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:eQ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>FP(e*100,t),r:FP,s:aQ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function GP(e){return e}var VP=Array.prototype.map,KP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function oQ(e){var t=e.grouping===void 0||e.thousands===void 0?GP:tQ(VP.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?GP:nQ(VP.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(m){m=oc(m);var v=m.fill,_=m.align,T=m.sign,E=m.symbol,w=m.zero,M=m.width,O=m.comma,P=m.precision,D=m.trim,N=m.type;N==="n"?(O=!0,N="g"):HP[N]||(P===void 0&&(P=12),D=!0,N="g"),(w||v==="0"&&_==="=")&&(w=!0,v="0",_="=");var R=E==="$"?n:E==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",k=E==="$"?r:/[%p]/.test(N)?l:"",B=HP[N],$=/[defgprs%]/.test(N);P=P===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function oe(V){var W=R,fe=k,pe,be,z;if(N==="c")fe=B(V)+fe,V="";else{V=+V;var ee=V<0||1/V<0;if(V=isNaN(V)?c:B(Math.abs(V),P),D&&(V=iQ(V)),ee&&+V==0&&T!=="+"&&(ee=!1),W=(ee?T==="("?T:u:T==="-"||T==="("?"":T)+W,fe=(N==="s"?KP[8+Sk/3]:"")+fe+(ee&&T==="("?")":""),$){for(pe=-1,be=V.length;++pe<be;)if(z=V.charCodeAt(pe),48>z||z>57){fe=(z===46?i+V.slice(pe+1):V.slice(pe))+fe,V=V.slice(0,pe);break}}}O&&!w&&(V=t(V,1/0));var le=W.length+V.length+fe.length,ue=le<M?new Array(M-le+1).join(v):"";switch(O&&w&&(V=t(ue+V,ue.length?M-fe.length:1/0),ue=""),_){case"<":V=W+V+fe+ue;break;case"=":V=W+ue+V+fe;break;case"^":V=ue.slice(0,le=ue.length>>1)+W+V+fe+ue.slice(le);break;default:V=ue+W+V+fe;break}return a(V)}return oe.toString=function(){return m+""},oe}function h(m,v){var _=d((m=oc(m),m.type="f",m)),T=Math.max(-8,Math.min(8,Math.floor(sl(v)/3)))*3,E=Math.pow(10,-T),w=KP[8+T/3];return function(M){return _(E*M)+w}}return{format:d,formatPrefix:h}}var yd,W_,Tk;sQ({thousands:",",grouping:[3],currency:["$",""]});function sQ(e){return yd=oQ(e),W_=yd.format,Tk=yd.formatPrefix,yd}function lQ(e){return Math.max(0,-sl(Math.abs(e)))}function uQ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sl(t)/3)))*3-sl(Math.abs(e)))}function cQ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,sl(t)-sl(e))+1}function Ek(e,t,n,r){var i=mb(e,t,n),a;switch(r=oc(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=uQ(i,l))&&(r.precision=a),Tk(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=cQ(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=lQ(i))&&(r.precision=a-(r.type==="%")*2);break}}return W_(r)}function Va(e){var t=e.domain;return e.ticks=function(n){var r=t();return hb(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Ek(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,l=r[i],u=r[a],c,d,h=10;for(u<l&&(d=l,l=u,u=d,d=i,i=a,a=d);h-- >0;){if(d=pb(l,u,n),d===c)return r[i]=l,r[a]=u,t(r);if(d>0)l=Math.floor(l/d)*d,u=Math.ceil(u/d)*d;else if(d<0)l=Math.ceil(l*d)/d,u=Math.floor(u*d)/d;else break;c=d}return e},e}function wk(){var e=K_();return e.copy=function(){return Cc(e,wk())},Cr.apply(e,arguments),Va(e)}function xk(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,xh),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return xk(e).unknown(t)},e=arguments.length?Array.from(e,xh):[0,1],Va(n)}function Ak(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],l;return a<i&&(l=n,n=r,r=l,l=i,i=a,a=l),e[n]=t.floor(i),e[r]=t.ceil(a),e}function YP(e){return Math.log(e)}function WP(e){return Math.exp(e)}function fQ(e){return-Math.log(-e)}function dQ(e){return-Math.exp(-e)}function hQ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function pQ(e){return e===10?hQ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function mQ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function JP(e){return(t,n)=>-e(-t,n)}function J_(e){const t=e(YP,WP),n=t.domain;let r=10,i,a;function l(){return i=mQ(r),a=pQ(r),n()[0]<0?(i=JP(i),a=JP(a),e(fQ,dQ)):e(YP,WP),t}return t.base=function(u){return arguments.length?(r=+u,l()):r},t.domain=function(u){return arguments.length?(n(u),l()):n()},t.ticks=u=>{const c=n();let d=c[0],h=c[c.length-1];const m=h<d;m&&([d,h]=[h,d]);let v=i(d),_=i(h),T,E;const w=u==null?10:+u;let M=[];if(!(r%1)&&_-v<w){if(v=Math.floor(v),_=Math.ceil(_),d>0){for(;v<=_;++v)for(T=1;T<r;++T)if(E=v<0?T/a(-v):T*a(v),!(E<d)){if(E>h)break;M.push(E)}}else for(;v<=_;++v)for(T=r-1;T>=1;--T)if(E=v>0?T/a(-v):T*a(v),!(E<d)){if(E>h)break;M.push(E)}M.length*2<w&&(M=hb(d,h,w))}else M=hb(v,_,Math.min(_-v,w)).map(a);return m?M.reverse():M},t.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=oc(c)).precision==null&&(c.trim=!0),c=W_(c)),u===1/0)return c;const d=Math.max(1,r*u/t.ticks().length);return h=>{let m=h/a(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=d?c(h):""}},t.nice=()=>n(Ak(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),t}function Ck(){const e=J_(Tp()).domain([1,10]);return e.copy=()=>Cc(e,Ck()).base(e.base()),Cr.apply(e,arguments),e}function XP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function QP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function X_(e){var t=1,n=e(XP(t),QP(t));return n.constant=function(r){return arguments.length?e(XP(t=+r),QP(t)):t},Va(n)}function Mk(){var e=X_(Tp());return e.copy=function(){return Cc(e,Mk()).constant(e.constant())},Cr.apply(e,arguments)}function ZP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function gQ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function vQ(e){return e<0?-e*e:e*e}function Q_(e){var t=e(wn,wn),n=1;function r(){return n===1?e(wn,wn):n===.5?e(gQ,vQ):e(ZP(n),ZP(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Va(t)}function Z_(){var e=Q_(Tp());return e.copy=function(){return Cc(e,Z_()).exponent(e.exponent())},Cr.apply(e,arguments),e}function yQ(){return Z_.apply(null,arguments).exponent(.5)}function eO(e){return Math.sign(e)*e*e}function bQ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Pk(){var e=K_(),t=[0,1],n=!1,r;function i(a){var l=bQ(e(a));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(a){return e.invert(eO(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,xh)).map(eO)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Pk(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Cr.apply(i,arguments),Va(i)}function Ok(){var e=[],t=[],n=[],r;function i(){var l=0,u=Math.max(1,t.length);for(n=new Array(u-1);++l<u;)n[l-1]=EX(e,l/u);return a}function a(l){return l==null||isNaN(l=+l)?r:t[xc(n,l)]}return a.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},a.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(La),i()},a.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Ok().domain(e).range(t).unknown(r)},Cr.apply(a,arguments)}function Nk(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function l(c){return c!=null&&c<=c?i[xc(r,c,0,n)]:a}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return l}return l.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,u()):[e,t]},l.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,u()):i.slice()},l.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},l.unknown=function(c){return arguments.length&&(a=c),l},l.thresholds=function(){return r.slice()},l.copy=function(){return Nk().domain([e,t]).range(i).unknown(a)},Cr.apply(Va(l),arguments)}function Ik(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[xc(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var l=t.indexOf(a);return[e[l-1],e[l]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Ik().domain(e).range(t).unknown(n)},Cr.apply(i,arguments)}const Oy=new Date,Ny=new Date;function qt(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const l=i(a),u=i.ceil(a);return a-l<u-a?l:u},i.offset=(a,l)=>(t(a=new Date(+a),l==null?1:Math.floor(l)),a),i.range=(a,l,u)=>{const c=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<l)||!(u>0))return c;let d;do c.push(d=new Date(+a)),t(a,u),e(a);while(d<a&&a<l);return c},i.filter=a=>qt(l=>{if(l>=l)for(;e(l),!a(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!a(l););else for(;--u>=0;)for(;t(l,1),!a(l););}),n&&(i.count=(a,l)=>(Oy.setTime(+a),Ny.setTime(+l),e(Oy),e(Ny),Math.floor(n(Oy,Ny))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?l=>r(l)%a===0:l=>i.count(0,l)%a===0):i)),i}const Ch=qt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ch.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?qt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Ch);Ch.range;const Li=1e3,_r=Li*60,Ui=_r*60,Wi=Ui*24,eS=Wi*7,tO=Wi*30,Iy=Wi*365,Mo=qt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Li)},(e,t)=>(t-e)/Li,e=>e.getUTCSeconds());Mo.range;const tS=qt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Li)},(e,t)=>{e.setTime(+e+t*_r)},(e,t)=>(t-e)/_r,e=>e.getMinutes());tS.range;const nS=qt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*_r)},(e,t)=>(t-e)/_r,e=>e.getUTCMinutes());nS.range;const rS=qt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Li-e.getMinutes()*_r)},(e,t)=>{e.setTime(+e+t*Ui)},(e,t)=>(t-e)/Ui,e=>e.getHours());rS.range;const iS=qt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ui)},(e,t)=>(t-e)/Ui,e=>e.getUTCHours());iS.range;const Mc=qt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*_r)/Wi,e=>e.getDate()-1);Mc.range;const Ep=qt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wi,e=>e.getUTCDate()-1);Ep.range;const Dk=qt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wi,e=>Math.floor(e/Wi));Dk.range;function $o(e){return qt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*_r)/eS)}const wp=$o(0),Mh=$o(1),_Q=$o(2),SQ=$o(3),ll=$o(4),TQ=$o(5),EQ=$o(6);wp.range;Mh.range;_Q.range;SQ.range;ll.range;TQ.range;EQ.range;function Fo(e){return qt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/eS)}const xp=Fo(0),Ph=Fo(1),wQ=Fo(2),xQ=Fo(3),ul=Fo(4),AQ=Fo(5),CQ=Fo(6);xp.range;Ph.range;wQ.range;xQ.range;ul.range;AQ.range;CQ.range;const aS=qt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());aS.range;const oS=qt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());oS.range;const Ji=qt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ji.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ji.range;const Xi=qt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Xi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Xi.range;function Rk(e,t,n,r,i,a){const l=[[Mo,1,Li],[Mo,5,5*Li],[Mo,15,15*Li],[Mo,30,30*Li],[a,1,_r],[a,5,5*_r],[a,15,15*_r],[a,30,30*_r],[i,1,Ui],[i,3,3*Ui],[i,6,6*Ui],[i,12,12*Ui],[r,1,Wi],[r,2,2*Wi],[n,1,eS],[t,1,tO],[t,3,3*tO],[e,1,Iy]];function u(d,h,m){const v=h<d;v&&([d,h]=[h,d]);const _=m&&typeof m.range=="function"?m:c(d,h,m),T=_?_.range(d,+h+1):[];return v?T.reverse():T}function c(d,h,m){const v=Math.abs(h-d)/m,_=B_(([,,w])=>w).right(l,v);if(_===l.length)return e.every(mb(d/Iy,h/Iy,m));if(_===0)return Ch.every(Math.max(mb(d,h,m),1));const[T,E]=l[v/l[_-1][2]<l[_][2]/v?_-1:_];return T.every(E)}return[u,c]}const[MQ,PQ]=Rk(Xi,oS,xp,Dk,iS,nS),[OQ,NQ]=Rk(Ji,aS,wp,Mc,rS,tS);function Dy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ry(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Cu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function IQ(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,l=e.shortDays,u=e.months,c=e.shortMonths,d=Mu(i),h=Pu(i),m=Mu(a),v=Pu(a),_=Mu(l),T=Pu(l),E=Mu(u),w=Pu(u),M=Mu(c),O=Pu(c),P={a:ee,A:le,b:ue,B:we,c:null,d:sO,e:sO,f:tZ,g:fZ,G:hZ,H:QQ,I:ZQ,j:eZ,L:kk,m:nZ,M:rZ,p:U,q:J,Q:cO,s:fO,S:iZ,u:aZ,U:oZ,V:sZ,w:lZ,W:uZ,x:null,X:null,y:cZ,Y:dZ,Z:pZ,"%":uO},D={a:se,A:ce,b:K,B:de,c:null,d:lO,e:lO,f:yZ,g:MZ,G:OZ,H:mZ,I:gZ,j:vZ,L:Uk,m:bZ,M:_Z,p:_e,q:dt,Q:cO,s:fO,S:SZ,u:TZ,U:EZ,V:wZ,w:xZ,W:AZ,x:null,X:null,y:CZ,Y:PZ,Z:NZ,"%":uO},N={a:oe,A:V,b:W,B:fe,c:pe,d:aO,e:aO,f:YQ,g:iO,G:rO,H:oO,I:oO,j:HQ,L:KQ,m:FQ,M:GQ,p:$,q:$Q,Q:JQ,s:XQ,S:VQ,u:UQ,U:qQ,V:jQ,w:LQ,W:zQ,x:be,X:z,y:iO,Y:rO,Z:BQ,"%":WQ};P.x=R(n,P),P.X=R(r,P),P.c=R(t,P),D.x=R(n,D),D.X=R(r,D),D.c=R(t,D);function R(Z,Ce){return function(Oe){var ae=[],tt=-1,De=0,yt=Z.length,Tt,Ke,Br;for(Oe instanceof Date||(Oe=new Date(+Oe));++tt<yt;)Z.charCodeAt(tt)===37&&(ae.push(Z.slice(De,tt)),(Ke=nO[Tt=Z.charAt(++tt)])!=null?Tt=Z.charAt(++tt):Ke=Tt==="e"?" ":"0",(Br=Ce[Tt])&&(Tt=Br(Oe,Ke)),ae.push(Tt),De=tt+1);return ae.push(Z.slice(De,tt)),ae.join("")}}function k(Z,Ce){return function(Oe){var ae=Cu(1900,void 0,1),tt=B(ae,Z,Oe+="",0),De,yt;if(tt!=Oe.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(Ce&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(De=Ry(Cu(ae.y,0,1)),yt=De.getUTCDay(),De=yt>4||yt===0?Ph.ceil(De):Ph(De),De=Ep.offset(De,(ae.V-1)*7),ae.y=De.getUTCFullYear(),ae.m=De.getUTCMonth(),ae.d=De.getUTCDate()+(ae.w+6)%7):(De=Dy(Cu(ae.y,0,1)),yt=De.getDay(),De=yt>4||yt===0?Mh.ceil(De):Mh(De),De=Mc.offset(De,(ae.V-1)*7),ae.y=De.getFullYear(),ae.m=De.getMonth(),ae.d=De.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),yt="Z"in ae?Ry(Cu(ae.y,0,1)).getUTCDay():Dy(Cu(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(yt+5)%7:ae.w+ae.U*7-(yt+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,Ry(ae)):Dy(ae)}}function B(Z,Ce,Oe,ae){for(var tt=0,De=Ce.length,yt=Oe.length,Tt,Ke;tt<De;){if(ae>=yt)return-1;if(Tt=Ce.charCodeAt(tt++),Tt===37){if(Tt=Ce.charAt(tt++),Ke=N[Tt in nO?Ce.charAt(tt++):Tt],!Ke||(ae=Ke(Z,Oe,ae))<0)return-1}else if(Tt!=Oe.charCodeAt(ae++))return-1}return ae}function $(Z,Ce,Oe){var ae=d.exec(Ce.slice(Oe));return ae?(Z.p=h.get(ae[0].toLowerCase()),Oe+ae[0].length):-1}function oe(Z,Ce,Oe){var ae=_.exec(Ce.slice(Oe));return ae?(Z.w=T.get(ae[0].toLowerCase()),Oe+ae[0].length):-1}function V(Z,Ce,Oe){var ae=m.exec(Ce.slice(Oe));return ae?(Z.w=v.get(ae[0].toLowerCase()),Oe+ae[0].length):-1}function W(Z,Ce,Oe){var ae=M.exec(Ce.slice(Oe));return ae?(Z.m=O.get(ae[0].toLowerCase()),Oe+ae[0].length):-1}function fe(Z,Ce,Oe){var ae=E.exec(Ce.slice(Oe));return ae?(Z.m=w.get(ae[0].toLowerCase()),Oe+ae[0].length):-1}function pe(Z,Ce,Oe){return B(Z,t,Ce,Oe)}function be(Z,Ce,Oe){return B(Z,n,Ce,Oe)}function z(Z,Ce,Oe){return B(Z,r,Ce,Oe)}function ee(Z){return l[Z.getDay()]}function le(Z){return a[Z.getDay()]}function ue(Z){return c[Z.getMonth()]}function we(Z){return u[Z.getMonth()]}function U(Z){return i[+(Z.getHours()>=12)]}function J(Z){return 1+~~(Z.getMonth()/3)}function se(Z){return l[Z.getUTCDay()]}function ce(Z){return a[Z.getUTCDay()]}function K(Z){return c[Z.getUTCMonth()]}function de(Z){return u[Z.getUTCMonth()]}function _e(Z){return i[+(Z.getUTCHours()>=12)]}function dt(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var Ce=R(Z+="",P);return Ce.toString=function(){return Z},Ce},parse:function(Z){var Ce=k(Z+="",!1);return Ce.toString=function(){return Z},Ce},utcFormat:function(Z){var Ce=R(Z+="",D);return Ce.toString=function(){return Z},Ce},utcParse:function(Z){var Ce=k(Z+="",!0);return Ce.toString=function(){return Z},Ce}}}var nO={"-":"",_:" ",0:"0"},Xt=/^\s*\d+/,DQ=/^%/,RQ=/[\\^$*+?|[\]().{}]/g;function Ge(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function kQ(e){return e.replace(RQ,"\\$&")}function Mu(e){return new RegExp("^(?:"+e.map(kQ).join("|")+")","i")}function Pu(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function LQ(e,t,n){var r=Xt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function UQ(e,t,n){var r=Xt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function qQ(e,t,n){var r=Xt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function jQ(e,t,n){var r=Xt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function zQ(e,t,n){var r=Xt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function rO(e,t,n){var r=Xt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function iO(e,t,n){var r=Xt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function BQ(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function $Q(e,t,n){var r=Xt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function FQ(e,t,n){var r=Xt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function aO(e,t,n){var r=Xt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function HQ(e,t,n){var r=Xt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function oO(e,t,n){var r=Xt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function GQ(e,t,n){var r=Xt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function VQ(e,t,n){var r=Xt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function KQ(e,t,n){var r=Xt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function YQ(e,t,n){var r=Xt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function WQ(e,t,n){var r=DQ.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function JQ(e,t,n){var r=Xt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function XQ(e,t,n){var r=Xt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function sO(e,t){return Ge(e.getDate(),t,2)}function QQ(e,t){return Ge(e.getHours(),t,2)}function ZQ(e,t){return Ge(e.getHours()%12||12,t,2)}function eZ(e,t){return Ge(1+Mc.count(Ji(e),e),t,3)}function kk(e,t){return Ge(e.getMilliseconds(),t,3)}function tZ(e,t){return kk(e,t)+"000"}function nZ(e,t){return Ge(e.getMonth()+1,t,2)}function rZ(e,t){return Ge(e.getMinutes(),t,2)}function iZ(e,t){return Ge(e.getSeconds(),t,2)}function aZ(e){var t=e.getDay();return t===0?7:t}function oZ(e,t){return Ge(wp.count(Ji(e)-1,e),t,2)}function Lk(e){var t=e.getDay();return t>=4||t===0?ll(e):ll.ceil(e)}function sZ(e,t){return e=Lk(e),Ge(ll.count(Ji(e),e)+(Ji(e).getDay()===4),t,2)}function lZ(e){return e.getDay()}function uZ(e,t){return Ge(Mh.count(Ji(e)-1,e),t,2)}function cZ(e,t){return Ge(e.getFullYear()%100,t,2)}function fZ(e,t){return e=Lk(e),Ge(e.getFullYear()%100,t,2)}function dZ(e,t){return Ge(e.getFullYear()%1e4,t,4)}function hZ(e,t){var n=e.getDay();return e=n>=4||n===0?ll(e):ll.ceil(e),Ge(e.getFullYear()%1e4,t,4)}function pZ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ge(t/60|0,"0",2)+Ge(t%60,"0",2)}function lO(e,t){return Ge(e.getUTCDate(),t,2)}function mZ(e,t){return Ge(e.getUTCHours(),t,2)}function gZ(e,t){return Ge(e.getUTCHours()%12||12,t,2)}function vZ(e,t){return Ge(1+Ep.count(Xi(e),e),t,3)}function Uk(e,t){return Ge(e.getUTCMilliseconds(),t,3)}function yZ(e,t){return Uk(e,t)+"000"}function bZ(e,t){return Ge(e.getUTCMonth()+1,t,2)}function _Z(e,t){return Ge(e.getUTCMinutes(),t,2)}function SZ(e,t){return Ge(e.getUTCSeconds(),t,2)}function TZ(e){var t=e.getUTCDay();return t===0?7:t}function EZ(e,t){return Ge(xp.count(Xi(e)-1,e),t,2)}function qk(e){var t=e.getUTCDay();return t>=4||t===0?ul(e):ul.ceil(e)}function wZ(e,t){return e=qk(e),Ge(ul.count(Xi(e),e)+(Xi(e).getUTCDay()===4),t,2)}function xZ(e){return e.getUTCDay()}function AZ(e,t){return Ge(Ph.count(Xi(e)-1,e),t,2)}function CZ(e,t){return Ge(e.getUTCFullYear()%100,t,2)}function MZ(e,t){return e=qk(e),Ge(e.getUTCFullYear()%100,t,2)}function PZ(e,t){return Ge(e.getUTCFullYear()%1e4,t,4)}function OZ(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ul(e):ul.ceil(e),Ge(e.getUTCFullYear()%1e4,t,4)}function NZ(){return"+0000"}function uO(){return"%"}function cO(e){return+e}function fO(e){return Math.floor(+e/1e3)}var Ds,jk,zk;IZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function IZ(e){return Ds=IQ(e),jk=Ds.format,Ds.parse,zk=Ds.utcFormat,Ds.utcParse,Ds}function DZ(e){return new Date(e)}function RZ(e){return e instanceof Date?+e:+new Date(+e)}function sS(e,t,n,r,i,a,l,u,c,d){var h=K_(),m=h.invert,v=h.domain,_=d(".%L"),T=d(":%S"),E=d("%I:%M"),w=d("%I %p"),M=d("%a %d"),O=d("%b %d"),P=d("%B"),D=d("%Y");function N(R){return(c(R)<R?_:u(R)<R?T:l(R)<R?E:a(R)<R?w:r(R)<R?i(R)<R?M:O:n(R)<R?P:D)(R)}return h.invert=function(R){return new Date(m(R))},h.domain=function(R){return arguments.length?v(Array.from(R,RZ)):v().map(DZ)},h.ticks=function(R){var k=v();return e(k[0],k[k.length-1],R??10)},h.tickFormat=function(R,k){return k==null?N:d(k)},h.nice=function(R){var k=v();return(!R||typeof R.range!="function")&&(R=t(k[0],k[k.length-1],R??10)),R?v(Ak(k,R)):h},h.copy=function(){return Cc(h,sS(e,t,n,r,i,a,l,u,c,d))},h}function kZ(){return Cr.apply(sS(OQ,NQ,Ji,aS,wp,Mc,rS,tS,Mo,jk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function LZ(){return Cr.apply(sS(MQ,PQ,Xi,oS,xp,Ep,iS,nS,Mo,zk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ap(){var e=0,t=1,n,r,i,a,l=wn,u=!1,c;function d(m){return m==null||isNaN(m=+m)?c:l(i===0?.5:(m=(a(m)-n)*i,u?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(m){return arguments.length?(u=!!m,d):u},d.interpolator=function(m){return arguments.length?(l=m,d):l};function h(m){return function(v){var _,T;return arguments.length?([_,T]=v,l=m(_,T),d):[l(0),l(1)]}}return d.range=h(_l),d.rangeRound=h(V_),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return a=m,n=m(e),r=m(t),i=n===r?0:1/(r-n),d}}function Ka(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Bk(){var e=Va(Ap()(wn));return e.copy=function(){return Ka(e,Bk())},aa.apply(e,arguments)}function $k(){var e=J_(Ap()).domain([1,10]);return e.copy=function(){return Ka(e,$k()).base(e.base())},aa.apply(e,arguments)}function Fk(){var e=X_(Ap());return e.copy=function(){return Ka(e,Fk()).constant(e.constant())},aa.apply(e,arguments)}function lS(){var e=Q_(Ap());return e.copy=function(){return Ka(e,lS()).exponent(e.exponent())},aa.apply(e,arguments)}function UZ(){return lS.apply(null,arguments).exponent(.5)}function Hk(){var e=[],t=wn;function n(r){if(r!=null&&!isNaN(r=+r))return t((xc(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(La),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>TX(e,a/r))},n.copy=function(){return Hk(t).domain(e)},aa.apply(n,arguments)}function Cp(){var e=0,t=.5,n=1,r=1,i,a,l,u,c,d=wn,h,m=!1,v;function _(E){return isNaN(E=+E)?v:(E=.5+((E=+h(E))-a)*(r*E<r*a?u:c),d(m?Math.max(0,Math.min(1,E)):E))}_.domain=function(E){return arguments.length?([e,t,n]=E,i=h(e=+e),a=h(t=+t),l=h(n=+n),u=i===a?0:.5/(a-i),c=a===l?0:.5/(l-a),r=a<i?-1:1,_):[e,t,n]},_.clamp=function(E){return arguments.length?(m=!!E,_):m},_.interpolator=function(E){return arguments.length?(d=E,_):d};function T(E){return function(w){var M,O,P;return arguments.length?([M,O,P]=w,d=WX(E,[M,O,P]),_):[d(0),d(.5),d(1)]}}return _.range=T(_l),_.rangeRound=T(V_),_.unknown=function(E){return arguments.length?(v=E,_):v},function(E){return h=E,i=E(e),a=E(t),l=E(n),u=i===a?0:.5/(a-i),c=a===l?0:.5/(l-a),r=a<i?-1:1,_}}function Gk(){var e=Va(Cp()(wn));return e.copy=function(){return Ka(e,Gk())},aa.apply(e,arguments)}function Vk(){var e=J_(Cp()).domain([.1,1,10]);return e.copy=function(){return Ka(e,Vk()).base(e.base())},aa.apply(e,arguments)}function Kk(){var e=X_(Cp());return e.copy=function(){return Ka(e,Kk()).constant(e.constant())},aa.apply(e,arguments)}function uS(){var e=Q_(Cp());return e.copy=function(){return Ka(e,uS()).exponent(e.exponent())},aa.apply(e,arguments)}function qZ(){return uS.apply(null,arguments).exponent(.5)}const Lu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:F_,scaleDiverging:Gk,scaleDivergingLog:Vk,scaleDivergingPow:uS,scaleDivergingSqrt:qZ,scaleDivergingSymlog:Kk,scaleIdentity:xk,scaleImplicit:gb,scaleLinear:wk,scaleLog:Ck,scaleOrdinal:$_,scalePoint:xX,scalePow:Z_,scaleQuantile:Ok,scaleQuantize:Nk,scaleRadial:Pk,scaleSequential:Bk,scaleSequentialLog:$k,scaleSequentialPow:lS,scaleSequentialQuantile:Hk,scaleSequentialSqrt:UZ,scaleSequentialSymlog:Fk,scaleSqrt:yQ,scaleSymlog:Mk,scaleThreshold:Ik,scaleTime:kZ,scaleUtc:LZ,tickFormat:Ek},Symbol.toStringTag,{value:"Module"}));var Ya=e=>e.chartData,jZ=X([Ya],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),cS=(e,t,n,r)=>r?jZ(e):Ya(e);function za(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(St(t)&&St(n))return!0}return!1}function dO(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Yk(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(St(n))i=n;else if(typeof n=="function")return;if(St(r))a=r;else if(typeof r=="function")return;var l=[i,a];if(za(l))return l}}function zZ(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(za(r))return dO(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,l,u;if(i==="auto")t!=null&&(l=Math.min(...t));else if(Ee(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t?.[0]))}catch{}else if(typeof i=="string"&&zM.test(i)){var c=zM.exec(i);if(c==null||t==null)l=void 0;else{var d=+c[1];l=t[0]-d}}else l=t?.[0];if(a==="auto")t!=null&&(u=Math.max(...t));else if(Ee(a))u=a;else if(typeof a=="function")try{t!=null&&(u=a(t?.[1]))}catch{}else if(typeof a=="string"&&BM.test(a)){var h=BM.exec(a);if(h==null||t==null)u=void 0;else{var m=+h[1];u=t[1]+m}}else u=t?.[1];var v=[l,u];if(za(v))return t==null?v:dO(v,t,n)}}}var Sl=1e9,BZ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},dS,gt=!0,Ar="[DecimalError] ",Ro=Ar+"Invalid argument: ",fS=Ar+"Exponent out of range: ",Tl=Math.floor,_o=Math.pow,$Z=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Zn,Wt=1e7,ut=7,Wk=9007199254740991,Oh=Tl(Wk/ut),me={};me.absoluteValue=me.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};me.comparedTo=me.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};me.decimalPlaces=me.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*ut;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};me.dividedBy=me.div=function(e){return zi(this,new this.constructor(e))};me.dividedToIntegerBy=me.idiv=function(e){var t=this,n=t.constructor;return rt(zi(t,new n(e),0,1),n.precision)};me.equals=me.eq=function(e){return!this.cmp(e)};me.exponent=function(){return Rt(this)};me.greaterThan=me.gt=function(e){return this.cmp(e)>0};me.greaterThanOrEqualTo=me.gte=function(e){return this.cmp(e)>=0};me.isInteger=me.isint=function(){return this.e>this.d.length-2};me.isNegative=me.isneg=function(){return this.s<0};me.isPositive=me.ispos=function(){return this.s>0};me.isZero=function(){return this.s===0};me.lessThan=me.lt=function(e){return this.cmp(e)<0};me.lessThanOrEqualTo=me.lte=function(e){return this.cmp(e)<1};me.logarithm=me.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Zn))throw Error(Ar+"NaN");if(n.s<1)throw Error(Ar+(n.s?"NaN":"-Infinity"));return n.eq(Zn)?new r(0):(gt=!1,t=zi(sc(n,a),sc(e,a),a),gt=!0,rt(t,i))};me.minus=me.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Qk(t,e):Jk(t,(e.s=-e.s,e))};me.modulo=me.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Ar+"NaN");return n.s?(gt=!1,t=zi(n,e,0,1).times(e),gt=!0,n.minus(t)):rt(new r(n),i)};me.naturalExponential=me.exp=function(){return Xk(this)};me.naturalLogarithm=me.ln=function(){return sc(this)};me.negated=me.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};me.plus=me.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Jk(t,e):Qk(t,(e.s=-e.s,e))};me.precision=me.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ro+e);if(t=Rt(i)+1,r=i.d.length-1,n=r*ut+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};me.squareRoot=me.sqrt=function(){var e,t,n,r,i,a,l,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(Ar+"NaN")}for(e=Rt(u),gt=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=Jr(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Tl((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(i.toString()),n=c.precision,i=l=n+3;;)if(a=r,r=a.plus(zi(u,a,l+2)).times(.5),Jr(a.d).slice(0,l)===(t=Jr(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(rt(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(t!="9999")break;l+=4}return gt=!0,rt(r,n)};me.times=me.mul=function(e){var t,n,r,i,a,l,u,c,d,h=this,m=h.constructor,v=h.d,_=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,n=h.e+e.e,c=v.length,d=_.length,c<d&&(a=v,v=_,_=a,l=c,c=d,d=l),a=[],l=c+d,r=l;r--;)a.push(0);for(r=d;--r>=0;){for(t=0,i=c+r;i>r;)u=a[i]+_[r]*v[i-r-1]+t,a[i--]=u%Wt|0,t=u/Wt|0;a[i]=(a[i]+t)%Wt|0}for(;!a[--l];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,gt?rt(e,m.precision):e};me.toDecimalPlaces=me.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ni(e,0,Sl),t===void 0?t=r.rounding:ni(t,0,8),rt(n,e+Rt(n)+1,t))};me.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Uo(r,!0):(ni(e,0,Sl),t===void 0?t=i.rounding:ni(t,0,8),r=rt(new i(r),e+1,t),n=Uo(r,!0,e+1)),n};me.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?Uo(i):(ni(e,0,Sl),t===void 0?t=a.rounding:ni(t,0,8),r=rt(new a(i),e+Rt(i)+1,t),n=Uo(r.abs(),!1,e+Rt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};me.toInteger=me.toint=function(){var e=this,t=e.constructor;return rt(new t(e),Rt(e)+1,t.rounding)};me.toNumber=function(){return+this};me.toPower=me.pow=function(e){var t,n,r,i,a,l,u=this,c=u.constructor,d=12,h=+(e=new c(e));if(!e.s)return new c(Zn);if(u=new c(u),!u.s){if(e.s<1)throw Error(Ar+"Infinity");return u}if(u.eq(Zn))return u;if(r=c.precision,e.eq(Zn))return rt(u,r);if(t=e.e,n=e.d.length-1,l=t>=n,a=u.s,l){if((n=h<0?-h:h)<=Wk){for(i=new c(Zn),t=Math.ceil(r/ut+4),gt=!1;n%2&&(i=i.times(u),pO(i.d,t)),n=Tl(n/2),n!==0;)u=u.times(u),pO(u.d,t);return gt=!0,e.s<0?new c(Zn).div(i):rt(i,r)}}else if(a<0)throw Error(Ar+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,gt=!1,i=e.times(sc(u,r+d)),gt=!0,i=Xk(i),i.s=a,i};me.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Rt(i),r=Uo(i,n<=a.toExpNeg||n>=a.toExpPos)):(ni(e,1,Sl),t===void 0?t=a.rounding:ni(t,0,8),i=rt(new a(i),e,t),n=Rt(i),r=Uo(i,e<=n||n<=a.toExpNeg,e)),r};me.toSignificantDigits=me.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ni(e,1,Sl),t===void 0?t=r.rounding:ni(t,0,8)),rt(new r(n),e,t)};me.toString=me.valueOf=me.val=me.toJSON=me[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Rt(e),n=e.constructor;return Uo(e,t<=n.toExpNeg||t>=n.toExpPos)};function Jk(e,t){var n,r,i,a,l,u,c,d,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),gt?rt(t,m):t;if(c=e.d,d=t.d,l=e.e,i=t.e,c=c.slice(),a=l-i,a){for(a<0?(r=c,a=-a,u=d.length):(r=d,i=l,u=c.length),l=Math.ceil(m/ut),u=l>u?l+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=c.length,a=d.length,u-a<0&&(a=u,r=d,d=c,c=r),n=0;a;)n=(c[--a]=c[a]+d[a]+n)/Wt|0,c[a]%=Wt;for(n&&(c.unshift(n),++i),u=c.length;c[--u]==0;)c.pop();return t.d=c,t.e=i,gt?rt(t,m):t}function ni(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Ro+e)}function Jr(e){var t,n,r,i=e.length-1,a="",l=e[0];if(i>0){for(a+=l,t=1;t<i;t++)r=e[t]+"",n=ut-r.length,n&&(a+=Na(n)),a+=r;l=e[t],r=l+"",n=ut-r.length,n&&(a+=Na(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}var zi=(function(){function e(r,i){var a,l=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+l,r[u]=a%Wt|0,l=a/Wt|0;return l&&r.unshift(l),r}function t(r,i,a,l){var u,c;if(a!=l)c=a>l?1:-1;else for(u=c=0;u<a;u++)if(r[u]!=i[u]){c=r[u]>i[u]?1:-1;break}return c}function n(r,i,a){for(var l=0;a--;)r[a]-=l,l=r[a]<i[a]?1:0,r[a]=l*Wt+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,l){var u,c,d,h,m,v,_,T,E,w,M,O,P,D,N,R,k,B,$=r.constructor,oe=r.s==i.s?1:-1,V=r.d,W=i.d;if(!r.s)return new $(r);if(!i.s)throw Error(Ar+"Division by zero");for(c=r.e-i.e,k=W.length,N=V.length,_=new $(oe),T=_.d=[],d=0;W[d]==(V[d]||0);)++d;if(W[d]>(V[d]||0)&&--c,a==null?O=a=$.precision:l?O=a+(Rt(r)-Rt(i))+1:O=a,O<0)return new $(0);if(O=O/ut+2|0,d=0,k==1)for(h=0,W=W[0],O++;(d<N||h)&&O--;d++)P=h*Wt+(V[d]||0),T[d]=P/W|0,h=P%W|0;else{for(h=Wt/(W[0]+1)|0,h>1&&(W=e(W,h),V=e(V,h),k=W.length,N=V.length),D=k,E=V.slice(0,k),w=E.length;w<k;)E[w++]=0;B=W.slice(),B.unshift(0),R=W[0],W[1]>=Wt/2&&++R;do h=0,u=t(W,E,k,w),u<0?(M=E[0],k!=w&&(M=M*Wt+(E[1]||0)),h=M/R|0,h>1?(h>=Wt&&(h=Wt-1),m=e(W,h),v=m.length,w=E.length,u=t(m,E,v,w),u==1&&(h--,n(m,k<v?B:W,v))):(h==0&&(u=h=1),m=W.slice()),v=m.length,v<w&&m.unshift(0),n(E,m,w),u==-1&&(w=E.length,u=t(W,E,k,w),u<1&&(h++,n(E,k<w?B:W,w))),w=E.length):u===0&&(h++,E=[0]),T[d++]=h,u&&E[0]?E[w++]=V[D]||0:(E=[V[D]],w=1);while((D++<N||E[0]!==void 0)&&O--)}return T[0]||T.shift(),_.e=c,rt(_,l?a+Rt(_)+1:a)}})();function Xk(e,t){var n,r,i,a,l,u,c=0,d=0,h=e.constructor,m=h.precision;if(Rt(e)>16)throw Error(fS+Rt(e));if(!e.s)return new h(Zn);for(gt=!1,u=m,l=new h(.03125);e.abs().gte(.1);)e=e.times(l),d+=5;for(r=Math.log(_o(2,d))/Math.LN10*2+5|0,u+=r,n=i=a=new h(Zn),h.precision=u;;){if(i=rt(i.times(e),u),n=n.times(++c),l=a.plus(zi(i,n,u)),Jr(l.d).slice(0,u)===Jr(a.d).slice(0,u)){for(;d--;)a=rt(a.times(a),u);return h.precision=m,t==null?(gt=!0,rt(a,m)):a}a=l}}function Rt(e){for(var t=e.e*ut,n=e.d[0];n>=10;n/=10)t++;return t}function ky(e,t,n){if(t>e.LN10.sd())throw gt=!0,n&&(e.precision=n),Error(Ar+"LN10 precision limit exceeded");return rt(new e(e.LN10),t)}function Na(e){for(var t="";e--;)t+="0";return t}function sc(e,t){var n,r,i,a,l,u,c,d,h,m=1,v=10,_=e,T=_.d,E=_.constructor,w=E.precision;if(_.s<1)throw Error(Ar+(_.s?"NaN":"-Infinity"));if(_.eq(Zn))return new E(0);if(t==null?(gt=!1,d=w):d=t,_.eq(10))return t==null&&(gt=!0),ky(E,d);if(d+=v,E.precision=d,n=Jr(T),r=n.charAt(0),a=Rt(_),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(e),n=Jr(_.d),r=n.charAt(0),m++;a=Rt(_),r>1?(_=new E("0."+n),a++):_=new E(r+"."+n.slice(1))}else return c=ky(E,d+2,w).times(a+""),_=sc(new E(r+"."+n.slice(1)),d-v).plus(c),E.precision=w,t==null?(gt=!0,rt(_,w)):_;for(u=l=_=zi(_.minus(Zn),_.plus(Zn),d),h=rt(_.times(_),d),i=3;;){if(l=rt(l.times(h),d),c=u.plus(zi(l,new E(i),d)),Jr(c.d).slice(0,d)===Jr(u.d).slice(0,d))return u=u.times(2),a!==0&&(u=u.plus(ky(E,d+2,w).times(a+""))),u=zi(u,new E(m),d),E.precision=w,t==null?(gt=!0,rt(u,w)):u;u=c,i+=2}}function hO(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Tl(n/ut),e.d=[],r=(n+1)%ut,n<0&&(r+=ut),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=ut;r<i;)e.d.push(+t.slice(r,r+=ut));t=t.slice(r),r=ut-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),gt&&(e.e>Oh||e.e<-Oh))throw Error(fS+n)}else e.s=0,e.e=0,e.d=[0];return e}function rt(e,t,n){var r,i,a,l,u,c,d,h,m=e.d;for(l=1,a=m[0];a>=10;a/=10)l++;if(r=t-l,r<0)r+=ut,i=t,d=m[h=0];else{if(h=Math.ceil((r+1)/ut),a=m.length,h>=a)return e;for(d=a=m[h],l=1;a>=10;a/=10)l++;r%=ut,i=r-ut+l}if(n!==void 0&&(a=_o(10,l-i-1),u=d/a%10|0,c=t<0||m[h+1]!==void 0||d%a,c=n<4?(u||c)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(r>0?i>0?d/_o(10,l-i):0:m[h-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return c?(a=Rt(e),m.length=1,t=t-a-1,m[0]=_o(10,(ut-t%ut)%ut),e.e=Tl(-t/ut)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=h,a=1,h--):(m.length=h+1,a=_o(10,ut-r),m[h]=i>0?(d/_o(10,l-i)%_o(10,i)|0)*a:0),c)for(;;)if(h==0){(m[0]+=a)==Wt&&(m[0]=1,++e.e);break}else{if(m[h]+=a,m[h]!=Wt)break;m[h--]=0,a=1}for(r=m.length;m[--r]===0;)m.pop();if(gt&&(e.e>Oh||e.e<-Oh))throw Error(fS+Rt(e));return e}function Qk(e,t){var n,r,i,a,l,u,c,d,h,m,v=e.constructor,_=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),gt?rt(t,_):t;if(c=e.d,m=t.d,r=t.e,d=e.e,c=c.slice(),l=d-r,l){for(h=l<0,h?(n=c,l=-l,u=m.length):(n=m,r=d,u=c.length),i=Math.max(Math.ceil(_/ut),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=c.length,u=m.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=m[i]){h=c[i]<m[i];break}l=0}for(h&&(n=c,c=m,m=n,t.s=-t.s),u=c.length,i=m.length-u;i>0;--i)c[u++]=0;for(i=m.length;i>l;){if(c[--i]<m[i]){for(a=i;a&&c[--a]===0;)c[a]=Wt-1;--c[a],c[i]+=Wt}c[i]-=m[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,gt?rt(t,_):t):new v(0)}function Uo(e,t,n){var r,i=Rt(e),a=Jr(e.d),l=a.length;return t?(n&&(r=n-l)>0?a=a.charAt(0)+"."+a.slice(1)+Na(r):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Na(-i-1)+a,n&&(r=n-l)>0&&(a+=Na(r))):i>=l?(a+=Na(i+1-l),n&&(r=n-i-1)>0&&(a=a+"."+Na(r))):((r=i+1)<l&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(a+="."),a+=Na(r))),e.s<0?"-"+a:a}function pO(e,t){if(e.length>t)return e.length=t,!0}function Zk(e){var t,n,r;function i(a){var l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,a instanceof i){l.s=a.s,l.e=a.e,l.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ro+a);if(a>0)l.s=1;else if(a<0)a=-a,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(a===~~a&&a<1e7){l.e=0,l.d=[a];return}return hO(l,a.toString())}else if(typeof a!="string")throw Error(Ro+a);if(a.charCodeAt(0)===45?(a=a.slice(1),l.s=-1):l.s=1,$Z.test(a))hO(l,a);else throw Error(Ro+a)}if(i.prototype=me,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Zk,i.config=i.set=FZ,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function FZ(e){if(!e||typeof e!="object")throw Error(Ar+"Object expected");var t,n,r,i=["precision",1,Sl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Tl(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Ro+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ro+n+": "+r);return this}var dS=Zk(BZ);Zn=new dS(1);const Je=dS;var HZ=e=>e,e2={},t2=e=>e===e2,mO=e=>function t(){return arguments.length===0||arguments.length===1&&t2(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},n2=(e,t)=>e===1?t:mO(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(l=>l!==e2).length;return a>=e?t(...r):n2(e-a,mO(function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];var d=r.map(h=>t2(h)?u.shift():h);return t(...d,...u)}))}),GZ=e=>n2(e.length,e),_b=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},VZ=GZ((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),KZ=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return HZ;var i=n.reverse(),a=i[0],l=i.slice(1);return function(){return l.reduce((u,c)=>c(u),a(...arguments))}},Sb=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function r2(e){var t;return e===0?t=1:t=Math.floor(new Je(e).abs().log(10).toNumber())+1,t}function i2(e,t,n){for(var r=new Je(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var a2=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},o2=(e,t,n)=>{if(e.lte(0))return new Je(0);var r=r2(e.toNumber()),i=new Je(10).pow(r),a=e.div(i),l=r!==1?.05:.1,u=new Je(Math.ceil(a.div(l).toNumber())).add(n).mul(l),c=u.mul(i);return t?new Je(c.toNumber()):new Je(Math.ceil(c.toNumber()))},YZ=(e,t,n)=>{var r=new Je(1),i=new Je(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Je(10).pow(r2(e)-1),i=new Je(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Je(Math.floor(e)))}else e===0?i=new Je(Math.floor((t-1)/2)):n||(i=new Je(Math.floor(e)));var l=Math.floor((t-1)/2),u=KZ(VZ(c=>i.add(new Je(c-l).mul(r)).toNumber()),_b);return u(0,t)},s2=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Je(0),tickMin:new Je(0),tickMax:new Je(0)};var l=o2(new Je(n).sub(t).div(r-1),i,a),u;t<=0&&n>=0?u=new Je(0):(u=new Je(t).add(n).div(2),u=u.sub(new Je(u).mod(l)));var c=Math.ceil(u.sub(t).div(l).toNumber()),d=Math.ceil(new Je(n).sub(u).div(l).toNumber()),h=c+d+1;return h>r?s2(t,n,r,i,a+1):(h<r&&(d=n>0?d+(r-h):d,c=n>0?c:c+(r-h)),{step:l,tickMin:u.sub(new Je(c).mul(l)),tickMax:u.add(new Je(d).mul(l))})},WZ=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[u,c]=a2([n,r]);if(u===-1/0||c===1/0){var d=c===1/0?[u,..._b(0,i-1).map(()=>1/0)]:[..._b(0,i-1).map(()=>-1/0),c];return n>r?Sb(d):d}if(u===c)return YZ(u,i,a);var{step:h,tickMin:m,tickMax:v}=s2(u,c,l,a,0),_=i2(m,v.add(new Je(.1).mul(h)),h);return n>r?Sb(_):_},JZ=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=a2([r,i]);if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(n,2),d=o2(new Je(u).sub(l).div(c-1),a,0),h=[...i2(new Je(l),new Je(u),d),u];return a===!1&&(h=h.map(m=>Math.round(m))),r>i?Sb(h):h},XZ=e=>e.rootProps.barCategoryGap,Mp=e=>e.rootProps.stackOffset,l2=e=>e.rootProps.reverseStackOrder,hS=e=>e.options.chartName,pS=e=>e.rootProps.syncId,u2=e=>e.rootProps.syncMethod,mS=e=>e.options.eventEmitter,gn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Di={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Xn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Pp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},QZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Di.angleAxisId,includeHidden:!1,name:void 0,reversed:Di.reversed,scale:Di.scale,tick:Di.tick,tickCount:void 0,ticks:void 0,type:Di.type,unit:void 0},ZZ={allowDataOverflow:Xn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Xn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xn.scale,tick:Xn.tick,tickCount:Xn.tickCount,ticks:void 0,type:Xn.type,unit:void 0},eee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Di.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Di.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Di.scale,tick:Di.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},tee={allowDataOverflow:Xn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Xn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xn.scale,tick:Xn.tick,tickCount:Xn.tickCount,ticks:void 0,type:"category",unit:void 0},gS=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?eee:QZ,vS=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?tee:ZZ,Op=e=>e.polarOptions,yS=X([ra,ia,cn],JJ),c2=X([Op,yS],(e,t)=>{if(e!=null)return ja(e.innerRadius,t,0)}),f2=X([Op,yS],(e,t)=>{if(e!=null)return ja(e.outerRadius,t,t*.8)}),nee=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},d2=X([Op],nee);X([gS,d2],Pp);var h2=X([yS,c2,f2],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});X([vS,h2],Pp);var p2=X([ft,Op,c2,f2,ra,ia],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:l,cy:u,startAngle:c,endAngle:d}=t;return{cx:ja(l,i,i/2),cy:ja(u,a,a/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:d,clockWise:!1}}}),jt=(e,t)=>t,Np=(e,t,n)=>n;function m2(e){return e?.id}function g2(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,l=new Map;return e.forEach(u=>{var c,d=(c=u.data)!==null&&c!==void 0?c:r;if(!(d==null||d.length===0)){var h=m2(u);d.forEach((m,v)=>{var _=a==null||i?v:String(vn(m,a,null)),T=vn(m,u.dataKey,0),E;l.has(_)?E=l.get(_):E={},Object.assign(E,{[h]:T}),l.set(_,E)})}}),Array.from(l.values())}function bS(e){return e.stackId!=null&&e.dataKey!=null}var Ip=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Dp(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function ree(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var zt=e=>{var t=ft(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},El=e=>e.tooltip.settings.axisId;function gO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gO(Object(n),!0).forEach(function(r){iee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iee(e,t,n){return(t=aee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aee(e){var t=oee(e,"string");return typeof t=="symbol"?t:t+""}function oee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tb=[0,"auto"],Vt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},v2=(e,t)=>e.cartesianAxis.xAxis[t],ii=(e,t)=>{var n=v2(e,t);return n??Vt},Kt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Tb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Tc},y2=(e,t)=>e.cartesianAxis.yAxis[t],ai=(e,t)=>{var n=y2(e,t);return n??Kt},see={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},_S=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??see},Cn=(e,t,n)=>{switch(t){case"xAxis":return ii(e,n);case"yAxis":return ai(e,n);case"zAxis":return _S(e,n);case"angleAxis":return gS(e,n);case"radiusAxis":return vS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},lee=(e,t,n)=>{switch(t){case"xAxis":return ii(e,n);case"yAxis":return ai(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Pc=(e,t,n)=>{switch(t){case"xAxis":return ii(e,n);case"yAxis":return ai(e,n);case"angleAxis":return gS(e,n);case"radiusAxis":return vS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},b2=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function _2(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var S2=e=>e.graphicalItems.cartesianItems,uee=X([jt,Np],_2),T2=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),Oc=X([S2,Cn,uee],T2,{memoizeOptions:{resultEqualityCheck:Dp}}),E2=X([Oc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(bS)),w2=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),cee=X([Oc],w2),x2=e=>e.map(t=>t.data).filter(Boolean).flat(1),fee=X([Oc],x2,{memoizeOptions:{resultEqualityCheck:Dp}}),A2=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},SS=X([fee,cS],A2),C2=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:vn(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:vn(i,r)}))):e.map(r=>({value:r})),Rp=X([SS,Cn,Oc],C2);function M2(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function kd(e){if(wr(e)||e instanceof Date){var t=Number(e);if(St(t))return t}}function vO(e){if(Array.isArray(e)){var t=[kd(e[0]),kd(e[1])];return za(t)?t:void 0}var n=kd(e);if(n!=null)return[n,n]}function Qi(e){return e.map(kd).filter(nY)}function dee(e,t,n){return!n||typeof t!="number"||Er(t)?[]:n.length?Qi(n.flatMap(r=>{var i=vn(e,r.dataKey),a,l;if(Array.isArray(i)?[a,l]=i:a=l=i,!(!St(a)||!St(l)))return[t-a,t+l]})):[]}var Bt=e=>{var t=zt(e),n=El(e);return Pc(e,t,n)},Nc=X([Bt],e=>e?.dataKey),hee=X([E2,cS,Bt],g2),P2=(e,t,n,r)=>{var i={},a=t.reduce((l,u)=>(u.stackId==null||(l[u.stackId]==null&&(l[u.stackId]=[]),l[u.stackId].push(u)),l),i);return Object.fromEntries(Object.entries(a).map(l=>{var[u,c]=l,d=r?[...c].reverse():c,h=d.map(m2);return[u,{stackedData:M7(e,h,n),graphicalItems:d}]}))},pee=X([hee,E2,Mp,l2],P2),O2=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var l=N7(e,i,a);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},mee=X([Cn],e=>e.allowDataOverflow),TS=e=>{var t;if(e==null||!("domain"in e))return Tb;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Qi(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Tb},N2=X([Cn],TS),I2=X([N2,mee],Yk),gee=X([pee,Ya,jt,I2],O2,{memoizeOptions:{resultEqualityCheck:Ip}}),ES=e=>e.errorBars,vee=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>M2(n,r)),Ih=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),l=Math.min(...a),u=Math.max(...a);return[l,u]}},D2=(e,t,n,r,i)=>{var a,l;if(n.length>0&&e.forEach(u=>{n.forEach(c=>{var d,h,m=(d=r[c.id])===null||d===void 0?void 0:d.filter(M=>M2(i,M)),v=vn(u,(h=t.dataKey)!==null&&h!==void 0?h:c.dataKey),_=dee(u,v,m);if(_.length>=2){var T=Math.min(..._),E=Math.max(..._);(a==null||T<a)&&(a=T),(l==null||E>l)&&(l=E)}var w=vO(v);w!=null&&(a=a==null?w[0]:Math.min(a,w[0]),l=l==null?w[1]:Math.max(l,w[1]))})}),t?.dataKey!=null&&e.forEach(u=>{var c=vO(vn(u,t.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),l=l==null?c[1]:Math.max(l,c[1]))}),St(a)&&St(l))return[a,l]},yee=X([SS,Cn,cee,ES,jt],D2,{memoizeOptions:{resultEqualityCheck:Ip}});function bee(e){var{value:t}=e;if(wr(t)||t instanceof Date)return t}var _ee=(e,t,n)=>{var r=e.map(bee).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&FD(r))?hk(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},R2=e=>e.referenceElements.dots,wl=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),See=X([R2,jt,Np],wl),k2=e=>e.referenceElements.areas,Tee=X([k2,jt,Np],wl),L2=e=>e.referenceElements.lines,Eee=X([L2,jt,Np],wl),U2=(e,t)=>{var n=Qi(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},wee=X(See,jt,U2),q2=(e,t)=>{var n=Qi(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},xee=X([Tee,jt],q2);function Aee(e){var t;if(e.x!=null)return Qi([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Qi(n)}function Cee(e){var t;if(e.y!=null)return Qi([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Qi(n)}var j2=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?Aee(r):Cee(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Mee=X([Eee,jt],j2),Pee=X(wee,Mee,xee,(e,t,n)=>Ih(e,n,t)),z2=(e,t,n,r,i,a,l,u)=>{if(n!=null)return n;var c=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",d=c?Ih(r,a,i):Ih(a,i);return zZ(t,d,e.allowDataOverflow)},Oee=X([Cn,N2,I2,gee,yee,Pee,ft,jt],z2,{memoizeOptions:{resultEqualityCheck:Ip}}),Nee=[0,1],B2=(e,t,n,r,i,a,l)=>{if(!((e==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:c}=e,d=Ga(t,a);if(d&&u==null){var h;return hk(0,(h=n?.length)!==null&&h!==void 0?h:0)}return c==="category"?_ee(r,e,d):i==="expand"?Nee:l}},wS=X([Cn,ft,SS,Rp,Mp,jt,Oee],B2),$2=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:l}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof a=="string"){var u="scale".concat(vc(a));return u in Lu?u:"point"}}},Ic=X([Cn,ft,b2,hS,jt],$2);function Iee(e){if(e!=null){if(e in Lu)return Lu[e]();var t="scale".concat(vc(e));if(t in Lu)return Lu[t]()}}function xS(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=Iee(t);if(i!=null){var a=i.domain(n).range(r);return w7(a),a}}}var F2=(e,t,n)=>{var r=TS(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&za(e))return WZ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&za(e))return JZ(e,t.tickCount,t.allowDecimals)}},AS=X([wS,Pc,Ic],F2),H2=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&za(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],l=t[1],u=n[n.length-1];return[Math.min(i,a),Math.max(l,u)]}return t},Dee=X([Cn,wS,AS,jt],H2),Ree=X(Rp,Cn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Qi(e.map(u=>u.value))).sort((u,c)=>u-c);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var l=r[a+1]-r[a];n=Math.min(n,l)}return n/i}}),G2=X(Ree,ft,XZ,cn,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!St(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var l=ja(n,e*a),u=e*a/2;return u-l-(u-l)/a*l}return 0}),kee=(e,t)=>{var n=ii(e,t);return n==null||typeof n.padding!="string"?0:G2(e,"xAxis",t,n.padding)},Lee=(e,t)=>{var n=ai(e,t);return n==null||typeof n.padding!="string"?0:G2(e,"yAxis",t,n.padding)},Uee=X(ii,kee,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),qee=X(ai,Lee,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),jee=X([cn,Uee,gp,mp,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),zee=X([cn,ft,qee,gp,mp,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:l}=i;return a?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Dc=(e,t,n,r)=>{var i;switch(t){case"xAxis":return jee(e,n,r);case"yAxis":return zee(e,n,r);case"zAxis":return(i=_S(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return d2(e);case"radiusAxis":return h2(e,n);default:return}},V2=X([Cn,Dc],Pp),Ba=X([Cn,Ic,Dee,V2],xS);X([Oc,ES,jt],vee);function K2(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var kp=(e,t)=>t,Lp=(e,t,n)=>n,Bee=X(hp,kp,Lp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(K2)),$ee=X(pp,kp,Lp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(K2)),Y2=(e,t)=>({width:e.width,height:t.height}),Fee=(e,t)=>{var n=typeof t.width=="number"?t.width:Tc;return{width:n,height:e.height}},Hee=X(cn,ii,Y2),Gee=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Vee=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Kee=X(ia,cn,Bee,kp,Lp,(e,t,n,r,i)=>{var a={},l;return n.forEach(u=>{var c=Y2(t,u);l==null&&(l=Gee(t,r,e));var d=r==="top"&&!i||r==="bottom"&&i;a[u.id]=l-Number(d)*c.height,l+=(d?-1:1)*c.height}),a}),Yee=X(ra,cn,$ee,kp,Lp,(e,t,n,r,i)=>{var a={},l;return n.forEach(u=>{var c=Fee(t,u);l==null&&(l=Vee(t,r,e));var d=r==="left"&&!i||r==="right"&&i;a[u.id]=l-Number(d)*c.width,l+=(d?-1:1)*c.width}),a}),Wee=(e,t)=>{var n=ii(e,t);if(n!=null)return Kee(e,n.orientation,n.mirror)},Jee=X([cn,ii,Wee,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),Xee=(e,t)=>{var n=ai(e,t);if(n!=null)return Yee(e,n.orientation,n.mirror)},Qee=X([cn,ai,Xee,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Zee=X(cn,ai,(e,t)=>{var n=typeof t.width=="number"?t.width:Tc;return{width:n,height:e.height}}),W2=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:l}=n,u=Ga(e,r),c=t.map(d=>d.value);if(l&&u&&a==="category"&&i&&FD(c))return c}},CS=X([ft,Rp,Cn,jt],W2),J2=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,l=Ga(e,r);if(l&&(i==="number"||a!=="auto"))return t.map(u=>u.value)}},MS=X([ft,Rp,Pc,jt],J2),yO=X([ft,lee,Ic,Ba,CS,MS,Dc,AS,jt],(e,t,n,r,i,a,l,u,c)=>{if(t!=null){var d=Ga(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:u,range:l,realScaleType:n,scale:r}}}),ete=(e,t,n,r,i,a,l,u,c)=>{if(!(t==null||r==null)){var d=Ga(e,c),{type:h,ticks:m,tickCount:v}=t,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,T=h==="category"&&r.bandwidth?r.bandwidth()/_:0;T=c==="angleAxis"&&a!=null&&a.length>=2?br(a[0]-a[1])*2*T:T;var E=m||i;if(E){var w=E.map((M,O)=>{var P=l?l.indexOf(M):M;return{index:O,coordinate:r(P)+T,value:M,offset:T}});return w.filter(M=>St(M.coordinate))}return d&&u?u.map((M,O)=>({coordinate:r(M)+T,value:M,index:O,offset:T})).filter(M=>St(M.coordinate)):r.ticks?r.ticks(v).map(M=>({coordinate:r(M)+T,value:M,offset:T})):r.domain().map((M,O)=>({coordinate:r(M)+T,value:l?l[M]:M,index:O,offset:T}))}},X2=X([ft,Pc,Ic,Ba,AS,Dc,CS,MS,jt],ete),tte=(e,t,n,r,i,a,l)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=Ga(e,l),{tickCount:c}=t,d=0;return d=l==="angleAxis"&&r?.length>=2?br(r[0]-r[1])*2*d:d,u&&a?a.map((h,m)=>({coordinate:n(h)+d,value:h,index:m,offset:d})):n.ticks?n.ticks(c).map(h=>({coordinate:n(h)+d,value:h,offset:d})):n.domain().map((h,m)=>({coordinate:n(h)+d,value:i?i[h]:h,index:m,offset:d}))}},Q2=X([ft,Pc,Ba,Dc,CS,MS,jt],tte),Z2=X(Cn,Ba,(e,t)=>{if(!(e==null||t==null))return Nh(Nh({},e),{},{scale:t})}),nte=X([Cn,Ic,wS,V2],xS);X((e,t,n)=>_S(e,n),nte,(e,t)=>{if(!(e==null||t==null))return Nh(Nh({},e),{},{scale:t})});var rte=X([ft,hp,pp],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),eL=e=>e.options.defaultTooltipEventType,tL=e=>e.options.validateTooltipEventTypes;function nL(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function PS(e,t){var n=eL(e),r=tL(e);return nL(t,n,r)}function ite(e){return ye(t=>PS(t,e))}var rL=(e,t)=>{var n,r=Number(t);if(!(Er(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},ate=e=>e.tooltip.settings,Ra={active:!1,index:null,dataKey:void 0,coordinate:void 0},ote={itemInteraction:{click:Ra,hover:Ra},axisInteraction:{click:Ra,hover:Ra},keyboardInteraction:Ra,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},iL=Fn({name:"tooltip",initialState:ote,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:mt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Lr(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:mt()},removeTooltipEntrySettings:{reducer(e,t){var n=Lr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:mt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:ste,replaceTooltipEntrySettings:lte,removeTooltipEntrySettings:ute,setTooltipSettingsState:cte,setActiveMouseOverItemIndex:fte,mouseLeaveItem:eue,mouseLeaveChart:aL,setActiveClickItemIndex:tue,setMouseOverAxisIndex:oL,setMouseClickAxisIndex:dte,setSyncInteraction:Eb,setKeyboardInteraction:wb}=iL.actions,hte=iL.reducer;function bO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bO(Object(n),!0).forEach(function(r){pte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pte(e,t,n){return(t=mte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mte(e){var t=gte(e,"string");return typeof t=="symbol"?t:t+""}function gte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vte(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function yte(e){return e.index!=null}var sL=(e,t,n,r)=>{if(t==null)return Ra;var i=vte(e,t,n);if(i==null)return Ra;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(yte(i)){if(a)return bd(bd({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return bd(bd({},Ra),{},{coordinate:i.coordinate})};function bte(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function _te(e,t){var n=bte(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),l=Math.max(r,i);return n>=a&&n<=l}function Ste(e,t,n){if(n==null||t==null)return!0;var r=vn(e,t);return r==null||!za(n)?!0:_te(r,n)}var OS=(e,t,n,r)=>{var i=e?.index;if(i==null)return null;var a=Number(i);if(!St(a))return i;var l=0,u=1/0;t.length>0&&(u=t.length-1);var c=Math.max(l,Math.min(a,u)),d=t[c];return d==null||Ste(d,n,r)?String(c):null},lL=(e,t,n,r,i,a,l,u)=>{if(!(a==null||u==null)){var c=l[0],d=c==null?void 0:u(c.positions,a);if(d!=null)return d;var h=i?.[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},uL=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var l;return((l=a.settings)===null||l===void 0?void 0:l.dataKey)===i})},Rc=e=>e.options.tooltipPayloadSearcher,xl=e=>e.tooltip;function _O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_O(Object(n),!0).forEach(function(r){Tte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tte(e,t,n){return(t=Ete(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ete(e){var t=wte(e,"string");return typeof t=="symbol"?t:t+""}function wte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xte(e,t){return e??t}var cL=(e,t,n,r,i,a,l)=>{if(!(t==null||a==null)){var{chartData:u,computedData:c,dataStartIndex:d,dataEndIndex:h}=n,m=[];return e.reduce((v,_)=>{var T,{dataDefinedOnItem:E,settings:w}=_,M=xte(E,u),O=Array.isArray(M)?qR(M,d,h):M,P=(T=w?.dataKey)!==null&&T!==void 0?T:r,D=w?.nameKey,N;if(r&&Array.isArray(O)&&!Array.isArray(O[0])&&l==="axis"?N=HD(O,r,i):N=a(O,t,c,D),Array.isArray(N))N.forEach(k=>{var B=SO(SO({},w),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});v.push($M({tooltipEntrySettings:B,dataKey:k.dataKey,payload:k.payload,value:vn(k.payload,k.dataKey),name:k.name}))});else{var R;v.push($M({tooltipEntrySettings:w,dataKey:P,payload:N,value:vn(N,P),name:(R=vn(N,D))!==null&&R!==void 0?R:w?.name}))}return v},m)}},NS=X([Bt,ft,b2,hS,zt],$2),Ate=X([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Cte=X([zt,El],_2),kc=X([Ate,Bt,Cte],T2,{memoizeOptions:{resultEqualityCheck:Dp}}),Mte=X([kc],e=>e.filter(bS)),Pte=X([kc],x2,{memoizeOptions:{resultEqualityCheck:Dp}}),Al=X([Pte,Ya],A2),Ote=X([Mte,Ya,Bt],g2),IS=X([Al,Bt,kc],C2),fL=X([Bt],TS),Nte=X([Bt],e=>e.allowDataOverflow),dL=X([fL,Nte],Yk),Ite=X([kc],e=>e.filter(bS)),Dte=X([Ote,Ite,Mp,l2],P2),Rte=X([Dte,Ya,zt,dL],O2),kte=X([kc],w2),Lte=X([Al,Bt,kte,ES,zt],D2,{memoizeOptions:{resultEqualityCheck:Ip}}),Ute=X([R2,zt,El],wl),qte=X([Ute,zt],U2),jte=X([k2,zt,El],wl),zte=X([jte,zt],q2),Bte=X([L2,zt,El],wl),$te=X([Bte,zt],j2),Fte=X([qte,$te,zte],Ih),Hte=X([Bt,fL,dL,Rte,Lte,Fte,ft,zt],z2),Lc=X([Bt,ft,Al,IS,Mp,zt,Hte],B2),Gte=X([Lc,Bt,NS],F2),Vte=X([Bt,Lc,Gte,zt],H2),hL=e=>{var t=zt(e),n=El(e),r=!1;return Dc(e,t,n,r)},pL=X([Bt,hL],Pp),mL=X([Bt,NS,Vte,pL],xS),Kte=X([ft,IS,Bt,zt],W2),Yte=X([ft,IS,Bt,zt],J2),Wte=(e,t,n,r,i,a,l,u)=>{if(t){var{type:c}=t,d=Ga(e,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=c==="category"&&r.bandwidth?r.bandwidth()/h:0;return m=u==="angleAxis"&&i!=null&&i?.length>=2?br(i[0]-i[1])*2*m:m,d&&l?l.map((v,_)=>({coordinate:r(v)+m,value:v,index:_,offset:m})):r.domain().map((v,_)=>({coordinate:r(v)+m,value:a?a[v]:v,index:_,offset:m}))}}},oa=X([ft,Bt,NS,mL,hL,Kte,Yte,zt],Wte),DS=X([eL,tL,ate],(e,t,n)=>nL(n.shared,e,t)),gL=e=>e.tooltip.settings.trigger,RS=e=>e.tooltip.settings.defaultIndex,Up=X([xl,DS,gL,RS],sL),lc=X([Up,Al,Nc,Lc],OS),vL=X([oa,lc],rL),Jte=X([Up],e=>{if(e)return e.dataKey}),yL=X([xl,DS,gL,RS],uL),Xte=X([ra,ia,ft,cn,oa,RS,yL,Rc],lL),Qte=X([Up,Xte],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Zte=X([Up],e=>e.active),ene=X([yL,lc,Ya,Nc,vL,Rc,DS],cL),tne=X([ene],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function TO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TO(Object(n),!0).forEach(function(r){nne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nne(e,t,n){return(t=rne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rne(e){var t=ine(e,"string");return typeof t=="symbol"?t:t+""}function ine(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ane=()=>ye(Bt),one=()=>{var e=ane(),t=ye(oa),n=ye(mL);return fh(!e||!n?void 0:EO(EO({},e),{},{scale:n}),t)};function wO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wO(Object(n),!0).forEach(function(r){sne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sne(e,t,n){return(t=lne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lne(e){var t=une(e,"string");return typeof t=="symbol"?t:t+""}function une(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cne=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},fne=(e,t,n,r)=>{var i=t.find(d=>d&&d.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:l}=r;return Rs(Rs(Rs({},r),ln(r.cx,r.cy,l,a)),{},{angle:a,radius:l})}var u=i.coordinate,{angle:c}=r;return Rs(Rs(Rs({},r),ln(r.cx,r.cy,u,c)),{},{angle:c,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function dne(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var bL=(e,t,n,r,i)=>{var a,l=-1,u=(a=t?.length)!==null&&a!==void 0?a:0;if(u<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<u;c++){var d=c>0?n[c-1].coordinate:n[u-1].coordinate,h=n[c].coordinate,m=c>=u-1?n[0].coordinate:n[c+1].coordinate,v=void 0;if(br(h-d)!==br(m-h)){var _=[];if(br(m-h)===br(i[1]-i[0])){v=m;var T=h+i[1]-i[0];_[0]=Math.min(T,(T+d)/2),_[1]=Math.max(T,(T+d)/2)}else{v=d;var E=m+i[1]-i[0];_[0]=Math.min(h,(E+h)/2),_[1]=Math.max(h,(E+h)/2)}var w=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(e>w[0]&&e<=w[1]||e>=_[0]&&e<=_[1]){({index:l}=n[c]);break}}else{var M=Math.min(d,m),O=Math.max(d,m);if(e>(M+h)/2&&e<=(O+h)/2){({index:l}=n[c]);break}}}else if(t){for(var P=0;P<u;P++)if(P===0&&e<=(t[P].coordinate+t[P+1].coordinate)/2||P>0&&P<u-1&&e>(t[P].coordinate+t[P-1].coordinate)/2&&e<=(t[P].coordinate+t[P+1].coordinate)/2||P===u-1&&e>(t[P].coordinate+t[P-1].coordinate)/2){({index:l}=t[P]);break}}return l},hne=()=>ye(hS),kS=(e,t)=>t,_L=(e,t,n)=>n,LS=(e,t,n,r)=>r,pne=X(oa,e=>ip(e,t=>t.coordinate)),US=X([xl,kS,_L,LS],sL),qS=X([US,Al,Nc,Lc],OS),mne=(e,t,n)=>{if(t!=null){var r=xl(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},SL=X([xl,kS,_L,LS],uL),Dh=X([ra,ia,ft,cn,oa,LS,SL,Rc],lL),gne=X([US,Dh],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),TL=X([oa,qS],rL),vne=X([SL,qS,Ya,Nc,TL,Rc,kS],cL),yne=X([US,qS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),bne=(e,t,n,r,i,a,l)=>{if(!(!e||!n||!r||!i)&&dne(e,l)){var u=I7(e,t),c=bL(u,a,i,n,r),d=cne(t,i,c,e);return{activeIndex:String(c),activeCoordinate:d}}},_ne=(e,t,n,r,i,a,l)=>{if(!(!e||!r||!i||!a||!n)){var u=tX(e,n);if(u){var c=D7(u,t),d=bL(c,l,a,r,i),h=fne(t,a,d,u);return{activeIndex:String(d),activeCoordinate:h}}}},Sne=(e,t,n,r,i,a,l,u)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?bne(e,t,r,i,a,l,u):_ne(e,t,n,r,i,a,l)},Tne=X(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),Ene=X(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(gn)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:ree}});function xO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function AO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xO(Object(n),!0).forEach(function(r){wne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wne(e,t,n){return(t=xne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xne(e){var t=Ane(e,"string");return typeof t=="symbol"?t:t+""}function Ane(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cne={},Mne={zIndexMap:Object.values(gn).reduce((e,t)=>AO(AO({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Cne)},Pne=new Set(Object.values(gn));function One(e){return Pne.has(e)}var EL=Fn({name:"zIndex",initialState:Mne,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:mt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!One(n)&&delete e.zIndexMap[n])},prepare:mt()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:mt()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:mt()}}}),{registerZIndexPortal:Nne,unregisterZIndexPortal:Ine,registerZIndexPortalId:Dne,unregisterZIndexPortalId:Rne}=EL.actions,kne=EL.reducer;function oi(e){var{zIndex:t,children:n}=e,r=hW(),i=r&&t!==void 0&&t!==0,a=An(),l=Ct();x.useLayoutEffect(()=>i?(l(Nne({zIndex:t})),()=>{l(Ine({zIndex:t}))}):yc,[l,t,i]);var u=ye(d=>Tne(d,t,a));if(!i)return n;if(!u)return null;var c=document.getElementById(u);return c?jb.createPortal(n,c):null}function xb(){return xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xb.apply(null,arguments)}function CO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _d(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(n),!0).forEach(function(r){Lne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lne(e,t,n){return(t=Une(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Une(e){var t=qne(e,"string");return typeof t=="symbol"?t:t+""}function qne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jne(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return x.isValidElement(t)?x.cloneElement(t,r):x.createElement(n,r)}function zne(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:l,layout:u,cursor:c,tooltipEventType:d,chartName:h}=e,m=n,v=r,_=i;if(!c||!m||h!=="ScatterChart"&&d!=="axis")return null;var T,E,w;if(h==="ScatterChart")T=m,E=gJ,w=gn.cursorLine;else if(h==="BarChart")T=vJ(u,m,a,l),E=uk,w=gn.cursorRectangle;else if(u==="radial"&&VD(m)){var{cx:M,cy:O,radius:P,startAngle:D,endAngle:N}=ck(m);T={cx:M,cy:O,startAngle:D,endAngle:N,innerRadius:P,outerRadius:P},E=dk,w=gn.cursorLine}else T={points:aX(u,m,a)},E=ik,w=gn.cursorLine;var R=typeof c=="object"&&"className"in c?c.className:void 0,k=_d(_d(_d(_d({stroke:"#ccc",pointerEvents:"none"},a),T),Zh(c)),{},{payload:v,payloadIndex:_,className:Xe("recharts-tooltip-cursor",R)});return x.createElement(oi,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:w},x.createElement(jne,{cursor:c,cursorComp:E,cursorProps:k}))}function Bne(e){var t=one(),n=YR(),r=vp(),i=hne();return t==null||n==null||r==null||i==null?null:x.createElement(zne,xb({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var wL=x.createContext(null),$ne=()=>x.useContext(wL),Ly={exports:{}},MO;function Fne(){return MO||(MO=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function a(c,d,h,m,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var _=new i(h,m||c,v),T=n?n+d:d;return c._events[T]?c._events[T].fn?c._events[T]=[c._events[T],_]:c._events[T].push(_):(c._events[T]=_,c._eventsCount++),c}function l(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)t.call(h,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},u.prototype.listeners=function(d){var h=n?n+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,_=m.length,T=new Array(_);v<_;v++)T[v]=m[v].fn;return T},u.prototype.listenerCount=function(d){var h=n?n+d:d,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(d,h,m,v,_,T){var E=n?n+d:d;if(!this._events[E])return!1;var w=this._events[E],M=arguments.length,O,P;if(w.fn){switch(w.once&&this.removeListener(d,w.fn,void 0,!0),M){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,m),!0;case 4:return w.fn.call(w.context,h,m,v),!0;case 5:return w.fn.call(w.context,h,m,v,_),!0;case 6:return w.fn.call(w.context,h,m,v,_,T),!0}for(P=1,O=new Array(M-1);P<M;P++)O[P-1]=arguments[P];w.fn.apply(w.context,O)}else{var D=w.length,N;for(P=0;P<D;P++)switch(w[P].once&&this.removeListener(d,w[P].fn,void 0,!0),M){case 1:w[P].fn.call(w[P].context);break;case 2:w[P].fn.call(w[P].context,h);break;case 3:w[P].fn.call(w[P].context,h,m);break;case 4:w[P].fn.call(w[P].context,h,m,v);break;default:if(!O)for(N=1,O=new Array(M-1);N<M;N++)O[N-1]=arguments[N];w[P].fn.apply(w[P].context,O)}}return!0},u.prototype.on=function(d,h,m){return a(this,d,h,m,!1)},u.prototype.once=function(d,h,m){return a(this,d,h,m,!0)},u.prototype.removeListener=function(d,h,m,v){var _=n?n+d:d;if(!this._events[_])return this;if(!h)return l(this,_),this;var T=this._events[_];if(T.fn)T.fn===h&&(!v||T.once)&&(!m||T.context===m)&&l(this,_);else{for(var E=0,w=[],M=T.length;E<M;E++)(T[E].fn!==h||v&&!T[E].once||m&&T[E].context!==m)&&w.push(T[E]);w.length?this._events[_]=w.length===1?w[0]:w:l(this,_)}return this},u.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&l(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(Ly)),Ly.exports}var Hne=Fne();const Gne=Zi(Hne);var uc=new Gne,Ab="recharts.syncEvent.tooltip",PO="recharts.syncEvent.brush";function Vne(e,t){if(t){var n=Number.parseInt(t,10);if(!Er(n))return e?.[n]}}var Kne={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},xL=Fn({name:"options",initialState:Kne,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Yne=xL.reducer,{createEventEmitter:Wne}=xL.actions;function Jne(e){return e.tooltip.syncInteraction}var Xne={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},AL=Fn({name:"chartData",initialState:Xne,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:OO,setDataStartEndIndexes:Qne,setComputedData:nue}=AL.actions,Zne=AL.reducer,ere=["x","y"];function NO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ks(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(n),!0).forEach(function(r){tre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tre(e,t,n){return(t=nre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nre(e){var t=rre(e,"string");return typeof t=="symbol"?t:t+""}function rre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ire(e,t){if(e==null)return{};var n,r,i=are(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function are(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ore(){var e=ye(pS),t=ye(mS),n=Ct(),r=ye(u2),i=ye(oa),a=vp(),l=Ec(),u=ye(c=>c.rootProps.className);x.useEffect(()=>{if(e==null)return yc;var c=(d,h,m)=>{if(t!==m&&e===d){if(r==="index"){var v;if(l&&h!==null&&h!==void 0&&(v=h.payload)!==null&&v!==void 0&&v.coordinate&&h.payload.sourceViewBox){var _=h.payload.coordinate,{x:T,y:E}=_,w=ire(_,ere),{x:M,y:O,width:P,height:D}=h.payload.sourceViewBox,N=ks(ks({},w),{},{x:l.x+(P?(T-M)/P:0)*l.width,y:l.y+(D?(E-O)/D:0)*l.height});n(ks(ks({},h),{},{payload:ks(ks({},h.payload),{},{coordinate:N})}))}else n(h);return}if(i!=null){var R;if(typeof r=="function"){var k={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},B=r(i,k);R=i[B]}else r==="value"&&(R=i.find(z=>String(z.value)===h.payload.label));var{coordinate:$}=h.payload;if(R==null||h.payload.active===!1||$==null||l==null){n(Eb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:oe,y:V}=$,W=Math.min(oe,l.x+l.width),fe=Math.min(V,l.y+l.height),pe={x:a==="horizontal"?R.coordinate:W,y:a==="horizontal"?fe:R.coordinate},be=Eb({active:h.payload.active,coordinate:pe,dataKey:h.payload.dataKey,index:String(R.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox});n(be)}}};return uc.on(Ab,c),()=>{uc.off(Ab,c)}},[u,n,t,e,r,i,a,l])}function sre(){var e=ye(pS),t=ye(mS),n=Ct();x.useEffect(()=>{if(e==null)return yc;var r=(i,a,l)=>{t!==l&&e===i&&n(Qne(a))};return uc.on(PO,r),()=>{uc.off(PO,r)}},[n,t,e])}function lre(){var e=Ct();x.useEffect(()=>{e(Wne())},[e]),ore(),sre()}function ure(e,t,n,r,i,a){var l=ye(_=>mne(_,e,t)),u=ye(mS),c=ye(pS),d=ye(u2),h=ye(Jne),m=h?.active,v=Ec();x.useEffect(()=>{if(!m&&c!=null&&u!=null){var _=Eb({active:a,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:v});uc.emit(Ab,c,_,u)}},[m,n,l,i,r,u,c,d,a,v])}function IO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(n),!0).forEach(function(r){cre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cre(e,t,n){return(t=fre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fre(e){var t=dre(e,"string");return typeof t=="symbol"?t:t+""}function dre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hre(e){return e.dataKey}function pre(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(YW,t)}var RO=[],mre={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!bl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function gre(e){var t,n,r=un(e,mre),{active:i,allowEscapeViewBox:a,animationDuration:l,animationEasing:u,content:c,filterNull:d,isAnimationActive:h,offset:m,payloadUniqBy:v,position:_,reverseDirection:T,useTranslate3d:E,wrapperStyle:w,cursor:M,shared:O,trigger:P,defaultIndex:D,portal:N,axisId:R}=r,k=Ct(),B=typeof D=="number"?String(D):D;x.useEffect(()=>{k(cte({shared:O,trigger:P,axisId:R,active:i,defaultIndex:B}))},[k,O,P,R,i,B]);var $=Ec(),oe=rk(),V=ite(O),{activeIndex:W,isActive:fe}=(t=ye(_e=>yne(_e,V,P,B)))!==null&&t!==void 0?t:{},pe=ye(_e=>vne(_e,V,P,B)),be=ye(_e=>TL(_e,V,P,B)),z=ye(_e=>gne(_e,V,P,B)),ee=pe,le=$ne(),ue=(n=i??fe)!==null&&n!==void 0?n:!1,[we,U]=lR([ee,ue]),J=V==="axis"?be:void 0;ure(V,P,z,J,W,ue);var se=N??le;if(se==null||$==null||V==null)return null;var ce=ee??RO;ue||(ce=RO),d&&ce.length&&(ce=rR(ce.filter(_e=>_e.value!=null&&(_e.hide!==!0||r.includeHidden)),v,hre));var K=ce.length>0,de=x.createElement(tJ,{allowEscapeViewBox:a,animationDuration:l,animationEasing:u,isAnimationActive:h,active:ue,coordinate:z,hasPayload:K,offset:m,position:_,reverseDirection:T,useTranslate3d:E,viewBox:$,wrapperStyle:w,lastBoundingBox:we,innerRef:U,hasPortalFromProps:!!N},pre(c,DO(DO({},r),{},{payload:ce,label:J,active:ue,activeIndex:W,coordinate:z,accessibilityLayer:oe})));return x.createElement(x.Fragment,null,jb.createPortal(de,se),ue&&x.createElement(Bne,{cursor:M,tooltipEventType:V,coordinate:z,payload:ce,index:W}))}function vre(e,t,n){return(t=yre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yre(e){var t=bre(e,"string");return typeof t=="symbol"?t:t+""}function bre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class _re{constructor(t){vre(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function kO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sre(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kO(Object(n),!0).forEach(function(r){Tre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tre(e,t,n){return(t=Ere(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ere(e){var t=wre(e,"string");return typeof t=="symbol"?t:t+""}function wre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xre={cacheSize:2e3,enableCache:!0},CL=Sre({},xre),LO=new _re(CL.cacheSize),Are={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},UO="recharts_measurement_span";function Cre(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(l,"|").concat(u)}var qO=(e,t)=>{try{var n=document.getElementById(UO);n||(n=document.createElement("span"),n.setAttribute("id",UO),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Are,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Vu=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||bl.isSsr)return{width:0,height:0};if(!CL.enableCache)return qO(t,n);var r=Cre(t,n),i=LO.get(r);if(i)return i;var a=qO(t,n);return LO.set(r,a),a},jO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Mre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Pre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ML={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ore=Object.keys(ML),Gs="NaN";function Nre(e,t){return e*ML[t]}class Ln{static parse(t){var n,[,r,i]=(n=Pre.exec(t))!==null&&n!==void 0?n:[];return new Ln(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Er(t)&&(this.unit=""),n!==""&&!Mre.test(n)&&(this.num=NaN,this.unit=""),Ore.includes(n)&&(this.num=Nre(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Ln(NaN,""):new Ln(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ln(NaN,""):new Ln(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ln(NaN,""):new Ln(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ln(NaN,""):new Ln(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Er(this.num)}}function PL(e){if(e.includes(Gs))return Gs;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=jO.exec(t))!==null&&n!==void 0?n:[],l=Ln.parse(r??""),u=Ln.parse(a??""),c=i==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Gs;t=t.replace(jO,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,h,m,v]=(d=zO.exec(t))!==null&&d!==void 0?d:[],_=Ln.parse(h??""),T=Ln.parse(v??""),E=m==="+"?_.add(T):_.subtract(T);if(E.isNaN())return Gs;t=t.replace(zO,E.toString())}return t}var BO=/\(([^()]*)\)/;function Ire(e){for(var t=e,n;(n=BO.exec(t))!=null;){var[,r]=n;t=t.replace(BO,PL(r))}return t}function Dre(e){var t=e.replace(/\s+/g,"");return t=Ire(t),t=PL(t),t}function Rre(e){try{return Dre(e)}catch{return Gs}}function Uy(e){var t=Rre(e.slice(5,-1));return t===Gs?"":t}var kre=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Lre=["dx","dy","angle","className","breakAll"];function Cb(){return Cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cb.apply(null,arguments)}function $O(e,t){if(e==null)return{};var n,r,i=Ure(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ure(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var OL=/[ \f\n\r\t\v\u2028\u2029]+/,NL=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Jt(t)||(n?i=t.toString().split(""):i=t.toString().split(OL));var a=i.map(u=>({word:u,width:Vu(u,r).width})),l=n?0:Vu("",r).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}};function qre(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var IL=(e,t,n,r)=>e.reduce((i,a)=>{var{word:l,width:u}=a,c=i[i.length-1];if(c&&u!=null&&(t==null||r||c.width+u+n<Number(t)))c.words.push(l),c.width+=u+n;else{var d={words:[l],width:u};i.push(d)}return i},[]),DL=e=>e.reduce((t,n)=>t.width>n.width?t:n),jre="",FO=(e,t,n,r,i,a,l,u)=>{var c=e.slice(0,t),d=NL({breakAll:n,style:r,children:c+jre});if(!d)return[!1,[]];var h=IL(d.wordsWithComputedWidth,a,l,u),m=h.length>i||DL(h).width>Number(a);return[m,h]},zre=(e,t,n,r,i)=>{var{maxLines:a,children:l,style:u,breakAll:c}=e,d=Ee(a),h=String(l),m=IL(t,r,n,i);if(!d||i)return m;var v=m.length>a||DL(m).width>Number(r);if(!v)return m;for(var _=0,T=h.length-1,E=0,w;_<=T&&E<=h.length-1;){var M=Math.floor((_+T)/2),O=M-1,[P,D]=FO(h,O,c,u,a,r,n,i),[N]=FO(h,M,c,u,a,r,n,i);if(!P&&!N&&(_=M+1),P&&N&&(T=M-1),!P&&N){w=D;break}E++}return w||m},HO=e=>{var t=Jt(e)?[]:e.toString().split(OL);return[{words:t,width:void 0}]},Bre=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:l}=e;if((t||n)&&!bl.isSsr){var u,c,d=NL({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:h,spaceWidth:m}=d;u=h,c=m}else return HO(r);return zre({breakAll:a,children:r,maxLines:l,style:i},u,c,t,!!n)}return HO(r)},RL="#808080",$re={angle:0,breakAll:!1,capHeight:"0.71em",fill:RL,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},jS=x.forwardRef((e,t)=>{var n=un(e,$re),{x:r,y:i,lineHeight:a,capHeight:l,fill:u,scaleToFit:c,textAnchor:d,verticalAnchor:h}=n,m=$O(n,kre),v=x.useMemo(()=>Bre({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:c,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,c,m.style,m.width]),{dx:_,dy:T,angle:E,className:w,breakAll:M}=m,O=$O(m,Lre);if(!wr(r)||!wr(i)||v.length===0)return null;var P=Number(r)+(Ee(_)?_:0),D=Number(i)+(Ee(T)?T:0);if(!St(P)||!St(D))return null;var N;switch(h){case"start":N=Uy("calc(".concat(l,")"));break;case"middle":N=Uy("calc(".concat((v.length-1)/2," * -").concat(a," + (").concat(l," / 2))"));break;default:N=Uy("calc(".concat(v.length-1," * -").concat(a,")"));break}var R=[];if(c){var k=v[0].width,{width:B}=m;R.push("scale(".concat(Ee(B)&&Ee(k)?B/k:1,")"))}return E&&R.push("rotate(".concat(E,", ").concat(P,", ").concat(D,")")),R.length&&(O.transform=R.join(" ")),x.createElement("text",Cb({},yn(O),{ref:t,x:P,y:D,className:Xe("recharts-text",w),textAnchor:d,fill:u.includes("url")?RL:u}),v.map(($,oe)=>{var V=$.words.join(M?"":" ");return x.createElement("tspan",{x:P,dy:oe===0?N:a,key:"".concat(V,"-").concat(oe)},V)}))});jS.displayName="Text";var Fre=["labelRef"];function Hre(e,t){if(e==null)return{};var n,r,i=Gre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Gre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function GO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GO(Object(n),!0).forEach(function(r){Vre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vre(e,t,n){return(t=Kre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kre(e){var t=Yre(e,"string");return typeof t=="symbol"?t:t+""}function Yre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ri(){return Ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ri.apply(null,arguments)}var kL=x.createContext(null),LL=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:l,children:u}=e,c=x.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:l}),[t,n,r,i,a,l]);return x.createElement(kL.Provider,{value:c},u)},UL=()=>{var e=x.useContext(kL),t=Ec();return e||KR(t)},Wre=x.createContext(null),Jre=()=>{var e=x.useContext(Wre),t=ye(p2);return e||t},Xre=e=>{var{value:t,formatter:n}=e,r=Jt(e.children)?t:e.children;return typeof n=="function"?n(r):r},zS=e=>e!=null&&typeof e=="function",Qre=(e,t)=>{var n=br(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Zre=(e,t,n,r,i)=>{var{offset:a,className:l}=e,{cx:u,cy:c,innerRadius:d,outerRadius:h,startAngle:m,endAngle:v,clockWise:_}=i,T=(d+h)/2,E=Qre(m,v),w=E>=0?1:-1,M,O;switch(t){case"insideStart":M=m+w*a,O=_;break;case"insideEnd":M=v-w*a,O=!_;break;case"end":M=v+w*a,O=_;break;default:throw new Error("Unsupported position ".concat(t))}O=E<=0?O:!O;var P=ln(u,c,T,M),D=ln(u,c,T,M+(O?1:-1)*359),N="M".concat(P.x,",").concat(P.y,`
    A`).concat(T,",").concat(T,",0,1,").concat(O?0:1,`,
    `).concat(D.x,",").concat(D.y),R=Jt(e.id)?Wu("recharts-radial-line-"):e.id;return x.createElement("text",Ri({},r,{dominantBaseline:"central",className:Xe("recharts-radial-bar-label",l)}),x.createElement("defs",null,x.createElement("path",{id:R,d:N})),x.createElement("textPath",{xlinkHref:"#".concat(R)},n))},eie=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:l,startAngle:u,endAngle:c}=e,d=(u+c)/2;if(n==="outside"){var{x:h,y:m}=ln(r,i,l+t,d);return{x:h,y:m,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(a+l)/2,{x:_,y:T}=ln(r,i,v,d);return{x:_,y:T,textAnchor:"middle",verticalAnchor:"middle"}},Mb=e=>"cx"in e&&Ee(e.cx),tie=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!Mb(n)&&(a=n);var{x:l,y:u,upperWidth:c,lowerWidth:d,height:h}=t,m=l,v=l+(c-d)/2,_=(m+v)/2,T=(c+d)/2,E=m+c/2,w=h>=0?1:-1,M=w*r,O=w>0?"end":"start",P=w>0?"start":"end",D=c>=0?1:-1,N=D*r,R=D>0?"end":"start",k=D>0?"start":"end";if(i==="top"){var B={x:m+c/2,y:u-M,textAnchor:"middle",verticalAnchor:O};return xt(xt({},B),a?{height:Math.max(u-a.y,0),width:c}:{})}if(i==="bottom"){var $={x:v+d/2,y:u+h+M,textAnchor:"middle",verticalAnchor:P};return xt(xt({},$),a?{height:Math.max(a.y+a.height-(u+h),0),width:d}:{})}if(i==="left"){var oe={x:_-N,y:u+h/2,textAnchor:R,verticalAnchor:"middle"};return xt(xt({},oe),a?{width:Math.max(oe.x-a.x,0),height:h}:{})}if(i==="right"){var V={x:_+T+N,y:u+h/2,textAnchor:k,verticalAnchor:"middle"};return xt(xt({},V),a?{width:Math.max(a.x+a.width-V.x,0),height:h}:{})}var W=a?{width:T,height:h}:{};return i==="insideLeft"?xt({x:_+N,y:u+h/2,textAnchor:k,verticalAnchor:"middle"},W):i==="insideRight"?xt({x:_+T-N,y:u+h/2,textAnchor:R,verticalAnchor:"middle"},W):i==="insideTop"?xt({x:m+c/2,y:u+M,textAnchor:"middle",verticalAnchor:P},W):i==="insideBottom"?xt({x:v+d/2,y:u+h-M,textAnchor:"middle",verticalAnchor:O},W):i==="insideTopLeft"?xt({x:m+N,y:u+M,textAnchor:k,verticalAnchor:P},W):i==="insideTopRight"?xt({x:m+c-N,y:u+M,textAnchor:R,verticalAnchor:P},W):i==="insideBottomLeft"?xt({x:v+N,y:u+h-M,textAnchor:k,verticalAnchor:O},W):i==="insideBottomRight"?xt({x:v+d-N,y:u+h-M,textAnchor:R,verticalAnchor:O},W):i&&typeof i=="object"&&(Ee(i.x)||Ki(i.x))&&(Ee(i.y)||Ki(i.y))?xt({x:l+ja(i.x,T),y:u+ja(i.y,h),textAnchor:"end",verticalAnchor:"end"},W):xt({x:E,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},W)},nie={angle:0,offset:5,zIndex:gn.label,position:"middle",textBreakAll:!1};function Ia(e){var t=un(e,nie),{viewBox:n,position:r,value:i,children:a,content:l,className:u="",textBreakAll:c,labelRef:d}=t,h=Jre(),m=UL(),v=r==="center"?m:h??m,_,T,E;if(n==null?_=v:Mb(n)?_=n:_=KR(n),!_||Jt(i)&&Jt(a)&&!x.isValidElement(l)&&typeof l!="function")return null;var w=xt(xt({},t),{},{viewBox:_});if(x.isValidElement(l)){var{labelRef:M}=w,O=Hre(w,Fre);return x.cloneElement(l,O)}if(typeof l=="function"){if(T=x.createElement(l,w),x.isValidElement(T))return T}else T=Xre(t);var P=yn(t);if(Mb(_)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Zre(t,r,T,P,_);E=eie(_,t.offset,t.position)}else E=tie(t,_);return x.createElement(oi,{zIndex:t.zIndex},x.createElement(jS,Ri({ref:d,className:Xe("recharts-label",u)},P,E,{textAnchor:qre(P.textAnchor)?P.textAnchor:E.textAnchor,breakAll:c}),T))}Ia.displayName="Label";var rie=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?x.createElement(Ia,Ri({key:"label-implicit"},r)):wr(e)?x.createElement(Ia,Ri({key:"label-implicit",value:e},r)):x.isValidElement(e)?e.type===Ia?x.cloneElement(e,xt({key:"label-implicit"},r)):x.createElement(Ia,Ri({key:"label-implicit",content:e},r)):zS(e)?x.createElement(Ia,Ri({key:"label-implicit",content:e},r)):e&&typeof e=="object"?x.createElement(Ia,Ri({},e,{key:"label-implicit"},r)):null};function qL(e){var{label:t,labelRef:n}=e,r=UL();return rie(t,r,n)||null}var qy={},jy={},VO;function iie(){return VO||(VO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(jy)),jy}var zy={},KO;function aie(){return KO||(KO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(zy)),zy}var YO;function oie(){return YO||(YO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iie(),n=aie(),r=w_();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(qy)),qy}var By,WO;function sie(){return WO||(WO=1,By=oie().last),By}var lie=sie();const uie=Zi(lie);var cie=["valueAccessor"],fie=["dataKey","clockWise","id","textBreakAll","zIndex"];function Rh(){return Rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rh.apply(null,arguments)}function JO(e,t){if(e==null)return{};var n,r,i=die(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function die(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var hie=e=>Array.isArray(e.value)?uie(e.value):e.value,jL=x.createContext(void 0),pie=jL.Provider,zL=x.createContext(void 0);zL.Provider;function mie(){return x.useContext(jL)}function gie(){return x.useContext(zL)}function Ld(e){var{valueAccessor:t=hie}=e,n=JO(e,cie),{dataKey:r,clockWise:i,id:a,textBreakAll:l,zIndex:u}=n,c=JO(n,fie),d=mie(),h=gie(),m=d||h;return!m||!m.length?null:x.createElement(oi,{zIndex:u??gn.label},x.createElement(Vi,{className:"recharts-label-list"},m.map((v,_)=>{var T,E=Jt(r)?t(v,_):vn(v&&v.payload,r),w=Jt(a)?{}:{id:"".concat(a,"-").concat(_)};return x.createElement(Ia,Rh({key:"label-".concat(_)},yn(v),c,w,{fill:(T=n.fill)!==null&&T!==void 0?T:v.fill,parentViewBox:v.parentViewBox,value:E,textBreakAll:l,viewBox:v.viewBox,index:_,zIndex:0}))})))}Ld.displayName="LabelList";function vie(e){var{label:t}=e;return t?t===!0?x.createElement(Ld,{key:"labelList-implicit"}):x.isValidElement(t)||zS(t)?x.createElement(Ld,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(Ld,Rh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Pb(){return Pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pb.apply(null,arguments)}var BL=e=>{var{cx:t,cy:n,r,className:i}=e,a=Xe("recharts-dot",i);return Ee(t)&&Ee(n)&&Ee(r)?x.createElement("circle",Pb({},Zr(e),E_(e),{className:a,cx:t,cy:n,r})):null},yie={radiusAxis:{},angleAxis:{}},$L=Fn({name:"polarAxis",initialState:yie,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:rue,removeRadiusAxis:iue,addAngleAxis:aue,removeAngleAxis:oue}=$L.actions,bie=$L.reducer,FL=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,$y={},XO;function _ie(){return XO||(XO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})($y)),$y}var Fy,QO;function Sie(){return QO||(QO=1,Fy=_ie().isPlainObject),Fy}var Tie=Sie();const Eie=Zi(Tie);function ZO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZO(Object(n),!0).forEach(function(r){wie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wie(e,t,n){return(t=xie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xie(e){var t=Aie(e,"string");return typeof t=="symbol"?t:t+""}function Aie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kh(){return kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kh.apply(null,arguments)}var tN=(e,t,n,r,i)=>{var a=n-r,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+n,",").concat(t),l+="L ".concat(e+n-a/2,",").concat(t+i),l+="L ".concat(e+n-a/2-r,",").concat(t+i),l+="L ".concat(e,",").concat(t," Z"),l},Cie={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Mie=e=>{var t=un(e,Cie),{x:n,y:r,upperWidth:i,lowerWidth:a,height:l,className:u}=t,{animationEasing:c,animationDuration:d,animationBegin:h,isUpdateAnimationActive:m}=t,v=x.useRef(null),[_,T]=x.useState(-1),E=x.useRef(i),w=x.useRef(a),M=x.useRef(l),O=x.useRef(n),P=x.useRef(r),D=z_(e,"trapezoid-");if(x.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var pe=v.current.getTotalLength();pe&&T(pe)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||l!==+l||i===0&&a===0||l===0)return null;var N=Xe("recharts-trapezoid",u);if(!m)return x.createElement("g",null,x.createElement("path",kh({},yn(t),{className:N,d:tN(n,r,i,a,l)})));var R=E.current,k=w.current,B=M.current,$=O.current,oe=P.current,V="0px ".concat(_===-1?1:_,"px"),W="".concat(_,"px 0px"),fe=ak(["strokeDasharray"],d,c);return x.createElement(j_,{animationId:D,key:D,canBegin:_>0,duration:d,easing:c,isActive:m,begin:h},pe=>{var be=jn(R,i,pe),z=jn(k,a,pe),ee=jn(B,l,pe),le=jn($,n,pe),ue=jn(oe,r,pe);v.current&&(E.current=be,w.current=z,M.current=ee,O.current=le,P.current=ue);var we=pe>0?{transition:fe,strokeDasharray:W}:{strokeDasharray:V};return x.createElement("path",kh({},yn(t),{className:N,d:tN(le,ue,be,z,ee),ref:v,style:eN(eN({},we),t.style)}))})},Pie=["option","shapeType","propTransformer","activeClassName"];function Oie(e,t){if(e==null)return{};var n,r,i=Nie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Nie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function nN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nN(Object(n),!0).forEach(function(r){Iie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Iie(e,t,n){return(t=Die(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Die(e){var t=Rie(e,"string");return typeof t=="symbol"?t:t+""}function Rie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kie(e,t){return Lh(Lh({},t),e)}function Lie(e,t){return e==="symbols"}function rN(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return x.createElement(uk,n);case"trapezoid":return x.createElement(Mie,n);case"sector":return x.createElement(dk,n);case"symbols":if(Lie(t))return x.createElement(T_,n);break;case"curve":return x.createElement(ik,n);default:return null}}function Uie(e){return x.isValidElement(e)?e.props:e}function qie(e){var{option:t,shapeType:n,propTransformer:r=kie,activeClassName:i="recharts-active-shape"}=e,a=Oie(e,Pie),l;if(x.isValidElement(t))l=x.cloneElement(t,Lh(Lh({},a),Uie(t)));else if(typeof t=="function")l=t(a);else if(Eie(t)&&typeof t!="boolean"){var u=r(t,a);l=x.createElement(rN,{shapeType:n,elementProps:u})}else{var c=a;l=x.createElement(rN,{shapeType:n,elementProps:c})}return a.isActive?x.createElement(Vi,{className:i},l):l}function jie(e){var{tooltipEntrySettings:t}=e,n=Ct(),r=An(),i=x.useRef(null);return x.useLayoutEffect(()=>{r||(i.current===null?n(ste(t)):i.current!==t&&n(lte({prev:i.current,next:t})),i.current=t)},[t,n,r]),x.useLayoutEffect(()=>()=>{i.current&&(n(ute(i.current)),i.current=null)},[n]),null}function zie(e){var{legendPayload:t}=e,n=Ct(),r=An(),i=x.useRef(null);return x.useLayoutEffect(()=>{r||(i.current===null?n(CW(t)):i.current!==t&&n(MW({prev:i.current,next:t})),i.current=t)},[n,r,t]),x.useLayoutEffect(()=>()=>{i.current&&(n(PW(i.current)),i.current=null)},[n]),null}var Hy,Bie=()=>{var[e]=x.useState(()=>Wu("uid-"));return e},$ie=(Hy=jj.useId)!==null&&Hy!==void 0?Hy:Bie;function HL(e,t){var n=$ie();return t||(e?"".concat(e,"-").concat(n):n)}var Fie=x.createContext(void 0),Hie=e=>{var{id:t,type:n,children:r}=e,i=HL("recharts-".concat(n),t);return x.createElement(Fie.Provider,{value:i},r(i))},Gie={cartesianItems:[],polarItems:[]},GL=Fn({name:"graphicalItems",initialState:Gie,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:mt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Lr(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:mt()},removeCartesianGraphicalItem:{reducer(e,t){var n=Lr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:mt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:mt()},removePolarGraphicalItem:{reducer(e,t){var n=Lr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:mt()}}}),{addCartesianGraphicalItem:Vie,replaceCartesianGraphicalItem:Kie,removeCartesianGraphicalItem:Yie,addPolarGraphicalItem:sue,removePolarGraphicalItem:lue}=GL.actions,Wie=GL.reducer,Jie=e=>{var t=Ct(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?t(Vie(e)):n.current!==e&&t(Kie({prev:n.current,next:e})),n.current=e},[t,e]),x.useLayoutEffect(()=>()=>{n.current&&(t(Yie(n.current)),n.current=null)},[t]),null},Xie=x.memo(Jie),Qie=["points"];function iN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iN(Object(n),!0).forEach(function(r){Zie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zie(e,t,n){return(t=eae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eae(e){var t=tae(e,"string");return typeof t=="symbol"?t:t+""}function tae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uh(){return Uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uh.apply(null,arguments)}function nae(e,t){if(e==null)return{};var n,r,i=rae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function iae(e){var{option:t,dotProps:n,className:r}=e;if(x.isValidElement(t))return x.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Xe(r,typeof t!="boolean"?t.className:""),a=n??{},{points:l}=a,u=nae(a,Qie);return x.createElement(BL,Uh({},u,{className:i}))}function aae(e,t){return e==null?!1:t?!0:e.length===1}function oae(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:l,needClip:u,clipPathId:c,zIndex:d=gn.scatter}=e;if(!aae(t,n))return null;var h=FL(n),m=cK(n),v=t.map((T,E)=>{var w,M,O=Gy(Gy(Gy({r:3},l),m),{},{index:E,cx:(w=T.x)!==null&&w!==void 0?w:void 0,cy:(M=T.y)!==null&&M!==void 0?M:void 0,dataKey:a,value:T.value,payload:T.payload,points:t});return x.createElement(iae,{key:"dot-".concat(E),option:n,dotProps:O,className:i})}),_={};return u&&c!=null&&(_.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(c,")")),x.createElement(oi,{zIndex:d},x.createElement(Vi,Uh({className:r},_),v))}function aN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aN(Object(n),!0).forEach(function(r){sae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sae(e,t,n){return(t=lae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lae(e){var t=uae(e,"string");return typeof t=="symbol"?t:t+""}function uae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cae={xAxis:{},yAxis:{},zAxis:{}},VL=Fn({name:"cartesianAxis",initialState:cae,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:mt()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:mt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:mt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:mt()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:mt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:mt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:mt()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:mt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:mt()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var l=[...a,r].slice(-3);e.yAxis[n]=oN(oN({},e.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:fae,replaceXAxis:dae,removeXAxis:hae,addYAxis:pae,replaceYAxis:mae,removeYAxis:gae,addZAxis:uue,replaceZAxis:cue,removeZAxis:fue,updateYAxisWidth:vae}=VL.actions,yae=VL.reducer,bae=X([cn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),_ae=X([bae,ra,ia],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),BS=()=>ye(_ae),Sae=()=>ye(tne);function sN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sN(Object(n),!0).forEach(function(r){Tae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tae(e,t,n){return(t=Eae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eae(e){var t=wae(e,"string");return typeof t=="symbol"?t:t+""}function wae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xae=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:l}=e;if(i===!1||t.x==null||t.y==null)return null;var u={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=Vy(Vy(Vy({},u),Zh(i)),E_(i)),d;return x.isValidElement(i)?d=x.cloneElement(i,c):typeof i=="function"?d=i(c):d=x.createElement(BL,c),x.createElement(Vi,{className:"recharts-active-dot",clipPath:l},d)};function Aae(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:l=gn.activeDot}=e,u=ye(lc),c=Sae();if(t==null||c==null)return null;var d=t.find(h=>c.includes(h.payload));return Jt(d)?null:x.createElement(oi,{zIndex:l},x.createElement(xae,{point:d,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var Cae={},KL=Fn({name:"errorBars",initialState:Cae,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:due,replaceErrorBar:hue,removeErrorBar:pue}=KL.actions,Mae=KL.reducer,Pae=["children"];function Oae(e,t){if(e==null)return{};var n,r,i=Nae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Nae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Iae={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Dae=x.createContext(Iae);function Rae(e){var{children:t}=e,n=Oae(e,Pae);return x.createElement(Dae.Provider,{value:n},t)}function YL(e,t){var n,r,i=ye(d=>ii(d,e)),a=ye(d=>ai(d,t)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Vt.allowDataOverflow,u=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Kt.allowDataOverflow,c=l||u;return{needClip:c,needClipX:l,needClipY:u}}function kae(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=BS(),{needClipX:a,needClipY:l,needClip:u}=YL(t,n);if(!u||!i)return null;var{x:c,y:d,width:h,height:m}=i;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:a?c:c-h/2,y:l?d:d-m/2,width:a?h:h*2,height:l?m:m*2}))}var Ky={exports:{}},Yy={};var lN;function Lae(){if(lN)return Yy;lN=1;var e=cl();function t(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,l=e.useMemo,u=e.useDebugValue;return Yy.useSyncExternalStoreWithSelector=function(c,d,h,m,v){var _=i(null);if(_.current===null){var T={hasValue:!1,value:null};_.current=T}else T=_.current;_=l(function(){function w(N){if(!M){if(M=!0,O=N,N=m(N),v!==void 0&&T.hasValue){var R=T.value;if(v(R,N))return P=R}return P=N}if(R=P,n(O,N))return R;var k=m(N);return v!==void 0&&v(R,k)?(O=N,R):(O=N,P=k)}var M=!1,O,P,D=h===void 0?null:h;return[function(){return w(d())},D===null?void 0:function(){return w(D())}]},[d,h,m,v]);var E=r(c,_[0],_[1]);return a(function(){T.hasValue=!0,T.value=E},[E]),u(E),E},Yy}var uN;function Uae(){return uN||(uN=1,Ky.exports=Lae()),Ky.exports}Uae();function qae(e){e()}function jae(){let e=null,t=null;return{clear(){e=null,t=null},notify(){qae(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var cN={notify(){},get:()=>[]};function zae(e,t){let n,r=cN,i=0,a=!1;function l(E){h();const w=r.subscribe(E);let M=!1;return()=>{M||(M=!0,w(),m())}}function u(){r.notify()}function c(){T.onStateChange&&T.onStateChange()}function d(){return a}function h(){i++,n||(n=e.subscribe(c),r=jae())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=cN)}function v(){a||(a=!0,h())}function _(){a&&(a=!1,m())}const T={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:c,isSubscribed:d,trySubscribe:v,tryUnsubscribe:_,getListeners:()=>r};return T}var Bae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$ae=Bae(),Fae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Hae=Fae(),Gae=()=>$ae||Hae?x.useLayoutEffect:x.useEffect,Vae=Gae();function fN(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Kae(e,t){if(fN(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!fN(e[n[i]],t[n[i]]))return!1;return!0}var Yae=Symbol.for("react-redux-context"),Wae=typeof globalThis<"u"?globalThis:{};function Jae(){if(!x.createContext)return{};const e=Wae[Yae]??=new Map;let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var Xae=Jae();function Qae(e){const{children:t,context:n,serverState:r,store:i}=e,a=x.useMemo(()=>{const c=zae(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),l=x.useMemo(()=>i.getState(),[i]);Vae(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,l]);const u=n||Xae;return x.createElement(u.Provider,{value:a},t)}var Zae=Qae,eoe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function toe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function $S(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(eoe.has(r)){if(e[r]==null&&t[r]==null)continue;if(!Kae(e[r],t[r]))return!1}else if(!toe(e[r],t[r]))return!1;return!0}var noe=e=>{var{chartData:t}=e,n=Ct(),r=An();return x.useEffect(()=>r?()=>{}:(n(OO(t)),()=>{n(OO(void 0))}),[t,n,r]),null},dN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},WL=Fn({name:"brush",initialState:dN,reducers:{setBrushSettings(e,t){return t.payload==null?dN:t.payload}}}),{setBrushSettings:mue}=WL.actions,roe=WL.reducer;function hN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hN(Object(n),!0).forEach(function(r){JL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JL(e,t,n){return(t=ioe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ioe(e){var t=aoe(e,"string");return typeof t=="symbol"?t:t+""}function aoe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ooe=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return{x:Math.min(n,i),y:Math.min(r,a),width:Math.abs(i-n),height:Math.abs(a-r)}},soe=e=>{var{x1:t,y1:n,x2:r,y2:i}=e;return ooe({x:t,y:n},{x:r,y:i})};class qp{static create(t){return new qp(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}JL(qp,"EPS",1e-4);var loe=e=>{var t=Object.keys(e).reduce((n,r)=>Sd(Sd({},n),{},{[r]:qp.create(e[r])}),{});return Sd(Sd({},t),{},{apply(n){var{bandAware:r,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(n).map(a=>{var[l,u]=a;return[l,t[l].apply(u,{bandAware:r,position:i})]}))},isInRange(n){return Object.keys(n).every(r=>t[r].isInRange(n[r]))}})};function uoe(e){return(e%180+180)%180}var coe=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=uoe(i),l=a*Math.PI/180,u=Math.atan(r/n),c=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(c)},foe={dots:[],areas:[],lines:[]},XL=Fn({name:"referenceElements",initialState:foe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Lr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Lr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Lr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:gue,removeDot:vue,addArea:yue,removeArea:bue,addLine:doe,removeLine:hoe}=XL.actions,poe=XL.reducer,QL=x.createContext(void 0),moe=e=>{var{children:t}=e,[n]=x.useState("".concat(Wu("recharts"),"-clip")),r=BS();if(r==null)return null;var{x:i,y:a,width:l,height:u}=r;return x.createElement(QL.Provider,{value:n},x.createElement("defs",null,x.createElement("clipPath",{id:n},x.createElement("rect",{x:i,y:a,height:u,width:l}))),t)},goe=()=>x.useContext(QL);function pN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pN(Object(n),!0).forEach(function(r){voe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function voe(e,t,n){return(t=yoe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yoe(e){var t=boe(e,"string");return typeof t=="symbol"?t:t+""}function boe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qh(){return qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qh.apply(null,arguments)}var _oe=(e,t)=>{var n;if(x.isValidElement(e))n=x.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{if(!St(t.x1)||!St(t.y1)||!St(t.x2)||!St(t.y2))return null;n=x.createElement("line",qh({},t,{className:"recharts-reference-line-line"}))}return n},Soe=(e,t,n,r,i,a)=>{var{x:l,width:u}=a,c=i.y.apply(e,{position:n});if(Er(c)||t==="discard"&&!i.y.isInRange(c))return null;var d=[{x:l+u,y:c},{x:l,y:c}];return r==="left"?d.reverse():d},Toe=(e,t,n,r,i,a)=>{var{y:l,height:u}=a,c=i.x.apply(e,{position:n});if(Er(c)||t==="discard"&&!i.x.isInRange(c))return null;var d=[{x:c,y:l+u},{x:c,y:l}];return r==="top"?d.reverse():d},Eoe=(e,t,n,r)=>{var i=e.map(a=>r.apply(a,{position:n}));return t==="discard"&&i.some(a=>!r.isInRange(a))?null:i},woe=(e,t,n,r,i,a)=>{var{x:l,y:u,segment:c,ifOverflow:d}=a,h=wr(l),m=wr(u);return m?Soe(u,d,n,i,e,t):h?Toe(l,d,n,r,e,t):c!=null&&c.length===2?Eoe(c,d,n,e):null};function xoe(e){var t=Ct();return x.useEffect(()=>(t(doe(e)),()=>{t(hoe(e))})),null}function Aoe(e){var{xAxisId:t,yAxisId:n,shape:r,className:i,ifOverflow:a}=e,l=An(),u=goe(),c=ye(R=>ii(R,t)),d=ye(R=>ai(R,n)),h=ye(R=>Ba(R,"xAxis",t,l)),m=ye(R=>Ba(R,"yAxis",n,l)),v=Ec();if(!u||!v||c==null||d==null||h==null||m==null)return null;var _=loe({x:h,y:m}),T=woe(_,v,e.position,c.orientation,d.orientation,e);if(!T)return null;var[{x:E,y:w},{x:M,y:O}]=T,P=a==="hidden"?"url(#".concat(u,")"):void 0,D=mN(mN({clipPath:P},yn(e)),{},{x1:E,y1:w,x2:M,y2:O}),N=soe({x1:E,y1:w,x2:M,y2:O});return x.createElement(oi,{zIndex:e.zIndex},x.createElement(Vi,{className:Xe("recharts-reference-line",i)},_oe(r,D),x.createElement(LL,qh({},N,{lowerWidth:N.width,upperWidth:N.width}),x.createElement(qL,{label:e.label}),e.children)))}var Coe={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:gn.line};function ZL(e){var t=un(e,Coe);return x.createElement(x.Fragment,null,x.createElement(xoe,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),x.createElement(Aoe,t))}ZL.displayName="ReferenceLine";function eU(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function Moe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return coe(r,n)}function Poe(e,t,n){var r=n==="width",{x:i,y:a,width:l,height:u}=e;return t===1?{start:r?i:a,end:r?i+l:a+u}:{start:r?i+l:a+u,end:r?i:a}}function jh(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function Ooe(e,t){return eU(e,t+1)}function Noe(e,t,n,r,i){for(var a=(r||[]).slice(),{start:l,end:u}=t,c=0,d=1,h=l,m=function(){var T=r?.[c];if(T===void 0)return{v:eU(r,d)};var E=c,w,M=()=>(w===void 0&&(w=n(T,E)),w),O=T.coordinate,P=c===0||jh(e,O,M,h,u);P||(c=0,h=l,d+=1),P&&(h=O+e*(M()/2+i),c+=d)},v;d<=a.length;)if(v=m(),v)return v.v;return[]}function gN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gN(Object(n),!0).forEach(function(r){Ioe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ioe(e,t,n){return(t=Doe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Doe(e){var t=Roe(e,"string");return typeof t=="symbol"?t:t+""}function Roe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function koe(e,t,n,r,i){for(var a=(r||[]).slice(),l=a.length,{start:u}=t,{end:c}=t,d=function(v){var _=a[v],T,E=()=>(T===void 0&&(T=n(_,v)),T);if(v===l-1){var w=e*(_.coordinate+e*E()/2-c);a[v]=_=hn(hn({},_),{},{tickCoord:w>0?_.coordinate-w*e:_.coordinate})}else a[v]=_=hn(hn({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var M=jh(e,_.tickCoord,E,u,c);M&&(c=_.tickCoord-e*(E()/2+i),a[v]=hn(hn({},_),{},{isShow:!0}))}},h=l-1;h>=0;h--)d(h);return a}function Loe(e,t,n,r,i,a){var l=(r||[]).slice(),u=l.length,{start:c,end:d}=t;if(a){var h=r[u-1],m=n(h,u-1),v=e*(h.coordinate+e*m/2-d);if(l[u-1]=h=hn(hn({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate}),h.tickCoord!=null){var _=jh(e,h.tickCoord,()=>m,c,d);_&&(d=h.tickCoord-e*(m/2+i),l[u-1]=hn(hn({},h),{},{isShow:!0}))}}for(var T=a?u-1:u,E=function(O){var P=l[O],D,N=()=>(D===void 0&&(D=n(P,O)),D);if(O===0){var R=e*(P.coordinate-e*N()/2-c);l[O]=P=hn(hn({},P),{},{tickCoord:R<0?P.coordinate-R*e:P.coordinate})}else l[O]=P=hn(hn({},P),{},{tickCoord:P.coordinate});if(P.tickCoord!=null){var k=jh(e,P.tickCoord,N,c,d);k&&(c=P.tickCoord+e*(N()/2+i),l[O]=hn(hn({},P),{},{isShow:!0}))}},w=0;w<T;w++)E(w);return l}function FS(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:l,orientation:u,interval:c,tickFormatter:d,unit:h,angle:m}=e;if(!i||!i.length||!r)return[];if(Ee(c)||bl.isSsr){var v;return(v=Ooe(i,Ee(c)?c:0))!==null&&v!==void 0?v:[]}var _=[],T=u==="top"||u==="bottom"?"width":"height",E=h&&T==="width"?Vu(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},w=(P,D)=>{var N=typeof d=="function"?d(P.value,D):P.value;return T==="width"?Moe(Vu(N,{fontSize:t,letterSpacing:n}),E,m):Vu(N,{fontSize:t,letterSpacing:n})[T]},M=i.length>=2?br(i[1].coordinate-i[0].coordinate):1,O=Poe(a,M,T);return c==="equidistantPreserveStart"?Noe(M,O,w,i,l):(c==="preserveStart"||c==="preserveStartEnd"?_=Loe(M,O,w,i,l,c==="preserveStartEnd"):_=koe(M,O,w,i,l),_.filter(P=>P.isShow))}var Uoe=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,l=0;if(t){Array.from(t).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>l&&(l=m.width)}});var u=n?n.getBoundingClientRect().width:0,c=i+a,d=l+c+u+(n?r:0);return Math.round(d)}return 0},qoe=["axisLine","width","height","className","hide","ticks","axisType"];function joe(e,t){if(e==null)return{};var n,r,i=zoe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zoe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qo(){return qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qo.apply(null,arguments)}function vN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vN(Object(n),!0).forEach(function(r){Boe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Boe(e,t,n){return(t=$oe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $oe(e){var t=Foe(e,"string");return typeof t=="symbol"?t:t+""}function Foe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bi={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:gn.axis};function Hoe(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:l,axisLine:u,otherSvgProps:c}=e;if(!u)return null;var d=Dt(Dt(Dt({},c),Zr(u)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!l||a==="bottom"&&l);d=Dt(Dt({},d),{},{x1:t,y1:n+h*i,x2:t+r,y2:n+h*i})}else{var m=+(a==="left"&&!l||a==="right"&&l);d=Dt(Dt({},d),{},{x1:t+m*r,y1:n,x2:t+m*r,y2:n+i})}return x.createElement("line",qo({},d,{className:Xe("recharts-cartesian-axis-line",rp(u,"className"))}))}function Goe(e,t,n,r,i,a,l,u,c){var d,h,m,v,_,T,E=u?-1:1,w=e.tickSize||l,M=Ee(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":d=h=e.coordinate,v=n+ +!u*i,m=v-E*w,T=m-E*c,_=M;break;case"left":m=v=e.coordinate,h=t+ +!u*r,d=h-E*w,_=d-E*c,T=M;break;case"right":m=v=e.coordinate,h=t+ +u*r,d=h+E*w,_=d+E*c,T=M;break;default:d=h=e.coordinate,v=n+ +u*i,m=v+E*w,T=m+E*c,_=M;break}return{line:{x1:d,y1:m,x2:h,y2:v},tick:{x:_,y:T}}}function Voe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Koe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Yoe(e){var{option:t,tickProps:n,value:r}=e,i,a=Xe(n.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))i=x.cloneElement(t,Dt(Dt({},n),{},{className:a}));else if(typeof t=="function")i=t(Dt(Dt({},n),{},{className:a}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=Xe(l,t?.className)),i=x.createElement(jS,qo({},n,{className:l}),r)}return i}var Woe=x.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:l,unit:u,padding:c,tickTextProps:d,orientation:h,mirror:m,x:v,y:_,width:T,height:E,tickSize:w,tickMargin:M,fontSize:O,letterSpacing:P,getTicksConfig:D,events:N,axisType:R}=e,k=FS(Dt(Dt({},D),{},{ticks:n}),O,P),B=Voe(h,m),$=Koe(h,m),oe=Zr(D),V=Zh(r),W={};typeof i=="object"&&(W=i);var fe=Dt(Dt({},oe),{},{fill:"none"},W),pe=k.map(ee=>Dt({entry:ee},Goe(ee,v,_,T,E,h,w,m,M))),be=pe.map(ee=>{var{entry:le,line:ue}=ee;return x.createElement(Vi,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(le.value,"-").concat(le.coordinate,"-").concat(le.tickCoord)},i&&x.createElement("line",qo({},fe,ue,{className:Xe("recharts-cartesian-axis-tick-line",rp(i,"className"))})))}),z=pe.map((ee,le)=>{var{entry:ue,tick:we}=ee,U=Dt(Dt(Dt(Dt({textAnchor:B,verticalAnchor:$},oe),{},{stroke:"none",fill:a},V),we),{},{index:le,payload:ue,visibleTicksCount:k.length,tickFormatter:l,padding:c},d);return x.createElement(Vi,qo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ue.value,"-").concat(ue.coordinate,"-").concat(ue.tickCoord)},KD(N,ue,le)),r&&x.createElement(Yoe,{option:r,tickProps:U,value:"".concat(typeof l=="function"?l(ue.value,le):ue.value).concat(u||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(R,"-ticks")},z.length>0&&x.createElement(oi,{zIndex:gn.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(R,"-tick-labels"),ref:t},z)),be.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(R,"-tick-lines")},be))}),Joe=x.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:l,ticks:u,axisType:c}=e,d=joe(e,qoe),[h,m]=x.useState(""),[v,_]=x.useState(""),T=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var w;return Uoe({ticks:T.current,label:(w=e.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var E=x.useCallback(w=>{if(w){var M=w.getElementsByClassName("recharts-cartesian-axis-tick-value");T.current=M;var O=M[0];if(O){var P=window.getComputedStyle(O),D=P.fontSize,N=P.letterSpacing;(D!==h||N!==v)&&(m(D),_(N))}}},[h,v]);return l||r!=null&&r<=0||i!=null&&i<=0?null:x.createElement(oi,{zIndex:e.zIndex},x.createElement(Vi,{className:Xe("recharts-cartesian-axis",a)},x.createElement(Hoe,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Zr(e)}),x.createElement(Woe,{ref:E,axisType:c,events:d,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:v,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),x.createElement(LL,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},x.createElement(qL,{label:e.label,labelRef:e.labelRef}),e.children)))}),HS=x.forwardRef((e,t)=>{var n=un(e,Bi);return x.createElement(Joe,qo({},n,{ref:t}))});HS.displayName="CartesianAxis";var Xoe=["x1","y1","x2","y2","key"],Qoe=["offset"],Zoe=["xAxisId","yAxisId"],ese=["xAxisId","yAxisId"];function yN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yN(Object(n),!0).forEach(function(r){tse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tse(e,t,n){return(t=nse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nse(e){var t=rse(e,"string");return typeof t=="symbol"?t:t+""}function rse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Po(){return Po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Po.apply(null,arguments)}function zh(e,t){if(e==null)return{};var n,r,i=ise(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ise(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ase=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:l,ry:u}=e;return x.createElement("rect",{x:r,y:i,ry:u,width:a,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function tU(e){var{option:t,lineItemProps:n}=e,r;if(x.isValidElement(t))r=x.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:l,x2:u,y2:c,key:d}=n,h=zh(n,Xoe),m=(i=Zr(h))!==null&&i!==void 0?i:{},{offset:v}=m,_=zh(m,Qoe);r=x.createElement("line",Po({},_,{x1:a,y1:l,x2:u,y2:c,fill:"none",key:d}))}return r}function ose(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=e,u=zh(e,Zoe),c=i.map((d,h)=>{var m=pn(pn({},u),{},{x1:t,y1:d,x2:t+n,y2:d,key:"line-".concat(h),index:h});return x.createElement(tU,{key:"line-".concat(h),option:r,lineItemProps:m})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function sse(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=e,u=zh(e,ese),c=i.map((d,h)=>{var m=pn(pn({},u),{},{x1:d,y1:t,x2:d,y2:t+n,key:"line-".concat(h),index:h});return x.createElement(tU,{option:r,lineItemProps:m,key:"line-".concat(h)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function lse(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:l,horizontalPoints:u,horizontal:c=!0}=e;if(!c||!t||!t.length||u==null)return null;var d=u.map(m=>Math.round(m+i-i)).sort((m,v)=>m-v);i!==d[0]&&d.unshift(0);var h=d.map((m,v)=>{var _=!d[v+1],T=_?i+l-m:d[v+1]-m;if(T<=0)return null;var E=v%t.length;return x.createElement("rect",{key:"react-".concat(v),y:m,x:r,height:T,width:a,stroke:"none",fill:t[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function use(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:l,height:u,verticalPoints:c}=e;if(!t||!n||!n.length)return null;var d=c.map(m=>Math.round(m+i-i)).sort((m,v)=>m-v);i!==d[0]&&d.unshift(0);var h=d.map((m,v)=>{var _=!d[v+1],T=_?i+l-m:d[v+1]-m;if(T<=0)return null;var E=v%n.length;return x.createElement("rect",{key:"react-".concat(v),x:m,y:a,width:T,height:u,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var cse=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return jR(FS(pn(pn(pn({},Bi),n),{},{ticks:zR(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},fse=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return jR(FS(pn(pn(pn({},Bi),n),{},{ticks:zR(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},dse={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:gn.grid};function nU(e){var t=k_(),n=L_(),r=YR(),i=pn(pn({},un(e,dse)),{},{x:Ee(e.x)?e.x:r.left,y:Ee(e.y)?e.y:r.top,width:Ee(e.width)?e.width:r.width,height:Ee(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:l,x:u,y:c,width:d,height:h,syncWithTicks:m,horizontalValues:v,verticalValues:_}=i,T=An(),E=ye($=>yO($,"xAxis",a,T)),w=ye($=>yO($,"yAxis",l,T));if(!ti(d)||!ti(h)||!Ee(u)||!Ee(c))return null;var M=i.verticalCoordinatesGenerator||cse,O=i.horizontalCoordinatesGenerator||fse,{horizontalPoints:P,verticalPoints:D}=i;if((!P||!P.length)&&typeof O=="function"){var N=v&&v.length,R=O({yAxis:w?pn(pn({},w),{},{ticks:N?v:w.ticks}):void 0,width:t??d,height:n??h,offset:r},N?!0:m);dh(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(P=R)}if((!D||!D.length)&&typeof M=="function"){var k=_&&_.length,B=M({xAxis:E?pn(pn({},E),{},{ticks:k?_:E.ticks}):void 0,width:t??d,height:n??h,offset:r},k?!0:m);dh(Array.isArray(B),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof B,"]")),Array.isArray(B)&&(D=B)}return x.createElement(oi,{zIndex:i.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(ase,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(lse,Po({},i,{horizontalPoints:P})),x.createElement(use,Po({},i,{verticalPoints:D})),x.createElement(ose,Po({},i,{offset:r,horizontalPoints:P,xAxis:E,yAxis:w})),x.createElement(sse,Po({},i,{offset:r,verticalPoints:D,xAxis:E,yAxis:w}))))}nU.displayName="CartesianGrid";var rU=(e,t,n,r)=>Z2(e,"xAxis",t,r),iU=(e,t,n,r)=>Q2(e,"xAxis",t,r),aU=(e,t,n,r)=>Z2(e,"yAxis",n,r),oU=(e,t,n,r)=>Q2(e,"yAxis",n,r),hse=X([ft,rU,aU,iU,oU],(e,t,n,r,i)=>Ga(e,"xAxis")?fh(t,r,!1):fh(n,i,!1)),pse=(e,t,n,r,i)=>i;function mse(e){return e.type==="line"}var gse=X([S2,pse],(e,t)=>e.filter(mse).find(n=>n.id===t)),vse=X([ft,rU,aU,iU,oU,gse,hse,cS],(e,t,n,r,i,a,l,u)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:h}=u;if(!(a==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:m,data:v}=a,_;if(v!=null&&v.length>0?_=v:_=c?.slice(d,h+1),_!=null)return qse({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:m,bandSize:l,displayedData:_})}});function yse(e){var t=Zh(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,l=Number(i),u=Number(a);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(u)||u<0)&&(u=r),{r:l,strokeWidth:u}}return{r:n,strokeWidth:r}}var bse=["id"],_se=["type","layout","connectNulls","needClip","shape"],Sse=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function cc(){return cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cc.apply(null,arguments)}function bN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(n),!0).forEach(function(r){Tse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tse(e,t,n){return(t=Ese(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ese(e){var t=wse(e,"string");return typeof t=="symbol"?t:t+""}function wse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GS(e,t){if(e==null)return{};var n,r,i=xse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ase=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:BR(n,t),payload:e}]},Cse=x.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:l,hide:u,unit:c,tooltipType:d}=e,h={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:BR(l,t),hide:u,type:d,color:r,unit:c}};return x.createElement(jie,{tooltipEntrySettings:h})}),sU=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Mse(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var Pse=(e,t,n)=>{var r=n.reduce((m,v)=>m+v);if(!r)return sU(t,e);for(var i=Math.floor(e/r),a=e%r,l=t-e,u=[],c=0,d=0;c<n.length;d+=n[c],++c)if(d+n[c]>a){u=[...n.slice(0,c),a-d];break}var h=u.length%2===0?[0,l]:[l];return[...Mse(n,i),...u,...h].map(m=>"".concat(m,"px")).join(", ")};function Ose(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:a,needClip:l}=r,{id:u}=r,c=GS(r,bse),d=Zr(c);return x.createElement(oae,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:d,needClip:l,clipPathId:t})}function Nse(e){var{showLabels:t,children:n,points:r}=e,i=x.useMemo(()=>r?.map(a=>{var l,u,c={x:(l=a.x)!==null&&l!==void 0?l:0,y:(u=a.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Wr(Wr({},c),{},{value:a.value,payload:a.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[r]);return x.createElement(pie,{value:t?i:void 0},n)}function _N(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:a}=e,{type:l,layout:u,connectNulls:c,needClip:d,shape:h}=a,m=GS(a,_se),v=Wr(Wr({},yn(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:r,type:l,layout:u,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return x.createElement(x.Fragment,null,r?.length>1&&x.createElement(qie,cc({shapeType:"curve",option:h},v,{pathRef:n})),x.createElement(Ose,{points:r,clipPathId:t,props:a}))}function Ise(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Dse(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:l,strokeDasharray:u,isAnimationActive:c,animationBegin:d,animationDuration:h,animationEasing:m,animateNewValues:v,width:_,height:T,onAnimationEnd:E,onAnimationStart:w}=n,M=i.current,O=z_(l,"recharts-line-"),P=x.useRef(O),[D,N]=x.useState(!1),R=!D,k=x.useCallback(()=>{typeof E=="function"&&E(),N(!1)},[E]),B=x.useCallback(()=>{typeof w=="function"&&w(),N(!0)},[w]),$=Ise(r.current),oe=x.useRef(0);P.current!==O&&(oe.current=a.current,P.current=O);var V=oe.current;return x.createElement(Nse,{points:l,showLabels:R},n.children,x.createElement(j_,{animationId:O,begin:d,duration:h,isActive:c,easing:m,onAnimationEnd:k,onAnimationStart:B,key:O},W=>{var fe=jn(V,$+V,W),pe=Math.min(fe,$),be;if(c)if(u){var z="".concat(u).split(/[,\s]+/gim).map(ue=>parseFloat(ue));be=Pse(pe,$,z)}else be=sU($,pe);else be=u==null?void 0:String(u);if(W>0&&$>0&&(i.current=l,a.current=Math.max(a.current,pe)),M){var ee=M.length/l.length,le=W===1?l:l.map((ue,we)=>{var U=Math.floor(we*ee);if(M[U]){var J=M[U];return Wr(Wr({},ue),{},{x:jn(J.x,ue.x,W),y:jn(J.y,ue.y,W)})}return v?Wr(Wr({},ue),{},{x:jn(_*2,ue.x,W),y:jn(T/2,ue.y,W)}):Wr(Wr({},ue),{},{x:ue.x,y:ue.y})});return i.current=le,x.createElement(_N,{props:n,points:le,clipPathId:t,pathRef:r,strokeDasharray:be})}return x.createElement(_N,{props:n,points:l,clipPathId:t,pathRef:r,strokeDasharray:be})}),x.createElement(vie,{label:n.label}))}function Rse(e){var{clipPathId:t,props:n}=e,r=x.useRef(null),i=x.useRef(0),a=x.useRef(null);return x.createElement(Dse,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var kse=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:vn(e.payload,t)}};class Lse extends x.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:a,yAxisId:l,top:u,left:c,width:d,height:h,id:m,needClip:v,zIndex:_}=this.props;if(t)return null;var T=Xe("recharts-line",i),E=m,{r:w,strokeWidth:M}=yse(n),O=FL(n),P=w*2+M,D=v?"url(#clipPath-".concat(O?"":"dots-").concat(E,")"):void 0;return x.createElement(oi,{zIndex:_},x.createElement(Vi,{className:T},v&&x.createElement("defs",null,x.createElement(kae,{clipPathId:E,xAxisId:a,yAxisId:l}),!O&&x.createElement("clipPath",{id:"clipPath-dots-".concat(E)},x.createElement("rect",{x:c-P/2,y:u-P/2,width:d+P,height:h+P}))),x.createElement(Rae,{xAxisId:a,yAxisId:l,data:r,dataPointFormatter:kse,errorBarOffset:0},x.createElement(Rse,{props:this.props,clipPathId:E}))),x.createElement(Aae,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:D}))}}var lU={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:gn.line,type:"linear"};function Use(e){var t=un(e,lU),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,connectNulls:u,dot:c,hide:d,isAnimationActive:h,label:m,legendType:v,xAxisId:_,yAxisId:T,id:E}=t,w=GS(t,Sse),{needClip:M}=YL(_,T),O=BS(),P=vp(),D=An(),N=ye(oe=>vse(oe,_,T,D,E));if(P!=="horizontal"&&P!=="vertical"||N==null||O==null)return null;var{height:R,width:k,x:B,y:$}=O;return x.createElement(Lse,cc({},w,{id:E,connectNulls:u,dot:c,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,isAnimationActive:h,hide:d,label:m,legendType:v,xAxisId:_,yAxisId:T,points:N,layout:P,height:R,width:k,left:B,top:$,needClip:M}))}function qse(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:l,bandSize:u,displayedData:c}=e;return c.map((d,h)=>{var m=vn(d,l);if(t==="horizontal"){var v=jM({axis:n,ticks:i,bandSize:u,entry:d,index:h}),_=Jt(m)?null:r.scale(m);return{x:v,y:_,value:m,payload:d}}var T=Jt(m)?null:n.scale(m),E=jM({axis:r,ticks:a,bandSize:u,entry:d,index:h});return T==null||E==null?null:{x:T,y:E,value:m,payload:d}}).filter(Boolean)}function jse(e){var t=un(e,lU),n=An();return x.createElement(Hie,{id:t.id,type:"line"},r=>x.createElement(x.Fragment,null,x.createElement(zie,{legendPayload:Ase(t)}),x.createElement(Cse,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),x.createElement(Xie,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),x.createElement(Use,cc({},t,{id:r}))))}var uU=x.memo(jse,$S);uU.displayName="Line";var zse=["domain","range"],Bse=["domain","range"];function SN(e,t){if(e==null)return{};var n,r,i=$se(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $se(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function TN(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function cU(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=SN(e,zse),{domain:a,range:l}=t,u=SN(t,Bse);return!TN(n,a)||!TN(r,l)?!1:$S(i,u)}var Fse=["dangerouslySetInnerHTML","ticks"],Hse=["id"];function Ob(){return Ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ob.apply(null,arguments)}function EN(e,t){if(e==null)return{};var n,r,i=Gse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Gse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Vse(e){var t=Ct(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?t(fae(e)):n.current!==e&&t(dae({prev:n.current,next:e})),n.current=e},[e,t]),x.useLayoutEffect(()=>()=>{n.current&&(t(hae(n.current)),n.current=null)},[t]),null}var Kse=e=>{var{xAxisId:t,className:n}=e,r=ye(FR),i=An(),a="xAxis",l=ye(w=>Ba(w,a,t,i)),u=ye(w=>X2(w,a,t,i)),c=ye(w=>Hee(w,t)),d=ye(w=>Jee(w,t)),h=ye(w=>v2(w,t));if(c==null||d==null||h==null)return null;var{dangerouslySetInnerHTML:m,ticks:v}=e,_=EN(e,Fse),{id:T}=h,E=EN(h,Hse);return x.createElement(HS,Ob({},_,E,{scale:l,x:d.x,y:d.y,width:c.width,height:c.height,className:Xe("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:u,axisType:a}))},Yse={allowDataOverflow:Vt.allowDataOverflow,allowDecimals:Vt.allowDecimals,allowDuplicatedCategory:Vt.allowDuplicatedCategory,angle:Vt.angle,axisLine:Bi.axisLine,height:Vt.height,hide:!1,includeHidden:Vt.includeHidden,interval:Vt.interval,minTickGap:Vt.minTickGap,mirror:Vt.mirror,orientation:Vt.orientation,padding:Vt.padding,reversed:Vt.reversed,scale:Vt.scale,tick:Vt.tick,tickCount:Vt.tickCount,tickLine:Bi.tickLine,tickSize:Bi.tickSize,type:Vt.type,xAxisId:0},Wse=e=>{var t=un(e,Yse);return x.createElement(x.Fragment,null,x.createElement(Vse,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),x.createElement(Kse,t))},fU=x.memo(Wse,cU);fU.displayName="XAxis";var Jse=["dangerouslySetInnerHTML","ticks"],Xse=["id"];function Nb(){return Nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nb.apply(null,arguments)}function wN(e,t){if(e==null)return{};var n,r,i=Qse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Qse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Zse(e){var t=Ct(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?t(pae(e)):n.current!==e&&t(mae({prev:n.current,next:e})),n.current=e},[e,t]),x.useLayoutEffect(()=>()=>{n.current&&(t(gae(n.current)),n.current=null)},[t]),null}var ele=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=x.useRef(null),l=x.useRef(null),u=ye(FR),c=An(),d=Ct(),h="yAxis",m=ye(N=>Ba(N,h,t,c)),v=ye(N=>Zee(N,t)),_=ye(N=>Qee(N,t)),T=ye(N=>X2(N,h,t,c)),E=ye(N=>y2(N,t));if(x.useLayoutEffect(()=>{if(!(r!=="auto"||!v||zS(i)||x.isValidElement(i)||E==null)){var N=a.current;if(N){var R=N.getCalculatedWidth();Math.round(v.width)!==Math.round(R)&&d(vae({id:t,width:R}))}}},[T,v,d,i,t,r,E]),v==null||_==null||E==null)return null;var{dangerouslySetInnerHTML:w,ticks:M}=e,O=wN(e,Jse),{id:P}=E,D=wN(E,Xse);return x.createElement(HS,Nb({},O,D,{ref:a,labelRef:l,scale:m,x:_.x,y:_.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:Xe("recharts-".concat(h," ").concat(h),n),viewBox:u,ticks:T,axisType:h}))},tle={allowDataOverflow:Kt.allowDataOverflow,allowDecimals:Kt.allowDecimals,allowDuplicatedCategory:Kt.allowDuplicatedCategory,angle:Kt.angle,axisLine:Bi.axisLine,hide:!1,includeHidden:Kt.includeHidden,interval:Kt.interval,minTickGap:Kt.minTickGap,mirror:Kt.mirror,orientation:Kt.orientation,padding:Kt.padding,reversed:Kt.reversed,scale:Kt.scale,tick:Kt.tick,tickCount:Kt.tickCount,tickLine:Bi.tickLine,tickSize:Bi.tickSize,type:Kt.type,width:Kt.width,yAxisId:0},nle=e=>{var t=un(e,tle);return x.createElement(x.Fragment,null,x.createElement(Zse,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),x.createElement(ele,t))},dU=x.memo(nle,cU);dU.displayName="YAxis";var rle=(e,t)=>t,VS=X([rle,ft,p2,zt,pL,oa,pne,cn],Sne),KS=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},hU=xr("mouseClick"),pU=Sc();pU.startListening({actionCreator:hU,effect:(e,t)=>{var n=e.payload,r=VS(t.getState(),KS(n));r?.activeIndex!=null&&t.dispatch(dte({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Ib=xr("mouseMove"),mU=Sc(),Td=null;mU.startListening({actionCreator:Ib,effect:(e,t)=>{var n=e.payload;Td!==null&&cancelAnimationFrame(Td);var r=KS(n);Td=requestAnimationFrame(()=>{var i=t.getState(),a=PS(i,i.tooltip.settings.shared);if(a==="axis"){var l=VS(i,r);l?.activeIndex!=null?t.dispatch(oL({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(aL())}Td=null})}});var xN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},gU=Fn({name:"rootProps",initialState:xN,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:xN.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),ile=gU.reducer,{updateOptions:ale}=gU.actions,vU=Fn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:_ue}=vU.actions,ole=vU.reducer,yU=xr("keyDown"),bU=xr("focus"),YS=Sc();YS.startListening({actionCreator:yU,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var l=OS(i,Al(n),Nc(n),Lc(n)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var c=oa(n);if(a==="Enter"){var d=Dh(n,"axis","hover",String(i.index));t.dispatch(wb({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var h=rte(n),m=h==="left-to-right"?1:-1,v=a==="ArrowRight"?1:-1,_=u+v*m;if(!(c==null||_>=c.length||_<0)){var T=Dh(n,"axis","hover",String(_));t.dispatch(wb({active:!0,activeIndex:_.toString(),activeDataKey:void 0,activeCoordinate:T}))}}}}}});YS.startListening({actionCreator:bU,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",l=Dh(n,"axis","hover",String(a));t.dispatch(wb({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:l}))}}}});var gr=xr("externalEvent"),_U=Sc(),Wy=new Map;_U.startListening({actionCreator:gr,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=Wy.get(i);a!==void 0&&cancelAnimationFrame(a);var l=requestAnimationFrame(()=>{try{var u=t.getState(),c={activeCoordinate:Qte(u),activeDataKey:Jte(u),activeIndex:lc(u),activeLabel:vL(u),activeTooltipIndex:lc(u),isTooltipActive:Zte(u)};n(c,r)}finally{Wy.delete(i)}});Wy.set(i,l)}}});var sle=X([xl],e=>e.tooltipItemPayloads),lle=X([sle,Rc,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var l=t(a,n);return l}}}),SU=xr("touchMove"),TU=Sc();TU.startListening({actionCreator:SU,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=PS(r,r.tooltip.settings.shared);if(i==="axis"){var a=VS(r,KS({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&t.dispatch(oL({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var l,u=n.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(u.clientX,u.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(k7),h=(l=c.getAttribute(L7))!==null&&l!==void 0?l:void 0,m=lle(t.getState(),d,h);t.dispatch(fte({activeDataKey:h,activeIndex:d,activeCoordinate:m}))}}}});var ule=cR({brush:roe,cartesianAxis:yae,chartData:Zne,errorBars:Mae,graphicalItems:Wie,layout:b7,legend:OW,options:Yne,polarAxis:bie,polarOptions:ole,referenceElements:poe,rootProps:ile,tooltip:hte,zIndex:kne}),cle=function(t){return H9({reducer:ule,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([pU.middleware,mU.middleware,YS.middleware,_U.middleware,TU.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(xR({type:"raf"}))},devTools:bl.devToolsEnabled})};function fle(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=An(),a=x.useRef(null);if(i)return n;a.current==null&&(a.current=cle(t));var l=x_;return x.createElement(Zae,{context:l,store:a.current},n)}function dle(e){var{layout:t,margin:n}=e,r=Ct(),i=An();return x.useEffect(()=>{i||(r(g7(t)),r(m7(n)))},[r,i,t,n]),null}var hle=x.memo(dle,$S);function ple(e){var t=Ct();return x.useEffect(()=>{t(ale(e))},[t,e]),null}function AN(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=HL("".concat(r).concat(t)),a=Ct();return x.useLayoutEffect(()=>(a(Dne({zIndex:t,elementId:i,isPanorama:n})),()=>{a(Rne({zIndex:t,isPanorama:n}))}),[a,t,i,n]),x.createElement("g",{id:i})}function CN(e){var{children:t,isPanorama:n}=e,r=ye(Ene);if(!r||r.length===0)return t;var i=r.filter(l=>l<0),a=r.filter(l=>l>0);return x.createElement(x.Fragment,null,i.map(l=>x.createElement(AN,{key:l,zIndex:l,isPanorama:n})),t,a.map(l=>x.createElement(AN,{key:l,zIndex:l,isPanorama:n})))}var mle=["children"];function gle(e,t){if(e==null)return{};var n,r,i=vle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Bh(){return Bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bh.apply(null,arguments)}var yle={width:"100%",height:"100%",display:"block"},ble=x.forwardRef((e,t)=>{var n=k_(),r=L_(),i=rk();if(!ti(n)||!ti(r))return null;var{children:a,otherAttributes:l,title:u,desc:c}=e,d,h;return l!=null&&(typeof l.tabIndex=="number"?d=l.tabIndex:d=i?0:void 0,typeof l.role=="string"?h=l.role:h=i?"application":void 0),x.createElement(m_,Bh({},l,{title:u,desc:c,role:h,tabIndex:d,width:n,height:r,style:yle,ref:t}),a)}),_le=e=>{var{children:t}=e,n=ye(gp);if(!n)return null;var{width:r,height:i,y:a,x:l}=n;return x.createElement(m_,{width:r,height:i,x:l,y:a},t)},MN=x.forwardRef((e,t)=>{var{children:n}=e,r=gle(e,mle),i=An();return i?x.createElement(_le,null,x.createElement(CN,{isPanorama:!0},n)):x.createElement(ble,Bh({ref:t},r),x.createElement(CN,{isPanorama:!1},n))});function Sle(){var e=Ct(),[t,n]=x.useState(null),r=ye(R7);return x.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;St(a)&&a!==r&&e(y7(a))}},[t,e,r]),n}function PN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tle(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PN(Object(n),!0).forEach(function(r){Ele(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ele(e,t,n){return(t=wle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wle(e){var t=xle(e,"string");return typeof t=="symbol"?t:t+""}function xle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jo(){return jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jo.apply(null,arguments)}var Ale=()=>(lre(),null);function $h(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Cle=x.forwardRef((e,t)=>{var n,r,i=x.useRef(null),[a,l]=x.useState({containerWidth:$h((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:$h((r=e.style)===null||r===void 0?void 0:r.height)}),u=x.useCallback((d,h)=>{l(m=>{var v=Math.round(d),_=Math.round(h);return m.containerWidth===v&&m.containerHeight===_?m:{containerWidth:v,containerHeight:_}})},[]),c=x.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null&&typeof ResizeObserver<"u"){var{width:h,height:m}=d.getBoundingClientRect();u(h,m);var v=T=>{var{width:E,height:w}=T[0].contentRect;u(E,w)},_=new ResizeObserver(v);_.observe(d),i.current=_}},[t,u]);return x.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[u]),x.createElement(x.Fragment,null,x.createElement(yp,{width:a.containerWidth,height:a.containerHeight}),x.createElement("div",jo({ref:c},e)))}),Mle=x.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=x.useState({containerWidth:$h(n),containerHeight:$h(r)}),l=x.useCallback((c,d)=>{a(h=>{var m=Math.round(c),v=Math.round(d);return h.containerWidth===m&&h.containerHeight===v?h:{containerWidth:m,containerHeight:v}})},[]),u=x.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:d,height:h}=c.getBoundingClientRect();l(d,h)}},[t,l]);return x.createElement(x.Fragment,null,x.createElement(yp,{width:i.containerWidth,height:i.containerHeight}),x.createElement("div",jo({ref:u},e)))}),Ple=x.forwardRef((e,t)=>{var{width:n,height:r}=e;return x.createElement(x.Fragment,null,x.createElement(yp,{width:n,height:r}),x.createElement("div",jo({ref:t},e)))}),Ole=x.forwardRef((e,t)=>{var{width:n,height:r}=e;return Ki(n)||Ki(r)?x.createElement(Mle,jo({},e,{ref:t})):x.createElement(Ple,jo({},e,{ref:t}))});function Nle(e){return e===!0?Cle:Ole}var Ile=x.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:l,onDoubleClick:u,onMouseDown:c,onMouseEnter:d,onMouseLeave:h,onMouseMove:m,onMouseUp:v,onTouchEnd:_,onTouchMove:T,onTouchStart:E,style:w,width:M,responsive:O,dispatchTouchEvents:P=!0}=e,D=x.useRef(null),N=Ct(),[R,k]=x.useState(null),[B,$]=x.useState(null),oe=Sle(),V=R_(),W=V?.width>0?V.width:M,fe=V?.height>0?V.height:i,pe=x.useCallback(Z=>{oe(Z),typeof t=="function"&&t(Z),k(Z),$(Z),Z!=null&&(D.current=Z)},[oe,t,k,$]),be=x.useCallback(Z=>{N(hU(Z)),N(gr({handler:a,reactEvent:Z}))},[N,a]),z=x.useCallback(Z=>{N(Ib(Z)),N(gr({handler:d,reactEvent:Z}))},[N,d]),ee=x.useCallback(Z=>{N(aL()),N(gr({handler:h,reactEvent:Z}))},[N,h]),le=x.useCallback(Z=>{N(Ib(Z)),N(gr({handler:m,reactEvent:Z}))},[N,m]),ue=x.useCallback(()=>{N(bU())},[N]),we=x.useCallback(Z=>{N(yU(Z.key))},[N]),U=x.useCallback(Z=>{N(gr({handler:l,reactEvent:Z}))},[N,l]),J=x.useCallback(Z=>{N(gr({handler:u,reactEvent:Z}))},[N,u]),se=x.useCallback(Z=>{N(gr({handler:c,reactEvent:Z}))},[N,c]),ce=x.useCallback(Z=>{N(gr({handler:v,reactEvent:Z}))},[N,v]),K=x.useCallback(Z=>{N(gr({handler:E,reactEvent:Z}))},[N,E]),de=x.useCallback(Z=>{P&&N(SU(Z)),N(gr({handler:T,reactEvent:Z}))},[N,P,T]),_e=x.useCallback(Z=>{N(gr({handler:_,reactEvent:Z}))},[N,_]),dt=Nle(O);return x.createElement(wL.Provider,{value:R},x.createElement(xD.Provider,{value:B},x.createElement(dt,{width:W??w?.width,height:fe??w?.height,className:Xe("recharts-wrapper",r),style:Tle({position:"relative",cursor:"default",width:W,height:fe},w),onClick:be,onContextMenu:U,onDoubleClick:J,onFocus:ue,onKeyDown:we,onMouseDown:se,onMouseEnter:z,onMouseLeave:ee,onMouseMove:le,onMouseUp:ce,onTouchEnd:_e,onTouchMove:de,onTouchStart:K,ref:pe},x.createElement(Ale,null),n)))}),Dle=["width","height","responsive","children","className","style","compact","title","desc"];function Rle(e,t){if(e==null)return{};var n,r,i=kle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Lle=x.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:l,style:u,compact:c,title:d,desc:h}=e,m=Rle(e,Dle),v=Zr(m);return c?x.createElement(x.Fragment,null,x.createElement(yp,{width:n,height:r}),x.createElement(MN,{otherAttributes:v,title:d,desc:h},a)):x.createElement(Ile,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(MN,{otherAttributes:v,title:d,desc:h,ref:t},x.createElement(moe,null,a)))});function Db(){return Db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Db.apply(null,arguments)}var Ule={top:5,right:5,bottom:5,left:5},qle={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Ule,reverseStackOrder:!1,syncMethod:"index",responsive:!1},jle=x.forwardRef(function(t,n){var r,i=un(t.categoricalChartProps,qle),{chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,categoricalChartProps:d}=t,h={chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return x.createElement(fle,{preloadedState:{options:h},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:a},x.createElement(noe,{chartData:d.data}),x.createElement(hle,{layout:i.layout,margin:i.margin}),x.createElement(ple,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),x.createElement(Lle,Db({},i,{ref:n})))}),zle=["axis"],Ble=x.forwardRef((e,t)=>x.createElement(jle,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zle,tooltipPayloadSearcher:Vne,categoricalChartProps:e,ref:t}));const Mi={calories:"#FF6B6B",purines:"#845EF7",protein:"#339AF0",carbs:"#FCC419",fat:"#51CF66",fiber:"#20C997",sodium:"#FF922B",sugar:"#F06595"},ON={week:{label:"This Week",days:7},month:{label:"This Month",days:30},custom:{label:"Custom",days:null}},NN={daily:{label:"Daily",days:1},weekly:{label:"Weekly",days:7},monthly:{label:"Monthly",days:30}},IN=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`},$le=e=>{const t=new Date;return t.setDate(t.getDate()-e),t},Fle=(e,t)=>{const n=new Date(e+"T00:00:00");return t==="monthly"?n.toLocaleDateString("en-US",{month:"short",year:"2-digit"}):t==="weekly"?n.toLocaleDateString("en-US",{month:"short",day:"numeric"}):n.toLocaleDateString("en-US",{weekday:"short",day:"numeric"})},Hle=({active:e,payload:t,label:n})=>!e||!t?.length?null:A.jsxs("div",{className:"chart-tooltip",children:[A.jsx("p",{className:"tooltip-date",children:n}),t.map(r=>A.jsxs("p",{style:{color:r.color},children:[Oi[r.dataKey]?.icon," ",r.name,": ",Math.round(r.value),Oi[r.dataKey]?.unit]},r.dataKey))]});function Gle(){const{user:e}=Fa(),{meals:t,isLoading:n}=n_(),r=e?.thresholds||Hd,[i,a]=x.useState("week"),[l,u]=x.useState("daily"),[c,d]=x.useState(""),[h,m]=x.useState(""),[v,_]=x.useState({calories:!0,purines:!0,protein:!1,carbs:!1,fat:!1,fiber:!1,sodium:!1,sugar:!1}),{startDate:T,endDate:E}=x.useMemo(()=>{if(i==="custom"&&c&&h)return{startDate:c,endDate:h};const N=ON[i]?.days||7;return{startDate:IN($le(N-1)),endDate:IN(new Date)}},[i,c,h]),w=x.useMemo(()=>{if(!t?.length)return[];const N=t.filter(B=>B.date>=T&&B.date<=E),R={};N.forEach(B=>{R[B.date]||(R[B.date]={date:B.date,calories:0,purines:0,protein:0,carbs:0,fat:0,fiber:0,sodium:0,sugar:0}),B.total_nutrients&&Object.keys(R[B.date]).forEach($=>{$!=="date"&&B.total_nutrients[$]&&(R[B.date][$]+=B.total_nutrients[$])})});let k=Object.values(R).sort((B,$)=>B.date.localeCompare($.date));if(l!=="daily"){const B=[],$=NN[l].days;for(let oe=0;oe<k.length;oe+=$){const V=k.slice(oe,oe+$);if(V.length>0){const W={date:V[0].date};Object.keys(Mi).forEach(fe=>{W[fe]=V.reduce((pe,be)=>pe+(be[fe]||0),0)/V.length}),B.push(W)}}k=B}return k.map(B=>({...B,displayDate:Fle(B.date,l)}))},[t,T,E,l]),M=N=>{_(R=>({...R,[N]:!R[N]}))},O=()=>{if(!w.length)return;const N=["Date",...Object.keys(Mi).map(V=>Oi[V].label)],R=w.map(V=>[V.date,...Object.keys(Mi).map(W=>Math.round(V[W]||0))]),k=[N.join(","),...R.map(V=>V.join(","))].join(`
`),B=new Blob([k],{type:"text/csv"}),$=URL.createObjectURL(B),oe=document.createElement("a");oe.href=$,oe.download=`nutrition-data-${T}-to-${E}.csv`,oe.click(),URL.revokeObjectURL($)},P=N=>{switch(N){case"calories":return r.calories_max;case"purines":return r.purines_max;case"protein":return r.protein_target;case"carbs":return r.carbs_target;case"fat":return r.fat_target;case"fiber":return r.fiber_target;case"sodium":return r.sodium_max;case"sugar":return r.sugar_max;default:return null}},D=Object.entries(v).filter(([,N])=>N).map(([N])=>N);return n?A.jsxs("div",{className:"page charts-page",children:[A.jsx(Hi,{title:"Dragon's Scroll",subtitle:"View your nutrition history"}),A.jsx("div",{className:"loading-container",children:A.jsx("p",{children:"Loading your scroll..."})})]}):A.jsxs("div",{className:"page charts-page",children:[A.jsx(Hi,{title:"Dragon's Scroll",subtitle:"View your nutrition history"}),A.jsxs("div",{className:"card chart-controls",children:[A.jsx("div",{className:"control-row",children:A.jsxs("div",{className:"control-group",children:[A.jsx("label",{children:"Time Period"}),A.jsx("div",{className:"button-group",children:Object.entries(ON).map(([N,{label:R}])=>A.jsx("button",{className:`btn ${i===N?"btn-primary":"btn-secondary"}`,onClick:()=>a(N),children:R},N))})]})}),i==="custom"&&A.jsxs("div",{className:"control-row custom-dates",children:[A.jsxs("div",{className:"date-input",children:[A.jsx("label",{children:"From"}),A.jsx("input",{type:"date",value:c,onChange:N=>d(N.target.value)})]}),A.jsxs("div",{className:"date-input",children:[A.jsx("label",{children:"To"}),A.jsx("input",{type:"date",value:h,onChange:N=>m(N.target.value)})]})]}),A.jsx("div",{className:"control-row",children:A.jsxs("div",{className:"control-group",children:[A.jsx("label",{children:"Group By"}),A.jsx("div",{className:"button-group",children:Object.entries(NN).map(([N,{label:R}])=>A.jsx("button",{className:`btn btn-small ${l===N?"btn-primary":"btn-secondary"}`,onClick:()=>u(N),children:R},N))})]})})]}),A.jsxs("div",{className:"card nutrient-toggles",children:[A.jsx("label",{children:"Nutrients"}),A.jsx("div",{className:"toggle-grid",children:Object.entries(Oi).filter(([N])=>N!=="hydration").map(([N,{icon:R,label:k}])=>A.jsxs("button",{className:`nutrient-toggle ${v[N]?"active":""}`,style:{borderColor:v[N]?Mi[N]:"var(--color-border)",backgroundColor:v[N]?`${Mi[N]}20`:"transparent"},onClick:()=>M(N),children:[A.jsx("span",{className:"nutrient-icon",children:R}),A.jsx("span",{className:"nutrient-label",children:k})]},N))})]}),A.jsx("div",{className:"card chart-container",children:w.length>0?A.jsx(cW,{width:"100%",height:300,children:A.jsxs(Ble,{data:w,margin:{top:20,right:20,left:0,bottom:5},children:[A.jsx(nU,{strokeDasharray:"3 3",stroke:"var(--color-border)"}),A.jsx(fU,{dataKey:"displayDate",tick:{fill:"var(--color-text-secondary)",fontSize:12},tickLine:{stroke:"var(--color-border)"}}),A.jsx(dU,{tick:{fill:"var(--color-text-secondary)",fontSize:12},tickLine:{stroke:"var(--color-border)"}}),A.jsx(gre,{content:A.jsx(Hle,{})}),A.jsx(nk,{}),D.map(N=>{const R=P(N);return R?A.jsx(ZL,{y:R,stroke:Mi[N],strokeDasharray:"5 5",strokeOpacity:.6},`ref-${N}`):null}),Object.entries(v).map(([N,R])=>R?A.jsx(uU,{type:"monotone",dataKey:N,name:Oi[N].label,stroke:Mi[N],strokeWidth:2,dot:{fill:Mi[N],strokeWidth:0,r:4},activeDot:{r:6,strokeWidth:2}},N):null)]})}):A.jsxs("div",{className:"no-data",children:[A.jsx("p",{className:"text-muted",children:"No data for selected period"}),A.jsx("p",{className:"text-small",children:"Log some meals to see your nutrition trends!"})]})}),w.length>0&&A.jsxs("div",{className:"card chart-legend",children:[A.jsx("h3",{children:"Daily Targets"}),A.jsx("div",{className:"legend-grid",children:D.map(N=>{const R=P(N);return R?A.jsxs("div",{className:"legend-item",children:[A.jsx("span",{className:"legend-color",style:{backgroundColor:Mi[N]}}),A.jsxs("span",{className:"legend-label",children:[Oi[N].icon," ",Oi[N].label]}),A.jsxs("span",{className:"legend-value",children:[R,Oi[N].unit]})]},N):null})})]}),w.length>0&&A.jsx("button",{className:"btn btn-secondary export-btn",onClick:O,children:" Export Scroll as CSV"})]})}function Vle(){return A.jsxs("div",{className:"page oracle-page",children:[A.jsx(Hi,{title:"Dragon Oracle",subtitle:"Get meal recommendations"}),A.jsxs("div",{className:"coming-soon card",children:[A.jsx(x0,{state:"curious"}),A.jsx("h2",{children:"Coming Soon!"}),A.jsx("p",{className:"text-muted",children:"The Dragon Oracle will suggest meals based on your remaining nutrition budget."}),A.jsxs("ul",{className:"feature-list",children:[A.jsx("li",{children:" Familiar meals you love"}),A.jsx("li",{children:" Twisted versions of favorites"}),A.jsx("li",{children:" Wild new adventures"}),A.jsx("li",{children:" AI-powered recommendations"})]})]})]})}function Kle(){const e=Hh(),{user:t,isLoading:n,updateProfile:r,updateThresholds:i,updateTheme:a,saveUser:l}=Fa(),{savedMeals:u,bottles:c}=r_(),{totalMeals:d,calculateStreak:h}=BI(),{ingredients:m,updateIngredient:v,deleteIngredient:_,findMealsWithIngredient:T,propagateToMeals:E,getIngredientUsageCount:w}=FI(),[M,O]=x.useState({name:"Dragon Keeper",sex:"male",age:30,weight_kg:75,height_cm:175,activity_level:"moderate",dietary_conditions:[]}),[P,D]=x.useState(Hd),[N,R]=x.useState("emerald"),[k,B]=x.useState("#66BB6A"),[$,oe]=x.useState(!1),[V,W]=x.useState(!1),[fe,pe]=x.useState(""),[be,z]=x.useState(!1),[ee,le]=x.useState(k0()?"saved":"none"),[ue,we]=x.useState(!1),[U,J]=x.useState(""),[se,ce]=x.useState(null),[K,de]=x.useState({}),[_e,dt]=x.useState("none"),[Z,Ce]=x.useState(!1);x.useEffect(()=>{t&&(O({name:t.name||"Dragon Keeper",...t.profile}),D(t.thresholds||Hd),R(t.theme?.preset||"emerald"),B(t.theme?.seed_color_hex||"#66BB6A"))},[t]);const Oe=()=>{const ne=gH(M);D(ne),W(!0)},ae=(ne,Ie)=>{D(Mn=>({...Mn,[ne]:Number(Ie)})),W(!0)},tt=ne=>{O(Ie=>({...Ie,...ne})),W(!0)},De=async ne=>{R(ne);const Ie=Fu[ne],Mn=wo(Ie.seedColor,Ie.isDark);xo(Mn),await a(ne,Ie.seedColor)},yt=async ne=>{B(ne),R("custom");const Ie=wo(ne,!1);xo(Ie),await a("custom",ne)},Tt=()=>{fe.trim()&&(X8(fe.trim()),le("saved"),pe(""),z(!1),alert("AI API key saved! Your dragon can now analyze meals. "))},Ke=()=>{confirm("Remove your AI API key? Your dragon won't be able to analyze meals.")&&(Q8(),le("none"),pe(""))},Br=async()=>{const ne={...t,name:M.name,profile:{sex:M.sex,age:M.age,weight_kg:M.weight_kg,height_cm:M.height_cm,activity_level:M.activity_level,dietary_conditions:M.dietary_conditions},thresholds:P};await r(ne.profile),await i(P),await l(ne),W(!1),alert("Dragon's settings saved! ")},Ho=ne=>{ce(ne),de({calories:ne.nutrients_per_100g?.calories||0,purines:ne.nutrients_per_100g?.purines||0,protein:ne.nutrients_per_100g?.protein||0,carbs:ne.nutrients_per_100g?.carbs||0,fat:ne.nutrients_per_100g?.fat||0,fiber:ne.nutrients_per_100g?.fiber||0,sodium:ne.nutrients_per_100g?.sodium||0,sugar:ne.nutrients_per_100g?.sugar||0}),dt("none")},bn=async()=>{if(!se)return;const ne={calories:parseFloat(K.calories)||0,purines:parseFloat(K.purines)||0,protein:parseFloat(K.protein)||0,carbs:parseFloat(K.carbs)||0,fat:parseFloat(K.fat)||0,fiber:parseFloat(K.fiber)||0,sodium:parseFloat(K.sodium)||0,sugar:parseFloat(K.sugar)||0};if(await v(se.normalized_name,{nutrients_per_100g:ne}),_e!=="none"){Ce(!0);const Ie=_e==="all"?null:_e,Mn=await E(se.normalized_name,ne,Ie);Ce(!1),alert(`Updated ${Mn.updated} meals with new values! `)}else alert("Ingredient updated! Future meals will use the new values. ");ce(null)},Wa=async ne=>{const Ie=w(ne.normalized_name),Mn=Ie>0?`Delete "${ne.display_name}"? It's used in ${Ie} meals. The AI will re-analyze it next time.`:`Delete "${ne.display_name}" from the cache?`;confirm(Mn)&&await _(ne.normalized_name)},Go=m.filter(ne=>!U||ne.display_name?.toLowerCase().includes(U.toLowerCase())||ne.normalized_name?.toLowerCase().includes(U.toLowerCase())).sort((ne,Ie)=>(Ie.use_count||0)-(ne.use_count||0));return n?A.jsxs("div",{className:"page settings-page",children:[A.jsx(Hi,{title:"Dragon's Lair",subtitle:"Loading..."}),A.jsxs("div",{className:"loading-state card",children:[A.jsx("div",{className:"spinner"}),A.jsx("p",{children:"Opening the lair..."})]})]}):A.jsxs("div",{className:"page settings-page",children:[A.jsx(Hi,{title:"Dragon's Lair",subtitle:"Configure your dragon's needs"}),A.jsxs("section",{className:"settings-section card",children:[A.jsx("h2",{className:"section-title",children:" Keeper's Profile"}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Name"}),A.jsx("input",{type:"text",value:M.name,onChange:ne=>tt({name:ne.target.value})})]}),A.jsxs("div",{className:"form-row",children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Sex"}),A.jsxs("select",{value:M.sex,onChange:ne=>tt({sex:ne.target.value}),children:[A.jsx("option",{value:"male",children:"Male"}),A.jsx("option",{value:"female",children:"Female"}),A.jsx("option",{value:"other",children:"Other"})]})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Age"}),A.jsx("input",{type:"number",value:M.age,onChange:ne=>tt({age:parseInt(ne.target.value)})})]})]}),A.jsxs("div",{className:"form-row",children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Weight (kg)"}),A.jsx("input",{type:"number",value:M.weight_kg,onChange:ne=>tt({weight_kg:parseInt(ne.target.value)})})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Height (cm)"}),A.jsx("input",{type:"number",value:M.height_cm,onChange:ne=>tt({height_cm:parseInt(ne.target.value)})})]})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Activity Level"}),A.jsxs("select",{value:M.activity_level,onChange:ne=>tt({activity_level:ne.target.value}),children:[A.jsx("option",{value:"sedentary",children:"Sedentary (little exercise)"}),A.jsx("option",{value:"light",children:"Light (1-3 days/week)"}),A.jsx("option",{value:"moderate",children:"Moderate (3-5 days/week)"}),A.jsx("option",{value:"active",children:"Active (6-7 days/week)"}),A.jsx("option",{value:"very_active",children:"Very Active (intense daily)"})]})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Dietary Conditions"}),A.jsx("div",{className:"checkbox-group",children:["gout","diabetes","kidney_disease","vegetarian","vegan"].map(ne=>A.jsxs("label",{className:"checkbox-label",children:[A.jsx("input",{type:"checkbox",checked:M.dietary_conditions?.includes(ne)||!1,onChange:Ie=>{const Mn=Ie.target.checked?[...M.dietary_conditions||[],ne]:(M.dietary_conditions||[]).filter(Ja=>Ja!==ne);tt({dietary_conditions:Mn})}}),A.jsx("span",{children:ne.replace("_"," ")})]},ne))})]}),A.jsx("button",{className:"btn btn-primary w-full",onClick:Oe,children:"Calculate Dragon's Needs "}),V&&A.jsx("button",{className:"btn btn-primary w-full mt-sm",onClick:Br,children:" Save All Changes"})]}),A.jsxs("section",{className:"settings-section card",children:[A.jsx("h2",{className:"section-title",children:" Dragon's Hoard"}),A.jsx("p",{className:"text-muted",children:"Manage your saved meals and custom bottles."}),A.jsxs("div",{className:"stash-buttons",children:[A.jsxs("button",{className:"btn btn-secondary",onClick:()=>e("/stash"),children:[" Saved Meals (",u?.length||0,")"]}),A.jsxs("button",{className:"btn btn-secondary",onClick:()=>e("/stash?tab=bottles"),children:[" Custom Bottles (",c?.length||0,")"]})]})]}),A.jsxs("section",{className:"settings-section card",children:[A.jsxs("div",{className:"section-header-row",children:[A.jsx("h2",{className:"section-title",children:" Nutrition Thresholds"}),A.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>oe(!$),children:$?"Done":"Edit"})]}),A.jsxs("div",{className:"threshold-row",children:[A.jsx("span",{className:"threshold-label",children:" Calories"}),$?A.jsxs("div",{className:"threshold-inputs",children:[A.jsx("input",{type:"number",value:P.calories_min,onChange:ne=>ae("calories_min",ne.target.value),className:"threshold-input"}),A.jsx("span",{children:"-"}),A.jsx("input",{type:"number",value:P.calories_max,onChange:ne=>ae("calories_max",ne.target.value),className:"threshold-input"}),A.jsx("span",{children:"kcal"})]}):A.jsxs("span",{className:"threshold-value",children:[P.calories_min," - ",P.calories_max," kcal"]})]}),A.jsxs("div",{className:"threshold-row",children:[A.jsx("span",{className:"threshold-label",children:" Purines"}),$?A.jsxs("div",{className:"threshold-inputs",children:[A.jsx("input",{type:"number",value:P.purines_max,onChange:ne=>ae("purines_max",ne.target.value),className:"threshold-input"}),A.jsx("span",{children:"mg max"})]}):A.jsxs("span",{className:"threshold-value",children:[P.purines_max," mg max"]})]}),A.jsxs("div",{className:"threshold-row",children:[A.jsx("span",{className:"threshold-label",children:" Protein"}),$?A.jsxs("div",{className:"threshold-inputs",children:[A.jsx("input",{type:"number",value:P.protein_target,onChange:ne=>ae("protein_target",ne.target.value),className:"threshold-input"}),A.jsx("span",{children:"g target"})]}):A.jsxs("span",{className:"threshold-value",children:[P.protein_target," g target"]})]}),A.jsxs("div",{className:"threshold-row",children:[A.jsx("span",{className:"threshold-label",children:" Carbs"}),$?A.jsxs("div",{className:"threshold-inputs",children:[A.jsx("input",{type:"number",value:P.carbs_target,onChange:ne=>ae("carbs_target",ne.target.value),className:"threshold-input"}),A.jsx("span",{children:"g target"})]}):A.jsxs("span",{className:"threshold-value",children:[P.carbs_target," g target"]})]}),A.jsxs("div",{className:"threshold-row",children:[A.jsx("span",{className:"threshold-label",children:" Fat"}),$?A.jsxs("div",{className:"threshold-inputs",children:[A.jsx("input",{type:"number",value:P.fat_target,onChange:ne=>ae("fat_target",ne.target.value),className:"threshold-input"}),A.jsx("span",{children:"g target"})]}):A.jsxs("span",{className:"threshold-value",children:[P.fat_target," g target"]})]}),A.jsxs("div",{className:"threshold-row",children:[A.jsx("span",{className:"threshold-label",children:" Fiber"}),$?A.jsxs("div",{className:"threshold-inputs",children:[A.jsx("input",{type:"number",value:P.fiber_target,onChange:ne=>ae("fiber_target",ne.target.value),className:"threshold-input"}),A.jsx("span",{children:"g target"})]}):A.jsxs("span",{className:"threshold-value",children:[P.fiber_target," g target"]})]}),A.jsxs("div",{className:"threshold-row",children:[A.jsx("span",{className:"threshold-label",children:" Sodium"}),$?A.jsxs("div",{className:"threshold-inputs",children:[A.jsx("input",{type:"number",value:P.sodium_max,onChange:ne=>ae("sodium_max",ne.target.value),className:"threshold-input"}),A.jsx("span",{children:"mg max"})]}):A.jsxs("span",{className:"threshold-value",children:[P.sodium_max," mg max"]})]}),A.jsxs("div",{className:"threshold-row",children:[A.jsx("span",{className:"threshold-label",children:" Sugar"}),$?A.jsxs("div",{className:"threshold-inputs",children:[A.jsx("input",{type:"number",value:P.sugar_max,onChange:ne=>ae("sugar_max",ne.target.value),className:"threshold-input"}),A.jsx("span",{children:"g max"})]}):A.jsxs("span",{className:"threshold-value",children:[P.sugar_max," g max"]})]}),A.jsxs("div",{className:"threshold-row",children:[A.jsx("span",{className:"threshold-label",children:" Hydration"}),$?A.jsxs("div",{className:"threshold-inputs",children:[A.jsx("input",{type:"number",value:P.hydration_target,onChange:ne=>ae("hydration_target",ne.target.value),className:"threshold-input"}),A.jsx("span",{children:"ml target"})]}):A.jsxs("span",{className:"threshold-value",children:[P.hydration_target," ml target"]})]}),$&&A.jsx("p",{className:"text-muted text-center mt-sm",children:`Tip: Use "Calculate Dragon's Needs" to auto-fill based on your profile.`})]}),A.jsxs("section",{className:"settings-section card",children:[A.jsx("h2",{className:"section-title",children:" Dragon Scale Theme"}),A.jsx("div",{className:"theme-presets",children:Object.entries(Fu).map(([ne,Ie])=>A.jsxs("button",{className:`theme-preset ${N===ne?"active":""}`,onClick:()=>De(ne),style:{"--preset-color":Ie.seedColor},children:[A.jsx("span",{className:"preset-swatch",style:{background:Ie.seedColor}}),A.jsx("span",{className:"preset-name",children:Ie.name}),A.jsx("span",{className:"preset-desc",children:Ie.description})]},ne))}),A.jsxs("div",{className:"custom-color-section",children:[A.jsx("label",{children:"Custom Dragon Scale Color"}),A.jsxs("div",{className:"color-picker-row",children:[A.jsx("input",{type:"color",value:k,onChange:ne=>yt(ne.target.value),className:"color-picker"}),A.jsx("input",{type:"text",value:k,onChange:ne=>yt(ne.target.value),className:"color-input",placeholder:"#66BB6A"})]})]}),A.jsxs("div",{className:"theme-preview card",children:[A.jsx("p",{className:"preview-label",children:"Preview"}),A.jsxs("div",{className:"preview-content",children:[A.jsx("div",{className:"preview-text",children:"Sample text"}),A.jsx("button",{className:"btn btn-primary",children:"Button"}),A.jsx("div",{className:"progress-bar",children:A.jsx("div",{className:"progress-bar-fill success",style:{width:"60%"}})})]})]})]}),A.jsxs("section",{className:"settings-section card",children:[A.jsx("h2",{className:"section-title",children:" Dragon Statistics"}),A.jsxs("div",{className:"stats-grid",children:[A.jsxs("div",{className:"stat-item",children:[A.jsx("span",{className:"stat-value",children:d}),A.jsx("span",{className:"stat-label",children:"Meals logged"})]}),A.jsxs("div",{className:"stat-item",children:[A.jsx("span",{className:"stat-value",children:h()}),A.jsx("span",{className:"stat-label",children:"Day streak "})]}),A.jsxs("div",{className:"stat-item",children:[A.jsx("span",{className:"stat-value",children:(u?.length||0)+(c?.length||0)}),A.jsx("span",{className:"stat-label",children:"In hoard"})]}),A.jsxs("div",{className:"stat-item",children:[A.jsx("span",{className:"stat-value",children:t?.badges?.length||0}),A.jsx("span",{className:"stat-label",children:"Badges"})]})]})]}),A.jsxs("section",{className:"settings-section card",children:[A.jsx("h2",{className:"section-title",children:" Ingredient Library"}),A.jsx("p",{className:"text-muted mb-md",children:"Manage cached ingredient data. Edit values to fix AI mistakes and optionally update past meals."}),A.jsx("div",{className:"stats-grid mb-md",children:A.jsxs("div",{className:"stat-item",children:[A.jsx("span",{className:"stat-value",children:m.length}),A.jsx("span",{className:"stat-label",children:"Cached ingredients"})]})}),A.jsx("button",{className:"btn btn-secondary w-full",onClick:()=>we(!0),children:" Manage Ingredients"})]}),ue&&A.jsx("div",{className:"modal-overlay",onClick:()=>!se&&we(!1),children:A.jsxs("div",{className:"modal ingredient-manager-modal",onClick:ne=>ne.stopPropagation(),children:[A.jsxs("div",{className:"modal-header",children:[A.jsx("h2",{children:se?`Edit: ${se.display_name}`:" Ingredient Library"}),A.jsx("button",{className:"modal-close",onClick:()=>{ce(null),we(!1)},children:""})]}),se?A.jsxs("div",{className:"modal-body",children:[A.jsxs("p",{className:"text-muted mb-md",children:["Edit nutritional values per 100g. Used in ",w(se.normalized_name)," meals."]}),A.jsxs("div",{className:"nutrient-edit-grid",children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:" Calories"}),A.jsx("input",{type:"number",value:K.calories,onChange:ne=>de({...K,calories:ne.target.value})})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:" Purines (mg)"}),A.jsx("input",{type:"number",value:K.purines,onChange:ne=>de({...K,purines:ne.target.value})})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:" Protein (g)"}),A.jsx("input",{type:"number",step:"0.1",value:K.protein,onChange:ne=>de({...K,protein:ne.target.value})})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:" Carbs (g)"}),A.jsx("input",{type:"number",step:"0.1",value:K.carbs,onChange:ne=>de({...K,carbs:ne.target.value})})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:" Fat (g)"}),A.jsx("input",{type:"number",step:"0.1",value:K.fat,onChange:ne=>de({...K,fat:ne.target.value})})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:" Fiber (g)"}),A.jsx("input",{type:"number",step:"0.1",value:K.fiber,onChange:ne=>de({...K,fiber:ne.target.value})})]})]}),A.jsxs("div",{className:"form-group mt-md",children:[A.jsx("label",{children:"Apply changes to past meals?"}),A.jsxs("select",{value:_e,onChange:ne=>dt(ne.target.value),className:"w-full",children:[A.jsx("option",{value:"none",children:"Don't update past meals"}),A.jsx("option",{value:"week",children:"Update meals from this week"}),A.jsx("option",{value:"month",children:"Update meals from this month"}),A.jsx("option",{value:"all",children:"Update ALL meals with this ingredient"})]}),_e!=="none"&&A.jsxs("p",{className:"text-warning text-sm mt-sm",children:[" This will recalculate totals for ",T(se.normalized_name,_e==="all"?null:_e).length," meals"]})]}),A.jsxs("div",{className:"modal-actions mt-md",children:[A.jsx("button",{className:"btn btn-secondary",onClick:()=>ce(null),children:"Cancel"}),A.jsx("button",{className:"btn btn-primary",onClick:bn,disabled:Z,children:Z?"Updating...":" Save Changes"})]})]}):A.jsxs("div",{className:"modal-body",children:[A.jsx("input",{type:"text",placeholder:" Search ingredients...",value:U,onChange:ne=>J(ne.target.value),className:"search-input w-full mb-md"}),Go.length===0?A.jsxs("div",{className:"empty-state",children:[A.jsx("p",{children:"No ingredients cached yet."}),A.jsx("p",{className:"text-muted",children:"Log some meals and the AI will cache ingredients automatically."})]}):A.jsx("div",{className:"ingredient-list",children:Go.map(ne=>A.jsxs("div",{className:"ingredient-item",children:[A.jsxs("div",{className:"ingredient-info",children:[A.jsx("span",{className:"ingredient-name",children:ne.display_name}),A.jsxs("span",{className:"ingredient-stats text-muted",children:[ne.nutrients_per_100g?.purines||0,"mg purines/100g  Used in ",w(ne.normalized_name)," meals"]})]}),A.jsxs("div",{className:"ingredient-actions",children:[A.jsx("button",{className:"btn btn-sm btn-secondary",onClick:()=>Ho(ne),children:""}),A.jsx("button",{className:"btn btn-sm btn-secondary",onClick:()=>Wa(ne),children:""})]})]},ne.normalized_name))})]})]})}),A.jsxs("section",{className:"settings-section card",children:[A.jsx("h2",{className:"section-title",children:" Dragon's Intelligence"}),A.jsx("p",{className:"text-muted mb-md",children:"Connect your dragon to Google's AI to automatically analyze meals from text descriptions or photos."}),ee==="saved"?A.jsxs("div",{className:"api-key-status",children:[A.jsx("div",{className:"status-badge success",children:A.jsx("span",{children:" AI Connected"})}),A.jsx("p",{className:"text-muted text-sm mt-sm",children:"Your dragon can analyze meals. Key stored locally on this device."}),A.jsx("button",{className:"btn btn-secondary btn-danger-outline mt-sm",onClick:Ke,children:" Remove API Key"})]}):A.jsxs("div",{className:"api-key-form",children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Google AI Studio API Key"}),A.jsxs("div",{className:"input-with-toggle",children:[A.jsx("input",{type:be?"text":"password",value:fe,onChange:ne=>pe(ne.target.value),placeholder:"AIza...",className:"api-key-input"}),A.jsx("button",{type:"button",className:"toggle-visibility",onClick:()=>z(!be),children:be?"":""})]}),A.jsxs("p",{className:"input-help",children:["Get your free key at"," ",A.jsx("a",{href:"https://aistudio.google.com/apikey",target:"_blank",rel:"noopener noreferrer",children:"Google AI Studio "})]})]}),A.jsx("button",{className:"btn btn-primary w-full",onClick:Tt,disabled:!fe.trim(),children:" Save API Key"})]})]}),A.jsxs("section",{className:"settings-section card",children:[A.jsx("h2",{className:"section-title",children:" About"}),A.jsxs("p",{className:"text-center text-muted",children:["Purine Control v1.0.0",A.jsx("br",{}),`"The Dragon Keeper's Nutrition Tracker"`]}),A.jsx("p",{className:"text-center text-muted mt-md",children:"Made with  for your dragon"})]})]})}const Yle=[{id:"default-1",name:"Water Glass",capacity_ml:250,icon:"",type:"container"},{id:"default-2",name:"Water Bottle",capacity_ml:500,icon:"",type:"container"},{id:"default-3",name:"Dragon Chalice",capacity_ml:750,icon:"",type:"container"}],Wle=[{key:"meals",label:" Saved Meals",icon:""},{key:"bottles",label:" Bottles",icon:""}],Jle=["","","","","","","",""];function Xle(){const e=Hh(),[t,n]=cB(),r=t.get("tab")||"meals",[i,a]=x.useState(r),[l,u]=x.useState(""),[c,d]=x.useState(!1),[h,m]=x.useState(null),[v,_]=x.useState(""),[T,E]=x.useState(""),[w,M]=x.useState(250),[O,P]=x.useState({calories:0,purines:0,protein:0,carbs:0,fat:0}),{savedMeals:D,bottles:N,isLoading:R,addToStash:k,removeFromStash:B,updateStashItem:$}=r_(),{adjustHydration:oe}=$I(),{addMeal:V}=n_(),{meals:W}=BI(),fe=x.useMemo(()=>K=>W.filter(de=>de.meal_name===K).length,[W]),pe=[...Yle,...N],be=K=>{a(K),n({tab:K})},z=async K=>{const de=K.capacity_ml||K.amount_ml;await oe(de),alert(`Added ${de}ml to hydration! `)},ee=async K=>{await V({meal_type:"snack",meal_name:K.name,ingredients:K.ingredients||[],total_nutrients:K.total_nutrients||{}}),alert(`${K.name} added to diary! `),e("/")},le=async K=>{confirm("Remove this item from your hoard?")&&await B(K)},ue=()=>{_(""),E(""),M(250),P({calories:0,purines:0,protein:0,carbs:0,fat:0}),m(null),d(!1)},we=()=>{ue(),d(!0)},U=K=>{m(K),_(K.name||""),E(K.icon||""),M(K.capacity_ml||K.amount_ml||250),P(K.nutrients||K.total_nutrients||{calories:0,purines:0,protein:0,carbs:0,fat:0}),d(!0)},J=async()=>{if(!v.trim()){alert("Please enter a name");return}const K=h?.id?.startsWith("default-");if(h&&!K){const de={name:v};i==="bottles"&&(de.icon=T,de.capacity_ml=w),await $(h.id,de),alert("Item updated! ")}else{const de=i==="meals"?"meal":"container",_e={type:de,name:v,icon:T,capacity_ml:de==="container"?w:void 0,ingredients:de==="meal"?h?.ingredients||[]:void 0,total_nutrients:de==="meal"?O:void 0,use_count:0};await k(_e),alert(K?"Custom bottle created! ":"Added to your hoard! ")}ue()},se=D.filter(K=>K.name?.toLowerCase().includes(l.toLowerCase())),ce=pe.filter(K=>K.name?.toLowerCase().includes(l.toLowerCase()));return R?A.jsxs("div",{className:"page stash-page",children:[A.jsx(Hi,{title:"Dragon's Hoard",subtitle:"Loading...",showBack:!0,onBack:()=>e("/settings")}),A.jsxs("div",{className:"loading-state card",children:[A.jsx("div",{className:"spinner"}),A.jsx("p",{children:"Opening the hoard..."})]})]}):A.jsxs("div",{className:"page stash-page",children:[A.jsx(Hi,{title:"Dragon's Hoard",subtitle:"Your saved meals and custom ingredients",showBack:!0,onBack:()=>e("/settings")}),A.jsx("div",{className:"stash-tabs",children:Wle.map(K=>A.jsx("button",{className:`stash-tab ${i===K.key?"active":""}`,onClick:()=>be(K.key),children:K.label},K.key))}),A.jsx("div",{className:"stash-search",children:A.jsx("input",{type:"text",placeholder:`Search ${i==="meals"?"meals":"ingredients"}...`,value:l,onChange:K=>u(K.target.value)})}),i==="meals"&&A.jsxs("section",{className:"stash-content",children:[se.length===0?A.jsxs("div",{className:"empty-state card",children:[A.jsx("p",{children:" No saved meals yet!"}),A.jsx("p",{className:"text-muted",children:"Save meals from your diary to reuse them."})]}):A.jsx("div",{className:"stash-list",children:se.map(K=>A.jsxs("div",{className:"stash-item card",children:[A.jsxs("div",{className:"stash-item-header",children:[A.jsx("h3",{children:K.name}),A.jsxs("span",{className:"use-count",children:["Used ",fe(K.name),"x"]})]}),A.jsx("p",{className:"stash-item-ingredients",children:Array.isArray(K.ingredients)?K.ingredients.map(de=>typeof de=="string"?de:de.name).join(", "):"No ingredients"}),A.jsxs("div",{className:"stash-item-nutrients",children:[A.jsxs("span",{children:[" ",K.total_nutrients?.calories||0," cal"]}),A.jsxs("span",{children:[" ",K.total_nutrients?.purines||0,"mg"]}),A.jsxs("span",{children:[" ",K.total_nutrients?.protein||0,"g"]})]}),A.jsxs("div",{className:"stash-item-actions",children:[A.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>ee(K),children:" Use"}),A.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>U(K),children:" Edit"}),A.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>le(K.id),children:""})]})]},K.id))}),A.jsx("button",{className:"btn btn-secondary w-full mt-md",onClick:we,children:" Create New Meal"})]}),i==="bottles"&&A.jsxs("section",{className:"stash-content",children:[A.jsx("p",{className:"text-muted",children:"Custom hydration containers for quick logging."}),ce.length===0?A.jsxs("div",{className:"empty-state card",children:[A.jsx("p",{children:" No custom bottles yet!"}),A.jsx("p",{className:"text-muted",children:"Add your favorite containers."})]}):A.jsx("div",{className:"stash-list",children:ce.map(K=>A.jsxs("div",{className:"stash-item card bottle-item",children:[A.jsxs("div",{className:"bottle-info",children:[A.jsx("span",{className:"bottle-icon",children:K.icon||""}),A.jsxs("div",{className:"bottle-details",children:[A.jsx("h3",{children:K.name}),A.jsxs("span",{className:"bottle-amount",children:[K.capacity_ml||K.amount_ml," ml"]})]})]}),A.jsxs("div",{className:"stash-item-actions",children:[A.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>z(K),children:" Use"}),A.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>U(K),children:""}),!K.id.startsWith("default-")&&A.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>le(K.id),children:""})]})]},K.id))}),A.jsx("button",{className:"btn btn-secondary w-full mt-md",onClick:we,children:" Add Custom Bottle"})]}),c&&A.jsx("div",{className:"modal-overlay",onClick:ue,children:A.jsxs("div",{className:"modal-content card",onClick:K=>K.stopPropagation(),children:[A.jsxs("h2",{children:[h?" Edit":" Create"," ",i==="meals"?"Meal":i==="ingredients"?"Ingredient":"Bottle"]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Name"}),A.jsx("input",{type:"text",value:v,onChange:K=>_(K.target.value),placeholder:`e.g., ${i==="meals"?"Chicken Salad":i==="ingredients"?"Olive Oil":"Sports Bottle"}`})]}),i==="bottles"&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Icon"}),A.jsx("div",{className:"icon-picker",children:Jle.map(K=>A.jsx("button",{type:"button",className:`icon-btn ${T===K?"active":""}`,onClick:()=>E(K),children:K},K))})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Capacity (ml)"}),A.jsx("input",{type:"number",value:w,onChange:K=>M(parseInt(K.target.value)||0),min:"0",step:"50"})]})]}),A.jsxs("div",{className:"modal-actions",children:[A.jsx("button",{className:"btn btn-secondary",onClick:ue,children:"Cancel"}),A.jsxs("button",{className:"btn btn-primary",onClick:J,children:[" ",h?"Update":"Save"]})]})]})})]})}function Qle(){return A.jsx(_H,{children:A.jsx(oB,{basename:"/purine-control",children:A.jsxs("div",{className:"app",children:[A.jsxs(Lz,{children:[A.jsx(Ls,{path:"/",element:A.jsx(oK,{})}),A.jsx(Ls,{path:"/charts",element:A.jsx(Gle,{})}),A.jsx(Ls,{path:"/oracle",element:A.jsx(Vle,{})}),A.jsx(Ls,{path:"/settings",element:A.jsx(Kle,{})}),A.jsx(Ls,{path:"/stash",element:A.jsx(Xle,{})})]}),A.jsx(TH,{})]})})})}Gj.createRoot(document.getElementById("root")).render(A.jsx(x.StrictMode,{children:A.jsx(Qle,{})}));
