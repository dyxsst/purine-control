(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function l(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(u){if(u.ep)return;u.ep=!0;const c=l(u);fetch(u.href,c)}})();var vc={exports:{}},ql={};var Um;function gb(){if(Um)return ql;Um=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function l(r,u,c){var d=null;if(c!==void 0&&(d=""+c),u.key!==void 0&&(d=""+u.key),"key"in u){c={};for(var h in u)h!=="key"&&(c[h]=u[h])}else c=u;return u=c.ref,{$$typeof:a,type:r,key:d,ref:u!==void 0?u:null,props:c}}return ql.Fragment=i,ql.jsx=l,ql.jsxs=l,ql}var zm;function bb(){return zm||(zm=1,vc.exports=gb()),vc.exports}var b=bb(),gc={exports:{}},ie={};var Lm;function _b(){if(Lm)return ie;Lm=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),S=Symbol.iterator;function T(w){return w===null||typeof w!="object"?null:(w=S&&w[S]||w["@@iterator"],typeof w=="function"?w:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,O={};function M(w,Y,L){this.props=w,this.context=Y,this.refs=O,this.updater=L||j}M.prototype.isReactComponent={},M.prototype.setState=function(w,Y){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,Y,"setState")},M.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function z(){}z.prototype=M.prototype;function $(w,Y,L){this.props=w,this.context=Y,this.refs=O,this.updater=L||j}var I=$.prototype=new z;I.constructor=$,x(I,M.prototype),I.isPureReactComponent=!0;var X=Array.isArray;function W(){}var Z={H:null,A:null,T:null,S:null},le=Object.prototype.hasOwnProperty;function ge(w,Y,L){var V=L.ref;return{$$typeof:a,type:w,key:Y,ref:V!==void 0?V:null,props:L}}function Ye(w,Y){return ge(w.type,Y,w.props)}function Q(w){return typeof w=="object"&&w!==null&&w.$$typeof===a}function ce(w){var Y={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(L){return Y[L]})}var Pe=/\/+/g;function at(w,Y){return typeof w=="object"&&w!==null&&w.key!=null?ce(""+w.key):Y.toString(36)}function pt(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(W,W):(w.status="pending",w.then(function(Y){w.status==="pending"&&(w.status="fulfilled",w.value=Y)},function(Y){w.status==="pending"&&(w.status="rejected",w.reason=Y)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function k(w,Y,L,V,ae){var oe=typeof w;(oe==="undefined"||oe==="boolean")&&(w=null);var be=!1;if(w===null)be=!0;else switch(oe){case"bigint":case"string":case"number":be=!0;break;case"object":switch(w.$$typeof){case a:case i:be=!0;break;case y:return be=w._init,k(be(w._payload),Y,L,V,ae)}}if(be)return ae=ae(w),be=V===""?"."+at(w,0):V,X(ae)?(L="",be!=null&&(L=be.replace(Pe,"$&/")+"/"),k(ae,Y,L,"",function(va){return va})):ae!=null&&(Q(ae)&&(ae=Ye(ae,L+(ae.key==null||w&&w.key===ae.key?"":(""+ae.key).replace(Pe,"$&/")+"/")+be)),Y.push(ae)),1;be=0;var it=V===""?".":V+":";if(X(w))for(var Ue=0;Ue<w.length;Ue++)V=w[Ue],oe=it+at(V,Ue),be+=k(V,Y,L,oe,ae);else if(Ue=T(w),typeof Ue=="function")for(w=Ue.call(w),Ue=0;!(V=w.next()).done;)V=V.value,oe=it+at(V,Ue++),be+=k(V,Y,L,oe,ae);else if(oe==="object"){if(typeof w.then=="function")return k(pt(w),Y,L,V,ae);throw Y=String(w),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return be}function K(w,Y,L){if(w==null)return w;var V=[],ae=0;return k(w,V,"","",function(oe){return Y.call(L,oe,ae++)}),V}function te(w){if(w._status===-1){var Y=w._result;Y=Y(),Y.then(function(L){(w._status===0||w._status===-1)&&(w._status=1,w._result=L)},function(L){(w._status===0||w._status===-1)&&(w._status=2,w._result=L)}),w._status===-1&&(w._status=0,w._result=Y)}if(w._status===1)return w._result.default;throw w._result}var re=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},Te={map:K,forEach:function(w,Y,L){K(w,function(){Y.apply(this,arguments)},L)},count:function(w){var Y=0;return K(w,function(){Y++}),Y},toArray:function(w){return K(w,function(Y){return Y})||[]},only:function(w){if(!Q(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return ie.Activity=g,ie.Children=Te,ie.Component=M,ie.Fragment=l,ie.Profiler=u,ie.PureComponent=$,ie.StrictMode=r,ie.Suspense=m,ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,ie.__COMPILER_RUNTIME={__proto__:null,c:function(w){return Z.H.useMemoCache(w)}},ie.cache=function(w){return function(){return w.apply(null,arguments)}},ie.cacheSignal=function(){return null},ie.cloneElement=function(w,Y,L){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var V=x({},w.props),ae=w.key;if(Y!=null)for(oe in Y.key!==void 0&&(ae=""+Y.key),Y)!le.call(Y,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&Y.ref===void 0||(V[oe]=Y[oe]);var oe=arguments.length-2;if(oe===1)V.children=L;else if(1<oe){for(var be=Array(oe),it=0;it<oe;it++)be[it]=arguments[it+2];V.children=be}return ge(w.type,ae,V)},ie.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:c,_context:w},w},ie.createElement=function(w,Y,L){var V,ae={},oe=null;if(Y!=null)for(V in Y.key!==void 0&&(oe=""+Y.key),Y)le.call(Y,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(ae[V]=Y[V]);var be=arguments.length-2;if(be===1)ae.children=L;else if(1<be){for(var it=Array(be),Ue=0;Ue<be;Ue++)it[Ue]=arguments[Ue+2];ae.children=it}if(w&&w.defaultProps)for(V in be=w.defaultProps,be)ae[V]===void 0&&(ae[V]=be[V]);return ge(w,oe,ae)},ie.createRef=function(){return{current:null}},ie.forwardRef=function(w){return{$$typeof:h,render:w}},ie.isValidElement=Q,ie.lazy=function(w){return{$$typeof:y,_payload:{_status:-1,_result:w},_init:te}},ie.memo=function(w,Y){return{$$typeof:p,type:w,compare:Y===void 0?null:Y}},ie.startTransition=function(w){var Y=Z.T,L={};Z.T=L;try{var V=w(),ae=Z.S;ae!==null&&ae(L,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(W,re)}catch(oe){re(oe)}finally{Y!==null&&L.types!==null&&(Y.types=L.types),Z.T=Y}},ie.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},ie.use=function(w){return Z.H.use(w)},ie.useActionState=function(w,Y,L){return Z.H.useActionState(w,Y,L)},ie.useCallback=function(w,Y){return Z.H.useCallback(w,Y)},ie.useContext=function(w){return Z.H.useContext(w)},ie.useDebugValue=function(){},ie.useDeferredValue=function(w,Y){return Z.H.useDeferredValue(w,Y)},ie.useEffect=function(w,Y){return Z.H.useEffect(w,Y)},ie.useEffectEvent=function(w){return Z.H.useEffectEvent(w)},ie.useId=function(){return Z.H.useId()},ie.useImperativeHandle=function(w,Y,L){return Z.H.useImperativeHandle(w,Y,L)},ie.useInsertionEffect=function(w,Y){return Z.H.useInsertionEffect(w,Y)},ie.useLayoutEffect=function(w,Y){return Z.H.useLayoutEffect(w,Y)},ie.useMemo=function(w,Y){return Z.H.useMemo(w,Y)},ie.useOptimistic=function(w,Y){return Z.H.useOptimistic(w,Y)},ie.useReducer=function(w,Y,L){return Z.H.useReducer(w,Y,L)},ie.useRef=function(w){return Z.H.useRef(w)},ie.useState=function(w){return Z.H.useState(w)},ie.useSyncExternalStore=function(w,Y,L){return Z.H.useSyncExternalStore(w,Y,L)},ie.useTransition=function(){return Z.H.useTransition()},ie.version="19.2.0",ie}var km;function ff(){return km||(km=1,gc.exports=_b()),gc.exports}var D=ff(),bc={exports:{}},Yl={},_c={exports:{}},Sc={};var Hm;function Sb(){return Hm||(Hm=1,(function(a){function i(k,K){var te=k.length;k.push(K);e:for(;0<te;){var re=te-1>>>1,Te=k[re];if(0<u(Te,K))k[re]=K,k[te]=Te,te=re;else break e}}function l(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var K=k[0],te=k.pop();if(te!==K){k[0]=te;e:for(var re=0,Te=k.length,w=Te>>>1;re<w;){var Y=2*(re+1)-1,L=k[Y],V=Y+1,ae=k[V];if(0>u(L,te))V<Te&&0>u(ae,L)?(k[re]=ae,k[V]=te,re=V):(k[re]=L,k[Y]=te,re=Y);else if(V<Te&&0>u(ae,te))k[re]=ae,k[V]=te,re=V;else break e}}return K}function u(k,K){var te=k.sortIndex-K.sortIndex;return te!==0?te:k.id-K.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();a.unstable_now=function(){return d.now()-h}}var m=[],p=[],y=1,g=null,S=3,T=!1,j=!1,x=!1,O=!1,M=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function I(k){for(var K=l(p);K!==null;){if(K.callback===null)r(p);else if(K.startTime<=k)r(p),K.sortIndex=K.expirationTime,i(m,K);else break;K=l(p)}}function X(k){if(x=!1,I(k),!j)if(l(m)!==null)j=!0,W||(W=!0,ce());else{var K=l(p);K!==null&&pt(X,K.startTime-k)}}var W=!1,Z=-1,le=5,ge=-1;function Ye(){return O?!0:!(a.unstable_now()-ge<le)}function Q(){if(O=!1,W){var k=a.unstable_now();ge=k;var K=!0;try{e:{j=!1,x&&(x=!1,z(Z),Z=-1),T=!0;var te=S;try{t:{for(I(k),g=l(m);g!==null&&!(g.expirationTime>k&&Ye());){var re=g.callback;if(typeof re=="function"){g.callback=null,S=g.priorityLevel;var Te=re(g.expirationTime<=k);if(k=a.unstable_now(),typeof Te=="function"){g.callback=Te,I(k),K=!0;break t}g===l(m)&&r(m),I(k)}else r(m);g=l(m)}if(g!==null)K=!0;else{var w=l(p);w!==null&&pt(X,w.startTime-k),K=!1}}break e}finally{g=null,S=te,T=!1}K=void 0}}finally{K?ce():W=!1}}}var ce;if(typeof $=="function")ce=function(){$(Q)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,at=Pe.port2;Pe.port1.onmessage=Q,ce=function(){at.postMessage(null)}}else ce=function(){M(Q,0)};function pt(k,K){Z=M(function(){k(a.unstable_now())},K)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(k){k.callback=null},a.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<k?Math.floor(1e3/k):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(k){switch(S){case 1:case 2:case 3:var K=3;break;default:K=S}var te=S;S=K;try{return k()}finally{S=te}},a.unstable_requestPaint=function(){O=!0},a.unstable_runWithPriority=function(k,K){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var te=S;S=k;try{return K()}finally{S=te}},a.unstable_scheduleCallback=function(k,K,te){var re=a.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?re+te:re):te=re,k){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=te+Te,k={id:y++,callback:K,priorityLevel:k,startTime:te,expirationTime:Te,sortIndex:-1},te>re?(k.sortIndex=te,i(p,k),l(m)===null&&k===l(p)&&(x?(z(Z),Z=-1):x=!0,pt(X,te-re))):(k.sortIndex=Te,i(m,k),j||T||(j=!0,W||(W=!0,ce()))),k},a.unstable_shouldYield=Ye,a.unstable_wrapCallback=function(k){var K=S;return function(){var te=S;S=K;try{return k.apply(this,arguments)}finally{S=te}}}})(Sc)),Sc}var Bm;function Tb(){return Bm||(Bm=1,_c.exports=Sb()),_c.exports}var Tc={exports:{}},ht={};var qm;function Eb(){if(qm)return ht;qm=1;var a=ff();function i(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(i(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},u=Symbol.for("react.portal");function c(m,p,y){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:g==null?null:""+g,children:m,containerInfo:p,implementation:y}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ht.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(i(299));return c(m,p,null,y)},ht.flushSync=function(m){var p=d.T,y=r.p;try{if(d.T=null,r.p=2,m)return m()}finally{d.T=p,r.p=y,r.d.f()}},ht.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},ht.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},ht.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,g=h(y,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,T=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:g,integrity:S,fetchPriority:T}):y==="script"&&r.d.X(m,{crossOrigin:g,integrity:S,fetchPriority:T,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ht.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},ht.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,g=h(y,p.crossOrigin);r.d.L(m,y,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ht.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=h(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},ht.requestFormReset=function(m){r.d.r(m)},ht.unstable_batchedUpdates=function(m,p){return m(p)},ht.useFormState=function(m,p,y){return d.H.useFormState(m,p,y)},ht.useFormStatus=function(){return d.H.useHostTransitionStatus()},ht.version="19.2.0",ht}var Ym;function xb(){if(Ym)return Tc.exports;Ym=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(i){console.error(i)}}return a(),Tc.exports=Eb(),Tc.exports}var Gm;function Ob(){if(Gm)return Yl;Gm=1;var a=Tb(),i=ff(),l=xb();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(c(e)!==e)throw Error(r(188))}function p(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,s=t;;){var o=n.return;if(o===null)break;var f=o.alternate;if(f===null){if(s=o.return,s!==null){n=s;continue}break}if(o.child===f.child){for(f=o.child;f;){if(f===n)return m(o),e;if(f===s)return m(o),t;f=f.sibling}throw Error(r(188))}if(n.return!==s.return)n=o,s=f;else{for(var v=!1,_=o.child;_;){if(_===n){v=!0,n=o,s=f;break}if(_===s){v=!0,s=o,n=f;break}_=_.sibling}if(!v){for(_=f.child;_;){if(_===n){v=!0,n=f,s=o;break}if(_===s){v=!0,s=f,n=o;break}_=_.sibling}if(!v)throw Error(r(189))}}if(n.alternate!==s)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var g=Object.assign,S=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),$=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),ge=Symbol.for("react.activity"),Ye=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function ce(e){return e===null||typeof e!="object"?null:(e=Q&&e[Q]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Symbol.for("react.client.reference");function at(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Pe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case x:return"Fragment";case M:return"Profiler";case O:return"StrictMode";case X:return"Suspense";case W:return"SuspenseList";case ge:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case $:return e.displayName||"Context";case z:return(e._context.displayName||"Context")+".Consumer";case I:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return t=e.displayName||null,t!==null?t:at(e.type)||"Memo";case le:t=e._payload,e=e._init;try{return at(e(t))}catch{}}return null}var pt=Array.isArray,k=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},re=[],Te=-1;function w(e){return{current:e}}function Y(e){0>Te||(e.current=re[Te],re[Te]=null,Te--)}function L(e,t){Te++,re[Te]=e.current,e.current=t}var V=w(null),ae=w(null),oe=w(null),be=w(null);function it(e,t){switch(L(oe,t),L(ae,e),L(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?am(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=am(t),e=im(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(V),L(V,e)}function Ue(){Y(V),Y(ae),Y(oe)}function va(e){e.memoizedState!==null&&L(be,e);var t=V.current,n=im(t,e.type);t!==n&&(L(ae,e),L(V,n))}function Ki(e){ae.current===e&&(Y(V),Y(ae)),be.current===e&&(Y(be),Ll._currentValue=te)}var Vi,J;function He(e){if(Vi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Vi=t&&t[1]||"",J=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vi+e+J}var ga=!1;function Xi(e,t){if(!e||ga)return"";ga=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(H){var U=H}Reflect.construct(e,[],G)}else{try{G.call()}catch(H){U=H}e.call(G.prototype)}}else{try{throw Error()}catch(H){U=H}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(H){if(H&&U&&typeof H.stack=="string")return[H.stack,U.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=s.DetermineComponentFrameRoot(),v=f[0],_=f[1];if(v&&_){var E=v.split(`
`),R=_.split(`
`);for(o=s=0;s<E.length&&!E[s].includes("DetermineComponentFrameRoot");)s++;for(;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;if(s===E.length||o===R.length)for(s=E.length-1,o=R.length-1;1<=s&&0<=o&&E[s]!==R[o];)o--;for(;1<=s&&0<=o;s--,o--)if(E[s]!==R[o]){if(s!==1||o!==1)do if(s--,o--,0>o||E[s]!==R[o]){var B=`
`+E[s].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=s&&0<=o);break}}}finally{ga=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?He(n):""}function Jy(e,t){switch(e.tag){case 26:case 27:case 5:return He(e.type);case 16:return He("Lazy");case 13:return e.child!==t&&t!==null?He("Suspense Fallback"):He("Suspense");case 19:return He("SuspenseList");case 0:case 15:return Xi(e.type,!1);case 11:return Xi(e.type.render,!1);case 1:return Xi(e.type,!0);case 31:return He("Activity");default:return""}}function Uf(e){try{var t="",n=null;do t+=Jy(e,n),n=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var tu=Object.prototype.hasOwnProperty,nu=a.unstable_scheduleCallback,au=a.unstable_cancelCallback,Iy=a.unstable_shouldYield,Fy=a.unstable_requestPaint,wt=a.unstable_now,Py=a.unstable_getCurrentPriorityLevel,zf=a.unstable_ImmediatePriority,Lf=a.unstable_UserBlockingPriority,ds=a.unstable_NormalPriority,Wy=a.unstable_LowPriority,kf=a.unstable_IdlePriority,ev=a.log,tv=a.unstable_setDisableYieldValue,Zi=null,Mt=null;function Yn(e){if(typeof ev=="function"&&tv(e),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(Zi,e)}catch{}}var Ct=Math.clz32?Math.clz32:iv,nv=Math.log,av=Math.LN2;function iv(e){return e>>>=0,e===0?32:31-(nv(e)/av|0)|0}var hs=256,ps=262144,ms=4194304;function ba(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ys(e,t,n){var s=e.pendingLanes;if(s===0)return 0;var o=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var _=s&134217727;return _!==0?(s=_&~f,s!==0?o=ba(s):(v&=_,v!==0?o=ba(v):n||(n=_&~e,n!==0&&(o=ba(n))))):(_=s&~f,_!==0?o=ba(_):v!==0?o=ba(v):n||(n=s&~e,n!==0&&(o=ba(n)))),o===0?0:t!==0&&t!==o&&(t&f)===0&&(f=o&-o,n=t&-t,f>=n||f===32&&(n&4194048)!==0)?t:o}function Ji(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function lv(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hf(){var e=ms;return ms<<=1,(ms&62914560)===0&&(ms=4194304),e}function iu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ii(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function sv(e,t,n,s,o,f){var v=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var _=e.entanglements,E=e.expirationTimes,R=e.hiddenUpdates;for(n=v&~n;0<n;){var B=31-Ct(n),G=1<<B;_[B]=0,E[B]=-1;var U=R[B];if(U!==null)for(R[B]=null,B=0;B<U.length;B++){var H=U[B];H!==null&&(H.lane&=-536870913)}n&=~G}s!==0&&Bf(e,s,0),f!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~t))}function Bf(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Ct(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|n&261930}function qf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Ct(n),o=1<<s;o&t|e[s]&t&&(e[s]|=t),n&=~o}}function Yf(e,t){var n=t&-t;return n=(n&42)!==0?1:lu(n),(n&(e.suspendedLanes|t))!==0?0:n}function lu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function su(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Gf(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:Am(e.type))}function $f(e,t){var n=K.p;try{return K.p=e,t()}finally{K.p=n}}var Gn=Math.random().toString(36).slice(2),lt="__reactFiber$"+Gn,vt="__reactProps$"+Gn,Ka="__reactContainer$"+Gn,ru="__reactEvents$"+Gn,rv="__reactListeners$"+Gn,uv="__reactHandles$"+Gn,Qf="__reactResources$"+Gn,Fi="__reactMarker$"+Gn;function uu(e){delete e[lt],delete e[vt],delete e[ru],delete e[rv],delete e[uv]}function Va(e){var t=e[lt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ka]||n[lt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=fm(e);e!==null;){if(n=e[lt])return n;e=fm(e)}return t}e=n,n=e.parentNode}return null}function Xa(e){if(e=e[lt]||e[Ka]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Pi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Za(e){var t=e[Qf];return t||(t=e[Qf]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[Fi]=!0}var Kf=new Set,Vf={};function _a(e,t){Ja(e,t),Ja(e+"Capture",t)}function Ja(e,t){for(Vf[e]=t,e=0;e<t.length;e++)Kf.add(t[e])}var ov=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xf={},Zf={};function cv(e){return tu.call(Zf,e)?!0:tu.call(Xf,e)?!1:ov.test(e)?Zf[e]=!0:(Xf[e]=!0,!1)}function vs(e,t,n){if(cv(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function gs(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function hn(e,t,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+s)}}function qt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fv(e,t,n){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,f=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(v){n=""+v,f.call(this,v)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(v){n=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ou(e){if(!e._valueTracker){var t=Jf(e)?"checked":"value";e._valueTracker=fv(e,t,""+e[t])}}function If(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Jf(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function bs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var dv=/[\n"\\]/g;function Yt(e){return e.replace(dv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function cu(e,t,n,s,o,f,v,_){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),t!=null?v==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+qt(t)):e.value!==""+qt(t)&&(e.value=""+qt(t)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),t!=null?fu(e,v,qt(t)):n!=null?fu(e,v,qt(n)):s!=null&&e.removeAttribute("value"),o==null&&f!=null&&(e.defaultChecked=!!f),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+qt(_):e.removeAttribute("name")}function Ff(e,t,n,s,o,f,v,_){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||n!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){ou(e);return}n=n!=null?""+qt(n):"",t=t!=null?""+qt(t):n,_||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=_?e.checked:!!s,e.defaultChecked=!!s,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),ou(e)}function fu(e,t,n){t==="number"&&bs(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ia(e,t,n,s){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&s&&(e[n].defaultSelected=!0)}else{for(n=""+qt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Pf(e,t,n){if(t!=null&&(t=""+qt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+qt(n):""}function Wf(e,t,n,s){if(t==null){if(s!=null){if(n!=null)throw Error(r(92));if(pt(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),t=n}n=qt(t),e.defaultValue=n,s=e.textContent,s===n&&s!==""&&s!==null&&(e.value=s),ou(e)}function Fa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var hv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ed(e,t,n){var s=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,n):typeof n!="number"||n===0||hv.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function td(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&n[o]!==s&&ed(e,o,s)}else for(var f in t)t.hasOwnProperty(f)&&ed(e,f,t[f])}function du(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _s(e){return mv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function pn(){}var hu=null;function pu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pa=null,Wa=null;function nd(e){var t=Xa(e);if(t&&(e=t.stateNode)){var n=e[vt]||null;e:switch(e=t.stateNode,t.type){case"input":if(cu(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var o=s[vt]||null;if(!o)throw Error(r(90));cu(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)s=n[t],s.form===e.form&&If(s)}break e;case"textarea":Pf(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ia(e,!!n.multiple,t,!1)}}}var mu=!1;function ad(e,t,n){if(mu)return e(t,n);mu=!0;try{var s=e(t);return s}finally{if(mu=!1,(Pa!==null||Wa!==null)&&(rr(),Pa&&(t=Pa,e=Wa,Wa=Pa=null,nd(t),e)))for(t=0;t<e.length;t++)nd(e[t])}}function Wi(e,t){var n=e.stateNode;if(n===null)return null;var s=n[vt]||null;if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yu=!1;if(mn)try{var el={};Object.defineProperty(el,"passive",{get:function(){yu=!0}}),window.addEventListener("test",el,el),window.removeEventListener("test",el,el)}catch{yu=!1}var $n=null,vu=null,Ss=null;function id(){if(Ss)return Ss;var e,t=vu,n=t.length,s,o="value"in $n?$n.value:$n.textContent,f=o.length;for(e=0;e<n&&t[e]===o[e];e++);var v=n-e;for(s=1;s<=v&&t[n-s]===o[f-s];s++);return Ss=o.slice(e,1<s?1-s:void 0)}function Ts(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Es(){return!0}function ld(){return!1}function gt(e){function t(n,s,o,f,v){this._reactName=n,this._targetInst=o,this.type=s,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(n=e[_],this[_]=n?n(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Es:ld,this.isPropagationStopped=ld,this}return g(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Es)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Es)},persist:function(){},isPersistent:Es}),t}var Sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xs=gt(Sa),tl=g({},Sa,{view:0,detail:0}),yv=gt(tl),gu,bu,nl,Os=g({},tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Su,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nl&&(nl&&e.type==="mousemove"?(gu=e.screenX-nl.screenX,bu=e.screenY-nl.screenY):bu=gu=0,nl=e),gu)},movementY:function(e){return"movementY"in e?e.movementY:bu}}),sd=gt(Os),vv=g({},Os,{dataTransfer:0}),gv=gt(vv),bv=g({},tl,{relatedTarget:0}),_u=gt(bv),_v=g({},Sa,{animationName:0,elapsedTime:0,pseudoElement:0}),Sv=gt(_v),Tv=g({},Sa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ev=gt(Tv),xv=g({},Sa,{data:0}),rd=gt(xv),Ov={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Av={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Av[e])?!!t[e]:!1}function Su(){return wv}var Mv=g({},tl,{key:function(e){if(e.key){var t=Ov[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ts(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Su,charCode:function(e){return e.type==="keypress"?Ts(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ts(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Cv=gt(Mv),Dv=g({},Os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ud=gt(Dv),Nv=g({},tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Su}),Rv=gt(Nv),Uv=g({},Sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),zv=gt(Uv),Lv=g({},Os,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kv=gt(Lv),Hv=g({},Sa,{newState:0,oldState:0}),Bv=gt(Hv),qv=[9,13,27,32],Tu=mn&&"CompositionEvent"in window,al=null;mn&&"documentMode"in document&&(al=document.documentMode);var Yv=mn&&"TextEvent"in window&&!al,od=mn&&(!Tu||al&&8<al&&11>=al),cd=" ",fd=!1;function dd(e,t){switch(e){case"keyup":return qv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ei=!1;function Gv(e,t){switch(e){case"compositionend":return hd(t);case"keypress":return t.which!==32?null:(fd=!0,cd);case"textInput":return e=t.data,e===cd&&fd?null:e;default:return null}}function $v(e,t){if(ei)return e==="compositionend"||!Tu&&dd(e,t)?(e=id(),Ss=vu=$n=null,ei=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return od&&t.locale!=="ko"?null:t.data;default:return null}}var Qv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Qv[e.type]:t==="textarea"}function md(e,t,n,s){Pa?Wa?Wa.push(s):Wa=[s]:Pa=s,t=pr(t,"onChange"),0<t.length&&(n=new xs("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var il=null,ll=null;function Kv(e){Fp(e,0)}function js(e){var t=Pi(e);if(If(t))return e}function yd(e,t){if(e==="change")return t}var vd=!1;if(mn){var Eu;if(mn){var xu="oninput"in document;if(!xu){var gd=document.createElement("div");gd.setAttribute("oninput","return;"),xu=typeof gd.oninput=="function"}Eu=xu}else Eu=!1;vd=Eu&&(!document.documentMode||9<document.documentMode)}function bd(){il&&(il.detachEvent("onpropertychange",_d),ll=il=null)}function _d(e){if(e.propertyName==="value"&&js(ll)){var t=[];md(t,ll,e,pu(e)),ad(Kv,t)}}function Vv(e,t,n){e==="focusin"?(bd(),il=t,ll=n,il.attachEvent("onpropertychange",_d)):e==="focusout"&&bd()}function Xv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return js(ll)}function Zv(e,t){if(e==="click")return js(t)}function Jv(e,t){if(e==="input"||e==="change")return js(t)}function Iv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dt=typeof Object.is=="function"?Object.is:Iv;function sl(e,t){if(Dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var o=n[s];if(!tu.call(t,o)||!Dt(e[o],t[o]))return!1}return!0}function Sd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Td(e,t){var n=Sd(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sd(n)}}function Ed(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ed(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=bs(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=bs(e.document)}return t}function Ou(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Fv=mn&&"documentMode"in document&&11>=document.documentMode,ti=null,ju=null,rl=null,Au=!1;function Od(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Au||ti==null||ti!==bs(s)||(s=ti,"selectionStart"in s&&Ou(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),rl&&sl(rl,s)||(rl=s,s=pr(ju,"onSelect"),0<s.length&&(t=new xs("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=ti)))}function Ta(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ni={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionrun:Ta("Transition","TransitionRun"),transitionstart:Ta("Transition","TransitionStart"),transitioncancel:Ta("Transition","TransitionCancel"),transitionend:Ta("Transition","TransitionEnd")},wu={},jd={};mn&&(jd=document.createElement("div").style,"AnimationEvent"in window||(delete ni.animationend.animation,delete ni.animationiteration.animation,delete ni.animationstart.animation),"TransitionEvent"in window||delete ni.transitionend.transition);function Ea(e){if(wu[e])return wu[e];if(!ni[e])return e;var t=ni[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in jd)return wu[e]=t[n];return e}var Ad=Ea("animationend"),wd=Ea("animationiteration"),Md=Ea("animationstart"),Pv=Ea("transitionrun"),Wv=Ea("transitionstart"),eg=Ea("transitioncancel"),Cd=Ea("transitionend"),Dd=new Map,Mu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mu.push("scrollEnd");function Pt(e,t){Dd.set(e,t),_a(t,[e])}var As=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Gt=[],ai=0,Cu=0;function ws(){for(var e=ai,t=Cu=ai=0;t<e;){var n=Gt[t];Gt[t++]=null;var s=Gt[t];Gt[t++]=null;var o=Gt[t];Gt[t++]=null;var f=Gt[t];if(Gt[t++]=null,s!==null&&o!==null){var v=s.pending;v===null?o.next=o:(o.next=v.next,v.next=o),s.pending=o}f!==0&&Nd(n,o,f)}}function Ms(e,t,n,s){Gt[ai++]=e,Gt[ai++]=t,Gt[ai++]=n,Gt[ai++]=s,Cu|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Du(e,t,n,s){return Ms(e,t,n,s),Cs(e)}function xa(e,t){return Ms(e,null,null,t),Cs(e)}function Nd(e,t,n){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n);for(var o=!1,f=e.return;f!==null;)f.childLanes|=n,s=f.alternate,s!==null&&(s.childLanes|=n),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(o=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,o&&t!==null&&(o=31-Ct(n),e=f.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=n|536870912),f):null}function Cs(e){if(50<Ml)throw Ml=0,Yo=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ii={};function tg(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,n,s){return new tg(e,t,n,s)}function Nu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yn(e,t){var n=e.alternate;return n===null?(n=Nt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Rd(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ds(e,t,n,s,o,f){var v=0;if(s=e,typeof e=="function")Nu(e)&&(v=1);else if(typeof e=="string")v=sb(e,n,V.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ge:return e=Nt(31,n,t,o),e.elementType=ge,e.lanes=f,e;case x:return Oa(n.children,o,f,t);case O:v=8,o|=24;break;case M:return e=Nt(12,n,t,o|2),e.elementType=M,e.lanes=f,e;case X:return e=Nt(13,n,t,o),e.elementType=X,e.lanes=f,e;case W:return e=Nt(19,n,t,o),e.elementType=W,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:v=10;break e;case z:v=9;break e;case I:v=11;break e;case Z:v=14;break e;case le:v=16,s=null;break e}v=29,n=Error(r(130,e===null?"null":typeof e,"")),s=null}return t=Nt(v,n,t,o),t.elementType=e,t.type=s,t.lanes=f,t}function Oa(e,t,n,s){return e=Nt(7,e,s,t),e.lanes=n,e}function Ru(e,t,n){return e=Nt(6,e,null,t),e.lanes=n,e}function Ud(e){var t=Nt(18,null,null,0);return t.stateNode=e,t}function Uu(e,t,n){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var zd=new WeakMap;function $t(e,t){if(typeof e=="object"&&e!==null){var n=zd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Uf(t)},zd.set(e,t),t)}return{value:e,source:t,stack:Uf(t)}}var li=[],si=0,Ns=null,ul=0,Qt=[],Kt=0,Qn=null,sn=1,rn="";function vn(e,t){li[si++]=ul,li[si++]=Ns,Ns=e,ul=t}function Ld(e,t,n){Qt[Kt++]=sn,Qt[Kt++]=rn,Qt[Kt++]=Qn,Qn=e;var s=sn;e=rn;var o=32-Ct(s)-1;s&=~(1<<o),n+=1;var f=32-Ct(t)+o;if(30<f){var v=o-o%5;f=(s&(1<<v)-1).toString(32),s>>=v,o-=v,sn=1<<32-Ct(t)+o|n<<o|s,rn=f+e}else sn=1<<f|n<<o|s,rn=e}function zu(e){e.return!==null&&(vn(e,1),Ld(e,1,0))}function Lu(e){for(;e===Ns;)Ns=li[--si],li[si]=null,ul=li[--si],li[si]=null;for(;e===Qn;)Qn=Qt[--Kt],Qt[Kt]=null,rn=Qt[--Kt],Qt[Kt]=null,sn=Qt[--Kt],Qt[Kt]=null}function kd(e,t){Qt[Kt++]=sn,Qt[Kt++]=rn,Qt[Kt++]=Qn,sn=t.id,rn=t.overflow,Qn=e}var st=null,De=null,ve=!1,Kn=null,Vt=!1,ku=Error(r(519));function Vn(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ol($t(t,e)),ku}function Hd(e){var t=e.stateNode,n=e.type,s=e.memoizedProps;switch(t[lt]=e,t[vt]=s,n){case"dialog":de("cancel",t),de("close",t);break;case"iframe":case"object":case"embed":de("load",t);break;case"video":case"audio":for(n=0;n<Dl.length;n++)de(Dl[n],t);break;case"source":de("error",t);break;case"img":case"image":case"link":de("error",t),de("load",t);break;case"details":de("toggle",t);break;case"input":de("invalid",t),Ff(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":de("invalid",t);break;case"textarea":de("invalid",t),Wf(t,s.value,s.defaultValue,s.children)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||s.suppressHydrationWarning===!0||tm(t.textContent,n)?(s.popover!=null&&(de("beforetoggle",t),de("toggle",t)),s.onScroll!=null&&de("scroll",t),s.onScrollEnd!=null&&de("scrollend",t),s.onClick!=null&&(t.onclick=pn),t=!0):t=!1,t||Vn(e,!0)}function Bd(e){for(st=e.return;st;)switch(st.tag){case 5:case 31:case 13:Vt=!1;return;case 27:case 3:Vt=!0;return;default:st=st.return}}function ri(e){if(e!==st)return!1;if(!ve)return Bd(e),ve=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||nc(e.type,e.memoizedProps)),n=!n),n&&De&&Vn(e),Bd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));De=cm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));De=cm(e)}else t===27?(t=De,sa(e.type)?(e=rc,rc=null,De=e):De=t):De=st?Zt(e.stateNode.nextSibling):null;return!0}function ja(){De=st=null,ve=!1}function Hu(){var e=Kn;return e!==null&&(Tt===null?Tt=e:Tt.push.apply(Tt,e),Kn=null),e}function ol(e){Kn===null?Kn=[e]:Kn.push(e)}var Bu=w(null),Aa=null,gn=null;function Xn(e,t,n){L(Bu,t._currentValue),t._currentValue=n}function bn(e){e._currentValue=Bu.current,Y(Bu)}function qu(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Yu(e,t,n,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var f=o.dependencies;if(f!==null){var v=o.child;f=f.firstContext;e:for(;f!==null;){var _=f;f=o;for(var E=0;E<t.length;E++)if(_.context===t[E]){f.lanes|=n,_=f.alternate,_!==null&&(_.lanes|=n),qu(f.return,n,e),s||(v=null);break e}f=_.next}}else if(o.tag===18){if(v=o.return,v===null)throw Error(r(341));v.lanes|=n,f=v.alternate,f!==null&&(f.lanes|=n),qu(v,n,e),v=null}else v=o.child;if(v!==null)v.return=o;else for(v=o;v!==null;){if(v===e){v=null;break}if(o=v.sibling,o!==null){o.return=v.return,v=o;break}v=v.return}o=v}}function ui(e,t,n,s){e=null;for(var o=t,f=!1;o!==null;){if(!f){if((o.flags&524288)!==0)f=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var v=o.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var _=o.type;Dt(o.pendingProps.value,v.value)||(e!==null?e.push(_):e=[_])}}else if(o===be.current){if(v=o.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Ll):e=[Ll])}o=o.return}e!==null&&Yu(t,e,n,s),t.flags|=262144}function Rs(e){for(e=e.firstContext;e!==null;){if(!Dt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wa(e){Aa=e,gn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rt(e){return qd(Aa,e)}function Us(e,t){return Aa===null&&wa(e),qd(e,t)}function qd(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},gn===null){if(e===null)throw Error(r(308));gn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else gn=gn.next=t;return n}var ng=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},ag=a.unstable_scheduleCallback,ig=a.unstable_NormalPriority,Ke={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gu(){return{controller:new ng,data:new Map,refCount:0}}function cl(e){e.refCount--,e.refCount===0&&ag(ig,function(){e.controller.abort()})}var fl=null,$u=0,oi=0,ci=null;function lg(e,t){if(fl===null){var n=fl=[];$u=0,oi=Xo(),ci={status:"pending",value:void 0,then:function(s){n.push(s)}}}return $u++,t.then(Yd,Yd),t}function Yd(){if(--$u===0&&fl!==null){ci!==null&&(ci.status="fulfilled");var e=fl;fl=null,oi=0,ci=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function sg(e,t){var n=[],s={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),s}var Gd=k.S;k.S=function(e,t){Op=wt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&lg(e,t),Gd!==null&&Gd(e,t)};var Ma=w(null);function Qu(){var e=Ma.current;return e!==null?e:Ce.pooledCache}function zs(e,t){t===null?L(Ma,Ma.current):L(Ma,t.pool)}function $d(){var e=Qu();return e===null?null:{parent:Ke._currentValue,pool:e}}var fi=Error(r(460)),Ku=Error(r(474)),Ls=Error(r(542)),ks={then:function(){}};function Qd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Kd(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(pn,pn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Xd(e),e;default:if(typeof t.status=="string")t.then(pn,pn);else{if(e=Ce,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Xd(e),e}throw Da=t,fi}}function Ca(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Da=n,fi):n}}var Da=null;function Vd(){if(Da===null)throw Error(r(459));var e=Da;return Da=null,e}function Xd(e){if(e===fi||e===Ls)throw Error(r(483))}var di=null,dl=0;function Hs(e){var t=dl;return dl+=1,di===null&&(di=[]),Kd(di,e,t)}function hl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Bs(e,t){throw t.$$typeof===S?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Zd(e){function t(C,A){if(e){var N=C.deletions;N===null?(C.deletions=[A],C.flags|=16):N.push(A)}}function n(C,A){if(!e)return null;for(;A!==null;)t(C,A),A=A.sibling;return null}function s(C){for(var A=new Map;C!==null;)C.key!==null?A.set(C.key,C):A.set(C.index,C),C=C.sibling;return A}function o(C,A){return C=yn(C,A),C.index=0,C.sibling=null,C}function f(C,A,N){return C.index=N,e?(N=C.alternate,N!==null?(N=N.index,N<A?(C.flags|=67108866,A):N):(C.flags|=67108866,A)):(C.flags|=1048576,A)}function v(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function _(C,A,N,q){return A===null||A.tag!==6?(A=Ru(N,C.mode,q),A.return=C,A):(A=o(A,N),A.return=C,A)}function E(C,A,N,q){var ee=N.type;return ee===x?B(C,A,N.props.children,q,N.key):A!==null&&(A.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===le&&Ca(ee)===A.type)?(A=o(A,N.props),hl(A,N),A.return=C,A):(A=Ds(N.type,N.key,N.props,null,C.mode,q),hl(A,N),A.return=C,A)}function R(C,A,N,q){return A===null||A.tag!==4||A.stateNode.containerInfo!==N.containerInfo||A.stateNode.implementation!==N.implementation?(A=Uu(N,C.mode,q),A.return=C,A):(A=o(A,N.children||[]),A.return=C,A)}function B(C,A,N,q,ee){return A===null||A.tag!==7?(A=Oa(N,C.mode,q,ee),A.return=C,A):(A=o(A,N),A.return=C,A)}function G(C,A,N){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Ru(""+A,C.mode,N),A.return=C,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case T:return N=Ds(A.type,A.key,A.props,null,C.mode,N),hl(N,A),N.return=C,N;case j:return A=Uu(A,C.mode,N),A.return=C,A;case le:return A=Ca(A),G(C,A,N)}if(pt(A)||ce(A))return A=Oa(A,C.mode,N,null),A.return=C,A;if(typeof A.then=="function")return G(C,Hs(A),N);if(A.$$typeof===$)return G(C,Us(C,A),N);Bs(C,A)}return null}function U(C,A,N,q){var ee=A!==null?A.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return ee!==null?null:_(C,A,""+N,q);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case T:return N.key===ee?E(C,A,N,q):null;case j:return N.key===ee?R(C,A,N,q):null;case le:return N=Ca(N),U(C,A,N,q)}if(pt(N)||ce(N))return ee!==null?null:B(C,A,N,q,null);if(typeof N.then=="function")return U(C,A,Hs(N),q);if(N.$$typeof===$)return U(C,A,Us(C,N),q);Bs(C,N)}return null}function H(C,A,N,q,ee){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return C=C.get(N)||null,_(A,C,""+q,ee);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case T:return C=C.get(q.key===null?N:q.key)||null,E(A,C,q,ee);case j:return C=C.get(q.key===null?N:q.key)||null,R(A,C,q,ee);case le:return q=Ca(q),H(C,A,N,q,ee)}if(pt(q)||ce(q))return C=C.get(N)||null,B(A,C,q,ee,null);if(typeof q.then=="function")return H(C,A,N,Hs(q),ee);if(q.$$typeof===$)return H(C,A,N,Us(A,q),ee);Bs(A,q)}return null}function F(C,A,N,q){for(var ee=null,_e=null,P=A,ue=A=0,me=null;P!==null&&ue<N.length;ue++){P.index>ue?(me=P,P=null):me=P.sibling;var Se=U(C,P,N[ue],q);if(Se===null){P===null&&(P=me);break}e&&P&&Se.alternate===null&&t(C,P),A=f(Se,A,ue),_e===null?ee=Se:_e.sibling=Se,_e=Se,P=me}if(ue===N.length)return n(C,P),ve&&vn(C,ue),ee;if(P===null){for(;ue<N.length;ue++)P=G(C,N[ue],q),P!==null&&(A=f(P,A,ue),_e===null?ee=P:_e.sibling=P,_e=P);return ve&&vn(C,ue),ee}for(P=s(P);ue<N.length;ue++)me=H(P,C,ue,N[ue],q),me!==null&&(e&&me.alternate!==null&&P.delete(me.key===null?ue:me.key),A=f(me,A,ue),_e===null?ee=me:_e.sibling=me,_e=me);return e&&P.forEach(function(fa){return t(C,fa)}),ve&&vn(C,ue),ee}function ne(C,A,N,q){if(N==null)throw Error(r(151));for(var ee=null,_e=null,P=A,ue=A=0,me=null,Se=N.next();P!==null&&!Se.done;ue++,Se=N.next()){P.index>ue?(me=P,P=null):me=P.sibling;var fa=U(C,P,Se.value,q);if(fa===null){P===null&&(P=me);break}e&&P&&fa.alternate===null&&t(C,P),A=f(fa,A,ue),_e===null?ee=fa:_e.sibling=fa,_e=fa,P=me}if(Se.done)return n(C,P),ve&&vn(C,ue),ee;if(P===null){for(;!Se.done;ue++,Se=N.next())Se=G(C,Se.value,q),Se!==null&&(A=f(Se,A,ue),_e===null?ee=Se:_e.sibling=Se,_e=Se);return ve&&vn(C,ue),ee}for(P=s(P);!Se.done;ue++,Se=N.next())Se=H(P,C,ue,Se.value,q),Se!==null&&(e&&Se.alternate!==null&&P.delete(Se.key===null?ue:Se.key),A=f(Se,A,ue),_e===null?ee=Se:_e.sibling=Se,_e=Se);return e&&P.forEach(function(vb){return t(C,vb)}),ve&&vn(C,ue),ee}function Me(C,A,N,q){if(typeof N=="object"&&N!==null&&N.type===x&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case T:e:{for(var ee=N.key;A!==null;){if(A.key===ee){if(ee=N.type,ee===x){if(A.tag===7){n(C,A.sibling),q=o(A,N.props.children),q.return=C,C=q;break e}}else if(A.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===le&&Ca(ee)===A.type){n(C,A.sibling),q=o(A,N.props),hl(q,N),q.return=C,C=q;break e}n(C,A);break}else t(C,A);A=A.sibling}N.type===x?(q=Oa(N.props.children,C.mode,q,N.key),q.return=C,C=q):(q=Ds(N.type,N.key,N.props,null,C.mode,q),hl(q,N),q.return=C,C=q)}return v(C);case j:e:{for(ee=N.key;A!==null;){if(A.key===ee)if(A.tag===4&&A.stateNode.containerInfo===N.containerInfo&&A.stateNode.implementation===N.implementation){n(C,A.sibling),q=o(A,N.children||[]),q.return=C,C=q;break e}else{n(C,A);break}else t(C,A);A=A.sibling}q=Uu(N,C.mode,q),q.return=C,C=q}return v(C);case le:return N=Ca(N),Me(C,A,N,q)}if(pt(N))return F(C,A,N,q);if(ce(N)){if(ee=ce(N),typeof ee!="function")throw Error(r(150));return N=ee.call(N),ne(C,A,N,q)}if(typeof N.then=="function")return Me(C,A,Hs(N),q);if(N.$$typeof===$)return Me(C,A,Us(C,N),q);Bs(C,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,A!==null&&A.tag===6?(n(C,A.sibling),q=o(A,N),q.return=C,C=q):(n(C,A),q=Ru(N,C.mode,q),q.return=C,C=q),v(C)):n(C,A)}return function(C,A,N,q){try{dl=0;var ee=Me(C,A,N,q);return di=null,ee}catch(P){if(P===fi||P===Ls)throw P;var _e=Nt(29,P,null,C.mode);return _e.lanes=q,_e.return=C,_e}finally{}}}var Na=Zd(!0),Jd=Zd(!1),Zn=!1;function Vu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Jn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function In(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ee&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=Cs(e),Nd(e,null,n),t}return Ms(e,s,t,n),Cs(e)}function pl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,qf(e,n)}}function Zu(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var o=null,f=null;if(n=n.firstBaseUpdate,n!==null){do{var v={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};f===null?o=f=v:f=f.next=v,n=n.next}while(n!==null);f===null?o=f=t:f=f.next=t}else o=f=t;n={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:f,shared:s.shared,callbacks:s.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ju=!1;function ml(){if(Ju){var e=ci;if(e!==null)throw e}}function yl(e,t,n,s){Ju=!1;var o=e.updateQueue;Zn=!1;var f=o.firstBaseUpdate,v=o.lastBaseUpdate,_=o.shared.pending;if(_!==null){o.shared.pending=null;var E=_,R=E.next;E.next=null,v===null?f=R:v.next=R,v=E;var B=e.alternate;B!==null&&(B=B.updateQueue,_=B.lastBaseUpdate,_!==v&&(_===null?B.firstBaseUpdate=R:_.next=R,B.lastBaseUpdate=E))}if(f!==null){var G=o.baseState;v=0,B=R=E=null,_=f;do{var U=_.lane&-536870913,H=U!==_.lane;if(H?(pe&U)===U:(s&U)===U){U!==0&&U===oi&&(Ju=!0),B!==null&&(B=B.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var F=e,ne=_;U=t;var Me=n;switch(ne.tag){case 1:if(F=ne.payload,typeof F=="function"){G=F.call(Me,G,U);break e}G=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=ne.payload,U=typeof F=="function"?F.call(Me,G,U):F,U==null)break e;G=g({},G,U);break e;case 2:Zn=!0}}U=_.callback,U!==null&&(e.flags|=64,H&&(e.flags|=8192),H=o.callbacks,H===null?o.callbacks=[U]:H.push(U))}else H={lane:U,tag:_.tag,payload:_.payload,callback:_.callback,next:null},B===null?(R=B=H,E=G):B=B.next=H,v|=U;if(_=_.next,_===null){if(_=o.shared.pending,_===null)break;H=_,_=H.next,H.next=null,o.lastBaseUpdate=H,o.shared.pending=null}}while(!0);B===null&&(E=G),o.baseState=E,o.firstBaseUpdate=R,o.lastBaseUpdate=B,f===null&&(o.shared.lanes=0),ta|=v,e.lanes=v,e.memoizedState=G}}function Id(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Fd(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Id(n[e],t)}var hi=w(null),qs=w(0);function Pd(e,t){e=wn,L(qs,e),L(hi,t),wn=e|t.baseLanes}function Iu(){L(qs,wn),L(hi,hi.current)}function Fu(){wn=qs.current,Y(hi),Y(qs)}var Rt=w(null),Xt=null;function Fn(e){var t=e.alternate;L(Ge,Ge.current&1),L(Rt,e),Xt===null&&(t===null||hi.current!==null||t.memoizedState!==null)&&(Xt=e)}function Pu(e){L(Ge,Ge.current),L(Rt,e),Xt===null&&(Xt=e)}function Wd(e){e.tag===22?(L(Ge,Ge.current),L(Rt,e),Xt===null&&(Xt=e)):Pn()}function Pn(){L(Ge,Ge.current),L(Rt,Rt.current)}function Ut(e){Y(Rt),Xt===e&&(Xt=null),Y(Ge)}var Ge=w(0);function Ys(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||lc(n)||sc(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _n=0,se=null,Ae=null,Ve=null,Gs=!1,pi=!1,Ra=!1,$s=0,vl=0,mi=null,rg=0;function Be(){throw Error(r(321))}function Wu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dt(e[n],t[n]))return!1;return!0}function eo(e,t,n,s,o,f){return _n=f,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,k.H=e===null||e.memoizedState===null?Lh:yo,Ra=!1,f=n(s,o),Ra=!1,pi&&(f=th(t,n,s,o)),eh(e),f}function eh(e){k.H=_l;var t=Ae!==null&&Ae.next!==null;if(_n=0,Ve=Ae=se=null,Gs=!1,vl=0,mi=null,t)throw Error(r(300));e===null||Xe||(e=e.dependencies,e!==null&&Rs(e)&&(Xe=!0))}function th(e,t,n,s){se=e;var o=0;do{if(pi&&(mi=null),vl=0,pi=!1,25<=o)throw Error(r(301));if(o+=1,Ve=Ae=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}k.H=kh,f=t(n,s)}while(pi);return f}function ug(){var e=k.H,t=e.useState()[0];return t=typeof t.then=="function"?gl(t):t,e=e.useState()[0],(Ae!==null?Ae.memoizedState:null)!==e&&(se.flags|=1024),t}function to(){var e=$s!==0;return $s=0,e}function no(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ao(e){if(Gs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Gs=!1}_n=0,Ve=Ae=se=null,pi=!1,vl=$s=0,mi=null}function mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?se.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function $e(){if(Ae===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=Ve===null?se.memoizedState:Ve.next;if(t!==null)Ve=t,Ae=e;else{if(e===null)throw se.alternate===null?Error(r(467)):Error(r(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Ve===null?se.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function Qs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(e){var t=vl;return vl+=1,mi===null&&(mi=[]),e=Kd(mi,e,t),t=se,(Ve===null?t.memoizedState:Ve.next)===null&&(t=t.alternate,k.H=t===null||t.memoizedState===null?Lh:yo),e}function Ks(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return gl(e);if(e.$$typeof===$)return rt(e)}throw Error(r(438,String(e)))}function io(e){var t=null,n=se.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var s=se.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Qs(),se.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),s=0;s<e;s++)n[s]=Ye;return t.index++,n}function Sn(e,t){return typeof t=="function"?t(e):t}function Vs(e){var t=$e();return lo(t,Ae,e)}function lo(e,t,n){var s=e.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=n;var o=e.baseQueue,f=s.pending;if(f!==null){if(o!==null){var v=o.next;o.next=f.next,f.next=v}t.baseQueue=o=f,s.pending=null}if(f=e.baseState,o===null)e.memoizedState=f;else{t=o.next;var _=v=null,E=null,R=t,B=!1;do{var G=R.lane&-536870913;if(G!==R.lane?(pe&G)===G:(_n&G)===G){var U=R.revertLane;if(U===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),G===oi&&(B=!0);else if((_n&U)===U){R=R.next,U===oi&&(B=!0);continue}else G={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},E===null?(_=E=G,v=f):E=E.next=G,se.lanes|=U,ta|=U;G=R.action,Ra&&n(f,G),f=R.hasEagerState?R.eagerState:n(f,G)}else U={lane:G,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},E===null?(_=E=U,v=f):E=E.next=U,se.lanes|=G,ta|=G;R=R.next}while(R!==null&&R!==t);if(E===null?v=f:E.next=_,!Dt(f,e.memoizedState)&&(Xe=!0,B&&(n=ci,n!==null)))throw n;e.memoizedState=f,e.baseState=v,e.baseQueue=E,s.lastRenderedState=f}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function so(e){var t=$e(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var s=n.dispatch,o=n.pending,f=t.memoizedState;if(o!==null){n.pending=null;var v=o=o.next;do f=e(f,v.action),v=v.next;while(v!==o);Dt(f,t.memoizedState)||(Xe=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),n.lastRenderedState=f}return[f,s]}function nh(e,t,n){var s=se,o=$e(),f=ve;if(f){if(n===void 0)throw Error(r(407));n=n()}else n=t();var v=!Dt((Ae||o).memoizedState,n);if(v&&(o.memoizedState=n,Xe=!0),o=o.queue,oo(lh.bind(null,s,o,e),[e]),o.getSnapshot!==t||v||Ve!==null&&Ve.memoizedState.tag&1){if(s.flags|=2048,yi(9,{destroy:void 0},ih.bind(null,s,o,n,t),null),Ce===null)throw Error(r(349));f||(_n&127)!==0||ah(s,t,n)}return n}function ah(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=se.updateQueue,t===null?(t=Qs(),se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ih(e,t,n,s){t.value=n,t.getSnapshot=s,sh(t)&&rh(e)}function lh(e,t,n){return n(function(){sh(t)&&rh(e)})}function sh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dt(e,n)}catch{return!0}}function rh(e){var t=xa(e,2);t!==null&&Et(t,e,2)}function ro(e){var t=mt();if(typeof e=="function"){var n=e;if(e=n(),Ra){Yn(!0);try{n()}finally{Yn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:e},t}function uh(e,t,n,s){return e.baseState=n,lo(e,Ae,typeof s=="function"?s:Sn)}function og(e,t,n,s,o){if(Js(e))throw Error(r(485));if(e=t.action,e!==null){var f={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};k.T!==null?n(!0):f.isTransition=!1,s(f),n=t.pending,n===null?(f.next=t.pending=f,oh(t,f)):(f.next=n.next,t.pending=n.next=f)}}function oh(e,t){var n=t.action,s=t.payload,o=e.state;if(t.isTransition){var f=k.T,v={};k.T=v;try{var _=n(o,s),E=k.S;E!==null&&E(v,_),ch(e,t,_)}catch(R){uo(e,t,R)}finally{f!==null&&v.types!==null&&(f.types=v.types),k.T=f}}else try{f=n(o,s),ch(e,t,f)}catch(R){uo(e,t,R)}}function ch(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){fh(e,t,s)},function(s){return uo(e,t,s)}):fh(e,t,n)}function fh(e,t,n){t.status="fulfilled",t.value=n,dh(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,oh(e,n)))}function uo(e,t,n){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=n,dh(t),t=t.next;while(t!==s)}e.action=null}function dh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function hh(e,t){return t}function ph(e,t){if(ve){var n=Ce.formState;if(n!==null){e:{var s=se;if(ve){if(De){t:{for(var o=De,f=Vt;o.nodeType!==8;){if(!f){o=null;break t}if(o=Zt(o.nextSibling),o===null){o=null;break t}}f=o.data,o=f==="F!"||f==="F"?o:null}if(o){De=Zt(o.nextSibling),s=o.data==="F!";break e}}Vn(s)}s=!1}s&&(t=n[0])}}return n=mt(),n.memoizedState=n.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hh,lastRenderedState:t},n.queue=s,n=Rh.bind(null,se,s),s.dispatch=n,s=ro(!1),f=mo.bind(null,se,!1,s.queue),s=mt(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,n=og.bind(null,se,o,f,n),o.dispatch=n,s.memoizedState=e,[t,n,!1]}function mh(e){var t=$e();return yh(t,Ae,e)}function yh(e,t,n){if(t=lo(e,t,hh)[0],e=Vs(Sn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=gl(t)}catch(v){throw v===fi?Ls:v}else s=t;t=$e();var o=t.queue,f=o.dispatch;return n!==t.memoizedState&&(se.flags|=2048,yi(9,{destroy:void 0},cg.bind(null,o,n),null)),[s,f,e]}function cg(e,t){e.action=t}function vh(e){var t=$e(),n=Ae;if(n!==null)return yh(t,n,e);$e(),t=t.memoizedState,n=$e();var s=n.queue.dispatch;return n.memoizedState=e,[t,s,!1]}function yi(e,t,n,s){return e={tag:e,create:n,deps:s,inst:t,next:null},t=se.updateQueue,t===null&&(t=Qs(),se.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function gh(){return $e().memoizedState}function Xs(e,t,n,s){var o=mt();se.flags|=e,o.memoizedState=yi(1|t,{destroy:void 0},n,s===void 0?null:s)}function Zs(e,t,n,s){var o=$e();s=s===void 0?null:s;var f=o.memoizedState.inst;Ae!==null&&s!==null&&Wu(s,Ae.memoizedState.deps)?o.memoizedState=yi(t,f,n,s):(se.flags|=e,o.memoizedState=yi(1|t,f,n,s))}function bh(e,t){Xs(8390656,8,e,t)}function oo(e,t){Zs(2048,8,e,t)}function fg(e){se.flags|=4;var t=se.updateQueue;if(t===null)t=Qs(),se.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function _h(e){var t=$e().memoizedState;return fg({ref:t,nextImpl:e}),function(){if((Ee&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Sh(e,t){return Zs(4,2,e,t)}function Th(e,t){return Zs(4,4,e,t)}function Eh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xh(e,t,n){n=n!=null?n.concat([e]):null,Zs(4,4,Eh.bind(null,t,e),n)}function co(){}function Oh(e,t){var n=$e();t=t===void 0?null:t;var s=n.memoizedState;return t!==null&&Wu(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function jh(e,t){var n=$e();t=t===void 0?null:t;var s=n.memoizedState;if(t!==null&&Wu(t,s[1]))return s[0];if(s=e(),Ra){Yn(!0);try{e()}finally{Yn(!1)}}return n.memoizedState=[s,t],s}function fo(e,t,n){return n===void 0||(_n&1073741824)!==0&&(pe&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Ap(),se.lanes|=e,ta|=e,n)}function Ah(e,t,n,s){return Dt(n,t)?n:hi.current!==null?(e=fo(e,n,s),Dt(e,t)||(Xe=!0),e):(_n&42)===0||(_n&1073741824)!==0&&(pe&261930)===0?(Xe=!0,e.memoizedState=n):(e=Ap(),se.lanes|=e,ta|=e,t)}function wh(e,t,n,s,o){var f=K.p;K.p=f!==0&&8>f?f:8;var v=k.T,_={};k.T=_,mo(e,!1,t,n);try{var E=o(),R=k.S;if(R!==null&&R(_,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var B=sg(E,s);bl(e,t,B,kt(e))}else bl(e,t,s,kt(e))}catch(G){bl(e,t,{then:function(){},status:"rejected",reason:G},kt())}finally{K.p=f,v!==null&&_.types!==null&&(v.types=_.types),k.T=v}}function dg(){}function ho(e,t,n,s){if(e.tag!==5)throw Error(r(476));var o=Mh(e).queue;wh(e,o,t,te,n===null?dg:function(){return Ch(e),n(s)})}function Mh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:te},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ch(e){var t=Mh(e);t.next===null&&(t=e.alternate.memoizedState),bl(e,t.next.queue,{},kt())}function po(){return rt(Ll)}function Dh(){return $e().memoizedState}function Nh(){return $e().memoizedState}function hg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=kt();e=Jn(n);var s=In(t,e,n);s!==null&&(Et(s,t,n),pl(s,t,n)),t={cache:Gu()},e.payload=t;return}t=t.return}}function pg(e,t,n){var s=kt();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Js(e)?Uh(t,n):(n=Du(e,t,n,s),n!==null&&(Et(n,e,s),zh(n,t,s)))}function Rh(e,t,n){var s=kt();bl(e,t,n,s)}function bl(e,t,n,s){var o={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Js(e))Uh(t,o);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var v=t.lastRenderedState,_=f(v,n);if(o.hasEagerState=!0,o.eagerState=_,Dt(_,v))return Ms(e,t,o,0),Ce===null&&ws(),!1}catch{}finally{}if(n=Du(e,t,o,s),n!==null)return Et(n,e,s),zh(n,t,s),!0}return!1}function mo(e,t,n,s){if(s={lane:2,revertLane:Xo(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Js(e)){if(t)throw Error(r(479))}else t=Du(e,n,s,2),t!==null&&Et(t,e,2)}function Js(e){var t=e.alternate;return e===se||t!==null&&t===se}function Uh(e,t){pi=Gs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zh(e,t,n){if((n&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,qf(e,n)}}var _l={readContext:rt,use:Ks,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be};_l.useEffectEvent=Be;var Lh={readContext:rt,use:Ks,useCallback:function(e,t){return mt().memoizedState=[e,t===void 0?null:t],e},useContext:rt,useEffect:bh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Xs(4194308,4,Eh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xs(4194308,4,e,t)},useInsertionEffect:function(e,t){Xs(4,2,e,t)},useMemo:function(e,t){var n=mt();t=t===void 0?null:t;var s=e();if(Ra){Yn(!0);try{e()}finally{Yn(!1)}}return n.memoizedState=[s,t],s},useReducer:function(e,t,n){var s=mt();if(n!==void 0){var o=n(t);if(Ra){Yn(!0);try{n(t)}finally{Yn(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=pg.bind(null,se,e),[s.memoizedState,e]},useRef:function(e){var t=mt();return e={current:e},t.memoizedState=e},useState:function(e){e=ro(e);var t=e.queue,n=Rh.bind(null,se,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:co,useDeferredValue:function(e,t){var n=mt();return fo(n,e,t)},useTransition:function(){var e=ro(!1);return e=wh.bind(null,se,e.queue,!0,!1),mt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=se,o=mt();if(ve){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),Ce===null)throw Error(r(349));(pe&127)!==0||ah(s,t,n)}o.memoizedState=n;var f={value:n,getSnapshot:t};return o.queue=f,bh(lh.bind(null,s,f,e),[e]),s.flags|=2048,yi(9,{destroy:void 0},ih.bind(null,s,f,n,t),null),n},useId:function(){var e=mt(),t=Ce.identifierPrefix;if(ve){var n=rn,s=sn;n=(s&~(1<<32-Ct(s)-1)).toString(32)+n,t="_"+t+"R_"+n,n=$s++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=rg++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:po,useFormState:ph,useActionState:ph,useOptimistic:function(e){var t=mt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=mo.bind(null,se,!0,n),n.dispatch=t,[e,t]},useMemoCache:io,useCacheRefresh:function(){return mt().memoizedState=hg.bind(null,se)},useEffectEvent:function(e){var t=mt(),n={impl:e};return t.memoizedState=n,function(){if((Ee&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},yo={readContext:rt,use:Ks,useCallback:Oh,useContext:rt,useEffect:oo,useImperativeHandle:xh,useInsertionEffect:Sh,useLayoutEffect:Th,useMemo:jh,useReducer:Vs,useRef:gh,useState:function(){return Vs(Sn)},useDebugValue:co,useDeferredValue:function(e,t){var n=$e();return Ah(n,Ae.memoizedState,e,t)},useTransition:function(){var e=Vs(Sn)[0],t=$e().memoizedState;return[typeof e=="boolean"?e:gl(e),t]},useSyncExternalStore:nh,useId:Dh,useHostTransitionStatus:po,useFormState:mh,useActionState:mh,useOptimistic:function(e,t){var n=$e();return uh(n,Ae,e,t)},useMemoCache:io,useCacheRefresh:Nh};yo.useEffectEvent=_h;var kh={readContext:rt,use:Ks,useCallback:Oh,useContext:rt,useEffect:oo,useImperativeHandle:xh,useInsertionEffect:Sh,useLayoutEffect:Th,useMemo:jh,useReducer:so,useRef:gh,useState:function(){return so(Sn)},useDebugValue:co,useDeferredValue:function(e,t){var n=$e();return Ae===null?fo(n,e,t):Ah(n,Ae.memoizedState,e,t)},useTransition:function(){var e=so(Sn)[0],t=$e().memoizedState;return[typeof e=="boolean"?e:gl(e),t]},useSyncExternalStore:nh,useId:Dh,useHostTransitionStatus:po,useFormState:vh,useActionState:vh,useOptimistic:function(e,t){var n=$e();return Ae!==null?uh(n,Ae,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:io,useCacheRefresh:Nh};kh.useEffectEvent=_h;function vo(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:g({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var go={enqueueSetState:function(e,t,n){e=e._reactInternals;var s=kt(),o=Jn(s);o.payload=t,n!=null&&(o.callback=n),t=In(e,o,s),t!==null&&(Et(t,e,s),pl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=kt(),o=Jn(s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=In(e,o,s),t!==null&&(Et(t,e,s),pl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=kt(),s=Jn(n);s.tag=2,t!=null&&(s.callback=t),t=In(e,s,n),t!==null&&(Et(t,e,n),pl(t,e,n))}};function Hh(e,t,n,s,o,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,f,v):t.prototype&&t.prototype.isPureReactComponent?!sl(n,s)||!sl(o,f):!0}function Bh(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function Ua(e,t){var n=t;if("ref"in t){n={};for(var s in t)s!=="ref"&&(n[s]=t[s])}if(e=e.defaultProps){n===t&&(n=g({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function qh(e){As(e)}function Yh(e){console.error(e)}function Gh(e){As(e)}function Is(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function $h(e,t,n){try{var s=e.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function bo(e,t,n){return n=Jn(n),n.tag=3,n.payload={element:null},n.callback=function(){Is(e,t)},n}function Qh(e){return e=Jn(e),e.tag=3,e}function Kh(e,t,n,s){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var f=s.value;e.payload=function(){return o(f)},e.callback=function(){$h(t,n,s)}}var v=n.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){$h(t,n,s),typeof o!="function"&&(na===null?na=new Set([this]):na.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})})}function mg(e,t,n,s,o){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=n.alternate,t!==null&&ui(t,n,o,!0),n=Rt.current,n!==null){switch(n.tag){case 31:case 13:return Xt===null?ur():n.alternate===null&&qe===0&&(qe=3),n.flags&=-257,n.flags|=65536,n.lanes=o,s===ks?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([s]):t.add(s),Qo(e,s,o)),!1;case 22:return n.flags|=65536,s===ks?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([s]):n.add(s)),Qo(e,s,o)),!1}throw Error(r(435,n.tag))}return Qo(e,s,o),ur(),!1}if(ve)return t=Rt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==ku&&(e=Error(r(422),{cause:s}),ol($t(e,n)))):(s!==ku&&(t=Error(r(423),{cause:s}),ol($t(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=$t(s,n),o=bo(e.stateNode,s,o),Zu(e,o),qe!==4&&(qe=2)),!1;var f=Error(r(520),{cause:s});if(f=$t(f,n),wl===null?wl=[f]:wl.push(f),qe!==4&&(qe=2),t===null)return!0;s=$t(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=bo(n.stateNode,s,e),Zu(n,e),!1;case 1:if(t=n.type,f=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(na===null||!na.has(f))))return n.flags|=65536,o&=-o,n.lanes|=o,o=Qh(o),Kh(o,e,n,s),Zu(n,o),!1}n=n.return}while(n!==null);return!1}var _o=Error(r(461)),Xe=!1;function ut(e,t,n,s){t.child=e===null?Jd(t,null,n,s):Na(t,e.child,n,s)}function Vh(e,t,n,s,o){n=n.render;var f=t.ref;if("ref"in s){var v={};for(var _ in s)_!=="ref"&&(v[_]=s[_])}else v=s;return wa(t),s=eo(e,t,n,v,f,o),_=to(),e!==null&&!Xe?(no(e,t,o),Tn(e,t,o)):(ve&&_&&zu(t),t.flags|=1,ut(e,t,s,o),t.child)}function Xh(e,t,n,s,o){if(e===null){var f=n.type;return typeof f=="function"&&!Nu(f)&&f.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=f,Zh(e,t,f,s,o)):(e=Ds(n.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!wo(e,o)){var v=f.memoizedProps;if(n=n.compare,n=n!==null?n:sl,n(v,s)&&e.ref===t.ref)return Tn(e,t,o)}return t.flags|=1,e=yn(f,s),e.ref=t.ref,e.return=t,t.child=e}function Zh(e,t,n,s,o){if(e!==null){var f=e.memoizedProps;if(sl(f,s)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=s=f,wo(e,o))(e.flags&131072)!==0&&(Xe=!0);else return t.lanes=e.lanes,Tn(e,t,o)}return So(e,t,n,s,o)}function Jh(e,t,n,s){var o=s.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|n:n,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;s=o&~f}else s=0,t.child=null;return Ih(e,t,f,n,s)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&zs(t,f!==null?f.cachePool:null),f!==null?Pd(t,f):Iu(),Wd(t);else return s=t.lanes=536870912,Ih(e,t,f!==null?f.baseLanes|n:n,n,s)}else f!==null?(zs(t,f.cachePool),Pd(t,f),Pn(),t.memoizedState=null):(e!==null&&zs(t,null),Iu(),Pn());return ut(e,t,o,n),t.child}function Sl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ih(e,t,n,s,o){var f=Qu();return f=f===null?null:{parent:Ke._currentValue,pool:f},t.memoizedState={baseLanes:n,cachePool:f},e!==null&&zs(t,null),Iu(),Wd(t),e!==null&&ui(e,t,s,!0),t.childLanes=o,null}function Fs(e,t){return t=Ws({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Fh(e,t,n){return Na(t,e.child,null,n),e=Fs(t,t.pendingProps),e.flags|=2,Ut(t),t.memoizedState=null,e}function yg(e,t,n){var s=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ve){if(s.mode==="hidden")return e=Fs(t,s),t.lanes=536870912,Sl(null,e);if(Pu(t),(e=De)?(e=om(e,Vt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Qn!==null?{id:sn,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},n=Ud(e),n.return=t,t.child=n,st=t,De=null)):e=null,e===null)throw Vn(t);return t.lanes=536870912,null}return Fs(t,s)}var f=e.memoizedState;if(f!==null){var v=f.dehydrated;if(Pu(t),o)if(t.flags&256)t.flags&=-257,t=Fh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(Xe||ui(e,t,n,!1),o=(n&e.childLanes)!==0,Xe||o){if(s=Ce,s!==null&&(v=Yf(s,n),v!==0&&v!==f.retryLane))throw f.retryLane=v,xa(e,v),Et(s,e,v),_o;ur(),t=Fh(e,t,n)}else e=f.treeContext,De=Zt(v.nextSibling),st=t,ve=!0,Kn=null,Vt=!1,e!==null&&kd(t,e),t=Fs(t,s),t.flags|=4096;return t}return e=yn(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ps(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function So(e,t,n,s,o){return wa(t),n=eo(e,t,n,s,void 0,o),s=to(),e!==null&&!Xe?(no(e,t,o),Tn(e,t,o)):(ve&&s&&zu(t),t.flags|=1,ut(e,t,n,o),t.child)}function Ph(e,t,n,s,o,f){return wa(t),t.updateQueue=null,n=th(t,s,n,o),eh(e),s=to(),e!==null&&!Xe?(no(e,t,f),Tn(e,t,f)):(ve&&s&&zu(t),t.flags|=1,ut(e,t,n,f),t.child)}function Wh(e,t,n,s,o){if(wa(t),t.stateNode===null){var f=ii,v=n.contextType;typeof v=="object"&&v!==null&&(f=rt(v)),f=new n(s,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=go,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=s,f.state=t.memoizedState,f.refs={},Vu(t),v=n.contextType,f.context=typeof v=="object"&&v!==null?rt(v):ii,f.state=t.memoizedState,v=n.getDerivedStateFromProps,typeof v=="function"&&(vo(t,n,v,s),f.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&go.enqueueReplaceState(f,f.state,null),yl(t,s,f,o),ml(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){f=t.stateNode;var _=t.memoizedProps,E=Ua(n,_);f.props=E;var R=f.context,B=n.contextType;v=ii,typeof B=="object"&&B!==null&&(v=rt(B));var G=n.getDerivedStateFromProps;B=typeof G=="function"||typeof f.getSnapshotBeforeUpdate=="function",_=t.pendingProps!==_,B||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_||R!==v)&&Bh(t,f,s,v),Zn=!1;var U=t.memoizedState;f.state=U,yl(t,s,f,o),ml(),R=t.memoizedState,_||U!==R||Zn?(typeof G=="function"&&(vo(t,n,G,s),R=t.memoizedState),(E=Zn||Hh(t,n,E,s,U,R,v))?(B||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=R),f.props=s,f.state=R,f.context=v,s=E):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{f=t.stateNode,Xu(e,t),v=t.memoizedProps,B=Ua(n,v),f.props=B,G=t.pendingProps,U=f.context,R=n.contextType,E=ii,typeof R=="object"&&R!==null&&(E=rt(R)),_=n.getDerivedStateFromProps,(R=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==G||U!==E)&&Bh(t,f,s,E),Zn=!1,U=t.memoizedState,f.state=U,yl(t,s,f,o),ml();var H=t.memoizedState;v!==G||U!==H||Zn||e!==null&&e.dependencies!==null&&Rs(e.dependencies)?(typeof _=="function"&&(vo(t,n,_,s),H=t.memoizedState),(B=Zn||Hh(t,n,B,s,U,H,E)||e!==null&&e.dependencies!==null&&Rs(e.dependencies))?(R||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(s,H,E),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(s,H,E)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=H),f.props=s,f.state=H,f.context=E,s=B):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),s=!1)}return f=s,Ps(e,t),s=(t.flags&128)!==0,f||s?(f=t.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&s?(t.child=Na(t,e.child,null,o),t.child=Na(t,null,n,o)):ut(e,t,n,o),t.memoizedState=f.state,e=t.child):e=Tn(e,t,o),e}function ep(e,t,n,s){return ja(),t.flags|=256,ut(e,t,n,s),t.child}var To={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Eo(e){return{baseLanes:e,cachePool:$d()}}function xo(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Lt),e}function tp(e,t,n){var s=t.pendingProps,o=!1,f=(t.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(Ge.current&2)!==0),v&&(o=!0,t.flags&=-129),v=(t.flags&32)!==0,t.flags&=-33,e===null){if(ve){if(o?Fn(t):Pn(),(e=De)?(e=om(e,Vt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Qn!==null?{id:sn,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},n=Ud(e),n.return=t,t.child=n,st=t,De=null)):e=null,e===null)throw Vn(t);return sc(e)?t.lanes=32:t.lanes=536870912,null}var _=s.children;return s=s.fallback,o?(Pn(),o=t.mode,_=Ws({mode:"hidden",children:_},o),s=Oa(s,o,n,null),_.return=t,s.return=t,_.sibling=s,t.child=_,s=t.child,s.memoizedState=Eo(n),s.childLanes=xo(e,v,n),t.memoizedState=To,Sl(null,s)):(Fn(t),Oo(t,_))}var E=e.memoizedState;if(E!==null&&(_=E.dehydrated,_!==null)){if(f)t.flags&256?(Fn(t),t.flags&=-257,t=jo(e,t,n)):t.memoizedState!==null?(Pn(),t.child=e.child,t.flags|=128,t=null):(Pn(),_=s.fallback,o=t.mode,s=Ws({mode:"visible",children:s.children},o),_=Oa(_,o,n,null),_.flags|=2,s.return=t,_.return=t,s.sibling=_,t.child=s,Na(t,e.child,null,n),s=t.child,s.memoizedState=Eo(n),s.childLanes=xo(e,v,n),t.memoizedState=To,t=Sl(null,s));else if(Fn(t),sc(_)){if(v=_.nextSibling&&_.nextSibling.dataset,v)var R=v.dgst;v=R,s=Error(r(419)),s.stack="",s.digest=v,ol({value:s,source:null,stack:null}),t=jo(e,t,n)}else if(Xe||ui(e,t,n,!1),v=(n&e.childLanes)!==0,Xe||v){if(v=Ce,v!==null&&(s=Yf(v,n),s!==0&&s!==E.retryLane))throw E.retryLane=s,xa(e,s),Et(v,e,s),_o;lc(_)||ur(),t=jo(e,t,n)}else lc(_)?(t.flags|=192,t.child=e.child,t=null):(e=E.treeContext,De=Zt(_.nextSibling),st=t,ve=!0,Kn=null,Vt=!1,e!==null&&kd(t,e),t=Oo(t,s.children),t.flags|=4096);return t}return o?(Pn(),_=s.fallback,o=t.mode,E=e.child,R=E.sibling,s=yn(E,{mode:"hidden",children:s.children}),s.subtreeFlags=E.subtreeFlags&65011712,R!==null?_=yn(R,_):(_=Oa(_,o,n,null),_.flags|=2),_.return=t,s.return=t,s.sibling=_,t.child=s,Sl(null,s),s=t.child,_=e.child.memoizedState,_===null?_=Eo(n):(o=_.cachePool,o!==null?(E=Ke._currentValue,o=o.parent!==E?{parent:E,pool:E}:o):o=$d(),_={baseLanes:_.baseLanes|n,cachePool:o}),s.memoizedState=_,s.childLanes=xo(e,v,n),t.memoizedState=To,Sl(e.child,s)):(Fn(t),n=e.child,e=n.sibling,n=yn(n,{mode:"visible",children:s.children}),n.return=t,n.sibling=null,e!==null&&(v=t.deletions,v===null?(t.deletions=[e],t.flags|=16):v.push(e)),t.child=n,t.memoizedState=null,n)}function Oo(e,t){return t=Ws({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ws(e,t){return e=Nt(22,e,null,t),e.lanes=0,e}function jo(e,t,n){return Na(t,e.child,null,n),e=Oo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function np(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),qu(e.return,t,n)}function Ao(e,t,n,s,o,f){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:o,treeForkCount:f}:(v.isBackwards=t,v.rendering=null,v.renderingStartTime=0,v.last=s,v.tail=n,v.tailMode=o,v.treeForkCount=f)}function ap(e,t,n){var s=t.pendingProps,o=s.revealOrder,f=s.tail;s=s.children;var v=Ge.current,_=(v&2)!==0;if(_?(v=v&1|2,t.flags|=128):v&=1,L(Ge,v),ut(e,t,s,n),s=ve?ul:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&np(e,n,t);else if(e.tag===19)np(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Ys(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ao(t,!1,o,n,f,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ys(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ao(t,!0,n,null,f,s);break;case"together":Ao(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function Tn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ta|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(ui(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=yn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=yn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function wo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Rs(e)))}function vg(e,t,n){switch(t.tag){case 3:it(t,t.stateNode.containerInfo),Xn(t,Ke,e.memoizedState.cache),ja();break;case 27:case 5:va(t);break;case 4:it(t,t.stateNode.containerInfo);break;case 10:Xn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Pu(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Fn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?tp(e,t,n):(Fn(t),e=Tn(e,t,n),e!==null?e.sibling:null);Fn(t);break;case 19:var o=(e.flags&128)!==0;if(s=(n&t.childLanes)!==0,s||(ui(e,t,n,!1),s=(n&t.childLanes)!==0),o){if(s)return ap(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),L(Ge,Ge.current),s)break;return null;case 22:return t.lanes=0,Jh(e,t,n,t.pendingProps);case 24:Xn(t,Ke,e.memoizedState.cache)}return Tn(e,t,n)}function ip(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Xe=!0;else{if(!wo(e,n)&&(t.flags&128)===0)return Xe=!1,vg(e,t,n);Xe=(e.flags&131072)!==0}else Xe=!1,ve&&(t.flags&1048576)!==0&&Ld(t,ul,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=Ca(t.elementType),t.type=e,typeof e=="function")Nu(e)?(s=Ua(e,s),t.tag=1,t=Wh(null,t,e,s,n)):(t.tag=0,t=So(null,t,e,s,n));else{if(e!=null){var o=e.$$typeof;if(o===I){t.tag=11,t=Vh(null,t,e,s,n);break e}else if(o===Z){t.tag=14,t=Xh(null,t,e,s,n);break e}}throw t=at(e)||e,Error(r(306,t,""))}}return t;case 0:return So(e,t,t.type,t.pendingProps,n);case 1:return s=t.type,o=Ua(s,t.pendingProps),Wh(e,t,s,o,n);case 3:e:{if(it(t,t.stateNode.containerInfo),e===null)throw Error(r(387));s=t.pendingProps;var f=t.memoizedState;o=f.element,Xu(e,t),yl(t,s,null,n);var v=t.memoizedState;if(s=v.cache,Xn(t,Ke,s),s!==f.cache&&Yu(t,[Ke],n,!0),ml(),s=v.element,f.isDehydrated)if(f={element:s,isDehydrated:!1,cache:v.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=ep(e,t,s,n);break e}else if(s!==o){o=$t(Error(r(424)),t),ol(o),t=ep(e,t,s,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(De=Zt(e.firstChild),st=t,ve=!0,Kn=null,Vt=!0,n=Jd(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ja(),s===o){t=Tn(e,t,n);break e}ut(e,t,s,n)}t=t.child}return t;case 26:return Ps(e,t),e===null?(n=mm(t.type,null,t.pendingProps,null))?t.memoizedState=n:ve||(n=t.type,e=t.pendingProps,s=mr(oe.current).createElement(n),s[lt]=t,s[vt]=e,ot(s,n,e),We(s),t.stateNode=s):t.memoizedState=mm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return va(t),e===null&&ve&&(s=t.stateNode=dm(t.type,t.pendingProps,oe.current),st=t,Vt=!0,o=De,sa(t.type)?(rc=o,De=Zt(s.firstChild)):De=o),ut(e,t,t.pendingProps.children,n),Ps(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ve&&((o=s=De)&&(s=Xg(s,t.type,t.pendingProps,Vt),s!==null?(t.stateNode=s,st=t,De=Zt(s.firstChild),Vt=!1,o=!0):o=!1),o||Vn(t)),va(t),o=t.type,f=t.pendingProps,v=e!==null?e.memoizedProps:null,s=f.children,nc(o,f)?s=null:v!==null&&nc(o,v)&&(t.flags|=32),t.memoizedState!==null&&(o=eo(e,t,ug,null,null,n),Ll._currentValue=o),Ps(e,t),ut(e,t,s,n),t.child;case 6:return e===null&&ve&&((e=n=De)&&(n=Zg(n,t.pendingProps,Vt),n!==null?(t.stateNode=n,st=t,De=null,e=!0):e=!1),e||Vn(t)),null;case 13:return tp(e,t,n);case 4:return it(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Na(t,null,s,n):ut(e,t,s,n),t.child;case 11:return Vh(e,t,t.type,t.pendingProps,n);case 7:return ut(e,t,t.pendingProps,n),t.child;case 8:return ut(e,t,t.pendingProps.children,n),t.child;case 12:return ut(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,Xn(t,t.type,s.value),ut(e,t,s.children,n),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,wa(t),o=rt(o),s=s(o),t.flags|=1,ut(e,t,s,n),t.child;case 14:return Xh(e,t,t.type,t.pendingProps,n);case 15:return Zh(e,t,t.type,t.pendingProps,n);case 19:return ap(e,t,n);case 31:return yg(e,t,n);case 22:return Jh(e,t,n,t.pendingProps);case 24:return wa(t),s=rt(Ke),e===null?(o=Qu(),o===null&&(o=Ce,f=Gu(),o.pooledCache=f,f.refCount++,f!==null&&(o.pooledCacheLanes|=n),o=f),t.memoizedState={parent:s,cache:o},Vu(t),Xn(t,Ke,o)):((e.lanes&n)!==0&&(Xu(e,t),yl(t,null,null,n),ml()),o=e.memoizedState,f=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Xn(t,Ke,s)):(s=f.cache,Xn(t,Ke,s),s!==o.cache&&Yu(t,[Ke],n,!0))),ut(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function En(e){e.flags|=4}function Mo(e,t,n,s,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Dp())e.flags|=8192;else throw Da=ks,Ku}else e.flags&=-16777217}function lp(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!_m(t))if(Dp())e.flags|=8192;else throw Da=ks,Ku}function er(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Hf():536870912,e.lanes|=t,_i|=t)}function Tl(e,t){if(!ve)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ne(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function gg(e,t,n){var s=t.pendingProps;switch(Lu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(t),null;case 1:return Ne(t),null;case 3:return n=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),bn(Ke),Ue(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ri(t)?En(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Hu())),Ne(t),null;case 26:var o=t.type,f=t.memoizedState;return e===null?(En(t),f!==null?(Ne(t),lp(t,f)):(Ne(t),Mo(t,o,null,s,n))):f?f!==e.memoizedState?(En(t),Ne(t),lp(t,f)):(Ne(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&En(t),Ne(t),Mo(t,o,e,s,n)),null;case 27:if(Ki(t),n=oe.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&En(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Ne(t),null}e=V.current,ri(t)?Hd(t):(e=dm(o,s,n),t.stateNode=e,En(t))}return Ne(t),null;case 5:if(Ki(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&En(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Ne(t),null}if(f=V.current,ri(t))Hd(t);else{var v=mr(oe.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof s.is=="string"?v.createElement("select",{is:s.is}):v.createElement("select"),s.multiple?f.multiple=!0:s.size&&(f.size=s.size);break;default:f=typeof s.is=="string"?v.createElement(o,{is:s.is}):v.createElement(o)}}f[lt]=t,f[vt]=s;e:for(v=t.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}t.stateNode=f;e:switch(ot(f,o,s),o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&En(t)}}return Ne(t),Mo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&En(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(r(166));if(e=oe.current,ri(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,o=st,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[lt]=t,e=!!(e.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||tm(e.nodeValue,n)),e||Vn(t,!0)}else e=mr(e).createTextNode(s),e[lt]=t,t.stateNode=e}return Ne(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(s=ri(t),n!==null){if(e===null){if(!s)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[lt]=t}else ja(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ne(t),e=!1}else n=Hu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Ut(t),t):(Ut(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Ne(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=ri(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[lt]=t}else ja(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ne(t),o=!1}else o=Hu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Ut(t),t):(Ut(t),null)}return Ut(t),(t.flags&128)!==0?(t.lanes=n,t):(n=s!==null,e=e!==null&&e.memoizedState!==null,n&&(s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==o&&(s.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),er(t,t.updateQueue),Ne(t),null);case 4:return Ue(),e===null&&Fo(t.stateNode.containerInfo),Ne(t),null;case 10:return bn(t.type),Ne(t),null;case 19:if(Y(Ge),s=t.memoizedState,s===null)return Ne(t),null;if(o=(t.flags&128)!==0,f=s.rendering,f===null)if(o)Tl(s,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=Ys(e),f!==null){for(t.flags|=128,Tl(s,!1),e=f.updateQueue,t.updateQueue=e,er(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Rd(n,e),n=n.sibling;return L(Ge,Ge.current&1|2),ve&&vn(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&wt()>lr&&(t.flags|=128,o=!0,Tl(s,!1),t.lanes=4194304)}else{if(!o)if(e=Ys(f),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,er(t,e),Tl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!f.alternate&&!ve)return Ne(t),null}else 2*wt()-s.renderingStartTime>lr&&n!==536870912&&(t.flags|=128,o=!0,Tl(s,!1),t.lanes=4194304);s.isBackwards?(f.sibling=t.child,t.child=f):(e=s.last,e!==null?e.sibling=f:t.child=f,s.last=f)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=wt(),e.sibling=null,n=Ge.current,L(Ge,o?n&1|2:n&1),ve&&vn(t,s.treeForkCount),e):(Ne(t),null);case 22:case 23:return Ut(t),Fu(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(n&536870912)!==0&&(t.flags&128)===0&&(Ne(t),t.subtreeFlags&6&&(t.flags|=8192)):Ne(t),n=t.updateQueue,n!==null&&er(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),e!==null&&Y(Ma),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),bn(Ke),Ne(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function bg(e,t){switch(Lu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bn(Ke),Ue(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ki(t),null;case 31:if(t.memoizedState!==null){if(Ut(t),t.alternate===null)throw Error(r(340));ja()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ut(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));ja()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Y(Ge),null;case 4:return Ue(),null;case 10:return bn(t.type),null;case 22:case 23:return Ut(t),Fu(),e!==null&&Y(Ma),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return bn(Ke),null;case 25:return null;default:return null}}function sp(e,t){switch(Lu(t),t.tag){case 3:bn(Ke),Ue();break;case 26:case 27:case 5:Ki(t);break;case 4:Ue();break;case 31:t.memoizedState!==null&&Ut(t);break;case 13:Ut(t);break;case 19:Y(Ge);break;case 10:bn(t.type);break;case 22:case 23:Ut(t),Fu(),e!==null&&Y(Ma);break;case 24:bn(Ke)}}function El(e,t){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var o=s.next;n=o;do{if((n.tag&e)===e){s=void 0;var f=n.create,v=n.inst;s=f(),v.destroy=s}n=n.next}while(n!==o)}}catch(_){je(t,t.return,_)}}function Wn(e,t,n){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var f=o.next;s=f;do{if((s.tag&e)===e){var v=s.inst,_=v.destroy;if(_!==void 0){v.destroy=void 0,o=t;var E=n,R=_;try{R()}catch(B){je(o,E,B)}}}s=s.next}while(s!==f)}}catch(B){je(t,t.return,B)}}function rp(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Fd(t,n)}catch(s){je(e,e.return,s)}}}function up(e,t,n){n.props=Ua(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){je(e,t,s)}}function xl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof n=="function"?e.refCleanup=n(s):n.current=s}}catch(o){je(e,t,o)}}function un(e,t){var n=e.ref,s=e.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(o){je(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){je(e,t,o)}else n.current=null}function op(e){var t=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(o){je(e,e.return,o)}}function Co(e,t,n){try{var s=e.stateNode;Yg(s,e.type,n,t),s[vt]=t}catch(o){je(e,e.return,o)}}function cp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&sa(e.type)||e.tag===4}function Do(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&sa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function No(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=pn));else if(s!==4&&(s===27&&sa(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(No(e,t,n),e=e.sibling;e!==null;)No(e,t,n),e=e.sibling}function tr(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(s===27&&sa(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(tr(e,t,n),e=e.sibling;e!==null;)tr(e,t,n),e=e.sibling}function fp(e){var t=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ot(t,s,n),t[lt]=e,t[vt]=n}catch(f){je(e,e.return,f)}}var xn=!1,Ze=!1,Ro=!1,dp=typeof WeakSet=="function"?WeakSet:Set,et=null;function _g(e,t){if(e=e.containerInfo,ec=Tr,e=xd(e),Ou(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var o=s.anchorOffset,f=s.focusNode;s=s.focusOffset;try{n.nodeType,f.nodeType}catch{n=null;break e}var v=0,_=-1,E=-1,R=0,B=0,G=e,U=null;t:for(;;){for(var H;G!==n||o!==0&&G.nodeType!==3||(_=v+o),G!==f||s!==0&&G.nodeType!==3||(E=v+s),G.nodeType===3&&(v+=G.nodeValue.length),(H=G.firstChild)!==null;)U=G,G=H;for(;;){if(G===e)break t;if(U===n&&++R===o&&(_=v),U===f&&++B===s&&(E=v),(H=G.nextSibling)!==null)break;G=U,U=G.parentNode}G=H}n=_===-1||E===-1?null:{start:_,end:E}}else n=null}n=n||{start:0,end:0}}else n=null;for(tc={focusedElem:e,selectionRange:n},Tr=!1,et=t;et!==null;)if(t=et,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,et=e;else for(;et!==null;){switch(t=et,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,n=t,o=f.memoizedProps,f=f.memoizedState,s=n.stateNode;try{var F=Ua(n.type,o);e=s.getSnapshotBeforeUpdate(F,f),s.__reactInternalSnapshotBeforeUpdate=e}catch(ne){je(n,n.return,ne)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)ic(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ic(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,et=e;break}et=t.return}}function hp(e,t,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:jn(e,n),s&4&&El(5,n);break;case 1:if(jn(e,n),s&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(v){je(n,n.return,v)}else{var o=Ua(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(v){je(n,n.return,v)}}s&64&&rp(n),s&512&&xl(n,n.return);break;case 3:if(jn(e,n),s&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Fd(e,t)}catch(v){je(n,n.return,v)}}break;case 27:t===null&&s&4&&fp(n);case 26:case 5:jn(e,n),t===null&&s&4&&op(n),s&512&&xl(n,n.return);break;case 12:jn(e,n);break;case 31:jn(e,n),s&4&&yp(e,n);break;case 13:jn(e,n),s&4&&vp(e,n),s&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Mg.bind(null,n),Jg(e,n))));break;case 22:if(s=n.memoizedState!==null||xn,!s){t=t!==null&&t.memoizedState!==null||Ze,o=xn;var f=Ze;xn=s,(Ze=t)&&!f?An(e,n,(n.subtreeFlags&8772)!==0):jn(e,n),xn=o,Ze=f}break;case 30:break;default:jn(e,n)}}function pp(e){var t=e.alternate;t!==null&&(e.alternate=null,pp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&uu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ze=null,bt=!1;function On(e,t,n){for(n=n.child;n!==null;)mp(e,t,n),n=n.sibling}function mp(e,t,n){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Zi,n)}catch{}switch(n.tag){case 26:Ze||un(n,t),On(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ze||un(n,t);var s=ze,o=bt;sa(n.type)&&(ze=n.stateNode,bt=!1),On(e,t,n),Rl(n.stateNode),ze=s,bt=o;break;case 5:Ze||un(n,t);case 6:if(s=ze,o=bt,ze=null,On(e,t,n),ze=s,bt=o,ze!==null)if(bt)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(n.stateNode)}catch(f){je(n,t,f)}else try{ze.removeChild(n.stateNode)}catch(f){je(n,t,f)}break;case 18:ze!==null&&(bt?(e=ze,rm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),wi(e)):rm(ze,n.stateNode));break;case 4:s=ze,o=bt,ze=n.stateNode.containerInfo,bt=!0,On(e,t,n),ze=s,bt=o;break;case 0:case 11:case 14:case 15:Wn(2,n,t),Ze||Wn(4,n,t),On(e,t,n);break;case 1:Ze||(un(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"&&up(n,t,s)),On(e,t,n);break;case 21:On(e,t,n);break;case 22:Ze=(s=Ze)||n.memoizedState!==null,On(e,t,n),Ze=s;break;default:On(e,t,n)}}function yp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{wi(e)}catch(n){je(t,t.return,n)}}}function vp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{wi(e)}catch(n){je(t,t.return,n)}}function Sg(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new dp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new dp),t;default:throw Error(r(435,e.tag))}}function nr(e,t){var n=Sg(e);t.forEach(function(s){if(!n.has(s)){n.add(s);var o=Cg.bind(null,e,s);s.then(o,o)}})}function _t(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var o=n[s],f=e,v=t,_=v;e:for(;_!==null;){switch(_.tag){case 27:if(sa(_.type)){ze=_.stateNode,bt=!1;break e}break;case 5:ze=_.stateNode,bt=!1;break e;case 3:case 4:ze=_.stateNode.containerInfo,bt=!0;break e}_=_.return}if(ze===null)throw Error(r(160));mp(f,v,o),ze=null,bt=!1,f=o.alternate,f!==null&&(f.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)gp(t,e),t=t.sibling}var Wt=null;function gp(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_t(t,e),St(e),s&4&&(Wn(3,e,e.return),El(3,e),Wn(5,e,e.return));break;case 1:_t(t,e),St(e),s&512&&(Ze||n===null||un(n,n.return)),s&64&&xn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var o=Wt;if(_t(t,e),St(e),s&512&&(Ze||n===null||un(n,n.return)),s&4){var f=n!==null?n.memoizedState:null;if(s=e.memoizedState,n===null)if(s===null)if(e.stateNode===null){e:{s=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":f=o.getElementsByTagName("title")[0],(!f||f[Fi]||f[lt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=o.createElement(s),o.head.insertBefore(f,o.querySelector("head > title"))),ot(f,s,n),f[lt]=e,We(f),s=f;break e;case"link":var v=gm("link","href",o).get(s+(n.href||""));if(v){for(var _=0;_<v.length;_++)if(f=v[_],f.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&f.getAttribute("rel")===(n.rel==null?null:n.rel)&&f.getAttribute("title")===(n.title==null?null:n.title)&&f.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){v.splice(_,1);break t}}f=o.createElement(s),ot(f,s,n),o.head.appendChild(f);break;case"meta":if(v=gm("meta","content",o).get(s+(n.content||""))){for(_=0;_<v.length;_++)if(f=v[_],f.getAttribute("content")===(n.content==null?null:""+n.content)&&f.getAttribute("name")===(n.name==null?null:n.name)&&f.getAttribute("property")===(n.property==null?null:n.property)&&f.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&f.getAttribute("charset")===(n.charSet==null?null:n.charSet)){v.splice(_,1);break t}}f=o.createElement(s),ot(f,s,n),o.head.appendChild(f);break;default:throw Error(r(468,s))}f[lt]=e,We(f),s=f}e.stateNode=s}else bm(o,e.type,e.stateNode);else e.stateNode=vm(o,s,e.memoizedProps);else f!==s?(f===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):f.count--,s===null?bm(o,e.type,e.stateNode):vm(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Co(e,e.memoizedProps,n.memoizedProps)}break;case 27:_t(t,e),St(e),s&512&&(Ze||n===null||un(n,n.return)),n!==null&&s&4&&Co(e,e.memoizedProps,n.memoizedProps);break;case 5:if(_t(t,e),St(e),s&512&&(Ze||n===null||un(n,n.return)),e.flags&32){o=e.stateNode;try{Fa(o,"")}catch(F){je(e,e.return,F)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,Co(e,o,n!==null?n.memoizedProps:o)),s&1024&&(Ro=!0);break;case 6:if(_t(t,e),St(e),s&4){if(e.stateNode===null)throw Error(r(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(F){je(e,e.return,F)}}break;case 3:if(gr=null,o=Wt,Wt=yr(t.containerInfo),_t(t,e),Wt=o,St(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{wi(t.containerInfo)}catch(F){je(e,e.return,F)}Ro&&(Ro=!1,bp(e));break;case 4:s=Wt,Wt=yr(e.stateNode.containerInfo),_t(t,e),St(e),Wt=s;break;case 12:_t(t,e),St(e);break;case 31:_t(t,e),St(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,nr(e,s)));break;case 13:_t(t,e),St(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ir=wt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,nr(e,s)));break;case 22:o=e.memoizedState!==null;var E=n!==null&&n.memoizedState!==null,R=xn,B=Ze;if(xn=R||o,Ze=B||E,_t(t,e),Ze=B,xn=R,St(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||E||xn||Ze||za(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){E=n=t;try{if(f=E.stateNode,o)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{_=E.stateNode;var G=E.memoizedProps.style,U=G!=null&&G.hasOwnProperty("display")?G.display:null;_.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(F){je(E,E.return,F)}}}else if(t.tag===6){if(n===null){E=t;try{E.stateNode.nodeValue=o?"":E.memoizedProps}catch(F){je(E,E.return,F)}}}else if(t.tag===18){if(n===null){E=t;try{var H=E.stateNode;o?um(H,!0):um(E.stateNode,!1)}catch(F){je(E,E.return,F)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,nr(e,n))));break;case 19:_t(t,e),St(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,nr(e,s)));break;case 30:break;case 21:break;default:_t(t,e),St(e)}}function St(e){var t=e.flags;if(t&2){try{for(var n,s=e.return;s!==null;){if(cp(s)){n=s;break}s=s.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var o=n.stateNode,f=Do(e);tr(e,f,o);break;case 5:var v=n.stateNode;n.flags&32&&(Fa(v,""),n.flags&=-33);var _=Do(e);tr(e,_,v);break;case 3:case 4:var E=n.stateNode.containerInfo,R=Do(e);No(e,R,E);break;default:throw Error(r(161))}}catch(B){je(e,e.return,B)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;bp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function jn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)hp(e,t.alternate,t),t=t.sibling}function za(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Wn(4,t,t.return),za(t);break;case 1:un(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&up(t,t.return,n),za(t);break;case 27:Rl(t.stateNode);case 26:case 5:un(t,t.return),za(t);break;case 22:t.memoizedState===null&&za(t);break;case 30:za(t);break;default:za(t)}e=e.sibling}}function An(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,f=t,v=f.flags;switch(f.tag){case 0:case 11:case 15:An(o,f,n),El(4,f);break;case 1:if(An(o,f,n),s=f,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(R){je(s,s.return,R)}if(s=f,o=s.updateQueue,o!==null){var _=s.stateNode;try{var E=o.shared.hiddenCallbacks;if(E!==null)for(o.shared.hiddenCallbacks=null,o=0;o<E.length;o++)Id(E[o],_)}catch(R){je(s,s.return,R)}}n&&v&64&&rp(f),xl(f,f.return);break;case 27:fp(f);case 26:case 5:An(o,f,n),n&&s===null&&v&4&&op(f),xl(f,f.return);break;case 12:An(o,f,n);break;case 31:An(o,f,n),n&&v&4&&yp(o,f);break;case 13:An(o,f,n),n&&v&4&&vp(o,f);break;case 22:f.memoizedState===null&&An(o,f,n),xl(f,f.return);break;case 30:break;default:An(o,f,n)}t=t.sibling}}function Uo(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&cl(n))}function zo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&cl(e))}function en(e,t,n,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_p(e,t,n,s),t=t.sibling}function _p(e,t,n,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:en(e,t,n,s),o&2048&&El(9,t);break;case 1:en(e,t,n,s);break;case 3:en(e,t,n,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&cl(e)));break;case 12:if(o&2048){en(e,t,n,s),e=t.stateNode;try{var f=t.memoizedProps,v=f.id,_=f.onPostCommit;typeof _=="function"&&_(v,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){je(t,t.return,E)}}else en(e,t,n,s);break;case 31:en(e,t,n,s);break;case 13:en(e,t,n,s);break;case 23:break;case 22:f=t.stateNode,v=t.alternate,t.memoizedState!==null?f._visibility&2?en(e,t,n,s):Ol(e,t):f._visibility&2?en(e,t,n,s):(f._visibility|=2,vi(e,t,n,s,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Uo(v,t);break;case 24:en(e,t,n,s),o&2048&&zo(t.alternate,t);break;default:en(e,t,n,s)}}function vi(e,t,n,s,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,v=t,_=n,E=s,R=v.flags;switch(v.tag){case 0:case 11:case 15:vi(f,v,_,E,o),El(8,v);break;case 23:break;case 22:var B=v.stateNode;v.memoizedState!==null?B._visibility&2?vi(f,v,_,E,o):Ol(f,v):(B._visibility|=2,vi(f,v,_,E,o)),o&&R&2048&&Uo(v.alternate,v);break;case 24:vi(f,v,_,E,o),o&&R&2048&&zo(v.alternate,v);break;default:vi(f,v,_,E,o)}t=t.sibling}}function Ol(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,s=t,o=s.flags;switch(s.tag){case 22:Ol(n,s),o&2048&&Uo(s.alternate,s);break;case 24:Ol(n,s),o&2048&&zo(s.alternate,s);break;default:Ol(n,s)}t=t.sibling}}var jl=8192;function gi(e,t,n){if(e.subtreeFlags&jl)for(e=e.child;e!==null;)Sp(e,t,n),e=e.sibling}function Sp(e,t,n){switch(e.tag){case 26:gi(e,t,n),e.flags&jl&&e.memoizedState!==null&&rb(n,Wt,e.memoizedState,e.memoizedProps);break;case 5:gi(e,t,n);break;case 3:case 4:var s=Wt;Wt=yr(e.stateNode.containerInfo),gi(e,t,n),Wt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=jl,jl=16777216,gi(e,t,n),jl=s):gi(e,t,n));break;default:gi(e,t,n)}}function Tp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Al(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];et=s,xp(s,e)}Tp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ep(e),e=e.sibling}function Ep(e){switch(e.tag){case 0:case 11:case 15:Al(e),e.flags&2048&&Wn(9,e,e.return);break;case 3:Al(e);break;case 12:Al(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ar(e)):Al(e);break;default:Al(e)}}function ar(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];et=s,xp(s,e)}Tp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Wn(8,t,t.return),ar(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,ar(t));break;default:ar(t)}e=e.sibling}}function xp(e,t){for(;et!==null;){var n=et;switch(n.tag){case 0:case 11:case 15:Wn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:cl(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,et=s;else e:for(n=e;et!==null;){s=et;var o=s.sibling,f=s.return;if(pp(s),s===n){et=null;break e}if(o!==null){o.return=f,et=o;break e}et=f}}}var Tg={getCacheForType:function(e){var t=rt(Ke),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return rt(Ke).controller.signal}},Eg=typeof WeakMap=="function"?WeakMap:Map,Ee=0,Ce=null,fe=null,pe=0,Oe=0,zt=null,ea=!1,bi=!1,Lo=!1,wn=0,qe=0,ta=0,La=0,ko=0,Lt=0,_i=0,wl=null,Tt=null,Ho=!1,ir=0,Op=0,lr=1/0,sr=null,na=null,Ie=0,aa=null,Si=null,Mn=0,Bo=0,qo=null,jp=null,Ml=0,Yo=null;function kt(){return(Ee&2)!==0&&pe!==0?pe&-pe:k.T!==null?Xo():Gf()}function Ap(){if(Lt===0)if((pe&536870912)===0||ve){var e=ps;ps<<=1,(ps&3932160)===0&&(ps=262144),Lt=e}else Lt=536870912;return e=Rt.current,e!==null&&(e.flags|=32),Lt}function Et(e,t,n){(e===Ce&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)&&(Ti(e,0),ia(e,pe,Lt,!1)),Ii(e,n),((Ee&2)===0||e!==Ce)&&(e===Ce&&((Ee&2)===0&&(La|=n),qe===4&&ia(e,pe,Lt,!1)),on(e))}function wp(e,t,n){if((Ee&6)!==0)throw Error(r(327));var s=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ji(e,t),o=s?jg(e,t):$o(e,t,!0),f=s;do{if(o===0){bi&&!s&&ia(e,t,0,!1);break}else{if(n=e.current.alternate,f&&!xg(n)){o=$o(e,t,!1),f=!1;continue}if(o===2){if(f=t,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){t=v;e:{var _=e;o=wl;var E=_.current.memoizedState.isDehydrated;if(E&&(Ti(_,v).flags|=256),v=$o(_,v,!1),v!==2){if(Lo&&!E){_.errorRecoveryDisabledLanes|=f,La|=f,o=4;break e}f=Tt,Tt=o,f!==null&&(Tt===null?Tt=f:Tt.push.apply(Tt,f))}o=v}if(f=!1,o!==2)continue}}if(o===1){Ti(e,0),ia(e,t,0,!0);break}e:{switch(s=e,f=o,f){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:ia(s,t,Lt,!ea);break e;case 2:Tt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=ir+300-wt(),10<o)){if(ia(s,t,Lt,!ea),ys(s,0,!0)!==0)break e;Mn=t,s.timeoutHandle=lm(Mp.bind(null,s,n,Tt,sr,Ho,t,Lt,La,_i,ea,f,"Throttled",-0,0),o);break e}Mp(s,n,Tt,sr,Ho,t,Lt,La,_i,ea,f,null,-0,0)}}break}while(!0);on(e)}function Mp(e,t,n,s,o,f,v,_,E,R,B,G,U,H){if(e.timeoutHandle=-1,G=t.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pn},Sp(t,f,G);var F=(f&62914560)===f?ir-wt():(f&4194048)===f?Op-wt():0;if(F=ub(G,F),F!==null){Mn=f,e.cancelPendingCommit=F(kp.bind(null,e,t,f,n,s,o,v,_,E,B,G,null,U,H)),ia(e,f,v,!R);return}}kp(e,t,f,n,s,o,v,_,E)}function xg(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var o=n[s],f=o.getSnapshot;o=o.value;try{if(!Dt(f(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ia(e,t,n,s){t&=~ko,t&=~La,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var f=31-Ct(o),v=1<<f;s[f]=-1,o&=~v}n!==0&&Bf(e,n,t)}function rr(){return(Ee&6)===0?(Cl(0),!1):!0}function Go(){if(fe!==null){if(Oe===0)var e=fe.return;else e=fe,gn=Aa=null,ao(e),di=null,dl=0,e=fe;for(;e!==null;)sp(e.alternate,e),e=e.return;fe=null}}function Ti(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Qg(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Mn=0,Go(),Ce=e,fe=n=yn(e.current,null),pe=t,Oe=0,zt=null,ea=!1,bi=Ji(e,t),Lo=!1,_i=Lt=ko=La=ta=qe=0,Tt=wl=null,Ho=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-Ct(s),f=1<<o;t|=e[o],s&=~f}return wn=t,ws(),n}function Cp(e,t){se=null,k.H=_l,t===fi||t===Ls?(t=Vd(),Oe=3):t===Ku?(t=Vd(),Oe=4):Oe=t===_o?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,zt=t,fe===null&&(qe=1,Is(e,$t(t,e.current)))}function Dp(){var e=Rt.current;return e===null?!0:(pe&4194048)===pe?Xt===null:(pe&62914560)===pe||(pe&536870912)!==0?e===Xt:!1}function Np(){var e=k.H;return k.H=_l,e===null?_l:e}function Rp(){var e=k.A;return k.A=Tg,e}function ur(){qe=4,ea||(pe&4194048)!==pe&&Rt.current!==null||(bi=!0),(ta&134217727)===0&&(La&134217727)===0||Ce===null||ia(Ce,pe,Lt,!1)}function $o(e,t,n){var s=Ee;Ee|=2;var o=Np(),f=Rp();(Ce!==e||pe!==t)&&(sr=null,Ti(e,t)),t=!1;var v=qe;e:do try{if(Oe!==0&&fe!==null){var _=fe,E=zt;switch(Oe){case 8:Go(),v=6;break e;case 3:case 2:case 9:case 6:Rt.current===null&&(t=!0);var R=Oe;if(Oe=0,zt=null,Ei(e,_,E,R),n&&bi){v=0;break e}break;default:R=Oe,Oe=0,zt=null,Ei(e,_,E,R)}}Og(),v=qe;break}catch(B){Cp(e,B)}while(!0);return t&&e.shellSuspendCounter++,gn=Aa=null,Ee=s,k.H=o,k.A=f,fe===null&&(Ce=null,pe=0,ws()),v}function Og(){for(;fe!==null;)Up(fe)}function jg(e,t){var n=Ee;Ee|=2;var s=Np(),o=Rp();Ce!==e||pe!==t?(sr=null,lr=wt()+500,Ti(e,t)):bi=Ji(e,t);e:do try{if(Oe!==0&&fe!==null){t=fe;var f=zt;t:switch(Oe){case 1:Oe=0,zt=null,Ei(e,t,f,1);break;case 2:case 9:if(Qd(f)){Oe=0,zt=null,zp(t);break}t=function(){Oe!==2&&Oe!==9||Ce!==e||(Oe=7),on(e)},f.then(t,t);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:Qd(f)?(Oe=0,zt=null,zp(t)):(Oe=0,zt=null,Ei(e,t,f,7));break;case 5:var v=null;switch(fe.tag){case 26:v=fe.memoizedState;case 5:case 27:var _=fe;if(v?_m(v):_.stateNode.complete){Oe=0,zt=null;var E=_.sibling;if(E!==null)fe=E;else{var R=_.return;R!==null?(fe=R,or(R)):fe=null}break t}}Oe=0,zt=null,Ei(e,t,f,5);break;case 6:Oe=0,zt=null,Ei(e,t,f,6);break;case 8:Go(),qe=6;break e;default:throw Error(r(462))}}Ag();break}catch(B){Cp(e,B)}while(!0);return gn=Aa=null,k.H=s,k.A=o,Ee=n,fe!==null?0:(Ce=null,pe=0,ws(),qe)}function Ag(){for(;fe!==null&&!Iy();)Up(fe)}function Up(e){var t=ip(e.alternate,e,wn);e.memoizedProps=e.pendingProps,t===null?or(e):fe=t}function zp(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ph(n,t,t.pendingProps,t.type,void 0,pe);break;case 11:t=Ph(n,t,t.pendingProps,t.type.render,t.ref,pe);break;case 5:ao(t);default:sp(n,t),t=fe=Rd(t,wn),t=ip(n,t,wn)}e.memoizedProps=e.pendingProps,t===null?or(e):fe=t}function Ei(e,t,n,s){gn=Aa=null,ao(t),di=null,dl=0;var o=t.return;try{if(mg(e,o,t,n,pe)){qe=1,Is(e,$t(n,e.current)),fe=null;return}}catch(f){if(o!==null)throw fe=o,f;qe=1,Is(e,$t(n,e.current)),fe=null;return}t.flags&32768?(ve||s===1?e=!0:bi||(pe&536870912)!==0?e=!1:(ea=e=!0,(s===2||s===9||s===3||s===6)&&(s=Rt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Lp(t,e)):or(t)}function or(e){var t=e;do{if((t.flags&32768)!==0){Lp(t,ea);return}e=t.return;var n=gg(t.alternate,t,wn);if(n!==null){fe=n;return}if(t=t.sibling,t!==null){fe=t;return}fe=t=e}while(t!==null);qe===0&&(qe=5)}function Lp(e,t){do{var n=bg(e.alternate,e);if(n!==null){n.flags&=32767,fe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){fe=e;return}fe=e=n}while(e!==null);qe=6,fe=null}function kp(e,t,n,s,o,f,v,_,E){e.cancelPendingCommit=null;do cr();while(Ie!==0);if((Ee&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(f=t.lanes|t.childLanes,f|=Cu,sv(e,n,f,v,_,E),e===Ce&&(fe=Ce=null,pe=0),Si=t,aa=e,Mn=n,Bo=f,qo=o,jp=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Dg(ds,function(){return Gp(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=k.T,k.T=null,o=K.p,K.p=2,v=Ee,Ee|=4;try{_g(e,t,n)}finally{Ee=v,K.p=o,k.T=s}}Ie=1,Hp(),Bp(),qp()}}function Hp(){if(Ie===1){Ie=0;var e=aa,t=Si,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=k.T,k.T=null;var s=K.p;K.p=2;var o=Ee;Ee|=4;try{gp(t,e);var f=tc,v=xd(e.containerInfo),_=f.focusedElem,E=f.selectionRange;if(v!==_&&_&&_.ownerDocument&&Ed(_.ownerDocument.documentElement,_)){if(E!==null&&Ou(_)){var R=E.start,B=E.end;if(B===void 0&&(B=R),"selectionStart"in _)_.selectionStart=R,_.selectionEnd=Math.min(B,_.value.length);else{var G=_.ownerDocument||document,U=G&&G.defaultView||window;if(U.getSelection){var H=U.getSelection(),F=_.textContent.length,ne=Math.min(E.start,F),Me=E.end===void 0?ne:Math.min(E.end,F);!H.extend&&ne>Me&&(v=Me,Me=ne,ne=v);var C=Td(_,ne),A=Td(_,Me);if(C&&A&&(H.rangeCount!==1||H.anchorNode!==C.node||H.anchorOffset!==C.offset||H.focusNode!==A.node||H.focusOffset!==A.offset)){var N=G.createRange();N.setStart(C.node,C.offset),H.removeAllRanges(),ne>Me?(H.addRange(N),H.extend(A.node,A.offset)):(N.setEnd(A.node,A.offset),H.addRange(N))}}}}for(G=[],H=_;H=H.parentNode;)H.nodeType===1&&G.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<G.length;_++){var q=G[_];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}Tr=!!ec,tc=ec=null}finally{Ee=o,K.p=s,k.T=n}}e.current=t,Ie=2}}function Bp(){if(Ie===2){Ie=0;var e=aa,t=Si,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=k.T,k.T=null;var s=K.p;K.p=2;var o=Ee;Ee|=4;try{hp(e,t.alternate,t)}finally{Ee=o,K.p=s,k.T=n}}Ie=3}}function qp(){if(Ie===4||Ie===3){Ie=0,Fy();var e=aa,t=Si,n=Mn,s=jp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ie=5:(Ie=0,Si=aa=null,Yp(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(na=null),su(n),t=t.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Zi,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=k.T,o=K.p,K.p=2,k.T=null;try{for(var f=e.onRecoverableError,v=0;v<s.length;v++){var _=s[v];f(_.value,{componentStack:_.stack})}}finally{k.T=t,K.p=o}}(Mn&3)!==0&&cr(),on(e),o=e.pendingLanes,(n&261930)!==0&&(o&42)!==0?e===Yo?Ml++:(Ml=0,Yo=e):Ml=0,Cl(0)}}function Yp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,cl(t)))}function cr(){return Hp(),Bp(),qp(),Gp()}function Gp(){if(Ie!==5)return!1;var e=aa,t=Bo;Bo=0;var n=su(Mn),s=k.T,o=K.p;try{K.p=32>n?32:n,k.T=null,n=qo,qo=null;var f=aa,v=Mn;if(Ie=0,Si=aa=null,Mn=0,(Ee&6)!==0)throw Error(r(331));var _=Ee;if(Ee|=4,Ep(f.current),_p(f,f.current,v,n),Ee=_,Cl(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Zi,f)}catch{}return!0}finally{K.p=o,k.T=s,Yp(e,t)}}function $p(e,t,n){t=$t(n,t),t=bo(e.stateNode,t,2),e=In(e,t,2),e!==null&&(Ii(e,2),on(e))}function je(e,t,n){if(e.tag===3)$p(e,e,n);else for(;t!==null;){if(t.tag===3){$p(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(na===null||!na.has(s))){e=$t(n,e),n=Qh(2),s=In(t,n,2),s!==null&&(Kh(n,s,t,e),Ii(s,2),on(s));break}}t=t.return}}function Qo(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Eg;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(n)||(Lo=!0,o.add(n),e=wg.bind(null,e,t,n),t.then(e,e))}function wg(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ce===e&&(pe&n)===n&&(qe===4||qe===3&&(pe&62914560)===pe&&300>wt()-ir?(Ee&2)===0&&Ti(e,0):ko|=n,_i===pe&&(_i=0)),on(e)}function Qp(e,t){t===0&&(t=Hf()),e=xa(e,t),e!==null&&(Ii(e,t),on(e))}function Mg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Qp(e,n)}function Cg(e,t){var n=0;switch(e.tag){case 31:case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(r(314))}s!==null&&s.delete(t),Qp(e,n)}function Dg(e,t){return nu(e,t)}var fr=null,xi=null,Ko=!1,dr=!1,Vo=!1,la=0;function on(e){e!==xi&&e.next===null&&(xi===null?fr=xi=e:xi=xi.next=e),dr=!0,Ko||(Ko=!0,Rg())}function Cl(e,t){if(!Vo&&dr){Vo=!0;do for(var n=!1,s=fr;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var f=0;else{var v=s.suspendedLanes,_=s.pingedLanes;f=(1<<31-Ct(42|e)+1)-1,f&=o&~(v&~_),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(n=!0,Zp(s,f))}else f=pe,f=ys(s,s===Ce?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(f&3)===0||Ji(s,f)||(n=!0,Zp(s,f));s=s.next}while(n);Vo=!1}}function Ng(){Kp()}function Kp(){dr=Ko=!1;var e=0;la!==0&&$g()&&(e=la);for(var t=wt(),n=null,s=fr;s!==null;){var o=s.next,f=Vp(s,t);f===0?(s.next=null,n===null?fr=o:n.next=o,o===null&&(xi=n)):(n=s,(e!==0||(f&3)!==0)&&(dr=!0)),s=o}Ie!==0&&Ie!==5||Cl(e),la!==0&&(la=0)}function Vp(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-Ct(f),_=1<<v,E=o[v];E===-1?((_&n)===0||(_&s)!==0)&&(o[v]=lv(_,t)):E<=t&&(e.expiredLanes|=_),f&=~_}if(t=Ce,n=pe,n=ys(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,n===0||e===t&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&au(s),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ji(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(s!==null&&au(s),su(n)){case 2:case 8:n=Lf;break;case 32:n=ds;break;case 268435456:n=kf;break;default:n=ds}return s=Xp.bind(null,e),n=nu(n,s),e.callbackPriority=t,e.callbackNode=n,t}return s!==null&&s!==null&&au(s),e.callbackPriority=2,e.callbackNode=null,2}function Xp(e,t){if(Ie!==0&&Ie!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(cr()&&e.callbackNode!==n)return null;var s=pe;return s=ys(e,e===Ce?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(wp(e,s,t),Vp(e,wt()),e.callbackNode!=null&&e.callbackNode===n?Xp.bind(null,e):null)}function Zp(e,t){if(cr())return null;wp(e,t,!0)}function Rg(){Kg(function(){(Ee&6)!==0?nu(zf,Ng):Kp()})}function Xo(){if(la===0){var e=oi;e===0&&(e=hs,hs<<=1,(hs&261888)===0&&(hs=256)),la=e}return la}function Jp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:_s(""+e)}function Ip(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Ug(e,t,n,s,o){if(t==="submit"&&n&&n.stateNode===o){var f=Jp((o[vt]||null).action),v=s.submitter;v&&(t=(t=v[vt]||null)?Jp(t.formAction):v.getAttribute("formAction"),t!==null&&(f=t,v=null));var _=new xs("action","action",null,s,o);e.push({event:_,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(la!==0){var E=v?Ip(o,v):new FormData(o);ho(n,{pending:!0,data:E,method:o.method,action:f},null,E)}}else typeof f=="function"&&(_.preventDefault(),E=v?Ip(o,v):new FormData(o),ho(n,{pending:!0,data:E,method:o.method,action:f},f,E))},currentTarget:o}]})}}for(var Zo=0;Zo<Mu.length;Zo++){var Jo=Mu[Zo],zg=Jo.toLowerCase(),Lg=Jo[0].toUpperCase()+Jo.slice(1);Pt(zg,"on"+Lg)}Pt(Ad,"onAnimationEnd"),Pt(wd,"onAnimationIteration"),Pt(Md,"onAnimationStart"),Pt("dblclick","onDoubleClick"),Pt("focusin","onFocus"),Pt("focusout","onBlur"),Pt(Pv,"onTransitionRun"),Pt(Wv,"onTransitionStart"),Pt(eg,"onTransitionCancel"),Pt(Cd,"onTransitionEnd"),Ja("onMouseEnter",["mouseout","mouseover"]),Ja("onMouseLeave",["mouseout","mouseover"]),Ja("onPointerEnter",["pointerout","pointerover"]),Ja("onPointerLeave",["pointerout","pointerover"]),_a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_a("onBeforeInput",["compositionend","keypress","textInput","paste"]),_a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function Fp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],o=s.event;s=s.listeners;e:{var f=void 0;if(t)for(var v=s.length-1;0<=v;v--){var _=s[v],E=_.instance,R=_.currentTarget;if(_=_.listener,E!==f&&o.isPropagationStopped())break e;f=_,o.currentTarget=R;try{f(o)}catch(B){As(B)}o.currentTarget=null,f=E}else for(v=0;v<s.length;v++){if(_=s[v],E=_.instance,R=_.currentTarget,_=_.listener,E!==f&&o.isPropagationStopped())break e;f=_,o.currentTarget=R;try{f(o)}catch(B){As(B)}o.currentTarget=null,f=E}}}}function de(e,t){var n=t[ru];n===void 0&&(n=t[ru]=new Set);var s=e+"__bubble";n.has(s)||(Pp(t,e,2,!1),n.add(s))}function Io(e,t,n){var s=0;t&&(s|=4),Pp(n,e,s,t)}var hr="_reactListening"+Math.random().toString(36).slice(2);function Fo(e){if(!e[hr]){e[hr]=!0,Kf.forEach(function(n){n!=="selectionchange"&&(kg.has(n)||Io(n,!1,e),Io(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hr]||(t[hr]=!0,Io("selectionchange",!1,t))}}function Pp(e,t,n,s){switch(Am(t)){case 2:var o=fb;break;case 8:o=db;break;default:o=dc}n=o.bind(null,t,n,e),o=void 0,!yu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Po(e,t,n,s,o){var f=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var v=s.tag;if(v===3||v===4){var _=s.stateNode.containerInfo;if(_===o)break;if(v===4)for(v=s.return;v!==null;){var E=v.tag;if((E===3||E===4)&&v.stateNode.containerInfo===o)return;v=v.return}for(;_!==null;){if(v=Va(_),v===null)return;if(E=v.tag,E===5||E===6||E===26||E===27){s=f=v;continue e}_=_.parentNode}}s=s.return}ad(function(){var R=f,B=pu(n),G=[];e:{var U=Dd.get(e);if(U!==void 0){var H=xs,F=e;switch(e){case"keypress":if(Ts(n)===0)break e;case"keydown":case"keyup":H=Cv;break;case"focusin":F="focus",H=_u;break;case"focusout":F="blur",H=_u;break;case"beforeblur":case"afterblur":H=_u;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=sd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=gv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Rv;break;case Ad:case wd:case Md:H=Sv;break;case Cd:H=zv;break;case"scroll":case"scrollend":H=yv;break;case"wheel":H=kv;break;case"copy":case"cut":case"paste":H=Ev;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ud;break;case"toggle":case"beforetoggle":H=Bv}var ne=(t&4)!==0,Me=!ne&&(e==="scroll"||e==="scrollend"),C=ne?U!==null?U+"Capture":null:U;ne=[];for(var A=R,N;A!==null;){var q=A;if(N=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||N===null||C===null||(q=Wi(A,C),q!=null&&ne.push(Nl(A,q,N))),Me)break;A=A.return}0<ne.length&&(U=new H(U,F,null,n,B),G.push({event:U,listeners:ne}))}}if((t&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",U&&n!==hu&&(F=n.relatedTarget||n.fromElement)&&(Va(F)||F[Ka]))break e;if((H||U)&&(U=B.window===B?B:(U=B.ownerDocument)?U.defaultView||U.parentWindow:window,H?(F=n.relatedTarget||n.toElement,H=R,F=F?Va(F):null,F!==null&&(Me=c(F),ne=F.tag,F!==Me||ne!==5&&ne!==27&&ne!==6)&&(F=null)):(H=null,F=R),H!==F)){if(ne=sd,q="onMouseLeave",C="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(ne=ud,q="onPointerLeave",C="onPointerEnter",A="pointer"),Me=H==null?U:Pi(H),N=F==null?U:Pi(F),U=new ne(q,A+"leave",H,n,B),U.target=Me,U.relatedTarget=N,q=null,Va(B)===R&&(ne=new ne(C,A+"enter",F,n,B),ne.target=N,ne.relatedTarget=Me,q=ne),Me=q,H&&F)t:{for(ne=Hg,C=H,A=F,N=0,q=C;q;q=ne(q))N++;q=0;for(var ee=A;ee;ee=ne(ee))q++;for(;0<N-q;)C=ne(C),N--;for(;0<q-N;)A=ne(A),q--;for(;N--;){if(C===A||A!==null&&C===A.alternate){ne=C;break t}C=ne(C),A=ne(A)}ne=null}else ne=null;H!==null&&Wp(G,U,H,ne,!1),F!==null&&Me!==null&&Wp(G,Me,F,ne,!0)}}e:{if(U=R?Pi(R):window,H=U.nodeName&&U.nodeName.toLowerCase(),H==="select"||H==="input"&&U.type==="file")var _e=yd;else if(pd(U))if(vd)_e=Jv;else{_e=Xv;var P=Vv}else H=U.nodeName,!H||H.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?R&&du(R.elementType)&&(_e=yd):_e=Zv;if(_e&&(_e=_e(e,R))){md(G,_e,n,B);break e}P&&P(e,U,R),e==="focusout"&&R&&U.type==="number"&&R.memoizedProps.value!=null&&fu(U,"number",U.value)}switch(P=R?Pi(R):window,e){case"focusin":(pd(P)||P.contentEditable==="true")&&(ti=P,ju=R,rl=null);break;case"focusout":rl=ju=ti=null;break;case"mousedown":Au=!0;break;case"contextmenu":case"mouseup":case"dragend":Au=!1,Od(G,n,B);break;case"selectionchange":if(Fv)break;case"keydown":case"keyup":Od(G,n,B)}var ue;if(Tu)e:{switch(e){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else ei?dd(e,n)&&(me="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(me="onCompositionStart");me&&(od&&n.locale!=="ko"&&(ei||me!=="onCompositionStart"?me==="onCompositionEnd"&&ei&&(ue=id()):($n=B,vu="value"in $n?$n.value:$n.textContent,ei=!0)),P=pr(R,me),0<P.length&&(me=new rd(me,e,null,n,B),G.push({event:me,listeners:P}),ue?me.data=ue:(ue=hd(n),ue!==null&&(me.data=ue)))),(ue=Yv?Gv(e,n):$v(e,n))&&(me=pr(R,"onBeforeInput"),0<me.length&&(P=new rd("onBeforeInput","beforeinput",null,n,B),G.push({event:P,listeners:me}),P.data=ue)),Ug(G,e,R,n,B)}Fp(G,t)})}function Nl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function pr(e,t){for(var n=t+"Capture",s=[];e!==null;){var o=e,f=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||f===null||(o=Wi(e,n),o!=null&&s.unshift(Nl(e,o,f)),o=Wi(e,t),o!=null&&s.push(Nl(e,o,f))),e.tag===3)return s;e=e.return}return[]}function Hg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wp(e,t,n,s,o){for(var f=t._reactName,v=[];n!==null&&n!==s;){var _=n,E=_.alternate,R=_.stateNode;if(_=_.tag,E!==null&&E===s)break;_!==5&&_!==26&&_!==27||R===null||(E=R,o?(R=Wi(n,f),R!=null&&v.unshift(Nl(n,R,E))):o||(R=Wi(n,f),R!=null&&v.push(Nl(n,R,E)))),n=n.return}v.length!==0&&e.push({event:t,listeners:v})}var Bg=/\r\n?/g,qg=/\u0000|\uFFFD/g;function em(e){return(typeof e=="string"?e:""+e).replace(Bg,`
`).replace(qg,"")}function tm(e,t){return t=em(t),em(e)===t}function we(e,t,n,s,o,f){switch(n){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Fa(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Fa(e,""+s);break;case"className":gs(e,"class",s);break;case"tabIndex":gs(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":gs(e,n,s);break;case"style":td(e,s,f);break;case"data":if(t!=="object"){gs(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=_s(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(n==="formAction"?(t!=="input"&&we(e,t,"name",o.name,o,null),we(e,t,"formEncType",o.formEncType,o,null),we(e,t,"formMethod",o.formMethod,o,null),we(e,t,"formTarget",o.formTarget,o,null)):(we(e,t,"encType",o.encType,o,null),we(e,t,"method",o.method,o,null),we(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=_s(""+s),e.setAttribute(n,s);break;case"onClick":s!=null&&(e.onclick=pn);break;case"onScroll":s!=null&&de("scroll",e);break;case"onScrollEnd":s!=null&&de("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(n=s.__html,n!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}n=_s(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":s===!0?e.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":de("beforetoggle",e),de("toggle",e),vs(e,"popover",s);break;case"xlinkActuate":hn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":hn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":hn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":hn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":hn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":hn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":hn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":hn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":hn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":vs(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=pv.get(n)||n,vs(e,n,s))}}function Wo(e,t,n,s,o,f){switch(n){case"style":td(e,s,f);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(n=s.__html,n!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof s=="string"?Fa(e,s):(typeof s=="number"||typeof s=="bigint")&&Fa(e,""+s);break;case"onScroll":s!=null&&de("scroll",e);break;case"onScrollEnd":s!=null&&de("scrollend",e);break;case"onClick":s!=null&&(e.onclick=pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vf.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),f=e[vt]||null,f=f!=null?f[n]:null,typeof f=="function"&&e.removeEventListener(t,f,o),typeof s=="function")){typeof f!="function"&&f!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,o);break e}n in e?e[n]=s:s===!0?e.setAttribute(n,""):vs(e,n,s)}}}function ot(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":de("error",e),de("load",e);var s=!1,o=!1,f;for(f in n)if(n.hasOwnProperty(f)){var v=n[f];if(v!=null)switch(f){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:we(e,t,f,v,n,null)}}o&&we(e,t,"srcSet",n.srcSet,n,null),s&&we(e,t,"src",n.src,n,null);return;case"input":de("invalid",e);var _=f=v=o=null,E=null,R=null;for(s in n)if(n.hasOwnProperty(s)){var B=n[s];if(B!=null)switch(s){case"name":o=B;break;case"type":v=B;break;case"checked":E=B;break;case"defaultChecked":R=B;break;case"value":f=B;break;case"defaultValue":_=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,t));break;default:we(e,t,s,B,n,null)}}Ff(e,f,_,E,R,v,o,!1);return;case"select":de("invalid",e),s=v=f=null;for(o in n)if(n.hasOwnProperty(o)&&(_=n[o],_!=null))switch(o){case"value":f=_;break;case"defaultValue":v=_;break;case"multiple":s=_;default:we(e,t,o,_,n,null)}t=f,n=v,e.multiple=!!s,t!=null?Ia(e,!!s,t,!1):n!=null&&Ia(e,!!s,n,!0);return;case"textarea":de("invalid",e),f=o=s=null;for(v in n)if(n.hasOwnProperty(v)&&(_=n[v],_!=null))switch(v){case"value":s=_;break;case"defaultValue":o=_;break;case"children":f=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:we(e,t,v,_,n,null)}Wf(e,s,o,f);return;case"option":for(E in n)if(n.hasOwnProperty(E)&&(s=n[E],s!=null))switch(E){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:we(e,t,E,s,n,null)}return;case"dialog":de("beforetoggle",e),de("toggle",e),de("cancel",e),de("close",e);break;case"iframe":case"object":de("load",e);break;case"video":case"audio":for(s=0;s<Dl.length;s++)de(Dl[s],e);break;case"image":de("error",e),de("load",e);break;case"details":de("toggle",e);break;case"embed":case"source":case"link":de("error",e),de("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in n)if(n.hasOwnProperty(R)&&(s=n[R],s!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:we(e,t,R,s,n,null)}return;default:if(du(t)){for(B in n)n.hasOwnProperty(B)&&(s=n[B],s!==void 0&&Wo(e,t,B,s,n,void 0));return}}for(_ in n)n.hasOwnProperty(_)&&(s=n[_],s!=null&&we(e,t,_,s,n,null))}function Yg(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,f=null,v=null,_=null,E=null,R=null,B=null;for(H in n){var G=n[H];if(n.hasOwnProperty(H)&&G!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":E=G;default:s.hasOwnProperty(H)||we(e,t,H,null,s,G)}}for(var U in s){var H=s[U];if(G=n[U],s.hasOwnProperty(U)&&(H!=null||G!=null))switch(U){case"type":f=H;break;case"name":o=H;break;case"checked":R=H;break;case"defaultChecked":B=H;break;case"value":v=H;break;case"defaultValue":_=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,t));break;default:H!==G&&we(e,t,U,H,s,G)}}cu(e,v,_,E,R,B,f,o);return;case"select":H=v=_=U=null;for(f in n)if(E=n[f],n.hasOwnProperty(f)&&E!=null)switch(f){case"value":break;case"multiple":H=E;default:s.hasOwnProperty(f)||we(e,t,f,null,s,E)}for(o in s)if(f=s[o],E=n[o],s.hasOwnProperty(o)&&(f!=null||E!=null))switch(o){case"value":U=f;break;case"defaultValue":_=f;break;case"multiple":v=f;default:f!==E&&we(e,t,o,f,s,E)}t=_,n=v,s=H,U!=null?Ia(e,!!n,U,!1):!!s!=!!n&&(t!=null?Ia(e,!!n,t,!0):Ia(e,!!n,n?[]:"",!1));return;case"textarea":H=U=null;for(_ in n)if(o=n[_],n.hasOwnProperty(_)&&o!=null&&!s.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:we(e,t,_,null,s,o)}for(v in s)if(o=s[v],f=n[v],s.hasOwnProperty(v)&&(o!=null||f!=null))switch(v){case"value":U=o;break;case"defaultValue":H=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==f&&we(e,t,v,o,s,f)}Pf(e,U,H);return;case"option":for(var F in n)if(U=n[F],n.hasOwnProperty(F)&&U!=null&&!s.hasOwnProperty(F))switch(F){case"selected":e.selected=!1;break;default:we(e,t,F,null,s,U)}for(E in s)if(U=s[E],H=n[E],s.hasOwnProperty(E)&&U!==H&&(U!=null||H!=null))switch(E){case"selected":e.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:we(e,t,E,U,s,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ne in n)U=n[ne],n.hasOwnProperty(ne)&&U!=null&&!s.hasOwnProperty(ne)&&we(e,t,ne,null,s,U);for(R in s)if(U=s[R],H=n[R],s.hasOwnProperty(R)&&U!==H&&(U!=null||H!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,t));break;default:we(e,t,R,U,s,H)}return;default:if(du(t)){for(var Me in n)U=n[Me],n.hasOwnProperty(Me)&&U!==void 0&&!s.hasOwnProperty(Me)&&Wo(e,t,Me,void 0,s,U);for(B in s)U=s[B],H=n[B],!s.hasOwnProperty(B)||U===H||U===void 0&&H===void 0||Wo(e,t,B,U,s,H);return}}for(var C in n)U=n[C],n.hasOwnProperty(C)&&U!=null&&!s.hasOwnProperty(C)&&we(e,t,C,null,s,U);for(G in s)U=s[G],H=n[G],!s.hasOwnProperty(G)||U===H||U==null&&H==null||we(e,t,G,U,s,H)}function nm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Gg(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var o=n[s],f=o.transferSize,v=o.initiatorType,_=o.duration;if(f&&_&&nm(v)){for(v=0,_=o.responseEnd,s+=1;s<n.length;s++){var E=n[s],R=E.startTime;if(R>_)break;var B=E.transferSize,G=E.initiatorType;B&&nm(G)&&(E=E.responseEnd,v+=B*(E<_?1:(_-R)/(E-R)))}if(--s,t+=8*(f+v)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ec=null,tc=null;function mr(e){return e.nodeType===9?e:e.ownerDocument}function am(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function im(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function nc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ac=null;function $g(){var e=window.event;return e&&e.type==="popstate"?e===ac?!1:(ac=e,!0):(ac=null,!1)}var lm=typeof setTimeout=="function"?setTimeout:void 0,Qg=typeof clearTimeout=="function"?clearTimeout:void 0,sm=typeof Promise=="function"?Promise:void 0,Kg=typeof queueMicrotask=="function"?queueMicrotask:typeof sm<"u"?function(e){return sm.resolve(null).then(e).catch(Vg)}:lm;function Vg(e){setTimeout(function(){throw e})}function sa(e){return e==="head"}function rm(e,t){var n=t,s=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(s===0){e.removeChild(o),wi(t);return}s--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")s++;else if(n==="html")Rl(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Rl(n);for(var f=n.firstChild;f;){var v=f.nextSibling,_=f.nodeName;f[Fi]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&f.rel.toLowerCase()==="stylesheet"||n.removeChild(f),f=v}}else n==="body"&&Rl(e.ownerDocument.body);n=o}while(n);wi(t)}function um(e,t){var n=e;e=0;do{var s=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=s}while(n)}function ic(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ic(n),uu(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Xg(e,t,n,s){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Fi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Zt(e.nextSibling),e===null)break}return null}function Zg(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Zt(e.nextSibling),e===null))return null;return e}function om(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Zt(e.nextSibling),e===null))return null;return e}function lc(e){return e.data==="$?"||e.data==="$~"}function sc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Jg(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var s=function(){t(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var rc=null;function cm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Zt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function fm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function dm(e,t,n){switch(t=mr(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Rl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);uu(e)}var Jt=new Map,hm=new Set;function yr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Cn=K.d;K.d={f:Ig,r:Fg,D:Pg,C:Wg,L:eb,m:tb,X:ab,S:nb,M:ib};function Ig(){var e=Cn.f(),t=rr();return e||t}function Fg(e){var t=Xa(e);t!==null&&t.tag===5&&t.type==="form"?Ch(t):Cn.r(e)}var Oi=typeof document>"u"?null:document;function pm(e,t,n){var s=Oi;if(s&&typeof t=="string"&&t){var o=Yt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),hm.has(o)||(hm.add(o),e={rel:e,crossOrigin:n,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),ot(t,"link",e),We(t),s.head.appendChild(t)))}}function Pg(e){Cn.D(e),pm("dns-prefetch",e,null)}function Wg(e,t){Cn.C(e,t),pm("preconnect",e,t)}function eb(e,t,n){Cn.L(e,t,n);var s=Oi;if(s&&e&&t){var o='link[rel="preload"][as="'+Yt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Yt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+Yt(n.imageSizes)+'"]')):o+='[href="'+Yt(e)+'"]';var f=o;switch(t){case"style":f=ji(e);break;case"script":f=Ai(e)}Jt.has(f)||(e=g({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Jt.set(f,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(Ul(f))||t==="script"&&s.querySelector(zl(f))||(t=s.createElement("link"),ot(t,"link",e),We(t),s.head.appendChild(t)))}}function tb(e,t){Cn.m(e,t);var n=Oi;if(n&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Yt(s)+'"][href="'+Yt(e)+'"]',f=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ai(e)}if(!Jt.has(f)&&(e=g({rel:"modulepreload",href:e},t),Jt.set(f,e),n.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(zl(f)))return}s=n.createElement("link"),ot(s,"link",e),We(s),n.head.appendChild(s)}}}function nb(e,t,n){Cn.S(e,t,n);var s=Oi;if(s&&e){var o=Za(s).hoistableStyles,f=ji(e);t=t||"default";var v=o.get(f);if(!v){var _={loading:0,preload:null};if(v=s.querySelector(Ul(f)))_.loading=5;else{e=g({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Jt.get(f))&&uc(e,n);var E=v=s.createElement("link");We(E),ot(E,"link",e),E._p=new Promise(function(R,B){E.onload=R,E.onerror=B}),E.addEventListener("load",function(){_.loading|=1}),E.addEventListener("error",function(){_.loading|=2}),_.loading|=4,vr(v,t,s)}v={type:"stylesheet",instance:v,count:1,state:_},o.set(f,v)}}}function ab(e,t){Cn.X(e,t);var n=Oi;if(n&&e){var s=Za(n).hoistableScripts,o=Ai(e),f=s.get(o);f||(f=n.querySelector(zl(o)),f||(e=g({src:e,async:!0},t),(t=Jt.get(o))&&oc(e,t),f=n.createElement("script"),We(f),ot(f,"link",e),n.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},s.set(o,f))}}function ib(e,t){Cn.M(e,t);var n=Oi;if(n&&e){var s=Za(n).hoistableScripts,o=Ai(e),f=s.get(o);f||(f=n.querySelector(zl(o)),f||(e=g({src:e,async:!0,type:"module"},t),(t=Jt.get(o))&&oc(e,t),f=n.createElement("script"),We(f),ot(f,"link",e),n.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},s.set(o,f))}}function mm(e,t,n,s){var o=(o=oe.current)?yr(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ji(n.href),n=Za(o).hoistableStyles,s=n.get(t),s||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ji(n.href);var f=Za(o).hoistableStyles,v=f.get(e);if(v||(o=o.ownerDocument||o,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=o.querySelector(Ul(e)))&&!f._p&&(v.instance=f,v.state.loading=5),Jt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Jt.set(e,n),f||lb(o,e,n,v.state))),t&&s===null)throw Error(r(528,""));return v}if(t&&s!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ai(n),n=Za(o).hoistableScripts,s=n.get(t),s||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ji(e){return'href="'+Yt(e)+'"'}function Ul(e){return'link[rel="stylesheet"]['+e+"]"}function ym(e){return g({},e,{"data-precedence":e.precedence,precedence:null})}function lb(e,t,n,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),ot(t,"link",n),We(t),e.head.appendChild(t))}function Ai(e){return'[src="'+Yt(e)+'"]'}function zl(e){return"script[async]"+e}function vm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Yt(n.href)+'"]');if(s)return t.instance=s,We(s),s;var o=g({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),We(s),ot(s,"style",o),vr(s,n.precedence,e),t.instance=s;case"stylesheet":o=ji(n.href);var f=e.querySelector(Ul(o));if(f)return t.state.loading|=4,t.instance=f,We(f),f;s=ym(n),(o=Jt.get(o))&&uc(s,o),f=(e.ownerDocument||e).createElement("link"),We(f);var v=f;return v._p=new Promise(function(_,E){v.onload=_,v.onerror=E}),ot(f,"link",s),t.state.loading|=4,vr(f,n.precedence,e),t.instance=f;case"script":return f=Ai(n.src),(o=e.querySelector(zl(f)))?(t.instance=o,We(o),o):(s=n,(o=Jt.get(f))&&(s=g({},n),oc(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),We(o),ot(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,vr(s,n.precedence,e));return t.instance}function vr(e,t,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,f=o,v=0;v<s.length;v++){var _=s[v];if(_.dataset.precedence===t)f=_;else if(f!==o)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function uc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function oc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var gr=null;function gm(e,t,n){if(gr===null){var s=new Map,o=gr=new Map;o.set(n,s)}else o=gr,s=o.get(n),s||(s=new Map,o.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var f=n[o];if(!(f[Fi]||f[lt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(t)||"";v=e+v;var _=s.get(v);_?_.push(f):s.set(v,[f])}}return s}function bm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function sb(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function _m(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function rb(e,t,n,s){if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=ji(s.href),f=t.querySelector(Ul(o));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=br.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=f,We(f);return}f=t.ownerDocument||t,s=ym(s),(o=Jt.get(o))&&uc(s,o),f=f.createElement("link"),We(f);var v=f;v._p=new Promise(function(_,E){v.onload=_,v.onerror=E}),ot(f,"link",s),n.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=br.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var cc=0;function ub(e,t){return e.stylesheets&&e.count===0&&Sr(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var s=setTimeout(function(){if(e.stylesheets&&Sr(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&cc===0&&(cc=62500*Gg());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Sr(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>cc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(o)}}:null}function br(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _r=null;function Sr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_r=new Map,t.forEach(ob,e),_r=null,br.call(e))}function ob(e,t){if(!(t.state.loading&4)){var n=_r.get(e);if(n)var s=n.get(null);else{n=new Map,_r.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<o.length;f++){var v=o[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(n.set(v.dataset.precedence,v),s=v)}s&&n.set(null,s)}o=t.instance,v=o.getAttribute("data-precedence"),f=n.get(v)||s,f===s&&n.set(null,o),n.set(v,o),this.count++,s=br.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),f?f.parentNode.insertBefore(o,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Ll={$$typeof:$,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function cb(e,t,n,s,o,f,v,_,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=iu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=iu(0),this.hiddenUpdates=iu(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Sm(e,t,n,s,o,f,v,_,E,R,B,G){return e=new cb(e,t,n,v,E,R,B,G,_),t=1,f===!0&&(t|=24),f=Nt(3,null,null,t),e.current=f,f.stateNode=e,t=Gu(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:s,isDehydrated:n,cache:t},Vu(f),e}function Tm(e){return e?(e=ii,e):ii}function Em(e,t,n,s,o,f){o=Tm(o),s.context===null?s.context=o:s.pendingContext=o,s=Jn(t),s.payload={element:n},f=f===void 0?null:f,f!==null&&(s.callback=f),n=In(e,s,t),n!==null&&(Et(n,e,t),pl(n,e,t))}function xm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function fc(e,t){xm(e,t),(e=e.alternate)&&xm(e,t)}function Om(e){if(e.tag===13||e.tag===31){var t=xa(e,67108864);t!==null&&Et(t,e,67108864),fc(e,67108864)}}function jm(e){if(e.tag===13||e.tag===31){var t=kt();t=lu(t);var n=xa(e,t);n!==null&&Et(n,e,t),fc(e,t)}}var Tr=!0;function fb(e,t,n,s){var o=k.T;k.T=null;var f=K.p;try{K.p=2,dc(e,t,n,s)}finally{K.p=f,k.T=o}}function db(e,t,n,s){var o=k.T;k.T=null;var f=K.p;try{K.p=8,dc(e,t,n,s)}finally{K.p=f,k.T=o}}function dc(e,t,n,s){if(Tr){var o=hc(s);if(o===null)Po(e,t,s,Er,n),wm(e,s);else if(pb(o,e,t,n,s))s.stopPropagation();else if(wm(e,s),t&4&&-1<hb.indexOf(e)){for(;o!==null;){var f=Xa(o);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=ba(f.pendingLanes);if(v!==0){var _=f;for(_.pendingLanes|=2,_.entangledLanes|=2;v;){var E=1<<31-Ct(v);_.entanglements[1]|=E,v&=~E}on(f),(Ee&6)===0&&(lr=wt()+500,Cl(0))}}break;case 31:case 13:_=xa(f,2),_!==null&&Et(_,f,2),rr(),fc(f,2)}if(f=hc(s),f===null&&Po(e,t,s,Er,n),f===o)break;o=f}o!==null&&s.stopPropagation()}else Po(e,t,s,null,n)}}function hc(e){return e=pu(e),pc(e)}var Er=null;function pc(e){if(Er=null,e=Va(e),e!==null){var t=c(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=d(t),e!==null)return e;e=null}else if(n===31){if(e=h(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Er=e,null}function Am(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Py()){case zf:return 2;case Lf:return 8;case ds:case Wy:return 32;case kf:return 268435456;default:return 32}default:return 32}}var mc=!1,ra=null,ua=null,oa=null,kl=new Map,Hl=new Map,ca=[],hb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wm(e,t){switch(e){case"focusin":case"focusout":ra=null;break;case"dragenter":case"dragleave":ua=null;break;case"mouseover":case"mouseout":oa=null;break;case"pointerover":case"pointerout":kl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(t.pointerId)}}function Bl(e,t,n,s,o,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:f,targetContainers:[o]},t!==null&&(t=Xa(t),t!==null&&Om(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function pb(e,t,n,s,o){switch(t){case"focusin":return ra=Bl(ra,e,t,n,s,o),!0;case"dragenter":return ua=Bl(ua,e,t,n,s,o),!0;case"mouseover":return oa=Bl(oa,e,t,n,s,o),!0;case"pointerover":var f=o.pointerId;return kl.set(f,Bl(kl.get(f)||null,e,t,n,s,o)),!0;case"gotpointercapture":return f=o.pointerId,Hl.set(f,Bl(Hl.get(f)||null,e,t,n,s,o)),!0}return!1}function Mm(e){var t=Va(e.target);if(t!==null){var n=c(t);if(n!==null){if(t=n.tag,t===13){if(t=d(n),t!==null){e.blockedOn=t,$f(e.priority,function(){jm(n)});return}}else if(t===31){if(t=h(n),t!==null){e.blockedOn=t,$f(e.priority,function(){jm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=hc(e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);hu=s,n.target.dispatchEvent(s),hu=null}else return t=Xa(n),t!==null&&Om(t),e.blockedOn=n,!1;t.shift()}return!0}function Cm(e,t,n){xr(e)&&n.delete(t)}function mb(){mc=!1,ra!==null&&xr(ra)&&(ra=null),ua!==null&&xr(ua)&&(ua=null),oa!==null&&xr(oa)&&(oa=null),kl.forEach(Cm),Hl.forEach(Cm)}function Or(e,t){e.blockedOn===t&&(e.blockedOn=null,mc||(mc=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,mb)))}var jr=null;function Dm(e){jr!==e&&(jr=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){jr===e&&(jr=null);for(var t=0;t<e.length;t+=3){var n=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(pc(s||n)===null)continue;break}var f=Xa(n);f!==null&&(e.splice(t,3),t-=3,ho(f,{pending:!0,data:o,method:n.method,action:s},s,o))}}))}function wi(e){function t(E){return Or(E,e)}ra!==null&&Or(ra,e),ua!==null&&Or(ua,e),oa!==null&&Or(oa,e),kl.forEach(t),Hl.forEach(t);for(var n=0;n<ca.length;n++){var s=ca[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<ca.length&&(n=ca[0],n.blockedOn===null);)Mm(n),n.blockedOn===null&&ca.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var o=n[s],f=n[s+1],v=o[vt]||null;if(typeof f=="function")v||Dm(n);else if(v){var _=null;if(f&&f.hasAttribute("formAction")){if(o=f,v=f[vt]||null)_=v.formAction;else if(pc(o)!==null)continue}else _=v.action;typeof _=="function"?n[s+1]=_:(n.splice(s,3),s-=3),Dm(n)}}}function Nm(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return o=v})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function yc(e){this._internalRoot=e}Ar.prototype.render=yc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,s=kt();Em(n,s,e,t,null,null)},Ar.prototype.unmount=yc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Em(e.current,2,null,e,null,null),rr(),t[Ka]=null}};function Ar(e){this._internalRoot=e}Ar.prototype.unstable_scheduleHydration=function(e){if(e){var t=Gf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ca.length&&t!==0&&t<ca[n].priority;n++);ca.splice(n,0,e),n===0&&Mm(e)}};var Rm=i.version;if(Rm!=="19.2.0")throw Error(r(527,Rm,"19.2.0"));K.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var yb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wr.isDisabled&&wr.supportsFiber)try{Zi=wr.inject(yb),Mt=wr}catch{}}return Yl.createRoot=function(e,t){if(!u(e))throw Error(r(299));var n=!1,s="",o=qh,f=Yh,v=Gh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(v=t.onRecoverableError)),t=Sm(e,1,!1,null,null,n,s,null,o,f,v,Nm),e[Ka]=t.current,Fo(e),new yc(t)},Yl.hydrateRoot=function(e,t,n){if(!u(e))throw Error(r(299));var s=!1,o="",f=qh,v=Yh,_=Gh,E=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(v=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.formState!==void 0&&(E=n.formState)),t=Sm(e,1,!0,t,n??null,s,o,E,f,v,_,Nm),t.context=Tm(null),n=t.current,s=kt(),s=lu(s),o=Jn(s),o.callback=null,In(n,o,s),n=s,t.current.lanes=n,Ii(t,n),on(t),e[Ka]=t.current,Fo(e),new Ar(t)},Yl.version="19.2.0",Yl}var $m;function jb(){if($m)return bc.exports;$m=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(i){console.error(i)}}return a(),bc.exports=Ob(),bc.exports}var Ab=jb();var Qm="popstate";function wb(a={}){function i(r,u){let{pathname:c,search:d,hash:h}=r.location;return Rc("",{pathname:c,search:d,hash:h},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function l(r,u){return typeof u=="string"?u:as(u)}return Cb(i,l,null,a)}function ke(a,i){if(a===!1||a===null||typeof a>"u")throw new Error(i)}function Ft(a,i){if(!a){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function Mb(){return Math.random().toString(36).substring(2,10)}function Km(a,i){return{usr:a.state,key:a.key,idx:i}}function Rc(a,i,l=null,r){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof i=="string"?qi(i):i,state:l,key:i&&i.key||r||Mb()}}function as({pathname:a="/",search:i="",hash:l=""}){return i&&i!=="?"&&(a+=i.charAt(0)==="?"?i:"?"+i),l&&l!=="#"&&(a+=l.charAt(0)==="#"?l:"#"+l),a}function qi(a){let i={};if(a){let l=a.indexOf("#");l>=0&&(i.hash=a.substring(l),a=a.substring(0,l));let r=a.indexOf("?");r>=0&&(i.search=a.substring(r),a=a.substring(0,r)),a&&(i.pathname=a)}return i}function Cb(a,i,l,r={}){let{window:u=document.defaultView,v5Compat:c=!1}=r,d=u.history,h="POP",m=null,p=y();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function y(){return(d.state||{idx:null}).idx}function g(){h="POP";let O=y(),M=O==null?null:O-p;p=O,m&&m({action:h,location:x.location,delta:M})}function S(O,M){h="PUSH";let z=Rc(x.location,O,M);p=y()+1;let $=Km(z,p),I=x.createHref(z);try{d.pushState($,"",I)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;u.location.assign(I)}c&&m&&m({action:h,location:x.location,delta:1})}function T(O,M){h="REPLACE";let z=Rc(x.location,O,M);p=y();let $=Km(z,p),I=x.createHref(z);d.replaceState($,"",I),c&&m&&m({action:h,location:x.location,delta:0})}function j(O){return Db(O)}let x={get action(){return h},get location(){return a(u,d)},listen(O){if(m)throw new Error("A history only accepts one active listener");return u.addEventListener(Qm,g),m=O,()=>{u.removeEventListener(Qm,g),m=null}},createHref(O){return i(u,O)},createURL:j,encodeLocation(O){let M=j(O);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:S,replace:T,go(O){return d.go(O)}};return x}function Db(a,i=!1){let l="http://localhost";typeof window<"u"&&(l=window.location.origin!=="null"?window.location.origin:window.location.href),ke(l,"No window.location.(origin|href) available to create URL");let r=typeof a=="string"?a:as(a);return r=r.replace(/ $/,"%20"),!i&&r.startsWith("//")&&(r=l+r),new URL(r,l)}function q0(a,i,l="/"){return Nb(a,i,l,!1)}function Nb(a,i,l,r){let u=typeof i=="string"?qi(i):i,c=Hn(u.pathname||"/",l);if(c==null)return null;let d=Y0(a);Rb(d);let h=null;for(let m=0;h==null&&m<d.length;++m){let p=Qb(c);h=Gb(d[m],p,r)}return h}function Y0(a,i=[],l=[],r="",u=!1){let c=(d,h,m=u,p)=>{let y={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:h,route:d};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&m)return;ke(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let g=Ln([r,y.relativePath]),S=l.concat(y);d.children&&d.children.length>0&&(ke(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Y0(d.children,i,S,g,m)),!(d.path==null&&!d.index)&&i.push({path:g,score:qb(g,d.index),routesMeta:S})};return a.forEach((d,h)=>{if(d.path===""||!d.path?.includes("?"))c(d,h);else for(let m of G0(d.path))c(d,h,!0,m)}),i}function G0(a){let i=a.split("/");if(i.length===0)return[];let[l,...r]=i,u=l.endsWith("?"),c=l.replace(/\?$/,"");if(r.length===0)return u?[c,""]:[c];let d=G0(r.join("/")),h=[];return h.push(...d.map(m=>m===""?c:[c,m].join("/"))),u&&h.push(...d),h.map(m=>a.startsWith("/")&&m===""?"/":m)}function Rb(a){a.sort((i,l)=>i.score!==l.score?l.score-i.score:Yb(i.routesMeta.map(r=>r.childrenIndex),l.routesMeta.map(r=>r.childrenIndex)))}var Ub=/^:[\w-]+$/,zb=3,Lb=2,kb=1,Hb=10,Bb=-2,Vm=a=>a==="*";function qb(a,i){let l=a.split("/"),r=l.length;return l.some(Vm)&&(r+=Bb),i&&(r+=Lb),l.filter(u=>!Vm(u)).reduce((u,c)=>u+(Ub.test(c)?zb:c===""?kb:Hb),r)}function Yb(a,i){return a.length===i.length&&a.slice(0,-1).every((r,u)=>r===i[u])?a[a.length-1]-i[i.length-1]:0}function Gb(a,i,l=!1){let{routesMeta:r}=a,u={},c="/",d=[];for(let h=0;h<r.length;++h){let m=r[h],p=h===r.length-1,y=c==="/"?i:i.slice(c.length)||"/",g=Yr({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),S=m.route;if(!g&&p&&l&&!r[r.length-1].route.index&&(g=Yr({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!g)return null;Object.assign(u,g.params),d.push({params:u,pathname:Ln([c,g.pathname]),pathnameBase:Jb(Ln([c,g.pathnameBase])),route:S}),g.pathnameBase!=="/"&&(c=Ln([c,g.pathnameBase]))}return d}function Yr(a,i){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[l,r]=$b(a.path,a.caseSensitive,a.end),u=i.match(l);if(!u)return null;let c=u[0],d=c.replace(/(.)\/+$/,"$1"),h=u.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:g},S)=>{if(y==="*"){let j=h[S]||"";d=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const T=h[S];return g&&!T?p[y]=void 0:p[y]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:d,pattern:a}}function $b(a,i=!1,l=!0){Ft(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let r=[],u="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,m)=>(r.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(r.push({paramName:"*"}),u+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?u+="\\/*$":a!==""&&a!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,i?void 0:"i"),r]}function Qb(a){try{return a.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return Ft(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),a}}function Hn(a,i){if(i==="/")return a;if(!a.toLowerCase().startsWith(i.toLowerCase()))return null;let l=i.endsWith("/")?i.length-1:i.length,r=a.charAt(l);return r&&r!=="/"?null:a.slice(l)||"/"}var Kb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vb=a=>Kb.test(a);function Xb(a,i="/"){let{pathname:l,search:r="",hash:u=""}=typeof a=="string"?qi(a):a,c;if(l)if(Vb(l))c=l;else{if(l.includes("//")){let d=l;l=l.replace(/\/\/+/g,"/"),Ft(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${l}`)}l.startsWith("/")?c=Xm(l.substring(1),"/"):c=Xm(l,i)}else c=i;return{pathname:c,search:Ib(r),hash:Fb(u)}}function Xm(a,i){let l=i.replace(/\/+$/,"").split("/");return a.split("/").forEach(u=>{u===".."?l.length>1&&l.pop():u!=="."&&l.push(u)}),l.length>1?l.join("/"):"/"}function Ec(a,i,l,r){return`Cannot include a '${a}' character in a manually specified \`to.${i}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Zb(a){return a.filter((i,l)=>l===0||i.route.path&&i.route.path.length>0)}function $0(a){let i=Zb(a);return i.map((l,r)=>r===i.length-1?l.pathname:l.pathnameBase)}function Q0(a,i,l,r=!1){let u;typeof a=="string"?u=qi(a):(u={...a},ke(!u.pathname||!u.pathname.includes("?"),Ec("?","pathname","search",u)),ke(!u.pathname||!u.pathname.includes("#"),Ec("#","pathname","hash",u)),ke(!u.search||!u.search.includes("#"),Ec("#","search","hash",u)));let c=a===""||u.pathname==="",d=c?"/":u.pathname,h;if(d==null)h=l;else{let g=i.length-1;if(!r&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),g-=1;u.pathname=S.join("/")}h=g>=0?i[g]:"/"}let m=Xb(u,h),p=d&&d!=="/"&&d.endsWith("/"),y=(c||d===".")&&l.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Ln=a=>a.join("/").replace(/\/\/+/g,"/"),Jb=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),Ib=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,Fb=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function Pb(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var K0=["POST","PUT","PATCH","DELETE"];new Set(K0);var Wb=["GET",...K0];new Set(Wb);var Yi=D.createContext(null);Yi.displayName="DataRouter";var Jr=D.createContext(null);Jr.displayName="DataRouterState";D.createContext(!1);var V0=D.createContext({isTransitioning:!1});V0.displayName="ViewTransition";var e_=D.createContext(new Map);e_.displayName="Fetchers";var t_=D.createContext(null);t_.displayName="Await";var dn=D.createContext(null);dn.displayName="Navigation";var ls=D.createContext(null);ls.displayName="Location";var qn=D.createContext({outlet:null,matches:[],isDataRoute:!1});qn.displayName="Route";var df=D.createContext(null);df.displayName="RouteError";function n_(a,{relative:i}={}){ke(ss(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:r}=D.useContext(dn),{hash:u,pathname:c,search:d}=rs(a,{relative:i}),h=c;return l!=="/"&&(h=c==="/"?l:Ln([l,c])),r.createHref({pathname:h,search:d,hash:u})}function ss(){return D.useContext(ls)!=null}function ya(){return ke(ss(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(ls).location}var X0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Z0(a){D.useContext(dn).static||D.useLayoutEffect(a)}function Ir(){let{isDataRoute:a}=D.useContext(qn);return a?m_():a_()}function a_(){ke(ss(),"useNavigate() may be used only in the context of a <Router> component.");let a=D.useContext(Yi),{basename:i,navigator:l}=D.useContext(dn),{matches:r}=D.useContext(qn),{pathname:u}=ya(),c=JSON.stringify($0(r)),d=D.useRef(!1);return Z0(()=>{d.current=!0}),D.useCallback((m,p={})=>{if(Ft(d.current,X0),!d.current)return;if(typeof m=="number"){l.go(m);return}let y=Q0(m,JSON.parse(c),u,p.relative==="path");a==null&&i!=="/"&&(y.pathname=y.pathname==="/"?i:Ln([i,y.pathname])),(p.replace?l.replace:l.push)(y,p.state,p)},[i,l,c,u,a])}D.createContext(null);function rs(a,{relative:i}={}){let{matches:l}=D.useContext(qn),{pathname:r}=ya(),u=JSON.stringify($0(l));return D.useMemo(()=>Q0(a,JSON.parse(u),r,i==="path"),[a,u,r,i])}function i_(a,i){return J0(a,i)}function J0(a,i,l,r,u){ke(ss(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=D.useContext(dn),{matches:d}=D.useContext(qn),h=d[d.length-1],m=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",g=h&&h.route;{let z=g&&g.path||"";I0(p,!g||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let S=ya(),T;if(i){let z=typeof i=="string"?qi(i):i;ke(y==="/"||z.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${z.pathname}" was given in the \`location\` prop.`),T=z}else T=S;let j=T.pathname||"/",x=j;if(y!=="/"){let z=y.replace(/^\//,"").split("/");x="/"+j.replace(/^\//,"").split("/").slice(z.length).join("/")}let O=q0(a,{pathname:x});Ft(g||O!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Ft(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=o_(O&&O.map(z=>Object.assign({},z,{params:Object.assign({},m,z.params),pathname:Ln([y,c.encodeLocation?c.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?y:Ln([y,c.encodeLocation?c.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),d,l,r,u);return i&&M?D.createElement(ls.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},M):M}function l_(){let a=p_(),i=Pb(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),l=a instanceof Error?a.stack:null,r="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:c},"ErrorBoundary")," or"," ",D.createElement("code",{style:c},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},i),l?D.createElement("pre",{style:u},l):null,d)}var s_=D.createElement(l_,null),r_=class extends D.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,i){return i.location!==a.location||i.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:i.error,location:i.location,revalidation:a.revalidation||i.revalidation}}componentDidCatch(a,i){this.props.onError?this.props.onError(a,i):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?D.createElement(qn.Provider,{value:this.props.routeContext},D.createElement(df.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function u_({routeContext:a,match:i,children:l}){let r=D.useContext(Yi);return r&&r.static&&r.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=i.route.id),D.createElement(qn.Provider,{value:a},l)}function o_(a,i=[],l=null,r=null,u=null){if(a==null){if(!l)return null;if(l.errors)a=l.matches;else if(i.length===0&&!l.initialized&&l.matches.length>0)a=l.matches;else return null}let c=a,d=l?.errors;if(d!=null){let y=c.findIndex(g=>g.route.id&&d?.[g.route.id]!==void 0);ke(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let h=!1,m=-1;if(l)for(let y=0;y<c.length;y++){let g=c[y];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=y),g.route.id){let{loaderData:S,errors:T}=l,j=g.route.loader&&!S.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||j){h=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}let p=l&&r?(y,g)=>{r(y,{location:l.location,params:l.matches?.[0]?.params??{},errorInfo:g})}:void 0;return c.reduceRight((y,g,S)=>{let T,j=!1,x=null,O=null;l&&(T=d&&g.route.id?d[g.route.id]:void 0,x=g.route.errorElement||s_,h&&(m<0&&S===0?(I0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,O=null):m===S&&(j=!0,O=g.route.hydrateFallbackElement||null)));let M=i.concat(c.slice(0,S+1)),z=()=>{let $;return T?$=x:j?$=O:g.route.Component?$=D.createElement(g.route.Component,null):g.route.element?$=g.route.element:$=y,D.createElement(u_,{match:g,routeContext:{outlet:y,matches:M,isDataRoute:l!=null},children:$})};return l&&(g.route.ErrorBoundary||g.route.errorElement||S===0)?D.createElement(r_,{location:l.location,revalidation:l.revalidation,component:x,error:T,children:z(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:p}):z()},null)}function hf(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function c_(a){let i=D.useContext(Yi);return ke(i,hf(a)),i}function f_(a){let i=D.useContext(Jr);return ke(i,hf(a)),i}function d_(a){let i=D.useContext(qn);return ke(i,hf(a)),i}function pf(a){let i=d_(a),l=i.matches[i.matches.length-1];return ke(l.route.id,`${a} can only be used on routes that contain a unique "id"`),l.route.id}function h_(){return pf("useRouteId")}function p_(){let a=D.useContext(df),i=f_("useRouteError"),l=pf("useRouteError");return a!==void 0?a:i.errors?.[l]}function m_(){let{router:a}=c_("useNavigate"),i=pf("useNavigate"),l=D.useRef(!1);return Z0(()=>{l.current=!0}),D.useCallback(async(u,c={})=>{Ft(l.current,X0),l.current&&(typeof u=="number"?a.navigate(u):await a.navigate(u,{fromRouteId:i,...c}))},[a,i])}var Zm={};function I0(a,i,l){!i&&!Zm[a]&&(Zm[a]=!0,Ft(!1,l))}D.memo(y_);function y_({routes:a,future:i,state:l,unstable_onError:r}){return J0(a,void 0,l,r,i)}function Mi(a){ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function v_({basename:a="/",children:i=null,location:l,navigationType:r="POP",navigator:u,static:c=!1}){ke(!ss(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),h=D.useMemo(()=>({basename:d,navigator:u,static:c,future:{}}),[d,u,c]);typeof l=="string"&&(l=qi(l));let{pathname:m="/",search:p="",hash:y="",state:g=null,key:S="default"}=l,T=D.useMemo(()=>{let j=Hn(m,d);return j==null?null:{location:{pathname:j,search:p,hash:y,state:g,key:S},navigationType:r}},[d,m,p,y,g,S,r]);return Ft(T!=null,`<Router basename="${d}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:D.createElement(dn.Provider,{value:h},D.createElement(ls.Provider,{children:i,value:T}))}function g_({children:a,location:i}){return i_(Uc(a),i)}function Uc(a,i=[]){let l=[];return D.Children.forEach(a,(r,u)=>{if(!D.isValidElement(r))return;let c=[...i,u];if(r.type===D.Fragment){l.push.apply(l,Uc(r.props.children,c));return}ke(r.type===Mi,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ke(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=Uc(r.props.children,c)),l.push(d)}),l}var Ur="get",zr="application/x-www-form-urlencoded";function Fr(a){return a!=null&&typeof a.tagName=="string"}function b_(a){return Fr(a)&&a.tagName.toLowerCase()==="button"}function __(a){return Fr(a)&&a.tagName.toLowerCase()==="form"}function S_(a){return Fr(a)&&a.tagName.toLowerCase()==="input"}function T_(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function E_(a,i){return a.button===0&&(!i||i==="_self")&&!T_(a)}function zc(a=""){return new URLSearchParams(typeof a=="string"||Array.isArray(a)||a instanceof URLSearchParams?a:Object.keys(a).reduce((i,l)=>{let r=a[l];return i.concat(Array.isArray(r)?r.map(u=>[l,u]):[[l,r]])},[]))}function x_(a,i){let l=zc(a);return i&&i.forEach((r,u)=>{l.has(u)||i.getAll(u).forEach(c=>{l.append(u,c)})}),l}var Mr=null;function O_(){if(Mr===null)try{new FormData(document.createElement("form"),0),Mr=!1}catch{Mr=!0}return Mr}var j_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xc(a){return a!=null&&!j_.has(a)?(Ft(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zr}"`),null):a}function A_(a,i){let l,r,u,c,d;if(__(a)){let h=a.getAttribute("action");r=h?Hn(h,i):null,l=a.getAttribute("method")||Ur,u=xc(a.getAttribute("enctype"))||zr,c=new FormData(a)}else if(b_(a)||S_(a)&&(a.type==="submit"||a.type==="image")){let h=a.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=a.getAttribute("formaction")||h.getAttribute("action");if(r=m?Hn(m,i):null,l=a.getAttribute("formmethod")||h.getAttribute("method")||Ur,u=xc(a.getAttribute("formenctype"))||xc(h.getAttribute("enctype"))||zr,c=new FormData(h,a),!O_()){let{name:p,type:y,value:g}=a;if(y==="image"){let S=p?`${p}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else p&&c.append(p,g)}}else{if(Fr(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=Ur,r=null,u=zr,d=a}return c&&u==="text/plain"&&(d=c,c=void 0),{action:r,method:l.toLowerCase(),encType:u,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function mf(a,i){if(a===!1||a===null||typeof a>"u")throw new Error(i)}function w_(a,i,l){let r=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return r.pathname==="/"?r.pathname=`_root.${l}`:i&&Hn(r.pathname,i)==="/"?r.pathname=`${i.replace(/\/$/,"")}/_root.${l}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${l}`,r}async function M_(a,i){if(a.id in i)return i[a.id];try{let l=await import(a.module);return i[a.id]=l,l}catch(l){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function C_(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function D_(a,i,l){let r=await Promise.all(a.map(async u=>{let c=i.routes[u.route.id];if(c){let d=await M_(c,l);return d.links?d.links():[]}return[]}));return z_(r.flat(1).filter(C_).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function Jm(a,i,l,r,u,c){let d=(m,p)=>l[p]?m.route.id!==l[p].route.id:!0,h=(m,p)=>l[p].pathname!==m.pathname||l[p].route.path?.endsWith("*")&&l[p].params["*"]!==m.params["*"];return c==="assets"?i.filter((m,p)=>d(m,p)||h(m,p)):c==="data"?i.filter((m,p)=>{let y=r.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(d(m,p)||h(m,p))return!0;if(m.route.shouldRevalidate){let g=m.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:l[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function N_(a,i,{includeHydrateFallback:l}={}){return R_(a.map(r=>{let u=i.routes[r.route.id];if(!u)return[];let c=[u.module];return u.clientActionModule&&(c=c.concat(u.clientActionModule)),u.clientLoaderModule&&(c=c.concat(u.clientLoaderModule)),l&&u.hydrateFallbackModule&&(c=c.concat(u.hydrateFallbackModule)),u.imports&&(c=c.concat(u.imports)),c}).flat(1))}function R_(a){return[...new Set(a)]}function U_(a){let i={},l=Object.keys(a).sort();for(let r of l)i[r]=a[r];return i}function z_(a,i){let l=new Set;return new Set(i),a.reduce((r,u)=>{let c=JSON.stringify(U_(u));return l.has(c)||(l.add(c),r.push({key:c,link:u})),r},[])}function F0(){let a=D.useContext(Yi);return mf(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function L_(){let a=D.useContext(Jr);return mf(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var yf=D.createContext(void 0);yf.displayName="FrameworkContext";function P0(){let a=D.useContext(yf);return mf(a,"You must render this element inside a <HydratedRouter> element"),a}function k_(a,i){let l=D.useContext(yf),[r,u]=D.useState(!1),[c,d]=D.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:g}=i,S=D.useRef(null);D.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let x=M=>{M.forEach(z=>{d(z.isIntersecting)})},O=new IntersectionObserver(x,{threshold:.5});return S.current&&O.observe(S.current),()=>{O.disconnect()}}},[a]),D.useEffect(()=>{if(r){let x=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(x)}}},[r]);let T=()=>{u(!0)},j=()=>{u(!1),d(!1)};return l?a!=="intent"?[c,S,{}]:[c,S,{onFocus:Gl(h,T),onBlur:Gl(m,j),onMouseEnter:Gl(p,T),onMouseLeave:Gl(y,j),onTouchStart:Gl(g,T)}]:[!1,S,{}]}function Gl(a,i){return l=>{a&&a(l),l.defaultPrevented||i(l)}}function H_({page:a,...i}){let{router:l}=F0(),r=D.useMemo(()=>q0(l.routes,a,l.basename),[l.routes,a,l.basename]);return r?D.createElement(q_,{page:a,matches:r,...i}):null}function B_(a){let{manifest:i,routeModules:l}=P0(),[r,u]=D.useState([]);return D.useEffect(()=>{let c=!1;return D_(a,i,l).then(d=>{c||u(d)}),()=>{c=!0}},[a,i,l]),r}function q_({page:a,matches:i,...l}){let r=ya(),{manifest:u,routeModules:c}=P0(),{basename:d}=F0(),{loaderData:h,matches:m}=L_(),p=D.useMemo(()=>Jm(a,i,m,u,r,"data"),[a,i,m,u,r]),y=D.useMemo(()=>Jm(a,i,m,u,r,"assets"),[a,i,m,u,r]),g=D.useMemo(()=>{if(a===r.pathname+r.search+r.hash)return[];let j=new Set,x=!1;if(i.forEach(M=>{let z=u.routes[M.route.id];!z||!z.hasLoader||(!p.some($=>$.route.id===M.route.id)&&M.route.id in h&&c[M.route.id]?.shouldRevalidate||z.hasClientLoader?x=!0:j.add(M.route.id))}),j.size===0)return[];let O=w_(a,d,"data");return x&&j.size>0&&O.searchParams.set("_routes",i.filter(M=>j.has(M.route.id)).map(M=>M.route.id).join(",")),[O.pathname+O.search]},[d,h,r,u,p,i,a,c]),S=D.useMemo(()=>N_(y,u),[y,u]),T=B_(y);return D.createElement(D.Fragment,null,g.map(j=>D.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...l})),S.map(j=>D.createElement("link",{key:j,rel:"modulepreload",href:j,...l})),T.map(({key:j,link:x})=>D.createElement("link",{key:j,nonce:l.nonce,...x})))}function Y_(...a){return i=>{a.forEach(l=>{typeof l=="function"?l(i):l!=null&&(l.current=i)})}}var W0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{W0&&(window.__reactRouterVersion="7.9.6")}catch{}function G_({basename:a,children:i,window:l}){let r=D.useRef();r.current==null&&(r.current=wb({window:l,v5Compat:!0}));let u=r.current,[c,d]=D.useState({action:u.action,location:u.location}),h=D.useCallback(m=>{D.startTransition(()=>d(m))},[d]);return D.useLayoutEffect(()=>u.listen(h),[u,h]),D.createElement(v_,{basename:a,children:i,location:c.location,navigationType:c.action,navigator:u})}var ey=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ty=D.forwardRef(function({onClick:i,discover:l="render",prefetch:r="none",relative:u,reloadDocument:c,replace:d,state:h,target:m,to:p,preventScrollReset:y,viewTransition:g,...S},T){let{basename:j}=D.useContext(dn),x=typeof p=="string"&&ey.test(p),O,M=!1;if(typeof p=="string"&&x&&(O=p,W0))try{let ge=new URL(window.location.href),Ye=p.startsWith("//")?new URL(ge.protocol+p):new URL(p),Q=Hn(Ye.pathname,j);Ye.origin===ge.origin&&Q!=null?p=Q+Ye.search+Ye.hash:M=!0}catch{Ft(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=n_(p,{relative:u}),[$,I,X]=k_(r,S),W=K_(p,{replace:d,state:h,target:m,preventScrollReset:y,relative:u,viewTransition:g});function Z(ge){i&&i(ge),ge.defaultPrevented||W(ge)}let le=D.createElement("a",{...S,...X,href:O||z,onClick:M||c?i:Z,ref:Y_(T,I),target:m,"data-discover":!x&&l==="render"?"true":void 0});return $&&!x?D.createElement(D.Fragment,null,le,D.createElement(H_,{page:z})):le});ty.displayName="Link";var ny=D.forwardRef(function({"aria-current":i="page",caseSensitive:l=!1,className:r="",end:u=!1,style:c,to:d,viewTransition:h,children:m,...p},y){let g=rs(d,{relative:p.relative}),S=ya(),T=D.useContext(Jr),{navigator:j,basename:x}=D.useContext(dn),O=T!=null&&F_(g)&&h===!0,M=j.encodeLocation?j.encodeLocation(g).pathname:g.pathname,z=S.pathname,$=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;l||(z=z.toLowerCase(),$=$?$.toLowerCase():null,M=M.toLowerCase()),$&&x&&($=Hn($,x)||$);const I=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let X=z===M||!u&&z.startsWith(M)&&z.charAt(I)==="/",W=$!=null&&($===M||!u&&$.startsWith(M)&&$.charAt(M.length)==="/"),Z={isActive:X,isPending:W,isTransitioning:O},le=X?i:void 0,ge;typeof r=="function"?ge=r(Z):ge=[r,X?"active":null,W?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let Ye=typeof c=="function"?c(Z):c;return D.createElement(ty,{...p,"aria-current":le,className:ge,ref:y,style:Ye,to:d,viewTransition:h},typeof m=="function"?m(Z):m)});ny.displayName="NavLink";var $_=D.forwardRef(({discover:a="render",fetcherKey:i,navigate:l,reloadDocument:r,replace:u,state:c,method:d=Ur,action:h,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:g,...S},T)=>{let j=J_(),x=I_(h,{relative:p}),O=d.toLowerCase()==="get"?"get":"post",M=typeof h=="string"&&ey.test(h),z=$=>{if(m&&m($),$.defaultPrevented)return;$.preventDefault();let I=$.nativeEvent.submitter,X=I?.getAttribute("formmethod")||d;j(I||$.currentTarget,{fetcherKey:i,method:X,navigate:l,replace:u,state:c,relative:p,preventScrollReset:y,viewTransition:g})};return D.createElement("form",{ref:T,method:O,action:x,onSubmit:r?m:z,...S,"data-discover":!M&&a==="render"?"true":void 0})});$_.displayName="Form";function Q_(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ay(a){let i=D.useContext(Yi);return ke(i,Q_(a)),i}function K_(a,{target:i,replace:l,state:r,preventScrollReset:u,relative:c,viewTransition:d}={}){let h=Ir(),m=ya(),p=rs(a,{relative:c});return D.useCallback(y=>{if(E_(y,i)){y.preventDefault();let g=l!==void 0?l:as(m)===as(p);h(a,{replace:g,state:r,preventScrollReset:u,relative:c,viewTransition:d})}},[m,h,p,l,r,i,a,u,c,d])}function V_(a){Ft(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let i=D.useRef(zc(a)),l=D.useRef(!1),r=ya(),u=D.useMemo(()=>x_(r.search,l.current?null:i.current),[r.search]),c=Ir(),d=D.useCallback((h,m)=>{const p=zc(typeof h=="function"?h(new URLSearchParams(u)):h);l.current=!0,c("?"+p,m)},[c,u]);return[u,d]}var X_=0,Z_=()=>`__${String(++X_)}__`;function J_(){let{router:a}=ay("useSubmit"),{basename:i}=D.useContext(dn),l=h_();return D.useCallback(async(r,u={})=>{let{action:c,method:d,encType:h,formData:m,body:p}=A_(r,i);if(u.navigate===!1){let y=u.fetcherKey||Z_();await a.fetch(y,l,u.action||c,{preventScrollReset:u.preventScrollReset,formData:m,body:p,formMethod:u.method||d,formEncType:u.encType||h,flushSync:u.flushSync})}else await a.navigate(u.action||c,{preventScrollReset:u.preventScrollReset,formData:m,body:p,formMethod:u.method||d,formEncType:u.encType||h,replace:u.replace,state:u.state,fromRouteId:l,flushSync:u.flushSync,viewTransition:u.viewTransition})},[a,i,l])}function I_(a,{relative:i}={}){let{basename:l}=D.useContext(dn),r=D.useContext(qn);ke(r,"useFormAction must be used inside a RouteContext");let[u]=r.matches.slice(-1),c={...rs(a||".",{relative:i})},d=ya();if(a==null){c.search=d.search;let h=new URLSearchParams(c.search),m=h.getAll("index");if(m.some(y=>y==="")){h.delete("index"),m.filter(g=>g).forEach(g=>h.append("index",g));let y=h.toString();c.search=y?`?${y}`:""}}return(!a||a===".")&&u.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(c.pathname=c.pathname==="/"?l:Ln([l,c.pathname])),as(c)}function F_(a,{relative:i}={}){let l=D.useContext(V0);ke(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ay("useViewTransitionState"),u=rs(a,{relative:i});if(!l.isTransitioning)return!1;let c=Hn(l.currentLocation.pathname,r)||l.currentLocation.pathname,d=Hn(l.nextLocation.pathname,r)||l.nextLocation.pathname;return Yr(u.pathname,d)!=null||Yr(u.pathname,c)!=null}function ft(a){if(typeof a=="number")return(Math.abs(a*2654435761)>>>0).toString(16);if(typeof a=="boolean")return a?"1":"0";if(a===null)return"null";if(a===void 0)return"undefined";if(typeof a=="string"){let i=2166136261;for(let l=0;l<a.length;l++)i^=a.charCodeAt(l),i+=(i<<1)+(i<<4)+(i<<7)+(i<<8)+(i<<24),i=i>>>0;return i.toString(16)}if(Array.isArray(a)){let i=2166136261;for(let l=0;l<a.length;l++){i^=(l+1)*2654435761;const r=ft(a[l]);for(let u=0;u<r.length;u++)i^=r.charCodeAt(u),i*=16777619,i=i>>>0}return i.toString(16)}if(typeof a=="object"){let i=2166136261;const l=Object.keys(a).sort();for(let r=0;r<l.length;r++){const u=l[r],c=ft(u);i^=parseInt(c,16),i*=16777619,i=i>>>0;const d=ft(a[u]);i^=parseInt(d,16),i*=16777619,i=i>>>0}return i.toString(16)}return ft(String(a))}const Qe={Remove:"remove",Replace:"replace",Add:"add"},iy=Symbol.for("__MUTATIVE_PROXY_DRAFT__"),P_=Symbol("__MUTATIVE_RAW_RETURN_SYMBOL__"),Lr=Symbol.iterator,Bt={mutable:"mutable",immutable:"immutable"},vf={};function Il(a,i){return a instanceof Map?a.has(i):Object.prototype.hasOwnProperty.call(a,i)}function Im(a,i){if(i in a){let l=Reflect.getPrototypeOf(a);for(;l;){const r=Reflect.getOwnPropertyDescriptor(l,i);if(r)return r;l=Reflect.getPrototypeOf(l)}}}function gf(a){return Object.getPrototypeOf(a)===Set.prototype}function bf(a){return Object.getPrototypeOf(a)===Map.prototype}function Ht(a){var i;return(i=a.copy)!==null&&i!==void 0?i:a.original}function ha(a){return!!ye(a)}function ye(a){return typeof a!="object"?null:a?.[iy]}function _f(a){var i;const l=ye(a);return l?(i=l.copy)!==null&&i!==void 0?i:l.original:a}function an(a,i){if(!a||typeof a!="object")return!1;let l;return Object.getPrototypeOf(a)===Object.prototype||Array.isArray(a)||a instanceof Map||a instanceof Set||!!i?.mark&&((l=i.mark(a,Bt))===Bt.immutable||typeof l=="function")}function ly(a,i=[]){if(Object.hasOwnProperty.call(a,"key")){const l=a.parent.copy,r=ye(Bn(l,a.key));if(r!==null&&r?.original!==a.original)return null;const u=a.parent.type===3,c=u?Array.from(a.parent.setMap.keys()).indexOf(a.key):a.key;if(!(u&&l.size>c||Il(l,c)))return null;i.push(c)}if(a.parent)return ly(a.parent,i);i.reverse();try{W_(a.copy,i)}catch{return null}return i}function Qa(a){return Array.isArray(a)?1:a instanceof Map?2:a instanceof Set?3:0}function Bn(a,i){return Qa(a)===2?a.get(i):a[i]}function us(a,i,l){Qa(a)===2?a.set(i,l):a[i]=l}function Oc(a,i){const l=ye(a);return(l?Ht(l):a)[i]}function kn(a,i){return a===i?a!==0||1/a===1/i:a!==a&&i!==i}function Lc(a){if(a)for(;a.finalities.revoke.length>0;)a.finalities.revoke.pop()()}function Ga(a,i){return i?a:[""].concat(a).map(l=>{const r=`${l}`;return r.indexOf("/")===-1&&r.indexOf("~")===-1?r:r.replace(/~/g,"~0").replace(/\//g,"~1")}).join("/")}function W_(a,i){for(let l=0;l<i.length-1;l+=1){const r=i[l];if(a=Bn(Qa(a)===3?Array.from(a):a,r),typeof a!="object")throw new Error(`Cannot resolve patch at '${i.join("/")}'.`)}return a}function eS(a){const i=Object.create(Object.getPrototypeOf(a));return Reflect.ownKeys(a).forEach(l=>{let r=Reflect.getOwnPropertyDescriptor(a,l);if(r.enumerable&&r.configurable&&r.writable){i[l]=a[l];return}r.writable||(r.writable=!0,r.configurable=!0),(r.get||r.set)&&(r={configurable:!0,writable:!0,enumerable:r.enumerable,value:a[l]}),Reflect.defineProperty(i,l,r)}),i}const tS=Object.prototype.propertyIsEnumerable;function sy(a,i){let l;if(Array.isArray(a))return Array.prototype.concat.call(a);if(a instanceof Set){if(!gf(a)){const r=Object.getPrototypeOf(a).constructor;return new r(a.values())}return Set.prototype.difference?Set.prototype.difference.call(a,new Set):new Set(a.values())}else if(a instanceof Map){if(!bf(a)){const r=Object.getPrototypeOf(a).constructor;return new r(a)}return new Map(a)}else if(i?.mark&&(l=i.mark(a,Bt),l!==void 0)&&l!==Bt.mutable){if(l===Bt.immutable)return eS(a);if(typeof l=="function"){if(i.enablePatches||i.enableAutoFreeze)throw new Error("You can't use mark and patches or auto freeze together.");return l()}throw new Error(`Unsupported mark result: ${l}`)}else if(typeof a=="object"&&Object.getPrototypeOf(a)===Object.prototype){const r={};return Object.keys(a).forEach(u=>{r[u]=a[u]}),Object.getOwnPropertySymbols(a).forEach(u=>{tS.call(a,u)&&(r[u]=a[u])}),r}else throw new Error("Please check mark() to ensure that it is a stable marker draftable function.")}function yt(a){a.copy||(a.copy=sy(a.original,a.options))}function Kl(a){if(!an(a))return _f(a);if(Array.isArray(a))return a.map(Kl);if(a instanceof Map){const l=Array.from(a.entries()).map(([r,u])=>[r,Kl(u)]);if(!bf(a)){const r=Object.getPrototypeOf(a).constructor;return new r(l)}return new Map(l)}if(a instanceof Set){const l=Array.from(a).map(Kl);if(!gf(a)){const r=Object.getPrototypeOf(a).constructor;return new r(l)}return new Set(l)}const i=Object.create(Object.getPrototypeOf(a));for(const l in a)i[l]=Kl(a[l]);return i}function kr(a){return ha(a)?Kl(a):a}function fn(a){var i;a.assignedMap=(i=a.assignedMap)!==null&&i!==void 0?i:new Map,a.operated||(a.operated=!0,a.parent&&fn(a.parent))}function Fm(){throw new Error("Cannot modify frozen object")}function Ci(a,i,l,r,u){{l=l??new WeakMap,r=r??[],u=u??[];const d=l.has(a)?l.get(a):a;if(r.length>0){const h=r.indexOf(d);if(d&&typeof d=="object"&&h!==-1)throw r[0]===d?new Error("Forbids circular reference"):new Error(`Forbids circular reference: ~/${u.slice(0,h).map((m,p)=>{if(typeof m=="symbol")return`[${m.toString()}]`;const y=r[p];return typeof m=="object"&&(y instanceof Map||y instanceof Set)?Array.from(y.keys()).indexOf(m):m}).join("/")}`);r.push(d),u.push(i)}else r.push(d)}if(Object.isFrozen(a)||ha(a)){r.pop(),u.pop();return}switch(Qa(a)){case 2:for(const[h,m]of a)Ci(h,h,l,r,u),Ci(m,h,l,r,u);a.set=a.clear=a.delete=Fm;break;case 3:for(const h of a)Ci(h,h,l,r,u);a.add=a.clear=a.delete=Fm;break;case 1:Object.freeze(a);let d=0;for(const h of a)Ci(h,d,l,r,u),d+=1;break;default:Object.freeze(a),Object.keys(a).forEach(h=>{const m=a[h];Ci(m,h,l,r,u)})}r.pop(),u.pop()}function Sf(a,i){const l=Qa(a);if(l===0)Reflect.ownKeys(a).forEach(r=>{i(r,a[r],a)});else if(l===1){let r=0;for(const u of a)i(r,u,a),r+=1}else a.forEach((r,u)=>i(u,r,a))}function ry(a,i,l){if(ha(a)||!an(a,l)||i.has(a)||Object.isFrozen(a))return;const r=a instanceof Set,u=r?new Map:void 0;if(i.add(a),Sf(a,(c,d)=>{var h;if(ha(d)){const m=ye(d);yt(m);const p=!((h=m.assignedMap)===null||h===void 0)&&h.size||m.operated?m.copy:m.original;us(r?u:a,c,p)}else ry(d,i,l)}),u){const c=a,d=Array.from(c);c.clear(),d.forEach(h=>{c.add(u.has(h)?u.get(h):h)})}}function nS(a,i){const l=a.type===3?a.setMap:a.copy;a.finalities.revoke.length>1&&a.assignedMap.get(i)&&l&&ry(Bn(l,i),a.finalities.handledSet,a.options)}function kc(a){a.type===3&&a.copy&&(a.copy.clear(),a.setMap.forEach(i=>{a.copy.add(_f(i))}))}function Hc(a,i,l,r){if(a.operated&&a.assignedMap&&a.assignedMap.size>0&&!a.finalized){if(l&&r){const c=ly(a);c&&i(a,c,l,r)}a.finalized=!0}}function Tf(a,i,l,r){const u=ye(l);u&&(u.callbacks||(u.callbacks=[]),u.callbacks.push((c,d)=>{var h;const m=a.type===3?a.setMap:a.copy;if(kn(Bn(m,i),l)){let p=u.original;u.copy&&(p=u.copy),kc(a),Hc(a,r,c,d),a.options.enableAutoFreeze&&(a.options.updatedValues=(h=a.options.updatedValues)!==null&&h!==void 0?h:new WeakMap,a.options.updatedValues.set(p,u.original)),us(m,i,p)}}),a.options.enableAutoFreeze&&u.finalities!==a.finalities&&(a.options.enableAutoFreeze=!1)),an(l,a.options)&&a.finalities.draft.push(()=>{const c=a.type===3?a.setMap:a.copy;kn(Bn(c,i),l)&&nS(a,i)})}function aS(a,i,l,r,u){let{original:c,assignedMap:d,options:h}=a,m=a.copy;m.length<c.length&&([c,m]=[m,c],[l,r]=[r,l]);for(let p=0;p<c.length;p+=1)if(d.get(p.toString())&&m[p]!==c[p]){const y=i.concat([p]),g=Ga(y,u);l.push({op:Qe.Replace,path:g,value:kr(m[p])}),r.push({op:Qe.Replace,path:g,value:kr(c[p])})}for(let p=c.length;p<m.length;p+=1){const y=i.concat([p]),g=Ga(y,u);l.push({op:Qe.Add,path:g,value:kr(m[p])})}if(c.length<m.length){const{arrayLengthAssignment:p=!0}=h.enablePatches;if(p){const y=i.concat(["length"]),g=Ga(y,u);r.push({op:Qe.Replace,path:g,value:c.length})}else for(let y=m.length;c.length<y;y-=1){const g=i.concat([y-1]),S=Ga(g,u);r.push({op:Qe.Remove,path:S})}}}function iS({original:a,copy:i,assignedMap:l},r,u,c,d){l.forEach((h,m)=>{const p=Bn(a,m),y=kr(Bn(i,m)),g=h?Il(a,m)?Qe.Replace:Qe.Add:Qe.Remove;if(kn(p,y)&&g===Qe.Replace)return;const S=r.concat(m),T=Ga(S,d);u.push(g===Qe.Remove?{op:g,path:T}:{op:g,path:T,value:y}),c.push(g===Qe.Add?{op:Qe.Remove,path:T}:g===Qe.Remove?{op:Qe.Add,path:T,value:p}:{op:Qe.Replace,path:T,value:p})})}function lS({original:a,copy:i},l,r,u,c){let d=0;a.forEach(h=>{if(!i.has(h)){const m=l.concat([d]),p=Ga(m,c);r.push({op:Qe.Remove,path:p,value:h}),u.unshift({op:Qe.Add,path:p,value:h})}d+=1}),d=0,i.forEach(h=>{if(!a.has(h)){const m=l.concat([d]),p=Ga(m,c);r.push({op:Qe.Add,path:p,value:h}),u.unshift({op:Qe.Remove,path:p,value:h})}d+=1})}function is(a,i,l,r){const{pathAsArray:u=!0}=a.options.enablePatches;switch(a.type){case 0:case 2:return iS(a,i,l,r,u);case 1:return aS(a,i,l,r,u);case 3:return lS(a,i,l,r,u)}}const Gr=(a,i,l=!1)=>{if(typeof a=="object"&&a!==null&&(!an(a,i)||l))throw new Error("Strict mode: Mutable data cannot be accessed directly, please use 'unsafe(callback)' wrap.")},Bc={get size(){return Ht(ye(this)).size},has(a){return Ht(ye(this)).has(a)},set(a,i){const l=ye(this),r=Ht(l);return(!r.has(a)||!kn(r.get(a),i))&&(yt(l),fn(l),l.assignedMap.set(a,!0),l.copy.set(a,i),Tf(l,a,i,is)),this},delete(a){if(!this.has(a))return!1;const i=ye(this);return yt(i),fn(i),i.original.has(a)?i.assignedMap.set(a,!1):i.assignedMap.delete(a),i.copy.delete(a),!0},clear(){const a=ye(this);if(this.size){yt(a),fn(a),a.assignedMap=new Map;for(const[i]of a.original)a.assignedMap.set(i,!1);a.copy.clear()}},forEach(a,i){const l=ye(this);Ht(l).forEach((r,u)=>{a.call(i,this.get(u),u,this)})},get(a){var i,l;const r=ye(this),u=Ht(r).get(a),c=((l=(i=r.options).mark)===null||l===void 0?void 0:l.call(i,u,Bt))===Bt.mutable;if(r.options.strict&&Gr(u,r.options,c),c||r.finalized||!an(u,r.options)||u!==r.original.get(a))return u;const d=vf.createDraft({original:u,parentDraft:r,key:a,finalities:r.finalities,options:r.options});return yt(r),r.copy.set(a,d),d},keys(){return Ht(ye(this)).keys()},values(){const a=this.keys();return{[Lr]:()=>this.values(),next:()=>{const i=a.next();return i.done?i:{done:!1,value:this.get(i.value)}}}},entries(){const a=this.keys();return{[Lr]:()=>this.entries(),next:()=>{const i=a.next();if(i.done)return i;const l=this.get(i.value);return{done:!1,value:[i.value,l]}}}},[Lr](){return this.entries()}},sS=Reflect.ownKeys(Bc),Pm=(a,i,{isValuesIterator:l})=>()=>{var r,u;const c=i.next();if(c.done)return c;const d=c.value;let h=a.setMap.get(d);const m=ye(h),p=((u=(r=a.options).mark)===null||u===void 0?void 0:u.call(r,h,Bt))===Bt.mutable;if(a.options.strict&&Gr(d,a.options,p),!p&&!m&&an(d,a.options)&&!a.finalized&&a.original.has(d)){const y=vf.createDraft({original:d,parentDraft:a,key:d,finalities:a.finalities,options:a.options});a.setMap.set(d,y),h=y}else m&&(h=m.proxy);return{done:!1,value:l?h:[h,h]}},$r={get size(){return ye(this).setMap.size},has(a){const i=ye(this);if(i.setMap.has(a))return!0;yt(i);const l=ye(a);return!!(l&&i.setMap.has(l.original))},add(a){const i=ye(this);return this.has(a)||(yt(i),fn(i),i.assignedMap.set(a,!0),i.setMap.set(a,a),Tf(i,a,a,is)),this},delete(a){if(!this.has(a))return!1;const i=ye(this);yt(i),fn(i);const l=ye(a);return l&&i.setMap.has(l.original)?(i.assignedMap.set(l.original,!1),i.setMap.delete(l.original)):(!l&&i.setMap.has(a)?i.assignedMap.set(a,!1):i.assignedMap.delete(a),i.setMap.delete(a))},clear(){if(!this.size)return;const a=ye(this);yt(a),fn(a);for(const i of a.original)a.assignedMap.set(i,!1);a.setMap.clear()},values(){const a=ye(this);yt(a);const i=a.setMap.keys();return{[Symbol.iterator]:()=>this.values(),next:Pm(a,i,{isValuesIterator:!0})}},entries(){const a=ye(this);yt(a);const i=a.setMap.keys();return{[Symbol.iterator]:()=>this.entries(),next:Pm(a,i,{isValuesIterator:!1})}},keys(){return this.values()},[Lr](){return this.values()},forEach(a,i){const l=this.values();let r=l.next();for(;!r.done;)a.call(i,r.value,r.value,this),r=l.next()}};Set.prototype.difference&&Object.assign($r,{intersection(a){return Set.prototype.intersection.call(new Set(this.values()),a)},union(a){return Set.prototype.union.call(new Set(this.values()),a)},difference(a){return Set.prototype.difference.call(new Set(this.values()),a)},symmetricDifference(a){return Set.prototype.symmetricDifference.call(new Set(this.values()),a)},isSubsetOf(a){return Set.prototype.isSubsetOf.call(new Set(this.values()),a)},isSupersetOf(a){return Set.prototype.isSupersetOf.call(new Set(this.values()),a)},isDisjointFrom(a){return Set.prototype.isDisjointFrom.call(new Set(this.values()),a)}});const rS=Reflect.ownKeys($r),uy={get(a,i,l){var r,u;const c=(r=a.copy)===null||r===void 0?void 0:r[i];if(c&&a.finalities.draftsCache.has(c))return c;if(i===iy)return a;let d;if(a.options.mark){const p=i==="size"&&(a.original instanceof Map||a.original instanceof Set)?Reflect.get(a.original,i):Reflect.get(a.original,i,l);if(d=a.options.mark(p,Bt),d===Bt.mutable)return a.options.strict&&Gr(p,a.options,!0),p}const h=Ht(a);if(h instanceof Map&&sS.includes(i))return i==="size"?Object.getOwnPropertyDescriptor(Bc,"size").get.call(a.proxy):Bc[i].bind(a.proxy);if(h instanceof Set&&rS.includes(i))return i==="size"?Object.getOwnPropertyDescriptor($r,"size").get.call(a.proxy):$r[i].bind(a.proxy);if(!Il(h,i)){const p=Im(h,i);return p?"value"in p?p.value:(u=p.get)===null||u===void 0?void 0:u.call(a.proxy):void 0}const m=h[i];if(a.options.strict&&Gr(m,a.options),a.finalized||!an(m,a.options))return m;if(m===Oc(a.original,i)){if(yt(a),a.copy[i]=Ef({original:a.original[i],parentDraft:a,key:a.type===1?Number(i):i,finalities:a.finalities,options:a.options}),typeof d=="function"){const p=ye(a.copy[i]);return yt(p),fn(p),p.copy}return a.copy[i]}return ha(m)&&a.finalities.draftsCache.add(m),m},set(a,i,l){var r;if(a.type===3||a.type===2)throw new Error("Map/Set draft does not support any property assignment.");let u;if(a.type===1&&i!=="length"&&!(Number.isInteger(u=Number(i))&&u>=0&&(i===0||u===0||String(u)===String(i))))throw new Error("Only supports setting array indices and the 'length' property.");const c=Im(Ht(a),i);if(c?.set)return c.set.call(a.proxy,l),!0;const d=Oc(Ht(a),i),h=ye(d);return h&&kn(h.original,l)?(a.copy[i]=l,a.assignedMap=(r=a.assignedMap)!==null&&r!==void 0?r:new Map,a.assignedMap.set(i,!1),!0):(kn(l,d)&&(l!==void 0||Il(a.original,i))||(yt(a),fn(a),Il(a.original,i)&&kn(l,a.original[i])?a.assignedMap.delete(i):a.assignedMap.set(i,!0),a.copy[i]=l,Tf(a,i,l,is)),!0)},has(a,i){return i in Ht(a)},ownKeys(a){return Reflect.ownKeys(Ht(a))},getOwnPropertyDescriptor(a,i){const l=Ht(a),r=Reflect.getOwnPropertyDescriptor(l,i);return r&&{writable:!0,configurable:a.type!==1||i!=="length",enumerable:r.enumerable,value:l[i]}},getPrototypeOf(a){return Reflect.getPrototypeOf(a.original)},setPrototypeOf(){throw new Error("Cannot call 'setPrototypeOf()' on drafts")},defineProperty(){throw new Error("Cannot call 'defineProperty()' on drafts")},deleteProperty(a,i){var l;return a.type===1?uy.set.call(this,a,i,void 0,a.proxy):(Oc(a.original,i)!==void 0||i in a.original?(yt(a),fn(a),a.assignedMap.set(i,!1)):(a.assignedMap=(l=a.assignedMap)!==null&&l!==void 0?l:new Map,a.assignedMap.delete(i)),a.copy&&delete a.copy[i],!0)}};function Ef(a){const{original:i,parentDraft:l,key:r,finalities:u,options:c}=a,d=Qa(i),h={type:d,finalized:!1,parent:l,original:i,copy:null,proxy:null,finalities:u,options:c,setMap:d===3?new Map(i.entries()):void 0};(r||"key"in a)&&(h.key=r);const{proxy:m,revoke:p}=Proxy.revocable(d===1?Object.assign([],h):h,uy);if(u.revoke.push(p),h.proxy=m,l){const y=l;y.finalities.draft.push((g,S)=>{var T,j;const x=ye(m);let O=y.type===3?y.setMap:y.copy;const M=Bn(O,r),z=ye(M);if(z){let $=z.original;z.operated&&($=_f(M)),kc(z),Hc(z,is,g,S),y.options.enableAutoFreeze&&(y.options.updatedValues=(T=y.options.updatedValues)!==null&&T!==void 0?T:new WeakMap,y.options.updatedValues.set($,z.original)),us(O,r,$)}(j=x.callbacks)===null||j===void 0||j.forEach($=>{$(g,S)})})}else{const y=ye(m);y.finalities.draft.push((g,S)=>{kc(y),Hc(y,is,g,S)})}return m}vf.createDraft=Ef;function uS(a,i,l,r,u){var c;const d=ye(a),h=(c=d?.original)!==null&&c!==void 0?c:a,m=!!i.length;if(d?.operated)for(;d.finalities.draft.length>0;)d.finalities.draft.pop()(l,r);const p=m?i[0]:d?d.operated?d.copy:d.original:a;return d&&Lc(d),u&&Ci(p,p,d?.options.updatedValues),[p,l&&m?[{op:Qe.Replace,path:[],value:i[0]}]:l,r&&m?[{op:Qe.Replace,path:[],value:h}]:r]}function oS(a,i){var l;const r={draft:[],revoke:[],handledSet:new WeakSet,draftsCache:new WeakSet};let u,c;i.enablePatches&&(u=[],c=[]);const h=((l=i.mark)===null||l===void 0?void 0:l.call(i,a,Bt))===Bt.mutable||!an(a,i)?a:Ef({original:a,parentDraft:null,finalities:r,options:i});return[h,(m=[])=>{const[p,y,g]=uS(h,m,u,c,i.enableAutoFreeze);return i.enablePatches?[p,y,g]:p}]}function qc(a){const{rootDraft:i,value:l,useRawReturn:r=!1,isRoot:u=!0}=a;Sf(l,(c,d,h)=>{const m=ye(d);if(m&&i&&m.finalities===i.finalities){a.isContainDraft=!0;const p=m.original;if(h instanceof Set){const y=Array.from(h);h.clear(),y.forEach(g=>h.add(c===g?p:g))}else us(h,c,p)}else typeof d=="object"&&d!==null&&(a.value=d,a.isRoot=!1,qc(a))}),u&&(a.isContainDraft||console.warn("The return value does not contain any draft, please use 'rawReturn()' to wrap the return value to improve performance."),r&&console.warn("The return value contains drafts, please don't use 'rawReturn()' to wrap the return value."))}function oy(a){var i;const l=ye(a);if(!an(a,l?.options))return a;const r=Qa(a);if(l&&!l.operated)return l.original;let u;function c(){u=r===2?bf(a)?new Map(a):new(Object.getPrototypeOf(a)).constructor(a):r===3?Array.from(l.setMap.values()):sy(a,l?.options)}if(l){l.finalized=!0;try{c()}finally{l.finalized=!1}}else u=a;if(Sf(u,(d,h)=>{if(l&&kn(Bn(l.original,d),h))return;const m=oy(h);m!==h&&(u===a&&c(),us(u,d,m))}),r===3){const d=(i=l?.original)!==null&&i!==void 0?i:u;return gf(d)?new Set(u):new(Object.getPrototypeOf(d)).constructor(u)}return u}function Wm(a){if(!ha(a))throw new Error(`current() is only used for Draft, parameter: ${a}`);return oy(a)}const cS=a=>function i(l,r,u){var c,d,h;if(typeof l=="function"&&typeof r!="function")return function(X,...W){return i(X,Z=>l.call(this,Z,...W),r)};const m=l,p=r;let y=u;if(typeof r!="function"&&(y=r),y!==void 0&&Object.prototype.toString.call(y)!=="[object Object]")throw new Error(`Invalid options: ${y}, 'options' should be an object.`);y=Object.assign(Object.assign({},a),y);const g=ha(m)?Wm(m):m,S=Array.isArray(y.mark)?((X,W)=>{for(const Z of y.mark){if(typeof Z!="function")throw new Error(`Invalid mark: ${Z}, 'mark' should be a function.`);const le=Z(X,W);if(le)return le}}):y.mark,T=(c=y.enablePatches)!==null&&c!==void 0?c:!1,j=(d=y.strict)!==null&&d!==void 0?d:!1,O={enableAutoFreeze:(h=y.enableAutoFreeze)!==null&&h!==void 0?h:!1,mark:S,strict:j,enablePatches:T};if(!an(g,O)&&typeof g=="object"&&g!==null)throw new Error("Invalid base state: create() only supports plain objects, arrays, Set, Map or using mark() to mark the state as immutable.");const[M,z]=oS(g,O);if(typeof r!="function"){if(!an(g,O))throw new Error("Invalid base state: create() only supports plain objects, arrays, Set, Map or using mark() to mark the state as immutable.");return[M,z]}let $;try{$=p(M)}catch(X){throw Lc(ye(M)),X}const I=X=>{const W=ye(M);if(!ha(X)){if(X!==void 0&&!kn(X,M)&&W?.operated)throw new Error("Either the value is returned as a new non-draft value, or only the draft is modified without returning any value.");const le=X?.[P_];if(le){const ge=le[0];return O.strict&&typeof X=="object"&&X!==null&&qc({rootDraft:W,value:X,useRawReturn:!0}),z([ge])}if(X!==void 0)return typeof X=="object"&&X!==null&&qc({rootDraft:W,value:X}),z([X])}if(X===M||X===void 0)return z([]);const Z=ye(X);if(O===Z.options){if(Z.operated)throw new Error("Cannot return a modified child draft.");return z([Wm(X)])}return z([X])};return $ instanceof Promise?$.then(I,X=>{throw Lc(ye(M)),X}):I($)},Qr=cS();Object.prototype.constructor.toString();function cy(a,i){const l=Object.keys(a),r=Object.keys(i);return l.length===r.length&&Object.keys(a).every(u=>i.hasOwnProperty(u))}function e0(a,i){return Object.keys(a).length===Object.keys(i).length&&Object.keys(a).every(l=>i.hasOwnProperty(l)&&a[l]===i[l])}function Hr(a,i){return typeof a!="object"||typeof i!="object"||a===null||i===null?a===i:cy(a,i)?Object.keys(a).every(l=>Hr(a[l],i[l])):!1}function xf(a){if(!Vl(a))return a;const i={};for(const[l,r]of Object.entries(a))r!==void 0&&(i[l]=r);return i}function fy(a,i){if(!Vl(a)||!Vl(i))return i;const l=Object.assign({},a);for(const r of Object.keys(i)){if(i[r]===void 0)continue;if(i[r]===null){delete l[r];continue}const u=Vl(a[r])&&Vl(i[r]);l[r]=u?fy(a[r],i[r]):i[r]}return l}function Vl(a){return typeof a=="object"&&a!==null&&!Array.isArray(a)}function fS(a,i,l){if(!a||i.length===0)return;let r=a||{};for(let c=0;c<i.length-1;c++){const d=i[c];(!(d in r)||typeof r[d]!="object")&&(r[d]=typeof i[c+1]=="number"?[]:{}),r=r[d]}const u=i[i.length-1];Array.isArray(r)&&typeof u=="number"?r.splice(u,0,l):r[u]=l}function t0(a,i,l){if(!a||i.length===0)return;let r=a||{};for(let u=0;u<i.length-1;u++){const c=i[u];(!(c in r)||typeof r[c]!="object")&&(r[c]=typeof i[u+1]=="number"?[]:{}),r=r[c]}r[i[i.length-1]]=l}function dy(a,i){if(!a||i.length===0)return;const[l,...r]=i;if(l in a){if(r.length===0){Array.isArray(a)?a.splice(l,1):delete a[l];return}dy(a[l],r),dS(a[l])&&delete a[l]}}function dS(a){return a&&Object.keys(a).length===0}const n0=/ZULU|YEKT|YEKST|YAPT|YAKT|YAKST|XJT|WGT|WGST|WFT|WETDST|WET|WDT|WAT|WAST|WAKT|WADT|VUT|VOLT|VLAT|VLAST|VET|UZT|UZST|UYT|UYST|UTC|UT|ULAT|ULAST|UCT|TVT|TRUT|TOT|TMT|TKT|TJT|TFT|TAHT|SGT|SCT|SAST|SADT|RET|PYT|PYST|PWT|PST|PONT|PMST|PMDT|PKT|PKST|PHT|PGT|PETT|PETST|PET|PDT|OMST|OMSST|NZT|NZST|NZDT|NUT|NST|NPT|NOVT|NOVST|NFT|NDT|MYT|MVT|MUT|MUST|MST|MSK|MSD|MPT|MMT|MHT|MEZ|METDST|MET|MESZ|MEST|MDT|MAWT|MART|MAGT|MAGST|LKT|LINT|LIGT|LHST|LHDT|KST|KRAT|KRAST|KOST|KGT|KGST|KDT|JST|JAYT|IST|IRT|IRKT|IRKST|IOT|IDT|ICT|HST|HKT|GYT|GMT|GILT|GFT|GET|GEST|GAMT|GALT|FNT|FNST|FKT|FKST|FJT|FJST|FET|EST|EGT|EGST|EETDST|EET|EEST|EDT|EAT|EAST|EASST|DDUT|DAVT|CXT|CST|COT|CLT|CLST|CKT|CHUT|CHAST|CHADT|CETDST|CET|CEST|CDT|CCT|CAST|CADT|BTT|BST|BRT|BRST|BRA|BOT|BORT|BNT|BDT|BDST|AZT|AZST|AZOT|AZOST|AWST|AWSST|AST|ART|ARST|ANAT|ANAST|AMT|AMST|ALMT|ALMST|AKST|AKDT|AFT|AEST|AESST|AEDT|ADT|ACWST|ACT|ACST|ACSST|ACDT$/,hS={ZULU:0,YEKT:18e3,YEKST:21600,YAPT:36e3,YAKT:32400,YAKST:32400,XJT:21600,WGT:-10800,WGST:-7200,WFT:43200,WETDST:3600,WET:0,WDT:32400,WAT:3600,WAST:25200,WAKT:43200,WADT:28800,VUT:39600,VOLT:10800,VLAT:36e3,VLAST:36e3,VET:-14400,UZT:18e3,UZST:21600,UYT:-10800,UYST:-7200,UTC:0,UT:0,ULAT:28800,ULAST:32400,UCT:0,TVT:43200,TRUT:36e3,TOT:46800,TMT:18e3,TKT:46800,TJT:18e3,TFT:18e3,TAHT:-36e3,SGT:28800,SCT:14400,SAST:7200,SADT:37800,RET:14400,PYT:-14400,PYST:-10800,PWT:32400,PST:-28800,PONT:39600,PMST:-10800,PMDT:-7200,PKT:18e3,PKST:21600,PHT:28800,PGT:36e3,PETT:43200,PETST:43200,PET:-18e3,PDT:-25200,OMST:21600,OMSST:21600,NZT:43200,NZST:43200,NZDT:46800,NUT:-39600,NST:-12600,NPT:20700,NOVT:25200,NOVST:25200,NFT:-12600,NDT:-9e3,MYT:28800,MVT:18e3,MUT:14400,MUST:18e3,MST:-25200,MSK:10800,MSD:14400,MPT:36e3,MMT:23400,MHT:43200,MEZ:3600,METDST:7200,MET:3600,MESZ:7200,MEST:7200,MDT:-21600,MAWT:18e3,MART:-34200,MAGT:39600,MAGST:39600,LKT:19800,LINT:50400,LIGT:36e3,LHST:37800,LHDT:37800,KST:32400,KRAT:25200,KRAST:25200,KOST:39600,KGT:21600,KGST:21600,KDT:36e3,JST:32400,JAYT:32400,IST:7200,IRT:12600,IRKT:28800,IRKST:28800,IOT:21600,IDT:10800,ICT:25200,HST:-36e3,HKT:28800,GYT:-14400,GMT:0,GILT:43200,GFT:-10800,GET:14400,GEST:14400,GAMT:-32400,GALT:-21600,FNT:-7200,FNST:-3600,FKT:-10800,FKST:-10800,FJT:43200,FJST:46800,FET:10800,EST:-18e3,EGT:-3600,EGST:0,EETDST:10800,EET:7200,EEST:10800,EDT:-14400,EAT:10800,EAST:-21600,EASST:-21600,DDUT:36e3,DAVT:25200,CXT:25200,CST:-21600,COT:-18e3,CLT:-14400,CLST:-10800,CKT:-36e3,CHUT:36e3,CHAST:45900,CHADT:49500,CETDST:7200,CET:3600,CEST:7200,CDT:-18e3,CCT:28800,CAST:34200,CADT:37800,BTT:21600,BST:3600,BRT:-10800,BRST:-7200,BRA:-10800,BOT:-14400,BORT:28800,BNT:28800,BDT:21600,BDST:7200,AZT:14400,AZST:14400,AZOT:-3600,AZOST:0,AWST:28800,AWSST:32400,AST:-14400,ART:-10800,ARST:-10800,ANAT:43200,ANAST:43200,AMT:-14400,AMST:14400,ALMT:21600,ALMST:25200,AKST:-32400,AKDT:-28800,AFT:16200,AEST:36e3,AESST:39600,AEDT:39600,ADT:-10800,ACWST:31500,ACT:-18e3,ACST:34200,ACSST:37800,ACDT:37800};function pS(a){return new Date(a)}function mS(a){return new Date(a+"Z")}const yS=/^(\d+)[\./-](\d+)[\./-](\d+)$/;function vS(a){const i=a.match(yS);if(!i)return null;const[l,r,u,c]=i;return r<=0||u<=0||c<=0?null:r>999?new Date(Date.UTC(r,u-1,c,0,0,0,0)):new Date(Date.UTC(c,r-1,u,0,0,0,0))}function gS(a){const[i,l]=a.split(" ");return new Date(i+"T"+l+"Z")}function bS(a){const[i,l]=a.split(" ");return new Date(i+"T"+l+"Z")}function _S(a){return new Date(a)}function SS(a){const i=/^(\w{3}) (\w{3}) (\d{2}) (\d{4})$/;if(!a.match(i))throw new Error(`Unable to parse \`${a}\` as a date.`);const r=new Date(a+" UTC");return new Date(Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),0,0,0,0))}function TS(a){const i=/^(.+T.+)([+-])(\d{2})$/,l=a.match(i);if(l){const[,r,u,c]=l,d=`${r}${u}${c}:00`;return new Date(d)}return null}function ES(a){const[i,l]=a.split(", "),[r,u,c]=i.split("/").map(Number),d=l.match(/(\d{1,2}):(\d{2}):(\d{2}) (AM|PM)/);if(!d)throw new Error(`Unable to parse time from: ${a}`);let[,h,m,p,y]=d;return h=Number(h),m=Number(m),p=Number(p),y==="PM"&&h!==12?h+=12:y==="AM"&&h===12&&(h=0),new Date(Date.UTC(c,r-1,u,h,m,p))}function xS(a){switch(a){case"epoch":return new Date(0);case"infinity":case"-infinity":case"today":case"tomorrow":case"yesterday":return null}}function OS(a){const i=a.match(n0);if(!i)return null;const[l]=i,r=hS[l],u=new Date(a.replace(n0,"Z"));return new Date(u.getTime()-r*1e3)}const jS=[vS,bS,SS,ES,_S,mS,TS,gS,pS,xS,OS];function AS(a,i){try{const l=a(i);return l instanceof Date&&!isNaN(l.getTime())?l:null}catch{return null}}function Yc(a){for(const i of jS){const l=AS(i,a);if(l)return l}return null}function wS(a){try{const i=JSON.parse(a);return typeof i=="string"?Yc(i):null}catch{return null}}function Pr(a){if(a!==void 0){if(a===null)return null;if(a instanceof Date)return a;if(typeof a=="string"){const i=Yc(a)||wS(a)||Yc(a.trim());if(!i)throw new Error(`Unable to parse \`${a}\` as a date.`);return i}else if(typeof a=="number")return new Date(a);throw new Error(`Invalid date value \`${a}\`. Expected a date, number, or string, got type ${typeof a}.`)}}function MS(a){return a.cardinality==="one"}function Of(a){return a["value-type"]==="ref"}function jf(a){return a["value-type"]==="blob"}function Gi(a,i){return a[i]}function $i(a,i){return i.reduce((l,r)=>l&&l.get(r),a)}function nn(a,i){if(i.length===0)throw new Error("path must have at least one element");if(i.length===1){a.delete(i[0]);return}const[l,...r]=i;a.has(l)&&nn(a.get(l),r)}function Ot(a,i,l){if(i.length===0)throw new Error("path must have at least one element");if(i.length===1){a.set(i[0],l);return}const[r,...u]=i;let c=a.get(r);c||(c=new Map,a.set(r,c)),Ot(c,u,l)}function hy(a,i,l){const r=new Map,u=new Map,c=new Map;for(const d of i){let[h,m,p,y]=d;const g=Gi(a,m);if(!g){console.warn("no such attr",h,a);continue}g["checked-data-type"]==="date"&&l&&(p=Pr(p),d[2]=p),Of(g)&&Ot(c,[p,m,h],d),Ot(r,[h,m,p],d),Ot(u,[m,h,p],d)}return{eav:r,aev:u,vae:c}}function py(a){const i=new Map,l=new Map,r=new Map,u=new Map;for(const c of Object.values(a)){const d=c["forward-identity"],[h,m,p]=d,y=c["reverse-identity"];if(Ot(r,[m,p],c),jf(c)&&Ot(i,[m,p],c),c["primary?"]&&Ot(l,[m],c),y){const[g,S,T]=y;Ot(u,[S,T],c)}}return{blobAttrs:i,primaryKeys:l,forwardIdents:r,revIdents:u}}function my(a){return{__type:a.__type,attrs:a.attrs,triples:jt(a.eav,3),cardinalityInference:a.cardinalityInference,linkIndex:a.linkIndex,useDateObjects:a.useDateObjects}}function yy(a){return Br(a.attrs,a.triples,a.cardinalityInference,a.linkIndex,a.useDateObjects)}function CS(a,i){return $i(a.eav,[i])!==void 0}function Af(a){a.attrIndexes=py(a.attrs)}function Br(a,i,l,r,u){const c=hy(a,i,u);return c.useDateObjects=u,c.attrs=a,c.attrIndexes=py(a),c.cardinalityInference=l,c.linkIndex=r,c.__type="store",c}function os(a,i){var l,r;let u;if(Array.isArray(i[0])){const[d,h]=i[0],m=a.aev.get(d);if(!m)return null;u=(l=jt(m,2).find(y=>y[2]===h))===null||l===void 0?void 0:l[0]}else u=i[0];if(!u)return null;const c=i[2];if(Array.isArray(c)&&c.length===2&&a.aev.get(c[0])){const[d,h]=c,m=a.aev.get(d);if(!m)return null;const y=(r=jt(m,2).find(x=>x[2]===h))===null||r===void 0?void 0:r[0];if(!y)return null;const[g,S,T,...j]=i;return[u,S,y,...j]}else{const[d,...h]=i;return[u,...h]}}function vy(a,i){const l=os(a,i);if(!l)return;const[r,u,c]=l,d=Gi(a.attrs,u);d&&(nn(a.eav,[r,u,c]),nn(a.aev,[u,r,c]),Of(d)&&nn(a.vae,[c,u,r]))}let DS=0;function gy(a,i,l){const[r,u,c]=l;let d;const h=$i(a.ea,[r,u,c]);return h&&(d=h[3]),d||Date.now()*10+DS++}function by(a,i){var l;const r=os(a,i);if(!r)return;let[u,c,d]=r;const h=Gi(a.attrs,c);if(!h)return;h["checked-data-type"]==="date"&&a.useDateObjects&&(d=Pr(d));const m=$i(a.eav,[u,c,d]),p=(l=m?.[3])!==null&&l!==void 0?l:gy(a,h,r),y=[u,c,d,p];MS(h)?(Ot(a.eav,[u,c],new Map([[d,y]])),Ot(a.aev,[c,u],new Map([[d,y]]))):(Ot(a.eav,[u,c,d],y),Ot(a.aev,[c,u,d],y)),Of(h)&&Ot(a.vae,[d,c,u],y)}function NS(a,i){var l;const r=os(a,i);if(!r)return;const[u,c,d]=r,h=Gi(a.attrs,c);if(!h)return;if(!jf(h))throw new Error("merge operation is not supported for links");const m=$i(a.eav,[u,c]);if(!m)return;const p=(l=m.values().next())===null||l===void 0?void 0:l.value;if(!p)return;const y=p[2],g=fy(y,d),S=[u,c,g,gy(a,h,p)];Ot(a.eav,[u,c],new Map([[g,S]]))}function Gc(a,i){var l,r;const[u,c]=i,d=os(a,[u]);if(!d)return;const[h]=d,m=a.eav.get(h);if(m){for(const y of m.keys()){const g=a.attrs[y];g&&g["on-delete-reverse"]==="cascade"&&jt(m.get(y),1).forEach(([S,T,j])=>{var x;return Gc(a,[j,(x=g["reverse-identity"])===null||x===void 0?void 0:x[1]])}),(!c||!g||((l=g["forward-identity"])===null||l===void 0?void 0:l[1])===c)&&(nn(a.aev,[y,h]),nn(a.eav,[h,y]))}m.size===0&&nn(a.eav,[h])}const p=a.vae.get(h)&&jt(a.vae.get(h),2);p&&p.forEach(y=>{var g,S,T;const[j,x,O]=y,M=a.attrs[x];(!c||!M||((g=M["reverse-identity"])===null||g===void 0?void 0:g[1])===c)&&(nn(a.eav,[j,x,O]),nn(a.aev,[x,j,O]),nn(a.vae,[O,x,j])),M&&M["on-delete"]==="cascade"&&((S=M["reverse-identity"])===null||S===void 0?void 0:S[1])===c&&Gc(a,[j,(T=M["forward-identity"])===null||T===void 0?void 0:T[1]])}),((r=a.vae.get(h))===null||r===void 0?void 0:r.size)===0&&nn(a.vae,[h])}function _y(a,i){const l=hy(a.attrs,i,a.useDateObjects);Object.keys(l).forEach(r=>{a[r]=l[r]})}function RS(a,[i]){a.attrs[i.id]=i,Af(a)}function Sy(a){return jt(a.eav,3)}function US(a,[i]){if(!a.attrs[i])return;const l=Sy(a).filter(([r,u])=>u!==i);delete a.attrs[i],Af(a),_y(a,l)}function zS(a,[i]){const l=a.attrs[i.id];l&&(a.attrs[i.id]=Object.assign(Object.assign({},l),i),Af(a),_y(a,Sy(a)))}function LS(a,i){const[l,...r]=i;switch(l){case"add-triple":by(a,r);break;case"deep-merge-triple":NS(a,r);break;case"retract-triple":vy(a,r);break;case"delete-entity":Gc(a,r);break;case"add-attr":RS(a,r);break;case"delete-attr":US(a,r);break;case"update-attr":zS(a,r);break;case"restore-attr":break;case"rule-params":break;default:throw new Error(`unhandled transaction action: ${l}`)}}function jt(a,i,l=[]){if(!a||i===0)return l;if(i===1){for(const r of a.values())l.push(r);return l}for(const r of a.values())jt(r,i-1,l);return l}function Cr(a,i,l){var r,u;const c=[];if(l?.hasOwnProperty("$not")){for(const h of i.keys())l.$not!==h&&c.push(i.get(h));return c}if(l?.hasOwnProperty("$isNull")){const{attrId:h,isNull:m,reverse:p}=l.$isNull;if(p)for(const y of i.keys()){const g=a.vae.get(y),S=!g||((r=g.get(h))===null||r===void 0?void 0:r.get(null))||!g.get(h);(m?S:!S)&&c.push(i.get(y))}else{const y=a.aev.get(h);for(const g of i.keys()){const S=!y||((u=y.get(g))===null||u===void 0?void 0:u.get(null))||!y.get(g);(m?S:!S)&&c.push(i.get(g))}}return c}if(l?.$comparator)return jt(i,1).filter(l.$op);const d=l.in||l.$in||[l];for(const h of d){const m=i.get(h);m&&c.push(m)}return c}function kS(a,i,l){let r="";return a!==void 0&&(r+="e"),i!==void 0&&(r+="a"),l!==void 0&&(r+="v"),r}function HS(a,[i,l,r]){var u,c;switch(kS(i,l,r)){case"e":{const h=a.eav.get(i);return jt(h,2)}case"ea":{const h=(u=a.eav.get(i))===null||u===void 0?void 0:u.get(l);return jt(h,1)}case"eav":{const h=(c=a.eav.get(i))===null||c===void 0?void 0:c.get(l);return h?Cr(a,h,r):[]}case"ev":{const h=a.eav.get(i);if(!h)return[];const m=[];for(const p of h.values())m.push(...Cr(a,p,r));return m}case"a":{const h=a.aev.get(l);return jt(h,2)}case"av":{const h=a.aev.get(l);if(!h)return[];const m=[];for(const p of h.values())m.push(...Cr(a,p,r));return m}case"v":{const h=[];for(const m of a.eav.values())for(const p of m.values())h.push(...Cr(a,p,r));return h}default:return jt(a.eav,3)}}function BS(a,i,l){var r;const u={};for(const[c,d]of i.entries()){const h=(r=a.eav.get(l))===null||r===void 0?void 0:r.get(d.id),m=jt(h,1);for(const p of m)u[c]=p[2]}return u}function pa(a,i,l){var r;return(r=a.attrIndexes.forwardIdents.get(i))===null||r===void 0?void 0:r.get(l)}function Ty(a,i,l){var r;return(r=a.attrIndexes.revIdents.get(i))===null||r===void 0?void 0:r.get(l)}function qS(a,i){return a.attrIndexes.blobAttrs.get(i)}function Ey(a,i){var l;const r=a.attrIndexes.primaryKeys.get(i);return r||((l=a.attrIndexes.forwardIdents.get(i))===null||l===void 0?void 0:l.get("id"))}function YS(a,i){const l=os(a,i);if(!l)return;const[r,u,c]=l;if(Gi(a.attrs,u))return $i(a.eav,[r,u])}function GS(a,i){const l=i.filter(([r,u,c,d,h])=>{if(r!=="add-triple"&&r!=="deep-merge-triple")return!0;const m=h?.mode;if(m!=="create"&&m!=="update")return!0;let p=!1;const y=Gi(a.attrs,c);if(y){const g=Ey(a,y["forward-identity"][1]);p=!!YS(a,[u,g.id,u])}return!(m==="create"&&p||m==="update"&&!p)});return Qr(a,r=>{l.forEach(u=>{LS(r,u)})})}function $S(a){return typeof a=="string"&&a.startsWith("?")}function QS(a,i,l){if(l.hasOwnProperty(a)){const r=l[a];return xy(r,i,l)}return Object.assign(Object.assign({},l),{[a]:i})}function a0(a,i,l){return a===i?l:null}function KS(a){switch(typeof a){case"string":return a.startsWith("?")?QS:a0;default:return a0}}const VS=["in","$in","$not","$isNull","$comparator"];function XS(a){for(const i of VS)if(a.hasOwnProperty(i))return!0;return!1}function xy(a,i,l){return l?typeof a=="object"?XS(a)?l:null:KS(a)(a,i,l):null}function ZS(a,i,l){return a.reduce((r,u,c)=>{const d=i[c];return xy(u,d,r)},l)}function JS(a,i,l){return PS(a,i,l).map(r=>ZS(i,r,l)).filter(r=>r)}function IS(a,i,l){return i.or?i.or.patterns.flatMap(r=>$c(a,r,l)):i.and?i.and.patterns.reduce((r,u)=>$c(a,u,r),l):l.flatMap(r=>JS(a,i,r))}function $c(a,i,l=[{}]){return i.reduce((r,u)=>IS(a,u,r),l)}function wf(a,i){return Array.isArray(i)?i.map(l=>wf(a,l)):$S(i)?a[i]:i}function FS(a,{find:i,where:l}){return $c(a,l).map(u=>wf(u,i))}function PS(a,i,l){return HS(a,wf(l,i))}const WS=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function ki(a){return typeof a=="string"&&WS.test(a)}const ct=[];for(let a=0;a<256;++a)ct.push((a+256).toString(16).slice(1));function eT(a,i=0){return(ct[a[i+0]]+ct[a[i+1]]+ct[a[i+2]]+ct[a[i+3]]+"-"+ct[a[i+4]]+ct[a[i+5]]+"-"+ct[a[i+6]]+ct[a[i+7]]+"-"+ct[a[i+8]]+ct[a[i+9]]+"-"+ct[a[i+10]]+ct[a[i+11]]+ct[a[i+12]]+ct[a[i+13]]+ct[a[i+14]]+ct[a[i+15]]).toLowerCase()}let jc;const tT=new Uint8Array(16);function nT(){if(!jc){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");jc=crypto.getRandomValues.bind(crypto)}return jc(tT)}const aT=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),i0={randomUUID:aT};function iT(a,i,l){if(i0.randomUUID&&!a)return i0.randomUUID();a=a||{};const r=a.random??a.rng?.()??nT();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,eT(r)}function l0(a){const i=a.replace(/-/g,""),l=[];for(let r=0;r<i.length;r+=2)l.push(parseInt(i.substring(r,r+2),16));return l}function lT(a,i){for(let l=0;l<a.length;l++){if(a[l]<i[l])return-1;if(a[l]>i[l])return 1}return 0}function sT(a,i){return lT(l0(a),l0(i))}function nt(){return iT()}function rT(a,i){return a.localeCompare(i)}function uT(){let a=rT;if(typeof Intl=="object"&&Intl.hasOwnProperty("Collator"))try{a=Intl.Collator("en-US").compare}catch{}return a}const oT=uT();let cT=0;function Fl(a){return Wr(`_${a}`,cT++)}function Wr(a,i){return`?${a}-${i}`}class Hi extends Error{constructor(i){super(i),this.name="AttrNotFoundError"}}function fT(a,i){const l=Ey(a,i);if(!l)throw new Hi(`Could not find id attr for ${i}`);return l}function s0(a,i,l,r){return[dT(a,i,l,r)]}function dT(a,i,l,r){return[a(l,r),fT(i,l).id,a(l,r),a("time",r)]}function hT(a,i,l){return a.map(r=>r===i?l:r)}function Oy(a,i,l,r,u){const c=pa(i,l,u),d=Ty(i,l,u),h=c||d;if(!h)throw new Hi(`Could not find attr for ${[l,u]}`);if(h["value-type"]!=="ref")throw new Error(`Attr ${h.id} is not a ref`);const[m,p]=h["forward-identity"],[y,g]=h["reverse-identity"],S=r+1,T=c?[a(p,r),h.id,a(g,S),Fl("time")]:[a(p,S),h.id,a(g,r),Fl("time")];return[c?g:p,S,T,h,!!c]}function r0(a,i){if(typeof i!="string")return function(d){return!1};const r=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/%/g,".*").replace(/_/g,"."),u=new RegExp(`^${r}$`,a?void 0:"i");return function(d){return typeof d!="string"?!1:u.test(d)}}function pT(a,i){if(typeof i!="object"||i.hasOwnProperty("$in")||i.hasOwnProperty("in"))return i;const l=a["checked-data-type"]==="date";if(i.hasOwnProperty("$gt"))return{$comparator:!0,$op:l?function(u){return new Date(u[2])>new Date(i.$gt)}:function(u){return u[2]>i.$gt}};if(i.hasOwnProperty("$gte"))return{$comparator:!0,$op:l?function(u){return new Date(u[2])>=new Date(i.$gte)}:function(u){return u[2]>=i.$gte}};if(i.hasOwnProperty("$lt"))return{$comparator:!0,$op:l?function(u){return new Date(u[2])<new Date(i.$lt)}:function(u){return u[2]<i.$lt}};if(i.hasOwnProperty("$lte"))return{$comparator:!0,$op:l?function(u){return new Date(u[2])<=new Date(i.$lte)}:function(u){return u[2]<=i.$lte}};if(i.hasOwnProperty("$like")){const r=r0(!0,i.$like);return{$comparator:!0,$op:function(c){return r(c[2])}}}if(i.hasOwnProperty("$ilike")){const r=r0(!1,i.$ilike);return{$comparator:!0,$op:function(c){return r(c[2])}}}return i}function mT(a,i,l,r,u,c){const d=pa(i,l,u),h=Ty(i,l,u),m=d||h;if(!m)throw new Hi(`No attr for etype = ${l} label = ${u}`);if(c?.hasOwnProperty("$isNull")){const p=pa(i,l,"id");if(!p)throw new Hi(`No attr for etype = ${l} label = id`);return[a(l,r),p.id,{$isNull:{attrId:m.id,isNull:c.$isNull,reverse:!d}},Fl("time")]}return d?[a(l,r),m.id,pT(m,c),Fl("time")]:[c,m.id,a(l,r),Fl("time")]}function yT(a,i,l,r,u){const[c,d,h]=u.reduce((m,p)=>{const[y,g,S]=m,[T,j,x]=Oy(a,i,y,g,p);return[T,j,[...S,x]]},[l,r,[]]);return[c,d,h]}function Qc(a,i,l,r,u,c){const d=u.slice(0,u.length-1),h=u[u.length-1],[m,p,y]=yT(a,i,l,r,d),g=mT(a,i,m,p,h,c);return y.concat([g])}function vT(a,i){return i?[i].concat(a):a}function gT([a,i]){return a==="or"&&Array.isArray(i)}function bT([a,i]){return a==="and"&&Array.isArray(i)}function _T(a,i,l){return(r,u)=>{const c=a(r,u);return i==c?c:`${c}-${l}`}}function u0(a,i,l,r,u,c){const d=a(r,u),h=c.map((m,p)=>{const y=_T(a,d,p);return jy(y,l,r,u,m)});return{[i]:{patterns:h,joinSym:d}}}function ST(a){const i=[];for(let l=1;l<=a.length;l++)i.push(a.slice(0,l));return i}function o0(a,i,l,r,u){return ST(u).map(c=>Qc(a,i,l,r,c,{$isNull:!0}))}function jy(a,i,l,r,u){return Object.entries(u).flatMap(([c,d])=>{if(gT([c,d]))return u0(a,"or",i,l,r,d);if(bT([c,d]))return u0(a,"and",i,l,r,d);if(c==="$entityIdStartsWith")return[];const h=c.split(".");if(d?.hasOwnProperty("$ne")&&(d=Object.assign(Object.assign({},d),{$not:d.$ne}),delete d.$ne),d?.hasOwnProperty("$not")){const m=Qc(a,i,l,r,h,d),p=o0(a,i,l,r,h);return[{or:{patterns:[m,...p],joinSym:a(l,r)}}]}return d?.hasOwnProperty("$isNull")&&d.$isNull===!0&&h.length>1?[{or:{patterns:o0(a,i,l,r,h),joinSym:a(l,r)}}]:Qc(a,i,l,r,h,d)})}function TT(a,i,l,r){const u=Wr;return r?jy(u,a,i,l,r).concat(s0(u,a,i,l)):s0(u,a,i,l)}function ET(a,i,l){return[a(i,l),a("time",l)]}function xT(a,i,l,r,u,c){const[d,h,m,p,y]=Oy(a,i,l,r,u),g=hT(m,a(l,r),c);return[d,h,g,p,y]}function OT(a,i,{etype:l,level:r,form:u},c){const d=Object.keys(u).filter(h=>h!=="$");return d.length?Object.entries(c).map(function([m,p]){return d.map(function(S){var T,j,x;const O=!!(i.cardinalityInference&&(!((x=(j=(T=i.linkIndex)===null||T===void 0?void 0:T[l])===null||j===void 0?void 0:j[S])===null||x===void 0)&&x.isSingular));try{const[M,z,$]=xT(a,i,l,r,S,m),I=wy(i,{etype:M,level:z,form:u[S],join:$}),X=O?I[0]:I;return{[S]:X}}catch(M){if(M instanceof Hi)return{[S]:O?void 0:[]};throw M}}).reduce(function(S,T){return Object.assign(Object.assign({},S),T)},p)}):Object.values(c)}function jT(a,i,l){return l==="string"?oT(a,i):a>i?1:-1}function Xl(a,i,l,r,u){return i===r||i==null&&r==null?sT(a,l):r==null?1:i==null?-1:jT(i,r,u)}function Kr([a,i],[l,r],u){return Xl(a,i,l,r,u)}function Kc(a){return a==null?a:new Date(a).getTime()}function AT(a,i,l,r){var u;const[c,d,h,m]=a,p=l==="desc"?1:-1;if(((u=i["forward-identity"])===null||u===void 0?void 0:u[2])==="id")return Kr(r,[c,m],null)===p;const[y,g]=r,S=i["checked-data-type"],T=S==="date"?Kc(g):g,j=S==="date"?Kc(h):h;return Kr([y,T],[c,j],S)===p}function wT(a,i){const l=i[1];return a.attrs[l]}function MT(a,i,l){const r=Object.keys(l)[0];return pa(a,i,r)}function CT(a,i,l,r){if(l)return wT(a,l);if(r)return MT(a,i,r)}function DT(a,i,l){var r,u;if(!Array.isArray(l.fields))return qS(a,i);const c=new Map;for(const d of l.fields){const h=pa(a,i,d),m=(r=h?.["forward-identity"])===null||r===void 0?void 0:r[2];m&&jf(h)&&c.set(m,h)}if(!c.has("id")){const d=pa(a,i,"id"),h=(u=d?.["forward-identity"])===null||u===void 0?void 0:u[2];h&&c.set(h,d)}return c}function NT(a,{etype:i,pageInfo:l,dq:r,form:u}){var c,d;const h=(c=u?.$)===null||c===void 0?void 0:c.order,m=Ay(u),p=RT(u);let y=FS(a,r);const g=l?.["start-cursor"],S=CT(a,i,g,h);if(S&&((d=S?.["forward-identity"])===null||d===void 0?void 0:d[2])!=="id"){const x=S["checked-data-type"]==="date",O=S.id;y=y.map(([M])=>{var z,$,I,X,W;let Z=(W=(X=(I=($=(z=a.eav.get(M))===null||z===void 0?void 0:z.get(O))===null||$===void 0?void 0:$.values())===null||I===void 0?void 0:I.next())===null||X===void 0?void 0:X.value)===null||W===void 0?void 0:W[2];return x&&(Z=Kc(Z)),[M,Z]})}y.sort(p==="asc"?function(O,M){return Kr(O,M,S?.["checked-data-type"])}:function(O,M){return Kr(M,O,S?.["checked-data-type"])});let T={};const j=DT(a,i,r);for(const x of y){const[O]=x;if(T[O]||!m&&g&&S&&AT(g,S,p,x))continue;const M=BS(a,j,O);M&&(T[O]=M)}return T}function RT(a){var i;const l=(i=a.$)===null||i===void 0?void 0:i.order;return l&&l[Object.keys(l)[0]]||"asc"}function Ay(a){var i,l,r;const u=(i=a.$)===null||i===void 0?void 0:i.offset,c=(l=a.$)===null||l===void 0?void 0:l.before,d=(r=a.$)===null||r===void 0?void 0:r.after;return!u&&!c&&!d}function UT(a,{etype:i,level:l,form:r,join:u,pageInfo:c}){var d,h,m,p,y;if(!Ay(r)&&(!c||!c["start-cursor"]))return[];const g=vT(TT(a,i,l,(d=r.$)===null||d===void 0?void 0:d.where),u),S=ET(Wr,i,l),T=(h=r.$)===null||h===void 0?void 0:h.fields,j=NT(a,{etype:i,pageInfo:c,form:r,dq:{where:g,find:S,fields:T}}),x=((m=r.$)===null||m===void 0?void 0:m.limit)||((p=r.$)===null||p===void 0?void 0:p.first)||((y=r.$)===null||y===void 0?void 0:y.last);if(x!=null){l>0&&console.warn("WARNING: Limits in child queries are only run client-side. Data returned from the server will not have a limit.");const O=Object.entries(j);return O.length<=x?j:Object.fromEntries(O.slice(0,x))}return j}function zT(a,i){try{return UT(a,i)}catch(l){if(l instanceof Hi)return{};throw l}}function wy(a,i){const l=zT(a,i);return OT(Wr,a,i,l)}function LT(a){const i={};for(const[l,r]of Object.entries(a))i[l]={startCursor:r["start-cursor"],endCursor:r["end-cursor"],hasNextPage:r["has-next-page?"],hasPreviousPage:r["has-previous-page?"]};return i}function My({store:a,pageInfo:i,aggregate:l},r){const c={data:Object.keys(r).reduce(function(h,m){return l?.[m]||m==="$$ruleParams"||(h[m]=wy(a,{etype:m,form:r[m],level:0,pageInfo:i?.[m]})),h},{})};return i&&(c.pageInfo=LT(i)),l&&(c.aggregate=l),c}function kT(){const i={__etype:1,__ops:1,create:1,update:1,link:1,unlink:1,delete:1,merge:1,ruleParams:1};return new Set(Object.keys(i))}const HT=kT();function Vc(a,i,l){const r={__etype:a,__ops:l};return new Proxy(r,{get:(u,c)=>{if(c==="__ops")return l;if(c==="__etype")return a;if(HT.has(c))return(d,h)=>Vc(a,i,[...l,h?[c,a,i,d,h]:[c,a,i,d]])}})}function Vr(a){return a.startsWith("lookup__")}function Cy(a){const[i,l,...r]=a.split("__");return[l,JSON.parse(r.join("__"))]}function BT(a){return new Proxy({__etype:a},{get(i,l){if(l==="__etype")return a;const r=l;return Vr(r)?Vc(a,Cy(r),[]):Vc(a,r,[])}})}function Mf(){return new Proxy({},{get(a,i){return BT(i)}})}Mf();function qT(a){return a.__ops}function YT(a,i){const{attrIdMap:l,refSwapAttrIds:r}=a,u=[];for(const d of i){const h=l[d];if(h)u.push(h);else if(Array.isArray(d)&&d.length==2&&l[d[0]]){const[m,p]=d;u.push([l[m],p])}else u.push(d)}const[c]=i;if((c==="add-triple"||c==="retract-triple")&&r.has(i[2])){const d=u[1];u[1]=u[3],u[3]=d}return u}function dt(a,i,l){return Object.values(a).find(r=>{const[u,c,d]=r["forward-identity"];return c===i&&d===l})}function $a(a,i,l){return Object.values(a).find(r=>{const u=r["reverse-identity"];if(!u)return!1;const[c,d,h]=u;return d===i&&h===l})}function GT(a){if(Array.isArray(a))return a;const i=Object.entries(a);if(i.length!==1)throw new Error("lookup must be an object with a single unique attr and value.");return i[0]}function Xc(a,i,l){return l.indexOf(".")!==-1&&!dt(a,i,l)}function Zc(a){const[i,l,...r]=a.split(".");if(r.length>0||l!=="id")throw new Error(`${a} is not a valid lookup attribute.`);return i}function $T(a,i,l){if(!Xc(a,i,l))return dt(a,i,l);const r=Zc(l),u=dt(a,i,r)||$a(a,i,r);if(u&&u["value-type"]!=="ref")throw new Error(`${l} does not reference a valid link attribute.`);return u}function Jc(a){return typeof a=="string"&&!Vr(a)?null:typeof a=="string"&&Vr(a)?Cy(a):GT(a)}function At(a,i,l){const r=Jc(l);if(r===null)return l;const[u,c]=r,d=$T(a,i,u);if(!d||!d["unique?"])throw new Error(`${u} is not a unique attribute.`);return[d.id,c]}function Dy(a,i,l,r){const u=At(a,i,l);return Array.isArray(u)?[["add-triple",u,dt(a,i,"id").id,u]].concat(r):r}function QT({attrs:a},[i,l,r]){const u=Object.entries(r).flatMap(([c,d])=>{const h=Array.isArray(d)?d:[d],m=dt(a,i,c),p=$a(a,i,c);return h.map(y=>m?["add-triple",At(a,i,l),m.id,At(a,m["reverse-identity"][1],y)]:["add-triple",At(a,p["forward-identity"][1],y),p.id,At(a,i,l)])});return Dy(a,i,l,u)}function KT({attrs:a},[i,l,r]){const u=Object.entries(r).flatMap(([c,d])=>{const h=Array.isArray(d)?d:[d],m=dt(a,i,c),p=$a(a,i,c);return h.map(y=>m?["retract-triple",At(a,i,l),m.id,At(a,m["reverse-identity"][1],y)]:["retract-triple",At(a,p["forward-identity"][1],y),p.id,At(a,i,l)])});return Dy(a,i,l,u)}function VT(a,i,l){if(Array.isArray(l)){const[r,u]=l;for(const c of a||[]){const d=c?.aev.get(r);if(d){for(const[h,m,p]of jt(d,2))if(p===u)return!0}}}else for(const r of a||[]){const u=r?.eav.get(l);if(u){for(const c of u.keys())if(r.attrs[c]["forward-identity"][1]==i)return!0}}return!1}function Ny({stores:a,attrs:i},[l,r,u,c]){return c?.upsert===!1?{mode:"update"}:c?.upsert===!0?null:VT(a,l,r)?{mode:"update"}:null}function XT(a,i){const{stores:l,attrs:r}=a,[u,c,d,h]=i,m=xf(d),p=At(r,u,c);return[["id",p]].concat(Object.entries(m)).map(([g,S])=>{const T=dt(r,u,g);return T["checked-data-type"]==="date"&&a.useDateObjects&&(S=Pr(S)),["add-triple",p,T.id,S,{mode:"create"}]})}function ZT(a,i){const{stores:l,attrs:r}=a,[u,c,d,h]=i,m=xf(d),p=At(r,u,c),y=Ny(a,[u,p,d,h]);return[["id",p]].concat(Object.entries(m)).map(([S,T])=>{const j=dt(r,u,S);return j["checked-data-type"]==="date"&&a.useDateObjects&&(T=Pr(T)),["add-triple",p,j.id,T,...y?[y]:[]]})}function JT({attrs:a},[i,l]){return[["delete-entity",At(a,i,l),i]]}function IT(a,i){const{stores:l,attrs:r}=a,[u,c,d,h]=i,m=xf(d),p=At(r,u,c),y=Ny(a,[u,p,d,h]),g=Object.entries(m).map(([T,j])=>{const x=dt(r,u,T);return["deep-merge-triple",p,x.id,j,...y?[y]:[]]});return[["add-triple",p,dt(r,u,"id").id,p,...y?[y]:[]]].concat(g)}function FT({attrs:a},[i,l,r]){return[["rule-params",At(a,i,l),i,r]]}function PT(a){const[i,l,r,u,c]=a;if(!u)return a;const d=Object.assign({},u);return delete d.id,[i,l,r,d,...c?[c]:[]]}function WT(a,i){const[l,...r]=PT(i);switch(l){case"merge":return IT(a,r);case"create":return XT(a,r);case"update":return ZT(a,r);case"link":return QT(a,r);case"unlink":return KT(a,r);case"delete":return JT(a,r);case"ruleParams":return FT(a,r);default:throw new Error(`unsupported action ${l}`)}}function e1(a){switch(a){case"string":case"date":case"boolean":case"number":return a;default:return}}function t1(a,i,l){var r,u;const c=(u=(r=a.entities[i])===null||r===void 0?void 0:r.attrs)===null||u===void 0?void 0:u[l];if(l==="id")return null;if(!c)throw new Error(`${i}.${l} does not exist in your schema`);const{unique:d,indexed:h}=c?.config,m=e1(c?.valueType);return{"index?":h,"unique?":d,"checked-data-type":m}}function Dr(a,i,l,r){const u=a?t1(a,i,l):null,c=nt(),h=[nt(),i,l];return Object.assign(Object.assign({id:c,"forward-identity":h,"value-type":"blob",cardinality:"one","unique?":!1,"index?":!1,isUnsynced:!0},u||{}),r||{})}function n1(a,i,l){return Object.values(a.links).find(u=>u.forward.on===i&&u.forward.label===l||u.reverse.on===i&&u.reverse.label===l)}function a1(a,i,l){const r=n1(a,i,l);if(!r)throw new Error(`Couldn't find the link ${i}.${l} in your schema`);const{forward:u,reverse:c}=r;return{"forward-identity":[nt(),u.on,u.label],"reverse-identity":[nt(),c.on,c.label],cardinality:u.has==="one"?"one":"many","unique?":c.has==="one","on-delete":u.onDelete,"on-delete-reverse":c.onDelete}}function c0(a,i,l,r){const u=a?a1(a,i,l):null,c=nt(),d=[nt(),i,l],h=[nt(),l,i];return Object.assign(Object.assign({id:c,"forward-identity":d,"reverse-identity":h,"value-type":"ref",cardinality:"many","unique?":!1,"index?":!1,isUnsynced:!0},u||{}),r||{})}const i1=new Set(["create","update","merge","link","unlink"]),l1=new Set(["link","unlink"]),s1=new Set(["create","update","merge"]),r1=new Set(["link","unlink","create","update","merge","delete","ruleParams"]),Ic={"unique?":!0,"index?":!0},u1=Object.assign(Object.assign({},Ic),{cardinality:"one"});function o1(a){const i=[],[l,r,u,c]=a;if(!r1.has(l))return i;const d=Jc(u);if(d&&i.push({etype:r,lookupPair:d}),l==="link")for(const[h,m]of Object.entries(c)){const p=Array.isArray(m)?m:[m];for(const y of p){const g=Jc(y);g&&i.push({etype:r,lookupPair:g,linkLabel:h})}}return i}function c1({attrs:a,schema:i},l){var r,u;const[c,d,h]=[new Set,Object.assign({},a),[]];function m(g){d[g.id]=g,h.push(["add-attr",g]),c.add(g.id)}function p(g){g?.isUnsynced&&!c.has(g.id)&&(h.push(["add-attr",g]),c.add(g.id))}function y(g,S){const T=dt(d,g,S),j=$a(d,g,S);p(T),p(j),!T&&!j&&m(c0(i,g,S,u1))}for(const g of l)for(const{etype:S,lookupPair:T,linkLabel:j}of o1(g)){const x=T[0];if(j){y(S,j);const O=dt(d,S,j),M=$a(d,S,j);p(O),p(M);const z=((r=O?.["reverse-identity"])===null||r===void 0?void 0:r[1])||((u=M?.["forward-identity"])===null||u===void 0?void 0:u[1])||j;if(Xc(d,z,x))y(z,Zc(x));else{const $=dt(d,z,x);$||m(Dr(i,z,x,Ic)),p($)}}else if(Xc(d,S,x))y(S,Zc(x));else{const O=dt(d,S,x);O||m(Dr(i,S,x,Ic)),p(O)}}for(const g of l){const[S,T,j,x]=g;if(i1.has(S)){const O=dt(d,T,"id");p(O),O||m(Dr(i,T,"id",{"unique?":!0}));for(const M of Object.keys(x)){const z=dt(d,T,M);if(p(z),s1.has(S)&&(z||m(Dr(i,T,M,M==="id"?{"unique?":!0}:null))),l1.has(S)){const $=$a(d,T,M);!z&&!$&&m(c0(i,T,M)),p($)}}}}return[d,h]}function f1(a,i){const r=(Array.isArray(i)?i:[i]).flatMap(m=>qT(m)),[u,c]=c1(a,r),d=Object.assign(Object.assign({},a),{attrs:u}),h=r.flatMap(m=>WT(d,m));return[...c,...h]}var cn=function(a,i,l,r){function u(c){return c instanceof l?c:new l(function(d){d(c)})}return new(l||(l=Promise))(function(c,d){function h(y){try{p(r.next(y))}catch(g){d(g)}}function m(y){try{p(r.throw(y))}catch(g){d(g)}}function p(y){y.done?c(y.value):u(y.value).then(h,m)}p((r=r.apply(a,i||[])).next())})};function f0(a,i){typeof requestIdleCallback>"u"?a():requestIdleCallback(a,{timeout:i})}const Pl="__meta";class d1{constructor(i,l){}}class Fc{constructor(i){var l,r;this._subs=[],this._nextSave=null,this._nextGc=null,this._pendingSaveKeys=new Set,this._loadedKeys=new Set,this._version=0,this._meta={isLoading:!0,onLoadCbs:[],value:null,error:null,attempts:0},this._persister=i.persister,this._merge=i.merge,this.serialize=i.serialize,this.parse=i.parse,this._objectSize=i.objectSize,this._log=i.logger,this._saveThrottleMs=(l=i.saveThrottleMs)!==null&&l!==void 0?l:100,this._idleCallbackMaxWaitMs=(r=i.idleCallbackMaxWaitMs)!==null&&r!==void 0?r:1e3,this._gcOpts=i.gc,this.currentValue={},this._loadedKeys=new Set,this._loadingKeys={},this._initMeta(),i.preloadEntryCount&&this._preloadEntries(i.preloadEntryCount)}_initMeta(){return cn(this,void 0,void 0,function*(){var i,l,r;this._meta.loadingPromise&&(yield this._meta.loadingPromise);try{const u=this._persister.getItem(Pl);this._meta.loadingPromise=u;const c=yield u;this._meta.isLoading=!1,this._meta.error=null,this._meta.loadingPromise=null,this._meta.attempts=0;const d=(l=(i=this._meta.value)===null||i===void 0?void 0:i.objects)!==null&&l!==void 0?l:{},h=c??{},m=(r=h.objects)!==null&&r!==void 0?r:{};this._meta.value=Object.assign(Object.assign({},h),{objects:Object.assign(Object.assign({},d),m)})}catch(u){this._meta.error=u,this._meta.attempts++,this._meta.loadingPromise=null}})}_getMeta(){return cn(this,void 0,void 0,function*(){return this._meta.value?this._meta.value:this._meta.loadingPromise?(yield this._meta.loadingPromise,this._meta.value):(this._initMeta(),yield this._meta.loadingPromise,this._meta.value)})}_refreshMeta(){return cn(this,void 0,void 0,function*(){return yield this._initMeta(),this._meta.value})}_preloadEntries(i){return cn(this,void 0,void 0,function*(){const l=yield this.waitForMetaToLoad();if(!l)return;const r=Object.entries(l.objects);r.sort(([u,c],[d,h])=>h.updatedAt-c.updatedAt);for(const[u]of r.slice(0,i))this._loadKey(u)})}_getFromStorage(i){return cn(this,void 0,void 0,function*(){try{const l=yield this._persister.getItem(i);return l&&this.parse(i,l)}catch(l){return console.error(`Unable to read from storage for key=${i}`,l),null}})}waitForKeyToLoad(i){return cn(this,void 0,void 0,function*(){return this._loadedKeys.has(i)?this.currentValue[i]:(yield this._loadingKeys[i]||this._loadKey(i),this.currentValue[i])})}waitForMetaToLoad(){return cn(this,void 0,void 0,function*(){return this._getMeta()})}unloadKey(i){this._loadedKeys.delete(i),delete this._loadingKeys[i],delete this.currentValue[i]}_loadKey(i){return cn(this,void 0,void 0,function*(){if(this._loadedKeys.has(i)||i in this._loadingKeys)return;const l=this._getFromStorage(i);this._loadingKeys[i]=l;const r=yield l;if(delete this._loadingKeys[i],this._loadedKeys.add(i),r){const u=this._merge(i,r,this.currentValue[i]);u&&(this.currentValue[i]=u)}this.onKeyLoaded&&this.onKeyLoaded(i)})}_writeToStorage(i){var l,r;const u=[],c=i?.skipGc;if(this._meta.isLoading){const T=new Promise((j,x)=>{var O;setTimeout(()=>this._enqueuePersist(i?Object.assign(Object.assign({},i),{attempts:(i.attempts||0)+1}):{attempts:1}).then(j).catch(x),10+((O=i?.attempts)!==null&&O!==void 0?O:0)*1e3)});return u.push(T),Promise.all(u).then(j=>j.reduce((x,O)=>x+O,0))}const d=this._meta.value;if(!d)return Promise.resolve(0);const h=[],m=[];for(const T of this._pendingSaveKeys)T in this.currentValue?m.push(T):(h.push(T),delete d.objects[T]);for(const T of h){const j=this._persister.removeItem(T);u.push(j.then(()=>1)),this._loadedKeys.delete(T),this._pendingSaveKeys.delete(T)}const p=[],y=[[Pl,d]],g=(l=d.objects)!==null&&l!==void 0?l:{};d.objects=g;for(const T of m)if(this._loadedKeys.has(T)){const j=this.serialize(T,this.currentValue[T]);y.push([T,j]);const x=this._objectSize(j),O=(r=g[T])!==null&&r!==void 0?r:{createdAt:Date.now(),updatedAt:Date.now(),size:x};O.updatedAt=Date.now(),O.size=x,g[T]=O,this._pendingSaveKeys.delete(T)}else p.push(T);const S=this._persister.multiSet(y);u.push(S.then(()=>1));for(const T of p){const j=this._loadKey(T).then(()=>this._enqueuePersist(i));u.push(j)}return c||this.gc(),Promise.all(u).then(T=>T.reduce((j,x)=>j+x,0))}flush(){return cn(this,void 0,void 0,function*(){return this._nextSave?(clearTimeout(this._nextSave),this._nextSave=null,this._writeToStorage()):void 0})}_gc(){return cn(this,void 0,void 0,function*(){if(!this._gcOpts)return;const i=new Set(yield this._persister.getAllKeys());i.delete(Pl);const l=new Set(Object.keys(this.currentValue));for(const S of Object.keys(this._loadingKeys))l.add(S);for(const S of this._loadedKeys)l.add(S);const r=yield this._refreshMeta();if(!r){this._log.info("Could not gc because we were not able to load meta");return}const u=[],c={gcOpts:this._gcOpts,keys:i,sacredKeys:l,removed:[],metaRemoved:[],removedMissingCount:0,removedOldCount:0,removedThresholdCount:0,removedSizeCount:0};for(const S of i)l.has(S)||S in r.objects||(this._log.info("Lost track of key in meta",S),u.push(this._persister.removeItem(S)),c.removed.push(S),c.removedMissingCount++);const d=Date.now();for(const[S,T]of Object.entries(r.objects))!l.has(S)&&T.updatedAt<d-this._gcOpts.maxAgeMs&&(u.push(this._persister.removeItem(S)),delete r.objects[S],c.removed.push(S),c.removedOldCount++);const h=Object.entries(r.objects);h.sort(([S,T],[j,x])=>T.updatedAt-x.updatedAt);const m=h.filter(([S])=>!l.has(S));if(h.length>this._gcOpts.maxEntries)for(const[S]of m.slice(0,h.length-this._gcOpts.maxEntries))u.push(this._persister.removeItem(S)),delete r.objects[S],c.removed.push(S),c.removedThresholdCount++;const p=Object.entries(r.objects);p.sort(([S,T],[j,x])=>T.updatedAt-x.updatedAt);const y=p.filter(([S])=>!l.has(S));let g=p.reduce((S,[T,j])=>S+j.size,0);for(;g>0&&g>this._gcOpts.maxSize&&y.length;){const[[S,T]]=y.splice(0,1);g-=T.size,u.push(this._persister.removeItem(S)),delete r.objects[S],c.removed.push(S),c.removedSizeCount++}for(const S of Object.keys(r.objects))!i.has(S)&&!l.has(S)&&delete r.objects[S];return(c.removed.length||c.metaRemoved.length)&&u.push(this._enqueuePersist({skipGc:!0})),this._log.info("Completed GC",c),yield Promise.all(u),c})}gc(){this._nextGc||(this._nextGc=setTimeout(()=>{f0(()=>{this._nextGc=null,this._gc()},30*1e3)},1e3*60+Math.random()*500))}_enqueuePersist(i){return new Promise((l,r)=>{if(this._nextSave){l(0);return}this._nextSave=setTimeout(()=>{f0(()=>{this._nextSave=null,this._writeToStorage(i).then(l).catch(r)},this._idleCallbackMaxWaitMs)},this._saveThrottleMs)})}version(){return this._version}updateInPlace(i){this._version++;const[l,r]=Qr(this.currentValue,i,{enablePatches:!0});for(const u of r){const c=u.path[0];c&&typeof c=="string"&&(this._pendingSaveKeys.add(c),this._loadedKeys.has(c)||this._loadKey(c))}for(const u of Object.keys(l))if(!l[u])debugger;this.currentValue=l,this._enqueuePersist();for(const u of this._subs)u(this.currentValue);return l}subscribe(i){return this._subs.push(i),i(this.currentValue),()=>{this._subs=this._subs.filter(l=>l!==i)}}}var Un=function(a,i,l,r){function u(c){return c instanceof l?c:new l(function(d){d(c)})}return new(l||(l=Promise))(function(c,d){function h(y){try{p(r.next(y))}catch(g){d(g)}}function m(y){try{p(r.throw(y))}catch(g){d(g)}}function p(y){y.done?c(y.value):u(y.value).then(h,m)}p((r=r.apply(a,i||[])).next())})};const h1=6,p1=["kv","querySubs","syncSubs"];function m1(a){return function(l){console.error("Error in IndexedDB event",{source:a,event:l})}}function y1(a){return Un(this,void 0,void 0,function*(){return new Promise(i=>{const l=indexedDB.open(a);l.onerror=r=>{i(null)},l.onsuccess=r=>{const c=r.target.result;i(c)},l.onupgradeneeded=r=>{var u;(u=r.target.transaction)===null||u===void 0||u.abort(),i(null)}})})}function v1(a,i,l){return Un(this,void 0,void 0,function*(){const r=typeof i=="string"?JSON.parse(i):i;if(!r)return;const u=new Set;return new Promise((c,d)=>{var h,m,p,y;const g={};for(const[j,x]of Object.entries(r)){const O=typeof x=="string"?JSON.parse(x):x;if(O.lastAccessed){const z={createdAt:O.lastAccessed,updatedAt:O.lastAccessed,size:(y=(p=(m=(h=O.result)===null||h===void 0?void 0:h.store)===null||m===void 0?void 0:m.triples)===null||p===void 0?void 0:p.length)!==null&&y!==void 0?y:0};g[j]=z}const M=l.put(O,j);u.add(M)}const S={objects:g},T=l.put(S,Pl);u.add(T);for(const j of u)j.onsuccess=()=>{u.delete(j),u.size===0&&c()},j.onerror=x=>{d(x)}})})}function d0(a,i,l){return Un(this,void 0,void 0,function*(){const r=l.put(i,a);return new Promise((u,c)=>{r.onsuccess=()=>u(),r.onerror=d=>c(d)})})}function g1(a,i){return Un(this,void 0,void 0,function*(){const l=yield y1(`instant_${a}_5`);if(!l)return;const r=yield new Promise((y,g)=>{const j=l.transaction(["kv"],"readonly").objectStore("kv").openCursor();j.onerror=O=>{g(O)};const x=[];j.onsuccess=()=>{const O=j.result;if(O){const M=O.key,z=O.value;x.push([M,z]),O.continue()}else y(x)},j.onerror=O=>{g(O)}}),u=i.transaction(["kv","querySubs"],"readwrite"),c=u.objectStore("kv"),d=u.objectStore("querySubs"),h=[],m={objects:{}};for(const[y,g]of r)switch(y){case"querySubs":{const S=v1(y,g,d);h.push(S);break}default:{const S=d0(y,g,c);h.push(S);const T={createdAt:Date.now(),updatedAt:Date.now(),size:0};m.objects[y]=T;break}}const p=d0(Pl,m,c);h.push(p),yield Promise.all(h),yield new Promise((y,g)=>{u.oncomplete=S=>y(S),u.onerror=S=>g(S),u.onabort=S=>g(S)})})}const h0=new Map;class Ry extends d1{constructor(i,l){super(i,l),this.dbName=`instant_${i}_${h1}`,this._storeName=l,this._appId=i,this._dbPromise=this._init()}_init(){return new Promise((i,l)=>{let r=!1;const u=indexedDB.open(this.dbName,1);u.onerror=c=>{l(c)},u.onsuccess=c=>{const h=c.target.result;if(r){const m=g1(this._appId,h).catch(p=>{m1("Error upgrading store from version 5 to 6.")(p)});h0.set(this.dbName,m),m.then(()=>i(h)).catch(()=>i(h))}else{const m=h0.get(this.dbName);m?m.then(()=>i(h)).catch(()=>i(h)):i(h)}},u.onupgradeneeded=c=>{r=!0,this._upgradeStore(c)}})}_upgradeStore(i){const r=i.target.result;for(const u of p1)r.objectStoreNames.contains(u)||r.createObjectStore(u)}getItem(i){return Un(this,void 0,void 0,function*(){const l=yield this._dbPromise;return new Promise((r,u)=>{const h=l.transaction([this._storeName],"readonly").objectStore(this._storeName).get(i);h.onerror=m=>{u(m)},h.onsuccess=m=>{h.result?r(h.result):r(null)}})})}setItem(i,l){return Un(this,void 0,void 0,function*(){const r=yield this._dbPromise;return new Promise((u,c)=>{const m=r.transaction([this._storeName],"readwrite").objectStore(this._storeName).put(l,i);m.onerror=p=>{c(p)},m.onsuccess=p=>{u()}})})}multiSet(i){return Un(this,void 0,void 0,function*(){const l=yield this._dbPromise;return new Promise((r,u)=>{const c=l.transaction([this._storeName],"readwrite"),d=c.objectStore(this._storeName),h=new Set;for(const[m,p]of i){const y=d.put(p,m);h.add(y)}for(const m of h)m.onerror=p=>{c.abort(),u(p)},m.onsuccess=p=>{h.delete(m),h.size===0&&r()}})})}removeItem(i){return Un(this,void 0,void 0,function*(){const l=yield this._dbPromise;return new Promise((r,u)=>{const h=l.transaction([this._storeName],"readwrite").objectStore(this._storeName).delete(i);h.onerror=m=>{u(m)},h.onsuccess=m=>{r()}})})}getAllKeys(){return Un(this,void 0,void 0,function*(){const i=yield this._dbPromise;return new Promise((l,r)=>{const d=i.transaction([this._storeName],"readonly").objectStore(this._storeName).getAllKeys();d.onerror=h=>{r(h)},d.onsuccess=h=>{l(d.result.filter(m=>typeof m=="string"))}})})}}var b1=function(a,i,l,r){function u(c){return c instanceof l?c:new l(function(d){d(c)})}return new(l||(l=Promise))(function(c,d){function h(y){try{p(r.next(y))}catch(g){d(g)}}function m(y){try{p(r.throw(y))}catch(g){d(g)}}function p(y){y.done?c(y.value):u(y.value).then(h,m)}p((r=r.apply(a,i||[])).next())})};class Uy{static getIsOnline(){return b1(this,void 0,void 0,function*(){return navigator.onLine})}static listen(i){const l=()=>{i(!0)},r=()=>{i(!1)};return addEventListener("online",l),addEventListener("offline",r),()=>{removeEventListener("online",l),removeEventListener("offline",r)}}}class Bi extends Error{constructor(i,l){super(i),this.hint=l;const r=new.target.prototype;Object.setPrototypeOf&&Object.setPrototypeOf(this,r),Error.captureStackTrace&&Error.captureStackTrace(this,Bi),this.name="InstantError"}get[Symbol.toStringTag](){return"InstantError"}}var _1=function(a,i,l,r){function u(c){return c instanceof l?c:new l(function(d){d(c)})}return new(l||(l=Promise))(function(c,d){function h(y){try{p(r.next(y))}catch(g){d(g)}}function m(y){try{p(r.throw(y))}catch(g){d(g)}}function p(y){y.done?c(y.value):u(y.value).then(h,m)}p((r=r.apply(a,i||[])).next())})};class eu extends Bi{constructor(i){var l;const r=((l=i.body)===null||l===void 0?void 0:l.message)||`API Error (${i.status})`;super(r,i.body.hint);const u=new.target.prototype;Object.setPrototypeOf&&Object.setPrototypeOf(this,u),Error.captureStackTrace&&Error.captureStackTrace(this,eu),this.name="InstantAPIError",this.status=i.status,this.body=i.body}get[Symbol.toStringTag](){return"InstantAPIError"}}function ln(a,i){return _1(this,void 0,void 0,function*(){const l=yield fetch(a,i),r=yield l.json();return l.status===200?Promise.resolve(r):Promise.reject(new eu({status:l.status,body:r}))})}var Qi=function(a,i,l,r){function u(c){return c instanceof l?c:new l(function(d){d(c)})}return new(l||(l=Promise))(function(c,d){function h(y){try{p(r.next(y))}catch(g){d(g)}}function m(y){try{p(r.throw(y))}catch(g){d(g)}}function p(y){y.done?c(y.value):u(y.value).then(h,m)}p((r=r.apply(a,i||[])).next())})};function S1({apiURI:a,appId:i,email:l}){return ln(`${a}/runtime/auth/send_magic_code`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({"app-id":i,email:l})})}function T1(a){return Qi(this,arguments,void 0,function*({apiURI:i,appId:l,email:r,code:u,refreshToken:c}){return yield ln(`${i}/runtime/auth/verify_magic_code`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(Object.assign({"app-id":l,email:r,code:u},c?{"refresh-token":c}:{}))})})}function E1(a){return Qi(this,arguments,void 0,function*({apiURI:i,appId:l,refreshToken:r}){return yield ln(`${i}/runtime/auth/verify_refresh_token`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({"app-id":l,"refresh-token":r})})})}function x1(a){return Qi(this,arguments,void 0,function*({apiURI:i,appId:l}){return yield ln(`${i}/runtime/auth/sign_in_guest`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({"app-id":l})})})}function p0(a){return Qi(this,arguments,void 0,function*({apiURI:i,appId:l,code:r,codeVerifier:u,refreshToken:c}){return yield ln(`${i}/runtime/oauth/token`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({app_id:l,code:r,code_verifier:u,refresh_token:c})})})}function O1(a){return Qi(this,arguments,void 0,function*({apiURI:i,appId:l,nonce:r,idToken:u,clientName:c,refreshToken:d}){return yield ln(`${i}/runtime/oauth/id_token`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({app_id:l,nonce:r,id_token:u,client_name:c,refresh_token:d})})})}function j1(a){return Qi(this,arguments,void 0,function*({apiURI:i,appId:l,refreshToken:r}){return yield ln(`${i}/runtime/signout`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({app_id:l,refresh_token:r})})})}var cs=function(a,i,l,r){function u(c){return c instanceof l?c:new l(function(d){d(c)})}return new(l||(l=Promise))(function(c,d){function h(y){try{p(r.next(y))}catch(g){d(g)}}function m(y){try{p(r.throw(y))}catch(g){d(g)}}function p(y){y.done?c(y.value):u(y.value).then(h,m)}p((r=r.apply(a,i||[])).next())})};function A1(a){return cs(this,arguments,void 0,function*({apiURI:i,appId:l,path:r,file:u,refreshToken:c,contentType:d,contentDisposition:h}){const m={app_id:l,path:r,authorization:`Bearer ${c}`,"content-type":d||u.type};return h&&(m["content-disposition"]=h),yield ln(`${i}/storage/upload`,{method:"PUT",headers:m,body:u})})}function w1(a){return cs(this,arguments,void 0,function*({apiURI:i,appId:l,path:r,refreshToken:u}){const{data:c}=yield ln(`${i}/storage/files?app_id=${l}&filename=${encodeURIComponent(r)}`,{method:"DELETE",headers:{"content-type":"application/json",authorization:`Bearer ${u}`}});return c})}function M1(a){return cs(this,arguments,void 0,function*({apiURI:i,appId:l,fileName:r,refreshToken:u,metadata:c={}}){const{data:d}=yield ln(`${i}/storage/signed-upload-url`,{method:"POST",headers:{"content-type":"application/json",authorization:`Bearer ${u}`},body:JSON.stringify({app_id:l,filename:r})});return d})}function C1(a,i){return cs(this,void 0,void 0,function*(){return(yield fetch(a,{method:"PUT",body:i,headers:{"Content-Type":i.type}})).ok})}function D1(a){return cs(this,arguments,void 0,function*({apiURI:i,appId:l,path:r,refreshToken:u}){const{data:c}=yield ln(`${i}/storage/signed-download-url?app_id=${l}&filename=${encodeURIComponent(r)}`,{method:"GET",headers:{"content-type":"application/json",authorization:`Bearer ${u}`}});return c})}let Cf=!1,zy=!1,Ly=!1;typeof window<"u"&&typeof window.localStorage<"u"&&(Cf=!!window.localStorage.getItem("devBackend"),zy=!!window.localStorage.getItem("__instantLogging"),Ly=!!window.localStorage.getItem("__devtoolLocalDash"));function m0(a,i){if(!i)return a;const l={};return i.forEach(r=>{l[r]=a[r]}),l}function N1(a,i,l){var r,u;const c={peers:{}};if(i&&"user"in i?i.user:!0){const h=m0((r=a.user)!==null&&r!==void 0?r:{},i?.keys);c.user=Object.assign(Object.assign({},h),{peerId:l})}for(const h of Object.keys((u=a.peers)!==null&&u!==void 0?u:{})){const m=i?.peers===void 0,p=Array.isArray(i?.peers)&&i?.peers.includes(h);if(m||p){const y=m0(a.peers[h],i?.keys);c.peers[h]=Object.assign(Object.assign({},y),{peerId:h})}}return c}function R1(a,i){if(a.isLoading!==i.isLoading||a.error!==i.error||(a.user||i.user)&&(!a.user||!i.user||!e0(a.user,i.user))||!cy(a.peers,i.peers))return!0;for(const r of Object.keys(a.peers))if(!e0(a.peers[r],i.peers[r]))return!0;return!1}class y0{constructor(){this.promise=new Promise((i,l)=>{this._resolve=i,this._reject=l})}resolve(i){this._resolve(i)}reject(i){this._reject(i)}}function ky(a,i=[]){a.forEach(l=>{const{data:r}=l,{"datalog-result":u}=r,{"join-rows":c}=u;for(const d of c)for(const h of d)i.push(h);ky(l["child-nodes"],i)})}function v0(a){const i=[];return ky(a,i),i}function g0(a){return Object.values(a.links).reduce((i,l)=>{var r,u,c,d;return(r=i[c=l.forward.on])!==null&&r!==void 0||(i[c]={}),i[l.forward.on][l.forward.label]={isForward:!0,isSingular:l.forward.has==="one",link:l},(u=i[d=l.reverse.on])!==null&&u!==void 0||(i[d]={}),i[l.reverse.on][l.reverse.label]={isForward:!1,isSingular:l.reverse.has==="one",link:l},i},{})}const Df="v0.22.73";function U1(a,i){return{info:a?(...l)=>console.info(...l,i()):()=>{},debug:a?(...l)=>console.debug(...l,i()):()=>{},error:a?(...l)=>console.error(...l,i()):()=>{}}}class zn{constructor(i,l,r,u={indexed:!1,unique:!1}){this.valueType=i,this.required=l,this.isIndexed=r,this.config=u,this.metadata={}}clientRequired(){return new zn(this.valueType,!1,this.isIndexed,this.config)}optional(){return new zn(this.valueType,!1,this.isIndexed,this.config)}unique(){return new zn(this.valueType,this.required,this.isIndexed,Object.assign(Object.assign({},this.config),{unique:!0}))}indexed(){return new zn(this.valueType,this.required,!0,Object.assign(Object.assign({},this.config),{indexed:!0}))}}class Re extends Error{constructor(i,l){const r=l?`At path '${l}': ${i}`:i;super(r),this.name="QueryValidationError"}}const b0=["where","order","limit","last","first","offset","after","before","fields","aggregate"],z1=a=>a.valueType||"unknown",Hy=(a,i,l=!1)=>{if(l||a==null)return!0;switch(i){case"string":return typeof a=="string";case"number":return typeof a=="number"&&!isNaN(a);case"boolean":return typeof a=="boolean";case"date":return a instanceof Date||typeof a=="string"||typeof a=="number";default:return!0}},L1=(a,i,l,r,u,c,d)=>{const h=c.valueType==="json",m=(p,y,g)=>{if(!Hy(g,y,h))throw new Re(`Invalid value for operator '${p}' on attribute '${r}' in entity '${u}'. Expected ${y}, but received: ${typeof g}`,d)};switch(a){case"in":case"$in":if(!Array.isArray(i))throw new Re(`Operator '${a}' for attribute '${r}' in entity '${u}' must be an array, but received: ${typeof i}`,d);for(const p of i)m(a,l,p);break;case"$not":case"$ne":case"$gt":case"$lt":case"$gte":case"$lte":m(a,l,i);break;case"$like":case"$ilike":if(m(a,"string",i),a==="$ilike"&&!c.isIndexed)throw new Re(`Operator '${a}' can only be used with indexed attributes, but '${r}' in entity '${u}' is not indexed`,d);break;case"$isNull":m(a,"boolean",i);break;default:throw new Re(`Unknown operator '${a}' for attribute '${r}' in entity '${u}'`,d)}},zi=(a,i,l,r,u)=>{const c=z1(l),d=l.valueType==="json";if(typeof a=="object"&&a!==null&&!Array.isArray(a)){if(d)return;const m=a;for(const[p,y]of Object.entries(m))L1(p,y,c,i,r,l,`${u}.${p}`)}else if(!Hy(a,c,d))throw new Re(`Invalid value for attribute '${i}' in entity '${r}'. Expected ${c}, but received: ${typeof a}`,u)},k1=(a,i,l,r,u)=>{const c=a.split(".");if(c.length<2)throw new Re(`Invalid dot notation path '${a}'. Must contain at least one dot.`,u);let d=l;for(let y=0;y<c.length-1;y++){const g=c[y],S=r.entities[d];if(!S)throw new Re(`Entity '${d}' does not exist in schema while traversing dot notation path '${a}'.`,u);const T=S.links[g];if(!T){const j=Object.keys(S.links);throw new Re(`Link '${g}' does not exist on entity '${d}' in dot notation path '${a}'. Available links: ${j.length>0?j.join(", "):"none"}`,u)}d=T.entityName}const h=c[c.length-1],m=r.entities[d];if(!m)throw new Re(`Target entity '${d}' does not exist in schema for dot notation path '${a}'.`,u);if(h==="id"){if(typeof i=="string"&&!ki(i))throw new Re(`Invalid value for id field in entity '${d}'. Expected a UUID, but received: ${i}`,u);zi(i,a,new zn("string",!1,!0),l,u);return}const p=m.attrs[h];if(Object.keys(m.links).includes(h)){if(typeof i=="string"&&!ki(i))throw new Re(`Invalid value for link '${h}' in entity '${d}'. Expected a UUID, but received: ${i}`,u);zi(i,a,new zn("string",!1,!0),l,u);return}if(!p){const y=Object.keys(m.attrs);throw new Re(`Attribute '${h}' does not exist on entity '${d}' in dot notation path '${a}'. Available attributes: ${y.length>0?y.join(", ")+", id":"id"}`,u)}zi(i,a,p,l,u)},By=(a,i,l,r)=>{for(const[u,c]of Object.entries(a)){if(u==="or"||u==="and"){if(Array.isArray(c))for(const p of c)typeof p=="object"&&p!==null&&By(p,i,l,`${r}.${u}[${p}]`);continue}if(u==="id"){zi(c,"id",new zn("string",!1,!0),i,`${r}.id`);continue}if(u.includes(".")){k1(u,c,i,l,`${r}.${u}`);continue}const d=l.entities[i];if(!d)continue;const h=d.attrs[u],m=d.links[u];if(!h&&!m){const p=Object.keys(d.attrs),y=Object.keys(d.links);throw new Re(`Attribute or link '${u}' does not exist on entity '${i}'. Available attributes: ${p.length>0?p.join(", "):"none"}. Available links: ${y.length>0?y.join(", "):"none"}`,`${r}.${u}`)}if(h)zi(c,u,h,i,`${r}.${u}`);else if(m){if(typeof c=="string"&&!ki(c))throw new Re(`Invalid value for link '${u}' in entity '${i}'. Expected a UUID, but received: ${c}`,`${r}.${u}`);const p=new zn("string",!1,!0);zi(c,u,p,i,`${r}.${u}`)}}},H1=(a,i,l,r,u=0)=>{for(const d of Object.keys(a))if(!b0.includes(d))throw new Re(`Invalid query parameter '${d}' in $ object. Valid parameters are: ${b0.join(", ")}. Found: ${d}`,r);const c=["offset","before","after","first","last"];for(const d of c)if(a[d]!==void 0&&u>0)throw new Re(`'${d}' can only be used on top-level namespaces. It cannot be used in nested queries.`,r);if(a.where&&l){if(typeof a.where!="object"||a.where===null)throw new Re(`'where' clause must be an object in entity '${i}', but received: ${typeof a.where}`,r?`${r}.where`:void 0);By(a.where,i,l,r?`${r}.where`:"where")}},qy=(a,i,l,r,u=0)=>{var c;if(!a||typeof a!="object")throw new Re(`Query part for entity '${i}' must be an object, but received: ${typeof a}`,r);for(const d of Object.keys(a))if(d!=="$"){if(l&&!(d in l.entities[i].links)){const m=Object.keys(l.entities[i].links);throw new Re(`Link '${d}' does not exist on entity '${i}'. Available links: ${m.length>0?m.join(", "):"none"}`,`${r}.${d}`)}const h=a[d];if(typeof h=="object"&&h!==null){const m=(c=l?.entities[i].links[d])===null||c===void 0?void 0:c.entityName;m&&qy(h,m,l,`${r}.${d}`,u+1)}}else{const h=a[d];if(typeof h!="object"||h===null)throw new Re(`Query parameter '$' must be an object in entity '${i}', but received: ${typeof h}`,`${r}.$`);H1(h,i,l,`${r}.$`,u)}},_0=(a,i)=>{if(typeof a!="object"||a===null)throw new Re(`Query must be an object, but received: ${typeof a}${a===null?" (null)":""}`);if(Array.isArray(a))throw new Re(`Query must be an object, but received: ${typeof a}`);const l=a;for(const r of Object.keys(l)){if(Array.isArray(a[r]))throw new Re(`Query keys must be strings, but found key of type: ${typeof r}`,r);if(typeof r!="string")throw new Re(`Query keys must be strings, but found key of type: ${typeof r}`,r);if(r!=="$$ruleParams"){if(i&&!i.entities[r]){const u=Object.keys(i.entities);throw new Re(`Entity '${r}' does not exist in schema. Available entities: ${u.length>0?u.join(", "):"none"}`,r)}qy(l[r],r,i,r,0)}}},S0=a=>typeof a!="string"?!1:Vr(a)?!0:ki(a);class It extends Error{constructor(i){super(i),this.name="TransactionValidationError"}}const Yy=a=>a.length>0?a.join(", "):"none",B1=(a,i)=>new It(`Entity '${a}' does not exist in schema. Available entities: ${Yy(i)}`),T0={string:a=>typeof a=="string",number:a=>typeof a=="number"&&!isNaN(a),boolean:a=>typeof a=="boolean",date:a=>a instanceof Date||typeof a=="string"||typeof a=="number",json:()=>!0},q1=(a,i)=>{var l,r;return a==null?!0:(r=(l=T0[i.valueType])===null||l===void 0?void 0:l.call(T0,a))!==null&&r!==void 0?r:!1},Gy=(a,i)=>{const l=i.entities[a];if(!l)throw B1(a,Object.keys(i.entities));return l},Ac=(a,i,l)=>{const r=Gy(a,l);if(typeof i!="object"||i===null)throw new It(`Arguments for data operation on entity '${a}' must be an object, but received: ${typeof i}`);for(const[u,c]of Object.entries(i)){if(u==="id")continue;const d=r.attrs[u];if(d&&!q1(c,d))throw new It(`Invalid value for attribute '${u}' in entity '${a}'. Expected ${d.valueType}, but received: ${typeof c}`)}},E0=(a,i,l)=>{const r=Gy(a,l);if(typeof i!="object"||i===null)throw new It(`Arguments for link operation on entity '${a}' must be an object, but received: ${typeof i}`);for(const[u,c]of Object.entries(i)){if(!r.links[u]){const h=Object.keys(r.links);throw new It(`Link '${u}' does not exist on entity '${a}'. Available links: ${Yy(h)}`)}if(c!=null){if(Array.isArray(c)){for(const h of c)if(!S0(h))throw new It(`Invalid entity ID in link '${u}' for entity '${a}'. Expected a UUID or a lookup, but received: ${h}`)}else if(!S0(c))throw new It(`Invalid UUID in link '${u}' for entity '${a}'. Expected a UUID, but received: ${c}`)}}},Y1={create:Ac,update:Ac,merge:Ac,link:E0,unlink:E0,delete:()=>{}},G1=(a,i)=>{if(!i)return;const[l,r,u,c]=a;if(!Array.isArray(u)&&!ki(u))throw new It(`Invalid id for entity '${r}'. Expected a UUID, but received: ${u}`);if(typeof r!="string")throw new It(`Entity name must be a string, but received: ${typeof r}`);const d=Y1[l];d&&c!==void 0&&d(r,c,i)},$1=(a,i)=>{const l=Array.isArray(a)?a:[a];for(const r of l){if(!r||typeof r!="object")throw new It(`Transaction chunk must be an object, but received: ${typeof r}`);if(!Array.isArray(r.__ops))throw new It(`Transaction chunk must have __ops array, but received: ${typeof r.__ops}`);for(const u of r.__ops){if(!Array.isArray(u))throw new It(`Transaction operation must be an array, but received: ${typeof u}`);G1(u,i)}}};var x0=function(a,i,l,r){function u(c){return c instanceof l?c:new l(function(d){d(c)})}return new(l||(l=Promise))(function(c,d){function h(y){try{p(r.next(y))}catch(g){d(g)}}function m(y){try{p(r.throw(y))}catch(g){d(g)}}function p(y){y.done?c(y.value):u(y.value).then(h,m)}p((r=r.apply(a,i||[])).next())})};let $y=0;class O0{constructor(i){this.type="ws",this.id=`${this.type}_${$y++}`,this.conn=new WebSocket(i),this.conn.onopen=l=>{this.onopen&&this.onopen({target:this})},this.conn.onmessage=l=>{this.onmessage&&this.onmessage({target:this,message:JSON.parse(l.data.toString())})},this.conn.onclose=l=>{this.onclose&&this.onclose({target:this})},this.conn.onerror=l=>{this.onerror&&this.onerror({target:this})}}close(){this.conn.close()}isOpen(){var i;return this.conn.readyState===((i=WebSocket.OPEN)!==null&&i!==void 0?i:1)}isConnecting(){var i;return this.conn.readyState===((i=WebSocket.CONNECTING)!==null&&i!==void 0?i:0)}send(i){return this.conn.send(JSON.stringify(i))}}class Q1{constructor(i,l){this.type="sse",this.initParams=null,this.sendQueue=[],this.closeFired=!1,this.sseInitTimeout=void 0,this.id=`${this.type}_${$y++}`,this.url=l,this.ES=i,this.conn=new i(l),this.sseInitTimeout=setTimeout(()=>{this.initParams||this.handleError()},1e4),this.conn.onmessage=r=>{const u=JSON.parse(r.data);if(u.op==="sse-init"){this.initParams={machineId:u["machine-id"],sessionId:u["session-id"],sseToken:u["sse-token"]},this.onopen&&this.onopen({target:this}),clearTimeout(this.sseInitTimeout);return}this.onmessage&&this.onmessage({target:this,message:u})},this.conn.onerror=r=>{this.handleError()}}handleError(){try{this.onerror&&this.onerror({target:this})}finally{this.handleClose()}}handleClose(){this.conn.close(),this.onclose&&!this.closeFired&&(this.closeFired=!0,this.onclose({target:this}))}postMessages(i){return x0(this,void 0,void 0,function*(){var l,r,u;try{(yield fetch(this.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({machine_id:(l=this.initParams)===null||l===void 0?void 0:l.machineId,session_id:(r=this.initParams)===null||r===void 0?void 0:r.sessionId,sse_token:(u=this.initParams)===null||u===void 0?void 0:u.sseToken,messages:i})})).ok||this.handleError()}catch{this.handleError()}})}flushQueue(){return x0(this,void 0,void 0,function*(){if(this.sendPromise||!this.sendQueue.length)return;const i=this.sendQueue;this.sendQueue=[];const l=this.postMessages(i);this.sendPromise=l,l.then(()=>{this.sendPromise=null,this.flushQueue()})})}send(i){if(!this.isOpen()||!this.initParams)throw this.isConnecting()?new Error("Failed to execute 'send' on 'EventSource': Still in CONNECTING state."):this.conn.readyState===this.ES.CLOSED?new Error("EventSource is already in CLOSING or CLOSED state."):new Error("EventSource is in invalid state.");this.sendQueue.push(i),this.flushQueue()}isOpen(){return this.conn.readyState===this.ES.OPEN&&this.initParams!==null}isConnecting(){return this.conn.readyState===this.ES.CONNECTING||this.conn.readyState===this.ES.OPEN&&this.initParams===null}close(){this.handleClose()}}var j0=function(a,i,l,r){function u(c){return c instanceof l?c:new l(function(d){d(c)})}return new(l||(l=Promise))(function(c,d){function h(y){try{p(r.next(y))}catch(g){d(g)}}function m(y){try{p(r.throw(y))}catch(g){d(g)}}function p(y){y.done?c(y.value):u(y.value).then(h,m)}p((r=r.apply(a,i||[])).next())})};function K1(a,i){const l=a.values;if(l)for(const r of l.entities||[])r.store.useDateObjects=i,r.store.attrs=l.attrs,r.store=yy(r.store);return a}function V1(a,i){var l,r;if(!((l=i.values)===null||l===void 0)&&l.entities){const u=[];for(const c of(r=i.values)===null||r===void 0?void 0:r.entities){const d=my(c.store);delete d.attrs,u.push(Object.assign(Object.assign({},c),{store:d}))}return Object.assign(Object.assign({},i),{values:Object.assign(Object.assign({},i.values),{entities:u})})}else return i}function X1(a,i,l){var r,u;const c=(r=i?.state)===null||r===void 0?void 0:r.txId,d=(u=l?.state)===null||u===void 0?void 0:u.txId;return c&&(!d||c>d)?i:d&&(!c||d>c)?l:i||l}function wc(a,i){return My({store:i,pageInfo:null,aggregate:null},a.query).data[a.table][0]}function A0(a,i,l){var r;const u=(r=pa(i,a.table,"id"))===null||r===void 0?void 0:r.id;if(!u)return-1;const c=$i(i.eav,[l,u,l]);return c?c[3]:-1}function w0(a,i){for(const{action:l,triple:r}of i)switch(l){case"added":by(a,r);break;case"removed":vy(a,r);break}}function Z1(a,i){var l,r,u,c;const d={};for(const{action:h,triple:m}of i){const[p,y,g]=m,S=(r=(l=a.attrs[y])===null||l===void 0?void 0:l["forward-identity"])===null||r===void 0?void 0:r[2];if(!S)continue;const T=(u=d[p])!==null&&u!==void 0?u:{};d[p]=T;const j=(c=T[S])!==null&&c!==void 0?c:{};switch(T[S]=j,h){case"added":j.newValue=g;break;case"removed":j.oldValue===void 0&&(j.oldValue=g);break}}for(const h of Object.keys(d)){const{oldValue:m,newValue:p}=d[h];m===p&&delete d[h]}return d}function Nr(a,i){return{[a.table]:i.map(l=>l.entity)}}function J1(a,i){var l;if(a.orderFieldType)return a.orderFieldType;const r=a.orderField==="serverCreatedAt"?"number":(l=pa(i([]),a.table,a.orderField))===null||l===void 0?void 0:l["checked-data-type"];return a.orderFieldType=r,r}function I1(a,i,l){const r=i;if(a.orderField==="serverCreatedAt"){l.sort(a.orderDirection==="asc"?function(d,h){return Xl(d.entity.id,d.serverCreatedAt,h.entity.id,h.serverCreatedAt,r)}:function(d,h){return Xl(h.entity.id,h.serverCreatedAt,d.entity.id,d.serverCreatedAt,r)});return}const u=a.orderField;l.sort(a.orderDirection==="asc"?function(d,h){return Xl(d.entity.id,d.entity[u],h.entity.id,h.entity[u],r)}:function(d,h){return Xl(h.entity.id,h.entity[u],d.entity.id,d.entity[u],r)})}var ka;(function(a){a.InitialSyncBatch="InitialSyncBatch",a.InitialSyncComplete="InitialSyncComplete",a.LoadFromStorage="LoadFromStorage",a.SyncTransaction="SyncTransaction",a.Error="Error"})(ka||(ka={}));class F1{constructor(i,l,r,u,c){this.callbacks={},this.idToHash={},this.trySend=i,this.config=r,this.log=u,this.createStore=c,this.subs=new Fc({persister:l,merge:X1,serialize:V1,parse:(d,h)=>K1(h,this.config.useDateObjects),objectSize:d=>{var h;return((h=d.values)===null||h===void 0?void 0:h.entities.length)||0},logger:u,gc:{maxAgeMs:1e3*60*60*24*7*52,maxEntries:1e3,maxSize:1e6}})}beforeUnload(){this.subs.flush()}subscribe(i,l){const r=ft(i);return this.callbacks[r]=this.callbacks[r]||[],this.callbacks[r].push(l),this.initSubscription(i,r,l),u=>{this.unsubscribe(r,l,u?.keepSubscription)}}unsubscribe(i,l,r){const u=(this.callbacks[i]||[]).filter(c=>c!==l);if(this.callbacks[i]=u,!u.length){delete this.callbacks[i];const c=this.subs.currentValue[i];c?.state&&this.clearSubscriptionData(c.state.subscriptionId,!!r),r||this.subs.updateInPlace(d=>{delete d[i]})}}sendStart(i){this.trySend(nt(),{op:"start-sync",q:i})}sendResync(i,l,r){this.idToHash[l.subscriptionId]=i.hash,this.trySend(l.subscriptionId,{op:"resync-table","subscription-id":l.subscriptionId,"tx-id":r,token:l.token})}sendRemove(i,l){this.trySend(nt(),{op:"remove-sync","subscription-id":i.subscriptionId,"keep-subscription":l})}initSubscription(i,l,r){return j0(this,void 0,void 0,function*(){var u,c,d,h;yield this.subs.waitForKeyToLoad(l);const m=this.subs.currentValue[l];if(m&&m.state&&m.state.txId){this.sendResync(m,m.state,m.state.txId),!((u=m.values)===null||u===void 0)&&u.entities&&r&&r({type:ka.LoadFromStorage,data:Nr(m,(c=m.values)===null||c===void 0?void 0:c.entities)});return}const p=Object.keys(i)[0],y=((h=(d=i[p])===null||d===void 0?void 0:d.$)===null||h===void 0?void 0:h.order)||{serverCreatedAt:"asc"},[g,S]=Object.entries(y)[0];this.subs.updateInPlace(T=>{T[l]={query:i,hash:l,table:p,orderDirection:S,orderField:g,createdAt:Date.now(),updatedAt:Date.now()}}),this.sendStart(i)})}flushPending(){return j0(this,void 0,void 0,function*(){for(const i of Object.keys(this.callbacks)){yield this.subs.waitForKeyToLoad(i);const l=this.subs.currentValue[i];l?yield this.initSubscription(l.query,l.hash):this.log.error("Missing sub for hash in flushPending",i)}})}onStartSyncOk(i){const l=i["subscription-id"],r=i.q,u=ft(r);this.idToHash[l]=u,this.subs.updateInPlace(c=>{const d=c[u];if(!d)return this.log.error("Missing sub for hash",u,"subscription-id",l,"query",r),c;d.state={subscriptionId:l,token:i.token}})}notifyCbs(i,l){for(const r of this.callbacks[i]||[])r(l)}onSyncLoadBatch(i){var l;const r=i["subscription-id"],u=i["join-rows"],c=this.idToHash[r];if(!c){this.log.error("Missing hash for subscription",i);return}const d=[],h=this.subs.currentValue[c];if(!h){this.log.error("Missing sub for hash",c,i);return}const m=(l=h.values)!==null&&l!==void 0?l:{entities:[],attrs:this.createStore([]).attrs};h.values=m;const p=m.entities;for(const y of u){const g=this.createStore(y);m.attrs=g.attrs;const S=wc(h,g);p.push({store:g,entity:S,serverCreatedAt:A0(h,g,S.id)}),d.push(S)}this.subs.updateInPlace(y=>{y[c]=h,y[c].updatedAt=Date.now()}),h.values&&this.notifyCbs(c,{type:ka.InitialSyncBatch,data:Nr(h,h.values.entities),batch:d})}onSyncInitFinish(i){var l;const r=i["subscription-id"],u=this.idToHash[r];if(!u){this.log.error("Missing hash for subscription",i);return}this.subs.updateInPlace(d=>{const h=d[u];if(!h){this.log.error("Missing sub for hash",u,i);return}const m=h.state;if(!m)return this.log.error("Sub never set init, missing result",h,i),d;m.txId=i["tx-id"],h.updatedAt=Date.now()});const c=this.subs.currentValue[u];c&&this.notifyCbs(u,{type:ka.InitialSyncComplete,data:Nr(c,((l=c.values)===null||l===void 0?void 0:l.entities)||[])})}onSyncUpdateTriples(i){var l,r,u;const c=i["subscription-id"],d=this.idToHash[c];if(!d){this.log.error("Missing hash for subscription",i);return}const h=this.subs.currentValue[d];if(!h){this.log.error("Missing sub for hash",d,i);return}const m=h.state;if(!m){this.log.error("Missing state for sub",h,i);return}for(const p of i.txes){if(m.txId&&m.txId>=p["tx-id"])continue;m.txId=p["tx-id"];const y=[],g={};for(const z of p.changes){const $=(l=g[z.triple[0]])!==null&&l!==void 0?l:[];g[z.triple[0]]=$,$.push(z)}const S=(r=h.values)!==null&&r!==void 0?r:{entities:[],attrs:this.createStore([]).attrs},T=S.entities;h.values=S;const j=[];e:for(const[z,$]of Object.entries(g))for(let I=0;I<T.length;I++){const X=T[I];if(CS(X.store,z)){w0(X.store,$);const W=wc(h,X.store),Z=Z1(X.store,$)[z];W?(j.push({oldEntity:X.entity,newEntity:W,changedFields:Z||{}}),X.entity=W):y.push(I),delete g[z];continue e}}const x=[];for(const[z,$]of Object.entries(g)){const I=this.createStore([]);S.attrs=I.attrs,w0(I,$);const X=wc(h,I);if(!X){this.log.error("No entity found after applying change",{sub:h,changes:$,store:I});continue}T.push({store:I,entity:X,serverCreatedAt:A0(h,I,X.id)}),x.push(X)}const O=[];for(const z of y.sort().reverse())O.push(T[z].entity),T.splice(z,1);const M=J1(h,this.createStore);I1(h,M,T),this.notifyCbs(d,{type:ka.SyncTransaction,data:Nr(h,(u=h.values)===null||u===void 0?void 0:u.entities),added:x,removed:O,updated:j})}this.subs.updateInPlace(p=>{p[d]=h,p[d].updatedAt=Date.now()})}clearSubscriptionData(i,l){const r=this.idToHash[i];if(r){delete this.idToHash[i];const u=this.subs.currentValue[r];if(u.state&&this.sendRemove(u.state,l),l?this.subs.unloadKey(r):this.subs.updateInPlace(c=>{delete c[r]}),u)return u}}onStartSyncError(i){const l=ft(i["original-event"].q),r={message:i.message||"Uh-oh, something went wrong. Ping Joe & Stopa.",status:i.status,type:i.type,hint:i.hint},u=Object.keys(i["original-event"].q)[0];this.notifyCbs(l,{type:ka.Error,data:{[u]:[]},error:r})}onResyncError(i){const l=i["original-event"]["subscription-id"],r=this.clearSubscriptionData(l,!1);r&&this.initSubscription(r.query,r.hash)}}var Je=function(a,i,l,r){function u(c){return c instanceof l?c:new l(function(d){d(c)})}return new(l||(l=Promise))(function(c,d){function h(y){try{p(r.next(y))}catch(g){d(g)}}function m(y){try{p(r.throw(y))}catch(g){d(g)}}function p(y){y.done?c(y.value):u(y.value).then(h,m)}p((r=r.apply(a,i||[])).next())})},P1=function(a,i){var l={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&i.indexOf(r)<0&&(l[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,r=Object.getOwnPropertySymbols(a);u<r.length;u++)i.indexOf(r[u])<0&&Object.prototype.propertyIsEnumerable.call(a,r[u])&&(l[r[u]]=a[r[u]]);return l};const Dn={CONNECTING:"connecting",OPENED:"opened",AUTHENTICATED:"authenticated",CLOSED:"closed",ERRORED:"errored"},W1=3e4,eE=3e4,tE=200,nE={apiURI:"https://api.instantdb.com",websocketURI:"wss://api.instantdb.com/runtime/session"},Mc="_instant_oauth_redirect",$l="currentUser";function aE({transportType:a,appId:i,apiURI:l,wsURI:r,EventSourceImpl:u}){if(!u)return new O0(`${r}?app_id=${i}`);switch(a){case"ws":return new O0(`${r}?app_id=${i}`);case"sse":return new Q1(u,`${l}/runtime/sse?app_id=${i}`);default:throw new Error("Unknown transport type "+a)}}function iE(){return typeof window<"u"||typeof chrome<"u"}const M0={"set-presence":!0,"set-presence-ok":!0,"refresh-presence":!0,"patch-presence":!0};function lE(a,i){var l;const r=typeof a=="string"?JSON.parse(a):a;if(!((l=r?.result)===null||l===void 0)&&l.store){const u=r.result.store;r.result.store=yy(Object.assign(Object.assign({},u),{useDateObjects:i}))}return r}function sE(a,i){var l;const r=Object.assign({},i);return!((l=i.result)===null||l===void 0)&&l.store&&(r.result=Object.assign(Object.assign({},i.result),{store:my(i.result.store)})),r}function rE(a,i){switch(a){case"pendingMutations":return new Map(typeof i=="string"?JSON.parse(i):i);default:return i}}function uE(a,i){switch(a){case"pendingMutations":return[...i.entries()];default:return i}}function oE(a,i,l){const r=i?.result,u=l?.result;return r&&!u&&l&&(l.result=r),l||i}function C0(a){return[...a].sort((i,l)=>{const[r,u]=i,[c,d]=l,h=u.order||0,m=d.order||0;return h==m?r<c?-1:r>c?1:0:h-m})}class cE{constructor(i,l=Ry,r=Uy,u,c){var d,h,m;if(this._isOnline=!0,this._isShutdown=!1,this.status=Dn.CONNECTING,this.queryCbs={},this.queryOnceDfds={},this.authCbs=[],this.attrsCbs=[],this.mutationErrorCbs=[],this.connectionStatusCbs=[],this.mutationDeferredStore=new Map,this._reconnectTimeoutId=null,this._reconnectTimeoutMs=0,this._transportType="ws",this._wsOk=null,this._localIdPromises={},this._errorMessage=null,this._oauthCallbackResponse=null,this._linkIndex=null,this._rooms={},this._roomsPendingLeave={},this._presence={},this._broadcastQueue=[],this._broadcastSubs={},this._currentUserCached={isLoading:!0,error:void 0,user:void 0},this._beforeUnloadCbs=[],this._dataForQueryCache={},this._inFlightMutationEventIds=new Set,this._onMergeKv=(p,y,g)=>{var S,T;switch(p){case"pendingMutations":{const j=(S=y?.entries())!==null&&S!==void 0?S:[],x=(T=g?.entries())!==null&&T!==void 0?T:[],O=new Map([...j,...x]);return(y?this._rewriteMutationsSorted(this.attrs,y):[]).forEach(([z,$])=>{var I;!(!((I=g?.pendingMutations)===null||I===void 0)&&I.has(z))&&!$["tx-id"]&&this._sendMutation(z,$)}),O}default:return g||y}},this.getPreviousResult=p=>{const y=ft(p);return this.dataForQuery(y)},this.notifyOne=p=>{var y,g;const S=(y=this.queryCbs[p])!==null&&y!==void 0?y:[],T=(g=this._dataForQueryCache[p])===null||g===void 0?void 0:g.data,j=this.dataForQuery(p);j&&(Hr(j,T)||S.forEach(x=>x.cb(j)))},this.notifyOneQueryOnce=p=>{var y;const g=(y=this.queryOnceDfds[p])!==null&&y!==void 0?y:[],S=this.dataForQuery(p);g.forEach(T=>{this._completeQueryOnce(T.q,p,T.dfd),T.dfd.resolve(S)})},this.notifyQueryError=(p,y)=>{(this.queryCbs[p]||[]).forEach(S=>S.cb({error:y}))},this.pushTx=p=>{this.config.disableValidation||$1(p,this.config.schema);try{const y=f1({attrs:this.optimisticAttrs(),schema:this.config.schema,stores:Object.values(this.querySubs.currentValue).map(g=>{var S;return(S=g?.result)===null||S===void 0?void 0:S.store}),useDateObjects:this.config.useDateObjects},p);return this.pushOps(y)}catch(y){return this.pushOps([],y)}},this.pushOps=(p,y)=>{const g=nt(),S=[...this._pendingMutations().values()],T=Math.max(0,...S.map(O=>O.order||0))+1,j={op:"transact","tx-steps":p,created:Date.now(),error:y,order:T};this._updatePendingMutations(O=>{O.set(g,j)});const x=new y0;return this.mutationDeferredStore.set(g,x),this._sendMutation(g,j),this.notifyAll(),x.promise},this._transportOnOpen=p=>{const y=p.target;if(this._transport!==y){this._log.info("[socket][open]",y.id,"skip; this is no longer the current transport");return}this._log.info("[socket][open]",this._transport.id),this._setStatus(Dn.OPENED),this.getCurrentUser().then(g=>{var S;this._trySend(nt(),{op:"init","app-id":this.config.appId,"refresh-token":(S=g.user)===null||S===void 0?void 0:S.refresh_token,versions:this.versions,"__admin-token":this.config.__adminToken})}).catch(g=>{this._log.error("[socket][error]",y.id,g)})},this._transportOnMessage=p=>{const y=p.target,g=p.message;if(this._transport!==y){this._log.info("[socket][message]",y.id,g,"skip; this is no longer the current transport");return}!this._wsOk&&y.type==="ws"&&(this._wsOk=!0),this._transportType="ws",this._handleReceive(y.id,p.message)},this._transportOnError=p=>{const y=p.target;if(this._transport!==y){this._log.info("[socket][error]",y.id,"skip; this is no longer the current transport");return}this._log.error("[socket][error]",y.id,p)},this._scheduleReconnect=()=>{!this._wsOk&&this._transportType!=="sse"&&(this._transportType="sse",this._reconnectTimeoutMs=0),setTimeout(()=>{if(this._reconnectTimeoutMs=Math.min(this._reconnectTimeoutMs+1e3,1e4),!this._isOnline){this._log.info("[socket][close]",this._transport.id,"we are offline, no need to start socket");return}this._startSocket()},this._reconnectTimeoutMs)},this._transportOnClose=p=>{const y=p.target;if(this._transport!==y){this._log.info("[socket][close]",y.id,"skip; this is no longer the current transport");return}this._setStatus(Dn.CLOSED);for(const g of Object.values(this._rooms))g.isConnected=!1;if(this._isShutdown){this._log.info("[socket][close]",y.id,"Reactor has been shut down and will not reconnect");return}this._log.info("[socket][close]",y.id,"schedule reconnect, ms =",this._reconnectTimeoutMs),this._scheduleReconnect()},this._EventSource=c,this.config=Object.assign(Object.assign({},nE),i),this.queryCacheLimit=(d=this.config.queryCacheLimit)!==null&&d!==void 0?d:10,this._pendingTxCleanupTimeout=(h=this.config.pendingTxCleanupTimeout)!==null&&h!==void 0?h:eE,this._pendingMutationCleanupThreshold=(m=this.config.pendingMutationCleanupThreshold)!==null&&m!==void 0?m:tE,this._log=U1(i.verbose||Cf||zy,()=>this._reactorStats()),this.versions=Object.assign(Object.assign({},u||{}),{"@instantdb/core":Df}),this.config.schema&&(this._linkIndex=g0(this.config.schema)),!!iE()){if(!i.appId)throw new Error("Instant must be initialized with an appId.");if(!ki(i.appId))throw new Error(`Instant must be initialized with a valid appId. \`${i.appId}\` is not a valid uuid.`);typeof BroadcastChannel=="function"&&(this._broadcastChannel=new BroadcastChannel("@instantdb"),this._broadcastChannel.addEventListener("message",p=>Je(this,void 0,void 0,function*(){var y;try{if(((y=p.data)===null||y===void 0?void 0:y.type)==="auth"){const g=yield this.getCurrentUser();this.updateUser(g.user)}}catch(g){this._log.error("[error] handle broadcast channel",g)}}))),this._initStorage(l),this._syncTable=new F1(this._trySendAuthed.bind(this),new l(this.config.appId,"syncSubs"),{useDateObjects:this.config.useDateObjects},this._log,p=>Br(this.attrs,p,this.config.enableCardinalityInference,this._linkIndex,this.config.useDateObjects)),this._oauthCallbackResponse=this._oauthLoginInit(),this.getCurrentUser(),r.getIsOnline().then(p=>{this._isOnline=p,this._startSocket(),r.listen(y=>{y!==this._isOnline&&(this._log.info("[network] online =",y),this._isOnline=y,this._isOnline?this._startSocket():(this._log.info("Changing status from",this.status,"to",Dn.CLOSED),this._setStatus(Dn.CLOSED)))})}),typeof addEventListener<"u"&&(this._beforeUnload=this._beforeUnload.bind(this),addEventListener("beforeunload",this._beforeUnload))}}updateSchema(i){this.config=Object.assign(Object.assign({},this.config),{schema:i,cardinalityInference:!!i}),this._linkIndex=i?g0(this.config.schema):null}_reactorStats(){return{inFlightMutationCount:this._inFlightMutationEventIds.size,pendingMutationCount:this._pendingMutations().size,transportType:this._transportType}}_onQuerySubLoaded(i){this.kv.waitForKeyToLoad("pendingMutations").then(()=>this.notifyOne(i))}_initStorage(i){this.querySubs=new Fc({persister:new i(this.config.appId,"querySubs"),merge:oE,serialize:sE,parse:(l,r)=>lE(r,this.config.useDateObjects),objectSize:l=>{var r,u,c,d;return(d=(c=(u=(r=l.result)===null||r===void 0?void 0:r.store)===null||u===void 0?void 0:u.triples)===null||c===void 0?void 0:c.length)!==null&&d!==void 0?d:0},logger:this._log,preloadEntryCount:10,gc:{maxAgeMs:1e3*60*60*24*7*52,maxEntries:1e3,maxSize:1e6}}),this.querySubs.onKeyLoaded=l=>this._onQuerySubLoaded(l),this.kv=new Fc({persister:new i(this.config.appId,"kv"),merge:this._onMergeKv,serialize:uE,parse:rE,objectSize:()=>0,logger:this._log,saveThrottleMs:100,idleCallbackMaxWaitMs:100,gc:null}),this.kv.onKeyLoaded=l=>{l==="pendingMutations"&&this.notifyAll()},this.kv.waitForKeyToLoad("pendingMutations"),this.kv.waitForKeyToLoad($l),this._beforeUnloadCbs.push(()=>{this.kv.flush(),this.querySubs.flush()})}_beforeUnload(){for(const i of this._beforeUnloadCbs)i();this._syncTable.beforeUnload()}_finishTransaction(i,l,r){const u=this.mutationDeferredStore.get(l);this.mutationDeferredStore.delete(l);const c=i!=="error"&&i!=="timeout";if(!u&&!c&&console.error("Mutation failed",Object.assign({status:i,eventId:l},r)),!!u)if(c)u.resolve({status:i,eventId:l});else if(r?.type){const{status:d}=r,h=P1(r,["status"]);u.reject(new eu({body:h,status:d??0}))}else u.reject(new Bi(r?.message||"Unknown error",r?.hint))}_setStatus(i,l){this.status=i,this._errorMessage=l,this.notifyConnectionStatusSubs(i)}_flushEnqueuedRoomData(i){var l,r;const u=(r=(l=this._presence[i])===null||l===void 0?void 0:l.result)===null||r===void 0?void 0:r.user,c=this._broadcastQueue[i];if(this._broadcastQueue[i]=[],u&&this._trySetPresence(i,u),c)for(const d of c){const{topic:h,roomType:m,data:p}=d;this._tryBroadcast(i,m,h,p)}}_handleReceive(i,l){var r,u,c,d,h,m;const p=!!this.config.schema&&("cardinalityInference"in this.config?!!this.config.cardinalityInference:!0);switch(M0[l.op]||this._log.info("[receive]",i,l.op,l),l.op){case"init-ok":{this._setStatus(Dn.AUTHENTICATED),this._reconnectTimeoutMs=0,this._setAttrs(l.attrs),this._flushPendingMessages(),this._sessionId=l["session-id"];for(const S of Object.keys(this._rooms)){const T=(u=(r=this._presence[S])===null||r===void 0?void 0:r.result)===null||u===void 0?void 0:u.user;this._tryJoinRoom(S,T)}break}case"add-query-exists":{this.notifyOneQueryOnce(ft(l.q));break}case"add-query-ok":{const{q:S,result:T}=l,j=ft(S);if(!this._hasQueryListeners()&&!this.querySubs.currentValue[j])break;const x=(d=(c=T?.[0])===null||c===void 0?void 0:c.data)===null||d===void 0?void 0:d["page-info"],O=(m=(h=T?.[0])===null||h===void 0?void 0:h.data)===null||m===void 0?void 0:m.aggregate,M=v0(T),z=Br(this.attrs,M,p,this._linkIndex,this.config.useDateObjects);this.querySubs.updateInPlace($=>{if(!$[j]){this._log.info("Missing value in querySubs",{hash:j,q:S});return}$[j].result={store:z,pageInfo:x,aggregate:O,processedTxId:l["processed-tx-id"]}}),this._cleanupPendingMutationsQueries(),this.notifyOne(j),this.notifyOneQueryOnce(j),this._cleanupPendingMutationsTimeout();break}case"start-sync-ok":{this._syncTable.onStartSyncOk(l);break}case"sync-load-batch":{this._syncTable.onSyncLoadBatch(l);break}case"sync-init-finish":{this._syncTable.onSyncInitFinish(l);break}case"sync-update-triples":{this._syncTable.onSyncUpdateTriples(l);break}case"refresh-ok":{const{computations:S,attrs:T}=l,j=l["processed-tx-id"];T&&this._setAttrs(T),this._cleanupPendingMutationsTimeout();const x=this._rewriteMutations(this.attrs,this._pendingMutations(),j);x!==this._pendingMutations()&&this.kv.updateInPlace(z=>{z.pendingMutations=x});const O=C0(x.entries()),M=S.map(z=>{var $,I,X,W;const Z=z["instaql-query"],le=z["instaql-result"],ge=ft(Z),Ye=v0(le),Q=Br(this.attrs,Ye,p,this._linkIndex,this.config.useDateObjects),ce=this._applyOptimisticUpdates(Q,O,j),Pe=(I=($=le?.[0])===null||$===void 0?void 0:$.data)===null||I===void 0?void 0:I["page-info"],at=(W=(X=le?.[0])===null||X===void 0?void 0:X.data)===null||W===void 0?void 0:W.aggregate;return{q:Z,hash:ge,store:ce,pageInfo:Pe,aggregate:at}});M.forEach(({hash:z,q:$,store:I,pageInfo:X,aggregate:W})=>{this.querySubs.updateInPlace(Z=>{if(!Z[z]){this._log.error("Missing value in querySubs",{hash:z,q:$});return}Z[z].result={store:I,pageInfo:X,aggregate:W,processedTxId:j}})}),this._cleanupPendingMutationsQueries(),M.forEach(({hash:z})=>{this.notifyOne(z)});break}case"transact-ok":{const{"client-event-id":S,"tx-id":T}=l;this._inFlightMutationEventIds.delete(S);const x=this._rewriteMutations(this.attrs,this._pendingMutations()).get(S);if(!x)break;this._updatePendingMutations(M=>{M.set(S,Object.assign(Object.assign({},M.get(S)),{"tx-id":T,confirmed:Date.now()}))});const O=x["tx-steps"].filter(([M,...z])=>M==="add-attr").map(([M,z])=>z).concat(Object.values(this.attrs));this._setAttrs(O),this._finishTransaction("synced",S),this._cleanupPendingMutationsTimeout();break}case"patch-presence":{const S=l["room-id"];this._trySetRoomConnected(S,!0),this._patchPresencePeers(S,l.edits),this._notifyPresenceSubs(S);break}case"refresh-presence":{const S=l["room-id"];this._trySetRoomConnected(S,!0),this._setPresencePeers(S,l.data),this._notifyPresenceSubs(S);break}case"server-broadcast":{const S=l["room-id"],T=l.topic;this._trySetRoomConnected(S,!0),this._notifyBroadcastSubs(S,T,l);break}case"join-room-ok":{const S=l["room-id"];if(!this._rooms[S]){this._roomsPendingLeave[S]&&(this._tryLeaveRoom(S),delete this._roomsPendingLeave[S]);break}this._trySetRoomConnected(S,!0),this._flushEnqueuedRoomData(S);break}case"leave-room-ok":{const S=l["room-id"];this._trySetRoomConnected(S,!1);break}case"join-room-error":const y=l["room-id"],g=this._rooms[y];g&&(g.error=l.error),this._notifyPresenceSubs(y);break;case"error":this._handleReceiveError(l);break;default:this._log.info("Uknown op",l.op,l);break}}_pendingMutations(){var i;return(i=this.kv.currentValue.pendingMutations)!==null&&i!==void 0?i:new Map}_updatePendingMutations(i){this.kv.updateInPlace(l=>{var r;const u=(r=l.pendingMutations)!==null&&r!==void 0?r:new Map;l.pendingMutations=u,i(u)})}_handleMutationError(i,l,r){const u=this._pendingMutations().get(l);if(u&&(i!=="timeout"||!u["tx-id"])){this._updatePendingMutations(d=>(d.delete(l),d)),this._inFlightMutationEventIds.delete(l);const c={message:r.message,hint:r.hint};this.notifyAll(),this.notifyAttrsSubs(),this.notifyMutationErrorSubs(c),this._finishTransaction(i,l,r)}}_handleReceiveError(i){var l,r,u,c,d,h,m;console.log("error",i);const p=i["client-event-id"];this._inFlightMutationEventIds.delete(p);const y=this._pendingMutations().get(p),g={message:i.message||"Uh-oh, something went wrong. Ping Joe & Stopa."};if(i.hint&&(g.hint=i.hint),y){this._handleMutationError("error",p,i);return}if(!((l=i["original-event"])===null||l===void 0)&&l.hasOwnProperty("q")&&((r=i["original-event"])===null||r===void 0?void 0:r.op)==="add-query"){const j=(u=i["original-event"])===null||u===void 0?void 0:u.q,x=ft(j);this.notifyQueryError(ft(j),g),this.notifyQueryOnceError(j,x,p,g);return}if(((c=i["original-event"])===null||c===void 0?void 0:c.op)==="init"){if(i.type==="record-not-found"&&((d=i.hint)===null||d===void 0?void 0:d["record-type"])==="app-user"){this.changeCurrentUser(null);return}this._setStatus(Dn.ERRORED,g),this.notifyAll();return}if(((h=i["original-event"])===null||h===void 0?void 0:h.op)==="resync-table"){this._syncTable.onResyncError(i);return}if(((m=i["original-event"])===null||m===void 0?void 0:m.op)==="start-sync"){this._syncTable.onStartSyncError(i);return}const T=Object.assign({},i);delete T.message,delete T.hint,console.error(i.message,T),i.hint&&console.error(`This error comes with some debugging information. Here it is: 
`,i.hint)}notifyQueryOnceError(i,l,r,u){var c;const d=(c=this.queryOnceDfds[l])===null||c===void 0?void 0:c.find(h=>h.eventId===r);d&&(d.dfd.reject(u),this._completeQueryOnce(i,l,d.dfd))}_setAttrs(i){this.attrs=i.reduce((l,r)=>(l[r.id]=r,l),{}),this.notifyAttrsSubs()}_startQuerySub(i,l){const r=nt();return this.querySubs.updateInPlace(u=>{u[l]=u[l]||{q:i,result:null,eventId:r},u[l].lastAccessed=Date.now()}),this._trySendAuthed(r,{op:"add-query",q:i}),r}subscribeTable(i,l){return this._syncTable.subscribe(i,l)}subscribeQuery(i,l,r){var u;this.config.disableValidation||_0(i,this.config.schema),r&&"ruleParams"in r&&(i=Object.assign({$$ruleParams:r.ruleParams},i));const c=ft(i),d=this.getPreviousResult(i);return d&&l(d),this.queryCbs[c]=(u=this.queryCbs[c])!==null&&u!==void 0?u:[],this.queryCbs[c].push({q:i,cb:l}),this._startQuerySub(i,c),()=>{this._unsubQuery(i,c,l)}}queryOnce(i,l){var r;this.config.disableValidation||_0(i,this.config.schema),l&&"ruleParams"in l&&(i=Object.assign({$$ruleParams:l.ruleParams},i));const u=new y0;if(!this._isOnline)return u.reject(new Error("We can't run `queryOnce`, because the device is offline.")),u.promise;if(!this.querySubs)return u.reject(new Error("We can't run `queryOnce` on the backend. Use adminAPI.query instead: https://www.instantdb.com/docs/backend#query")),u.promise;const c=ft(i),d=this._startQuerySub(i,c);return this.queryOnceDfds[c]=(r=this.queryOnceDfds[c])!==null&&r!==void 0?r:[],this.queryOnceDfds[c].push({q:i,dfd:u,eventId:d}),setTimeout(()=>u.reject(new Error("Query timed out")),W1),u.promise}_completeQueryOnce(i,l,r){this.queryOnceDfds[l]&&(this.queryOnceDfds[l]=this.queryOnceDfds[l].filter(u=>u.dfd!==r),this._cleanupQuery(i,l))}_unsubQuery(i,l,r){this.queryCbs[l]&&(this.queryCbs[l]=this.queryCbs[l].filter(u=>u.cb!==r),this._cleanupQuery(i,l))}_hasQueryListeners(i){var l,r;return!!(!((l=this.queryCbs[i])===null||l===void 0)&&l.length||!((r=this.queryOnceDfds[i])===null||r===void 0)&&r.length)}_cleanupQuery(i,l){this._hasQueryListeners(l)||(delete this.queryCbs[l],delete this.queryOnceDfds[l],delete this._dataForQueryCache[l],this.querySubs.unloadKey(l),this._trySendAuthed(nt(),{op:"remove-query",q:i}))}_rewriteMutations(i,l,r){if(!i)return l;if(!l)return new Map;const u=y=>{const[g,S,T]=y["forward-identity"];return dt(i,S,T)},c=y=>{const[g,S,T]=y["forward-identity"];return $a(i,S,T)},d={attrIdMap:{},refSwapAttrIds:new Set};let h=!1;const m=(y,g)=>{const S=[];for(const T of y){const[j]=T;if(j==="add-attr"){const[O,M]=T,z=u(M);if(z&&M.id!==z.id){d.attrIdMap[M.id]=z.id,h=!0;continue}if(M["value-type"]==="ref"){const $=c(M);if($){d.attrIdMap[M.id]=$.id,d.refSwapAttrIds.add(M.id),h=!0;continue}}}if(r&&g&&r>=g&&j==="add-attr"||j==="update-attr"||j==="delete-attr"){h=!0;continue}const x=h?YT(d,T):T;S.push(x)}return h?S:y},p=new Map;for(const[y,g]of l.entries())p.set(y,Object.assign(Object.assign({},g),{"tx-steps":m(g["tx-steps"],g["tx-id"])}));return h?p:l}_rewriteMutationsSorted(i,l){return C0(this._rewriteMutations(i,l).entries())}optimisticAttrs(){var i;const l=[...this._pendingMutations().values()].flatMap(h=>h["tx-steps"]),r=new Set(l.filter(([h,m])=>h==="delete-attr").map(([h,m])=>m)),u=[];for(const[h,m]of l)if(h==="add-attr")u.push(m);else if(h==="update-attr"&&m.id&&(!((i=this.attrs)===null||i===void 0)&&i[m.id])){const p=Object.assign(Object.assign({},this.attrs[m.id]),m);u.push(p)}const c=[...Object.values(this.attrs||{}),...u].filter(h=>!r.has(h.id));return Object.fromEntries(c.map(h=>[h.id,h]))}dataForQuery(i){const l=this._errorMessage;if(l)return{error:l};if(!this.querySubs||!this.kv.currentValue.pendingMutations)return;const r=this.querySubs.version(),u=this.querySubs.currentValue,c=this.kv.version(),d=this._pendingMutations(),{q:h,result:m}=u[i]||{};if(!m)return;const p=this._dataForQueryCache[i];if(p&&r===p.querySubVersion&&c===p.pendingMutationsVersion)return p.data;const{store:y,pageInfo:g,aggregate:S,processedTxId:T}=m,j=this._rewriteMutationsSorted(y.attrs,d),x=this._applyOptimisticUpdates(y,j,T),O=My({store:x,pageInfo:g,aggregate:S},h);return this._dataForQueryCache[i]={querySubVersion:r,pendingMutationsVersion:c,data:O},O}_applyOptimisticUpdates(i,l,r){for(const[u,c]of l)(!c["tx-id"]||r&&c["tx-id"]>r)&&(i=GS(i,c["tx-steps"]));return i}notifyAll(){Object.keys(this.queryCbs).forEach(i=>{this.querySubs.waitForKeyToLoad(i).then(()=>this.notifyOne(i)).catch(()=>this.notifyOne(i))})}loadedNotifyAll(){this.kv.waitForKeyToLoad("pendingMutations").then(()=>this.notifyAll()).catch(()=>this.notifyAll())}shutdown(){var i;this._log.info("[shutdown]",this.config.appId),this._isShutdown=!0,(i=this._transport)===null||i===void 0||i.close()}_sendMutation(i,l){if(l.error){this._handleMutationError("error",i,{message:l.error.message});return}if(this.status!==Dn.AUTHENTICATED){this._finishTransaction("enqueued",i);return}const r=Math.max(6e3,Math.min(this._inFlightMutationEventIds.size+1,this._pendingMutations().size+1)*6e3);this._isOnline?(this._trySend(i,l),setTimeout(()=>{this._isOnline&&this._handleMutationError("timeout",i,{message:"transaction timed out"})},r)):this._finishTransaction("enqueued",i)}_flushPendingMessages(){Object.keys(this.queryCbs).map(u=>this.querySubs.currentValue[u]).filter(u=>u).forEach(({eventId:u,q:c})=>{this._trySendAuthed(u,{op:"add-query",q:c})}),Object.values(this.queryOnceDfds).flat().forEach(({eventId:u,q:c})=>{this._trySendAuthed(u,{op:"add-query",q:c})}),this._rewriteMutationsSorted(this.attrs,this._pendingMutations()).forEach(([u,c])=>{c["tx-id"]||this._sendMutation(u,c)}),this._syncTable.flushPending()}_cleanupPendingMutationsQueries(){let i=Number.MAX_SAFE_INTEGER;for(const{result:l}of Object.values(this.querySubs.currentValue))l?.processedTxId&&(i=Math.min(i,l?.processedTxId));this._updatePendingMutations(l=>{for(const[r,u]of Array.from(l.entries()))u["tx-id"]&&u["tx-id"]<=i&&l.delete(r)})}_cleanupPendingMutationsTimeout(){if(this._pendingMutations().size<this._pendingMutationCleanupThreshold)return;const i=Date.now();this._updatePendingMutations(l=>{for(const[r,u]of Array.from(l.entries()))u.confirmed&&u.confirmed+this._pendingTxCleanupTimeout<i&&l.delete(r)})}_trySendAuthed(...i){this.status===Dn.AUTHENTICATED&&this._trySend(...i)}_trySend(i,l,r){if(this._transport.isOpen()){switch(M0[l.op]||this._log.info("[send]",this._transport.id,l.op,l),l.op){case"transact":{this._inFlightMutationEventIds.add(i);break}case"init":this._inFlightMutationEventIds.clear()}this._transport.send(Object.assign({"client-event-id":i},l))}}_startSocket(){if(this._wsOk=null,this._isShutdown){this._log.info("[socket][start]",this.config.appId,"Reactor has been shut down and will not start a new socket");return}if(this._transport&&this._transport.isConnecting()){this._log.info("[socket][start]",this._transport.id,"maintained as current transport, we were still in a connecting state");return}const i=this._transport;this._transport=aE({transportType:this._transportType,appId:this.config.appId,apiURI:this.config.apiURI,wsURI:this.config.websocketURI,EventSourceImpl:this._EventSource}),this._transport.onopen=this._transportOnOpen,this._transport.onmessage=this._transportOnMessage,this._transport.onclose=this._transportOnClose,this._transport.onerror=this._transportOnError,this._log.info("[socket][start]",this._transport.id),i?.isOpen()&&(this._log.info("[socket][start]",this._transport.id,"close previous transport id = ",i.id),i.close())}getLocalId(i){return Je(this,void 0,void 0,function*(){const l=`localToken_${i}`;if(this.kv.currentValue[l])return this.kv.currentValue[l];const r=yield this.kv.waitForKeyToLoad(l);if(r)return r;const u=nt();return this.kv.updateInPlace(c=>{c[l]||(c[l]=u)}),yield this.kv.waitForKeyToLoad(l)})}_replaceUrlAfterOAuth(){if(typeof URL>"u")return;const i=new URL(window.location.href);if(i.searchParams.get(Mc)){const l=i.toString();i.searchParams.delete(Mc),i.searchParams.delete("code"),i.searchParams.delete("error");const r=i.pathname+(i.searchParams.size?"?"+i.searchParams:"")+i.hash;if(history.replaceState(history.state,"",r),typeof navigation=="object"&&typeof navigation.addEventListener=="function"&&typeof navigation.removeEventListener=="function"){let u=!1;const c=d=>{var h;u||(u=!0,navigation.removeEventListener("navigate",c),!d.userInitiated&&d.navigationType==="replace"&&((h=d.destination)===null||h===void 0?void 0:h.url)===l&&history.replaceState(history.state,"",r))};navigation.addEventListener("navigate",c)}}}_oauthLoginInit(){return Je(this,void 0,void 0,function*(){var i,l,r,u;if(typeof window>"u"||typeof window.location>"u"||typeof URLSearchParams>"u")return null;const c=new URLSearchParams(window.location.search);if(!c.get(Mc))return null;const d=c.get("error");if(d)return this._replaceUrlAfterOAuth(),{error:{message:d}};const h=c.get("code");if(!h)return null;this._replaceUrlAfterOAuth();try{const m=yield this._getCurrentUser(),p=m?.type==="guest",{user:y}=yield p0({apiURI:this.config.apiURI,appId:this.config.appId,code:h,refreshToken:p?m.refresh_token:void 0});return this.setCurrentUser(y),null}catch(m){return((i=m?.body)===null||i===void 0?void 0:i.type)==="record-not-found"&&((r=(l=m?.body)===null||l===void 0?void 0:l.hint)===null||r===void 0?void 0:r["record-type"])==="app-oauth-code"&&(yield this._hasCurrentUser())?null:{error:{message:((u=m?.body)===null||u===void 0?void 0:u.message)||"Error logging in."}}}})}_waitForOAuthCallbackResponse(){return Je(this,void 0,void 0,function*(){return yield this._oauthCallbackResponse})}__subscribeMutationErrors(i){return this.mutationErrorCbs.push(i),()=>{this.mutationErrorCbs=this.mutationErrorCbs.filter(l=>l!==i)}}subscribeAuth(i){this.authCbs.push(i);const l=this._currentUserCached;l.isLoading||i(this._currentUserCached);let r=!1;return this.getCurrentUser().then(u=>{r||Hr(u,l)||i(u)}),()=>{r=!0,this.authCbs=this.authCbs.filter(u=>u!==i)}}getAuth(){return Je(this,void 0,void 0,function*(){const{user:i,error:l}=yield this.getCurrentUser();if(l)throw new Bi("Could not get current user: "+l.message);return i})}subscribeConnectionStatus(i){return this.connectionStatusCbs.push(i),()=>{this.connectionStatusCbs=this.connectionStatusCbs.filter(l=>l!==i)}}subscribeAttrs(i){return this.attrsCbs.push(i),this.attrs&&i(this.attrs),()=>{this.attrsCbs=this.attrsCbs.filter(l=>l!==i)}}notifyAuthSubs(i){this.authCbs.forEach(l=>l(i))}notifyMutationErrorSubs(i){this.mutationErrorCbs.forEach(l=>l(i))}notifyAttrsSubs(){if(!this.attrs)return;const i=this.optimisticAttrs();this.attrsCbs.forEach(l=>l(i))}notifyConnectionStatusSubs(i){this.connectionStatusCbs.forEach(l=>l(i))}setCurrentUser(i){return Je(this,void 0,void 0,function*(){this.kv.updateInPlace(l=>{l[$l]=i}),yield this.kv.waitForKeyToLoad($l)})}getCurrentUserCached(){return this._currentUserCached}_getCurrentUser(){return Je(this,void 0,void 0,function*(){const i=yield this.kv.waitForKeyToLoad($l);return typeof i=="string"?JSON.parse(i):i})}getCurrentUser(){return Je(this,void 0,void 0,function*(){const i=yield this._waitForOAuthCallbackResponse();if(i?.error){const l={error:i.error,user:void 0};return this._currentUserCached=Object.assign({isLoading:!1},l),l}try{const r={user:yield this._getCurrentUser(),error:void 0};return this._currentUserCached=Object.assign({isLoading:!1},r),r}catch(l){return{user:void 0,isLoading:!1,error:{message:l?.message||"Error loading user"}}}})}_hasCurrentUser(){return Je(this,void 0,void 0,function*(){const i=yield this.kv.waitForKeyToLoad($l);return typeof i=="string"?JSON.parse(i)!=null:i!=null})}changeCurrentUser(i){return Je(this,void 0,void 0,function*(){var l;const{user:r}=yield this.getCurrentUser();if(!Hr(r,i)){yield this.setCurrentUser(i),this.updateUser(i);try{(l=this._broadcastChannel)===null||l===void 0||l.postMessage({type:"auth"})}catch(u){console.error("Error posting message to broadcast channel",u)}}})}updateUser(i){const l={error:void 0,user:i};this._currentUserCached=Object.assign({isLoading:!1},l),this._dataForQueryCache={},this.querySubs.updateInPlace(r=>{Object.keys(r).forEach(u=>{delete r[u].result})}),this._reconnectTimeoutMs=0,this._transport.close(),this._oauthCallbackResponse=null,this.notifyAuthSubs(l)}sendMagicCode({email:i}){return S1({apiURI:this.config.apiURI,appId:this.config.appId,email:i})}signInWithMagicCode(i){return Je(this,arguments,void 0,function*({email:l,code:r}){var u;const c=yield this.getCurrentUser(),d=((u=c?.user)===null||u===void 0?void 0:u.type)==="guest",h=yield T1({apiURI:this.config.apiURI,appId:this.config.appId,email:l,code:r,refreshToken:d?c.user.refresh_token:void 0});return yield this.changeCurrentUser(h.user),h})}signInWithCustomToken(i){return Je(this,void 0,void 0,function*(){const l=yield E1({apiURI:this.config.apiURI,appId:this.config.appId,refreshToken:i});return yield this.changeCurrentUser(l.user),l})}signInAsGuest(){return Je(this,void 0,void 0,function*(){const i=yield x1({apiURI:this.config.apiURI,appId:this.config.appId});return yield this.changeCurrentUser(i.user),i})}potentiallyInvalidateToken(i,l){var r;const u=(r=i?.user)===null||r===void 0?void 0:r.refresh_token;if(!u)return;if(l.invalidateToken===!1){this._log.info("[auth-invalidate] skipped invalidateToken");return}j1({apiURI:this.config.apiURI,appId:this.config.appId,refreshToken:u}).then(()=>{this._log.info("[auth-invalidate] completed invalidateToken")}).catch(d=>{})}signOut(i){return Je(this,void 0,void 0,function*(){const l=yield this.getCurrentUser();this.potentiallyInvalidateToken(l,i),yield this.changeCurrentUser(null)})}createAuthorizationURL({clientName:i,redirectURL:l}){const{apiURI:r,appId:u}=this.config;return`${r}/runtime/oauth/start?app_id=${u}&client_name=${i}&redirect_uri=${l}`}exchangeCodeForToken(i){return Je(this,arguments,void 0,function*({code:l,codeVerifier:r}){var u;const c=yield this.getCurrentUser(),d=((u=c?.user)===null||u===void 0?void 0:u.type)==="guest",h=yield p0({apiURI:this.config.apiURI,appId:this.config.appId,code:l,codeVerifier:r,refreshToken:d?c.user.refresh_token:void 0});return yield this.changeCurrentUser(h.user),h})}issuerURI(){const{apiURI:i,appId:l}=this.config;return`${i}/runtime/${l}`}signInWithIdToken(i){return Je(this,arguments,void 0,function*({idToken:l,clientName:r,nonce:u}){var c;const d=yield this.getCurrentUser(),h=(c=d?.user)===null||c===void 0?void 0:c.refresh_token,m=yield O1({apiURI:this.config.apiURI,appId:this.config.appId,idToken:l,clientName:r,nonce:u,refreshToken:h});return yield this.changeCurrentUser(m.user),m})}joinRoom(i,l){let r=!1;this._rooms[i]||(r=!0,this._rooms[i]={isConnected:!1,error:void 0}),this._presence[i]=this._presence[i]||{};const u=this._presence[i].result;return l&&!u&&(this._presence[i].result=this._presence[i].result||{},this._presence[i].result.user=l,this._notifyPresenceSubs(i)),r&&this._tryJoinRoom(i,l),()=>{this._cleanupRoom(i)}}_cleanupRoom(i){var l,r,u,c;if(!(!((r=(l=this._presence[i])===null||l===void 0?void 0:l.handlers)===null||r===void 0)&&r.length)&&!Object.keys((u=this._broadcastSubs[i])!==null&&u!==void 0?u:{}).length){const d=(c=this._rooms[i])===null||c===void 0?void 0:c.isConnected;delete this._rooms[i],delete this._presence[i],delete this._broadcastSubs[i],d?this._tryLeaveRoom(i):this._roomsPendingLeave[i]=!0}}getPresence(i,l,r={}){const u=this._rooms[l],c=this._presence[l];return!u||!c||!c.result?null:Object.assign(Object.assign({},N1(c.result,r,this._sessionId)),{isLoading:!u.isConnected,error:u.error})}publishPresence(i,l,r){const u=this._rooms[l],c=this._presence[l];if(!u||!c)return;c.result=c.result||{};const d=Object.assign(Object.assign({},c.result.user),r);c.result.user=d,u.isConnected&&(this._trySetPresence(l,d),this._notifyPresenceSubs(l))}_trySetPresence(i,l){this._trySendAuthed(nt(),{op:"set-presence","room-id":i,data:l})}_tryJoinRoom(i,l){this._trySendAuthed(nt(),{op:"join-room","room-id":i,data:l}),delete this._roomsPendingLeave[i]}_tryLeaveRoom(i){this._trySendAuthed(nt(),{op:"leave-room","room-id":i})}_trySetRoomConnected(i,l){const r=this._rooms[i];r&&(r.isConnected=l)}subscribePresence(i,l,r,u){const c=this.joinRoom(l,r.initialPresence||r.initialData),d=Object.assign(Object.assign({},r),{roomId:l,cb:u,prev:null});return this._presence[l]=this._presence[l]||{},this._presence[l].handlers=this._presence[l].handlers||[],this._presence[l].handlers.push(d),this._notifyPresenceSub(l,d),()=>{var h,m,p;this._presence[l].handlers=(p=(m=(h=this._presence[l])===null||h===void 0?void 0:h.handlers)===null||m===void 0?void 0:m.filter(y=>y!==d))!==null&&p!==void 0?p:[],c()}}_notifyPresenceSubs(i){var l,r;(r=(l=this._presence[i])===null||l===void 0?void 0:l.handlers)===null||r===void 0||r.forEach(u=>{this._notifyPresenceSub(i,u)})}_notifyPresenceSub(i,l){const r=this.getPresence("",i,l);r&&(l.prev&&!R1(r,l.prev)||(l.prev=r,l.cb(r)))}_patchPresencePeers(i,l){var r,u,c;const d=((u=(r=this._presence[i])===null||r===void 0?void 0:r.result)===null||u===void 0?void 0:u.peers)||{};let h=Object.fromEntries(Object.entries(d).map(([p,y])=>[p,{data:y}]));(c=this._presence[i])===null||c===void 0||c.result;const m=Qr(h,p=>{for(let[y,g,S]of l)switch(g){case"+":fS(p,y,S);break;case"r":t0(p,y,S);break;case"-":dy(p,y);break}delete p[this._sessionId]});this._setPresencePeers(i,m)}_setPresencePeers(i,l){const r=Object.assign({},l);delete r[this._sessionId];const u=Object.fromEntries(Object.entries(r).map(([c,d])=>[c,d.data]));this._presence=Qr(this._presence,c=>{t0(c,[i,"result","peers"],u)})}publishTopic({roomType:i,roomId:l,topic:r,data:u}){var c;const d=this._rooms[l];if(d){if(!d.isConnected){this._broadcastQueue[l]=(c=this._broadcastQueue[l])!==null&&c!==void 0?c:[],this._broadcastQueue[l].push({topic:r,roomType:i,data:u});return}this._tryBroadcast(l,i,r,u)}}_tryBroadcast(i,l,r,u){this._trySendAuthed(nt(),{op:"client-broadcast","room-id":i,roomType:l,topic:r,data:u})}subscribeTopic(i,l,r){const u=this.joinRoom(i);return this._broadcastSubs[i]=this._broadcastSubs[i]||{},this._broadcastSubs[i][l]=this._broadcastSubs[i][l]||[],this._broadcastSubs[i][l].push(r),this._presence[i]=this._presence[i]||{},()=>{this._broadcastSubs[i][l]=this._broadcastSubs[i][l].filter(c=>c!==r),this._broadcastSubs[i][l].length||delete this._broadcastSubs[i][l],u()}}_notifyBroadcastSubs(i,l,r){var u,c,d;(d=(c=(u=this._broadcastSubs)===null||u===void 0?void 0:u[i])===null||c===void 0?void 0:c[l])===null||d===void 0||d.forEach(h=>{var m,p,y,g,S,T;const j=(m=r.data)===null||m===void 0?void 0:m.data,x=r.data["peer-id"]===this._sessionId?(y=(p=this._presence[i])===null||p===void 0?void 0:p.result)===null||y===void 0?void 0:y.user:(T=(S=(g=this._presence[i])===null||g===void 0?void 0:g.result)===null||S===void 0?void 0:S.peers)===null||T===void 0?void 0:T[r.data["peer-id"]];return h(j,x)})}uploadFile(i,l,r){return Je(this,void 0,void 0,function*(){var u;const c=yield this.getCurrentUser(),d=(u=c?.user)===null||u===void 0?void 0:u.refresh_token;return A1(Object.assign(Object.assign({},r),{apiURI:this.config.apiURI,appId:this.config.appId,path:i,file:l,refreshToken:d}))})}deleteFile(i){return Je(this,void 0,void 0,function*(){var l;const r=yield this.getCurrentUser(),u=(l=r?.user)===null||l===void 0?void 0:l.refresh_token;return yield w1({apiURI:this.config.apiURI,appId:this.config.appId,path:i,refreshToken:u})})}upload(i,l){return Je(this,void 0,void 0,function*(){var r;const u=yield this.getCurrentUser(),c=(r=u?.user)===null||r===void 0?void 0:r.refresh_token,d=i||l.name,h=yield M1({apiURI:this.config.apiURI,appId:this.config.appId,fileName:d,refreshToken:c});return yield C1(h,l)})}getDownloadUrl(i){return Je(this,void 0,void 0,function*(){var l;const r=yield this.getCurrentUser(),u=(l=r?.user)===null||l===void 0?void 0:l.refresh_token;return yield D1({apiURI:this.config.apiURI,appId:this.config.appId,path:i,refreshToken:u})})}}let Rr;function fE(a,i){Rr?.dispose();const l=vE(i),r=pE(i,h),u=hE(dE(a));function c(y){var g;y.source===u.element.contentWindow&&((g=y.data)===null||g===void 0?void 0:g.type)==="close"&&l.isVisible()&&h()}function d(y){const g=y.shiftKey&&y.ctrlKey&&y.key==="0",S=y.key==="Escape"||y.key==="Esc";(g||S&&l.isVisible())&&h()}function h(){l.isVisible()?l.element.style.display="none":(l.element.style.display="block",l.element.contains(u.element)||l.element.appendChild(u.element))}function m(){l.element.remove(),r.element.remove(),removeEventListener("keydown",d),removeEventListener("message",c)}function p(){document.body.appendChild(l.element),document.body.appendChild(r.element),addEventListener("keydown",d),addEventListener("message",c),Rr={dispose:m}}return p()}function dE(a){return`${Cf||Ly?"http://localhost:3000":"https://instantdb.com"}/_devtool?appId=${a}`}function hE(a){const i=document.createElement("iframe");return i.src=a,i.className="instant-devtool-iframe",Object.assign(i.style,{width:"100%",height:"100%",backgroundColor:"white",border:"none"}),{element:i}}function pE(a,i){const l=`
    <svg width="32" height="32" viewBox="0 0 512 512" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="512" height="512" fill="black"/>
      <rect x="97.0973" y="91.3297" width="140" height="330" fill="white"/>
    </svg>
  `,r=document.createElement("button");return r.innerHTML=l,r.className="instant-devtool-toggler",Object.assign(r.style,Object.assign(Object.assign({position:"fixed"},mE(a.position)),{height:"32px",width:"32px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:"9010",padding:"0",margin:"0",border:"none",cursor:"pointer"})),r.addEventListener("click",i),{element:r}}function mE(a){switch(a){case"bottom-left":return{bottom:"24px",left:"24px"};case"bottom-right":return{bottom:"24px",right:"24px"};case"top-right":return{top:"24px",right:"24px"};case"top-left":return{top:"24px",left:"24px"}}}function yE(a){switch(a){case"bottom-left":return{bottom:"24px",right:"24px",left:"60px",top:"72px"};case"bottom-right":return{bottom:"24px",left:"24px",right:"60px",top:"72px"};case"top-right":return{top:"24px",left:"24px",right:"60px",bottom:"72px"};case"top-left":return{top:"24px",right:"24px",left:"60px",bottom:"72px"}}}function vE(a){const i=document.createElement("div");Object.assign(i.style,Object.assign(Object.assign({position:"fixed"},yE(a.position)),{display:"block",borderRadius:"4px",border:"1px #ccc solid",boxShadow:"0px 0px 8px #00000044",backgroundColor:"#eee",zIndex:"999990"})),i.style.display="none",i.className="instant-devtool-container";function l(){return i.style.display!=="none"}return{element:i,isVisible:l}}const gE={apiURI:"https://api.instantdb.com",websocketURI:"wss://api.instantdb.com/runtime/session"};function bE(){var a;return globalThis.__instantDbSchemaHashStore=(a=globalThis.__instantDbSchemaHashStore)!==null&&a!==void 0?a:new WeakMap,globalThis.__instantDbSchemaHashStore}function _E(){var a;return globalThis.__instantDbStore=(a=globalThis.__instantDbStore)!==null&&a!==void 0?a:{},globalThis.__instantDbStore}function Pc(a){const i=a.__adminToken;return a.appId+"_"+(a.websocketURI||"default_ws_uri")+"_"+(a.apiURI||"default_api_uri")+"_"+(i||"client_only")+"_"+a.useDateObjects}const Wc=_E(),D0=bE();class SE{constructor(i){this.db=i,this.sendMagicCode=l=>this.db.sendMagicCode(l),this.signInWithMagicCode=l=>this.db.signInWithMagicCode(l),this.signInWithToken=l=>this.db.signInWithCustomToken(l),this.signInAsGuest=()=>this.db.signInAsGuest(),this.createAuthorizationURL=l=>this.db.createAuthorizationURL(l),this.signInWithIdToken=l=>this.db.signInWithIdToken(l),this.exchangeOAuthCode=l=>this.db.exchangeCodeForToken(l),this.issuerURI=()=>this.db.issuerURI(),this.signOut=(l={invalidateToken:!0})=>this.db.signOut(l)}}class TE{constructor(i){this.db=i,this.uploadFile=(l,r,u={})=>this.db.uploadFile(l,r,u),this.delete=l=>this.db.deleteFile(l),this.upload=(l,r)=>this.db.upload(l,r),this.put=this.upload,this.getDownloadUrl=l=>this.db.getDownloadUrl(l)}}function EE(a){return JSON.parse(JSON.stringify(a))}class xE{constructor(i){this.tx=Mf(),this._reactor=i,this.auth=new SE(this._reactor),this.storage=new TE(this._reactor)}transact(i){return this._reactor.pushTx(i)}getLocalId(i){return this._reactor.getLocalId(i)}subscribeQuery(i,l,r){return this._reactor.subscribeQuery(i,l,r)}subscribeAuth(i){return this._reactor.subscribeAuth(i)}getAuth(){return this._reactor.getAuth()}subscribeConnectionStatus(i){return this._reactor.subscribeConnectionStatus(i)}joinRoom(i="_defaultRoomType",l="_defaultRoomId",r){return{leaveRoom:this._reactor.joinRoom(l,r?.initialPresence),subscribeTopic:(c,d)=>this._reactor.subscribeTopic(l,c,d),subscribePresence:(c,d)=>this._reactor.subscribePresence(i,l,c,d),publishTopic:(c,d)=>this._reactor.publishTopic({roomType:i,roomId:l,topic:c,data:d}),publishPresence:c=>this._reactor.publishPresence(i,l,c),getPresence:c=>this._reactor.getPresence(i,l,c)}}shutdown(){delete Wc[Pc(this._reactor.config)],this._reactor.shutdown()}queryOnce(i,l){return this._reactor.queryOnce(i,l)}_syncTableExperimental(i,l){return this._reactor.subscribeTable(i,l)}}function N0(a){if(!a)return"0";const i=D0.get(a);if(i)return i;const l=ft(a);return D0.set(a,l),l}function OE(a,i){return N0(a._reactor.config.schema)!==N0(i)}function jE(a,i,l,r,u){const c=Wc[Pc(a)];if(c)return OE(c,a.schema)&&c._reactor.updateSchema(a.schema),c;const d=new cE(Object.assign(Object.assign(Object.assign({},gE),a),{cardinalityInference:!!a.schema}),i||Ry,l||Uy,Object.assign(Object.assign({},r||{}),{"@instantdb/core":Df}),u),h=new xE(d);return Wc[Pc(a)]=h,AE(a.appId,a.devtool),h}function AE(a,i){if(typeof window>"u"||typeof window.location>"u"||typeof document>"u"||typeof i=="boolean"&&!i)return;const l=Object.assign({position:"bottom-right",allowedHosts:["localhost"]},typeof i=="object"?i:{});l.allowedHosts.includes(window.location.hostname)&&fE(a,l)}const wE={isLoading:!0,data:void 0,pageInfo:void 0,error:void 0};function R0(a){return Object.assign({isLoading:!a,data:void 0,pageInfo:void 0,error:void 0},a||{})}function ME(a,i,l){i&&l&&"ruleParams"in l&&(i=Object.assign({$$ruleParams:l.ruleParams},i));const r=i?EE(i):null,u=ft(r),c=D.useRef(R0(a._reactor.getPreviousResult(r))),d=D.useCallback(m=>(c.current=R0(a._reactor.getPreviousResult(r)),r?a.subscribeQuery(r,y=>{c.current=Object.assign({isLoading:!y,data:void 0,pageInfo:void 0,error:void 0},y),m()}):()=>{}),[u]);return{state:D.useSyncExternalStore(d,()=>c.current,()=>wE),query:r}}function CE(){const a=D.useRef(null);D.useEffect(()=>{l()},[]);function i(r,u){clearTimeout(a.current),a.current=setTimeout(u,r)}function l(){clearTimeout(a.current)}return{set:i,clear:l}}const DE=1e3;function NE(a,i,l){const r=D.useRef(l);r.current=l,D.useEffect(()=>a.core._reactor.subscribeTopic(a.id,i,(c,d)=>{r.current(c,d)}),[a.id,i])}function RE(a,i){return D.useEffect(()=>a.core._reactor.joinRoom(a.id),[a.id]),D.useCallback(r=>{a.core._reactor.publishTopic({roomType:a.type,roomId:a.id,topic:i,data:r})},[a.id,i])}function UE(a,i={}){var l,r;const[u,c]=D.useState(()=>{var m;return(m=a.core._reactor.getPresence(a.type,a.id,i))!==null&&m!==void 0?m:{peers:{},isLoading:!0}});D.useEffect(()=>a.core._reactor.subscribePresence(a.type,a.id,i,p=>{c(p)}),[a.id,i.user,(l=i.peers)===null||l===void 0?void 0:l.join(),(r=i.keys)===null||r===void 0?void 0:r.join()]);const d=D.useCallback(m=>{a.core._reactor.publishPresence(a.type,a.id,m)},[a.type,a.id]);return D.useMemo(()=>Object.assign(Object.assign({},u),{publishPresence:d}),[u,d])}function zE(a,i,l){D.useEffect(()=>a.core._reactor.joinRoom(a.id,i),[a.id]),D.useEffect(()=>a.core._reactor.publishPresence(a.type,a.id,i),[a.type,a.id,l??JSON.stringify(i)])}function LE(a,i,l={}){const r=CE(),u=Ha.usePresence(a,{keys:[i]}),c=D.useMemo(()=>{var y;const g=a._core._reactor.getPresence(a.type,a.id);return l?.writeOnly?[]:Object.values((y=g?.peers)!==null&&y!==void 0?y:{}).filter(S=>S[i]===!0)},[l?.writeOnly,u]),d=D.useCallback(y=>{var g;a.core._reactor.publishPresence(a.type,a.id,{[i]:y}),y&&(l?.timeout===null||l?.timeout===0||r.set((g=l?.timeout)!==null&&g!==void 0?g:DE,()=>{a.core._reactor.publishPresence(a.type,a.id,{[i]:null})}))},[a.type,a.id,i,l?.timeout,r]),h=D.useCallback(y=>{const S=!(l?.stopOnEnter&&y.key==="Enter");d(S)},[l.stopOnEnter,d]),m=D.useCallback(()=>{d(!1)},[d]),p=D.useMemo(()=>({onKeyDown:h,onBlur:m}),[h,m]);return{active:c,setActive:d,inputProps:p}}const Ha={useTopicEffect:NE,usePublishTopic:RE,usePresence:UE,useSyncPresence:zE,useTypingIndicator:LE};class kE{constructor(i,l,r){this.useTopicEffect=(u,c)=>{Ha.useTopicEffect(this,u,c)},this.usePublishTopic=u=>Ha.usePublishTopic(this,u),this.usePresence=(u={})=>Ha.usePresence(this,u),this.useSyncPresence=(u,c)=>Ha.useSyncPresence(this,u,c),this.useTypingIndicator=(u,c={})=>Ha.useTypingIndicator(this,u,c),this.core=i,this._core=this.core,this.type=l,this.id=r}}var HE=function(a,i,l,r){function u(c){return c instanceof l?c:new l(function(d){d(c)})}return new(l||(l=Promise))(function(c,d){function h(y){try{p(r.next(y))}catch(g){d(g)}}function m(y){try{p(r.throw(y))}catch(g){d(g)}}function p(y){y.done?c(y.value):u(y.value).then(h,m)}p((r=r.apply(a,i||[])).next())})};const BE={isLoading:!0,user:void 0,error:void 0};class qE{constructor(i,l){this.tx=Mf(),this.getLocalId=r=>this.core.getLocalId(r),this.useLocalId=r=>{const[u,c]=D.useState(null);return D.useEffect(()=>{HE(this,void 0,void 0,function*(){const h=yield this.getLocalId(r);c(h)})},[r]),u},this.rooms=Ha,this.transact=r=>this.core.transact(r),this.useQuery=(r,u)=>ME(this.core,r,u).state,this.useAuth=()=>{const r=D.useRef(this.core._reactor._currentUserCached),u=D.useCallback(d=>this.core.subscribeAuth(m=>{r.current=Object.assign({isLoading:!1},m),d()}),[]);return D.useSyncExternalStore(u,()=>r.current,()=>BE)},this.useUser=()=>{const{user:r}=this.useAuth();if(!r)throw new Bi("useUser must be used within an auth-protected route");return r},this.useConnectionStatus=()=>{const r=D.useRef(this.core._reactor.status),u=D.useCallback(d=>this.core.subscribeConnectionStatus(m=>{m!==r.current&&(r.current=m,d())}),[]);return D.useSyncExternalStore(u,()=>r.current,()=>"connecting")},this.queryOnce=(r,u)=>this.core.queryOnce(r,u),this.SignedIn=({children:r})=>{const u=this.useAuth();return u.isLoading||u.error||!u.user?null:b.jsx(b.Fragment,{children:r})},this.SignedOut=({children:r})=>{const u=this.useAuth();return u.isLoading||u.error||u.user?null:b.jsx(b.Fragment,{children:r})},this.core=jE(i,this.constructor.Storage,this.constructor.NetworkListener,l,this.constructor.EventSourceImpl),this._core=this.core,this.auth=this.core.auth,this.storage=this.core.storage}room(i="_defaultRoomType",l="_defaultRoomId"){return new kE(this.core,i,l)}getAuth(){return this.core.getAuth()}}class U0 extends Error{constructor(i,l){super(i),this.name="ParseError",this.type=l.type,this.field=l.field,this.value=l.value,this.line=l.line}}function Cc(a){}function YE(a){if(typeof a=="function")throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent:i=Cc,onError:l=Cc,onRetry:r=Cc,onComment:u}=a;let c="",d=!0,h,m="",p="";function y(x){const O=d?x.replace(/^\xEF\xBB\xBF/,""):x,[M,z]=GE(`${c}${O}`);for(const $ of M)g($);c=z,d=!1}function g(x){if(x===""){T();return}if(x.startsWith(":")){u&&u(x.slice(x.startsWith(": ")?2:1));return}const O=x.indexOf(":");if(O!==-1){const M=x.slice(0,O),z=x[O+1]===" "?2:1,$=x.slice(O+z);S(M,$,x);return}S(x,"",x)}function S(x,O,M){switch(x){case"event":p=O;break;case"data":m=`${m}${O}
`;break;case"id":h=O.includes("\0")?void 0:O;break;case"retry":/^\d+$/.test(O)?r(parseInt(O,10)):l(new U0(`Invalid \`retry\` value: "${O}"`,{type:"invalid-retry",value:O,line:M}));break;default:l(new U0(`Unknown field "${x.length>20?`${x.slice(0,20)}`:x}"`,{type:"unknown-field",field:x,value:O,line:M}));break}}function T(){m.length>0&&i({id:h,event:p||void 0,data:m.endsWith(`
`)?m.slice(0,-1):m}),h=void 0,m="",p=""}function j(x={}){c&&x.consume&&g(c),d=!0,h=void 0,m="",p="",c=""}return{feed:y,reset:j}}function GE(a){const i=[];let l="",r=0;for(;r<a.length;){const u=a.indexOf("\r",r),c=a.indexOf(`
`,r);let d=-1;if(u!==-1&&c!==-1?d=Math.min(u,c):u!==-1?u===a.length-1?d=-1:d=u:c!==-1&&(d=c),d===-1){l=a.slice(r);break}else{const h=a.slice(r,d);i.push(h),r=d+1,a[r-1]==="\r"&&a[r]===`
`&&r++}}return[i,l]}class z0 extends Event{constructor(i,l){var r,u;super(i),this.code=(r=l?.code)!=null?r:void 0,this.message=(u=l?.message)!=null?u:void 0}[Symbol.for("nodejs.util.inspect.custom")](i,l,r){return r(L0(this),l)}[Symbol.for("Deno.customInspect")](i,l){return i(L0(this),l)}}function $E(a){const i=globalThis.DOMException;return typeof i=="function"?new i(a,"SyntaxError"):new SyntaxError(a)}function ef(a){return a instanceof Error?"errors"in a&&Array.isArray(a.errors)?a.errors.map(ef).join(", "):"cause"in a&&a.cause instanceof Error?`${a}: ${ef(a.cause)}`:a.message:`${a}`}function L0(a){return{type:a.type,message:a.message,code:a.code,defaultPrevented:a.defaultPrevented,cancelable:a.cancelable,timeStamp:a.timeStamp}}var Qy=a=>{throw TypeError(a)},Nf=(a,i,l)=>i.has(a)||Qy("Cannot "+l),he=(a,i,l)=>(Nf(a,i,"read from private field"),l?l.call(a):i.get(a)),Fe=(a,i,l)=>i.has(a)?Qy("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(a):i.set(a,l),Le=(a,i,l,r)=>(Nf(a,i,"write to private field"),i.set(a,l),l),Rn=(a,i,l)=>(Nf(a,i,"access private method"),l),xt,Ba,Di,qr,Xr,Wl,Ui,es,da,Ni,Li,Ri,Zl,tn,tf,nf,af,k0,lf,sf,Jl,rf,uf;class ts extends EventTarget{constructor(i,l){var r,u;super(),Fe(this,tn),this.CONNECTING=0,this.OPEN=1,this.CLOSED=2,Fe(this,xt),Fe(this,Ba),Fe(this,Di),Fe(this,qr),Fe(this,Xr),Fe(this,Wl),Fe(this,Ui),Fe(this,es,null),Fe(this,da),Fe(this,Ni),Fe(this,Li,null),Fe(this,Ri,null),Fe(this,Zl,null),Fe(this,nf,async c=>{var d;he(this,Ni).reset();const{body:h,redirected:m,status:p,headers:y}=c;if(p===204){Rn(this,tn,Jl).call(this,"Server sent HTTP 204, not reconnecting",204),this.close();return}if(m?Le(this,Di,new URL(c.url)):Le(this,Di,void 0),p!==200){Rn(this,tn,Jl).call(this,`Non-200 status code (${p})`,p);return}if(!(y.get("content-type")||"").startsWith("text/event-stream")){Rn(this,tn,Jl).call(this,'Invalid content type, expected "text/event-stream"',p);return}if(he(this,xt)===this.CLOSED)return;Le(this,xt,this.OPEN);const g=new Event("open");if((d=he(this,Zl))==null||d.call(this,g),this.dispatchEvent(g),typeof h!="object"||!h||!("getReader"in h)){Rn(this,tn,Jl).call(this,"Invalid response body, expected a web ReadableStream",p),this.close();return}const S=new TextDecoder,T=h.getReader();let j=!0;do{const{done:x,value:O}=await T.read();O&&he(this,Ni).feed(S.decode(O,{stream:!x})),x&&(j=!1,he(this,Ni).reset(),Rn(this,tn,rf).call(this))}while(j)}),Fe(this,af,c=>{Le(this,da,void 0),!(c.name==="AbortError"||c.type==="aborted")&&Rn(this,tn,rf).call(this,ef(c))}),Fe(this,lf,c=>{typeof c.id=="string"&&Le(this,es,c.id);const d=new MessageEvent(c.event||"message",{data:c.data,origin:he(this,Di)?he(this,Di).origin:he(this,Ba).origin,lastEventId:c.id||""});he(this,Ri)&&(!c.event||c.event==="message")&&he(this,Ri).call(this,d),this.dispatchEvent(d)}),Fe(this,sf,c=>{Le(this,Wl,c)}),Fe(this,uf,()=>{Le(this,Ui,void 0),he(this,xt)===this.CONNECTING&&Rn(this,tn,tf).call(this)});try{if(i instanceof URL)Le(this,Ba,i);else if(typeof i=="string")Le(this,Ba,new URL(i,QE()));else throw new Error("Invalid URL")}catch{throw $E("An invalid or illegal string was specified")}Le(this,Ni,YE({onEvent:he(this,lf),onRetry:he(this,sf)})),Le(this,xt,this.CONNECTING),Le(this,Wl,3e3),Le(this,Xr,(r=l?.fetch)!=null?r:globalThis.fetch),Le(this,qr,(u=l?.withCredentials)!=null?u:!1),Rn(this,tn,tf).call(this)}get readyState(){return he(this,xt)}get url(){return he(this,Ba).href}get withCredentials(){return he(this,qr)}get onerror(){return he(this,Li)}set onerror(i){Le(this,Li,i)}get onmessage(){return he(this,Ri)}set onmessage(i){Le(this,Ri,i)}get onopen(){return he(this,Zl)}set onopen(i){Le(this,Zl,i)}addEventListener(i,l,r){const u=l;super.addEventListener(i,u,r)}removeEventListener(i,l,r){const u=l;super.removeEventListener(i,u,r)}close(){he(this,Ui)&&clearTimeout(he(this,Ui)),he(this,xt)!==this.CLOSED&&(he(this,da)&&he(this,da).abort(),Le(this,xt,this.CLOSED),Le(this,da,void 0))}}xt=new WeakMap,Ba=new WeakMap,Di=new WeakMap,qr=new WeakMap,Xr=new WeakMap,Wl=new WeakMap,Ui=new WeakMap,es=new WeakMap,da=new WeakMap,Ni=new WeakMap,Li=new WeakMap,Ri=new WeakMap,Zl=new WeakMap,tn=new WeakSet,tf=function(){Le(this,xt,this.CONNECTING),Le(this,da,new AbortController),he(this,Xr)(he(this,Ba),Rn(this,tn,k0).call(this)).then(he(this,nf)).catch(he(this,af))},nf=new WeakMap,af=new WeakMap,k0=function(){var a;const i={mode:"cors",redirect:"follow",headers:{Accept:"text/event-stream",...he(this,es)?{"Last-Event-ID":he(this,es)}:void 0},cache:"no-store",signal:(a=he(this,da))==null?void 0:a.signal};return"window"in globalThis&&(i.credentials=this.withCredentials?"include":"same-origin"),i},lf=new WeakMap,sf=new WeakMap,Jl=function(a,i){var l;he(this,xt)!==this.CLOSED&&Le(this,xt,this.CLOSED);const r=new z0("error",{code:i,message:a});(l=he(this,Li))==null||l.call(this,r),this.dispatchEvent(r)},rf=function(a,i){var l;if(he(this,xt)===this.CLOSED)return;Le(this,xt,this.CONNECTING);const r=new z0("error",{code:i,message:a});(l=he(this,Li))==null||l.call(this,r),this.dispatchEvent(r),Le(this,Ui,setTimeout(he(this,uf),he(this,Wl)))},uf=new WeakMap,ts.CONNECTING=0,ts.OPEN=1,ts.CLOSED=2;Object.defineProperty(ts,Symbol.for("eventsource.supports-fetch-override"),{value:!0,writable:!1,configurable:!1,enumerable:!1});function QE(){const a="document"in globalThis?globalThis.document:void 0;return a&&typeof a=="object"&&"baseURI"in a&&typeof a.baseURI=="string"?a.baseURI:void 0}class Ky extends qE{}Ky.EventSourceImpl=ts;function KE(a){return new Ky(a,{"@instantdb/react":Df})}const VE="fb13a3d0-35ab-493b-9aa6-64a77363fe93",xe=KE({appId:VE}),of={calories_min:1600,calories_max:2e3,purines_min:0,purines_max:400,protein_target:50,carbs_target:250,fat_target:65,fiber_target:25,sodium_max:2300,sugar_max:50,hydration_target:2e3},XE={calories:{icon:"",unit:"kcal",label:"Calories"},purines:{icon:"",unit:"mg",label:"Purines"},protein:{icon:"",unit:"g",label:"Protein"},carbs:{icon:"",unit:"g",label:"Carbs"},fat:{icon:"",unit:"g",label:"Fat"},fiber:{icon:"",unit:"g",label:"Fiber"},sodium:{icon:"",unit:"mg",label:"Sodium"},sugar:{icon:"",unit:"g",label:"Sugar"},hydration:{icon:"",unit:"ml",label:"Water"}};function ZE(a,i,l,r){const u=10*a+6.25*i-5*l;return r==="male"?u+5:u-161}const JE={sedentary:1.2,light:1.375,moderate:1.55,active:1.725,very_active:1.9};function IE(a,i,l,r,u){const c=ZE(a,i,l,r),d=JE[u]||1.55;return Math.round(c*d)}function FE(a=[]){return a.includes("kidney_disease")?150:a.includes("gout")?200:400}function PE(a,i){const l=a*30;return Math.round(l+({sedentary:0,light:200,moderate:400,active:600,very_active:800}[i]||0))}function WE(a){const{weight_kg:i,height_cm:l,age:r,sex:u,activity_level:c,dietary_conditions:d=[]}=a,h=IE(i,l,r,u,c),m=FE(d),p=PE(i,c),g=Math.round(i*({sedentary:.8,light:.9,moderate:1,active:1.2,very_active:1.4}[c]||1));let S=.5;d.includes("diabetes")&&(S=.4);const T=Math.round(h*S/4),j=Math.round(h*.275/9);let x=u==="female"?25:38;r>50&&(x=u==="female"?21:30);let O=2300;d.includes("kidney_disease")&&(O=1500);let M=u==="female"?25:36;return(d.includes("diabetes")||d.includes("gout"))&&(M=Math.round(M*.6)),{calories_min:Math.round(h*.85),calories_max:h,purines_min:0,purines_max:m,protein_target:g,carbs_target:T,fat_target:j,fiber_target:x,sodium_max:O,sugar_max:M,hydration_target:p}}function ex(a){const i=a.getFullYear(),l=String(a.getMonth()+1).padStart(2,"0"),r=String(a.getDate()).padStart(2,"0");return`${i}-${l}-${r}`}function tx(){return ex(new Date)}function nx(a){a=a.replace(/^#/,"");const i=parseInt(a.substring(0,2),16)/255,l=parseInt(a.substring(2,4),16)/255,r=parseInt(a.substring(4,6),16)/255,u=Math.max(i,l,r),c=Math.min(i,l,r);let d,h,m=(u+c)/2;if(u===c)d=h=0;else{const p=u-c;switch(h=m>.5?p/(2-u-c):p/(u+c),u){case i:d=((l-r)/p+(l<r?6:0))/6;break;case l:d=((r-i)/p+2)/6;break;case r:d=((i-l)/p+4)/6;break}}return{h:Math.round(d*360),s:Math.round(h*100),l:Math.round(m*100)}}function tt(a,i,l){i/=100,l/=100;const r=(1-Math.abs(2*l-1))*i,u=r*(1-Math.abs(a/60%2-1)),c=l-r/2;let d=0,h=0,m=0;return 0<=a&&a<60?(d=r,h=u,m=0):60<=a&&a<120?(d=u,h=r,m=0):120<=a&&a<180?(d=0,h=r,m=u):180<=a&&a<240?(d=0,h=u,m=r):240<=a&&a<300?(d=u,h=0,m=r):300<=a&&a<360&&(d=r,h=0,m=u),d=Math.round((d+c)*255).toString(16).padStart(2,"0"),h=Math.round((h+c)*255).toString(16).padStart(2,"0"),m=Math.round((m+c)*255).toString(16).padStart(2,"0"),`#${d}${h}${m}`}function qa(a,i=!1){const l=nx(a);return i?{primary:a,primaryLight:tt(l.h,l.s*.8,Math.min(l.l+15,80)),primaryDark:tt(l.h,l.s,Math.max(l.l-15,20)),background:tt(l.h,l.s*.2,12),surface:tt(l.h,l.s*.15,18),surfaceVariant:tt(l.h,l.s*.2,25),secondary:tt((l.h+180)%360,l.s*.7,60),text:tt(l.h,l.s*.1,95),textSecondary:tt(l.h,l.s*.15,70),border:tt(l.h,l.s*.2,30),success:"#66BB6A",warning:"#FFA726",danger:"#EF5350"}:{primary:a,primaryLight:tt(l.h,l.s*.6,Math.min(l.l+20,90)),primaryDark:tt(l.h,l.s,Math.max(l.l-20,30)),background:tt(l.h,l.s*.3,97),surface:tt(l.h,l.s*.1,100),surfaceVariant:tt(l.h,l.s*.2,95),secondary:tt((l.h+180)%360,l.s*.7,l.l),text:tt(l.h,l.s*.5,15),textSecondary:tt(l.h,l.s*.3,40),border:tt(l.h,l.s*.2,85),success:"#66BB6A",warning:"#FFA726",danger:"#EF5350"}}const ns={emerald:{name:"Emerald Dragon",description:"Bright, cheerful, default",seedColor:"#66BB6A",isDark:!1},midnight:{name:"Midnight Dragon",description:"Sleek, easy on eyes",seedColor:"#7B2CBF",isDark:!0},crystal:{name:"Crystal Dragon",description:"High contrast, accessible",seedColor:"#2196F3",isDark:!1}};function Ya(a){const i=document.documentElement;Object.entries(a).forEach(([l,r])=>{const u=`--color-${l.replace(/([A-Z])/g,"-$1").toLowerCase()}`;i.style.setProperty(u,r)})}function ax(a,i,l){return a>l?"danger":a>l*.8||i&&a<i*.8?"warning":"success"}const Vy=D.createContext(null),Ql={id:"local-user",name:"Dragon Keeper",profile:{sex:"male",age:30,weight_kg:75,height_cm:175,activity_level:"moderate",dietary_conditions:[]},thresholds:of,theme:{preset:"emerald",seed_color_hex:"#66BB6A"},badges:[],stats:{total_meals_logged:0,current_streak_days:0,longest_streak_days:0,meals_saved_to_stash:0}};function ix({children:a}){const[i,l]=D.useState(null),[r,u]=D.useState(!0),[c,d]=D.useState(!1),{isLoading:h,error:m,data:p}=xe.useQuery({users:{}});D.useEffect(()=>{if(!h){if(p?.users&&p.users.length>0){const x=p.users[0];if(l({...Ql,...x,profile:{...Ql.profile,...x.profile},thresholds:{...Ql.thresholds,...x.thresholds},theme:{...Ql.theme,...x.theme}}),d(!0),x.theme?.preset){const O=ns[x.theme.preset];if(O){const M=qa(O.seedColor,O.isDark);Ya(M)}else if(x.theme.seed_color_hex){const M=qa(x.theme.seed_color_hex,!1);Ya(M)}}}else{l(Ql),d(!1);const x=ns.emerald,O=qa(x.seedColor,x.isDark);Ya(O)}u(!1)}},[h,p]);const j={user:i,isLoading:r||h,isAuthenticated:c,error:m,updateProfile:async x=>{const O={...i,profile:{...i.profile,...x}};l(O),i.id&&i.id!=="local-user"&&await xe.transact([xe.tx.users[i.id].update({profile:O.profile})])},updateThresholds:async x=>{const O={...i,thresholds:{...i.thresholds,...x}};l(O),i.id&&i.id!=="local-user"&&await xe.transact([xe.tx.users[i.id].update({thresholds:O.thresholds})])},updateTheme:async(x,O=null)=>{const M={preset:x,seed_color_hex:O||i.theme.seed_color_hex},z={...i,theme:M};if(l(z),x==="custom"&&O){const $=qa(O,!1);Ya($)}else{const $=ns[x];if($){const I=qa($.seedColor,$.isDark);Ya(I)}}i.id&&i.id!=="local-user"&&await xe.transact([xe.tx.users[i.id].update({theme:M})])},saveUser:async(x=null)=>{const O=x||i;if(i.id==="local-user"){const M=crypto.randomUUID(),z={...O,id:M};return await xe.transact([xe.tx.users[M].update({id:M,name:z.name,profile:z.profile,thresholds:z.thresholds,theme:z.theme,badges:z.badges||[],stats:z.stats||{},created_at:Date.now()})]),l(z),d(!0),M}else return await xe.transact([xe.tx.users[i.id].update({name:O.name,profile:O.profile,thresholds:O.thresholds,theme:O.theme,updated_at:Date.now()})]),i.id},setUser:l};return b.jsx(Vy.Provider,{value:j,children:a})}function fs(){const a=D.useContext(Vy);if(!a)throw new Error("useUser must be used within a UserProvider");return a}const lx=[{path:"/",icon:"",label:"Diary"},{path:"/charts",icon:"",label:"Scroll"},{path:"/oracle",icon:"",label:"Oracle"},{path:"/settings",icon:"",label:"Lair"}];function sx(){return b.jsx("nav",{className:"nav-bar",children:lx.map(a=>b.jsxs(ny,{to:a.path,className:({isActive:i})=>`nav-item ${i?"active":""}`,children:[b.jsx("span",{className:"nav-icon",children:a.icon}),b.jsx("span",{className:"nav-label",children:a.label})]},a.path))})}function ma({title:a,subtitle:i,action:l,showBack:r,onBack:u}){return b.jsx("header",{className:"header",children:b.jsxs("div",{className:"header-content",children:[r&&b.jsx("button",{className:"header-back",onClick:u,"aria-label":"Go back",children:""}),b.jsxs("div",{className:"header-title-group",children:[b.jsxs("h1",{className:"header-title",children:[b.jsx("span",{className:"header-dragon",children:""})," ",a]}),i&&b.jsx("p",{className:"header-subtitle",children:i})]}),l&&b.jsx("div",{className:"header-action",children:l})]})})}function Nn({nutrient:a,value:i,target:l,min:r=0,max:u,showLabel:c=!0,compact:d=!1}){const h=XE[a]||{icon:"",unit:"",label:a},m=u||l,p=Math.min(i/m*100,100),y=ax(i,r,m);return b.jsxs("div",{className:`nutrient-progress ${d?"compact":""}`,children:[c&&b.jsxs("div",{className:"nutrient-header",children:[b.jsxs("span",{className:"nutrient-label",children:[b.jsx("span",{className:"nutrient-icon",children:h.icon}),!d&&b.jsx("span",{className:"nutrient-name",children:h.label})]}),b.jsxs("span",{className:"nutrient-value",children:[b.jsx("span",{className:"current",children:Math.round(i)}),b.jsx("span",{className:"separator",children:"/"}),b.jsx("span",{className:"target",children:Math.round(m)}),b.jsx("span",{className:"unit",children:h.unit})]})]}),b.jsx("div",{className:"progress-bar",children:b.jsx("div",{className:`progress-bar-fill ${y}`,style:{width:`${p}%`}})}),!d&&b.jsxs("div",{className:"nutrient-footer",children:[b.jsxs("span",{className:`status-indicator ${y}`,children:[y==="success"&&"",y==="warning"&&"",y==="danger"&&""]}),b.jsxs("span",{className:"percentage",children:[Math.round(p),"%"]})]})]})}const H0={curious:{emoji:"",animation:"sniff",message:"Your dragon is looking for food..."},happy:{emoji:"",animation:"bounce",message:"Your dragon is happy!"},satisfied:{emoji:"",animation:"pulse",message:"Your dragon is satisfied and content."},stuffed:{emoji:"",animation:"wobble",message:"Your dragon ate too much!"},sick:{emoji:"",animation:"shake",message:"Your dragon isn't feeling well..."},celebrating:{emoji:"",animation:"celebrate",message:"Your dragon is celebrating! "},hoarding:{emoji:"",animation:"hoard",message:"Saved to your dragon's hoard!"}};function Zr({state:a="happy",showMessage:i=!0,size:l="medium"}){const r=H0[a]||H0.happy;return b.jsxs("div",{className:`ember-mascot ${l}`,children:[b.jsxs("div",{className:`ember-emoji ${r.animation}`,children:[r.emoji,a==="sick"&&b.jsx("span",{className:"ember-effect",children:""}),a==="celebrating"&&b.jsx("span",{className:"ember-effect",children:""}),a==="happy"&&b.jsx("span",{className:"ember-effect",children:""})]}),i&&b.jsx("p",{className:"ember-message",children:r.message})]})}function rx(a,i){if(!a||!i)return"curious";const l=a.calories/i.calories_max,r=a.purines/i.purines_max;return r>1?"sick":l>1?"stuffed":r>.8||l>.8?"satisfied":a.calories===0?"curious":"happy"}const cf=()=>{const a=new Date,i=a.getFullYear(),l=String(a.getMonth()+1).padStart(2,"0"),r=String(a.getDate()).padStart(2,"0");return`${i}-${l}-${r}`},B0={breakfast:1,lunch:2,dinner:3,snack:4,hydration:5};function Xy(a=null){const{user:i}=fs(),l=i?.id,r=a?{meals:{$:{where:{user_id:l,date:a}}}}:{meals:{$:{where:{user_id:l}}}},{isLoading:u,error:c,data:d}=xe.useQuery(l?r:null),h=d?.meals||[];return{meals:D.useMemo(()=>[...h].sort((T,j)=>{const x=B0[T.meal_type]||99,O=B0[j.meal_type]||99;return x-O}),[h]),isLoading:u,error:c,addMeal:async T=>{if(!l)return null;const j=crypto.randomUUID(),x={id:j,user_id:l,date:T.date||cf(),timestamp:Date.now(),meal_type:T.meal_type||"snack",meal_name:T.meal_name||"Unnamed Meal",ingredients:T.ingredients||[],total_nutrients:T.total_nutrients||{},hydration_ml:T.hydration_ml||0,image_urls:T.image_urls||[],analysis_method:T.analysis_method||"manual"};return await xe.transact([xe.tx.meals[j].update(x)]),j},updateMeal:async(T,j)=>{await xe.transact([xe.tx.meals[T].update({...j,updated_at:Date.now()})])},deleteMeal:async T=>{await xe.transact([xe.tx.meals[T].delete()])},getDailyTotals:(T=a||cf())=>h.filter(O=>O.date===T).reduce((O,M)=>(M.total_nutrients&&Object.keys(M.total_nutrients).forEach(z=>{O[z]=(O[z]||0)+(M.total_nutrients[z]||0)}),O.hydration=(O.hydration||0)+(M.hydration_ml||0),O),{})}}function Zy(a=cf()){const{user:i}=fs(),l=i?.id,{isLoading:r,data:u}=xe.useQuery(l?{hydration:{$:{where:{user_id:l,date:a}}}}:null),d=(u?.hydration||[])[0],h=d?.amount_ml||0,m=async y=>{if(l)if(d)await xe.transact([xe.tx.hydration[d.id].update({amount_ml:Math.max(0,y),updated_at:Date.now()})]);else{const g=crypto.randomUUID();await xe.transact([xe.tx.hydration[g].update({id:g,user_id:l,date:a,amount_ml:Math.max(0,y),created_at:Date.now(),updated_at:Date.now()})])}};return{totalHydration:h,isLoading:r,setHydration:m,adjustHydration:async y=>{if(!l)return;const g=Math.max(0,h+y);await m(g)}}}function Rf(){const{user:a}=fs(),i=a?.id,{isLoading:l,error:r,data:u}=xe.useQuery(i?{customItems:{$:{where:{user_id:i}}}}:null),c=u?.customItems||[],d=c.filter(S=>S.type==="meal"),h=c.filter(S=>S.type==="ingredient"),m=c.filter(S=>S.type==="container");return{savedMeals:d,customIngredients:h,bottles:m,items:c,isLoading:l,error:r,addToStash:async S=>{if(!i)return null;const T=crypto.randomUUID();return await xe.transact([xe.tx.customItems[T].update({id:T,user_id:i,type:S.type,name:S.name,icon:S.icon||null,ingredients:S.ingredients||[],total_nutrients:S.total_nutrients||{},capacity_ml:S.capacity_ml||0,use_count:S.use_count||0,created_at:Date.now()})]),T},removeFromStash:async S=>{await xe.transact([xe.tx.customItems[S].delete()])},updateStashItem:async(S,T)=>{await xe.transact([xe.tx.customItems[S].update({...T,updated_at:Date.now()})])}}}const Dc=[{key:"breakfast",icon:"",label:"Brekkie"},{key:"lunch",icon:"",label:"Lunch"},{key:"dinner",icon:"",label:"Dinner"},{key:"snack",icon:"",label:"Snack"}],Nc=a=>{const i=new Date(a);return`${i.getFullYear()}-${String(i.getMonth()+1).padStart(2,"0")}-${String(i.getDate()).padStart(2,"0")}`},ux=a=>{const i=[];for(let l=-3;l<=3;l++){const r=new Date(a);r.setDate(r.getDate()+l),i.push({date:r,dateKey:Nc(r),dayName:r.toLocaleDateString("en-US",{weekday:"short"}).charAt(0),dayNum:r.getDate(),isToday:Nc(r)===Nc(new Date)})}return i};function ox(){const{user:a,isLoading:i}=fs(),[l,r]=D.useState(tx()),[u,c]=D.useState(new Date),[d,h]=D.useState("breakfast"),[m,p]=D.useState(""),[y,g]=D.useState(!1),[S,T]=D.useState(null),[j,x]=D.useState(""),[O,M]=D.useState("snack"),{meals:z,isLoading:$,addMeal:I,updateMeal:X,deleteMeal:W,getDailyTotals:Z}=Xy(l),{totalHydration:le,adjustHydration:ge,isLoading:Ye}=Zy(l),{addToStash:Q,bottles:ce}=Rf(),at=[...[{id:"quick-250",name:"+250ml",capacity_ml:250,icon:null},{id:"quick-500",name:"+500ml",capacity_ml:500,icon:null}],...ce],pt=ux(u),k=a?.thresholds||{},K=z.filter(J=>J.meal_type!=="hydration"),re={...Z(l)},Te=rx(re,k),w=i||$||Ye,Y=async J=>{await ge(J)},L=J=>{r(J)},V=J=>{const He=new Date(u);He.setDate(He.getDate()+(J==="next"?7:-7)),c(He)},ae=async J=>{if(J.preventDefault(),!m.trim())return;await I({date:l,meal_type:d,meal_name:m,ingredients:[],total_nutrients:{calories:0,purines:0,protein:0,carbs:0,fat:0,fiber:0,sodium:0,sugar:0},hydration_ml:0,analysis_method:"manual"}),p("")},oe=async J=>{confirm("Delete this meal?")&&await W(J)},be=J=>{T(J),x(J.meal_name),M(J.meal_type)},it=async()=>{S&&(await X(S.id,{meal_name:j,meal_type:O}),T(null))},Ue=()=>{T(null),x(""),M("snack")},va=async J=>{await Q({type:"meal",name:J.meal_name,ingredients:J.ingredients||[],total_nutrients:J.total_nutrients||{},use_count:0}),alert(`"${J.meal_name}" saved to your Dragon's Hoard! `)},Vi=(J=>{const[He,ga,Xi]=J.split("-").map(Number);return new Date(He,ga-1,Xi)})(l).toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"});return w?b.jsxs("div",{className:"page diary-page",children:[b.jsx(ma,{title:"Dragon Keeper",subtitle:"Loading..."}),b.jsxs("div",{className:"loading-state card",children:[b.jsx("div",{className:"spinner"}),b.jsx("p",{children:"Waking up the dragon..."})]})]}):b.jsxs("div",{className:"page diary-page",children:[b.jsx(ma,{title:"Dragon Keeper",subtitle:`Feeding log for ${Vi}`}),b.jsxs("div",{className:"calendar-ribbon card",children:[b.jsx("button",{className:"cal-nav",onClick:()=>V("prev"),"aria-label":"Previous week",children:""}),b.jsx("div",{className:"cal-days",children:pt.map(J=>{const He=J.dateKey===l;return b.jsxs("button",{className:`cal-day ${He?"active":""} ${J.isToday?"today":""}`,onClick:()=>L(J.dateKey),children:[b.jsx("span",{className:"cal-day-name",children:J.dayName}),b.jsx("span",{className:"cal-day-num",children:J.dayNum}),J.isToday&&b.jsx("span",{className:"cal-day-indicator",children:""})]},J.dateKey)})}),b.jsx("button",{className:"cal-nav",onClick:()=>V("next"),"aria-label":"Next week",children:""})]}),b.jsx("div",{className:"meal-type-selector",children:Dc.map(J=>b.jsxs("button",{className:`meal-type-btn ${d===J.key?"active":""}`,onClick:()=>h(J.key),children:[b.jsx("span",{className:"meal-icon",children:J.icon}),b.jsx("span",{className:"meal-label",children:J.label})]},J.key))}),b.jsxs("form",{className:"meal-input-section card",onSubmit:ae,children:[b.jsx("label",{className:"input-label",children:"What did your dragon eat? "}),b.jsx("div",{className:"input-row",children:b.jsx("input",{type:"text",placeholder:"e.g., grilled chicken with rice...",value:m,onChange:J=>p(J.target.value)})}),b.jsxs("div",{className:"input-actions",children:[b.jsx("button",{type:"button",className:"btn btn-secondary",children:""}),b.jsx("button",{type:"button",className:"btn btn-secondary",children:""}),b.jsx("button",{type:"button",className:"btn btn-secondary",children:""}),b.jsx("button",{type:"submit",className:"btn btn-primary btn-lg",children:"Log It! "})]})]}),b.jsxs("div",{className:"hydration-section card",children:[b.jsxs("div",{className:"hydration-header",children:[b.jsx("span",{className:"hydration-title",children:" Dragon's Hydration"}),b.jsxs("span",{className:"hydration-value",children:[le,"/",k.hydration_target||2e3,"ml"]})]}),b.jsx("div",{className:"progress-bar",children:b.jsx("div",{className:`progress-bar-fill ${le>=(k.hydration_target||2e3)?"success":"warning"}`,style:{width:`${Math.min(le/(k.hydration_target||2e3)*100,100)}%`}})}),b.jsxs("div",{className:"hydration-buttons",children:[b.jsx("button",{className:"btn btn-secondary btn-danger-outline",onClick:()=>Y(-250),children:"250"}),at.map(J=>b.jsxs("button",{className:"btn btn-secondary",onClick:()=>Y(J.capacity_ml),children:[J.icon||"",J.icon?" ":"",J.name||`+${J.capacity_ml}ml`]},J.id))]})]}),b.jsxs("section",{className:"meals-section",children:[b.jsx("h2",{className:"section-title",children:"Today's Feast"}),K.length===0?b.jsxs("div",{className:"empty-state card",children:[b.jsx(Zr,{state:"curious"}),b.jsx("p",{children:"No meals logged yet today!"}),b.jsx("p",{className:"text-muted",children:"Feed your dragon to get started."})]}):b.jsx("div",{className:"meals-list",children:K.map(J=>b.jsxs("div",{className:"meal-card card",children:[b.jsxs("div",{className:"meal-header",children:[b.jsx("span",{className:"meal-type-badge",children:Dc.find(He=>He.key===J.meal_type)?.icon||""}),b.jsx("h3",{className:"meal-name",children:J.meal_name})]}),J.ingredients&&J.ingredients.length>0&&b.jsx("ul",{className:"meal-ingredients",children:J.ingredients.map((He,ga)=>b.jsxs("li",{children:[" ",He.name," (",He.quantity,He.unit,")"]},ga))}),b.jsxs("div",{className:"meal-nutrients",children:[b.jsxs("span",{children:[" ",J.total_nutrients?.calories||0," cal"]}),b.jsxs("span",{children:[" ",J.total_nutrients?.purines||0,"mg purines"]})]}),b.jsxs("div",{className:"meal-actions",children:[b.jsx("button",{className:"btn btn-secondary",onClick:()=>be(J),children:" Edit"}),b.jsx("button",{className:"btn btn-secondary",onClick:()=>oe(J.id),children:""}),b.jsx("button",{className:"btn btn-secondary",onClick:()=>va(J),children:" Stash"})]})]},J.id))})]}),b.jsxs("section",{className:"daily-status card",children:[b.jsxs("div",{className:"status-header",onClick:()=>g(!y),children:[b.jsx("h3",{children:" Dragon's Daily Status"}),b.jsx(Zr,{state:Te,showMessage:!1,size:"small"}),b.jsx("span",{className:"toggle-hint",children:y?"":""})]}),b.jsx(Nn,{nutrient:"calories",value:re.calories||0,target:k.calories_max||2e3,min:k.calories_min||1500,max:k.calories_max||2e3}),b.jsx(Nn,{nutrient:"purines",value:re.purines||0,target:k.purines_max||400,max:k.purines_max||400}),y&&b.jsxs("div",{className:"all-nutrients animate-fade-in",children:[b.jsx(Nn,{nutrient:"protein",value:re.protein||0,target:k.protein_target||60,compact:!0}),b.jsx(Nn,{nutrient:"carbs",value:re.carbs||0,target:k.carbs_target||250,compact:!0}),b.jsx(Nn,{nutrient:"fat",value:re.fat||0,target:k.fat_target||65,compact:!0}),b.jsx(Nn,{nutrient:"fiber",value:re.fiber||0,target:k.fiber_target||30,compact:!0}),b.jsx(Nn,{nutrient:"sodium",value:re.sodium||0,target:k.sodium_max||2300,max:k.sodium_max||2300,compact:!0}),b.jsx(Nn,{nutrient:"sugar",value:re.sugar||0,target:k.sugar_max||50,max:k.sugar_max||50,compact:!0}),b.jsx(Nn,{nutrient:"hydration",value:le,target:k.hydration_target||2e3,compact:!0})]})]}),S&&b.jsx("div",{className:"modal-overlay",onClick:Ue,children:b.jsxs("div",{className:"modal-content card",onClick:J=>J.stopPropagation(),children:[b.jsx("h2",{children:" Edit Meal"}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{children:"Meal Name"}),b.jsx("input",{type:"text",value:j,onChange:J=>x(J.target.value),placeholder:"e.g., Grilled Chicken"})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{children:"Meal Type"}),b.jsx("select",{value:O,onChange:J=>M(J.target.value),children:Dc.map(J=>b.jsxs("option",{value:J.key,children:[J.icon," ",J.label]},J.key))})]}),b.jsxs("div",{className:"modal-actions",children:[b.jsx("button",{className:"btn btn-secondary",onClick:Ue,children:"Cancel"}),b.jsx("button",{className:"btn btn-primary",onClick:it,children:" Save"})]})]})})]})}function cx(){return b.jsxs("div",{className:"page charts-page",children:[b.jsx(ma,{title:"Dragon's Scroll",subtitle:"View your nutrition history"}),b.jsxs("div",{className:"coming-soon card",children:[b.jsx(Zr,{state:"curious"}),b.jsx("h2",{children:"Coming Soon!"}),b.jsx("p",{className:"text-muted",children:"The Dragon's Scroll will show beautiful charts of your nutrition history."}),b.jsxs("ul",{className:"feature-list",children:[b.jsx("li",{children:" View by week, month, or custom range"}),b.jsx("li",{children:" Daily, weekly, or monthly grouping"}),b.jsx("li",{children:" Filter by nutrient type"}),b.jsx("li",{children:" Export your data"})]})]})]})}function fx(){return b.jsxs("div",{className:"page oracle-page",children:[b.jsx(ma,{title:"Dragon Oracle",subtitle:"Get meal recommendations"}),b.jsxs("div",{className:"coming-soon card",children:[b.jsx(Zr,{state:"curious"}),b.jsx("h2",{children:"Coming Soon!"}),b.jsx("p",{className:"text-muted",children:"The Dragon Oracle will suggest meals based on your remaining nutrition budget."}),b.jsxs("ul",{className:"feature-list",children:[b.jsx("li",{children:" Familiar meals you love"}),b.jsx("li",{children:" Twisted versions of favorites"}),b.jsx("li",{children:" Wild new adventures"}),b.jsx("li",{children:" AI-powered recommendations"})]})]})]})}function dx(){const a=Ir(),{user:i,isLoading:l,updateProfile:r,updateThresholds:u,updateTheme:c,saveUser:d}=fs(),{savedMeals:h,bottles:m}=Rf(),[p,y]=D.useState({name:"Dragon Keeper",sex:"male",age:30,weight_kg:75,height_cm:175,activity_level:"moderate",dietary_conditions:[]}),[g,S]=D.useState(of),[T,j]=D.useState("emerald"),[x,O]=D.useState("#66BB6A"),[M,z]=D.useState(!1),[$,I]=D.useState(!1);D.useEffect(()=>{i&&(y({name:i.name||"Dragon Keeper",...i.profile}),S(i.thresholds||of),j(i.theme?.preset||"emerald"),O(i.theme?.seed_color_hex||"#66BB6A"))},[i]);const X=()=>{const Q=WE(p);S(Q),I(!0)},W=(Q,ce)=>{S(Pe=>({...Pe,[Q]:Number(ce)})),I(!0)},Z=Q=>{y(ce=>({...ce,...Q})),I(!0)},le=async Q=>{j(Q);const ce=ns[Q],Pe=qa(ce.seedColor,ce.isDark);Ya(Pe),await c(Q,ce.seedColor)},ge=async Q=>{O(Q),j("custom");const ce=qa(Q,!1);Ya(ce),await c("custom",Q)},Ye=async()=>{const Q={...i,name:p.name,profile:{sex:p.sex,age:p.age,weight_kg:p.weight_kg,height_cm:p.height_cm,activity_level:p.activity_level,dietary_conditions:p.dietary_conditions},thresholds:g};await r(Q.profile),await u(g),await d(Q),I(!1),alert("Dragon's settings saved! ")};return l?b.jsxs("div",{className:"page settings-page",children:[b.jsx(ma,{title:"Dragon's Lair",subtitle:"Loading..."}),b.jsxs("div",{className:"loading-state card",children:[b.jsx("div",{className:"spinner"}),b.jsx("p",{children:"Opening the lair..."})]})]}):b.jsxs("div",{className:"page settings-page",children:[b.jsx(ma,{title:"Dragon's Lair",subtitle:"Configure your dragon's needs"}),b.jsxs("section",{className:"settings-section card",children:[b.jsx("h2",{className:"section-title",children:" Keeper's Profile"}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{children:"Name"}),b.jsx("input",{type:"text",value:p.name,onChange:Q=>Z({name:Q.target.value})})]}),b.jsxs("div",{className:"form-row",children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{children:"Sex"}),b.jsxs("select",{value:p.sex,onChange:Q=>Z({sex:Q.target.value}),children:[b.jsx("option",{value:"male",children:"Male"}),b.jsx("option",{value:"female",children:"Female"}),b.jsx("option",{value:"other",children:"Other"})]})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{children:"Age"}),b.jsx("input",{type:"number",value:p.age,onChange:Q=>Z({age:parseInt(Q.target.value)})})]})]}),b.jsxs("div",{className:"form-row",children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{children:"Weight (kg)"}),b.jsx("input",{type:"number",value:p.weight_kg,onChange:Q=>Z({weight_kg:parseInt(Q.target.value)})})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{children:"Height (cm)"}),b.jsx("input",{type:"number",value:p.height_cm,onChange:Q=>Z({height_cm:parseInt(Q.target.value)})})]})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{children:"Activity Level"}),b.jsxs("select",{value:p.activity_level,onChange:Q=>Z({activity_level:Q.target.value}),children:[b.jsx("option",{value:"sedentary",children:"Sedentary (little exercise)"}),b.jsx("option",{value:"light",children:"Light (1-3 days/week)"}),b.jsx("option",{value:"moderate",children:"Moderate (3-5 days/week)"}),b.jsx("option",{value:"active",children:"Active (6-7 days/week)"}),b.jsx("option",{value:"very_active",children:"Very Active (intense daily)"})]})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{children:"Dietary Conditions"}),b.jsx("div",{className:"checkbox-group",children:["gout","diabetes","kidney_disease","vegetarian","vegan"].map(Q=>b.jsxs("label",{className:"checkbox-label",children:[b.jsx("input",{type:"checkbox",checked:p.dietary_conditions?.includes(Q)||!1,onChange:ce=>{const Pe=ce.target.checked?[...p.dietary_conditions||[],Q]:(p.dietary_conditions||[]).filter(at=>at!==Q);Z({dietary_conditions:Pe})}}),b.jsx("span",{children:Q.replace("_"," ")})]},Q))})]}),b.jsx("button",{className:"btn btn-primary w-full",onClick:X,children:"Calculate Dragon's Needs "}),$&&b.jsx("button",{className:"btn btn-primary w-full mt-sm",onClick:Ye,children:" Save All Changes"})]}),b.jsxs("section",{className:"settings-section card",children:[b.jsx("h2",{className:"section-title",children:" Dragon's Hoard"}),b.jsx("p",{className:"text-muted",children:"Manage your saved meals and custom bottles."}),b.jsxs("div",{className:"stash-buttons",children:[b.jsxs("button",{className:"btn btn-secondary",onClick:()=>a("/stash"),children:[" Saved Meals (",h?.length||0,")"]}),b.jsxs("button",{className:"btn btn-secondary",onClick:()=>a("/stash?tab=bottles"),children:[" Custom Bottles (",m?.length||0,")"]})]})]}),b.jsxs("section",{className:"settings-section card",children:[b.jsxs("div",{className:"section-header-row",children:[b.jsx("h2",{className:"section-title",children:" Nutrition Thresholds"}),b.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>z(!M),children:M?"Done":"Edit"})]}),b.jsxs("div",{className:"threshold-row",children:[b.jsx("span",{className:"threshold-label",children:" Calories"}),M?b.jsxs("div",{className:"threshold-inputs",children:[b.jsx("input",{type:"number",value:g.calories_min,onChange:Q=>W("calories_min",Q.target.value),className:"threshold-input"}),b.jsx("span",{children:"-"}),b.jsx("input",{type:"number",value:g.calories_max,onChange:Q=>W("calories_max",Q.target.value),className:"threshold-input"}),b.jsx("span",{children:"kcal"})]}):b.jsxs("span",{className:"threshold-value",children:[g.calories_min," - ",g.calories_max," kcal"]})]}),b.jsxs("div",{className:"threshold-row",children:[b.jsx("span",{className:"threshold-label",children:" Purines"}),M?b.jsxs("div",{className:"threshold-inputs",children:[b.jsx("input",{type:"number",value:g.purines_max,onChange:Q=>W("purines_max",Q.target.value),className:"threshold-input"}),b.jsx("span",{children:"mg max"})]}):b.jsxs("span",{className:"threshold-value",children:[g.purines_max," mg max"]})]}),b.jsxs("div",{className:"threshold-row",children:[b.jsx("span",{className:"threshold-label",children:" Protein"}),M?b.jsxs("div",{className:"threshold-inputs",children:[b.jsx("input",{type:"number",value:g.protein_target,onChange:Q=>W("protein_target",Q.target.value),className:"threshold-input"}),b.jsx("span",{children:"g target"})]}):b.jsxs("span",{className:"threshold-value",children:[g.protein_target," g target"]})]}),b.jsxs("div",{className:"threshold-row",children:[b.jsx("span",{className:"threshold-label",children:" Carbs"}),M?b.jsxs("div",{className:"threshold-inputs",children:[b.jsx("input",{type:"number",value:g.carbs_target,onChange:Q=>W("carbs_target",Q.target.value),className:"threshold-input"}),b.jsx("span",{children:"g target"})]}):b.jsxs("span",{className:"threshold-value",children:[g.carbs_target," g target"]})]}),b.jsxs("div",{className:"threshold-row",children:[b.jsx("span",{className:"threshold-label",children:" Fat"}),M?b.jsxs("div",{className:"threshold-inputs",children:[b.jsx("input",{type:"number",value:g.fat_target,onChange:Q=>W("fat_target",Q.target.value),className:"threshold-input"}),b.jsx("span",{children:"g target"})]}):b.jsxs("span",{className:"threshold-value",children:[g.fat_target," g target"]})]}),b.jsxs("div",{className:"threshold-row",children:[b.jsx("span",{className:"threshold-label",children:" Fiber"}),M?b.jsxs("div",{className:"threshold-inputs",children:[b.jsx("input",{type:"number",value:g.fiber_target,onChange:Q=>W("fiber_target",Q.target.value),className:"threshold-input"}),b.jsx("span",{children:"g target"})]}):b.jsxs("span",{className:"threshold-value",children:[g.fiber_target," g target"]})]}),b.jsxs("div",{className:"threshold-row",children:[b.jsx("span",{className:"threshold-label",children:" Sodium"}),M?b.jsxs("div",{className:"threshold-inputs",children:[b.jsx("input",{type:"number",value:g.sodium_max,onChange:Q=>W("sodium_max",Q.target.value),className:"threshold-input"}),b.jsx("span",{children:"mg max"})]}):b.jsxs("span",{className:"threshold-value",children:[g.sodium_max," mg max"]})]}),b.jsxs("div",{className:"threshold-row",children:[b.jsx("span",{className:"threshold-label",children:" Sugar"}),M?b.jsxs("div",{className:"threshold-inputs",children:[b.jsx("input",{type:"number",value:g.sugar_max,onChange:Q=>W("sugar_max",Q.target.value),className:"threshold-input"}),b.jsx("span",{children:"g max"})]}):b.jsxs("span",{className:"threshold-value",children:[g.sugar_max," g max"]})]}),b.jsxs("div",{className:"threshold-row",children:[b.jsx("span",{className:"threshold-label",children:" Hydration"}),M?b.jsxs("div",{className:"threshold-inputs",children:[b.jsx("input",{type:"number",value:g.hydration_target,onChange:Q=>W("hydration_target",Q.target.value),className:"threshold-input"}),b.jsx("span",{children:"ml target"})]}):b.jsxs("span",{className:"threshold-value",children:[g.hydration_target," ml target"]})]}),M&&b.jsx("p",{className:"text-muted text-center mt-sm",children:`Tip: Use "Calculate Dragon's Needs" to auto-fill based on your profile.`})]}),b.jsxs("section",{className:"settings-section card",children:[b.jsx("h2",{className:"section-title",children:" Dragon Scale Theme"}),b.jsx("div",{className:"theme-presets",children:Object.entries(ns).map(([Q,ce])=>b.jsxs("button",{className:`theme-preset ${T===Q?"active":""}`,onClick:()=>le(Q),style:{"--preset-color":ce.seedColor},children:[b.jsx("span",{className:"preset-swatch",style:{background:ce.seedColor}}),b.jsx("span",{className:"preset-name",children:ce.name}),b.jsx("span",{className:"preset-desc",children:ce.description})]},Q))}),b.jsxs("div",{className:"custom-color-section",children:[b.jsx("label",{children:"Custom Dragon Scale Color"}),b.jsxs("div",{className:"color-picker-row",children:[b.jsx("input",{type:"color",value:x,onChange:Q=>ge(Q.target.value),className:"color-picker"}),b.jsx("input",{type:"text",value:x,onChange:Q=>ge(Q.target.value),className:"color-input",placeholder:"#66BB6A"})]})]}),b.jsxs("div",{className:"theme-preview card",children:[b.jsx("p",{className:"preview-label",children:"Preview"}),b.jsxs("div",{className:"preview-content",children:[b.jsx("div",{className:"preview-text",children:"Sample text"}),b.jsx("button",{className:"btn btn-primary",children:"Button"}),b.jsx("div",{className:"progress-bar",children:b.jsx("div",{className:"progress-bar-fill success",style:{width:"60%"}})})]})]})]}),b.jsxs("section",{className:"settings-section card",children:[b.jsx("h2",{className:"section-title",children:" Dragon Statistics"}),b.jsxs("div",{className:"stats-grid",children:[b.jsxs("div",{className:"stat-item",children:[b.jsx("span",{className:"stat-value",children:i?.stats?.total_meals_logged||0}),b.jsx("span",{className:"stat-label",children:"Meals logged"})]}),b.jsxs("div",{className:"stat-item",children:[b.jsx("span",{className:"stat-value",children:i?.stats?.current_streak_days||0}),b.jsx("span",{className:"stat-label",children:"Day streak "})]}),b.jsxs("div",{className:"stat-item",children:[b.jsx("span",{className:"stat-value",children:(h?.length||0)+(m?.length||0)}),b.jsx("span",{className:"stat-label",children:"In hoard"})]}),b.jsxs("div",{className:"stat-item",children:[b.jsx("span",{className:"stat-value",children:i?.badges?.length||0}),b.jsx("span",{className:"stat-label",children:"Badges"})]})]})]}),b.jsxs("section",{className:"settings-section card",children:[b.jsx("h2",{className:"section-title",children:" About"}),b.jsxs("p",{className:"text-center text-muted",children:["Purine Control v1.0.0",b.jsx("br",{}),`"The Dragon Keeper's Nutrition Tracker"`]}),b.jsx("p",{className:"text-center text-muted mt-md",children:"Made with  for your dragon"})]})]})}const hx=[{id:"default-1",name:"Water Glass",capacity_ml:250,icon:"",type:"container"},{id:"default-2",name:"Water Bottle",capacity_ml:500,icon:"",type:"container"},{id:"default-3",name:"Dragon Chalice",capacity_ml:750,icon:"",type:"container"}],px=[{key:"meals",label:" Saved Meals",icon:""},{key:"bottles",label:" Bottles",icon:""}],mx=["","","","","","","",""];function yx(){const a=Ir(),[i,l]=V_(),r=i.get("tab")||"meals",[u,c]=D.useState(r),[d,h]=D.useState(""),[m,p]=D.useState(!1),[y,g]=D.useState(null),[S,T]=D.useState(""),[j,x]=D.useState(""),[O,M]=D.useState(250),[z,$]=D.useState({calories:0,purines:0,protein:0,carbs:0,fat:0}),{savedMeals:I,bottles:X,isLoading:W,addToStash:Z,removeFromStash:le,updateStashItem:ge}=Rf(),{adjustHydration:Ye}=Zy(),{addMeal:Q}=Xy(),ce=[...hx,...X],Pe=L=>{c(L),l({tab:L})},at=async L=>{const V=L.capacity_ml||L.amount_ml;await Ye(V),alert(`Added ${V}ml to hydration! `)},pt=async L=>{await Q({meal_type:"snack",meal_name:L.name,ingredients:L.ingredients||[],total_nutrients:L.total_nutrients||{}}),L.id&&!L.id.startsWith("default-")&&await ge(L.id,{use_count:(L.use_count||0)+1}),alert(`${L.name} added to diary! `),a("/")},k=async L=>{confirm("Remove this item from your hoard?")&&await le(L)},K=()=>{T(""),x(""),M(250),$({calories:0,purines:0,protein:0,carbs:0,fat:0}),g(null),p(!1)},te=()=>{K(),p(!0)},re=L=>{g(L),T(L.name||""),x(L.icon||""),M(L.capacity_ml||L.amount_ml||250),$(L.nutrients||L.total_nutrients||{calories:0,purines:0,protein:0,carbs:0,fat:0}),p(!0)},Te=async()=>{if(!S.trim()){alert("Please enter a name");return}const L=y?.id?.startsWith("default-");if(y&&!L){const V={name:S};u==="bottles"&&(V.icon=j,V.capacity_ml=O),await ge(y.id,V),alert("Item updated! ")}else{const V=u==="meals"?"meal":"container",ae={type:V,name:S,icon:j,capacity_ml:V==="container"?O:void 0,ingredients:V==="meal"?y?.ingredients||[]:void 0,total_nutrients:V==="meal"?z:void 0,use_count:0};await Z(ae),alert(L?"Custom bottle created! ":"Added to your hoard! ")}K()},w=I.filter(L=>L.name?.toLowerCase().includes(d.toLowerCase())),Y=ce.filter(L=>L.name?.toLowerCase().includes(d.toLowerCase()));return W?b.jsxs("div",{className:"page stash-page",children:[b.jsx(ma,{title:"Dragon's Hoard",subtitle:"Loading...",showBack:!0,onBack:()=>a("/settings")}),b.jsxs("div",{className:"loading-state card",children:[b.jsx("div",{className:"spinner"}),b.jsx("p",{children:"Opening the hoard..."})]})]}):b.jsxs("div",{className:"page stash-page",children:[b.jsx(ma,{title:"Dragon's Hoard",subtitle:"Your saved meals and custom ingredients",showBack:!0,onBack:()=>a("/settings")}),b.jsx("div",{className:"stash-tabs",children:px.map(L=>b.jsx("button",{className:`stash-tab ${u===L.key?"active":""}`,onClick:()=>Pe(L.key),children:L.label},L.key))}),b.jsx("div",{className:"stash-search",children:b.jsx("input",{type:"text",placeholder:`Search ${u==="meals"?"meals":"ingredients"}...`,value:d,onChange:L=>h(L.target.value)})}),u==="meals"&&b.jsxs("section",{className:"stash-content",children:[w.length===0?b.jsxs("div",{className:"empty-state card",children:[b.jsx("p",{children:" No saved meals yet!"}),b.jsx("p",{className:"text-muted",children:"Save meals from your diary to reuse them."})]}):b.jsx("div",{className:"stash-list",children:w.map(L=>b.jsxs("div",{className:"stash-item card",children:[b.jsxs("div",{className:"stash-item-header",children:[b.jsx("h3",{children:L.name}),b.jsxs("span",{className:"use-count",children:["Used ",L.use_count||0,"x"]})]}),b.jsx("p",{className:"stash-item-ingredients",children:Array.isArray(L.ingredients)?L.ingredients.map(V=>typeof V=="string"?V:V.name).join(", "):"No ingredients"}),b.jsxs("div",{className:"stash-item-nutrients",children:[b.jsxs("span",{children:[" ",L.total_nutrients?.calories||0," cal"]}),b.jsxs("span",{children:[" ",L.total_nutrients?.purines||0,"mg"]}),b.jsxs("span",{children:[" ",L.total_nutrients?.protein||0,"g"]})]}),b.jsxs("div",{className:"stash-item-actions",children:[b.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>pt(L),children:" Use"}),b.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>re(L),children:" Edit"}),b.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>k(L.id),children:""})]})]},L.id))}),b.jsx("button",{className:"btn btn-secondary w-full mt-md",onClick:te,children:" Create New Meal"})]}),u==="bottles"&&b.jsxs("section",{className:"stash-content",children:[b.jsx("p",{className:"text-muted",children:"Custom hydration containers for quick logging."}),Y.length===0?b.jsxs("div",{className:"empty-state card",children:[b.jsx("p",{children:" No custom bottles yet!"}),b.jsx("p",{className:"text-muted",children:"Add your favorite containers."})]}):b.jsx("div",{className:"stash-list",children:Y.map(L=>b.jsxs("div",{className:"stash-item card bottle-item",children:[b.jsxs("div",{className:"bottle-info",children:[b.jsx("span",{className:"bottle-icon",children:L.icon||""}),b.jsxs("div",{className:"bottle-details",children:[b.jsx("h3",{children:L.name}),b.jsxs("span",{className:"bottle-amount",children:[L.capacity_ml||L.amount_ml," ml"]})]})]}),b.jsxs("div",{className:"stash-item-actions",children:[b.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>at(L),children:" Use"}),b.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>re(L),children:""}),!L.id.startsWith("default-")&&b.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>k(L.id),children:""})]})]},L.id))}),b.jsx("button",{className:"btn btn-secondary w-full mt-md",onClick:te,children:" Add Custom Bottle"})]}),m&&b.jsx("div",{className:"modal-overlay",onClick:K,children:b.jsxs("div",{className:"modal-content card",onClick:L=>L.stopPropagation(),children:[b.jsxs("h2",{children:[y?" Edit":" Create"," ",u==="meals"?"Meal":u==="ingredients"?"Ingredient":"Bottle"]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{children:"Name"}),b.jsx("input",{type:"text",value:S,onChange:L=>T(L.target.value),placeholder:`e.g., ${u==="meals"?"Chicken Salad":u==="ingredients"?"Olive Oil":"Sports Bottle"}`})]}),u==="bottles"&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{children:"Icon"}),b.jsx("div",{className:"icon-picker",children:mx.map(L=>b.jsx("button",{type:"button",className:`icon-btn ${j===L?"active":""}`,onClick:()=>x(L),children:L},L))})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{children:"Capacity (ml)"}),b.jsx("input",{type:"number",value:O,onChange:L=>M(parseInt(L.target.value)||0),min:"0",step:"50"})]})]}),b.jsxs("div",{className:"modal-actions",children:[b.jsx("button",{className:"btn btn-secondary",onClick:K,children:"Cancel"}),b.jsxs("button",{className:"btn btn-primary",onClick:Te,children:[" ",y?"Update":"Save"]})]})]})})]})}function vx(){return b.jsx(ix,{children:b.jsx(G_,{basename:"/purine-control",children:b.jsxs("div",{className:"app",children:[b.jsxs(g_,{children:[b.jsx(Mi,{path:"/",element:b.jsx(ox,{})}),b.jsx(Mi,{path:"/charts",element:b.jsx(cx,{})}),b.jsx(Mi,{path:"/oracle",element:b.jsx(fx,{})}),b.jsx(Mi,{path:"/settings",element:b.jsx(dx,{})}),b.jsx(Mi,{path:"/stash",element:b.jsx(yx,{})})]}),b.jsx(sx,{})]})})})}Ab.createRoot(document.getElementById("root")).render(b.jsx(D.StrictMode,{children:b.jsx(vx,{})}));
