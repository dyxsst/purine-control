function Rq(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function sa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tv={exports:{}},Au={};var Bx;function kq(){if(Bx)return Au;Bx=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:a}}return Au.Fragment=t,Au.jsx=n,Au.jsxs=n,Au}var $x;function Lq(){return $x||($x=1,tv.exports=kq()),tv.exports}var A=Lq(),nv={exports:{}},Me={};var Fx;function Uq(){if(Fx)return Me;Fx=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),v=Symbol.iterator;function _(U){return U===null||typeof U!="object"?null:(U=v&&U[v]||U["@@iterator"],typeof U=="function"?U:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function C(U,W,le){this.props=U,this.context=W,this.refs=E,this.updater=le||T}C.prototype.isReactComponent={},C.prototype.setState=function(U,W){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,W,"setState")},C.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function O(){}O.prototype=C.prototype;function P(U,W,le){this.props=U,this.context=W,this.refs=E,this.updater=le||T}var D=P.prototype=new O;D.constructor=P,w(D,C.prototype),D.isPureReactComponent=!0;var I=Array.isArray;function R(){}var k={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function $(U,W,le){var ce=le.ref;return{$$typeof:e,type:U,key:W,ref:ce!==void 0?ce:null,props:le}}function re(U,W){return $(U.type,W,U.props)}function F(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function V(U){var W={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(le){return W[le]})}var de=/\/+/g;function pe(U,W){return typeof U=="object"&&U!==null&&U.key!=null?V(""+U.key):W.toString(36)}function _e(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(R,R):(U.status="pending",U.then(function(W){U.status==="pending"&&(U.status="fulfilled",U.value=W)},function(W){U.status==="pending"&&(U.status="rejected",U.reason=W)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function B(U,W,le,ce,te){var fe=typeof U;(fe==="undefined"||fe==="boolean")&&(U=null);var we=!1;if(U===null)we=!0;else switch(fe){case"bigint":case"string":case"number":we=!0;break;case"object":switch(U.$$typeof){case e:case t:we=!0;break;case h:return we=U._init,B(we(U._payload),W,le,ce,te)}}if(we)return te=te(U),we=ce===""?"."+pe(U,0):ce,I(te)?(le="",we!=null&&(le=we.replace(de,"$&/")+"/"),B(te,W,le,"",function(xe){return xe})):te!=null&&(F(te)&&(te=re(te,le+(te.key==null||U&&U.key===te.key?"":(""+te.key).replace(de,"$&/")+"/")+we)),W.push(te)),1;we=0;var Pe=ce===""?".":ce+":";if(I(U))for(var Q=0;Q<U.length;Q++)ce=U[Q],fe=Pe+pe(ce,Q),we+=B(ce,W,le,fe,te);else if(Q=_(U),typeof Q=="function")for(U=Q.call(U),Q=0;!(ce=U.next()).done;)ce=ce.value,fe=Pe+pe(ce,Q++),we+=B(ce,W,le,fe,te);else if(fe==="object"){if(typeof U.then=="function")return B(_e(U),W,le,ce,te);throw W=String(U),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return we}function ee(U,W,le){if(U==null)return U;var ce=[],te=0;return B(U,ce,"","",function(fe){return W.call(le,fe,te++)}),ce}function se(U){if(U._status===-1){var W=U._result;W=W(),W.then(function(le){(U._status===0||U._status===-1)&&(U._status=1,U._result=le)},function(le){(U._status===0||U._status===-1)&&(U._status=2,U._result=le)}),U._status===-1&&(U._status=0,U._result=W)}if(U._status===1)return U._result.default;throw U._result}var ue=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Ce={map:ee,forEach:function(U,W,le){ee(U,function(){W.apply(this,arguments)},le)},count:function(U){var W=0;return ee(U,function(){W++}),W},toArray:function(U){return ee(U,function(W){return W})||[]},only:function(U){if(!F(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Me.Activity=m,Me.Children=Ce,Me.Component=C,Me.Fragment=n,Me.Profiler=i,Me.PureComponent=P,Me.StrictMode=r,Me.Suspense=c,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Me.__COMPILER_RUNTIME={__proto__:null,c:function(U){return k.H.useMemoCache(U)}},Me.cache=function(U){return function(){return U.apply(null,arguments)}},Me.cacheSignal=function(){return null},Me.cloneElement=function(U,W,le){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ce=w({},U.props),te=U.key;if(W!=null)for(fe in W.key!==void 0&&(te=""+W.key),W)!z.call(W,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&W.ref===void 0||(ce[fe]=W[fe]);var fe=arguments.length-2;if(fe===1)ce.children=le;else if(1<fe){for(var we=Array(fe),Pe=0;Pe<fe;Pe++)we[Pe]=arguments[Pe+2];ce.children=we}return $(U.type,te,ce)},Me.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:a,_context:U},U},Me.createElement=function(U,W,le){var ce,te={},fe=null;if(W!=null)for(ce in W.key!==void 0&&(fe=""+W.key),W)z.call(W,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(te[ce]=W[ce]);var we=arguments.length-2;if(we===1)te.children=le;else if(1<we){for(var Pe=Array(we),Q=0;Q<we;Q++)Pe[Q]=arguments[Q+2];te.children=Pe}if(U&&U.defaultProps)for(ce in we=U.defaultProps,we)te[ce]===void 0&&(te[ce]=we[ce]);return $(U,fe,te)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(U){return{$$typeof:u,render:U}},Me.isValidElement=F,Me.lazy=function(U){return{$$typeof:h,_payload:{_status:-1,_result:U},_init:se}},Me.memo=function(U,W){return{$$typeof:d,type:U,compare:W===void 0?null:W}},Me.startTransition=function(U){var W=k.T,le={};k.T=le;try{var ce=U(),te=k.S;te!==null&&te(le,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(R,ue)}catch(fe){ue(fe)}finally{W!==null&&le.types!==null&&(W.types=le.types),k.T=W}},Me.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Me.use=function(U){return k.H.use(U)},Me.useActionState=function(U,W,le){return k.H.useActionState(U,W,le)},Me.useCallback=function(U,W){return k.H.useCallback(U,W)},Me.useContext=function(U){return k.H.useContext(U)},Me.useDebugValue=function(){},Me.useDeferredValue=function(U,W){return k.H.useDeferredValue(U,W)},Me.useEffect=function(U,W){return k.H.useEffect(U,W)},Me.useEffectEvent=function(U){return k.H.useEffectEvent(U)},Me.useId=function(){return k.H.useId()},Me.useImperativeHandle=function(U,W,le){return k.H.useImperativeHandle(U,W,le)},Me.useInsertionEffect=function(U,W){return k.H.useInsertionEffect(U,W)},Me.useLayoutEffect=function(U,W){return k.H.useLayoutEffect(U,W)},Me.useMemo=function(U,W){return k.H.useMemo(U,W)},Me.useOptimistic=function(U,W){return k.H.useOptimistic(U,W)},Me.useReducer=function(U,W,le){return k.H.useReducer(U,W,le)},Me.useRef=function(U){return k.H.useRef(U)},Me.useState=function(U){return k.H.useState(U)},Me.useSyncExternalStore=function(U,W,le){return k.H.useSyncExternalStore(U,W,le)},Me.useTransition=function(){return k.H.useTransition()},Me.version="19.2.0",Me}var Hx;function vl(){return Hx||(Hx=1,nv.exports=Uq()),nv.exports}var x=vl();const jq=sa(x),qq=Rq({__proto__:null,default:jq},[x]);var rv={exports:{}},Cu={},iv={exports:{}},av={};var Gx;function zq(){return Gx||(Gx=1,(function(e){function t(B,ee){var se=B.length;B.push(ee);e:for(;0<se;){var ue=se-1>>>1,Ce=B[ue];if(0<i(Ce,ee))B[ue]=ee,B[se]=Ce,se=ue;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var ee=B[0],se=B.pop();if(se!==ee){B[0]=se;e:for(var ue=0,Ce=B.length,U=Ce>>>1;ue<U;){var W=2*(ue+1)-1,le=B[W],ce=W+1,te=B[ce];if(0>i(le,se))ce<Ce&&0>i(te,le)?(B[ue]=te,B[ce]=se,ue=ce):(B[ue]=le,B[W]=se,ue=W);else if(ce<Ce&&0>i(te,se))B[ue]=te,B[ce]=se,ue=ce;else break e}}return ee}function i(B,ee){var se=B.sortIndex-ee.sortIndex;return se!==0?se:B.id-ee.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var c=[],d=[],h=1,m=null,v=3,_=!1,T=!1,w=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function D(B){for(var ee=n(d);ee!==null;){if(ee.callback===null)r(d);else if(ee.startTime<=B)r(d),ee.sortIndex=ee.expirationTime,t(c,ee);else break;ee=n(d)}}function I(B){if(w=!1,D(B),!T)if(n(c)!==null)T=!0,R||(R=!0,V());else{var ee=n(d);ee!==null&&_e(I,ee.startTime-B)}}var R=!1,k=-1,z=5,$=-1;function re(){return E?!0:!(e.unstable_now()-$<z)}function F(){if(E=!1,R){var B=e.unstable_now();$=B;var ee=!0;try{e:{T=!1,w&&(w=!1,O(k),k=-1),_=!0;var se=v;try{t:{for(D(B),m=n(c);m!==null&&!(m.expirationTime>B&&re());){var ue=m.callback;if(typeof ue=="function"){m.callback=null,v=m.priorityLevel;var Ce=ue(m.expirationTime<=B);if(B=e.unstable_now(),typeof Ce=="function"){m.callback=Ce,D(B),ee=!0;break t}m===n(c)&&r(c),D(B)}else r(c);m=n(c)}if(m!==null)ee=!0;else{var U=n(d);U!==null&&_e(I,U.startTime-B),ee=!1}}break e}finally{m=null,v=se,_=!1}ee=void 0}}finally{ee?V():R=!1}}}var V;if(typeof P=="function")V=function(){P(F)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,pe=de.port2;de.port1.onmessage=F,V=function(){pe.postMessage(null)}}else V=function(){C(F,0)};function _e(B,ee){k=C(function(){B(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(B){switch(v){case 1:case 2:case 3:var ee=3;break;default:ee=v}var se=v;v=ee;try{return B()}finally{v=se}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(B,ee){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var se=v;v=B;try{return ee()}finally{v=se}},e.unstable_scheduleCallback=function(B,ee,se){var ue=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ue+se:ue):se=ue,B){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=se+Ce,B={id:h++,callback:ee,priorityLevel:B,startTime:se,expirationTime:Ce,sortIndex:-1},se>ue?(B.sortIndex=se,t(d,B),n(c)===null&&B===n(d)&&(w?(O(k),k=-1):w=!0,_e(I,se-ue))):(B.sortIndex=Ce,t(c,B),T||_||(T=!0,R||(R=!0,V()))),B},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(B){var ee=v;return function(){var se=v;v=ee;try{return B.apply(this,arguments)}finally{v=se}}}})(av)),av}var Vx;function Bq(){return Vx||(Vx=1,iv.exports=zq()),iv.exports}var ov={exports:{}},yn={};var Kx;function $q(){if(Kx)return yn;Kx=1;var e=vl();function t(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:c,containerInfo:d,implementation:h}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,yn.createPortal=function(c,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return a(c,d,null,h)},yn.flushSync=function(c){var d=l.T,h=r.p;try{if(l.T=null,r.p=2,c)return c()}finally{l.T=d,r.p=h,r.d.f()}},yn.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},yn.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},yn.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var h=d.as,m=u(h,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:_}):h==="script"&&r.d.X(c,{crossOrigin:m,integrity:v,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},yn.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=u(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},yn.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=u(h,d.crossOrigin);r.d.L(c,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},yn.preloadModule=function(c,d){if(typeof c=="string")if(d){var h=u(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},yn.requestFormReset=function(c){r.d.r(c)},yn.unstable_batchedUpdates=function(c,d){return c(d)},yn.useFormState=function(c,d,h){return l.H.useFormState(c,d,h)},yn.useFormStatus=function(){return l.H.useHostTransitionStatus()},yn.version="19.2.0",yn}var Yx;function DI(){if(Yx)return ov.exports;Yx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ov.exports=$q(),ov.exports}var Wx;function Fq(){if(Wx)return Cu;Wx=1;var e=Bq(),t=vl(),n=DI();function r(o){var s="https://react.dev/errors/"+o;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)s+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var s=o,f=o;if(o.alternate)for(;s.return;)s=s.return;else{o=s;do s=o,(s.flags&4098)!==0&&(f=s.return),o=s.return;while(o)}return s.tag===3?f:null}function l(o){if(o.tag===13){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function u(o){if(o.tag===31){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function c(o){if(a(o)!==o)throw Error(r(188))}function d(o){var s=o.alternate;if(!s){if(s=a(o),s===null)throw Error(r(188));return s!==o?null:o}for(var f=o,p=s;;){var b=f.return;if(b===null)break;var S=b.alternate;if(S===null){if(p=b.return,p!==null){f=p;continue}break}if(b.child===S.child){for(S=b.child;S;){if(S===f)return c(b),o;if(S===p)return c(b),s;S=S.sibling}throw Error(r(188))}if(f.return!==p.return)f=b,p=S;else{for(var M=!1,N=b.child;N;){if(N===f){M=!0,f=b,p=S;break}if(N===p){M=!0,p=b,f=S;break}N=N.sibling}if(!M){for(N=S.child;N;){if(N===f){M=!0,f=S,p=b;break}if(N===p){M=!0,p=S,f=b;break}N=N.sibling}if(!M)throw Error(r(189))}}if(f.alternate!==p)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:s}function h(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o;for(o=o.child;o!==null;){if(s=h(o),s!==null)return s;o=o.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),P=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function V(o){return o===null||typeof o!="object"?null:(o=F&&o[F]||o["@@iterator"],typeof o=="function"?o:null)}var de=Symbol.for("react.client.reference");function pe(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===de?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case w:return"Fragment";case C:return"Profiler";case E:return"StrictMode";case I:return"Suspense";case R:return"SuspenseList";case $:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case T:return"Portal";case P:return o.displayName||"Context";case O:return(o._context.displayName||"Context")+".Consumer";case D:var s=o.render;return o=o.displayName,o||(o=s.displayName||s.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case k:return s=o.displayName||null,s!==null?s:pe(o.type)||"Memo";case z:s=o._payload,o=o._init;try{return pe(o(s))}catch{}}return null}var _e=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},ue=[],Ce=-1;function U(o){return{current:o}}function W(o){0>Ce||(o.current=ue[Ce],ue[Ce]=null,Ce--)}function le(o,s){Ce++,ue[Ce]=o.current,o.current=s}var ce=U(null),te=U(null),fe=U(null),we=U(null);function Pe(o,s){switch(le(fe,s),le(te,o),le(ce,null),s.nodeType){case 9:case 11:o=(o=s.documentElement)&&(o=o.namespaceURI)?cx(o):0;break;default:if(o=s.tagName,s=s.namespaceURI)s=cx(s),o=fx(s,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}W(ce),le(ce,o)}function Q(){W(ce),W(te),W(fe)}function xe(o){o.memoizedState!==null&&le(we,o);var s=ce.current,f=fx(s,o.type);s!==f&&(le(te,o),le(ce,f))}function Oe(o){te.current===o&&(W(ce),W(te)),we.current===o&&(W(we),Tu._currentValue=se)}var oe,ht;function Re(o){if(oe===void 0)try{throw Error()}catch(f){var s=f.stack.trim().match(/\n( *(at )?)/);oe=s&&s[1]||"",ht=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oe+o+ht}var _t=!1;function St(o,s){if(!o||_t)return"";_t=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(s){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Y){var K=Y}Reflect.construct(o,[],ie)}else{try{ie.call()}catch(Y){K=Y}o.call(ie.prototype)}}else{try{throw Error()}catch(Y){K=Y}(ie=o())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Y){if(Y&&K&&typeof Y.stack=="string")return[Y.stack,K.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=p.DetermineComponentFrameRoot(),M=S[0],N=S[1];if(M&&N){var L=M.split(`
`),G=N.split(`
`);for(b=p=0;p<L.length&&!L[p].includes("DetermineComponentFrameRoot");)p++;for(;b<G.length&&!G[b].includes("DetermineComponentFrameRoot");)b++;if(p===L.length||b===G.length)for(p=L.length-1,b=G.length-1;1<=p&&0<=b&&L[p]!==G[b];)b--;for(;1<=p&&0<=b;p--,b--)if(L[p]!==G[b]){if(p!==1||b!==1)do if(p--,b--,0>b||L[p]!==G[b]){var Z=`
`+L[p].replace(" at new "," at ");return o.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",o.displayName)),Z}while(1<=p&&0<=b);break}}}finally{_t=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?Re(f):""}function We(o,s){switch(o.tag){case 26:case 27:case 5:return Re(o.type);case 16:return Re("Lazy");case 13:return o.child!==s&&s!==null?Re("Suspense Fallback"):Re("Suspense");case 19:return Re("SuspenseList");case 0:case 15:return St(o.type,!1);case 11:return St(o.type.render,!1);case 1:return St(o.type,!0);case 31:return Re("Activity");default:return""}}function vn(o){try{var s="",f=null;do s+=We(o,f),f=o,o=o.return;while(o);return s}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var ma=Object.prototype.hasOwnProperty,Ot=e.unstable_scheduleCallback,di=e.unstable_cancelCallback,Rl=e.unstable_shouldYield,xn=e.unstable_requestPaint,yt=e.unstable_now,Qo=e.unstable_getCurrentPriorityLevel,ga=e.unstable_ImmediatePriority,Zo=e.unstable_UserBlockingPriority,va=e.unstable_NormalPriority,kl=e.unstable_LowPriority,es=e.unstable_IdlePriority,Ll=e.log,ts=e.unstable_setDisableYieldValue,hi=null,rn=null;function lr(o){if(typeof Ll=="function"&&ts(o),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(hi,o)}catch{}}var jt=Math.clz32?Math.clz32:Vt,J=Math.log,Le=Math.LN2;function Vt(o){return o>>>=0,o===0?32:31-(J(o)/Le|0)|0}var Nn=256,ur=262144,pi=4194304;function ae(o){var s=o&42;if(s!==0)return s;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Se(o,s,f){var p=o.pendingLanes;if(p===0)return 0;var b=0,S=o.suspendedLanes,M=o.pingedLanes;o=o.warmLanes;var N=p&134217727;return N!==0?(p=N&~S,p!==0?b=ae(p):(M&=N,M!==0?b=ae(M):f||(f=N&~o,f!==0&&(b=ae(f))))):(N=p&~S,N!==0?b=ae(N):M!==0?b=ae(M):f||(f=p&~o,f!==0&&(b=ae(f)))),b===0?0:s!==0&&s!==b&&(s&S)===0&&(S=b&-b,f=s&-s,S>=f||S===32&&(f&4194048)!==0)?s:b}function Ne(o,s){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&s)===0}function ke(o,s){switch(o){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rt(){var o=pi;return pi<<=1,(pi&62914560)===0&&(pi=4194304),o}function Kt(o){for(var s=[],f=0;31>f;f++)s.push(o);return s}function Rr(o,s){o.pendingLanes|=s,s!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function mi(o,s,f,p,b,S){var M=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var N=o.entanglements,L=o.expirationTimes,G=o.hiddenUpdates;for(f=M&~f;0<f;){var Z=31-jt(f),ie=1<<Z;N[Z]=0,L[Z]=-1;var K=G[Z];if(K!==null)for(G[Z]=null,Z=0;Z<K.length;Z++){var Y=K[Z];Y!==null&&(Y.lane&=-536870913)}f&=~ie}p!==0&&Vc(o,p,0),S!==0&&b===0&&o.tag!==0&&(o.suspendedLanes|=S&~(M&~s))}function Vc(o,s,f){o.pendingLanes|=s,o.suspendedLanes&=~s;var p=31-jt(s);o.entangledLanes|=s,o.entanglements[p]=o.entanglements[p]|1073741824|f&261930}function Yr(o,s){var f=o.entangledLanes|=s;for(o=o.entanglements;f;){var p=31-jt(f),b=1<<p;b&s|o[p]&s&&(o[p]|=s),f&=~b}}function oo(o,s){var f=s&-s;return f=(f&42)!==0?1:Hp(f),(f&(o.suspendedLanes|s))!==0?0:f}function Hp(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Gp(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function WS(){var o=ee.p;return o!==0?o:(o=window.event,o===void 0?32:Rx(o.type))}function JS(o,s){var f=ee.p;try{return ee.p=o,s()}finally{ee.p=f}}var ya=Math.random().toString(36).slice(2),an="__reactFiber$"+ya,Dn="__reactProps$"+ya,ns="__reactContainer$"+ya,Vp="__reactEvents$"+ya,EU="__reactListeners$"+ya,wU="__reactHandles$"+ya,XS="__reactResources$"+ya,Ul="__reactMarker$"+ya;function Kp(o){delete o[an],delete o[Dn],delete o[Vp],delete o[EU],delete o[wU]}function rs(o){var s=o[an];if(s)return s;for(var f=o.parentNode;f;){if(s=f[ns]||f[an]){if(f=s.alternate,s.child!==null||f!==null&&f.child!==null)for(o=yx(o);o!==null;){if(f=o[an])return f;o=yx(o)}return s}o=f,f=o.parentNode}return null}function is(o){if(o=o[an]||o[ns]){var s=o.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return o}return null}function jl(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o.stateNode;throw Error(r(33))}function as(o){var s=o[XS];return s||(s=o[XS]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Yt(o){o[Ul]=!0}var QS=new Set,ZS={};function so(o,s){os(o,s),os(o+"Capture",s)}function os(o,s){for(ZS[o]=s,o=0;o<s.length;o++)QS.add(s[o])}var xU=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),eT={},tT={};function AU(o){return ma.call(tT,o)?!0:ma.call(eT,o)?!1:xU.test(o)?tT[o]=!0:(eT[o]=!0,!1)}function Kc(o,s,f){if(AU(s))if(f===null)o.removeAttribute(s);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(s);return;case"boolean":var p=s.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){o.removeAttribute(s);return}}o.setAttribute(s,""+f)}}function Yc(o,s,f){if(f===null)o.removeAttribute(s);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(s);return}o.setAttribute(s,""+f)}}function gi(o,s,f,p){if(p===null)o.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(s,f,""+p)}}function cr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function nT(o){var s=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function CU(o,s,f){var p=Object.getOwnPropertyDescriptor(o.constructor.prototype,s);if(!o.hasOwnProperty(s)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,S=p.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return b.call(this)},set:function(M){f=""+M,S.call(this,M)}}),Object.defineProperty(o,s,{enumerable:p.enumerable}),{getValue:function(){return f},setValue:function(M){f=""+M},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}function Yp(o){if(!o._valueTracker){var s=nT(o)?"checked":"value";o._valueTracker=CU(o,s,""+o[s])}}function rT(o){if(!o)return!1;var s=o._valueTracker;if(!s)return!0;var f=s.getValue(),p="";return o&&(p=nT(o)?o.checked?"true":"false":o.value),o=p,o!==f?(s.setValue(o),!0):!1}function Wc(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var MU=/[\n"\\]/g;function fr(o){return o.replace(MU,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Wp(o,s,f,p,b,S,M,N){o.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?o.type=M:o.removeAttribute("type"),s!=null?M==="number"?(s===0&&o.value===""||o.value!=s)&&(o.value=""+cr(s)):o.value!==""+cr(s)&&(o.value=""+cr(s)):M!=="submit"&&M!=="reset"||o.removeAttribute("value"),s!=null?Jp(o,M,cr(s)):f!=null?Jp(o,M,cr(f)):p!=null&&o.removeAttribute("value"),b==null&&S!=null&&(o.defaultChecked=!!S),b!=null&&(o.checked=b&&typeof b!="function"&&typeof b!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?o.name=""+cr(N):o.removeAttribute("name")}function iT(o,s,f,p,b,S,M,N){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(o.type=S),s!=null||f!=null){if(!(S!=="submit"&&S!=="reset"||s!=null)){Yp(o);return}f=f!=null?""+cr(f):"",s=s!=null?""+cr(s):f,N||s===o.value||(o.value=s),o.defaultValue=s}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,o.checked=N?o.checked:!!p,o.defaultChecked=!!p,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(o.name=M),Yp(o)}function Jp(o,s,f){s==="number"&&Wc(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function ss(o,s,f,p){if(o=o.options,s){s={};for(var b=0;b<f.length;b++)s["$"+f[b]]=!0;for(f=0;f<o.length;f++)b=s.hasOwnProperty("$"+o[f].value),o[f].selected!==b&&(o[f].selected=b),b&&p&&(o[f].defaultSelected=!0)}else{for(f=""+cr(f),s=null,b=0;b<o.length;b++){if(o[b].value===f){o[b].selected=!0,p&&(o[b].defaultSelected=!0);return}s!==null||o[b].disabled||(s=o[b])}s!==null&&(s.selected=!0)}}function aT(o,s,f){if(s!=null&&(s=""+cr(s),s!==o.value&&(o.value=s),f==null)){o.defaultValue!==s&&(o.defaultValue=s);return}o.defaultValue=f!=null?""+cr(f):""}function oT(o,s,f,p){if(s==null){if(p!=null){if(f!=null)throw Error(r(92));if(_e(p)){if(1<p.length)throw Error(r(93));p=p[0]}f=p}f==null&&(f=""),s=f}f=cr(s),o.defaultValue=f,p=o.textContent,p===f&&p!==""&&p!==null&&(o.value=p),Yp(o)}function ls(o,s){if(s){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=s;return}}o.textContent=s}var PU=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sT(o,s,f){var p=s.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?p?o.setProperty(s,""):s==="float"?o.cssFloat="":o[s]="":p?o.setProperty(s,f):typeof f!="number"||f===0||PU.has(s)?s==="float"?o.cssFloat=f:o[s]=(""+f).trim():o[s]=f+"px"}function lT(o,s,f){if(s!=null&&typeof s!="object")throw Error(r(62));if(o=o.style,f!=null){for(var p in f)!f.hasOwnProperty(p)||s!=null&&s.hasOwnProperty(p)||(p.indexOf("--")===0?o.setProperty(p,""):p==="float"?o.cssFloat="":o[p]="");for(var b in s)p=s[b],s.hasOwnProperty(b)&&f[b]!==p&&sT(o,b,p)}else for(var S in s)s.hasOwnProperty(S)&&sT(o,S,s[S])}function Xp(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var OU=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),IU=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jc(o){return IU.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function vi(){}var Qp=null;function Zp(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var us=null,cs=null;function uT(o){var s=is(o);if(s&&(o=s.stateNode)){var f=o[Dn]||null;e:switch(o=s.stateNode,s.type){case"input":if(Wp(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),s=f.name,f.type==="radio"&&s!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+fr(""+s)+'"][type="radio"]'),s=0;s<f.length;s++){var p=f[s];if(p!==o&&p.form===o.form){var b=p[Dn]||null;if(!b)throw Error(r(90));Wp(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(s=0;s<f.length;s++)p=f[s],p.form===o.form&&rT(p)}break e;case"textarea":aT(o,f.value,f.defaultValue);break e;case"select":s=f.value,s!=null&&ss(o,!!f.multiple,s,!1)}}}var em=!1;function cT(o,s,f){if(em)return o(s,f);em=!0;try{var p=o(s);return p}finally{if(em=!1,(us!==null||cs!==null)&&(jf(),us&&(s=us,o=cs,cs=us=null,uT(s),o)))for(s=0;s<o.length;s++)uT(o[s])}}function ql(o,s){var f=o.stateNode;if(f===null)return null;var p=f[Dn]||null;if(p===null)return null;f=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,s,typeof f));return f}var yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tm=!1;if(yi)try{var zl={};Object.defineProperty(zl,"passive",{get:function(){tm=!0}}),window.addEventListener("test",zl,zl),window.removeEventListener("test",zl,zl)}catch{tm=!1}var ba=null,nm=null,Xc=null;function fT(){if(Xc)return Xc;var o,s=nm,f=s.length,p,b="value"in ba?ba.value:ba.textContent,S=b.length;for(o=0;o<f&&s[o]===b[o];o++);var M=f-o;for(p=1;p<=M&&s[f-p]===b[S-p];p++);return Xc=b.slice(o,1<p?1-p:void 0)}function Qc(o){var s=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&s===13&&(o=13)):o=s,o===10&&(o=13),32<=o||o===13?o:0}function Zc(){return!0}function dT(){return!1}function Rn(o){function s(f,p,b,S,M){this._reactName=f,this._targetInst=b,this.type=p,this.nativeEvent=S,this.target=M,this.currentTarget=null;for(var N in o)o.hasOwnProperty(N)&&(f=o[N],this[N]=f?f(S):S[N]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Zc:dT,this.isPropagationStopped=dT,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Zc)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Zc)},persist:function(){},isPersistent:Zc}),s}var lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ef=Rn(lo),Bl=m({},lo,{view:0,detail:0}),NU=Rn(Bl),rm,im,$l,tf=m({},Bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:om,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==$l&&($l&&o.type==="mousemove"?(rm=o.screenX-$l.screenX,im=o.screenY-$l.screenY):im=rm=0,$l=o),rm)},movementY:function(o){return"movementY"in o?o.movementY:im}}),hT=Rn(tf),DU=m({},tf,{dataTransfer:0}),RU=Rn(DU),kU=m({},Bl,{relatedTarget:0}),am=Rn(kU),LU=m({},lo,{animationName:0,elapsedTime:0,pseudoElement:0}),UU=Rn(LU),jU=m({},lo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),qU=Rn(jU),zU=m({},lo,{data:0}),pT=Rn(zU),BU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$U={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HU(o){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(o):(o=FU[o])?!!s[o]:!1}function om(){return HU}var GU=m({},Bl,{key:function(o){if(o.key){var s=BU[o.key]||o.key;if(s!=="Unidentified")return s}return o.type==="keypress"?(o=Qc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?$U[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:om,charCode:function(o){return o.type==="keypress"?Qc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Qc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),VU=Rn(GU),KU=m({},tf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mT=Rn(KU),YU=m({},Bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:om}),WU=Rn(YU),JU=m({},lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),XU=Rn(JU),QU=m({},tf,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),ZU=Rn(QU),ej=m({},lo,{newState:0,oldState:0}),tj=Rn(ej),nj=[9,13,27,32],sm=yi&&"CompositionEvent"in window,Fl=null;yi&&"documentMode"in document&&(Fl=document.documentMode);var rj=yi&&"TextEvent"in window&&!Fl,gT=yi&&(!sm||Fl&&8<Fl&&11>=Fl),vT=" ",yT=!1;function bT(o,s){switch(o){case"keyup":return nj.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _T(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var fs=!1;function ij(o,s){switch(o){case"compositionend":return _T(s);case"keypress":return s.which!==32?null:(yT=!0,vT);case"textInput":return o=s.data,o===vT&&yT?null:o;default:return null}}function aj(o,s){if(fs)return o==="compositionend"||!sm&&bT(o,s)?(o=fT(),Xc=nm=ba=null,fs=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return gT&&s.locale!=="ko"?null:s.data;default:return null}}var oj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ST(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s==="input"?!!oj[o.type]:s==="textarea"}function TT(o,s,f,p){us?cs?cs.push(p):cs=[p]:us=p,s=Gf(s,"onChange"),0<s.length&&(f=new ef("onChange","change",null,f,p),o.push({event:f,listeners:s}))}var Hl=null,Gl=null;function sj(o){ix(o,0)}function nf(o){var s=jl(o);if(rT(s))return o}function ET(o,s){if(o==="change")return s}var wT=!1;if(yi){var lm;if(yi){var um="oninput"in document;if(!um){var xT=document.createElement("div");xT.setAttribute("oninput","return;"),um=typeof xT.oninput=="function"}lm=um}else lm=!1;wT=lm&&(!document.documentMode||9<document.documentMode)}function AT(){Hl&&(Hl.detachEvent("onpropertychange",CT),Gl=Hl=null)}function CT(o){if(o.propertyName==="value"&&nf(Gl)){var s=[];TT(s,Gl,o,Zp(o)),cT(sj,s)}}function lj(o,s,f){o==="focusin"?(AT(),Hl=s,Gl=f,Hl.attachEvent("onpropertychange",CT)):o==="focusout"&&AT()}function uj(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return nf(Gl)}function cj(o,s){if(o==="click")return nf(s)}function fj(o,s){if(o==="input"||o==="change")return nf(s)}function dj(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var Yn=typeof Object.is=="function"?Object.is:dj;function Vl(o,s){if(Yn(o,s))return!0;if(typeof o!="object"||o===null||typeof s!="object"||s===null)return!1;var f=Object.keys(o),p=Object.keys(s);if(f.length!==p.length)return!1;for(p=0;p<f.length;p++){var b=f[p];if(!ma.call(s,b)||!Yn(o[b],s[b]))return!1}return!0}function MT(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function PT(o,s){var f=MT(o);o=0;for(var p;f;){if(f.nodeType===3){if(p=o+f.textContent.length,o<=s&&p>=s)return{node:f,offset:s-o};o=p}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=MT(f)}}function OT(o,s){return o&&s?o===s?!0:o&&o.nodeType===3?!1:s&&s.nodeType===3?OT(o,s.parentNode):"contains"in o?o.contains(s):o.compareDocumentPosition?!!(o.compareDocumentPosition(s)&16):!1:!1}function IT(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var s=Wc(o.document);s instanceof o.HTMLIFrameElement;){try{var f=typeof s.contentWindow.location.href=="string"}catch{f=!1}if(f)o=s.contentWindow;else break;s=Wc(o.document)}return s}function cm(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s&&(s==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||s==="textarea"||o.contentEditable==="true")}var hj=yi&&"documentMode"in document&&11>=document.documentMode,ds=null,fm=null,Kl=null,dm=!1;function NT(o,s,f){var p=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;dm||ds==null||ds!==Wc(p)||(p=ds,"selectionStart"in p&&cm(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Kl&&Vl(Kl,p)||(Kl=p,p=Gf(fm,"onSelect"),0<p.length&&(s=new ef("onSelect","select",null,s,f),o.push({event:s,listeners:p}),s.target=ds)))}function uo(o,s){var f={};return f[o.toLowerCase()]=s.toLowerCase(),f["Webkit"+o]="webkit"+s,f["Moz"+o]="moz"+s,f}var hs={animationend:uo("Animation","AnimationEnd"),animationiteration:uo("Animation","AnimationIteration"),animationstart:uo("Animation","AnimationStart"),transitionrun:uo("Transition","TransitionRun"),transitionstart:uo("Transition","TransitionStart"),transitioncancel:uo("Transition","TransitionCancel"),transitionend:uo("Transition","TransitionEnd")},hm={},DT={};yi&&(DT=document.createElement("div").style,"AnimationEvent"in window||(delete hs.animationend.animation,delete hs.animationiteration.animation,delete hs.animationstart.animation),"TransitionEvent"in window||delete hs.transitionend.transition);function co(o){if(hm[o])return hm[o];if(!hs[o])return o;var s=hs[o],f;for(f in s)if(s.hasOwnProperty(f)&&f in DT)return hm[o]=s[f];return o}var RT=co("animationend"),kT=co("animationiteration"),LT=co("animationstart"),pj=co("transitionrun"),mj=co("transitionstart"),gj=co("transitioncancel"),UT=co("transitionend"),jT=new Map,pm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pm.push("scrollEnd");function kr(o,s){jT.set(o,s),so(s,[o])}var rf=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},dr=[],ps=0,mm=0;function af(){for(var o=ps,s=mm=ps=0;s<o;){var f=dr[s];dr[s++]=null;var p=dr[s];dr[s++]=null;var b=dr[s];dr[s++]=null;var S=dr[s];if(dr[s++]=null,p!==null&&b!==null){var M=p.pending;M===null?b.next=b:(b.next=M.next,M.next=b),p.pending=b}S!==0&&qT(f,b,S)}}function of(o,s,f,p){dr[ps++]=o,dr[ps++]=s,dr[ps++]=f,dr[ps++]=p,mm|=p,o.lanes|=p,o=o.alternate,o!==null&&(o.lanes|=p)}function gm(o,s,f,p){return of(o,s,f,p),sf(o)}function fo(o,s){return of(o,null,null,s),sf(o)}function qT(o,s,f){o.lanes|=f;var p=o.alternate;p!==null&&(p.lanes|=f);for(var b=!1,S=o.return;S!==null;)S.childLanes|=f,p=S.alternate,p!==null&&(p.childLanes|=f),S.tag===22&&(o=S.stateNode,o===null||o._visibility&1||(b=!0)),o=S,S=S.return;return o.tag===3?(S=o.stateNode,b&&s!==null&&(b=31-jt(f),o=S.hiddenUpdates,p=o[b],p===null?o[b]=[s]:p.push(s),s.lane=f|536870912),S):null}function sf(o){if(50<mu)throw mu=0,xg=null,Error(r(185));for(var s=o.return;s!==null;)o=s,s=o.return;return o.tag===3?o.stateNode:null}var ms={};function vj(o,s,f,p){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(o,s,f,p){return new vj(o,s,f,p)}function vm(o){return o=o.prototype,!(!o||!o.isReactComponent)}function bi(o,s){var f=o.alternate;return f===null?(f=Wn(o.tag,s,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=s,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,s=o.dependencies,f.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function zT(o,s){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=s,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,s=f.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),o}function lf(o,s,f,p,b,S){var M=0;if(p=o,typeof o=="function")vm(o)&&(M=1);else if(typeof o=="string")M=Tq(o,f,ce.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case $:return o=Wn(31,f,s,b),o.elementType=$,o.lanes=S,o;case w:return ho(f.children,b,S,s);case E:M=8,b|=24;break;case C:return o=Wn(12,f,s,b|2),o.elementType=C,o.lanes=S,o;case I:return o=Wn(13,f,s,b),o.elementType=I,o.lanes=S,o;case R:return o=Wn(19,f,s,b),o.elementType=R,o.lanes=S,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case P:M=10;break e;case O:M=9;break e;case D:M=11;break e;case k:M=14;break e;case z:M=16,p=null;break e}M=29,f=Error(r(130,o===null?"null":typeof o,"")),p=null}return s=Wn(M,f,s,b),s.elementType=o,s.type=p,s.lanes=S,s}function ho(o,s,f,p){return o=Wn(7,o,p,s),o.lanes=f,o}function ym(o,s,f){return o=Wn(6,o,null,s),o.lanes=f,o}function BT(o){var s=Wn(18,null,null,0);return s.stateNode=o,s}function bm(o,s,f){return s=Wn(4,o.children!==null?o.children:[],o.key,s),s.lanes=f,s.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},s}var $T=new WeakMap;function hr(o,s){if(typeof o=="object"&&o!==null){var f=$T.get(o);return f!==void 0?f:(s={value:o,source:s,stack:vn(s)},$T.set(o,s),s)}return{value:o,source:s,stack:vn(s)}}var gs=[],vs=0,uf=null,Yl=0,pr=[],mr=0,_a=null,Wr=1,Jr="";function _i(o,s){gs[vs++]=Yl,gs[vs++]=uf,uf=o,Yl=s}function FT(o,s,f){pr[mr++]=Wr,pr[mr++]=Jr,pr[mr++]=_a,_a=o;var p=Wr;o=Jr;var b=32-jt(p)-1;p&=~(1<<b),f+=1;var S=32-jt(s)+b;if(30<S){var M=b-b%5;S=(p&(1<<M)-1).toString(32),p>>=M,b-=M,Wr=1<<32-jt(s)+b|f<<b|p,Jr=S+o}else Wr=1<<S|f<<b|p,Jr=o}function _m(o){o.return!==null&&(_i(o,1),FT(o,1,0))}function Sm(o){for(;o===uf;)uf=gs[--vs],gs[vs]=null,Yl=gs[--vs],gs[vs]=null;for(;o===_a;)_a=pr[--mr],pr[mr]=null,Jr=pr[--mr],pr[mr]=null,Wr=pr[--mr],pr[mr]=null}function HT(o,s){pr[mr++]=Wr,pr[mr++]=Jr,pr[mr++]=_a,Wr=s.id,Jr=s.overflow,_a=o}var on=null,st=null,Fe=!1,Sa=null,gr=!1,Tm=Error(r(519));function Ta(o){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wl(hr(s,o)),Tm}function GT(o){var s=o.stateNode,f=o.type,p=o.memoizedProps;switch(s[an]=o,s[Dn]=p,f){case"dialog":je("cancel",s),je("close",s);break;case"iframe":case"object":case"embed":je("load",s);break;case"video":case"audio":for(f=0;f<vu.length;f++)je(vu[f],s);break;case"source":je("error",s);break;case"img":case"image":case"link":je("error",s),je("load",s);break;case"details":je("toggle",s);break;case"input":je("invalid",s),iT(s,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":je("invalid",s);break;case"textarea":je("invalid",s),oT(s,p.value,p.defaultValue,p.children)}f=p.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||s.textContent===""+f||p.suppressHydrationWarning===!0||lx(s.textContent,f)?(p.popover!=null&&(je("beforetoggle",s),je("toggle",s)),p.onScroll!=null&&je("scroll",s),p.onScrollEnd!=null&&je("scrollend",s),p.onClick!=null&&(s.onclick=vi),s=!0):s=!1,s||Ta(o,!0)}function VT(o){for(on=o.return;on;)switch(on.tag){case 5:case 31:case 13:gr=!1;return;case 27:case 3:gr=!0;return;default:on=on.return}}function ys(o){if(o!==on)return!1;if(!Fe)return VT(o),Fe=!0,!1;var s=o.tag,f;if((f=s!==3&&s!==27)&&((f=s===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||zg(o.type,o.memoizedProps)),f=!f),f&&st&&Ta(o),VT(o),s===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));st=vx(o)}else if(s===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));st=vx(o)}else s===27?(s=st,La(o.type)?(o=Gg,Gg=null,st=o):st=s):st=on?yr(o.stateNode.nextSibling):null;return!0}function po(){st=on=null,Fe=!1}function Em(){var o=Sa;return o!==null&&(jn===null?jn=o:jn.push.apply(jn,o),Sa=null),o}function Wl(o){Sa===null?Sa=[o]:Sa.push(o)}var wm=U(null),mo=null,Si=null;function Ea(o,s,f){le(wm,s._currentValue),s._currentValue=f}function Ti(o){o._currentValue=wm.current,W(wm)}function xm(o,s,f){for(;o!==null;){var p=o.alternate;if((o.childLanes&s)!==s?(o.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),o===f)break;o=o.return}}function Am(o,s,f,p){var b=o.child;for(b!==null&&(b.return=o);b!==null;){var S=b.dependencies;if(S!==null){var M=b.child;S=S.firstContext;e:for(;S!==null;){var N=S;S=b;for(var L=0;L<s.length;L++)if(N.context===s[L]){S.lanes|=f,N=S.alternate,N!==null&&(N.lanes|=f),xm(S.return,f,o),p||(M=null);break e}S=N.next}}else if(b.tag===18){if(M=b.return,M===null)throw Error(r(341));M.lanes|=f,S=M.alternate,S!==null&&(S.lanes|=f),xm(M,f,o),M=null}else M=b.child;if(M!==null)M.return=b;else for(M=b;M!==null;){if(M===o){M=null;break}if(b=M.sibling,b!==null){b.return=M.return,M=b;break}M=M.return}b=M}}function bs(o,s,f,p){o=null;for(var b=s,S=!1;b!==null;){if(!S){if((b.flags&524288)!==0)S=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var M=b.alternate;if(M===null)throw Error(r(387));if(M=M.memoizedProps,M!==null){var N=b.type;Yn(b.pendingProps.value,M.value)||(o!==null?o.push(N):o=[N])}}else if(b===we.current){if(M=b.alternate,M===null)throw Error(r(387));M.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(o!==null?o.push(Tu):o=[Tu])}b=b.return}o!==null&&Am(s,o,f,p),s.flags|=262144}function cf(o){for(o=o.firstContext;o!==null;){if(!Yn(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function go(o){mo=o,Si=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function sn(o){return KT(mo,o)}function ff(o,s){return mo===null&&go(o),KT(o,s)}function KT(o,s){var f=s._currentValue;if(s={context:s,memoizedValue:f,next:null},Si===null){if(o===null)throw Error(r(308));Si=s,o.dependencies={lanes:0,firstContext:s},o.flags|=524288}else Si=Si.next=s;return f}var yj=typeof AbortController<"u"?AbortController:function(){var o=[],s=this.signal={aborted:!1,addEventListener:function(f,p){o.push(p)}};this.abort=function(){s.aborted=!0,o.forEach(function(f){return f()})}},bj=e.unstable_scheduleCallback,_j=e.unstable_NormalPriority,It={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cm(){return{controller:new yj,data:new Map,refCount:0}}function Jl(o){o.refCount--,o.refCount===0&&bj(_j,function(){o.controller.abort()})}var Xl=null,Mm=0,_s=0,Ss=null;function Sj(o,s){if(Xl===null){var f=Xl=[];Mm=0,_s=Ig(),Ss={status:"pending",value:void 0,then:function(p){f.push(p)}}}return Mm++,s.then(YT,YT),s}function YT(){if(--Mm===0&&Xl!==null){Ss!==null&&(Ss.status="fulfilled");var o=Xl;Xl=null,_s=0,Ss=null;for(var s=0;s<o.length;s++)(0,o[s])()}}function Tj(o,s){var f=[],p={status:"pending",value:null,reason:null,then:function(b){f.push(b)}};return o.then(function(){p.status="fulfilled",p.value=s;for(var b=0;b<f.length;b++)(0,f[b])(s)},function(b){for(p.status="rejected",p.reason=b,b=0;b<f.length;b++)(0,f[b])(void 0)}),p}var WT=B.S;B.S=function(o,s){Nw=yt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Sj(o,s),WT!==null&&WT(o,s)};var vo=U(null);function Pm(){var o=vo.current;return o!==null?o:it.pooledCache}function df(o,s){s===null?le(vo,vo.current):le(vo,s.pool)}function JT(){var o=Pm();return o===null?null:{parent:It._currentValue,pool:o}}var Ts=Error(r(460)),Om=Error(r(474)),hf=Error(r(542)),pf={then:function(){}};function XT(o){return o=o.status,o==="fulfilled"||o==="rejected"}function QT(o,s,f){switch(f=o[f],f===void 0?o.push(s):f!==s&&(s.then(vi,vi),s=f),s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,eE(o),o;default:if(typeof s.status=="string")s.then(vi,vi);else{if(o=it,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=s,o.status="pending",o.then(function(p){if(s.status==="pending"){var b=s;b.status="fulfilled",b.value=p}},function(p){if(s.status==="pending"){var b=s;b.status="rejected",b.reason=p}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,eE(o),o}throw bo=s,Ts}}function yo(o){try{var s=o._init;return s(o._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(bo=f,Ts):f}}var bo=null;function ZT(){if(bo===null)throw Error(r(459));var o=bo;return bo=null,o}function eE(o){if(o===Ts||o===hf)throw Error(r(483))}var Es=null,Ql=0;function mf(o){var s=Ql;return Ql+=1,Es===null&&(Es=[]),QT(Es,o,s)}function Zl(o,s){s=s.props.ref,o.ref=s!==void 0?s:null}function gf(o,s){throw s.$$typeof===v?Error(r(525)):(o=Object.prototype.toString.call(s),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o)))}function tE(o){function s(q,j){if(o){var H=q.deletions;H===null?(q.deletions=[j],q.flags|=16):H.push(j)}}function f(q,j){if(!o)return null;for(;j!==null;)s(q,j),j=j.sibling;return null}function p(q){for(var j=new Map;q!==null;)q.key!==null?j.set(q.key,q):j.set(q.index,q),q=q.sibling;return j}function b(q,j){return q=bi(q,j),q.index=0,q.sibling=null,q}function S(q,j,H){return q.index=H,o?(H=q.alternate,H!==null?(H=H.index,H<j?(q.flags|=67108866,j):H):(q.flags|=67108866,j)):(q.flags|=1048576,j)}function M(q){return o&&q.alternate===null&&(q.flags|=67108866),q}function N(q,j,H,ne){return j===null||j.tag!==6?(j=ym(H,q.mode,ne),j.return=q,j):(j=b(j,H),j.return=q,j)}function L(q,j,H,ne){var Te=H.type;return Te===w?Z(q,j,H.props.children,ne,H.key):j!==null&&(j.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===z&&yo(Te)===j.type)?(j=b(j,H.props),Zl(j,H),j.return=q,j):(j=lf(H.type,H.key,H.props,null,q.mode,ne),Zl(j,H),j.return=q,j)}function G(q,j,H,ne){return j===null||j.tag!==4||j.stateNode.containerInfo!==H.containerInfo||j.stateNode.implementation!==H.implementation?(j=bm(H,q.mode,ne),j.return=q,j):(j=b(j,H.children||[]),j.return=q,j)}function Z(q,j,H,ne,Te){return j===null||j.tag!==7?(j=ho(H,q.mode,ne,Te),j.return=q,j):(j=b(j,H),j.return=q,j)}function ie(q,j,H){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=ym(""+j,q.mode,H),j.return=q,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case _:return H=lf(j.type,j.key,j.props,null,q.mode,H),Zl(H,j),H.return=q,H;case T:return j=bm(j,q.mode,H),j.return=q,j;case z:return j=yo(j),ie(q,j,H)}if(_e(j)||V(j))return j=ho(j,q.mode,H,null),j.return=q,j;if(typeof j.then=="function")return ie(q,mf(j),H);if(j.$$typeof===P)return ie(q,ff(q,j),H);gf(q,j)}return null}function K(q,j,H,ne){var Te=j!==null?j.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Te!==null?null:N(q,j,""+H,ne);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case _:return H.key===Te?L(q,j,H,ne):null;case T:return H.key===Te?G(q,j,H,ne):null;case z:return H=yo(H),K(q,j,H,ne)}if(_e(H)||V(H))return Te!==null?null:Z(q,j,H,ne,null);if(typeof H.then=="function")return K(q,j,mf(H),ne);if(H.$$typeof===P)return K(q,j,ff(q,H),ne);gf(q,H)}return null}function Y(q,j,H,ne,Te){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return q=q.get(H)||null,N(j,q,""+ne,Te);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case _:return q=q.get(ne.key===null?H:ne.key)||null,L(j,q,ne,Te);case T:return q=q.get(ne.key===null?H:ne.key)||null,G(j,q,ne,Te);case z:return ne=yo(ne),Y(q,j,H,ne,Te)}if(_e(ne)||V(ne))return q=q.get(H)||null,Z(j,q,ne,Te,null);if(typeof ne.then=="function")return Y(q,j,H,mf(ne),Te);if(ne.$$typeof===P)return Y(q,j,H,ff(j,ne),Te);gf(j,ne)}return null}function ge(q,j,H,ne){for(var Te=null,He=null,ve=j,De=j=0,Be=null;ve!==null&&De<H.length;De++){ve.index>De?(Be=ve,ve=null):Be=ve.sibling;var Ge=K(q,ve,H[De],ne);if(Ge===null){ve===null&&(ve=Be);break}o&&ve&&Ge.alternate===null&&s(q,ve),j=S(Ge,j,De),He===null?Te=Ge:He.sibling=Ge,He=Ge,ve=Be}if(De===H.length)return f(q,ve),Fe&&_i(q,De),Te;if(ve===null){for(;De<H.length;De++)ve=ie(q,H[De],ne),ve!==null&&(j=S(ve,j,De),He===null?Te=ve:He.sibling=ve,He=ve);return Fe&&_i(q,De),Te}for(ve=p(ve);De<H.length;De++)Be=Y(ve,q,De,H[De],ne),Be!==null&&(o&&Be.alternate!==null&&ve.delete(Be.key===null?De:Be.key),j=S(Be,j,De),He===null?Te=Be:He.sibling=Be,He=Be);return o&&ve.forEach(function(Ba){return s(q,Ba)}),Fe&&_i(q,De),Te}function Ae(q,j,H,ne){if(H==null)throw Error(r(151));for(var Te=null,He=null,ve=j,De=j=0,Be=null,Ge=H.next();ve!==null&&!Ge.done;De++,Ge=H.next()){ve.index>De?(Be=ve,ve=null):Be=ve.sibling;var Ba=K(q,ve,Ge.value,ne);if(Ba===null){ve===null&&(ve=Be);break}o&&ve&&Ba.alternate===null&&s(q,ve),j=S(Ba,j,De),He===null?Te=Ba:He.sibling=Ba,He=Ba,ve=Be}if(Ge.done)return f(q,ve),Fe&&_i(q,De),Te;if(ve===null){for(;!Ge.done;De++,Ge=H.next())Ge=ie(q,Ge.value,ne),Ge!==null&&(j=S(Ge,j,De),He===null?Te=Ge:He.sibling=Ge,He=Ge);return Fe&&_i(q,De),Te}for(ve=p(ve);!Ge.done;De++,Ge=H.next())Ge=Y(ve,q,De,Ge.value,ne),Ge!==null&&(o&&Ge.alternate!==null&&ve.delete(Ge.key===null?De:Ge.key),j=S(Ge,j,De),He===null?Te=Ge:He.sibling=Ge,He=Ge);return o&&ve.forEach(function(Dq){return s(q,Dq)}),Fe&&_i(q,De),Te}function nt(q,j,H,ne){if(typeof H=="object"&&H!==null&&H.type===w&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case _:e:{for(var Te=H.key;j!==null;){if(j.key===Te){if(Te=H.type,Te===w){if(j.tag===7){f(q,j.sibling),ne=b(j,H.props.children),ne.return=q,q=ne;break e}}else if(j.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===z&&yo(Te)===j.type){f(q,j.sibling),ne=b(j,H.props),Zl(ne,H),ne.return=q,q=ne;break e}f(q,j);break}else s(q,j);j=j.sibling}H.type===w?(ne=ho(H.props.children,q.mode,ne,H.key),ne.return=q,q=ne):(ne=lf(H.type,H.key,H.props,null,q.mode,ne),Zl(ne,H),ne.return=q,q=ne)}return M(q);case T:e:{for(Te=H.key;j!==null;){if(j.key===Te)if(j.tag===4&&j.stateNode.containerInfo===H.containerInfo&&j.stateNode.implementation===H.implementation){f(q,j.sibling),ne=b(j,H.children||[]),ne.return=q,q=ne;break e}else{f(q,j);break}else s(q,j);j=j.sibling}ne=bm(H,q.mode,ne),ne.return=q,q=ne}return M(q);case z:return H=yo(H),nt(q,j,H,ne)}if(_e(H))return ge(q,j,H,ne);if(V(H)){if(Te=V(H),typeof Te!="function")throw Error(r(150));return H=Te.call(H),Ae(q,j,H,ne)}if(typeof H.then=="function")return nt(q,j,mf(H),ne);if(H.$$typeof===P)return nt(q,j,ff(q,H),ne);gf(q,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,j!==null&&j.tag===6?(f(q,j.sibling),ne=b(j,H),ne.return=q,q=ne):(f(q,j),ne=ym(H,q.mode,ne),ne.return=q,q=ne),M(q)):f(q,j)}return function(q,j,H,ne){try{Ql=0;var Te=nt(q,j,H,ne);return Es=null,Te}catch(ve){if(ve===Ts||ve===hf)throw ve;var He=Wn(29,ve,null,q.mode);return He.lanes=ne,He.return=q,He}finally{}}}var _o=tE(!0),nE=tE(!1),wa=!1;function Im(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nm(o,s){o=o.updateQueue,s.updateQueue===o&&(s.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function xa(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Aa(o,s,f){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(Ye&2)!==0){var b=p.pending;return b===null?s.next=s:(s.next=b.next,b.next=s),p.pending=s,s=sf(o),qT(o,null,f),s}return of(o,p,s,f),sf(o)}function eu(o,s,f){if(s=s.updateQueue,s!==null&&(s=s.shared,(f&4194048)!==0)){var p=s.lanes;p&=o.pendingLanes,f|=p,s.lanes=f,Yr(o,f)}}function Dm(o,s){var f=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,f===p)){var b=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var M={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};S===null?b=S=M:S=S.next=M,f=f.next}while(f!==null);S===null?b=S=s:S=S.next=s}else b=S=s;f={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:S,shared:p.shared,callbacks:p.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=s:o.next=s,f.lastBaseUpdate=s}var Rm=!1;function tu(){if(Rm){var o=Ss;if(o!==null)throw o}}function nu(o,s,f,p){Rm=!1;var b=o.updateQueue;wa=!1;var S=b.firstBaseUpdate,M=b.lastBaseUpdate,N=b.shared.pending;if(N!==null){b.shared.pending=null;var L=N,G=L.next;L.next=null,M===null?S=G:M.next=G,M=L;var Z=o.alternate;Z!==null&&(Z=Z.updateQueue,N=Z.lastBaseUpdate,N!==M&&(N===null?Z.firstBaseUpdate=G:N.next=G,Z.lastBaseUpdate=L))}if(S!==null){var ie=b.baseState;M=0,Z=G=L=null,N=S;do{var K=N.lane&-536870913,Y=K!==N.lane;if(Y?(ze&K)===K:(p&K)===K){K!==0&&K===_s&&(Rm=!0),Z!==null&&(Z=Z.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var ge=o,Ae=N;K=s;var nt=f;switch(Ae.tag){case 1:if(ge=Ae.payload,typeof ge=="function"){ie=ge.call(nt,ie,K);break e}ie=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Ae.payload,K=typeof ge=="function"?ge.call(nt,ie,K):ge,K==null)break e;ie=m({},ie,K);break e;case 2:wa=!0}}K=N.callback,K!==null&&(o.flags|=64,Y&&(o.flags|=8192),Y=b.callbacks,Y===null?b.callbacks=[K]:Y.push(K))}else Y={lane:K,tag:N.tag,payload:N.payload,callback:N.callback,next:null},Z===null?(G=Z=Y,L=ie):Z=Z.next=Y,M|=K;if(N=N.next,N===null){if(N=b.shared.pending,N===null)break;Y=N,N=Y.next,Y.next=null,b.lastBaseUpdate=Y,b.shared.pending=null}}while(!0);Z===null&&(L=ie),b.baseState=L,b.firstBaseUpdate=G,b.lastBaseUpdate=Z,S===null&&(b.shared.lanes=0),Ia|=M,o.lanes=M,o.memoizedState=ie}}function rE(o,s){if(typeof o!="function")throw Error(r(191,o));o.call(s)}function iE(o,s){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)rE(f[o],s)}var ws=U(null),vf=U(0);function aE(o,s){o=Ii,le(vf,o),le(ws,s),Ii=o|s.baseLanes}function km(){le(vf,Ii),le(ws,ws.current)}function Lm(){Ii=vf.current,W(ws),W(vf)}var Jn=U(null),vr=null;function Ca(o){var s=o.alternate;le(xt,xt.current&1),le(Jn,o),vr===null&&(s===null||ws.current!==null||s.memoizedState!==null)&&(vr=o)}function Um(o){le(xt,xt.current),le(Jn,o),vr===null&&(vr=o)}function oE(o){o.tag===22?(le(xt,xt.current),le(Jn,o),vr===null&&(vr=o)):Ma()}function Ma(){le(xt,xt.current),le(Jn,Jn.current)}function Xn(o){W(Jn),vr===o&&(vr=null),W(xt)}var xt=U(0);function yf(o){for(var s=o;s!==null;){if(s.tag===13){var f=s.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||Fg(f)||Hg(f)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ei=0,Ie=null,et=null,Nt=null,bf=!1,xs=!1,So=!1,_f=0,ru=0,As=null,Ej=0;function Tt(){throw Error(r(321))}function jm(o,s){if(s===null)return!1;for(var f=0;f<s.length&&f<o.length;f++)if(!Yn(o[f],s[f]))return!1;return!0}function qm(o,s,f,p,b,S){return Ei=S,Ie=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=o===null||o.memoizedState===null?FE:eg,So=!1,S=f(p,b),So=!1,xs&&(S=lE(s,f,p,b)),sE(o),S}function sE(o){B.H=ou;var s=et!==null&&et.next!==null;if(Ei=0,Nt=et=Ie=null,bf=!1,ru=0,As=null,s)throw Error(r(300));o===null||Dt||(o=o.dependencies,o!==null&&cf(o)&&(Dt=!0))}function lE(o,s,f,p){Ie=o;var b=0;do{if(xs&&(As=null),ru=0,xs=!1,25<=b)throw Error(r(301));if(b+=1,Nt=et=null,o.updateQueue!=null){var S=o.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}B.H=HE,S=s(f,p)}while(xs);return S}function wj(){var o=B.H,s=o.useState()[0];return s=typeof s.then=="function"?iu(s):s,o=o.useState()[0],(et!==null?et.memoizedState:null)!==o&&(Ie.flags|=1024),s}function zm(){var o=_f!==0;return _f=0,o}function Bm(o,s,f){s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~f}function $m(o){if(bf){for(o=o.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}bf=!1}Ei=0,Nt=et=Ie=null,xs=!1,ru=_f=0,As=null}function An(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Ie.memoizedState=Nt=o:Nt=Nt.next=o,Nt}function At(){if(et===null){var o=Ie.alternate;o=o!==null?o.memoizedState:null}else o=et.next;var s=Nt===null?Ie.memoizedState:Nt.next;if(s!==null)Nt=s,et=o;else{if(o===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));et=o,o={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Nt===null?Ie.memoizedState=Nt=o:Nt=Nt.next=o}return Nt}function Sf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function iu(o){var s=ru;return ru+=1,As===null&&(As=[]),o=QT(As,o,s),s=Ie,(Nt===null?s.memoizedState:Nt.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?FE:eg),o}function Tf(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return iu(o);if(o.$$typeof===P)return sn(o)}throw Error(r(438,String(o)))}function Fm(o){var s=null,f=Ie.updateQueue;if(f!==null&&(s=f.memoCache),s==null){var p=Ie.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(s={data:p.data.map(function(b){return b.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),f===null&&(f=Sf(),Ie.updateQueue=f),f.memoCache=s,f=s.data[s.index],f===void 0)for(f=s.data[s.index]=Array(o),p=0;p<o;p++)f[p]=re;return s.index++,f}function wi(o,s){return typeof s=="function"?s(o):s}function Ef(o){var s=At();return Hm(s,et,o)}function Hm(o,s,f){var p=o.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=f;var b=o.baseQueue,S=p.pending;if(S!==null){if(b!==null){var M=b.next;b.next=S.next,S.next=M}s.baseQueue=b=S,p.pending=null}if(S=o.baseState,b===null)o.memoizedState=S;else{s=b.next;var N=M=null,L=null,G=s,Z=!1;do{var ie=G.lane&-536870913;if(ie!==G.lane?(ze&ie)===ie:(Ei&ie)===ie){var K=G.revertLane;if(K===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ie===_s&&(Z=!0);else if((Ei&K)===K){G=G.next,K===_s&&(Z=!0);continue}else ie={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},L===null?(N=L=ie,M=S):L=L.next=ie,Ie.lanes|=K,Ia|=K;ie=G.action,So&&f(S,ie),S=G.hasEagerState?G.eagerState:f(S,ie)}else K={lane:ie,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},L===null?(N=L=K,M=S):L=L.next=K,Ie.lanes|=ie,Ia|=ie;G=G.next}while(G!==null&&G!==s);if(L===null?M=S:L.next=N,!Yn(S,o.memoizedState)&&(Dt=!0,Z&&(f=Ss,f!==null)))throw f;o.memoizedState=S,o.baseState=M,o.baseQueue=L,p.lastRenderedState=S}return b===null&&(p.lanes=0),[o.memoizedState,p.dispatch]}function Gm(o){var s=At(),f=s.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var p=f.dispatch,b=f.pending,S=s.memoizedState;if(b!==null){f.pending=null;var M=b=b.next;do S=o(S,M.action),M=M.next;while(M!==b);Yn(S,s.memoizedState)||(Dt=!0),s.memoizedState=S,s.baseQueue===null&&(s.baseState=S),f.lastRenderedState=S}return[S,p]}function uE(o,s,f){var p=Ie,b=At(),S=Fe;if(S){if(f===void 0)throw Error(r(407));f=f()}else f=s();var M=!Yn((et||b).memoizedState,f);if(M&&(b.memoizedState=f,Dt=!0),b=b.queue,Ym(dE.bind(null,p,b,o),[o]),b.getSnapshot!==s||M||Nt!==null&&Nt.memoizedState.tag&1){if(p.flags|=2048,Cs(9,{destroy:void 0},fE.bind(null,p,b,f,s),null),it===null)throw Error(r(349));S||(Ei&127)!==0||cE(p,s,f)}return f}function cE(o,s,f){o.flags|=16384,o={getSnapshot:s,value:f},s=Ie.updateQueue,s===null?(s=Sf(),Ie.updateQueue=s,s.stores=[o]):(f=s.stores,f===null?s.stores=[o]:f.push(o))}function fE(o,s,f,p){s.value=f,s.getSnapshot=p,hE(s)&&pE(o)}function dE(o,s,f){return f(function(){hE(s)&&pE(o)})}function hE(o){var s=o.getSnapshot;o=o.value;try{var f=s();return!Yn(o,f)}catch{return!0}}function pE(o){var s=fo(o,2);s!==null&&qn(s,o,2)}function Vm(o){var s=An();if(typeof o=="function"){var f=o;if(o=f(),So){lr(!0);try{f()}finally{lr(!1)}}}return s.memoizedState=s.baseState=o,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:o},s}function mE(o,s,f,p){return o.baseState=f,Hm(o,et,typeof p=="function"?p:wi)}function xj(o,s,f,p,b){if(Af(o))throw Error(r(485));if(o=s.action,o!==null){var S={payload:b,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){S.listeners.push(M)}};B.T!==null?f(!0):S.isTransition=!1,p(S),f=s.pending,f===null?(S.next=s.pending=S,gE(s,S)):(S.next=f.next,s.pending=f.next=S)}}function gE(o,s){var f=s.action,p=s.payload,b=o.state;if(s.isTransition){var S=B.T,M={};B.T=M;try{var N=f(b,p),L=B.S;L!==null&&L(M,N),vE(o,s,N)}catch(G){Km(o,s,G)}finally{S!==null&&M.types!==null&&(S.types=M.types),B.T=S}}else try{S=f(b,p),vE(o,s,S)}catch(G){Km(o,s,G)}}function vE(o,s,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(p){yE(o,s,p)},function(p){return Km(o,s,p)}):yE(o,s,f)}function yE(o,s,f){s.status="fulfilled",s.value=f,bE(s),o.state=f,s=o.pending,s!==null&&(f=s.next,f===s?o.pending=null:(f=f.next,s.next=f,gE(o,f)))}function Km(o,s,f){var p=o.pending;if(o.pending=null,p!==null){p=p.next;do s.status="rejected",s.reason=f,bE(s),s=s.next;while(s!==p)}o.action=null}function bE(o){o=o.listeners;for(var s=0;s<o.length;s++)(0,o[s])()}function _E(o,s){return s}function SE(o,s){if(Fe){var f=it.formState;if(f!==null){e:{var p=Ie;if(Fe){if(st){t:{for(var b=st,S=gr;b.nodeType!==8;){if(!S){b=null;break t}if(b=yr(b.nextSibling),b===null){b=null;break t}}S=b.data,b=S==="F!"||S==="F"?b:null}if(b){st=yr(b.nextSibling),p=b.data==="F!";break e}}Ta(p)}p=!1}p&&(s=f[0])}}return f=An(),f.memoizedState=f.baseState=s,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_E,lastRenderedState:s},f.queue=p,f=zE.bind(null,Ie,p),p.dispatch=f,p=Vm(!1),S=Zm.bind(null,Ie,!1,p.queue),p=An(),b={state:s,dispatch:null,action:o,pending:null},p.queue=b,f=xj.bind(null,Ie,b,S,f),b.dispatch=f,p.memoizedState=o,[s,f,!1]}function TE(o){var s=At();return EE(s,et,o)}function EE(o,s,f){if(s=Hm(o,s,_E)[0],o=Ef(wi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var p=iu(s)}catch(M){throw M===Ts?hf:M}else p=s;s=At();var b=s.queue,S=b.dispatch;return f!==s.memoizedState&&(Ie.flags|=2048,Cs(9,{destroy:void 0},Aj.bind(null,b,f),null)),[p,S,o]}function Aj(o,s){o.action=s}function wE(o){var s=At(),f=et;if(f!==null)return EE(s,f,o);At(),s=s.memoizedState,f=At();var p=f.queue.dispatch;return f.memoizedState=o,[s,p,!1]}function Cs(o,s,f,p){return o={tag:o,create:f,deps:p,inst:s,next:null},s=Ie.updateQueue,s===null&&(s=Sf(),Ie.updateQueue=s),f=s.lastEffect,f===null?s.lastEffect=o.next=o:(p=f.next,f.next=o,o.next=p,s.lastEffect=o),o}function xE(){return At().memoizedState}function wf(o,s,f,p){var b=An();Ie.flags|=o,b.memoizedState=Cs(1|s,{destroy:void 0},f,p===void 0?null:p)}function xf(o,s,f,p){var b=At();p=p===void 0?null:p;var S=b.memoizedState.inst;et!==null&&p!==null&&jm(p,et.memoizedState.deps)?b.memoizedState=Cs(s,S,f,p):(Ie.flags|=o,b.memoizedState=Cs(1|s,S,f,p))}function AE(o,s){wf(8390656,8,o,s)}function Ym(o,s){xf(2048,8,o,s)}function Cj(o){Ie.flags|=4;var s=Ie.updateQueue;if(s===null)s=Sf(),Ie.updateQueue=s,s.events=[o];else{var f=s.events;f===null?s.events=[o]:f.push(o)}}function CE(o){var s=At().memoizedState;return Cj({ref:s,nextImpl:o}),function(){if((Ye&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function ME(o,s){return xf(4,2,o,s)}function PE(o,s){return xf(4,4,o,s)}function OE(o,s){if(typeof s=="function"){o=o();var f=s(o);return function(){typeof f=="function"?f():s(null)}}if(s!=null)return o=o(),s.current=o,function(){s.current=null}}function IE(o,s,f){f=f!=null?f.concat([o]):null,xf(4,4,OE.bind(null,s,o),f)}function Wm(){}function NE(o,s){var f=At();s=s===void 0?null:s;var p=f.memoizedState;return s!==null&&jm(s,p[1])?p[0]:(f.memoizedState=[o,s],o)}function DE(o,s){var f=At();s=s===void 0?null:s;var p=f.memoizedState;if(s!==null&&jm(s,p[1]))return p[0];if(p=o(),So){lr(!0);try{o()}finally{lr(!1)}}return f.memoizedState=[p,s],p}function Jm(o,s,f){return f===void 0||(Ei&1073741824)!==0&&(ze&261930)===0?o.memoizedState=s:(o.memoizedState=f,o=Rw(),Ie.lanes|=o,Ia|=o,f)}function RE(o,s,f,p){return Yn(f,s)?f:ws.current!==null?(o=Jm(o,f,p),Yn(o,s)||(Dt=!0),o):(Ei&42)===0||(Ei&1073741824)!==0&&(ze&261930)===0?(Dt=!0,o.memoizedState=f):(o=Rw(),Ie.lanes|=o,Ia|=o,s)}function kE(o,s,f,p,b){var S=ee.p;ee.p=S!==0&&8>S?S:8;var M=B.T,N={};B.T=N,Zm(o,!1,s,f);try{var L=b(),G=B.S;if(G!==null&&G(N,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var Z=Tj(L,p);au(o,s,Z,er(o))}else au(o,s,p,er(o))}catch(ie){au(o,s,{then:function(){},status:"rejected",reason:ie},er())}finally{ee.p=S,M!==null&&N.types!==null&&(M.types=N.types),B.T=M}}function Mj(){}function Xm(o,s,f,p){if(o.tag!==5)throw Error(r(476));var b=LE(o).queue;kE(o,b,s,se,f===null?Mj:function(){return UE(o),f(p)})}function LE(o){var s=o.memoizedState;if(s!==null)return s;s={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:se},next:null};var f={};return s.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:f},next:null},o.memoizedState=s,o=o.alternate,o!==null&&(o.memoizedState=s),s}function UE(o){var s=LE(o);s.next===null&&(s=o.alternate.memoizedState),au(o,s.next.queue,{},er())}function Qm(){return sn(Tu)}function jE(){return At().memoizedState}function qE(){return At().memoizedState}function Pj(o){for(var s=o.return;s!==null;){switch(s.tag){case 24:case 3:var f=er();o=xa(f);var p=Aa(s,o,f);p!==null&&(qn(p,s,f),eu(p,s,f)),s={cache:Cm()},o.payload=s;return}s=s.return}}function Oj(o,s,f){var p=er();f={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Af(o)?BE(s,f):(f=gm(o,s,f,p),f!==null&&(qn(f,o,p),$E(f,s,p)))}function zE(o,s,f){var p=er();au(o,s,f,p)}function au(o,s,f,p){var b={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(Af(o))BE(s,b);else{var S=o.alternate;if(o.lanes===0&&(S===null||S.lanes===0)&&(S=s.lastRenderedReducer,S!==null))try{var M=s.lastRenderedState,N=S(M,f);if(b.hasEagerState=!0,b.eagerState=N,Yn(N,M))return of(o,s,b,0),it===null&&af(),!1}catch{}finally{}if(f=gm(o,s,b,p),f!==null)return qn(f,o,p),$E(f,s,p),!0}return!1}function Zm(o,s,f,p){if(p={lane:2,revertLane:Ig(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Af(o)){if(s)throw Error(r(479))}else s=gm(o,f,p,2),s!==null&&qn(s,o,2)}function Af(o){var s=o.alternate;return o===Ie||s!==null&&s===Ie}function BE(o,s){xs=bf=!0;var f=o.pending;f===null?s.next=s:(s.next=f.next,f.next=s),o.pending=s}function $E(o,s,f){if((f&4194048)!==0){var p=s.lanes;p&=o.pendingLanes,f|=p,s.lanes=f,Yr(o,f)}}var ou={readContext:sn,use:Tf,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};ou.useEffectEvent=Tt;var FE={readContext:sn,use:Tf,useCallback:function(o,s){return An().memoizedState=[o,s===void 0?null:s],o},useContext:sn,useEffect:AE,useImperativeHandle:function(o,s,f){f=f!=null?f.concat([o]):null,wf(4194308,4,OE.bind(null,s,o),f)},useLayoutEffect:function(o,s){return wf(4194308,4,o,s)},useInsertionEffect:function(o,s){wf(4,2,o,s)},useMemo:function(o,s){var f=An();s=s===void 0?null:s;var p=o();if(So){lr(!0);try{o()}finally{lr(!1)}}return f.memoizedState=[p,s],p},useReducer:function(o,s,f){var p=An();if(f!==void 0){var b=f(s);if(So){lr(!0);try{f(s)}finally{lr(!1)}}}else b=s;return p.memoizedState=p.baseState=b,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:b},p.queue=o,o=o.dispatch=Oj.bind(null,Ie,o),[p.memoizedState,o]},useRef:function(o){var s=An();return o={current:o},s.memoizedState=o},useState:function(o){o=Vm(o);var s=o.queue,f=zE.bind(null,Ie,s);return s.dispatch=f,[o.memoizedState,f]},useDebugValue:Wm,useDeferredValue:function(o,s){var f=An();return Jm(f,o,s)},useTransition:function(){var o=Vm(!1);return o=kE.bind(null,Ie,o.queue,!0,!1),An().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,s,f){var p=Ie,b=An();if(Fe){if(f===void 0)throw Error(r(407));f=f()}else{if(f=s(),it===null)throw Error(r(349));(ze&127)!==0||cE(p,s,f)}b.memoizedState=f;var S={value:f,getSnapshot:s};return b.queue=S,AE(dE.bind(null,p,S,o),[o]),p.flags|=2048,Cs(9,{destroy:void 0},fE.bind(null,p,S,f,s),null),f},useId:function(){var o=An(),s=it.identifierPrefix;if(Fe){var f=Jr,p=Wr;f=(p&~(1<<32-jt(p)-1)).toString(32)+f,s="_"+s+"R_"+f,f=_f++,0<f&&(s+="H"+f.toString(32)),s+="_"}else f=Ej++,s="_"+s+"r_"+f.toString(32)+"_";return o.memoizedState=s},useHostTransitionStatus:Qm,useFormState:SE,useActionState:SE,useOptimistic:function(o){var s=An();s.memoizedState=s.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=f,s=Zm.bind(null,Ie,!0,f),f.dispatch=s,[o,s]},useMemoCache:Fm,useCacheRefresh:function(){return An().memoizedState=Pj.bind(null,Ie)},useEffectEvent:function(o){var s=An(),f={impl:o};return s.memoizedState=f,function(){if((Ye&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},eg={readContext:sn,use:Tf,useCallback:NE,useContext:sn,useEffect:Ym,useImperativeHandle:IE,useInsertionEffect:ME,useLayoutEffect:PE,useMemo:DE,useReducer:Ef,useRef:xE,useState:function(){return Ef(wi)},useDebugValue:Wm,useDeferredValue:function(o,s){var f=At();return RE(f,et.memoizedState,o,s)},useTransition:function(){var o=Ef(wi)[0],s=At().memoizedState;return[typeof o=="boolean"?o:iu(o),s]},useSyncExternalStore:uE,useId:jE,useHostTransitionStatus:Qm,useFormState:TE,useActionState:TE,useOptimistic:function(o,s){var f=At();return mE(f,et,o,s)},useMemoCache:Fm,useCacheRefresh:qE};eg.useEffectEvent=CE;var HE={readContext:sn,use:Tf,useCallback:NE,useContext:sn,useEffect:Ym,useImperativeHandle:IE,useInsertionEffect:ME,useLayoutEffect:PE,useMemo:DE,useReducer:Gm,useRef:xE,useState:function(){return Gm(wi)},useDebugValue:Wm,useDeferredValue:function(o,s){var f=At();return et===null?Jm(f,o,s):RE(f,et.memoizedState,o,s)},useTransition:function(){var o=Gm(wi)[0],s=At().memoizedState;return[typeof o=="boolean"?o:iu(o),s]},useSyncExternalStore:uE,useId:jE,useHostTransitionStatus:Qm,useFormState:wE,useActionState:wE,useOptimistic:function(o,s){var f=At();return et!==null?mE(f,et,o,s):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:Fm,useCacheRefresh:qE};HE.useEffectEvent=CE;function tg(o,s,f,p){s=o.memoizedState,f=f(p,s),f=f==null?s:m({},s,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var ng={enqueueSetState:function(o,s,f){o=o._reactInternals;var p=er(),b=xa(p);b.payload=s,f!=null&&(b.callback=f),s=Aa(o,b,p),s!==null&&(qn(s,o,p),eu(s,o,p))},enqueueReplaceState:function(o,s,f){o=o._reactInternals;var p=er(),b=xa(p);b.tag=1,b.payload=s,f!=null&&(b.callback=f),s=Aa(o,b,p),s!==null&&(qn(s,o,p),eu(s,o,p))},enqueueForceUpdate:function(o,s){o=o._reactInternals;var f=er(),p=xa(f);p.tag=2,s!=null&&(p.callback=s),s=Aa(o,p,f),s!==null&&(qn(s,o,f),eu(s,o,f))}};function GE(o,s,f,p,b,S,M){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,S,M):s.prototype&&s.prototype.isPureReactComponent?!Vl(f,p)||!Vl(b,S):!0}function VE(o,s,f,p){o=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(f,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(f,p),s.state!==o&&ng.enqueueReplaceState(s,s.state,null)}function To(o,s){var f=s;if("ref"in s){f={};for(var p in s)p!=="ref"&&(f[p]=s[p])}if(o=o.defaultProps){f===s&&(f=m({},f));for(var b in o)f[b]===void 0&&(f[b]=o[b])}return f}function KE(o){rf(o)}function YE(o){console.error(o)}function WE(o){rf(o)}function Cf(o,s){try{var f=o.onUncaughtError;f(s.value,{componentStack:s.stack})}catch(p){setTimeout(function(){throw p})}}function JE(o,s,f){try{var p=o.onCaughtError;p(f.value,{componentStack:f.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function rg(o,s,f){return f=xa(f),f.tag=3,f.payload={element:null},f.callback=function(){Cf(o,s)},f}function XE(o){return o=xa(o),o.tag=3,o}function QE(o,s,f,p){var b=f.type.getDerivedStateFromError;if(typeof b=="function"){var S=p.value;o.payload=function(){return b(S)},o.callback=function(){JE(s,f,p)}}var M=f.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(o.callback=function(){JE(s,f,p),typeof b!="function"&&(Na===null?Na=new Set([this]):Na.add(this));var N=p.stack;this.componentDidCatch(p.value,{componentStack:N!==null?N:""})})}function Ij(o,s,f,p,b){if(f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(s=f.alternate,s!==null&&bs(s,f,b,!0),f=Jn.current,f!==null){switch(f.tag){case 31:case 13:return vr===null?qf():f.alternate===null&&Et===0&&(Et=3),f.flags&=-257,f.flags|=65536,f.lanes=b,p===pf?f.flags|=16384:(s=f.updateQueue,s===null?f.updateQueue=new Set([p]):s.add(p),Mg(o,p,b)),!1;case 22:return f.flags|=65536,p===pf?f.flags|=16384:(s=f.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([p])},f.updateQueue=s):(f=s.retryQueue,f===null?s.retryQueue=new Set([p]):f.add(p)),Mg(o,p,b)),!1}throw Error(r(435,f.tag))}return Mg(o,p,b),qf(),!1}if(Fe)return s=Jn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=b,p!==Tm&&(o=Error(r(422),{cause:p}),Wl(hr(o,f)))):(p!==Tm&&(s=Error(r(423),{cause:p}),Wl(hr(s,f))),o=o.current.alternate,o.flags|=65536,b&=-b,o.lanes|=b,p=hr(p,f),b=rg(o.stateNode,p,b),Dm(o,b),Et!==4&&(Et=2)),!1;var S=Error(r(520),{cause:p});if(S=hr(S,f),pu===null?pu=[S]:pu.push(S),Et!==4&&(Et=2),s===null)return!0;p=hr(p,f),f=s;do{switch(f.tag){case 3:return f.flags|=65536,o=b&-b,f.lanes|=o,o=rg(f.stateNode,p,o),Dm(f,o),!1;case 1:if(s=f.type,S=f.stateNode,(f.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Na===null||!Na.has(S))))return f.flags|=65536,b&=-b,f.lanes|=b,b=XE(b),QE(b,o,f,p),Dm(f,b),!1}f=f.return}while(f!==null);return!1}var ig=Error(r(461)),Dt=!1;function ln(o,s,f,p){s.child=o===null?nE(s,null,f,p):_o(s,o.child,f,p)}function ZE(o,s,f,p,b){f=f.render;var S=s.ref;if("ref"in p){var M={};for(var N in p)N!=="ref"&&(M[N]=p[N])}else M=p;return go(s),p=qm(o,s,f,M,S,b),N=zm(),o!==null&&!Dt?(Bm(o,s,b),xi(o,s,b)):(Fe&&N&&_m(s),s.flags|=1,ln(o,s,p,b),s.child)}function ew(o,s,f,p,b){if(o===null){var S=f.type;return typeof S=="function"&&!vm(S)&&S.defaultProps===void 0&&f.compare===null?(s.tag=15,s.type=S,tw(o,s,S,p,b)):(o=lf(f.type,null,p,s,s.mode,b),o.ref=s.ref,o.return=s,s.child=o)}if(S=o.child,!dg(o,b)){var M=S.memoizedProps;if(f=f.compare,f=f!==null?f:Vl,f(M,p)&&o.ref===s.ref)return xi(o,s,b)}return s.flags|=1,o=bi(S,p),o.ref=s.ref,o.return=s,s.child=o}function tw(o,s,f,p,b){if(o!==null){var S=o.memoizedProps;if(Vl(S,p)&&o.ref===s.ref)if(Dt=!1,s.pendingProps=p=S,dg(o,b))(o.flags&131072)!==0&&(Dt=!0);else return s.lanes=o.lanes,xi(o,s,b)}return ag(o,s,f,p,b)}function nw(o,s,f,p){var b=p.children,S=o!==null?o.memoizedState:null;if(o===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((s.flags&128)!==0){if(S=S!==null?S.baseLanes|f:f,o!==null){for(p=s.child=o.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;p=b&~S}else p=0,s.child=null;return rw(o,s,S,f,p)}if((f&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},o!==null&&df(s,S!==null?S.cachePool:null),S!==null?aE(s,S):km(),oE(s);else return p=s.lanes=536870912,rw(o,s,S!==null?S.baseLanes|f:f,f,p)}else S!==null?(df(s,S.cachePool),aE(s,S),Ma(),s.memoizedState=null):(o!==null&&df(s,null),km(),Ma());return ln(o,s,b,f),s.child}function su(o,s){return o!==null&&o.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function rw(o,s,f,p,b){var S=Pm();return S=S===null?null:{parent:It._currentValue,pool:S},s.memoizedState={baseLanes:f,cachePool:S},o!==null&&df(s,null),km(),oE(s),o!==null&&bs(o,s,p,!0),s.childLanes=b,null}function Mf(o,s){return s=Of({mode:s.mode,children:s.children},o.mode),s.ref=o.ref,o.child=s,s.return=o,s}function iw(o,s,f){return _o(s,o.child,null,f),o=Mf(s,s.pendingProps),o.flags|=2,Xn(s),s.memoizedState=null,o}function Nj(o,s,f){var p=s.pendingProps,b=(s.flags&128)!==0;if(s.flags&=-129,o===null){if(Fe){if(p.mode==="hidden")return o=Mf(s,p),s.lanes=536870912,su(null,o);if(Um(s),(o=st)?(o=gx(o,gr),o=o!==null&&o.data==="&"?o:null,o!==null&&(s.memoizedState={dehydrated:o,treeContext:_a!==null?{id:Wr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},f=BT(o),f.return=s,s.child=f,on=s,st=null)):o=null,o===null)throw Ta(s);return s.lanes=536870912,null}return Mf(s,p)}var S=o.memoizedState;if(S!==null){var M=S.dehydrated;if(Um(s),b)if(s.flags&256)s.flags&=-257,s=iw(o,s,f);else if(s.memoizedState!==null)s.child=o.child,s.flags|=128,s=null;else throw Error(r(558));else if(Dt||bs(o,s,f,!1),b=(f&o.childLanes)!==0,Dt||b){if(p=it,p!==null&&(M=oo(p,f),M!==0&&M!==S.retryLane))throw S.retryLane=M,fo(o,M),qn(p,o,M),ig;qf(),s=iw(o,s,f)}else o=S.treeContext,st=yr(M.nextSibling),on=s,Fe=!0,Sa=null,gr=!1,o!==null&&HT(s,o),s=Mf(s,p),s.flags|=4096;return s}return o=bi(o.child,{mode:p.mode,children:p.children}),o.ref=s.ref,s.child=o,o.return=s,o}function Pf(o,s){var f=s.ref;if(f===null)o!==null&&o.ref!==null&&(s.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(o===null||o.ref!==f)&&(s.flags|=4194816)}}function ag(o,s,f,p,b){return go(s),f=qm(o,s,f,p,void 0,b),p=zm(),o!==null&&!Dt?(Bm(o,s,b),xi(o,s,b)):(Fe&&p&&_m(s),s.flags|=1,ln(o,s,f,b),s.child)}function aw(o,s,f,p,b,S){return go(s),s.updateQueue=null,f=lE(s,p,f,b),sE(o),p=zm(),o!==null&&!Dt?(Bm(o,s,S),xi(o,s,S)):(Fe&&p&&_m(s),s.flags|=1,ln(o,s,f,S),s.child)}function ow(o,s,f,p,b){if(go(s),s.stateNode===null){var S=ms,M=f.contextType;typeof M=="object"&&M!==null&&(S=sn(M)),S=new f(p,S),s.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=ng,s.stateNode=S,S._reactInternals=s,S=s.stateNode,S.props=p,S.state=s.memoizedState,S.refs={},Im(s),M=f.contextType,S.context=typeof M=="object"&&M!==null?sn(M):ms,S.state=s.memoizedState,M=f.getDerivedStateFromProps,typeof M=="function"&&(tg(s,f,M,p),S.state=s.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(M=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),M!==S.state&&ng.enqueueReplaceState(S,S.state,null),nu(s,p,S,b),tu(),S.state=s.memoizedState),typeof S.componentDidMount=="function"&&(s.flags|=4194308),p=!0}else if(o===null){S=s.stateNode;var N=s.memoizedProps,L=To(f,N);S.props=L;var G=S.context,Z=f.contextType;M=ms,typeof Z=="object"&&Z!==null&&(M=sn(Z));var ie=f.getDerivedStateFromProps;Z=typeof ie=="function"||typeof S.getSnapshotBeforeUpdate=="function",N=s.pendingProps!==N,Z||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(N||G!==M)&&VE(s,S,p,M),wa=!1;var K=s.memoizedState;S.state=K,nu(s,p,S,b),tu(),G=s.memoizedState,N||K!==G||wa?(typeof ie=="function"&&(tg(s,f,ie,p),G=s.memoizedState),(L=wa||GE(s,f,L,p,K,G,M))?(Z||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(s.flags|=4194308)):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=G),S.props=p,S.state=G,S.context=M,p=L):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{S=s.stateNode,Nm(o,s),M=s.memoizedProps,Z=To(f,M),S.props=Z,ie=s.pendingProps,K=S.context,G=f.contextType,L=ms,typeof G=="object"&&G!==null&&(L=sn(G)),N=f.getDerivedStateFromProps,(G=typeof N=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==ie||K!==L)&&VE(s,S,p,L),wa=!1,K=s.memoizedState,S.state=K,nu(s,p,S,b),tu();var Y=s.memoizedState;M!==ie||K!==Y||wa||o!==null&&o.dependencies!==null&&cf(o.dependencies)?(typeof N=="function"&&(tg(s,f,N,p),Y=s.memoizedState),(Z=wa||GE(s,f,Z,p,K,Y,L)||o!==null&&o.dependencies!==null&&cf(o.dependencies))?(G||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,Y,L),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,Y,L)),typeof S.componentDidUpdate=="function"&&(s.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof S.componentDidUpdate!="function"||M===o.memoizedProps&&K===o.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===o.memoizedProps&&K===o.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=Y),S.props=p,S.state=Y,S.context=L,p=Z):(typeof S.componentDidUpdate!="function"||M===o.memoizedProps&&K===o.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===o.memoizedProps&&K===o.memoizedState||(s.flags|=1024),p=!1)}return S=p,Pf(o,s),p=(s.flags&128)!==0,S||p?(S=s.stateNode,f=p&&typeof f.getDerivedStateFromError!="function"?null:S.render(),s.flags|=1,o!==null&&p?(s.child=_o(s,o.child,null,b),s.child=_o(s,null,f,b)):ln(o,s,f,b),s.memoizedState=S.state,o=s.child):o=xi(o,s,b),o}function sw(o,s,f,p){return po(),s.flags|=256,ln(o,s,f,p),s.child}var og={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sg(o){return{baseLanes:o,cachePool:JT()}}function lg(o,s,f){return o=o!==null?o.childLanes&~f:0,s&&(o|=Zn),o}function lw(o,s,f){var p=s.pendingProps,b=!1,S=(s.flags&128)!==0,M;if((M=S)||(M=o!==null&&o.memoizedState===null?!1:(xt.current&2)!==0),M&&(b=!0,s.flags&=-129),M=(s.flags&32)!==0,s.flags&=-33,o===null){if(Fe){if(b?Ca(s):Ma(),(o=st)?(o=gx(o,gr),o=o!==null&&o.data!=="&"?o:null,o!==null&&(s.memoizedState={dehydrated:o,treeContext:_a!==null?{id:Wr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},f=BT(o),f.return=s,s.child=f,on=s,st=null)):o=null,o===null)throw Ta(s);return Hg(o)?s.lanes=32:s.lanes=536870912,null}var N=p.children;return p=p.fallback,b?(Ma(),b=s.mode,N=Of({mode:"hidden",children:N},b),p=ho(p,b,f,null),N.return=s,p.return=s,N.sibling=p,s.child=N,p=s.child,p.memoizedState=sg(f),p.childLanes=lg(o,M,f),s.memoizedState=og,su(null,p)):(Ca(s),ug(s,N))}var L=o.memoizedState;if(L!==null&&(N=L.dehydrated,N!==null)){if(S)s.flags&256?(Ca(s),s.flags&=-257,s=cg(o,s,f)):s.memoizedState!==null?(Ma(),s.child=o.child,s.flags|=128,s=null):(Ma(),N=p.fallback,b=s.mode,p=Of({mode:"visible",children:p.children},b),N=ho(N,b,f,null),N.flags|=2,p.return=s,N.return=s,p.sibling=N,s.child=p,_o(s,o.child,null,f),p=s.child,p.memoizedState=sg(f),p.childLanes=lg(o,M,f),s.memoizedState=og,s=su(null,p));else if(Ca(s),Hg(N)){if(M=N.nextSibling&&N.nextSibling.dataset,M)var G=M.dgst;M=G,p=Error(r(419)),p.stack="",p.digest=M,Wl({value:p,source:null,stack:null}),s=cg(o,s,f)}else if(Dt||bs(o,s,f,!1),M=(f&o.childLanes)!==0,Dt||M){if(M=it,M!==null&&(p=oo(M,f),p!==0&&p!==L.retryLane))throw L.retryLane=p,fo(o,p),qn(M,o,p),ig;Fg(N)||qf(),s=cg(o,s,f)}else Fg(N)?(s.flags|=192,s.child=o.child,s=null):(o=L.treeContext,st=yr(N.nextSibling),on=s,Fe=!0,Sa=null,gr=!1,o!==null&&HT(s,o),s=ug(s,p.children),s.flags|=4096);return s}return b?(Ma(),N=p.fallback,b=s.mode,L=o.child,G=L.sibling,p=bi(L,{mode:"hidden",children:p.children}),p.subtreeFlags=L.subtreeFlags&65011712,G!==null?N=bi(G,N):(N=ho(N,b,f,null),N.flags|=2),N.return=s,p.return=s,p.sibling=N,s.child=p,su(null,p),p=s.child,N=o.child.memoizedState,N===null?N=sg(f):(b=N.cachePool,b!==null?(L=It._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=JT(),N={baseLanes:N.baseLanes|f,cachePool:b}),p.memoizedState=N,p.childLanes=lg(o,M,f),s.memoizedState=og,su(o.child,p)):(Ca(s),f=o.child,o=f.sibling,f=bi(f,{mode:"visible",children:p.children}),f.return=s,f.sibling=null,o!==null&&(M=s.deletions,M===null?(s.deletions=[o],s.flags|=16):M.push(o)),s.child=f,s.memoizedState=null,f)}function ug(o,s){return s=Of({mode:"visible",children:s},o.mode),s.return=o,o.child=s}function Of(o,s){return o=Wn(22,o,null,s),o.lanes=0,o}function cg(o,s,f){return _o(s,o.child,null,f),o=ug(s,s.pendingProps.children),o.flags|=2,s.memoizedState=null,o}function uw(o,s,f){o.lanes|=s;var p=o.alternate;p!==null&&(p.lanes|=s),xm(o.return,s,f)}function fg(o,s,f,p,b,S){var M=o.memoizedState;M===null?o.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:f,tailMode:b,treeForkCount:S}:(M.isBackwards=s,M.rendering=null,M.renderingStartTime=0,M.last=p,M.tail=f,M.tailMode=b,M.treeForkCount=S)}function cw(o,s,f){var p=s.pendingProps,b=p.revealOrder,S=p.tail;p=p.children;var M=xt.current,N=(M&2)!==0;if(N?(M=M&1|2,s.flags|=128):M&=1,le(xt,M),ln(o,s,p,f),p=Fe?Yl:0,!N&&o!==null&&(o.flags&128)!==0)e:for(o=s.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&uw(o,f,s);else if(o.tag===19)uw(o,f,s);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(b){case"forwards":for(f=s.child,b=null;f!==null;)o=f.alternate,o!==null&&yf(o)===null&&(b=f),f=f.sibling;f=b,f===null?(b=s.child,s.child=null):(b=f.sibling,f.sibling=null),fg(s,!1,b,f,S,p);break;case"backwards":case"unstable_legacy-backwards":for(f=null,b=s.child,s.child=null;b!==null;){if(o=b.alternate,o!==null&&yf(o)===null){s.child=b;break}o=b.sibling,b.sibling=f,f=b,b=o}fg(s,!0,f,null,S,p);break;case"together":fg(s,!1,null,null,void 0,p);break;default:s.memoizedState=null}return s.child}function xi(o,s,f){if(o!==null&&(s.dependencies=o.dependencies),Ia|=s.lanes,(f&s.childLanes)===0)if(o!==null){if(bs(o,s,f,!1),(f&s.childLanes)===0)return null}else return null;if(o!==null&&s.child!==o.child)throw Error(r(153));if(s.child!==null){for(o=s.child,f=bi(o,o.pendingProps),s.child=f,f.return=s;o.sibling!==null;)o=o.sibling,f=f.sibling=bi(o,o.pendingProps),f.return=s;f.sibling=null}return s.child}function dg(o,s){return(o.lanes&s)!==0?!0:(o=o.dependencies,!!(o!==null&&cf(o)))}function Dj(o,s,f){switch(s.tag){case 3:Pe(s,s.stateNode.containerInfo),Ea(s,It,o.memoizedState.cache),po();break;case 27:case 5:xe(s);break;case 4:Pe(s,s.stateNode.containerInfo);break;case 10:Ea(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Um(s),null;break;case 13:var p=s.memoizedState;if(p!==null)return p.dehydrated!==null?(Ca(s),s.flags|=128,null):(f&s.child.childLanes)!==0?lw(o,s,f):(Ca(s),o=xi(o,s,f),o!==null?o.sibling:null);Ca(s);break;case 19:var b=(o.flags&128)!==0;if(p=(f&s.childLanes)!==0,p||(bs(o,s,f,!1),p=(f&s.childLanes)!==0),b){if(p)return cw(o,s,f);s.flags|=128}if(b=s.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),le(xt,xt.current),p)break;return null;case 22:return s.lanes=0,nw(o,s,f,s.pendingProps);case 24:Ea(s,It,o.memoizedState.cache)}return xi(o,s,f)}function fw(o,s,f){if(o!==null)if(o.memoizedProps!==s.pendingProps)Dt=!0;else{if(!dg(o,f)&&(s.flags&128)===0)return Dt=!1,Dj(o,s,f);Dt=(o.flags&131072)!==0}else Dt=!1,Fe&&(s.flags&1048576)!==0&&FT(s,Yl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var p=s.pendingProps;if(o=yo(s.elementType),s.type=o,typeof o=="function")vm(o)?(p=To(o,p),s.tag=1,s=ow(null,s,o,p,f)):(s.tag=0,s=ag(null,s,o,p,f));else{if(o!=null){var b=o.$$typeof;if(b===D){s.tag=11,s=ZE(null,s,o,p,f);break e}else if(b===k){s.tag=14,s=ew(null,s,o,p,f);break e}}throw s=pe(o)||o,Error(r(306,s,""))}}return s;case 0:return ag(o,s,s.type,s.pendingProps,f);case 1:return p=s.type,b=To(p,s.pendingProps),ow(o,s,p,b,f);case 3:e:{if(Pe(s,s.stateNode.containerInfo),o===null)throw Error(r(387));p=s.pendingProps;var S=s.memoizedState;b=S.element,Nm(o,s),nu(s,p,null,f);var M=s.memoizedState;if(p=M.cache,Ea(s,It,p),p!==S.cache&&Am(s,[It],f,!0),tu(),p=M.element,S.isDehydrated)if(S={element:p,isDehydrated:!1,cache:M.cache},s.updateQueue.baseState=S,s.memoizedState=S,s.flags&256){s=sw(o,s,p,f);break e}else if(p!==b){b=hr(Error(r(424)),s),Wl(b),s=sw(o,s,p,f);break e}else{switch(o=s.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(st=yr(o.firstChild),on=s,Fe=!0,Sa=null,gr=!0,f=nE(s,null,p,f),s.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(po(),p===b){s=xi(o,s,f);break e}ln(o,s,p,f)}s=s.child}return s;case 26:return Pf(o,s),o===null?(f=Tx(s.type,null,s.pendingProps,null))?s.memoizedState=f:Fe||(f=s.type,o=s.pendingProps,p=Vf(fe.current).createElement(f),p[an]=s,p[Dn]=o,un(p,f,o),Yt(p),s.stateNode=p):s.memoizedState=Tx(s.type,o.memoizedProps,s.pendingProps,o.memoizedState),null;case 27:return xe(s),o===null&&Fe&&(p=s.stateNode=bx(s.type,s.pendingProps,fe.current),on=s,gr=!0,b=st,La(s.type)?(Gg=b,st=yr(p.firstChild)):st=b),ln(o,s,s.pendingProps.children,f),Pf(o,s),o===null&&(s.flags|=4194304),s.child;case 5:return o===null&&Fe&&((b=p=st)&&(p=uq(p,s.type,s.pendingProps,gr),p!==null?(s.stateNode=p,on=s,st=yr(p.firstChild),gr=!1,b=!0):b=!1),b||Ta(s)),xe(s),b=s.type,S=s.pendingProps,M=o!==null?o.memoizedProps:null,p=S.children,zg(b,S)?p=null:M!==null&&zg(b,M)&&(s.flags|=32),s.memoizedState!==null&&(b=qm(o,s,wj,null,null,f),Tu._currentValue=b),Pf(o,s),ln(o,s,p,f),s.child;case 6:return o===null&&Fe&&((o=f=st)&&(f=cq(f,s.pendingProps,gr),f!==null?(s.stateNode=f,on=s,st=null,o=!0):o=!1),o||Ta(s)),null;case 13:return lw(o,s,f);case 4:return Pe(s,s.stateNode.containerInfo),p=s.pendingProps,o===null?s.child=_o(s,null,p,f):ln(o,s,p,f),s.child;case 11:return ZE(o,s,s.type,s.pendingProps,f);case 7:return ln(o,s,s.pendingProps,f),s.child;case 8:return ln(o,s,s.pendingProps.children,f),s.child;case 12:return ln(o,s,s.pendingProps.children,f),s.child;case 10:return p=s.pendingProps,Ea(s,s.type,p.value),ln(o,s,p.children,f),s.child;case 9:return b=s.type._context,p=s.pendingProps.children,go(s),b=sn(b),p=p(b),s.flags|=1,ln(o,s,p,f),s.child;case 14:return ew(o,s,s.type,s.pendingProps,f);case 15:return tw(o,s,s.type,s.pendingProps,f);case 19:return cw(o,s,f);case 31:return Nj(o,s,f);case 22:return nw(o,s,f,s.pendingProps);case 24:return go(s),p=sn(It),o===null?(b=Pm(),b===null&&(b=it,S=Cm(),b.pooledCache=S,S.refCount++,S!==null&&(b.pooledCacheLanes|=f),b=S),s.memoizedState={parent:p,cache:b},Im(s),Ea(s,It,b)):((o.lanes&f)!==0&&(Nm(o,s),nu(s,null,null,f),tu()),b=o.memoizedState,S=s.memoizedState,b.parent!==p?(b={parent:p,cache:p},s.memoizedState=b,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=b),Ea(s,It,p)):(p=S.cache,Ea(s,It,p),p!==b.cache&&Am(s,[It],f,!0))),ln(o,s,s.pendingProps.children,f),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ai(o){o.flags|=4}function hg(o,s,f,p,b){if((s=(o.mode&32)!==0)&&(s=!1),s){if(o.flags|=16777216,(b&335544128)===b)if(o.stateNode.complete)o.flags|=8192;else if(jw())o.flags|=8192;else throw bo=pf,Om}else o.flags&=-16777217}function dw(o,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!Cx(s))if(jw())o.flags|=8192;else throw bo=pf,Om}function If(o,s){s!==null&&(o.flags|=4),o.flags&16384&&(s=o.tag!==22?rt():536870912,o.lanes|=s,Is|=s)}function lu(o,s){if(!Fe)switch(o.tailMode){case"hidden":s=o.tail;for(var f=null;s!==null;)s.alternate!==null&&(f=s),s=s.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?s||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function lt(o){var s=o.alternate!==null&&o.alternate.child===o.child,f=0,p=0;if(s)for(var b=o.child;b!==null;)f|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=o,b=b.sibling;else for(b=o.child;b!==null;)f|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=o,b=b.sibling;return o.subtreeFlags|=p,o.childLanes=f,s}function Rj(o,s,f){var p=s.pendingProps;switch(Sm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(s),null;case 1:return lt(s),null;case 3:return f=s.stateNode,p=null,o!==null&&(p=o.memoizedState.cache),s.memoizedState.cache!==p&&(s.flags|=2048),Ti(It),Q(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(ys(s)?Ai(s):o===null||o.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Em())),lt(s),null;case 26:var b=s.type,S=s.memoizedState;return o===null?(Ai(s),S!==null?(lt(s),dw(s,S)):(lt(s),hg(s,b,null,p,f))):S?S!==o.memoizedState?(Ai(s),lt(s),dw(s,S)):(lt(s),s.flags&=-16777217):(o=o.memoizedProps,o!==p&&Ai(s),lt(s),hg(s,b,o,p,f)),null;case 27:if(Oe(s),f=fe.current,b=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==p&&Ai(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return lt(s),null}o=ce.current,ys(s)?GT(s):(o=bx(b,p,f),s.stateNode=o,Ai(s))}return lt(s),null;case 5:if(Oe(s),b=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==p&&Ai(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return lt(s),null}if(S=ce.current,ys(s))GT(s);else{var M=Vf(fe.current);switch(S){case 1:S=M.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:S=M.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":S=M.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":S=M.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":S=M.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof p.is=="string"?M.createElement("select",{is:p.is}):M.createElement("select"),p.multiple?S.multiple=!0:p.size&&(S.size=p.size);break;default:S=typeof p.is=="string"?M.createElement(b,{is:p.is}):M.createElement(b)}}S[an]=s,S[Dn]=p;e:for(M=s.child;M!==null;){if(M.tag===5||M.tag===6)S.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===s)break e;for(;M.sibling===null;){if(M.return===null||M.return===s)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}s.stateNode=S;e:switch(un(S,b,p),b){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Ai(s)}}return lt(s),hg(s,s.type,o===null?null:o.memoizedProps,s.pendingProps,f),null;case 6:if(o&&s.stateNode!=null)o.memoizedProps!==p&&Ai(s);else{if(typeof p!="string"&&s.stateNode===null)throw Error(r(166));if(o=fe.current,ys(s)){if(o=s.stateNode,f=s.memoizedProps,p=null,b=on,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}o[an]=s,o=!!(o.nodeValue===f||p!==null&&p.suppressHydrationWarning===!0||lx(o.nodeValue,f)),o||Ta(s,!0)}else o=Vf(o).createTextNode(p),o[an]=s,s.stateNode=o}return lt(s),null;case 31:if(f=s.memoizedState,o===null||o.memoizedState!==null){if(p=ys(s),f!==null){if(o===null){if(!p)throw Error(r(318));if(o=s.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[an]=s}else po(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;lt(s),o=!1}else f=Em(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=f),o=!0;if(!o)return s.flags&256?(Xn(s),s):(Xn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return lt(s),null;case 13:if(p=s.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(b=ys(s),p!==null&&p.dehydrated!==null){if(o===null){if(!b)throw Error(r(318));if(b=s.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[an]=s}else po(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;lt(s),b=!1}else b=Em(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=b),b=!0;if(!b)return s.flags&256?(Xn(s),s):(Xn(s),null)}return Xn(s),(s.flags&128)!==0?(s.lanes=f,s):(f=p!==null,o=o!==null&&o.memoizedState!==null,f&&(p=s.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool),S=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),S!==b&&(p.flags|=2048)),f!==o&&f&&(s.child.flags|=8192),If(s,s.updateQueue),lt(s),null);case 4:return Q(),o===null&&kg(s.stateNode.containerInfo),lt(s),null;case 10:return Ti(s.type),lt(s),null;case 19:if(W(xt),p=s.memoizedState,p===null)return lt(s),null;if(b=(s.flags&128)!==0,S=p.rendering,S===null)if(b)lu(p,!1);else{if(Et!==0||o!==null&&(o.flags&128)!==0)for(o=s.child;o!==null;){if(S=yf(o),S!==null){for(s.flags|=128,lu(p,!1),o=S.updateQueue,s.updateQueue=o,If(s,o),s.subtreeFlags=0,o=f,f=s.child;f!==null;)zT(f,o),f=f.sibling;return le(xt,xt.current&1|2),Fe&&_i(s,p.treeForkCount),s.child}o=o.sibling}p.tail!==null&&yt()>Lf&&(s.flags|=128,b=!0,lu(p,!1),s.lanes=4194304)}else{if(!b)if(o=yf(S),o!==null){if(s.flags|=128,b=!0,o=o.updateQueue,s.updateQueue=o,If(s,o),lu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!S.alternate&&!Fe)return lt(s),null}else 2*yt()-p.renderingStartTime>Lf&&f!==536870912&&(s.flags|=128,b=!0,lu(p,!1),s.lanes=4194304);p.isBackwards?(S.sibling=s.child,s.child=S):(o=p.last,o!==null?o.sibling=S:s.child=S,p.last=S)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=yt(),o.sibling=null,f=xt.current,le(xt,b?f&1|2:f&1),Fe&&_i(s,p.treeForkCount),o):(lt(s),null);case 22:case 23:return Xn(s),Lm(),p=s.memoizedState!==null,o!==null?o.memoizedState!==null!==p&&(s.flags|=8192):p&&(s.flags|=8192),p?(f&536870912)!==0&&(s.flags&128)===0&&(lt(s),s.subtreeFlags&6&&(s.flags|=8192)):lt(s),f=s.updateQueue,f!==null&&If(s,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==f&&(s.flags|=2048),o!==null&&W(vo),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),Ti(It),lt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function kj(o,s){switch(Sm(s),s.tag){case 1:return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 3:return Ti(It),Q(),o=s.flags,(o&65536)!==0&&(o&128)===0?(s.flags=o&-65537|128,s):null;case 26:case 27:case 5:return Oe(s),null;case 31:if(s.memoizedState!==null){if(Xn(s),s.alternate===null)throw Error(r(340));po()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 13:if(Xn(s),o=s.memoizedState,o!==null&&o.dehydrated!==null){if(s.alternate===null)throw Error(r(340));po()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 19:return W(xt),null;case 4:return Q(),null;case 10:return Ti(s.type),null;case 22:case 23:return Xn(s),Lm(),o!==null&&W(vo),o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 24:return Ti(It),null;case 25:return null;default:return null}}function hw(o,s){switch(Sm(s),s.tag){case 3:Ti(It),Q();break;case 26:case 27:case 5:Oe(s);break;case 4:Q();break;case 31:s.memoizedState!==null&&Xn(s);break;case 13:Xn(s);break;case 19:W(xt);break;case 10:Ti(s.type);break;case 22:case 23:Xn(s),Lm(),o!==null&&W(vo);break;case 24:Ti(It)}}function uu(o,s){try{var f=s.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var b=p.next;f=b;do{if((f.tag&o)===o){p=void 0;var S=f.create,M=f.inst;p=S(),M.destroy=p}f=f.next}while(f!==b)}}catch(N){Xe(s,s.return,N)}}function Pa(o,s,f){try{var p=s.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var S=b.next;p=S;do{if((p.tag&o)===o){var M=p.inst,N=M.destroy;if(N!==void 0){M.destroy=void 0,b=s;var L=f,G=N;try{G()}catch(Z){Xe(b,L,Z)}}}p=p.next}while(p!==S)}}catch(Z){Xe(s,s.return,Z)}}function pw(o){var s=o.updateQueue;if(s!==null){var f=o.stateNode;try{iE(s,f)}catch(p){Xe(o,o.return,p)}}}function mw(o,s,f){f.props=To(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(p){Xe(o,s,p)}}function cu(o,s){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var p=o.stateNode;break;case 30:p=o.stateNode;break;default:p=o.stateNode}typeof f=="function"?o.refCleanup=f(p):f.current=p}}catch(b){Xe(o,s,b)}}function Xr(o,s){var f=o.ref,p=o.refCleanup;if(f!==null)if(typeof p=="function")try{p()}catch(b){Xe(o,s,b)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(b){Xe(o,s,b)}else f.current=null}function gw(o){var s=o.type,f=o.memoizedProps,p=o.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":f.autoFocus&&p.focus();break e;case"img":f.src?p.src=f.src:f.srcSet&&(p.srcset=f.srcSet)}}catch(b){Xe(o,o.return,b)}}function pg(o,s,f){try{var p=o.stateNode;rq(p,o.type,f,s),p[Dn]=s}catch(b){Xe(o,o.return,b)}}function vw(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&La(o.type)||o.tag===4}function mg(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||vw(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&La(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function gg(o,s,f){var p=o.tag;if(p===5||p===6)o=o.stateNode,s?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,s):(s=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,s.appendChild(o),f=f._reactRootContainer,f!=null||s.onclick!==null||(s.onclick=vi));else if(p!==4&&(p===27&&La(o.type)&&(f=o.stateNode,s=null),o=o.child,o!==null))for(gg(o,s,f),o=o.sibling;o!==null;)gg(o,s,f),o=o.sibling}function Nf(o,s,f){var p=o.tag;if(p===5||p===6)o=o.stateNode,s?f.insertBefore(o,s):f.appendChild(o);else if(p!==4&&(p===27&&La(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(Nf(o,s,f),o=o.sibling;o!==null;)Nf(o,s,f),o=o.sibling}function yw(o){var s=o.stateNode,f=o.memoizedProps;try{for(var p=o.type,b=s.attributes;b.length;)s.removeAttributeNode(b[0]);un(s,p,f),s[an]=o,s[Dn]=f}catch(S){Xe(o,o.return,S)}}var Ci=!1,Rt=!1,vg=!1,bw=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function Lj(o,s){if(o=o.containerInfo,jg=Zf,o=IT(o),cm(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var p=f.getSelection&&f.getSelection();if(p&&p.rangeCount!==0){f=p.anchorNode;var b=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var M=0,N=-1,L=-1,G=0,Z=0,ie=o,K=null;t:for(;;){for(var Y;ie!==f||b!==0&&ie.nodeType!==3||(N=M+b),ie!==S||p!==0&&ie.nodeType!==3||(L=M+p),ie.nodeType===3&&(M+=ie.nodeValue.length),(Y=ie.firstChild)!==null;)K=ie,ie=Y;for(;;){if(ie===o)break t;if(K===f&&++G===b&&(N=M),K===S&&++Z===p&&(L=M),(Y=ie.nextSibling)!==null)break;ie=K,K=ie.parentNode}ie=Y}f=N===-1||L===-1?null:{start:N,end:L}}else f=null}f=f||{start:0,end:0}}else f=null;for(qg={focusedElem:o,selectionRange:f},Zf=!1,Wt=s;Wt!==null;)if(s=Wt,o=s.child,(s.subtreeFlags&1028)!==0&&o!==null)o.return=s,Wt=o;else for(;Wt!==null;){switch(s=Wt,S=s.alternate,o=s.flags,s.tag){case 0:if((o&4)!==0&&(o=s.updateQueue,o=o!==null?o.events:null,o!==null))for(f=0;f<o.length;f++)b=o[f],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&S!==null){o=void 0,f=s,b=S.memoizedProps,S=S.memoizedState,p=f.stateNode;try{var ge=To(f.type,b);o=p.getSnapshotBeforeUpdate(ge,S),p.__reactInternalSnapshotBeforeUpdate=o}catch(Ae){Xe(f,f.return,Ae)}}break;case 3:if((o&1024)!==0){if(o=s.stateNode.containerInfo,f=o.nodeType,f===9)$g(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":$g(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=s.sibling,o!==null){o.return=s.return,Wt=o;break}Wt=s.return}}function _w(o,s,f){var p=f.flags;switch(f.tag){case 0:case 11:case 15:Pi(o,f),p&4&&uu(5,f);break;case 1:if(Pi(o,f),p&4)if(o=f.stateNode,s===null)try{o.componentDidMount()}catch(M){Xe(f,f.return,M)}else{var b=To(f.type,s.memoizedProps);s=s.memoizedState;try{o.componentDidUpdate(b,s,o.__reactInternalSnapshotBeforeUpdate)}catch(M){Xe(f,f.return,M)}}p&64&&pw(f),p&512&&cu(f,f.return);break;case 3:if(Pi(o,f),p&64&&(o=f.updateQueue,o!==null)){if(s=null,f.child!==null)switch(f.child.tag){case 27:case 5:s=f.child.stateNode;break;case 1:s=f.child.stateNode}try{iE(o,s)}catch(M){Xe(f,f.return,M)}}break;case 27:s===null&&p&4&&yw(f);case 26:case 5:Pi(o,f),s===null&&p&4&&gw(f),p&512&&cu(f,f.return);break;case 12:Pi(o,f);break;case 31:Pi(o,f),p&4&&Ew(o,f);break;case 13:Pi(o,f),p&4&&ww(o,f),p&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=Gj.bind(null,f),fq(o,f))));break;case 22:if(p=f.memoizedState!==null||Ci,!p){s=s!==null&&s.memoizedState!==null||Rt,b=Ci;var S=Rt;Ci=p,(Rt=s)&&!S?Oi(o,f,(f.subtreeFlags&8772)!==0):Pi(o,f),Ci=b,Rt=S}break;case 30:break;default:Pi(o,f)}}function Sw(o){var s=o.alternate;s!==null&&(o.alternate=null,Sw(s)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(s=o.stateNode,s!==null&&Kp(s)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var pt=null,kn=!1;function Mi(o,s,f){for(f=f.child;f!==null;)Tw(o,s,f),f=f.sibling}function Tw(o,s,f){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(hi,f)}catch{}switch(f.tag){case 26:Rt||Xr(f,s),Mi(o,s,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Rt||Xr(f,s);var p=pt,b=kn;La(f.type)&&(pt=f.stateNode,kn=!1),Mi(o,s,f),bu(f.stateNode),pt=p,kn=b;break;case 5:Rt||Xr(f,s);case 6:if(p=pt,b=kn,pt=null,Mi(o,s,f),pt=p,kn=b,pt!==null)if(kn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(f.stateNode)}catch(S){Xe(f,s,S)}else try{pt.removeChild(f.stateNode)}catch(S){Xe(f,s,S)}break;case 18:pt!==null&&(kn?(o=pt,px(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),qs(o)):px(pt,f.stateNode));break;case 4:p=pt,b=kn,pt=f.stateNode.containerInfo,kn=!0,Mi(o,s,f),pt=p,kn=b;break;case 0:case 11:case 14:case 15:Pa(2,f,s),Rt||Pa(4,f,s),Mi(o,s,f);break;case 1:Rt||(Xr(f,s),p=f.stateNode,typeof p.componentWillUnmount=="function"&&mw(f,s,p)),Mi(o,s,f);break;case 21:Mi(o,s,f);break;case 22:Rt=(p=Rt)||f.memoizedState!==null,Mi(o,s,f),Rt=p;break;default:Mi(o,s,f)}}function Ew(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{qs(o)}catch(f){Xe(s,s.return,f)}}}function ww(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{qs(o)}catch(f){Xe(s,s.return,f)}}function Uj(o){switch(o.tag){case 31:case 13:case 19:var s=o.stateNode;return s===null&&(s=o.stateNode=new bw),s;case 22:return o=o.stateNode,s=o._retryCache,s===null&&(s=o._retryCache=new bw),s;default:throw Error(r(435,o.tag))}}function Df(o,s){var f=Uj(o);s.forEach(function(p){if(!f.has(p)){f.add(p);var b=Vj.bind(null,o,p);p.then(b,b)}})}function Ln(o,s){var f=s.deletions;if(f!==null)for(var p=0;p<f.length;p++){var b=f[p],S=o,M=s,N=M;e:for(;N!==null;){switch(N.tag){case 27:if(La(N.type)){pt=N.stateNode,kn=!1;break e}break;case 5:pt=N.stateNode,kn=!1;break e;case 3:case 4:pt=N.stateNode.containerInfo,kn=!0;break e}N=N.return}if(pt===null)throw Error(r(160));Tw(S,M,b),pt=null,kn=!1,S=b.alternate,S!==null&&(S.return=null),b.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)xw(s,o),s=s.sibling}var Lr=null;function xw(o,s){var f=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Ln(s,o),Un(o),p&4&&(Pa(3,o,o.return),uu(3,o),Pa(5,o,o.return));break;case 1:Ln(s,o),Un(o),p&512&&(Rt||f===null||Xr(f,f.return)),p&64&&Ci&&(o=o.updateQueue,o!==null&&(p=o.callbacks,p!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?p:f.concat(p))));break;case 26:var b=Lr;if(Ln(s,o),Un(o),p&512&&(Rt||f===null||Xr(f,f.return)),p&4){var S=f!==null?f.memoizedState:null;if(p=o.memoizedState,f===null)if(p===null)if(o.stateNode===null){e:{p=o.type,f=o.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":S=b.getElementsByTagName("title")[0],(!S||S[Ul]||S[an]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=b.createElement(p),b.head.insertBefore(S,b.querySelector("head > title"))),un(S,p,f),S[an]=o,Yt(S),p=S;break e;case"link":var M=xx("link","href",b).get(p+(f.href||""));if(M){for(var N=0;N<M.length;N++)if(S=M[N],S.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&S.getAttribute("rel")===(f.rel==null?null:f.rel)&&S.getAttribute("title")===(f.title==null?null:f.title)&&S.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){M.splice(N,1);break t}}S=b.createElement(p),un(S,p,f),b.head.appendChild(S);break;case"meta":if(M=xx("meta","content",b).get(p+(f.content||""))){for(N=0;N<M.length;N++)if(S=M[N],S.getAttribute("content")===(f.content==null?null:""+f.content)&&S.getAttribute("name")===(f.name==null?null:f.name)&&S.getAttribute("property")===(f.property==null?null:f.property)&&S.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&S.getAttribute("charset")===(f.charSet==null?null:f.charSet)){M.splice(N,1);break t}}S=b.createElement(p),un(S,p,f),b.head.appendChild(S);break;default:throw Error(r(468,p))}S[an]=o,Yt(S),p=S}o.stateNode=p}else Ax(b,o.type,o.stateNode);else o.stateNode=wx(b,p,o.memoizedProps);else S!==p?(S===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):S.count--,p===null?Ax(b,o.type,o.stateNode):wx(b,p,o.memoizedProps)):p===null&&o.stateNode!==null&&pg(o,o.memoizedProps,f.memoizedProps)}break;case 27:Ln(s,o),Un(o),p&512&&(Rt||f===null||Xr(f,f.return)),f!==null&&p&4&&pg(o,o.memoizedProps,f.memoizedProps);break;case 5:if(Ln(s,o),Un(o),p&512&&(Rt||f===null||Xr(f,f.return)),o.flags&32){b=o.stateNode;try{ls(b,"")}catch(ge){Xe(o,o.return,ge)}}p&4&&o.stateNode!=null&&(b=o.memoizedProps,pg(o,b,f!==null?f.memoizedProps:b)),p&1024&&(vg=!0);break;case 6:if(Ln(s,o),Un(o),p&4){if(o.stateNode===null)throw Error(r(162));p=o.memoizedProps,f=o.stateNode;try{f.nodeValue=p}catch(ge){Xe(o,o.return,ge)}}break;case 3:if(Wf=null,b=Lr,Lr=Kf(s.containerInfo),Ln(s,o),Lr=b,Un(o),p&4&&f!==null&&f.memoizedState.isDehydrated)try{qs(s.containerInfo)}catch(ge){Xe(o,o.return,ge)}vg&&(vg=!1,Aw(o));break;case 4:p=Lr,Lr=Kf(o.stateNode.containerInfo),Ln(s,o),Un(o),Lr=p;break;case 12:Ln(s,o),Un(o);break;case 31:Ln(s,o),Un(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Df(o,p)));break;case 13:Ln(s,o),Un(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(kf=yt()),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Df(o,p)));break;case 22:b=o.memoizedState!==null;var L=f!==null&&f.memoizedState!==null,G=Ci,Z=Rt;if(Ci=G||b,Rt=Z||L,Ln(s,o),Rt=Z,Ci=G,Un(o),p&8192)e:for(s=o.stateNode,s._visibility=b?s._visibility&-2:s._visibility|1,b&&(f===null||L||Ci||Rt||Eo(o)),f=null,s=o;;){if(s.tag===5||s.tag===26){if(f===null){L=f=s;try{if(S=L.stateNode,b)M=S.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{N=L.stateNode;var ie=L.memoizedProps.style,K=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;N.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ge){Xe(L,L.return,ge)}}}else if(s.tag===6){if(f===null){L=s;try{L.stateNode.nodeValue=b?"":L.memoizedProps}catch(ge){Xe(L,L.return,ge)}}}else if(s.tag===18){if(f===null){L=s;try{var Y=L.stateNode;b?mx(Y,!0):mx(L.stateNode,!1)}catch(ge){Xe(L,L.return,ge)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===o)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;f===s&&(f=null),s=s.return}f===s&&(f=null),s.sibling.return=s.return,s=s.sibling}p&4&&(p=o.updateQueue,p!==null&&(f=p.retryQueue,f!==null&&(p.retryQueue=null,Df(o,f))));break;case 19:Ln(s,o),Un(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Df(o,p)));break;case 30:break;case 21:break;default:Ln(s,o),Un(o)}}function Un(o){var s=o.flags;if(s&2){try{for(var f,p=o.return;p!==null;){if(vw(p)){f=p;break}p=p.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var b=f.stateNode,S=mg(o);Nf(o,S,b);break;case 5:var M=f.stateNode;f.flags&32&&(ls(M,""),f.flags&=-33);var N=mg(o);Nf(o,N,M);break;case 3:case 4:var L=f.stateNode.containerInfo,G=mg(o);gg(o,G,L);break;default:throw Error(r(161))}}catch(Z){Xe(o,o.return,Z)}o.flags&=-3}s&4096&&(o.flags&=-4097)}function Aw(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var s=o;Aw(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),o=o.sibling}}function Pi(o,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)_w(o,s.alternate,s),s=s.sibling}function Eo(o){for(o=o.child;o!==null;){var s=o;switch(s.tag){case 0:case 11:case 14:case 15:Pa(4,s,s.return),Eo(s);break;case 1:Xr(s,s.return);var f=s.stateNode;typeof f.componentWillUnmount=="function"&&mw(s,s.return,f),Eo(s);break;case 27:bu(s.stateNode);case 26:case 5:Xr(s,s.return),Eo(s);break;case 22:s.memoizedState===null&&Eo(s);break;case 30:Eo(s);break;default:Eo(s)}o=o.sibling}}function Oi(o,s,f){for(f=f&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var p=s.alternate,b=o,S=s,M=S.flags;switch(S.tag){case 0:case 11:case 15:Oi(b,S,f),uu(4,S);break;case 1:if(Oi(b,S,f),p=S,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(G){Xe(p,p.return,G)}if(p=S,b=p.updateQueue,b!==null){var N=p.stateNode;try{var L=b.shared.hiddenCallbacks;if(L!==null)for(b.shared.hiddenCallbacks=null,b=0;b<L.length;b++)rE(L[b],N)}catch(G){Xe(p,p.return,G)}}f&&M&64&&pw(S),cu(S,S.return);break;case 27:yw(S);case 26:case 5:Oi(b,S,f),f&&p===null&&M&4&&gw(S),cu(S,S.return);break;case 12:Oi(b,S,f);break;case 31:Oi(b,S,f),f&&M&4&&Ew(b,S);break;case 13:Oi(b,S,f),f&&M&4&&ww(b,S);break;case 22:S.memoizedState===null&&Oi(b,S,f),cu(S,S.return);break;case 30:break;default:Oi(b,S,f)}s=s.sibling}}function yg(o,s){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&Jl(f))}function bg(o,s){o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&Jl(o))}function Ur(o,s,f,p){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Cw(o,s,f,p),s=s.sibling}function Cw(o,s,f,p){var b=s.flags;switch(s.tag){case 0:case 11:case 15:Ur(o,s,f,p),b&2048&&uu(9,s);break;case 1:Ur(o,s,f,p);break;case 3:Ur(o,s,f,p),b&2048&&(o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&Jl(o)));break;case 12:if(b&2048){Ur(o,s,f,p),o=s.stateNode;try{var S=s.memoizedProps,M=S.id,N=S.onPostCommit;typeof N=="function"&&N(M,s.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(L){Xe(s,s.return,L)}}else Ur(o,s,f,p);break;case 31:Ur(o,s,f,p);break;case 13:Ur(o,s,f,p);break;case 23:break;case 22:S=s.stateNode,M=s.alternate,s.memoizedState!==null?S._visibility&2?Ur(o,s,f,p):fu(o,s):S._visibility&2?Ur(o,s,f,p):(S._visibility|=2,Ms(o,s,f,p,(s.subtreeFlags&10256)!==0||!1)),b&2048&&yg(M,s);break;case 24:Ur(o,s,f,p),b&2048&&bg(s.alternate,s);break;default:Ur(o,s,f,p)}}function Ms(o,s,f,p,b){for(b=b&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var S=o,M=s,N=f,L=p,G=M.flags;switch(M.tag){case 0:case 11:case 15:Ms(S,M,N,L,b),uu(8,M);break;case 23:break;case 22:var Z=M.stateNode;M.memoizedState!==null?Z._visibility&2?Ms(S,M,N,L,b):fu(S,M):(Z._visibility|=2,Ms(S,M,N,L,b)),b&&G&2048&&yg(M.alternate,M);break;case 24:Ms(S,M,N,L,b),b&&G&2048&&bg(M.alternate,M);break;default:Ms(S,M,N,L,b)}s=s.sibling}}function fu(o,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var f=o,p=s,b=p.flags;switch(p.tag){case 22:fu(f,p),b&2048&&yg(p.alternate,p);break;case 24:fu(f,p),b&2048&&bg(p.alternate,p);break;default:fu(f,p)}s=s.sibling}}var du=8192;function Ps(o,s,f){if(o.subtreeFlags&du)for(o=o.child;o!==null;)Mw(o,s,f),o=o.sibling}function Mw(o,s,f){switch(o.tag){case 26:Ps(o,s,f),o.flags&du&&o.memoizedState!==null&&Eq(f,Lr,o.memoizedState,o.memoizedProps);break;case 5:Ps(o,s,f);break;case 3:case 4:var p=Lr;Lr=Kf(o.stateNode.containerInfo),Ps(o,s,f),Lr=p;break;case 22:o.memoizedState===null&&(p=o.alternate,p!==null&&p.memoizedState!==null?(p=du,du=16777216,Ps(o,s,f),du=p):Ps(o,s,f));break;default:Ps(o,s,f)}}function Pw(o){var s=o.alternate;if(s!==null&&(o=s.child,o!==null)){s.child=null;do s=o.sibling,o.sibling=null,o=s;while(o!==null)}}function hu(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var f=0;f<s.length;f++){var p=s[f];Wt=p,Iw(p,o)}Pw(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Ow(o),o=o.sibling}function Ow(o){switch(o.tag){case 0:case 11:case 15:hu(o),o.flags&2048&&Pa(9,o,o.return);break;case 3:hu(o);break;case 12:hu(o);break;case 22:var s=o.stateNode;o.memoizedState!==null&&s._visibility&2&&(o.return===null||o.return.tag!==13)?(s._visibility&=-3,Rf(o)):hu(o);break;default:hu(o)}}function Rf(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var f=0;f<s.length;f++){var p=s[f];Wt=p,Iw(p,o)}Pw(o)}for(o=o.child;o!==null;){switch(s=o,s.tag){case 0:case 11:case 15:Pa(8,s,s.return),Rf(s);break;case 22:f=s.stateNode,f._visibility&2&&(f._visibility&=-3,Rf(s));break;default:Rf(s)}o=o.sibling}}function Iw(o,s){for(;Wt!==null;){var f=Wt;switch(f.tag){case 0:case 11:case 15:Pa(8,f,s);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var p=f.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Jl(f.memoizedState.cache)}if(p=f.child,p!==null)p.return=f,Wt=p;else e:for(f=o;Wt!==null;){p=Wt;var b=p.sibling,S=p.return;if(Sw(p),p===f){Wt=null;break e}if(b!==null){b.return=S,Wt=b;break e}Wt=S}}}var jj={getCacheForType:function(o){var s=sn(It),f=s.data.get(o);return f===void 0&&(f=o(),s.data.set(o,f)),f},cacheSignal:function(){return sn(It).controller.signal}},qj=typeof WeakMap=="function"?WeakMap:Map,Ye=0,it=null,Ue=null,ze=0,Je=0,Qn=null,Oa=!1,Os=!1,_g=!1,Ii=0,Et=0,Ia=0,wo=0,Sg=0,Zn=0,Is=0,pu=null,jn=null,Tg=!1,kf=0,Nw=0,Lf=1/0,Uf=null,Na=null,qt=0,Da=null,Ns=null,Ni=0,Eg=0,wg=null,Dw=null,mu=0,xg=null;function er(){return(Ye&2)!==0&&ze!==0?ze&-ze:B.T!==null?Ig():WS()}function Rw(){if(Zn===0)if((ze&536870912)===0||Fe){var o=ur;ur<<=1,(ur&3932160)===0&&(ur=262144),Zn=o}else Zn=536870912;return o=Jn.current,o!==null&&(o.flags|=32),Zn}function qn(o,s,f){(o===it&&(Je===2||Je===9)||o.cancelPendingCommit!==null)&&(Ds(o,0),Ra(o,ze,Zn,!1)),Rr(o,f),((Ye&2)===0||o!==it)&&(o===it&&((Ye&2)===0&&(wo|=f),Et===4&&Ra(o,ze,Zn,!1)),Qr(o))}function kw(o,s,f){if((Ye&6)!==0)throw Error(r(327));var p=!f&&(s&127)===0&&(s&o.expiredLanes)===0||Ne(o,s),b=p?$j(o,s):Cg(o,s,!0),S=p;do{if(b===0){Os&&!p&&Ra(o,s,0,!1);break}else{if(f=o.current.alternate,S&&!zj(f)){b=Cg(o,s,!1),S=!1;continue}if(b===2){if(S=s,o.errorRecoveryDisabledLanes&S)var M=0;else M=o.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){s=M;e:{var N=o;b=pu;var L=N.current.memoizedState.isDehydrated;if(L&&(Ds(N,M).flags|=256),M=Cg(N,M,!1),M!==2){if(_g&&!L){N.errorRecoveryDisabledLanes|=S,wo|=S,b=4;break e}S=jn,jn=b,S!==null&&(jn===null?jn=S:jn.push.apply(jn,S))}b=M}if(S=!1,b!==2)continue}}if(b===1){Ds(o,0),Ra(o,s,0,!0);break}e:{switch(p=o,S=b,S){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ra(p,s,Zn,!Oa);break e;case 2:jn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(b=kf+300-yt(),10<b)){if(Ra(p,s,Zn,!Oa),Se(p,0,!0)!==0)break e;Ni=s,p.timeoutHandle=dx(Lw.bind(null,p,f,jn,Uf,Tg,s,Zn,wo,Is,Oa,S,"Throttled",-0,0),b);break e}Lw(p,f,jn,Uf,Tg,s,Zn,wo,Is,Oa,S,null,-0,0)}}break}while(!0);Qr(o)}function Lw(o,s,f,p,b,S,M,N,L,G,Z,ie,K,Y){if(o.timeoutHandle=-1,ie=s.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vi},Mw(s,S,ie);var ge=(S&62914560)===S?kf-yt():(S&4194048)===S?Nw-yt():0;if(ge=wq(ie,ge),ge!==null){Ni=S,o.cancelPendingCommit=ge(Hw.bind(null,o,s,S,f,p,b,M,N,L,Z,ie,null,K,Y)),Ra(o,S,M,!G);return}}Hw(o,s,S,f,p,b,M,N,L)}function zj(o){for(var s=o;;){var f=s.tag;if((f===0||f===11||f===15)&&s.flags&16384&&(f=s.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var p=0;p<f.length;p++){var b=f[p],S=b.getSnapshot;b=b.value;try{if(!Yn(S(),b))return!1}catch{return!1}}if(f=s.child,s.subtreeFlags&16384&&f!==null)f.return=s,s=f;else{if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ra(o,s,f,p){s&=~Sg,s&=~wo,o.suspendedLanes|=s,o.pingedLanes&=~s,p&&(o.warmLanes|=s),p=o.expirationTimes;for(var b=s;0<b;){var S=31-jt(b),M=1<<S;p[S]=-1,b&=~M}f!==0&&Vc(o,f,s)}function jf(){return(Ye&6)===0?(gu(0),!1):!0}function Ag(){if(Ue!==null){if(Je===0)var o=Ue.return;else o=Ue,Si=mo=null,$m(o),Es=null,Ql=0,o=Ue;for(;o!==null;)hw(o.alternate,o),o=o.return;Ue=null}}function Ds(o,s){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,oq(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),Ni=0,Ag(),it=o,Ue=f=bi(o.current,null),ze=s,Je=0,Qn=null,Oa=!1,Os=Ne(o,s),_g=!1,Is=Zn=Sg=wo=Ia=Et=0,jn=pu=null,Tg=!1,(s&8)!==0&&(s|=s&32);var p=o.entangledLanes;if(p!==0)for(o=o.entanglements,p&=s;0<p;){var b=31-jt(p),S=1<<b;s|=o[b],p&=~S}return Ii=s,af(),f}function Uw(o,s){Ie=null,B.H=ou,s===Ts||s===hf?(s=ZT(),Je=3):s===Om?(s=ZT(),Je=4):Je=s===ig?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Qn=s,Ue===null&&(Et=1,Cf(o,hr(s,o.current)))}function jw(){var o=Jn.current;return o===null?!0:(ze&4194048)===ze?vr===null:(ze&62914560)===ze||(ze&536870912)!==0?o===vr:!1}function qw(){var o=B.H;return B.H=ou,o===null?ou:o}function zw(){var o=B.A;return B.A=jj,o}function qf(){Et=4,Oa||(ze&4194048)!==ze&&Jn.current!==null||(Os=!0),(Ia&134217727)===0&&(wo&134217727)===0||it===null||Ra(it,ze,Zn,!1)}function Cg(o,s,f){var p=Ye;Ye|=2;var b=qw(),S=zw();(it!==o||ze!==s)&&(Uf=null,Ds(o,s)),s=!1;var M=Et;e:do try{if(Je!==0&&Ue!==null){var N=Ue,L=Qn;switch(Je){case 8:Ag(),M=6;break e;case 3:case 2:case 9:case 6:Jn.current===null&&(s=!0);var G=Je;if(Je=0,Qn=null,Rs(o,N,L,G),f&&Os){M=0;break e}break;default:G=Je,Je=0,Qn=null,Rs(o,N,L,G)}}Bj(),M=Et;break}catch(Z){Uw(o,Z)}while(!0);return s&&o.shellSuspendCounter++,Si=mo=null,Ye=p,B.H=b,B.A=S,Ue===null&&(it=null,ze=0,af()),M}function Bj(){for(;Ue!==null;)Bw(Ue)}function $j(o,s){var f=Ye;Ye|=2;var p=qw(),b=zw();it!==o||ze!==s?(Uf=null,Lf=yt()+500,Ds(o,s)):Os=Ne(o,s);e:do try{if(Je!==0&&Ue!==null){s=Ue;var S=Qn;t:switch(Je){case 1:Je=0,Qn=null,Rs(o,s,S,1);break;case 2:case 9:if(XT(S)){Je=0,Qn=null,$w(s);break}s=function(){Je!==2&&Je!==9||it!==o||(Je=7),Qr(o)},S.then(s,s);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:XT(S)?(Je=0,Qn=null,$w(s)):(Je=0,Qn=null,Rs(o,s,S,7));break;case 5:var M=null;switch(Ue.tag){case 26:M=Ue.memoizedState;case 5:case 27:var N=Ue;if(M?Cx(M):N.stateNode.complete){Je=0,Qn=null;var L=N.sibling;if(L!==null)Ue=L;else{var G=N.return;G!==null?(Ue=G,zf(G)):Ue=null}break t}}Je=0,Qn=null,Rs(o,s,S,5);break;case 6:Je=0,Qn=null,Rs(o,s,S,6);break;case 8:Ag(),Et=6;break e;default:throw Error(r(462))}}Fj();break}catch(Z){Uw(o,Z)}while(!0);return Si=mo=null,B.H=p,B.A=b,Ye=f,Ue!==null?0:(it=null,ze=0,af(),Et)}function Fj(){for(;Ue!==null&&!Rl();)Bw(Ue)}function Bw(o){var s=fw(o.alternate,o,Ii);o.memoizedProps=o.pendingProps,s===null?zf(o):Ue=s}function $w(o){var s=o,f=s.alternate;switch(s.tag){case 15:case 0:s=aw(f,s,s.pendingProps,s.type,void 0,ze);break;case 11:s=aw(f,s,s.pendingProps,s.type.render,s.ref,ze);break;case 5:$m(s);default:hw(f,s),s=Ue=zT(s,Ii),s=fw(f,s,Ii)}o.memoizedProps=o.pendingProps,s===null?zf(o):Ue=s}function Rs(o,s,f,p){Si=mo=null,$m(s),Es=null,Ql=0;var b=s.return;try{if(Ij(o,b,s,f,ze)){Et=1,Cf(o,hr(f,o.current)),Ue=null;return}}catch(S){if(b!==null)throw Ue=b,S;Et=1,Cf(o,hr(f,o.current)),Ue=null;return}s.flags&32768?(Fe||p===1?o=!0:Os||(ze&536870912)!==0?o=!1:(Oa=o=!0,(p===2||p===9||p===3||p===6)&&(p=Jn.current,p!==null&&p.tag===13&&(p.flags|=16384))),Fw(s,o)):zf(s)}function zf(o){var s=o;do{if((s.flags&32768)!==0){Fw(s,Oa);return}o=s.return;var f=Rj(s.alternate,s,Ii);if(f!==null){Ue=f;return}if(s=s.sibling,s!==null){Ue=s;return}Ue=s=o}while(s!==null);Et===0&&(Et=5)}function Fw(o,s){do{var f=kj(o.alternate,o);if(f!==null){f.flags&=32767,Ue=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!s&&(o=o.sibling,o!==null)){Ue=o;return}Ue=o=f}while(o!==null);Et=6,Ue=null}function Hw(o,s,f,p,b,S,M,N,L){o.cancelPendingCommit=null;do Bf();while(qt!==0);if((Ye&6)!==0)throw Error(r(327));if(s!==null){if(s===o.current)throw Error(r(177));if(S=s.lanes|s.childLanes,S|=mm,mi(o,f,S,M,N,L),o===it&&(Ue=it=null,ze=0),Ns=s,Da=o,Ni=f,Eg=S,wg=b,Dw=p,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,Kj(va,function(){return Ww(),null})):(o.callbackNode=null,o.callbackPriority=0),p=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||p){p=B.T,B.T=null,b=ee.p,ee.p=2,M=Ye,Ye|=4;try{Lj(o,s,f)}finally{Ye=M,ee.p=b,B.T=p}}qt=1,Gw(),Vw(),Kw()}}function Gw(){if(qt===1){qt=0;var o=Da,s=Ns,f=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||f){f=B.T,B.T=null;var p=ee.p;ee.p=2;var b=Ye;Ye|=4;try{xw(s,o);var S=qg,M=IT(o.containerInfo),N=S.focusedElem,L=S.selectionRange;if(M!==N&&N&&N.ownerDocument&&OT(N.ownerDocument.documentElement,N)){if(L!==null&&cm(N)){var G=L.start,Z=L.end;if(Z===void 0&&(Z=G),"selectionStart"in N)N.selectionStart=G,N.selectionEnd=Math.min(Z,N.value.length);else{var ie=N.ownerDocument||document,K=ie&&ie.defaultView||window;if(K.getSelection){var Y=K.getSelection(),ge=N.textContent.length,Ae=Math.min(L.start,ge),nt=L.end===void 0?Ae:Math.min(L.end,ge);!Y.extend&&Ae>nt&&(M=nt,nt=Ae,Ae=M);var q=PT(N,Ae),j=PT(N,nt);if(q&&j&&(Y.rangeCount!==1||Y.anchorNode!==q.node||Y.anchorOffset!==q.offset||Y.focusNode!==j.node||Y.focusOffset!==j.offset)){var H=ie.createRange();H.setStart(q.node,q.offset),Y.removeAllRanges(),Ae>nt?(Y.addRange(H),Y.extend(j.node,j.offset)):(H.setEnd(j.node,j.offset),Y.addRange(H))}}}}for(ie=[],Y=N;Y=Y.parentNode;)Y.nodeType===1&&ie.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<ie.length;N++){var ne=ie[N];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Zf=!!jg,qg=jg=null}finally{Ye=b,ee.p=p,B.T=f}}o.current=s,qt=2}}function Vw(){if(qt===2){qt=0;var o=Da,s=Ns,f=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||f){f=B.T,B.T=null;var p=ee.p;ee.p=2;var b=Ye;Ye|=4;try{_w(o,s.alternate,s)}finally{Ye=b,ee.p=p,B.T=f}}qt=3}}function Kw(){if(qt===4||qt===3){qt=0,xn();var o=Da,s=Ns,f=Ni,p=Dw;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?qt=5:(qt=0,Ns=Da=null,Yw(o,o.pendingLanes));var b=o.pendingLanes;if(b===0&&(Na=null),Gp(f),s=s.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(hi,s,void 0,(s.current.flags&128)===128)}catch{}if(p!==null){s=B.T,b=ee.p,ee.p=2,B.T=null;try{for(var S=o.onRecoverableError,M=0;M<p.length;M++){var N=p[M];S(N.value,{componentStack:N.stack})}}finally{B.T=s,ee.p=b}}(Ni&3)!==0&&Bf(),Qr(o),b=o.pendingLanes,(f&261930)!==0&&(b&42)!==0?o===xg?mu++:(mu=0,xg=o):mu=0,gu(0)}}function Yw(o,s){(o.pooledCacheLanes&=s)===0&&(s=o.pooledCache,s!=null&&(o.pooledCache=null,Jl(s)))}function Bf(){return Gw(),Vw(),Kw(),Ww()}function Ww(){if(qt!==5)return!1;var o=Da,s=Eg;Eg=0;var f=Gp(Ni),p=B.T,b=ee.p;try{ee.p=32>f?32:f,B.T=null,f=wg,wg=null;var S=Da,M=Ni;if(qt=0,Ns=Da=null,Ni=0,(Ye&6)!==0)throw Error(r(331));var N=Ye;if(Ye|=4,Ow(S.current),Cw(S,S.current,M,f),Ye=N,gu(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(hi,S)}catch{}return!0}finally{ee.p=b,B.T=p,Yw(o,s)}}function Jw(o,s,f){s=hr(f,s),s=rg(o.stateNode,s,2),o=Aa(o,s,2),o!==null&&(Rr(o,2),Qr(o))}function Xe(o,s,f){if(o.tag===3)Jw(o,o,f);else for(;s!==null;){if(s.tag===3){Jw(s,o,f);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Na===null||!Na.has(p))){o=hr(f,o),f=XE(2),p=Aa(s,f,2),p!==null&&(QE(f,p,s,o),Rr(p,2),Qr(p));break}}s=s.return}}function Mg(o,s,f){var p=o.pingCache;if(p===null){p=o.pingCache=new qj;var b=new Set;p.set(s,b)}else b=p.get(s),b===void 0&&(b=new Set,p.set(s,b));b.has(f)||(_g=!0,b.add(f),o=Hj.bind(null,o,s,f),s.then(o,o))}function Hj(o,s,f){var p=o.pingCache;p!==null&&p.delete(s),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,it===o&&(ze&f)===f&&(Et===4||Et===3&&(ze&62914560)===ze&&300>yt()-kf?(Ye&2)===0&&Ds(o,0):Sg|=f,Is===ze&&(Is=0)),Qr(o)}function Xw(o,s){s===0&&(s=rt()),o=fo(o,s),o!==null&&(Rr(o,s),Qr(o))}function Gj(o){var s=o.memoizedState,f=0;s!==null&&(f=s.retryLane),Xw(o,f)}function Vj(o,s){var f=0;switch(o.tag){case 31:case 13:var p=o.stateNode,b=o.memoizedState;b!==null&&(f=b.retryLane);break;case 19:p=o.stateNode;break;case 22:p=o.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(s),Xw(o,f)}function Kj(o,s){return Ot(o,s)}var $f=null,ks=null,Pg=!1,Ff=!1,Og=!1,ka=0;function Qr(o){o!==ks&&o.next===null&&(ks===null?$f=ks=o:ks=ks.next=o),Ff=!0,Pg||(Pg=!0,Wj())}function gu(o,s){if(!Og&&Ff){Og=!0;do for(var f=!1,p=$f;p!==null;){if(o!==0){var b=p.pendingLanes;if(b===0)var S=0;else{var M=p.suspendedLanes,N=p.pingedLanes;S=(1<<31-jt(42|o)+1)-1,S&=b&~(M&~N),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(f=!0,tx(p,S))}else S=ze,S=Se(p,p===it?S:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(S&3)===0||Ne(p,S)||(f=!0,tx(p,S));p=p.next}while(f);Og=!1}}function Yj(){Qw()}function Qw(){Ff=Pg=!1;var o=0;ka!==0&&aq()&&(o=ka);for(var s=yt(),f=null,p=$f;p!==null;){var b=p.next,S=Zw(p,s);S===0?(p.next=null,f===null?$f=b:f.next=b,b===null&&(ks=f)):(f=p,(o!==0||(S&3)!==0)&&(Ff=!0)),p=b}qt!==0&&qt!==5||gu(o),ka!==0&&(ka=0)}function Zw(o,s){for(var f=o.suspendedLanes,p=o.pingedLanes,b=o.expirationTimes,S=o.pendingLanes&-62914561;0<S;){var M=31-jt(S),N=1<<M,L=b[M];L===-1?((N&f)===0||(N&p)!==0)&&(b[M]=ke(N,s)):L<=s&&(o.expiredLanes|=N),S&=~N}if(s=it,f=ze,f=Se(o,o===s?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p=o.callbackNode,f===0||o===s&&(Je===2||Je===9)||o.cancelPendingCommit!==null)return p!==null&&p!==null&&di(p),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||Ne(o,f)){if(s=f&-f,s===o.callbackPriority)return s;switch(p!==null&&di(p),Gp(f)){case 2:case 8:f=Zo;break;case 32:f=va;break;case 268435456:f=es;break;default:f=va}return p=ex.bind(null,o),f=Ot(f,p),o.callbackPriority=s,o.callbackNode=f,s}return p!==null&&p!==null&&di(p),o.callbackPriority=2,o.callbackNode=null,2}function ex(o,s){if(qt!==0&&qt!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(Bf()&&o.callbackNode!==f)return null;var p=ze;return p=Se(o,o===it?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p===0?null:(kw(o,p,s),Zw(o,yt()),o.callbackNode!=null&&o.callbackNode===f?ex.bind(null,o):null)}function tx(o,s){if(Bf())return null;kw(o,s,!0)}function Wj(){sq(function(){(Ye&6)!==0?Ot(ga,Yj):Qw()})}function Ig(){if(ka===0){var o=_s;o===0&&(o=Nn,Nn<<=1,(Nn&261888)===0&&(Nn=256)),ka=o}return ka}function nx(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Jc(""+o)}function rx(o,s){var f=s.ownerDocument.createElement("input");return f.name=s.name,f.value=s.value,o.id&&f.setAttribute("form",o.id),s.parentNode.insertBefore(f,s),o=new FormData(o),f.parentNode.removeChild(f),o}function Jj(o,s,f,p,b){if(s==="submit"&&f&&f.stateNode===b){var S=nx((b[Dn]||null).action),M=p.submitter;M&&(s=(s=M[Dn]||null)?nx(s.formAction):M.getAttribute("formAction"),s!==null&&(S=s,M=null));var N=new ef("action","action",null,p,b);o.push({event:N,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(ka!==0){var L=M?rx(b,M):new FormData(b);Xm(f,{pending:!0,data:L,method:b.method,action:S},null,L)}}else typeof S=="function"&&(N.preventDefault(),L=M?rx(b,M):new FormData(b),Xm(f,{pending:!0,data:L,method:b.method,action:S},S,L))},currentTarget:b}]})}}for(var Ng=0;Ng<pm.length;Ng++){var Dg=pm[Ng],Xj=Dg.toLowerCase(),Qj=Dg[0].toUpperCase()+Dg.slice(1);kr(Xj,"on"+Qj)}kr(RT,"onAnimationEnd"),kr(kT,"onAnimationIteration"),kr(LT,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(pj,"onTransitionRun"),kr(mj,"onTransitionStart"),kr(gj,"onTransitionCancel"),kr(UT,"onTransitionEnd"),os("onMouseEnter",["mouseout","mouseover"]),os("onMouseLeave",["mouseout","mouseover"]),os("onPointerEnter",["pointerout","pointerover"]),os("onPointerLeave",["pointerout","pointerover"]),so("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),so("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),so("onBeforeInput",["compositionend","keypress","textInput","paste"]),so("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),so("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),so("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vu));function ix(o,s){s=(s&4)!==0;for(var f=0;f<o.length;f++){var p=o[f],b=p.event;p=p.listeners;e:{var S=void 0;if(s)for(var M=p.length-1;0<=M;M--){var N=p[M],L=N.instance,G=N.currentTarget;if(N=N.listener,L!==S&&b.isPropagationStopped())break e;S=N,b.currentTarget=G;try{S(b)}catch(Z){rf(Z)}b.currentTarget=null,S=L}else for(M=0;M<p.length;M++){if(N=p[M],L=N.instance,G=N.currentTarget,N=N.listener,L!==S&&b.isPropagationStopped())break e;S=N,b.currentTarget=G;try{S(b)}catch(Z){rf(Z)}b.currentTarget=null,S=L}}}}function je(o,s){var f=s[Vp];f===void 0&&(f=s[Vp]=new Set);var p=o+"__bubble";f.has(p)||(ax(s,o,2,!1),f.add(p))}function Rg(o,s,f){var p=0;s&&(p|=4),ax(f,o,p,s)}var Hf="_reactListening"+Math.random().toString(36).slice(2);function kg(o){if(!o[Hf]){o[Hf]=!0,QS.forEach(function(f){f!=="selectionchange"&&(Zj.has(f)||Rg(f,!1,o),Rg(f,!0,o))});var s=o.nodeType===9?o:o.ownerDocument;s===null||s[Hf]||(s[Hf]=!0,Rg("selectionchange",!1,s))}}function ax(o,s,f,p){switch(Rx(s)){case 2:var b=Cq;break;case 8:b=Mq;break;default:b=Jg}f=b.bind(null,s,f,o),b=void 0,!tm||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(b=!0),p?b!==void 0?o.addEventListener(s,f,{capture:!0,passive:b}):o.addEventListener(s,f,!0):b!==void 0?o.addEventListener(s,f,{passive:b}):o.addEventListener(s,f,!1)}function Lg(o,s,f,p,b){var S=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var M=p.tag;if(M===3||M===4){var N=p.stateNode.containerInfo;if(N===b)break;if(M===4)for(M=p.return;M!==null;){var L=M.tag;if((L===3||L===4)&&M.stateNode.containerInfo===b)return;M=M.return}for(;N!==null;){if(M=rs(N),M===null)return;if(L=M.tag,L===5||L===6||L===26||L===27){p=S=M;continue e}N=N.parentNode}}p=p.return}cT(function(){var G=S,Z=Zp(f),ie=[];e:{var K=jT.get(o);if(K!==void 0){var Y=ef,ge=o;switch(o){case"keypress":if(Qc(f)===0)break e;case"keydown":case"keyup":Y=VU;break;case"focusin":ge="focus",Y=am;break;case"focusout":ge="blur",Y=am;break;case"beforeblur":case"afterblur":Y=am;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=hT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=RU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=WU;break;case RT:case kT:case LT:Y=UU;break;case UT:Y=XU;break;case"scroll":case"scrollend":Y=NU;break;case"wheel":Y=ZU;break;case"copy":case"cut":case"paste":Y=qU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=mT;break;case"toggle":case"beforetoggle":Y=tj}var Ae=(s&4)!==0,nt=!Ae&&(o==="scroll"||o==="scrollend"),q=Ae?K!==null?K+"Capture":null:K;Ae=[];for(var j=G,H;j!==null;){var ne=j;if(H=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||H===null||q===null||(ne=ql(j,q),ne!=null&&Ae.push(yu(j,ne,H))),nt)break;j=j.return}0<Ae.length&&(K=new Y(K,ge,null,f,Z),ie.push({event:K,listeners:Ae}))}}if((s&7)===0){e:{if(K=o==="mouseover"||o==="pointerover",Y=o==="mouseout"||o==="pointerout",K&&f!==Qp&&(ge=f.relatedTarget||f.fromElement)&&(rs(ge)||ge[ns]))break e;if((Y||K)&&(K=Z.window===Z?Z:(K=Z.ownerDocument)?K.defaultView||K.parentWindow:window,Y?(ge=f.relatedTarget||f.toElement,Y=G,ge=ge?rs(ge):null,ge!==null&&(nt=a(ge),Ae=ge.tag,ge!==nt||Ae!==5&&Ae!==27&&Ae!==6)&&(ge=null)):(Y=null,ge=G),Y!==ge)){if(Ae=hT,ne="onMouseLeave",q="onMouseEnter",j="mouse",(o==="pointerout"||o==="pointerover")&&(Ae=mT,ne="onPointerLeave",q="onPointerEnter",j="pointer"),nt=Y==null?K:jl(Y),H=ge==null?K:jl(ge),K=new Ae(ne,j+"leave",Y,f,Z),K.target=nt,K.relatedTarget=H,ne=null,rs(Z)===G&&(Ae=new Ae(q,j+"enter",ge,f,Z),Ae.target=H,Ae.relatedTarget=nt,ne=Ae),nt=ne,Y&&ge)t:{for(Ae=eq,q=Y,j=ge,H=0,ne=q;ne;ne=Ae(ne))H++;ne=0;for(var Te=j;Te;Te=Ae(Te))ne++;for(;0<H-ne;)q=Ae(q),H--;for(;0<ne-H;)j=Ae(j),ne--;for(;H--;){if(q===j||j!==null&&q===j.alternate){Ae=q;break t}q=Ae(q),j=Ae(j)}Ae=null}else Ae=null;Y!==null&&ox(ie,K,Y,Ae,!1),ge!==null&&nt!==null&&ox(ie,nt,ge,Ae,!0)}}e:{if(K=G?jl(G):window,Y=K.nodeName&&K.nodeName.toLowerCase(),Y==="select"||Y==="input"&&K.type==="file")var He=ET;else if(ST(K))if(wT)He=fj;else{He=uj;var ve=lj}else Y=K.nodeName,!Y||Y.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&Xp(G.elementType)&&(He=ET):He=cj;if(He&&(He=He(o,G))){TT(ie,He,f,Z);break e}ve&&ve(o,K,G),o==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&Jp(K,"number",K.value)}switch(ve=G?jl(G):window,o){case"focusin":(ST(ve)||ve.contentEditable==="true")&&(ds=ve,fm=G,Kl=null);break;case"focusout":Kl=fm=ds=null;break;case"mousedown":dm=!0;break;case"contextmenu":case"mouseup":case"dragend":dm=!1,NT(ie,f,Z);break;case"selectionchange":if(hj)break;case"keydown":case"keyup":NT(ie,f,Z)}var De;if(sm)e:{switch(o){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else fs?bT(o,f)&&(Be="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(Be="onCompositionStart");Be&&(gT&&f.locale!=="ko"&&(fs||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&fs&&(De=fT()):(ba=Z,nm="value"in ba?ba.value:ba.textContent,fs=!0)),ve=Gf(G,Be),0<ve.length&&(Be=new pT(Be,o,null,f,Z),ie.push({event:Be,listeners:ve}),De?Be.data=De:(De=_T(f),De!==null&&(Be.data=De)))),(De=rj?ij(o,f):aj(o,f))&&(Be=Gf(G,"onBeforeInput"),0<Be.length&&(ve=new pT("onBeforeInput","beforeinput",null,f,Z),ie.push({event:ve,listeners:Be}),ve.data=De)),Jj(ie,o,G,f,Z)}ix(ie,s)})}function yu(o,s,f){return{instance:o,listener:s,currentTarget:f}}function Gf(o,s){for(var f=s+"Capture",p=[];o!==null;){var b=o,S=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||S===null||(b=ql(o,f),b!=null&&p.unshift(yu(o,b,S)),b=ql(o,s),b!=null&&p.push(yu(o,b,S))),o.tag===3)return p;o=o.return}return[]}function eq(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function ox(o,s,f,p,b){for(var S=s._reactName,M=[];f!==null&&f!==p;){var N=f,L=N.alternate,G=N.stateNode;if(N=N.tag,L!==null&&L===p)break;N!==5&&N!==26&&N!==27||G===null||(L=G,b?(G=ql(f,S),G!=null&&M.unshift(yu(f,G,L))):b||(G=ql(f,S),G!=null&&M.push(yu(f,G,L)))),f=f.return}M.length!==0&&o.push({event:s,listeners:M})}var tq=/\r\n?/g,nq=/\u0000|\uFFFD/g;function sx(o){return(typeof o=="string"?o:""+o).replace(tq,`
`).replace(nq,"")}function lx(o,s){return s=sx(s),sx(o)===s}function tt(o,s,f,p,b,S){switch(f){case"children":typeof p=="string"?s==="body"||s==="textarea"&&p===""||ls(o,p):(typeof p=="number"||typeof p=="bigint")&&s!=="body"&&ls(o,""+p);break;case"className":Yc(o,"class",p);break;case"tabIndex":Yc(o,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Yc(o,f,p);break;case"style":lT(o,p,S);break;case"data":if(s!=="object"){Yc(o,"data",p);break}case"src":case"href":if(p===""&&(s!=="a"||f!=="href")){o.removeAttribute(f);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(f);break}p=Jc(""+p),o.setAttribute(f,p);break;case"action":case"formAction":if(typeof p=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(f==="formAction"?(s!=="input"&&tt(o,s,"name",b.name,b,null),tt(o,s,"formEncType",b.formEncType,b,null),tt(o,s,"formMethod",b.formMethod,b,null),tt(o,s,"formTarget",b.formTarget,b,null)):(tt(o,s,"encType",b.encType,b,null),tt(o,s,"method",b.method,b,null),tt(o,s,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(f);break}p=Jc(""+p),o.setAttribute(f,p);break;case"onClick":p!=null&&(o.onclick=vi);break;case"onScroll":p!=null&&je("scroll",o);break;case"onScrollEnd":p!=null&&je("scrollend",o);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(f=p.__html,f!=null){if(b.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"multiple":o.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":o.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){o.removeAttribute("xlink:href");break}f=Jc(""+p),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,""+p):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":p===!0?o.setAttribute(f,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,p):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?o.setAttribute(f,p):o.removeAttribute(f);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?o.removeAttribute(f):o.setAttribute(f,p);break;case"popover":je("beforetoggle",o),je("toggle",o),Kc(o,"popover",p);break;case"xlinkActuate":gi(o,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":gi(o,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":gi(o,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":gi(o,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":gi(o,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":gi(o,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":gi(o,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":gi(o,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":gi(o,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Kc(o,"is",p);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=OU.get(f)||f,Kc(o,f,p))}}function Ug(o,s,f,p,b,S){switch(f){case"style":lT(o,p,S);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(f=p.__html,f!=null){if(b.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"children":typeof p=="string"?ls(o,p):(typeof p=="number"||typeof p=="bigint")&&ls(o,""+p);break;case"onScroll":p!=null&&je("scroll",o);break;case"onScrollEnd":p!=null&&je("scrollend",o);break;case"onClick":p!=null&&(o.onclick=vi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ZS.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(b=f.endsWith("Capture"),s=f.slice(2,b?f.length-7:void 0),S=o[Dn]||null,S=S!=null?S[f]:null,typeof S=="function"&&o.removeEventListener(s,S,b),typeof p=="function")){typeof S!="function"&&S!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(s,p,b);break e}f in o?o[f]=p:p===!0?o.setAttribute(f,""):Kc(o,f,p)}}}function un(o,s,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",o),je("load",o);var p=!1,b=!1,S;for(S in f)if(f.hasOwnProperty(S)){var M=f[S];if(M!=null)switch(S){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:tt(o,s,S,M,f,null)}}b&&tt(o,s,"srcSet",f.srcSet,f,null),p&&tt(o,s,"src",f.src,f,null);return;case"input":je("invalid",o);var N=S=M=b=null,L=null,G=null;for(p in f)if(f.hasOwnProperty(p)){var Z=f[p];if(Z!=null)switch(p){case"name":b=Z;break;case"type":M=Z;break;case"checked":L=Z;break;case"defaultChecked":G=Z;break;case"value":S=Z;break;case"defaultValue":N=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:tt(o,s,p,Z,f,null)}}iT(o,S,N,L,G,M,b,!1);return;case"select":je("invalid",o),p=M=S=null;for(b in f)if(f.hasOwnProperty(b)&&(N=f[b],N!=null))switch(b){case"value":S=N;break;case"defaultValue":M=N;break;case"multiple":p=N;default:tt(o,s,b,N,f,null)}s=S,f=M,o.multiple=!!p,s!=null?ss(o,!!p,s,!1):f!=null&&ss(o,!!p,f,!0);return;case"textarea":je("invalid",o),S=b=p=null;for(M in f)if(f.hasOwnProperty(M)&&(N=f[M],N!=null))switch(M){case"value":p=N;break;case"defaultValue":b=N;break;case"children":S=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:tt(o,s,M,N,f,null)}oT(o,p,b,S);return;case"option":for(L in f)if(f.hasOwnProperty(L)&&(p=f[L],p!=null))switch(L){case"selected":o.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:tt(o,s,L,p,f,null)}return;case"dialog":je("beforetoggle",o),je("toggle",o),je("cancel",o),je("close",o);break;case"iframe":case"object":je("load",o);break;case"video":case"audio":for(p=0;p<vu.length;p++)je(vu[p],o);break;case"image":je("error",o),je("load",o);break;case"details":je("toggle",o);break;case"embed":case"source":case"link":je("error",o),je("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in f)if(f.hasOwnProperty(G)&&(p=f[G],p!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:tt(o,s,G,p,f,null)}return;default:if(Xp(s)){for(Z in f)f.hasOwnProperty(Z)&&(p=f[Z],p!==void 0&&Ug(o,s,Z,p,f,void 0));return}}for(N in f)f.hasOwnProperty(N)&&(p=f[N],p!=null&&tt(o,s,N,p,f,null))}function rq(o,s,f,p){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,S=null,M=null,N=null,L=null,G=null,Z=null;for(Y in f){var ie=f[Y];if(f.hasOwnProperty(Y)&&ie!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":L=ie;default:p.hasOwnProperty(Y)||tt(o,s,Y,null,p,ie)}}for(var K in p){var Y=p[K];if(ie=f[K],p.hasOwnProperty(K)&&(Y!=null||ie!=null))switch(K){case"type":S=Y;break;case"name":b=Y;break;case"checked":G=Y;break;case"defaultChecked":Z=Y;break;case"value":M=Y;break;case"defaultValue":N=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:Y!==ie&&tt(o,s,K,Y,p,ie)}}Wp(o,M,N,L,G,Z,S,b);return;case"select":Y=M=N=K=null;for(S in f)if(L=f[S],f.hasOwnProperty(S)&&L!=null)switch(S){case"value":break;case"multiple":Y=L;default:p.hasOwnProperty(S)||tt(o,s,S,null,p,L)}for(b in p)if(S=p[b],L=f[b],p.hasOwnProperty(b)&&(S!=null||L!=null))switch(b){case"value":K=S;break;case"defaultValue":N=S;break;case"multiple":M=S;default:S!==L&&tt(o,s,b,S,p,L)}s=N,f=M,p=Y,K!=null?ss(o,!!f,K,!1):!!p!=!!f&&(s!=null?ss(o,!!f,s,!0):ss(o,!!f,f?[]:"",!1));return;case"textarea":Y=K=null;for(N in f)if(b=f[N],f.hasOwnProperty(N)&&b!=null&&!p.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:tt(o,s,N,null,p,b)}for(M in p)if(b=p[M],S=f[M],p.hasOwnProperty(M)&&(b!=null||S!=null))switch(M){case"value":K=b;break;case"defaultValue":Y=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==S&&tt(o,s,M,b,p,S)}aT(o,K,Y);return;case"option":for(var ge in f)if(K=f[ge],f.hasOwnProperty(ge)&&K!=null&&!p.hasOwnProperty(ge))switch(ge){case"selected":o.selected=!1;break;default:tt(o,s,ge,null,p,K)}for(L in p)if(K=p[L],Y=f[L],p.hasOwnProperty(L)&&K!==Y&&(K!=null||Y!=null))switch(L){case"selected":o.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:tt(o,s,L,K,p,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in f)K=f[Ae],f.hasOwnProperty(Ae)&&K!=null&&!p.hasOwnProperty(Ae)&&tt(o,s,Ae,null,p,K);for(G in p)if(K=p[G],Y=f[G],p.hasOwnProperty(G)&&K!==Y&&(K!=null||Y!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:tt(o,s,G,K,p,Y)}return;default:if(Xp(s)){for(var nt in f)K=f[nt],f.hasOwnProperty(nt)&&K!==void 0&&!p.hasOwnProperty(nt)&&Ug(o,s,nt,void 0,p,K);for(Z in p)K=p[Z],Y=f[Z],!p.hasOwnProperty(Z)||K===Y||K===void 0&&Y===void 0||Ug(o,s,Z,K,p,Y);return}}for(var q in f)K=f[q],f.hasOwnProperty(q)&&K!=null&&!p.hasOwnProperty(q)&&tt(o,s,q,null,p,K);for(ie in p)K=p[ie],Y=f[ie],!p.hasOwnProperty(ie)||K===Y||K==null&&Y==null||tt(o,s,ie,K,p,Y)}function ux(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function iq(){if(typeof performance.getEntriesByType=="function"){for(var o=0,s=0,f=performance.getEntriesByType("resource"),p=0;p<f.length;p++){var b=f[p],S=b.transferSize,M=b.initiatorType,N=b.duration;if(S&&N&&ux(M)){for(M=0,N=b.responseEnd,p+=1;p<f.length;p++){var L=f[p],G=L.startTime;if(G>N)break;var Z=L.transferSize,ie=L.initiatorType;Z&&ux(ie)&&(L=L.responseEnd,M+=Z*(L<N?1:(N-G)/(L-G)))}if(--p,s+=8*(S+M)/(b.duration/1e3),o++,10<o)break}}if(0<o)return s/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var jg=null,qg=null;function Vf(o){return o.nodeType===9?o:o.ownerDocument}function cx(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fx(o,s){if(o===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&s==="foreignObject"?0:o}function zg(o,s){return o==="textarea"||o==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Bg=null;function aq(){var o=window.event;return o&&o.type==="popstate"?o===Bg?!1:(Bg=o,!0):(Bg=null,!1)}var dx=typeof setTimeout=="function"?setTimeout:void 0,oq=typeof clearTimeout=="function"?clearTimeout:void 0,hx=typeof Promise=="function"?Promise:void 0,sq=typeof queueMicrotask=="function"?queueMicrotask:typeof hx<"u"?function(o){return hx.resolve(null).then(o).catch(lq)}:dx;function lq(o){setTimeout(function(){throw o})}function La(o){return o==="head"}function px(o,s){var f=s,p=0;do{var b=f.nextSibling;if(o.removeChild(f),b&&b.nodeType===8)if(f=b.data,f==="/$"||f==="/&"){if(p===0){o.removeChild(b),qs(s);return}p--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")p++;else if(f==="html")bu(o.ownerDocument.documentElement);else if(f==="head"){f=o.ownerDocument.head,bu(f);for(var S=f.firstChild;S;){var M=S.nextSibling,N=S.nodeName;S[Ul]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&S.rel.toLowerCase()==="stylesheet"||f.removeChild(S),S=M}}else f==="body"&&bu(o.ownerDocument.body);f=b}while(f);qs(s)}function mx(o,s){var f=o;o=0;do{var p=f.nextSibling;if(f.nodeType===1?s?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(s?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),p&&p.nodeType===8)if(f=p.data,f==="/$"){if(o===0)break;o--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||o++;f=p}while(f)}function $g(o){var s=o.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var f=s;switch(s=s.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":$g(f),Kp(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function uq(o,s,f,p){for(;o.nodeType===1;){var b=f;if(o.nodeName.toLowerCase()!==s.toLowerCase()){if(!p&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(p){if(!o[Ul])switch(s){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(S=o.getAttribute("rel"),S==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(S!==b.rel||o.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||o.getAttribute("title")!==(b.title==null?null:b.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(S=o.getAttribute("src"),(S!==(b.src==null?null:b.src)||o.getAttribute("type")!==(b.type==null?null:b.type)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&S&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(s==="input"&&o.type==="hidden"){var S=b.name==null?null:""+b.name;if(b.type==="hidden"&&o.getAttribute("name")===S)return o}else return o;if(o=yr(o.nextSibling),o===null)break}return null}function cq(o,s,f){if(s==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=yr(o.nextSibling),o===null))return null;return o}function gx(o,s){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!s||(o=yr(o.nextSibling),o===null))return null;return o}function Fg(o){return o.data==="$?"||o.data==="$~"}function Hg(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function fq(o,s){var f=o.ownerDocument;if(o.data==="$~")o._reactRetry=s;else if(o.data!=="$?"||f.readyState!=="loading")s();else{var p=function(){s(),f.removeEventListener("DOMContentLoaded",p)};f.addEventListener("DOMContentLoaded",p),o._reactRetry=p}}function yr(o){for(;o!=null;o=o.nextSibling){var s=o.nodeType;if(s===1||s===3)break;if(s===8){if(s=o.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return o}var Gg=null;function vx(o){o=o.nextSibling;for(var s=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"||f==="/&"){if(s===0)return yr(o.nextSibling);s--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||s++}o=o.nextSibling}return null}function yx(o){o=o.previousSibling;for(var s=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(s===0)return o;s--}else f!=="/$"&&f!=="/&"||s++}o=o.previousSibling}return null}function bx(o,s,f){switch(s=Vf(f),o){case"html":if(o=s.documentElement,!o)throw Error(r(452));return o;case"head":if(o=s.head,!o)throw Error(r(453));return o;case"body":if(o=s.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function bu(o){for(var s=o.attributes;s.length;)o.removeAttributeNode(s[0]);Kp(o)}var br=new Map,_x=new Set;function Kf(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Di=ee.d;ee.d={f:dq,r:hq,D:pq,C:mq,L:gq,m:vq,X:bq,S:yq,M:_q};function dq(){var o=Di.f(),s=jf();return o||s}function hq(o){var s=is(o);s!==null&&s.tag===5&&s.type==="form"?UE(s):Di.r(o)}var Ls=typeof document>"u"?null:document;function Sx(o,s,f){var p=Ls;if(p&&typeof s=="string"&&s){var b=fr(s);b='link[rel="'+o+'"][href="'+b+'"]',typeof f=="string"&&(b+='[crossorigin="'+f+'"]'),_x.has(b)||(_x.add(b),o={rel:o,crossOrigin:f,href:s},p.querySelector(b)===null&&(s=p.createElement("link"),un(s,"link",o),Yt(s),p.head.appendChild(s)))}}function pq(o){Di.D(o),Sx("dns-prefetch",o,null)}function mq(o,s){Di.C(o,s),Sx("preconnect",o,s)}function gq(o,s,f){Di.L(o,s,f);var p=Ls;if(p&&o&&s){var b='link[rel="preload"][as="'+fr(s)+'"]';s==="image"&&f&&f.imageSrcSet?(b+='[imagesrcset="'+fr(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(b+='[imagesizes="'+fr(f.imageSizes)+'"]')):b+='[href="'+fr(o)+'"]';var S=b;switch(s){case"style":S=Us(o);break;case"script":S=js(o)}br.has(S)||(o=m({rel:"preload",href:s==="image"&&f&&f.imageSrcSet?void 0:o,as:s},f),br.set(S,o),p.querySelector(b)!==null||s==="style"&&p.querySelector(_u(S))||s==="script"&&p.querySelector(Su(S))||(s=p.createElement("link"),un(s,"link",o),Yt(s),p.head.appendChild(s)))}}function vq(o,s){Di.m(o,s);var f=Ls;if(f&&o){var p=s&&typeof s.as=="string"?s.as:"script",b='link[rel="modulepreload"][as="'+fr(p)+'"][href="'+fr(o)+'"]',S=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=js(o)}if(!br.has(S)&&(o=m({rel:"modulepreload",href:o},s),br.set(S,o),f.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Su(S)))return}p=f.createElement("link"),un(p,"link",o),Yt(p),f.head.appendChild(p)}}}function yq(o,s,f){Di.S(o,s,f);var p=Ls;if(p&&o){var b=as(p).hoistableStyles,S=Us(o);s=s||"default";var M=b.get(S);if(!M){var N={loading:0,preload:null};if(M=p.querySelector(_u(S)))N.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":s},f),(f=br.get(S))&&Vg(o,f);var L=M=p.createElement("link");Yt(L),un(L,"link",o),L._p=new Promise(function(G,Z){L.onload=G,L.onerror=Z}),L.addEventListener("load",function(){N.loading|=1}),L.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Yf(M,s,p)}M={type:"stylesheet",instance:M,count:1,state:N},b.set(S,M)}}}function bq(o,s){Di.X(o,s);var f=Ls;if(f&&o){var p=as(f).hoistableScripts,b=js(o),S=p.get(b);S||(S=f.querySelector(Su(b)),S||(o=m({src:o,async:!0},s),(s=br.get(b))&&Kg(o,s),S=f.createElement("script"),Yt(S),un(S,"link",o),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(b,S))}}function _q(o,s){Di.M(o,s);var f=Ls;if(f&&o){var p=as(f).hoistableScripts,b=js(o),S=p.get(b);S||(S=f.querySelector(Su(b)),S||(o=m({src:o,async:!0,type:"module"},s),(s=br.get(b))&&Kg(o,s),S=f.createElement("script"),Yt(S),un(S,"link",o),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(b,S))}}function Tx(o,s,f,p){var b=(b=fe.current)?Kf(b):null;if(!b)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(s=Us(f.href),f=as(b).hoistableStyles,p=f.get(s),p||(p={type:"style",instance:null,count:0,state:null},f.set(s,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=Us(f.href);var S=as(b).hoistableStyles,M=S.get(o);if(M||(b=b.ownerDocument||b,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(o,M),(S=b.querySelector(_u(o)))&&!S._p&&(M.instance=S,M.state.loading=5),br.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},br.set(o,f),S||Sq(b,o,f,M.state))),s&&p===null)throw Error(r(528,""));return M}if(s&&p!==null)throw Error(r(529,""));return null;case"script":return s=f.async,f=f.src,typeof f=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=js(f),f=as(b).hoistableScripts,p=f.get(s),p||(p={type:"script",instance:null,count:0,state:null},f.set(s,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Us(o){return'href="'+fr(o)+'"'}function _u(o){return'link[rel="stylesheet"]['+o+"]"}function Ex(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function Sq(o,s,f,p){o.querySelector('link[rel="preload"][as="style"]['+s+"]")?p.loading=1:(s=o.createElement("link"),p.preload=s,s.addEventListener("load",function(){return p.loading|=1}),s.addEventListener("error",function(){return p.loading|=2}),un(s,"link",f),Yt(s),o.head.appendChild(s))}function js(o){return'[src="'+fr(o)+'"]'}function Su(o){return"script[async]"+o}function wx(o,s,f){if(s.count++,s.instance===null)switch(s.type){case"style":var p=o.querySelector('style[data-href~="'+fr(f.href)+'"]');if(p)return s.instance=p,Yt(p),p;var b=m({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return p=(o.ownerDocument||o).createElement("style"),Yt(p),un(p,"style",b),Yf(p,f.precedence,o),s.instance=p;case"stylesheet":b=Us(f.href);var S=o.querySelector(_u(b));if(S)return s.state.loading|=4,s.instance=S,Yt(S),S;p=Ex(f),(b=br.get(b))&&Vg(p,b),S=(o.ownerDocument||o).createElement("link"),Yt(S);var M=S;return M._p=new Promise(function(N,L){M.onload=N,M.onerror=L}),un(S,"link",p),s.state.loading|=4,Yf(S,f.precedence,o),s.instance=S;case"script":return S=js(f.src),(b=o.querySelector(Su(S)))?(s.instance=b,Yt(b),b):(p=f,(b=br.get(S))&&(p=m({},f),Kg(p,b)),o=o.ownerDocument||o,b=o.createElement("script"),Yt(b),un(b,"link",p),o.head.appendChild(b),s.instance=b);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(p=s.instance,s.state.loading|=4,Yf(p,f.precedence,o));return s.instance}function Yf(o,s,f){for(var p=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,S=b,M=0;M<p.length;M++){var N=p[M];if(N.dataset.precedence===s)S=N;else if(S!==b)break}S?S.parentNode.insertBefore(o,S.nextSibling):(s=f.nodeType===9?f.head:f,s.insertBefore(o,s.firstChild))}function Vg(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.title==null&&(o.title=s.title)}function Kg(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.integrity==null&&(o.integrity=s.integrity)}var Wf=null;function xx(o,s,f){if(Wf===null){var p=new Map,b=Wf=new Map;b.set(f,p)}else b=Wf,p=b.get(f),p||(p=new Map,b.set(f,p));if(p.has(o))return p;for(p.set(o,null),f=f.getElementsByTagName(o),b=0;b<f.length;b++){var S=f[b];if(!(S[Ul]||S[an]||o==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var M=S.getAttribute(s)||"";M=o+M;var N=p.get(M);N?N.push(S):p.set(M,[S])}}return p}function Ax(o,s,f){o=o.ownerDocument||o,o.head.insertBefore(f,s==="title"?o.querySelector("head > title"):null)}function Tq(o,s,f){if(f===1||s.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return o=s.disabled,typeof s.precedence=="string"&&o==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Cx(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function Eq(o,s,f,p){if(f.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var b=Us(p.href),S=s.querySelector(_u(b));if(S){s=S._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(o.count++,o=Jf.bind(o),s.then(o,o)),f.state.loading|=4,f.instance=S,Yt(S);return}S=s.ownerDocument||s,p=Ex(p),(b=br.get(b))&&Vg(p,b),S=S.createElement("link"),Yt(S);var M=S;M._p=new Promise(function(N,L){M.onload=N,M.onerror=L}),un(S,"link",p),f.instance=S}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(f,s),(s=f.state.preload)&&(f.state.loading&3)===0&&(o.count++,f=Jf.bind(o),s.addEventListener("load",f),s.addEventListener("error",f))}}var Yg=0;function wq(o,s){return o.stylesheets&&o.count===0&&Qf(o,o.stylesheets),0<o.count||0<o.imgCount?function(f){var p=setTimeout(function(){if(o.stylesheets&&Qf(o,o.stylesheets),o.unsuspend){var S=o.unsuspend;o.unsuspend=null,S()}},6e4+s);0<o.imgBytes&&Yg===0&&(Yg=62500*iq());var b=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Qf(o,o.stylesheets),o.unsuspend)){var S=o.unsuspend;o.unsuspend=null,S()}},(o.imgBytes>Yg?50:800)+s);return o.unsuspend=f,function(){o.unsuspend=null,clearTimeout(p),clearTimeout(b)}}:null}function Jf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qf(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Xf=null;function Qf(o,s){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Xf=new Map,s.forEach(xq,o),Xf=null,Jf.call(o))}function xq(o,s){if(!(s.state.loading&4)){var f=Xf.get(o);if(f)var p=f.get(null);else{f=new Map,Xf.set(o,f);for(var b=o.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<b.length;S++){var M=b[S];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(f.set(M.dataset.precedence,M),p=M)}p&&f.set(null,p)}b=s.instance,M=b.getAttribute("data-precedence"),S=f.get(M)||p,S===p&&f.set(null,b),f.set(M,b),this.count++,p=Jf.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),S?S.parentNode.insertBefore(b,S.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(b,o.firstChild)),s.state.loading|=4}}var Tu={$$typeof:P,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function Aq(o,s,f,p,b,S,M,N,L){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kt(0),this.hiddenUpdates=Kt(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=S,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function Mx(o,s,f,p,b,S,M,N,L,G,Z,ie){return o=new Aq(o,s,f,M,L,G,Z,ie,N),s=1,S===!0&&(s|=24),S=Wn(3,null,null,s),o.current=S,S.stateNode=o,s=Cm(),s.refCount++,o.pooledCache=s,s.refCount++,S.memoizedState={element:p,isDehydrated:f,cache:s},Im(S),o}function Px(o){return o?(o=ms,o):ms}function Ox(o,s,f,p,b,S){b=Px(b),p.context===null?p.context=b:p.pendingContext=b,p=xa(s),p.payload={element:f},S=S===void 0?null:S,S!==null&&(p.callback=S),f=Aa(o,p,s),f!==null&&(qn(f,o,s),eu(f,o,s))}function Ix(o,s){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<s?f:s}}function Wg(o,s){Ix(o,s),(o=o.alternate)&&Ix(o,s)}function Nx(o){if(o.tag===13||o.tag===31){var s=fo(o,67108864);s!==null&&qn(s,o,67108864),Wg(o,67108864)}}function Dx(o){if(o.tag===13||o.tag===31){var s=er();s=Hp(s);var f=fo(o,s);f!==null&&qn(f,o,s),Wg(o,s)}}var Zf=!0;function Cq(o,s,f,p){var b=B.T;B.T=null;var S=ee.p;try{ee.p=2,Jg(o,s,f,p)}finally{ee.p=S,B.T=b}}function Mq(o,s,f,p){var b=B.T;B.T=null;var S=ee.p;try{ee.p=8,Jg(o,s,f,p)}finally{ee.p=S,B.T=b}}function Jg(o,s,f,p){if(Zf){var b=Xg(p);if(b===null)Lg(o,s,p,ed,f),kx(o,p);else if(Oq(b,o,s,f,p))p.stopPropagation();else if(kx(o,p),s&4&&-1<Pq.indexOf(o)){for(;b!==null;){var S=is(b);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var M=ae(S.pendingLanes);if(M!==0){var N=S;for(N.pendingLanes|=2,N.entangledLanes|=2;M;){var L=1<<31-jt(M);N.entanglements[1]|=L,M&=~L}Qr(S),(Ye&6)===0&&(Lf=yt()+500,gu(0))}}break;case 31:case 13:N=fo(S,2),N!==null&&qn(N,S,2),jf(),Wg(S,2)}if(S=Xg(p),S===null&&Lg(o,s,p,ed,f),S===b)break;b=S}b!==null&&p.stopPropagation()}else Lg(o,s,p,null,f)}}function Xg(o){return o=Zp(o),Qg(o)}var ed=null;function Qg(o){if(ed=null,o=rs(o),o!==null){var s=a(o);if(s===null)o=null;else{var f=s.tag;if(f===13){if(o=l(s),o!==null)return o;o=null}else if(f===31){if(o=u(s),o!==null)return o;o=null}else if(f===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null)}}return ed=o,null}function Rx(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qo()){case ga:return 2;case Zo:return 8;case va:case kl:return 32;case es:return 268435456;default:return 32}default:return 32}}var Zg=!1,Ua=null,ja=null,qa=null,Eu=new Map,wu=new Map,za=[],Pq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kx(o,s){switch(o){case"focusin":case"focusout":Ua=null;break;case"dragenter":case"dragleave":ja=null;break;case"mouseover":case"mouseout":qa=null;break;case"pointerover":case"pointerout":Eu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":wu.delete(s.pointerId)}}function xu(o,s,f,p,b,S){return o===null||o.nativeEvent!==S?(o={blockedOn:s,domEventName:f,eventSystemFlags:p,nativeEvent:S,targetContainers:[b]},s!==null&&(s=is(s),s!==null&&Nx(s)),o):(o.eventSystemFlags|=p,s=o.targetContainers,b!==null&&s.indexOf(b)===-1&&s.push(b),o)}function Oq(o,s,f,p,b){switch(s){case"focusin":return Ua=xu(Ua,o,s,f,p,b),!0;case"dragenter":return ja=xu(ja,o,s,f,p,b),!0;case"mouseover":return qa=xu(qa,o,s,f,p,b),!0;case"pointerover":var S=b.pointerId;return Eu.set(S,xu(Eu.get(S)||null,o,s,f,p,b)),!0;case"gotpointercapture":return S=b.pointerId,wu.set(S,xu(wu.get(S)||null,o,s,f,p,b)),!0}return!1}function Lx(o){var s=rs(o.target);if(s!==null){var f=a(s);if(f!==null){if(s=f.tag,s===13){if(s=l(f),s!==null){o.blockedOn=s,JS(o.priority,function(){Dx(f)});return}}else if(s===31){if(s=u(f),s!==null){o.blockedOn=s,JS(o.priority,function(){Dx(f)});return}}else if(s===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function td(o){if(o.blockedOn!==null)return!1;for(var s=o.targetContainers;0<s.length;){var f=Xg(o.nativeEvent);if(f===null){f=o.nativeEvent;var p=new f.constructor(f.type,f);Qp=p,f.target.dispatchEvent(p),Qp=null}else return s=is(f),s!==null&&Nx(s),o.blockedOn=f,!1;s.shift()}return!0}function Ux(o,s,f){td(o)&&f.delete(s)}function Iq(){Zg=!1,Ua!==null&&td(Ua)&&(Ua=null),ja!==null&&td(ja)&&(ja=null),qa!==null&&td(qa)&&(qa=null),Eu.forEach(Ux),wu.forEach(Ux)}function nd(o,s){o.blockedOn===s&&(o.blockedOn=null,Zg||(Zg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Iq)))}var rd=null;function jx(o){rd!==o&&(rd=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){rd===o&&(rd=null);for(var s=0;s<o.length;s+=3){var f=o[s],p=o[s+1],b=o[s+2];if(typeof p!="function"){if(Qg(p||f)===null)continue;break}var S=is(f);S!==null&&(o.splice(s,3),s-=3,Xm(S,{pending:!0,data:b,method:f.method,action:p},p,b))}}))}function qs(o){function s(L){return nd(L,o)}Ua!==null&&nd(Ua,o),ja!==null&&nd(ja,o),qa!==null&&nd(qa,o),Eu.forEach(s),wu.forEach(s);for(var f=0;f<za.length;f++){var p=za[f];p.blockedOn===o&&(p.blockedOn=null)}for(;0<za.length&&(f=za[0],f.blockedOn===null);)Lx(f),f.blockedOn===null&&za.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(p=0;p<f.length;p+=3){var b=f[p],S=f[p+1],M=b[Dn]||null;if(typeof S=="function")M||jx(f);else if(M){var N=null;if(S&&S.hasAttribute("formAction")){if(b=S,M=S[Dn]||null)N=M.formAction;else if(Qg(b)!==null)continue}else N=M.action;typeof N=="function"?f[p+1]=N:(f.splice(p,3),p-=3),jx(f)}}}function qx(){function o(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(M){return b=M})},focusReset:"manual",scroll:"manual"})}function s(){b!==null&&(b(),b=null),p||setTimeout(f,20)}function f(){if(!p&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,b=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(f,100),function(){p=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),b!==null&&(b(),b=null)}}}function ev(o){this._internalRoot=o}id.prototype.render=ev.prototype.render=function(o){var s=this._internalRoot;if(s===null)throw Error(r(409));var f=s.current,p=er();Ox(f,p,o,s,null,null)},id.prototype.unmount=ev.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var s=o.containerInfo;Ox(o.current,2,null,o,null,null),jf(),s[ns]=null}};function id(o){this._internalRoot=o}id.prototype.unstable_scheduleHydration=function(o){if(o){var s=WS();o={blockedOn:null,target:o,priority:s};for(var f=0;f<za.length&&s!==0&&s<za[f].priority;f++);za.splice(f,0,o),f===0&&Lx(o)}};var zx=t.version;if(zx!=="19.2.0")throw Error(r(527,zx,"19.2.0"));ee.findDOMNode=function(o){var s=o._reactInternals;if(s===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(s),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var Nq={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{hi=ad.inject(Nq),rn=ad}catch{}}return Cu.createRoot=function(o,s){if(!i(o))throw Error(r(299));var f=!1,p="",b=KE,S=YE,M=WE;return s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(b=s.onUncaughtError),s.onCaughtError!==void 0&&(S=s.onCaughtError),s.onRecoverableError!==void 0&&(M=s.onRecoverableError)),s=Mx(o,1,!1,null,null,f,p,null,b,S,M,qx),o[ns]=s.current,kg(o),new ev(s)},Cu.hydrateRoot=function(o,s,f){if(!i(o))throw Error(r(299));var p=!1,b="",S=KE,M=YE,N=WE,L=null;return f!=null&&(f.unstable_strictMode===!0&&(p=!0),f.identifierPrefix!==void 0&&(b=f.identifierPrefix),f.onUncaughtError!==void 0&&(S=f.onUncaughtError),f.onCaughtError!==void 0&&(M=f.onCaughtError),f.onRecoverableError!==void 0&&(N=f.onRecoverableError),f.formState!==void 0&&(L=f.formState)),s=Mx(o,1,!0,s,f??null,p,b,L,S,M,N,qx),s.context=Px(null),f=s.current,p=er(),p=Hp(p),b=xa(p),b.callback=null,Aa(f,b,p),f=p,s.current.lanes=f,Rr(s,f),Qr(s),o[ns]=s.current,kg(o),new id(s)},Cu.version="19.2.0",Cu}var Jx;function Hq(){if(Jx)return rv.exports;Jx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),rv.exports=Fq(),rv.exports}var Gq=Hq();var Xx="popstate";function Vq(e={}){function t(r,i){let{pathname:a,search:l,hash:u}=r.location;return Jy("",{pathname:a,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:nc(i)}return Yq(t,n,null,e)}function bt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Mr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Kq(){return Math.random().toString(36).substring(2,10)}function Qx(e,t){return{usr:e.state,key:e.key,idx:t}}function Jy(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?yl(t):t,state:n,key:t&&t.key||r||Kq()}}function nc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function yl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Yq(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,u="POP",c=null,d=h();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function h(){return(l.state||{idx:null}).idx}function m(){u="POP";let E=h(),C=E==null?null:E-d;d=E,c&&c({action:u,location:w.location,delta:C})}function v(E,C){u="PUSH";let O=Jy(w.location,E,C);d=h()+1;let P=Qx(O,d),D=w.createHref(O);try{l.pushState(P,"",D)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(D)}a&&c&&c({action:u,location:w.location,delta:1})}function _(E,C){u="REPLACE";let O=Jy(w.location,E,C);d=h();let P=Qx(O,d),D=w.createHref(O);l.replaceState(P,"",D),a&&c&&c({action:u,location:w.location,delta:0})}function T(E){return Wq(E)}let w={get action(){return u},get location(){return e(i,l)},listen(E){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Xx,m),c=E,()=>{i.removeEventListener(Xx,m),c=null}},createHref(E){return t(i,E)},createURL:T,encodeLocation(E){let C=T(E);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:_,go(E){return l.go(E)}};return w}function Wq(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),bt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:nc(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function RI(e,t,n="/"){return Jq(e,t,n,!1)}function Jq(e,t,n,r){let i=typeof t=="string"?yl(t):t,a=Ji(i.pathname||"/",n);if(a==null)return null;let l=kI(e);Xq(l);let u=null;for(let c=0;u==null&&c<l.length;++c){let d=lz(a);u=oz(l[c],d,r)}return u}function kI(e,t=[],n=[],r="",i=!1){let a=(l,u,c=i,d)=>{let h={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&c)return;bt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let m=Vi([r,h.relativePath]),v=n.concat(h);l.children&&l.children.length>0&&(bt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),kI(l.children,t,v,m,c)),!(l.path==null&&!l.index)&&t.push({path:m,score:iz(m,l.index),routesMeta:v})};return e.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))a(l,u);else for(let c of LI(l.path))a(l,u,!0,c)}),t}function LI(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=LI(r.join("/")),u=[];return u.push(...l.map(c=>c===""?a:[a,c].join("/"))),i&&u.push(...l),u.map(c=>e.startsWith("/")&&c===""?"/":c)}function Xq(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:az(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Qq=/^:[\w-]+$/,Zq=3,ez=2,tz=1,nz=10,rz=-2,Zx=e=>e==="*";function iz(e,t){let n=e.split("/"),r=n.length;return n.some(Zx)&&(r+=rz),t&&(r+=ez),n.filter(i=>!Zx(i)).reduce((i,a)=>i+(Qq.test(a)?Zq:a===""?tz:nz),r)}function az(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function oz(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",l=[];for(let u=0;u<r.length;++u){let c=r[u],d=u===r.length-1,h=a==="/"?t:t.slice(a.length)||"/",m=$d({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),v=c.route;if(!m&&d&&n&&!r[r.length-1].route.index&&(m=$d({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:Vi([a,m.pathname]),pathnameBase:hz(Vi([a,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(a=Vi([a,m.pathnameBase]))}return l}function $d(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=sz(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:m},v)=>{if(h==="*"){let T=u[v]||"";l=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}const _=u[v];return m&&!_?d[h]=void 0:d[h]=(_||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:l,pattern:e}}function sz(e,t=!1,n=!0){Mr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function lz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Mr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ji(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var uz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cz=e=>uz.test(e);function fz(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?yl(e):e,a;if(n)if(cz(n))a=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Mr(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?a=eA(n.substring(1),"/"):a=eA(n,t)}else a=t;return{pathname:a,search:pz(r),hash:mz(i)}}function eA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function sv(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dz(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function UI(e){let t=dz(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function jI(e,t,n,r=!1){let i;typeof e=="string"?i=yl(e):(i={...e},bt(!i.pathname||!i.pathname.includes("?"),sv("?","pathname","search",i)),bt(!i.pathname||!i.pathname.includes("#"),sv("#","pathname","hash",i)),bt(!i.search||!i.search.includes("#"),sv("#","search","hash",i)));let a=e===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=n;else{let m=t.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),m-=1;i.pathname=v.join("/")}u=m>=0?t[m]:"/"}let c=fz(i,u),d=l&&l!=="/"&&l.endsWith("/"),h=(a||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}var Vi=e=>e.join("/").replace(/\/\/+/g,"/"),hz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),pz=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,mz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function gz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var qI=["POST","PUT","PATCH","DELETE"];new Set(qI);var vz=["GET",...qI];new Set(vz);var bl=x.createContext(null);bl.displayName="DataRouter";var Yh=x.createContext(null);Yh.displayName="DataRouterState";x.createContext(!1);var zI=x.createContext({isTransitioning:!1});zI.displayName="ViewTransition";var yz=x.createContext(new Map);yz.displayName="Fetchers";var bz=x.createContext(null);bz.displayName="Await";var li=x.createContext(null);li.displayName="Navigation";var _c=x.createContext(null);_c.displayName="Location";var la=x.createContext({outlet:null,matches:[],isDataRoute:!1});la.displayName="Route";var Rb=x.createContext(null);Rb.displayName="RouteError";function _z(e,{relative:t}={}){bt(Sc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(li),{hash:i,pathname:a,search:l}=Tc(e,{relative:t}),u=a;return n!=="/"&&(u=a==="/"?n:Vi([n,a])),r.createHref({pathname:u,search:l,hash:i})}function Sc(){return x.useContext(_c)!=null}function Za(){return bt(Sc(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(_c).location}var BI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $I(e){x.useContext(li).static||x.useLayoutEffect(e)}function Wh(){let{isDataRoute:e}=x.useContext(la);return e?Dz():Sz()}function Sz(){bt(Sc(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(bl),{basename:t,navigator:n}=x.useContext(li),{matches:r}=x.useContext(la),{pathname:i}=Za(),a=JSON.stringify(UI(r)),l=x.useRef(!1);return $I(()=>{l.current=!0}),x.useCallback((c,d={})=>{if(Mr(l.current,BI),!l.current)return;if(typeof c=="number"){n.go(c);return}let h=jI(c,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Vi([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,a,i,e])}x.createContext(null);function Tc(e,{relative:t}={}){let{matches:n}=x.useContext(la),{pathname:r}=Za(),i=JSON.stringify(UI(n));return x.useMemo(()=>jI(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function Tz(e,t){return FI(e,t)}function FI(e,t,n,r,i){bt(Sc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=x.useContext(li),{matches:l}=x.useContext(la),u=l[l.length-1],c=u?u.params:{},d=u?u.pathname:"/",h=u?u.pathnameBase:"/",m=u&&u.route;{let O=m&&m.path||"";HI(d,!m||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let v=Za(),_;if(t){let O=typeof t=="string"?yl(t):t;bt(h==="/"||O.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${O.pathname}" was given in the \`location\` prop.`),_=O}else _=v;let T=_.pathname||"/",w=T;if(h!=="/"){let O=h.replace(/^\//,"").split("/");w="/"+T.replace(/^\//,"").split("/").slice(O.length).join("/")}let E=RI(e,{pathname:w});Mr(m||E!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Mr(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=Cz(E&&E.map(O=>Object.assign({},O,{params:Object.assign({},c,O.params),pathname:Vi([h,a.encodeLocation?a.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?h:Vi([h,a.encodeLocation?a.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),l,n,r,i);return t&&C?x.createElement(_c.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},C):C}function Ez(){let e=Nz(),t=gz(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:a},"ErrorBoundary")," or"," ",x.createElement("code",{style:a},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:i},n):null,l)}var wz=x.createElement(Ez,null),xz=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?x.createElement(la.Provider,{value:this.props.routeContext},x.createElement(Rb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Az({routeContext:e,match:t,children:n}){let r=x.useContext(bl);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(la.Provider,{value:e},n)}function Cz(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=n?.errors;if(l!=null){let h=a.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);bt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,c=-1;if(n)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=h),m.route.id){let{loaderData:v,errors:_}=n,T=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!_||_[m.route.id]===void 0);if(m.route.lazy||T){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}let d=n&&r?(h,m)=>{r(h,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:m})}:void 0;return a.reduceRight((h,m,v)=>{let _,T=!1,w=null,E=null;n&&(_=l&&m.route.id?l[m.route.id]:void 0,w=m.route.errorElement||wz,u&&(c<0&&v===0?(HI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,E=null):c===v&&(T=!0,E=m.route.hydrateFallbackElement||null)));let C=t.concat(a.slice(0,v+1)),O=()=>{let P;return _?P=w:T?P=E:m.route.Component?P=x.createElement(m.route.Component,null):m.route.element?P=m.route.element:P=h,x.createElement(Az,{match:m,routeContext:{outlet:h,matches:C,isDataRoute:n!=null},children:P})};return n&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?x.createElement(xz,{location:n.location,revalidation:n.revalidation,component:w,error:_,children:O(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:d}):O()},null)}function kb(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Mz(e){let t=x.useContext(bl);return bt(t,kb(e)),t}function Pz(e){let t=x.useContext(Yh);return bt(t,kb(e)),t}function Oz(e){let t=x.useContext(la);return bt(t,kb(e)),t}function Lb(e){let t=Oz(e),n=t.matches[t.matches.length-1];return bt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Iz(){return Lb("useRouteId")}function Nz(){let e=x.useContext(Rb),t=Pz("useRouteError"),n=Lb("useRouteError");return e!==void 0?e:t.errors?.[n]}function Dz(){let{router:e}=Mz("useNavigate"),t=Lb("useNavigate"),n=x.useRef(!1);return $I(()=>{n.current=!0}),x.useCallback(async(i,a={})=>{Mr(n.current,BI),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var tA={};function HI(e,t,n){!t&&!tA[e]&&(tA[e]=!0,Mr(!1,n))}x.memo(Rz);function Rz({routes:e,future:t,state:n,unstable_onError:r}){return FI(e,void 0,n,r,t)}function Fs(e){bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kz({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){bt(!Sc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof n=="string"&&(n=yl(n));let{pathname:c="/",search:d="",hash:h="",state:m=null,key:v="default"}=n,_=x.useMemo(()=>{let T=Ji(c,l);return T==null?null:{location:{pathname:T,search:d,hash:h,state:m,key:v},navigationType:r}},[l,c,d,h,m,v,r]);return Mr(_!=null,`<Router basename="${l}"> is not able to match the URL "${c}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:x.createElement(li.Provider,{value:u},x.createElement(_c.Provider,{children:t,value:_}))}function Lz({children:e,location:t}){return Tz(Xy(e),t)}function Xy(e,t=[]){let n=[];return x.Children.forEach(e,(r,i)=>{if(!x.isValidElement(r))return;let a=[...t,i];if(r.type===x.Fragment){n.push.apply(n,Xy(r.props.children,a));return}bt(r.type===Fs,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Xy(r.props.children,a)),n.push(l)}),n}var Md="get",Pd="application/x-www-form-urlencoded";function Jh(e){return e!=null&&typeof e.tagName=="string"}function Uz(e){return Jh(e)&&e.tagName.toLowerCase()==="button"}function jz(e){return Jh(e)&&e.tagName.toLowerCase()==="form"}function qz(e){return Jh(e)&&e.tagName.toLowerCase()==="input"}function zz(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Bz(e,t){return e.button===0&&(!t||t==="_self")&&!zz(e)}function Qy(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function $z(e,t){let n=Qy(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(a=>{n.append(i,a)})}),n}var od=null;function Fz(){if(od===null)try{new FormData(document.createElement("form"),0),od=!1}catch{od=!0}return od}var Hz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lv(e){return e!=null&&!Hz.has(e)?(Mr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pd}"`),null):e}function Gz(e,t){let n,r,i,a,l;if(jz(e)){let u=e.getAttribute("action");r=u?Ji(u,t):null,n=e.getAttribute("method")||Md,i=lv(e.getAttribute("enctype"))||Pd,a=new FormData(e)}else if(Uz(e)||qz(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||u.getAttribute("action");if(r=c?Ji(c,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||Md,i=lv(e.getAttribute("formenctype"))||lv(u.getAttribute("enctype"))||Pd,a=new FormData(u,e),!Fz()){let{name:d,type:h,value:m}=e;if(h==="image"){let v=d?`${d}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else d&&a.append(d,m)}}else{if(Jh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Md,r=null,i=Pd,l=e}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ub(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Vz(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Ji(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Kz(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Yz(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Wz(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let l=await Kz(a,n);return l.links?l.links():[]}return[]}));return Zz(r.flat(1).filter(Yz).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function nA(e,t,n,r,i,a){let l=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,u=(c,d)=>n[d].pathname!==c.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==c.params["*"];return a==="assets"?t.filter((c,d)=>l(c,d)||u(c,d)):a==="data"?t.filter((c,d)=>{let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(l(c,d)||u(c,d))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function Jz(e,t,{includeHydrateFallback:n}={}){return Xz(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function Xz(e){return[...new Set(e)]}function Qz(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Zz(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(Qz(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function GI(){let e=x.useContext(bl);return Ub(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function eB(){let e=x.useContext(Yh);return Ub(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var jb=x.createContext(void 0);jb.displayName="FrameworkContext";function VI(){let e=x.useContext(jb);return Ub(e,"You must render this element inside a <HydratedRouter> element"),e}function tB(e,t){let n=x.useContext(jb),[r,i]=x.useState(!1),[a,l]=x.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:m}=t,v=x.useRef(null);x.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let w=C=>{C.forEach(O=>{l(O.isIntersecting)})},E=new IntersectionObserver(w,{threshold:.5});return v.current&&E.observe(v.current),()=>{E.disconnect()}}},[e]),x.useEffect(()=>{if(r){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[r]);let _=()=>{i(!0)},T=()=>{i(!1),l(!1)};return n?e!=="intent"?[a,v,{}]:[a,v,{onFocus:Mu(u,_),onBlur:Mu(c,T),onMouseEnter:Mu(d,_),onMouseLeave:Mu(h,T),onTouchStart:Mu(m,_)}]:[!1,v,{}]}function Mu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function nB({page:e,...t}){let{router:n}=GI(),r=x.useMemo(()=>RI(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?x.createElement(iB,{page:e,matches:r,...t}):null}function rB(e){let{manifest:t,routeModules:n}=VI(),[r,i]=x.useState([]);return x.useEffect(()=>{let a=!1;return Wz(e,t,n).then(l=>{a||i(l)}),()=>{a=!0}},[e,t,n]),r}function iB({page:e,matches:t,...n}){let r=Za(),{manifest:i,routeModules:a}=VI(),{basename:l}=GI(),{loaderData:u,matches:c}=eB(),d=x.useMemo(()=>nA(e,t,c,i,r,"data"),[e,t,c,i,r]),h=x.useMemo(()=>nA(e,t,c,i,r,"assets"),[e,t,c,i,r]),m=x.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let T=new Set,w=!1;if(t.forEach(C=>{let O=i.routes[C.route.id];!O||!O.hasLoader||(!d.some(P=>P.route.id===C.route.id)&&C.route.id in u&&a[C.route.id]?.shouldRevalidate||O.hasClientLoader?w=!0:T.add(C.route.id))}),T.size===0)return[];let E=Vz(e,l,"data");return w&&T.size>0&&E.searchParams.set("_routes",t.filter(C=>T.has(C.route.id)).map(C=>C.route.id).join(",")),[E.pathname+E.search]},[l,u,r,i,d,t,e,a]),v=x.useMemo(()=>Jz(h,i),[h,i]),_=rB(h);return x.createElement(x.Fragment,null,m.map(T=>x.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),v.map(T=>x.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),_.map(({key:T,link:w})=>x.createElement("link",{key:T,nonce:n.nonce,...w})))}function aB(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var KI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{KI&&(window.__reactRouterVersion="7.9.6")}catch{}function oB({basename:e,children:t,window:n}){let r=x.useRef();r.current==null&&(r.current=Vq({window:n,v5Compat:!0}));let i=r.current,[a,l]=x.useState({action:i.action,location:i.location}),u=x.useCallback(c=>{x.startTransition(()=>l(c))},[l]);return x.useLayoutEffect(()=>i.listen(u),[i,u]),x.createElement(kz,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}var YI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WI=x.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:u,target:c,to:d,preventScrollReset:h,viewTransition:m,...v},_){let{basename:T}=x.useContext(li),w=typeof d=="string"&&YI.test(d),E,C=!1;if(typeof d=="string"&&w&&(E=d,KI))try{let $=new URL(window.location.href),re=d.startsWith("//")?new URL($.protocol+d):new URL(d),F=Ji(re.pathname,T);re.origin===$.origin&&F!=null?d=F+re.search+re.hash:C=!0}catch{Mr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=_z(d,{relative:i}),[P,D,I]=tB(r,v),R=uB(d,{replace:l,state:u,target:c,preventScrollReset:h,relative:i,viewTransition:m});function k($){t&&t($),$.defaultPrevented||R($)}let z=x.createElement("a",{...v,...I,href:E||O,onClick:C||a?t:k,ref:aB(_,D),target:c,"data-discover":!w&&n==="render"?"true":void 0});return P&&!w?x.createElement(x.Fragment,null,z,x.createElement(nB,{page:O})):z});WI.displayName="Link";var JI=x.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:u,children:c,...d},h){let m=Tc(l,{relative:d.relative}),v=Za(),_=x.useContext(Yh),{navigator:T,basename:w}=x.useContext(li),E=_!=null&&mB(m)&&u===!0,C=T.encodeLocation?T.encodeLocation(m).pathname:m.pathname,O=v.pathname,P=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(O=O.toLowerCase(),P=P?P.toLowerCase():null,C=C.toLowerCase()),P&&w&&(P=Ji(P,w)||P);const D=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let I=O===C||!i&&O.startsWith(C)&&O.charAt(D)==="/",R=P!=null&&(P===C||!i&&P.startsWith(C)&&P.charAt(C.length)==="/"),k={isActive:I,isPending:R,isTransitioning:E},z=I?t:void 0,$;typeof r=="function"?$=r(k):$=[r,I?"active":null,R?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let re=typeof a=="function"?a(k):a;return x.createElement(WI,{...d,"aria-current":z,className:$,ref:h,style:re,to:l,viewTransition:u},typeof c=="function"?c(k):c)});JI.displayName="NavLink";var sB=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:l=Md,action:u,onSubmit:c,relative:d,preventScrollReset:h,viewTransition:m,...v},_)=>{let T=hB(),w=pB(u,{relative:d}),E=l.toLowerCase()==="get"?"get":"post",C=typeof u=="string"&&YI.test(u),O=P=>{if(c&&c(P),P.defaultPrevented)return;P.preventDefault();let D=P.nativeEvent.submitter,I=D?.getAttribute("formmethod")||l;T(D||P.currentTarget,{fetcherKey:t,method:I,navigate:n,replace:i,state:a,relative:d,preventScrollReset:h,viewTransition:m})};return x.createElement("form",{ref:_,method:E,action:w,onSubmit:r?c:O,...v,"data-discover":!C&&e==="render"?"true":void 0})});sB.displayName="Form";function lB(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XI(e){let t=x.useContext(bl);return bt(t,lB(e)),t}function uB(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let u=Wh(),c=Za(),d=Tc(e,{relative:a});return x.useCallback(h=>{if(Bz(h,t)){h.preventDefault();let m=n!==void 0?n:nc(c)===nc(d);u(e,{replace:m,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[c,u,d,n,r,t,e,i,a,l])}function cB(e){Mr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=x.useRef(Qy(e)),n=x.useRef(!1),r=Za(),i=x.useMemo(()=>$z(r.search,n.current?null:t.current),[r.search]),a=Wh(),l=x.useCallback((u,c)=>{const d=Qy(typeof u=="function"?u(new URLSearchParams(i)):u);n.current=!0,a("?"+d,c)},[a,i]);return[i,l]}var fB=0,dB=()=>`__${String(++fB)}__`;function hB(){let{router:e}=XI("useSubmit"),{basename:t}=x.useContext(li),n=Iz();return x.useCallback(async(r,i={})=>{let{action:a,method:l,encType:u,formData:c,body:d}=Gz(r,t);if(i.navigate===!1){let h=i.fetcherKey||dB();await e.fetch(h,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function pB(e,{relative:t}={}){let{basename:n}=x.useContext(li),r=x.useContext(la);bt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Tc(e||".",{relative:t})},l=Za();if(e==null){a.search=l.search;let u=new URLSearchParams(a.search),c=u.getAll("index");if(c.some(h=>h==="")){u.delete("index"),c.filter(m=>m).forEach(m=>u.append("index",m));let h=u.toString();a.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Vi([n,a.pathname])),nc(a)}function mB(e,{relative:t}={}){let n=x.useContext(zI);bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=XI("useViewTransitionState"),i=Tc(e,{relative:t});if(!n.isTransitioning)return!1;let a=Ji(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Ji(n.nextLocation.pathname,r)||n.nextLocation.pathname;return $d(i.pathname,l)!=null||$d(i.pathname,a)!=null}var qb=DI();function dn(e){if(typeof e=="number")return(Math.abs(e*2654435761)>>>0).toString(16);if(typeof e=="boolean")return e?"1":"0";if(e===null)return"null";if(e===void 0)return"undefined";if(typeof e=="string"){let t=2166136261;for(let n=0;n<e.length;n++)t^=e.charCodeAt(n),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24),t=t>>>0;return t.toString(16)}if(Array.isArray(e)){let t=2166136261;for(let n=0;n<e.length;n++){t^=(n+1)*2654435761;const r=dn(e[n]);for(let i=0;i<r.length;i++)t^=r.charCodeAt(i),t*=16777619,t=t>>>0}return t.toString(16)}if(typeof e=="object"){let t=2166136261;const n=Object.keys(e).sort();for(let r=0;r<n.length;r++){const i=n[r],a=dn(i);t^=parseInt(a,16),t*=16777619,t=t>>>0;const l=dn(e[i]);t^=parseInt(l,16),t*=16777619,t=t>>>0}return t.toString(16)}return dn(String(e))}const Mt={Remove:"remove",Replace:"replace",Add:"add"},QI=Symbol.for("__MUTATIVE_PROXY_DRAFT__"),gB=Symbol("__MUTATIVE_RAW_RETURN_SYMBOL__"),Od=Symbol.iterator,ar={mutable:"mutable",immutable:"immutable"},zb={};function Vu(e,t){return e instanceof Map?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function rA(e,t){if(t in e){let n=Reflect.getPrototypeOf(e);for(;n;){const r=Reflect.getOwnPropertyDescriptor(n,t);if(r)return r;n=Reflect.getPrototypeOf(n)}}}function Bb(e){return Object.getPrototypeOf(e)===Set.prototype}function $b(e){return Object.getPrototypeOf(e)===Map.prototype}function nr(e){var t;return(t=e.copy)!==null&&t!==void 0?t:e.original}function Ya(e){return!!$e(e)}function $e(e){return typeof e!="object"?null:e?.[QI]}function Fb(e){var t;const n=$e(e);return n?(t=n.copy)!==null&&t!==void 0?t:n.original:e}function Hr(e,t){if(!e||typeof e!="object")return!1;let n;return Object.getPrototypeOf(e)===Object.prototype||Array.isArray(e)||e instanceof Map||e instanceof Set||!!t?.mark&&((n=t.mark(e,ar))===ar.immutable||typeof n=="function")}function ZI(e,t=[]){if(Object.hasOwnProperty.call(e,"key")){const n=e.parent.copy,r=$e(Xi(n,e.key));if(r!==null&&r?.original!==e.original)return null;const i=e.parent.type===3,a=i?Array.from(e.parent.setMap.keys()).indexOf(e.key):e.key;if(!(i&&n.size>a||Vu(n,a)))return null;t.push(a)}if(e.parent)return ZI(e.parent,t);t.reverse();try{vB(e.copy,t)}catch{return null}return t}function Yo(e){return Array.isArray(e)?1:e instanceof Map?2:e instanceof Set?3:0}function Xi(e,t){return Yo(e)===2?e.get(t):e[t]}function Ec(e,t,n){Yo(e)===2?e.set(t,n):e[t]=n}function uv(e,t){const n=$e(e);return(n?nr(n):e)[t]}function Ki(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Zy(e){if(e)for(;e.finalities.revoke.length>0;)e.finalities.revoke.pop()()}function Ro(e,t){return t?e:[""].concat(e).map(n=>{const r=`${n}`;return r.indexOf("/")===-1&&r.indexOf("~")===-1?r:r.replace(/~/g,"~0").replace(/\//g,"~1")}).join("/")}function vB(e,t){for(let n=0;n<t.length-1;n+=1){const r=t[n];if(e=Xi(Yo(e)===3?Array.from(e):e,r),typeof e!="object")throw new Error(`Cannot resolve patch at '${t.join("/")}'.`)}return e}function yB(e){const t=Object.create(Object.getPrototypeOf(e));return Reflect.ownKeys(e).forEach(n=>{let r=Reflect.getOwnPropertyDescriptor(e,n);if(r.enumerable&&r.configurable&&r.writable){t[n]=e[n];return}r.writable||(r.writable=!0,r.configurable=!0),(r.get||r.set)&&(r={configurable:!0,writable:!0,enumerable:r.enumerable,value:e[n]}),Reflect.defineProperty(t,n,r)}),t}const bB=Object.prototype.propertyIsEnumerable;function eN(e,t){let n;if(Array.isArray(e))return Array.prototype.concat.call(e);if(e instanceof Set){if(!Bb(e)){const r=Object.getPrototypeOf(e).constructor;return new r(e.values())}return Set.prototype.difference?Set.prototype.difference.call(e,new Set):new Set(e.values())}else if(e instanceof Map){if(!$b(e)){const r=Object.getPrototypeOf(e).constructor;return new r(e)}return new Map(e)}else if(t?.mark&&(n=t.mark(e,ar),n!==void 0)&&n!==ar.mutable){if(n===ar.immutable)return yB(e);if(typeof n=="function"){if(t.enablePatches||t.enableAutoFreeze)throw new Error("You can't use mark and patches or auto freeze together.");return n()}throw new Error(`Unsupported mark result: ${n}`)}else if(typeof e=="object"&&Object.getPrototypeOf(e)===Object.prototype){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i]}),Object.getOwnPropertySymbols(e).forEach(i=>{bB.call(e,i)&&(r[i]=e[i])}),r}else throw new Error("Please check mark() to ensure that it is a stable marker draftable function.")}function Cn(e){e.copy||(e.copy=eN(e.original,e.options))}function qu(e){if(!Hr(e))return Fb(e);if(Array.isArray(e))return e.map(qu);if(e instanceof Map){const n=Array.from(e.entries()).map(([r,i])=>[r,qu(i)]);if(!$b(e)){const r=Object.getPrototypeOf(e).constructor;return new r(n)}return new Map(n)}if(e instanceof Set){const n=Array.from(e).map(qu);if(!Bb(e)){const r=Object.getPrototypeOf(e).constructor;return new r(n)}return new Set(n)}const t=Object.create(Object.getPrototypeOf(e));for(const n in e)t[n]=qu(e[n]);return t}function Id(e){return Ya(e)?qu(e):e}function ni(e){var t;e.assignedMap=(t=e.assignedMap)!==null&&t!==void 0?t:new Map,e.operated||(e.operated=!0,e.parent&&ni(e.parent))}function iA(){throw new Error("Cannot modify frozen object")}function Hs(e,t,n,r,i){{n=n??new WeakMap,r=r??[],i=i??[];const l=n.has(e)?n.get(e):e;if(r.length>0){const u=r.indexOf(l);if(l&&typeof l=="object"&&u!==-1)throw r[0]===l?new Error("Forbids circular reference"):new Error(`Forbids circular reference: ~/${i.slice(0,u).map((c,d)=>{if(typeof c=="symbol")return`[${c.toString()}]`;const h=r[d];return typeof c=="object"&&(h instanceof Map||h instanceof Set)?Array.from(h.keys()).indexOf(c):c}).join("/")}`);r.push(l),i.push(t)}else r.push(l)}if(Object.isFrozen(e)||Ya(e)){r.pop(),i.pop();return}switch(Yo(e)){case 2:for(const[u,c]of e)Hs(u,u,n,r,i),Hs(c,u,n,r,i);e.set=e.clear=e.delete=iA;break;case 3:for(const u of e)Hs(u,u,n,r,i);e.add=e.clear=e.delete=iA;break;case 1:Object.freeze(e);let l=0;for(const u of e)Hs(u,l,n,r,i),l+=1;break;default:Object.freeze(e),Object.keys(e).forEach(u=>{const c=e[u];Hs(c,u,n,r,i)})}r.pop(),i.pop()}function Hb(e,t){const n=Yo(e);if(n===0)Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)});else if(n===1){let r=0;for(const i of e)t(r,i,e),r+=1}else e.forEach((r,i)=>t(i,r,e))}function tN(e,t,n){if(Ya(e)||!Hr(e,n)||t.has(e)||Object.isFrozen(e))return;const r=e instanceof Set,i=r?new Map:void 0;if(t.add(e),Hb(e,(a,l)=>{var u;if(Ya(l)){const c=$e(l);Cn(c);const d=!((u=c.assignedMap)===null||u===void 0)&&u.size||c.operated?c.copy:c.original;Ec(r?i:e,a,d)}else tN(l,t,n)}),i){const a=e,l=Array.from(a);a.clear(),l.forEach(u=>{a.add(i.has(u)?i.get(u):u)})}}function _B(e,t){const n=e.type===3?e.setMap:e.copy;e.finalities.revoke.length>1&&e.assignedMap.get(t)&&n&&tN(Xi(n,t),e.finalities.handledSet,e.options)}function e0(e){e.type===3&&e.copy&&(e.copy.clear(),e.setMap.forEach(t=>{e.copy.add(Fb(t))}))}function t0(e,t,n,r){if(e.operated&&e.assignedMap&&e.assignedMap.size>0&&!e.finalized){if(n&&r){const a=ZI(e);a&&t(e,a,n,r)}e.finalized=!0}}function Gb(e,t,n,r){const i=$e(n);i&&(i.callbacks||(i.callbacks=[]),i.callbacks.push((a,l)=>{var u;const c=e.type===3?e.setMap:e.copy;if(Ki(Xi(c,t),n)){let d=i.original;i.copy&&(d=i.copy),e0(e),t0(e,r,a,l),e.options.enableAutoFreeze&&(e.options.updatedValues=(u=e.options.updatedValues)!==null&&u!==void 0?u:new WeakMap,e.options.updatedValues.set(d,i.original)),Ec(c,t,d)}}),e.options.enableAutoFreeze&&i.finalities!==e.finalities&&(e.options.enableAutoFreeze=!1)),Hr(n,e.options)&&e.finalities.draft.push(()=>{const a=e.type===3?e.setMap:e.copy;Ki(Xi(a,t),n)&&_B(e,t)})}function SB(e,t,n,r,i){let{original:a,assignedMap:l,options:u}=e,c=e.copy;c.length<a.length&&([a,c]=[c,a],[n,r]=[r,n]);for(let d=0;d<a.length;d+=1)if(l.get(d.toString())&&c[d]!==a[d]){const h=t.concat([d]),m=Ro(h,i);n.push({op:Mt.Replace,path:m,value:Id(c[d])}),r.push({op:Mt.Replace,path:m,value:Id(a[d])})}for(let d=a.length;d<c.length;d+=1){const h=t.concat([d]),m=Ro(h,i);n.push({op:Mt.Add,path:m,value:Id(c[d])})}if(a.length<c.length){const{arrayLengthAssignment:d=!0}=u.enablePatches;if(d){const h=t.concat(["length"]),m=Ro(h,i);r.push({op:Mt.Replace,path:m,value:a.length})}else for(let h=c.length;a.length<h;h-=1){const m=t.concat([h-1]),v=Ro(m,i);r.push({op:Mt.Remove,path:v})}}}function TB({original:e,copy:t,assignedMap:n},r,i,a,l){n.forEach((u,c)=>{const d=Xi(e,c),h=Id(Xi(t,c)),m=u?Vu(e,c)?Mt.Replace:Mt.Add:Mt.Remove;if(Ki(d,h)&&m===Mt.Replace)return;const v=r.concat(c),_=Ro(v,l);i.push(m===Mt.Remove?{op:m,path:_}:{op:m,path:_,value:h}),a.push(m===Mt.Add?{op:Mt.Remove,path:_}:m===Mt.Remove?{op:Mt.Add,path:_,value:d}:{op:Mt.Replace,path:_,value:d})})}function EB({original:e,copy:t},n,r,i,a){let l=0;e.forEach(u=>{if(!t.has(u)){const c=n.concat([l]),d=Ro(c,a);r.push({op:Mt.Remove,path:d,value:u}),i.unshift({op:Mt.Add,path:d,value:u})}l+=1}),l=0,t.forEach(u=>{if(!e.has(u)){const c=n.concat([l]),d=Ro(c,a);r.push({op:Mt.Add,path:d,value:u}),i.unshift({op:Mt.Remove,path:d,value:u})}l+=1})}function rc(e,t,n,r){const{pathAsArray:i=!0}=e.options.enablePatches;switch(e.type){case 0:case 2:return TB(e,t,n,r,i);case 1:return SB(e,t,n,r,i);case 3:return EB(e,t,n,r,i)}}const Fd=(e,t,n=!1)=>{if(typeof e=="object"&&e!==null&&(!Hr(e,t)||n))throw new Error("Strict mode: Mutable data cannot be accessed directly, please use 'unsafe(callback)' wrap.")},n0={get size(){return nr($e(this)).size},has(e){return nr($e(this)).has(e)},set(e,t){const n=$e(this),r=nr(n);return(!r.has(e)||!Ki(r.get(e),t))&&(Cn(n),ni(n),n.assignedMap.set(e,!0),n.copy.set(e,t),Gb(n,e,t,rc)),this},delete(e){if(!this.has(e))return!1;const t=$e(this);return Cn(t),ni(t),t.original.has(e)?t.assignedMap.set(e,!1):t.assignedMap.delete(e),t.copy.delete(e),!0},clear(){const e=$e(this);if(this.size){Cn(e),ni(e),e.assignedMap=new Map;for(const[t]of e.original)e.assignedMap.set(t,!1);e.copy.clear()}},forEach(e,t){const n=$e(this);nr(n).forEach((r,i)=>{e.call(t,this.get(i),i,this)})},get(e){var t,n;const r=$e(this),i=nr(r).get(e),a=((n=(t=r.options).mark)===null||n===void 0?void 0:n.call(t,i,ar))===ar.mutable;if(r.options.strict&&Fd(i,r.options,a),a||r.finalized||!Hr(i,r.options)||i!==r.original.get(e))return i;const l=zb.createDraft({original:i,parentDraft:r,key:e,finalities:r.finalities,options:r.options});return Cn(r),r.copy.set(e,l),l},keys(){return nr($e(this)).keys()},values(){const e=this.keys();return{[Od]:()=>this.values(),next:()=>{const t=e.next();return t.done?t:{done:!1,value:this.get(t.value)}}}},entries(){const e=this.keys();return{[Od]:()=>this.entries(),next:()=>{const t=e.next();if(t.done)return t;const n=this.get(t.value);return{done:!1,value:[t.value,n]}}}},[Od](){return this.entries()}},wB=Reflect.ownKeys(n0),aA=(e,t,{isValuesIterator:n})=>()=>{var r,i;const a=t.next();if(a.done)return a;const l=a.value;let u=e.setMap.get(l);const c=$e(u),d=((i=(r=e.options).mark)===null||i===void 0?void 0:i.call(r,u,ar))===ar.mutable;if(e.options.strict&&Fd(l,e.options,d),!d&&!c&&Hr(l,e.options)&&!e.finalized&&e.original.has(l)){const h=zb.createDraft({original:l,parentDraft:e,key:l,finalities:e.finalities,options:e.options});e.setMap.set(l,h),u=h}else c&&(u=c.proxy);return{done:!1,value:n?u:[u,u]}},Hd={get size(){return $e(this).setMap.size},has(e){const t=$e(this);if(t.setMap.has(e))return!0;Cn(t);const n=$e(e);return!!(n&&t.setMap.has(n.original))},add(e){const t=$e(this);return this.has(e)||(Cn(t),ni(t),t.assignedMap.set(e,!0),t.setMap.set(e,e),Gb(t,e,e,rc)),this},delete(e){if(!this.has(e))return!1;const t=$e(this);Cn(t),ni(t);const n=$e(e);return n&&t.setMap.has(n.original)?(t.assignedMap.set(n.original,!1),t.setMap.delete(n.original)):(!n&&t.setMap.has(e)?t.assignedMap.set(e,!1):t.assignedMap.delete(e),t.setMap.delete(e))},clear(){if(!this.size)return;const e=$e(this);Cn(e),ni(e);for(const t of e.original)e.assignedMap.set(t,!1);e.setMap.clear()},values(){const e=$e(this);Cn(e);const t=e.setMap.keys();return{[Symbol.iterator]:()=>this.values(),next:aA(e,t,{isValuesIterator:!0})}},entries(){const e=$e(this);Cn(e);const t=e.setMap.keys();return{[Symbol.iterator]:()=>this.entries(),next:aA(e,t,{isValuesIterator:!1})}},keys(){return this.values()},[Od](){return this.values()},forEach(e,t){const n=this.values();let r=n.next();for(;!r.done;)e.call(t,r.value,r.value,this),r=n.next()}};Set.prototype.difference&&Object.assign(Hd,{intersection(e){return Set.prototype.intersection.call(new Set(this.values()),e)},union(e){return Set.prototype.union.call(new Set(this.values()),e)},difference(e){return Set.prototype.difference.call(new Set(this.values()),e)},symmetricDifference(e){return Set.prototype.symmetricDifference.call(new Set(this.values()),e)},isSubsetOf(e){return Set.prototype.isSubsetOf.call(new Set(this.values()),e)},isSupersetOf(e){return Set.prototype.isSupersetOf.call(new Set(this.values()),e)},isDisjointFrom(e){return Set.prototype.isDisjointFrom.call(new Set(this.values()),e)}});const xB=Reflect.ownKeys(Hd),nN={get(e,t,n){var r,i;const a=(r=e.copy)===null||r===void 0?void 0:r[t];if(a&&e.finalities.draftsCache.has(a))return a;if(t===QI)return e;let l;if(e.options.mark){const d=t==="size"&&(e.original instanceof Map||e.original instanceof Set)?Reflect.get(e.original,t):Reflect.get(e.original,t,n);if(l=e.options.mark(d,ar),l===ar.mutable)return e.options.strict&&Fd(d,e.options,!0),d}const u=nr(e);if(u instanceof Map&&wB.includes(t))return t==="size"?Object.getOwnPropertyDescriptor(n0,"size").get.call(e.proxy):n0[t].bind(e.proxy);if(u instanceof Set&&xB.includes(t))return t==="size"?Object.getOwnPropertyDescriptor(Hd,"size").get.call(e.proxy):Hd[t].bind(e.proxy);if(!Vu(u,t)){const d=rA(u,t);return d?"value"in d?d.value:(i=d.get)===null||i===void 0?void 0:i.call(e.proxy):void 0}const c=u[t];if(e.options.strict&&Fd(c,e.options),e.finalized||!Hr(c,e.options))return c;if(c===uv(e.original,t)){if(Cn(e),e.copy[t]=Vb({original:e.original[t],parentDraft:e,key:e.type===1?Number(t):t,finalities:e.finalities,options:e.options}),typeof l=="function"){const d=$e(e.copy[t]);return Cn(d),ni(d),d.copy}return e.copy[t]}return Ya(c)&&e.finalities.draftsCache.add(c),c},set(e,t,n){var r;if(e.type===3||e.type===2)throw new Error("Map/Set draft does not support any property assignment.");let i;if(e.type===1&&t!=="length"&&!(Number.isInteger(i=Number(t))&&i>=0&&(t===0||i===0||String(i)===String(t))))throw new Error("Only supports setting array indices and the 'length' property.");const a=rA(nr(e),t);if(a?.set)return a.set.call(e.proxy,n),!0;const l=uv(nr(e),t),u=$e(l);return u&&Ki(u.original,n)?(e.copy[t]=n,e.assignedMap=(r=e.assignedMap)!==null&&r!==void 0?r:new Map,e.assignedMap.set(t,!1),!0):(Ki(n,l)&&(n!==void 0||Vu(e.original,t))||(Cn(e),ni(e),Vu(e.original,t)&&Ki(n,e.original[t])?e.assignedMap.delete(t):e.assignedMap.set(t,!0),e.copy[t]=n,Gb(e,t,n,rc)),!0)},has(e,t){return t in nr(e)},ownKeys(e){return Reflect.ownKeys(nr(e))},getOwnPropertyDescriptor(e,t){const n=nr(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},getPrototypeOf(e){return Reflect.getPrototypeOf(e.original)},setPrototypeOf(){throw new Error("Cannot call 'setPrototypeOf()' on drafts")},defineProperty(){throw new Error("Cannot call 'defineProperty()' on drafts")},deleteProperty(e,t){var n;return e.type===1?nN.set.call(this,e,t,void 0,e.proxy):(uv(e.original,t)!==void 0||t in e.original?(Cn(e),ni(e),e.assignedMap.set(t,!1)):(e.assignedMap=(n=e.assignedMap)!==null&&n!==void 0?n:new Map,e.assignedMap.delete(t)),e.copy&&delete e.copy[t],!0)}};function Vb(e){const{original:t,parentDraft:n,key:r,finalities:i,options:a}=e,l=Yo(t),u={type:l,finalized:!1,parent:n,original:t,copy:null,proxy:null,finalities:i,options:a,setMap:l===3?new Map(t.entries()):void 0};(r||"key"in e)&&(u.key=r);const{proxy:c,revoke:d}=Proxy.revocable(l===1?Object.assign([],u):u,nN);if(i.revoke.push(d),u.proxy=c,n){const h=n;h.finalities.draft.push((m,v)=>{var _,T;const w=$e(c);let E=h.type===3?h.setMap:h.copy;const C=Xi(E,r),O=$e(C);if(O){let P=O.original;O.operated&&(P=Fb(C)),e0(O),t0(O,rc,m,v),h.options.enableAutoFreeze&&(h.options.updatedValues=(_=h.options.updatedValues)!==null&&_!==void 0?_:new WeakMap,h.options.updatedValues.set(P,O.original)),Ec(E,r,P)}(T=w.callbacks)===null||T===void 0||T.forEach(P=>{P(m,v)})})}else{const h=$e(c);h.finalities.draft.push((m,v)=>{e0(h),t0(h,rc,m,v)})}return c}zb.createDraft=Vb;function AB(e,t,n,r,i){var a;const l=$e(e),u=(a=l?.original)!==null&&a!==void 0?a:e,c=!!t.length;if(l?.operated)for(;l.finalities.draft.length>0;)l.finalities.draft.pop()(n,r);const d=c?t[0]:l?l.operated?l.copy:l.original:e;return l&&Zy(l),i&&Hs(d,d,l?.options.updatedValues),[d,n&&c?[{op:Mt.Replace,path:[],value:t[0]}]:n,r&&c?[{op:Mt.Replace,path:[],value:u}]:r]}function CB(e,t){var n;const r={draft:[],revoke:[],handledSet:new WeakSet,draftsCache:new WeakSet};let i,a;t.enablePatches&&(i=[],a=[]);const u=((n=t.mark)===null||n===void 0?void 0:n.call(t,e,ar))===ar.mutable||!Hr(e,t)?e:Vb({original:e,parentDraft:null,finalities:r,options:t});return[u,(c=[])=>{const[d,h,m]=AB(u,c,i,a,t.enableAutoFreeze);return t.enablePatches?[d,h,m]:d}]}function r0(e){const{rootDraft:t,value:n,useRawReturn:r=!1,isRoot:i=!0}=e;Hb(n,(a,l,u)=>{const c=$e(l);if(c&&t&&c.finalities===t.finalities){e.isContainDraft=!0;const d=c.original;if(u instanceof Set){const h=Array.from(u);u.clear(),h.forEach(m=>u.add(a===m?d:m))}else Ec(u,a,d)}else typeof l=="object"&&l!==null&&(e.value=l,e.isRoot=!1,r0(e))}),i&&(e.isContainDraft||console.warn("The return value does not contain any draft, please use 'rawReturn()' to wrap the return value to improve performance."),r&&console.warn("The return value contains drafts, please don't use 'rawReturn()' to wrap the return value."))}function rN(e){var t;const n=$e(e);if(!Hr(e,n?.options))return e;const r=Yo(e);if(n&&!n.operated)return n.original;let i;function a(){i=r===2?$b(e)?new Map(e):new(Object.getPrototypeOf(e)).constructor(e):r===3?Array.from(n.setMap.values()):eN(e,n?.options)}if(n){n.finalized=!0;try{a()}finally{n.finalized=!1}}else i=e;if(Hb(i,(l,u)=>{if(n&&Ki(Xi(n.original,l),u))return;const c=rN(u);c!==u&&(i===e&&a(),Ec(i,l,c))}),r===3){const l=(t=n?.original)!==null&&t!==void 0?t:i;return Bb(l)?new Set(i):new(Object.getPrototypeOf(l)).constructor(i)}return i}function oA(e){if(!Ya(e))throw new Error(`current() is only used for Draft, parameter: ${e}`);return rN(e)}const MB=e=>function t(n,r,i){var a,l,u;if(typeof n=="function"&&typeof r!="function")return function(I,...R){return t(I,k=>n.call(this,k,...R),r)};const c=n,d=r;let h=i;if(typeof r!="function"&&(h=r),h!==void 0&&Object.prototype.toString.call(h)!=="[object Object]")throw new Error(`Invalid options: ${h}, 'options' should be an object.`);h=Object.assign(Object.assign({},e),h);const m=Ya(c)?oA(c):c,v=Array.isArray(h.mark)?((I,R)=>{for(const k of h.mark){if(typeof k!="function")throw new Error(`Invalid mark: ${k}, 'mark' should be a function.`);const z=k(I,R);if(z)return z}}):h.mark,_=(a=h.enablePatches)!==null&&a!==void 0?a:!1,T=(l=h.strict)!==null&&l!==void 0?l:!1,E={enableAutoFreeze:(u=h.enableAutoFreeze)!==null&&u!==void 0?u:!1,mark:v,strict:T,enablePatches:_};if(!Hr(m,E)&&typeof m=="object"&&m!==null)throw new Error("Invalid base state: create() only supports plain objects, arrays, Set, Map or using mark() to mark the state as immutable.");const[C,O]=CB(m,E);if(typeof r!="function"){if(!Hr(m,E))throw new Error("Invalid base state: create() only supports plain objects, arrays, Set, Map or using mark() to mark the state as immutable.");return[C,O]}let P;try{P=d(C)}catch(I){throw Zy($e(C)),I}const D=I=>{const R=$e(C);if(!Ya(I)){if(I!==void 0&&!Ki(I,C)&&R?.operated)throw new Error("Either the value is returned as a new non-draft value, or only the draft is modified without returning any value.");const z=I?.[gB];if(z){const $=z[0];return E.strict&&typeof I=="object"&&I!==null&&r0({rootDraft:R,value:I,useRawReturn:!0}),O([$])}if(I!==void 0)return typeof I=="object"&&I!==null&&r0({rootDraft:R,value:I}),O([I])}if(I===C||I===void 0)return O([]);const k=$e(I);if(E===k.options){if(k.operated)throw new Error("Cannot return a modified child draft.");return O([oA(I)])}return O([I])};return P instanceof Promise?P.then(D,I=>{throw Zy($e(C)),I}):D(P)},Gd=MB();Object.prototype.constructor.toString();function iN(e,t){const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&Object.keys(e).every(i=>t.hasOwnProperty(i))}function sA(e,t){return Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(n=>t.hasOwnProperty(n)&&e[n]===t[n])}function Nd(e,t){return typeof e!="object"||typeof t!="object"||e===null||t===null?e===t:iN(e,t)?Object.keys(e).every(n=>Nd(e[n],t[n])):!1}function Kb(e){if(!zu(e))return e;const t={};for(const[n,r]of Object.entries(e))r!==void 0&&(t[n]=r);return t}function aN(e,t){if(!zu(e)||!zu(t))return t;const n=Object.assign({},e);for(const r of Object.keys(t)){if(t[r]===void 0)continue;if(t[r]===null){delete n[r];continue}const i=zu(e[r])&&zu(t[r]);n[r]=i?aN(e[r],t[r]):t[r]}return n}function zu(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function PB(e,t,n){if(!e||t.length===0)return;let r=e||{};for(let a=0;a<t.length-1;a++){const l=t[a];(!(l in r)||typeof r[l]!="object")&&(r[l]=typeof t[a+1]=="number"?[]:{}),r=r[l]}const i=t[t.length-1];Array.isArray(r)&&typeof i=="number"?r.splice(i,0,n):r[i]=n}function lA(e,t,n){if(!e||t.length===0)return;let r=e||{};for(let i=0;i<t.length-1;i++){const a=t[i];(!(a in r)||typeof r[a]!="object")&&(r[a]=typeof t[i+1]=="number"?[]:{}),r=r[a]}r[t[t.length-1]]=n}function oN(e,t){if(!e||t.length===0)return;const[n,...r]=t;if(n in e){if(r.length===0){Array.isArray(e)?e.splice(n,1):delete e[n];return}oN(e[n],r),OB(e[n])&&delete e[n]}}function OB(e){return e&&Object.keys(e).length===0}const uA=/ZULU|YEKT|YEKST|YAPT|YAKT|YAKST|XJT|WGT|WGST|WFT|WETDST|WET|WDT|WAT|WAST|WAKT|WADT|VUT|VOLT|VLAT|VLAST|VET|UZT|UZST|UYT|UYST|UTC|UT|ULAT|ULAST|UCT|TVT|TRUT|TOT|TMT|TKT|TJT|TFT|TAHT|SGT|SCT|SAST|SADT|RET|PYT|PYST|PWT|PST|PONT|PMST|PMDT|PKT|PKST|PHT|PGT|PETT|PETST|PET|PDT|OMST|OMSST|NZT|NZST|NZDT|NUT|NST|NPT|NOVT|NOVST|NFT|NDT|MYT|MVT|MUT|MUST|MST|MSK|MSD|MPT|MMT|MHT|MEZ|METDST|MET|MESZ|MEST|MDT|MAWT|MART|MAGT|MAGST|LKT|LINT|LIGT|LHST|LHDT|KST|KRAT|KRAST|KOST|KGT|KGST|KDT|JST|JAYT|IST|IRT|IRKT|IRKST|IOT|IDT|ICT|HST|HKT|GYT|GMT|GILT|GFT|GET|GEST|GAMT|GALT|FNT|FNST|FKT|FKST|FJT|FJST|FET|EST|EGT|EGST|EETDST|EET|EEST|EDT|EAT|EAST|EASST|DDUT|DAVT|CXT|CST|COT|CLT|CLST|CKT|CHUT|CHAST|CHADT|CETDST|CET|CEST|CDT|CCT|CAST|CADT|BTT|BST|BRT|BRST|BRA|BOT|BORT|BNT|BDT|BDST|AZT|AZST|AZOT|AZOST|AWST|AWSST|AST|ART|ARST|ANAT|ANAST|AMT|AMST|ALMT|ALMST|AKST|AKDT|AFT|AEST|AESST|AEDT|ADT|ACWST|ACT|ACST|ACSST|ACDT$/,IB={ZULU:0,YEKT:18e3,YEKST:21600,YAPT:36e3,YAKT:32400,YAKST:32400,XJT:21600,WGT:-10800,WGST:-7200,WFT:43200,WETDST:3600,WET:0,WDT:32400,WAT:3600,WAST:25200,WAKT:43200,WADT:28800,VUT:39600,VOLT:10800,VLAT:36e3,VLAST:36e3,VET:-14400,UZT:18e3,UZST:21600,UYT:-10800,UYST:-7200,UTC:0,UT:0,ULAT:28800,ULAST:32400,UCT:0,TVT:43200,TRUT:36e3,TOT:46800,TMT:18e3,TKT:46800,TJT:18e3,TFT:18e3,TAHT:-36e3,SGT:28800,SCT:14400,SAST:7200,SADT:37800,RET:14400,PYT:-14400,PYST:-10800,PWT:32400,PST:-28800,PONT:39600,PMST:-10800,PMDT:-7200,PKT:18e3,PKST:21600,PHT:28800,PGT:36e3,PETT:43200,PETST:43200,PET:-18e3,PDT:-25200,OMST:21600,OMSST:21600,NZT:43200,NZST:43200,NZDT:46800,NUT:-39600,NST:-12600,NPT:20700,NOVT:25200,NOVST:25200,NFT:-12600,NDT:-9e3,MYT:28800,MVT:18e3,MUT:14400,MUST:18e3,MST:-25200,MSK:10800,MSD:14400,MPT:36e3,MMT:23400,MHT:43200,MEZ:3600,METDST:7200,MET:3600,MESZ:7200,MEST:7200,MDT:-21600,MAWT:18e3,MART:-34200,MAGT:39600,MAGST:39600,LKT:19800,LINT:50400,LIGT:36e3,LHST:37800,LHDT:37800,KST:32400,KRAT:25200,KRAST:25200,KOST:39600,KGT:21600,KGST:21600,KDT:36e3,JST:32400,JAYT:32400,IST:7200,IRT:12600,IRKT:28800,IRKST:28800,IOT:21600,IDT:10800,ICT:25200,HST:-36e3,HKT:28800,GYT:-14400,GMT:0,GILT:43200,GFT:-10800,GET:14400,GEST:14400,GAMT:-32400,GALT:-21600,FNT:-7200,FNST:-3600,FKT:-10800,FKST:-10800,FJT:43200,FJST:46800,FET:10800,EST:-18e3,EGT:-3600,EGST:0,EETDST:10800,EET:7200,EEST:10800,EDT:-14400,EAT:10800,EAST:-21600,EASST:-21600,DDUT:36e3,DAVT:25200,CXT:25200,CST:-21600,COT:-18e3,CLT:-14400,CLST:-10800,CKT:-36e3,CHUT:36e3,CHAST:45900,CHADT:49500,CETDST:7200,CET:3600,CEST:7200,CDT:-18e3,CCT:28800,CAST:34200,CADT:37800,BTT:21600,BST:3600,BRT:-10800,BRST:-7200,BRA:-10800,BOT:-14400,BORT:28800,BNT:28800,BDT:21600,BDST:7200,AZT:14400,AZST:14400,AZOT:-3600,AZOST:0,AWST:28800,AWSST:32400,AST:-14400,ART:-10800,ARST:-10800,ANAT:43200,ANAST:43200,AMT:-14400,AMST:14400,ALMT:21600,ALMST:25200,AKST:-32400,AKDT:-28800,AFT:16200,AEST:36e3,AESST:39600,AEDT:39600,ADT:-10800,ACWST:31500,ACT:-18e3,ACST:34200,ACSST:37800,ACDT:37800};function NB(e){return new Date(e)}function DB(e){return new Date(e+"Z")}const RB=/^(\d+)[\./-](\d+)[\./-](\d+)$/;function kB(e){const t=e.match(RB);if(!t)return null;const[n,r,i,a]=t;return r<=0||i<=0||a<=0?null:r>999?new Date(Date.UTC(r,i-1,a,0,0,0,0)):new Date(Date.UTC(a,r-1,i,0,0,0,0))}function LB(e){const[t,n]=e.split(" ");return new Date(t+"T"+n+"Z")}function UB(e){const[t,n]=e.split(" ");return new Date(t+"T"+n+"Z")}function jB(e){return new Date(e)}function qB(e){const t=/^(\w{3}) (\w{3}) (\d{2}) (\d{4})$/;if(!e.match(t))throw new Error(`Unable to parse \`${e}\` as a date.`);const r=new Date(e+" UTC");return new Date(Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),0,0,0,0))}function zB(e){const t=/^(.+T.+)([+-])(\d{2})$/,n=e.match(t);if(n){const[,r,i,a]=n,l=`${r}${i}${a}:00`;return new Date(l)}return null}function BB(e){const[t,n]=e.split(", "),[r,i,a]=t.split("/").map(Number),l=n.match(/(\d{1,2}):(\d{2}):(\d{2}) (AM|PM)/);if(!l)throw new Error(`Unable to parse time from: ${e}`);let[,u,c,d,h]=l;return u=Number(u),c=Number(c),d=Number(d),h==="PM"&&u!==12?u+=12:h==="AM"&&u===12&&(u=0),new Date(Date.UTC(a,r-1,i,u,c,d))}function $B(e){switch(e){case"epoch":return new Date(0);case"infinity":case"-infinity":case"today":case"tomorrow":case"yesterday":return null}}function FB(e){const t=e.match(uA);if(!t)return null;const[n]=t,r=IB[n],i=new Date(e.replace(uA,"Z"));return new Date(i.getTime()-r*1e3)}const HB=[kB,UB,qB,BB,jB,DB,zB,LB,NB,$B,FB];function GB(e,t){try{const n=e(t);return n instanceof Date&&!isNaN(n.getTime())?n:null}catch{return null}}function i0(e){for(const t of HB){const n=GB(t,e);if(n)return n}return null}function VB(e){try{const t=JSON.parse(e);return typeof t=="string"?i0(t):null}catch{return null}}function Xh(e){if(e!==void 0){if(e===null)return null;if(e instanceof Date)return e;if(typeof e=="string"){const t=i0(e)||VB(e)||i0(e.trim());if(!t)throw new Error(`Unable to parse \`${e}\` as a date.`);return t}else if(typeof e=="number")return new Date(e);throw new Error(`Invalid date value \`${e}\`. Expected a date, number, or string, got type ${typeof e}.`)}}function KB(e){return e.cardinality==="one"}function Yb(e){return e["value-type"]==="ref"}function Wb(e){return e["value-type"]==="blob"}function _l(e,t){return e[t]}function Sl(e,t){return t.reduce((n,r)=>n&&n.get(r),e)}function qr(e,t){if(t.length===0)throw new Error("path must have at least one element");if(t.length===1){e.delete(t[0]);return}const[n,...r]=t;e.has(n)&&qr(e.get(n),r)}function $n(e,t,n){if(t.length===0)throw new Error("path must have at least one element");if(t.length===1){e.set(t[0],n);return}const[r,...i]=t;let a=e.get(r);a||(a=new Map,e.set(r,a)),$n(a,i,n)}function sN(e,t,n){const r=new Map,i=new Map,a=new Map;for(const l of t){let[u,c,d,h]=l;const m=_l(e,c);if(!m){console.warn("no such attr",u,e);continue}m["checked-data-type"]==="date"&&n&&(d=Xh(d),l[2]=d),Yb(m)&&$n(a,[d,c,u],l),$n(r,[u,c,d],l),$n(i,[c,u,d],l)}return{eav:r,aev:i,vae:a}}function lN(e){const t=new Map,n=new Map,r=new Map,i=new Map;for(const a of Object.values(e)){const l=a["forward-identity"],[u,c,d]=l,h=a["reverse-identity"];if($n(r,[c,d],a),Wb(a)&&$n(t,[c,d],a),a["primary?"]&&$n(n,[c],a),h){const[m,v,_]=h;$n(i,[v,_],a)}}return{blobAttrs:t,primaryKeys:n,forwardIdents:r,revIdents:i}}function uN(e){return{__type:e.__type,attrs:e.attrs,triples:Hn(e.eav,3),cardinalityInference:e.cardinalityInference,linkIndex:e.linkIndex,useDateObjects:e.useDateObjects}}function cN(e){return Dd(e.attrs,e.triples,e.cardinalityInference,e.linkIndex,e.useDateObjects)}function YB(e,t){return Sl(e.eav,[t])!==void 0}function Jb(e){e.attrIndexes=lN(e.attrs)}function Dd(e,t,n,r,i){const a=sN(e,t,i);return a.useDateObjects=i,a.attrs=e,a.attrIndexes=lN(e),a.cardinalityInference=n,a.linkIndex=r,a.__type="store",a}function wc(e,t){var n,r;let i;if(Array.isArray(t[0])){const[l,u]=t[0],c=e.aev.get(l);if(!c)return null;i=(n=Hn(c,2).find(h=>h[2]===u))===null||n===void 0?void 0:n[0]}else i=t[0];if(!i)return null;const a=t[2];if(Array.isArray(a)&&a.length===2&&e.aev.get(a[0])){const[l,u]=a,c=e.aev.get(l);if(!c)return null;const h=(r=Hn(c,2).find(w=>w[2]===u))===null||r===void 0?void 0:r[0];if(!h)return null;const[m,v,_,...T]=t;return[i,v,h,...T]}else{const[l,...u]=t;return[i,...u]}}function fN(e,t){const n=wc(e,t);if(!n)return;const[r,i,a]=n,l=_l(e.attrs,i);l&&(qr(e.eav,[r,i,a]),qr(e.aev,[i,r,a]),Yb(l)&&qr(e.vae,[a,i,r]))}let WB=0;function dN(e,t,n){const[r,i,a]=n;let l;const u=Sl(e.ea,[r,i,a]);return u&&(l=u[3]),l||Date.now()*10+WB++}function hN(e,t){var n;const r=wc(e,t);if(!r)return;let[i,a,l]=r;const u=_l(e.attrs,a);if(!u)return;u["checked-data-type"]==="date"&&e.useDateObjects&&(l=Xh(l));const c=Sl(e.eav,[i,a,l]),d=(n=c?.[3])!==null&&n!==void 0?n:dN(e,u,r),h=[i,a,l,d];KB(u)?($n(e.eav,[i,a],new Map([[l,h]])),$n(e.aev,[a,i],new Map([[l,h]]))):($n(e.eav,[i,a,l],h),$n(e.aev,[a,i,l],h)),Yb(u)&&$n(e.vae,[l,a,i],h)}function JB(e,t){var n;const r=wc(e,t);if(!r)return;const[i,a,l]=r,u=_l(e.attrs,a);if(!u)return;if(!Wb(u))throw new Error("merge operation is not supported for links");const c=Sl(e.eav,[i,a]);if(!c)return;const d=(n=c.values().next())===null||n===void 0?void 0:n.value;if(!d)return;const h=d[2],m=aN(h,l),v=[i,a,m,dN(e,u,d)];$n(e.eav,[i,a],new Map([[m,v]]))}function a0(e,t){var n,r;const[i,a]=t,l=wc(e,[i]);if(!l)return;const[u]=l,c=e.eav.get(u);if(c){for(const h of c.keys()){const m=e.attrs[h];m&&m["on-delete-reverse"]==="cascade"&&Hn(c.get(h),1).forEach(([v,_,T])=>{var w;return a0(e,[T,(w=m["reverse-identity"])===null||w===void 0?void 0:w[1]])}),(!a||!m||((n=m["forward-identity"])===null||n===void 0?void 0:n[1])===a)&&(qr(e.aev,[h,u]),qr(e.eav,[u,h]))}c.size===0&&qr(e.eav,[u])}const d=e.vae.get(u)&&Hn(e.vae.get(u),2);d&&d.forEach(h=>{var m,v,_;const[T,w,E]=h,C=e.attrs[w];(!a||!C||((m=C["reverse-identity"])===null||m===void 0?void 0:m[1])===a)&&(qr(e.eav,[T,w,E]),qr(e.aev,[w,T,E]),qr(e.vae,[E,w,T])),C&&C["on-delete"]==="cascade"&&((v=C["reverse-identity"])===null||v===void 0?void 0:v[1])===a&&a0(e,[T,(_=C["forward-identity"])===null||_===void 0?void 0:_[1]])}),((r=e.vae.get(u))===null||r===void 0?void 0:r.size)===0&&qr(e.vae,[u])}function pN(e,t){const n=sN(e.attrs,t,e.useDateObjects);Object.keys(n).forEach(r=>{e[r]=n[r]})}function XB(e,[t]){e.attrs[t.id]=t,Jb(e)}function mN(e){return Hn(e.eav,3)}function QB(e,[t]){if(!e.attrs[t])return;const n=mN(e).filter(([r,i])=>i!==t);delete e.attrs[t],Jb(e),pN(e,n)}function ZB(e,[t]){const n=e.attrs[t.id];n&&(e.attrs[t.id]=Object.assign(Object.assign({},n),t),Jb(e),pN(e,mN(e)))}function e$(e,t){const[n,...r]=t;switch(n){case"add-triple":hN(e,r);break;case"deep-merge-triple":JB(e,r);break;case"retract-triple":fN(e,r);break;case"delete-entity":a0(e,r);break;case"add-attr":XB(e,r);break;case"delete-attr":QB(e,r);break;case"update-attr":ZB(e,r);break;case"restore-attr":break;case"rule-params":break;default:throw new Error(`unhandled transaction action: ${n}`)}}function Hn(e,t,n=[]){if(!e||t===0)return n;if(t===1){for(const r of e.values())n.push(r);return n}for(const r of e.values())Hn(r,t-1,n);return n}function sd(e,t,n){var r,i;const a=[];if(n?.hasOwnProperty("$not")){for(const u of t.keys())n.$not!==u&&a.push(t.get(u));return a}if(n?.hasOwnProperty("$isNull")){const{attrId:u,isNull:c,reverse:d}=n.$isNull;if(d)for(const h of t.keys()){const m=e.vae.get(h),v=!m||((r=m.get(u))===null||r===void 0?void 0:r.get(null))||!m.get(u);(c?v:!v)&&a.push(t.get(h))}else{const h=e.aev.get(u);for(const m of t.keys()){const v=!h||((i=h.get(m))===null||i===void 0?void 0:i.get(null))||!h.get(m);(c?v:!v)&&a.push(t.get(m))}}return a}if(n?.$comparator)return Hn(t,1).filter(n.$op);const l=n.in||n.$in||[n];for(const u of l){const c=t.get(u);c&&a.push(c)}return a}function t$(e,t,n){let r="";return e!==void 0&&(r+="e"),t!==void 0&&(r+="a"),n!==void 0&&(r+="v"),r}function n$(e,[t,n,r]){var i,a;switch(t$(t,n,r)){case"e":{const u=e.eav.get(t);return Hn(u,2)}case"ea":{const u=(i=e.eav.get(t))===null||i===void 0?void 0:i.get(n);return Hn(u,1)}case"eav":{const u=(a=e.eav.get(t))===null||a===void 0?void 0:a.get(n);return u?sd(e,u,r):[]}case"ev":{const u=e.eav.get(t);if(!u)return[];const c=[];for(const d of u.values())c.push(...sd(e,d,r));return c}case"a":{const u=e.aev.get(n);return Hn(u,2)}case"av":{const u=e.aev.get(n);if(!u)return[];const c=[];for(const d of u.values())c.push(...sd(e,d,r));return c}case"v":{const u=[];for(const c of e.eav.values())for(const d of c.values())u.push(...sd(e,d,r));return u}default:return Hn(e.eav,3)}}function r$(e,t,n){var r;const i={};for(const[a,l]of t.entries()){const u=(r=e.eav.get(n))===null||r===void 0?void 0:r.get(l.id),c=Hn(u,1);for(const d of c)i[a]=d[2]}return i}function Wa(e,t,n){var r;return(r=e.attrIndexes.forwardIdents.get(t))===null||r===void 0?void 0:r.get(n)}function gN(e,t,n){var r;return(r=e.attrIndexes.revIdents.get(t))===null||r===void 0?void 0:r.get(n)}function i$(e,t){return e.attrIndexes.blobAttrs.get(t)}function vN(e,t){var n;const r=e.attrIndexes.primaryKeys.get(t);return r||((n=e.attrIndexes.forwardIdents.get(t))===null||n===void 0?void 0:n.get("id"))}function a$(e,t){const n=wc(e,t);if(!n)return;const[r,i,a]=n;if(_l(e.attrs,i))return Sl(e.eav,[r,i])}function o$(e,t){const n=t.filter(([r,i,a,l,u])=>{if(r!=="add-triple"&&r!=="deep-merge-triple")return!0;const c=u?.mode;if(c!=="create"&&c!=="update")return!0;let d=!1;const h=_l(e.attrs,a);if(h){const m=vN(e,h["forward-identity"][1]);d=!!a$(e,[i,m.id,i])}return!(c==="create"&&d||c==="update"&&!d)});return Gd(e,r=>{n.forEach(i=>{e$(r,i)})})}function s$(e){return typeof e=="string"&&e.startsWith("?")}function l$(e,t,n){if(n.hasOwnProperty(e)){const r=n[e];return yN(r,t,n)}return Object.assign(Object.assign({},n),{[e]:t})}function cA(e,t,n){return e===t?n:null}function u$(e){switch(typeof e){case"string":return e.startsWith("?")?l$:cA;default:return cA}}const c$=["in","$in","$not","$isNull","$comparator"];function f$(e){for(const t of c$)if(e.hasOwnProperty(t))return!0;return!1}function yN(e,t,n){return n?typeof e=="object"?f$(e)?n:null:u$(e)(e,t,n):null}function d$(e,t,n){return e.reduce((r,i,a)=>{const l=t[a];return yN(i,l,r)},n)}function h$(e,t,n){return g$(e,t,n).map(r=>d$(t,r,n)).filter(r=>r)}function p$(e,t,n){return t.or?t.or.patterns.flatMap(r=>o0(e,r,n)):t.and?t.and.patterns.reduce((r,i)=>o0(e,i,r),n):n.flatMap(r=>h$(e,t,r))}function o0(e,t,n=[{}]){return t.reduce((r,i)=>p$(e,i,r),n)}function Xb(e,t){return Array.isArray(t)?t.map(n=>Xb(e,n)):s$(t)?e[t]:t}function m$(e,{find:t,where:n}){return o0(e,n).map(i=>Xb(i,t))}function g$(e,t,n){return n$(e,Xb(n,t))}const v$=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function ol(e){return typeof e=="string"&&v$.test(e)}const cn=[];for(let e=0;e<256;++e)cn.push((e+256).toString(16).slice(1));function y$(e,t=0){return(cn[e[t+0]]+cn[e[t+1]]+cn[e[t+2]]+cn[e[t+3]]+"-"+cn[e[t+4]]+cn[e[t+5]]+"-"+cn[e[t+6]]+cn[e[t+7]]+"-"+cn[e[t+8]]+cn[e[t+9]]+"-"+cn[e[t+10]]+cn[e[t+11]]+cn[e[t+12]]+cn[e[t+13]]+cn[e[t+14]]+cn[e[t+15]]).toLowerCase()}let cv;const b$=new Uint8Array(16);function _$(){if(!cv){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");cv=crypto.getRandomValues.bind(crypto)}return cv(b$)}const S$=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),fA={randomUUID:S$};function T$(e,t,n){if(fA.randomUUID&&!e)return fA.randomUUID();e=e||{};const r=e.random??e.rng?.()??_$();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,y$(r)}function dA(e){const t=e.replace(/-/g,""),n=[];for(let r=0;r<t.length;r+=2)n.push(parseInt(t.substring(r,r+2),16));return n}function E$(e,t){for(let n=0;n<e.length;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0}function w$(e,t){return E$(dA(e),dA(t))}function Zt(){return T$()}function x$(e,t){return e.localeCompare(t)}function A$(){let e=x$;if(typeof Intl=="object"&&Intl.hasOwnProperty("Collator"))try{e=Intl.Collator("en-US").compare}catch{}return e}const C$=A$();let M$=0;function Ku(e){return Qh(`_${e}`,M$++)}function Qh(e,t){return`?${e}-${t}`}class sl extends Error{constructor(t){super(t),this.name="AttrNotFoundError"}}function P$(e,t){const n=vN(e,t);if(!n)throw new sl(`Could not find id attr for ${t}`);return n}function hA(e,t,n,r){return[O$(e,t,n,r)]}function O$(e,t,n,r){return[e(n,r),P$(t,n).id,e(n,r),e("time",r)]}function I$(e,t,n){return e.map(r=>r===t?n:r)}function bN(e,t,n,r,i){const a=Wa(t,n,i),l=gN(t,n,i),u=a||l;if(!u)throw new sl(`Could not find attr for ${[n,i]}`);if(u["value-type"]!=="ref")throw new Error(`Attr ${u.id} is not a ref`);const[c,d]=u["forward-identity"],[h,m]=u["reverse-identity"],v=r+1,_=a?[e(d,r),u.id,e(m,v),Ku("time")]:[e(d,v),u.id,e(m,r),Ku("time")];return[a?m:d,v,_,u,!!a]}function pA(e,t){if(typeof t!="string")return function(l){return!1};const r=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/%/g,".*").replace(/_/g,"."),i=new RegExp(`^${r}$`,e?void 0:"i");return function(l){return typeof l!="string"?!1:i.test(l)}}function N$(e,t){if(typeof t!="object"||t.hasOwnProperty("$in")||t.hasOwnProperty("in"))return t;const n=e["checked-data-type"]==="date";if(t.hasOwnProperty("$gt"))return{$comparator:!0,$op:n?function(i){return new Date(i[2])>new Date(t.$gt)}:function(i){return i[2]>t.$gt}};if(t.hasOwnProperty("$gte"))return{$comparator:!0,$op:n?function(i){return new Date(i[2])>=new Date(t.$gte)}:function(i){return i[2]>=t.$gte}};if(t.hasOwnProperty("$lt"))return{$comparator:!0,$op:n?function(i){return new Date(i[2])<new Date(t.$lt)}:function(i){return i[2]<t.$lt}};if(t.hasOwnProperty("$lte"))return{$comparator:!0,$op:n?function(i){return new Date(i[2])<=new Date(t.$lte)}:function(i){return i[2]<=t.$lte}};if(t.hasOwnProperty("$like")){const r=pA(!0,t.$like);return{$comparator:!0,$op:function(a){return r(a[2])}}}if(t.hasOwnProperty("$ilike")){const r=pA(!1,t.$ilike);return{$comparator:!0,$op:function(a){return r(a[2])}}}return t}function D$(e,t,n,r,i,a){const l=Wa(t,n,i),u=gN(t,n,i),c=l||u;if(!c)throw new sl(`No attr for etype = ${n} label = ${i}`);if(a?.hasOwnProperty("$isNull")){const d=Wa(t,n,"id");if(!d)throw new sl(`No attr for etype = ${n} label = id`);return[e(n,r),d.id,{$isNull:{attrId:c.id,isNull:a.$isNull,reverse:!l}},Ku("time")]}return l?[e(n,r),c.id,N$(c,a),Ku("time")]:[a,c.id,e(n,r),Ku("time")]}function R$(e,t,n,r,i){const[a,l,u]=i.reduce((c,d)=>{const[h,m,v]=c,[_,T,w]=bN(e,t,h,m,d);return[_,T,[...v,w]]},[n,r,[]]);return[a,l,u]}function s0(e,t,n,r,i,a){const l=i.slice(0,i.length-1),u=i[i.length-1],[c,d,h]=R$(e,t,n,r,l),m=D$(e,t,c,d,u,a);return h.concat([m])}function k$(e,t){return t?[t].concat(e):e}function L$([e,t]){return e==="or"&&Array.isArray(t)}function U$([e,t]){return e==="and"&&Array.isArray(t)}function j$(e,t,n){return(r,i)=>{const a=e(r,i);return t==a?a:`${a}-${n}`}}function mA(e,t,n,r,i,a){const l=e(r,i),u=a.map((c,d)=>{const h=j$(e,l,d);return _N(h,n,r,i,c)});return{[t]:{patterns:u,joinSym:l}}}function q$(e){const t=[];for(let n=1;n<=e.length;n++)t.push(e.slice(0,n));return t}function gA(e,t,n,r,i){return q$(i).map(a=>s0(e,t,n,r,a,{$isNull:!0}))}function _N(e,t,n,r,i){return Object.entries(i).flatMap(([a,l])=>{if(L$([a,l]))return mA(e,"or",t,n,r,l);if(U$([a,l]))return mA(e,"and",t,n,r,l);if(a==="$entityIdStartsWith")return[];const u=a.split(".");if(l?.hasOwnProperty("$ne")&&(l=Object.assign(Object.assign({},l),{$not:l.$ne}),delete l.$ne),l?.hasOwnProperty("$not")){const c=s0(e,t,n,r,u,l),d=gA(e,t,n,r,u);return[{or:{patterns:[c,...d],joinSym:e(n,r)}}]}return l?.hasOwnProperty("$isNull")&&l.$isNull===!0&&u.length>1?[{or:{patterns:gA(e,t,n,r,u),joinSym:e(n,r)}}]:s0(e,t,n,r,u,l)})}function z$(e,t,n,r){const i=Qh;return r?_N(i,e,t,n,r).concat(hA(i,e,t,n)):hA(i,e,t,n)}function B$(e,t,n){return[e(t,n),e("time",n)]}function $$(e,t,n,r,i,a){const[l,u,c,d,h]=bN(e,t,n,r,i),m=I$(c,e(n,r),a);return[l,u,m,d,h]}function F$(e,t,{etype:n,level:r,form:i},a){const l=Object.keys(i).filter(u=>u!=="$");return l.length?Object.entries(a).map(function([c,d]){return l.map(function(v){var _,T,w;const E=!!(t.cardinalityInference&&(!((w=(T=(_=t.linkIndex)===null||_===void 0?void 0:_[n])===null||T===void 0?void 0:T[v])===null||w===void 0)&&w.isSingular));try{const[C,O,P]=$$(e,t,n,r,v,c),D=TN(t,{etype:C,level:O,form:i[v],join:P}),I=E?D[0]:D;return{[v]:I}}catch(C){if(C instanceof sl)return{[v]:E?void 0:[]};throw C}}).reduce(function(v,_){return Object.assign(Object.assign({},v),_)},d)}):Object.values(a)}function H$(e,t,n){return n==="string"?C$(e,t):e>t?1:-1}function Bu(e,t,n,r,i){return t===r||t==null&&r==null?w$(e,n):r==null?1:t==null?-1:H$(t,r,i)}function Vd([e,t],[n,r],i){return Bu(e,t,n,r,i)}function l0(e){return e==null?e:new Date(e).getTime()}function G$(e,t,n,r){var i;const[a,l,u,c]=e,d=n==="desc"?1:-1;if(((i=t["forward-identity"])===null||i===void 0?void 0:i[2])==="id")return Vd(r,[a,c],null)===d;const[h,m]=r,v=t["checked-data-type"],_=v==="date"?l0(m):m,T=v==="date"?l0(u):u;return Vd([h,_],[a,T],v)===d}function V$(e,t){const n=t[1];return e.attrs[n]}function K$(e,t,n){const r=Object.keys(n)[0];return Wa(e,t,r)}function Y$(e,t,n,r){if(n)return V$(e,n);if(r)return K$(e,t,r)}function W$(e,t,n){var r,i;if(!Array.isArray(n.fields))return i$(e,t);const a=new Map;for(const l of n.fields){const u=Wa(e,t,l),c=(r=u?.["forward-identity"])===null||r===void 0?void 0:r[2];c&&Wb(u)&&a.set(c,u)}if(!a.has("id")){const l=Wa(e,t,"id"),u=(i=l?.["forward-identity"])===null||i===void 0?void 0:i[2];u&&a.set(u,l)}return a}function J$(e,{etype:t,pageInfo:n,dq:r,form:i}){var a,l;const u=(a=i?.$)===null||a===void 0?void 0:a.order,c=SN(i),d=X$(i);let h=m$(e,r);const m=n?.["start-cursor"],v=Y$(e,t,m,u);if(v&&((l=v?.["forward-identity"])===null||l===void 0?void 0:l[2])!=="id"){const w=v["checked-data-type"]==="date",E=v.id;h=h.map(([C])=>{var O,P,D,I,R;let k=(R=(I=(D=(P=(O=e.eav.get(C))===null||O===void 0?void 0:O.get(E))===null||P===void 0?void 0:P.values())===null||D===void 0?void 0:D.next())===null||I===void 0?void 0:I.value)===null||R===void 0?void 0:R[2];return w&&(k=l0(k)),[C,k]})}h.sort(d==="asc"?function(E,C){return Vd(E,C,v?.["checked-data-type"])}:function(E,C){return Vd(C,E,v?.["checked-data-type"])});let _={};const T=W$(e,t,r);for(const w of h){const[E]=w;if(_[E]||!c&&m&&v&&G$(m,v,d,w))continue;const C=r$(e,T,E);C&&(_[E]=C)}return _}function X$(e){var t;const n=(t=e.$)===null||t===void 0?void 0:t.order;return n&&n[Object.keys(n)[0]]||"asc"}function SN(e){var t,n,r;const i=(t=e.$)===null||t===void 0?void 0:t.offset,a=(n=e.$)===null||n===void 0?void 0:n.before,l=(r=e.$)===null||r===void 0?void 0:r.after;return!i&&!a&&!l}function Q$(e,{etype:t,level:n,form:r,join:i,pageInfo:a}){var l,u,c,d,h;if(!SN(r)&&(!a||!a["start-cursor"]))return[];const m=k$(z$(e,t,n,(l=r.$)===null||l===void 0?void 0:l.where),i),v=B$(Qh,t,n),_=(u=r.$)===null||u===void 0?void 0:u.fields,T=J$(e,{etype:t,pageInfo:a,form:r,dq:{where:m,find:v,fields:_}}),w=((c=r.$)===null||c===void 0?void 0:c.limit)||((d=r.$)===null||d===void 0?void 0:d.first)||((h=r.$)===null||h===void 0?void 0:h.last);if(w!=null){n>0&&console.warn("WARNING: Limits in child queries are only run client-side. Data returned from the server will not have a limit.");const E=Object.entries(T);return E.length<=w?T:Object.fromEntries(E.slice(0,w))}return T}function Z$(e,t){try{return Q$(e,t)}catch(n){if(n instanceof sl)return{};throw n}}function TN(e,t){const n=Z$(e,t);return F$(Qh,e,t,n)}function e3(e){const t={};for(const[n,r]of Object.entries(e))t[n]={startCursor:r["start-cursor"],endCursor:r["end-cursor"],hasNextPage:r["has-next-page?"],hasPreviousPage:r["has-previous-page?"]};return t}function EN({store:e,pageInfo:t,aggregate:n},r){const a={data:Object.keys(r).reduce(function(u,c){return n?.[c]||c==="$$ruleParams"||(u[c]=TN(e,{etype:c,form:r[c],level:0,pageInfo:t?.[c]})),u},{})};return t&&(a.pageInfo=e3(t)),n&&(a.aggregate=n),a}function t3(){const t={__etype:1,__ops:1,create:1,update:1,link:1,unlink:1,delete:1,merge:1,ruleParams:1};return new Set(Object.keys(t))}const n3=t3();function u0(e,t,n){const r={__etype:e,__ops:n};return new Proxy(r,{get:(i,a)=>{if(a==="__ops")return n;if(a==="__etype")return e;if(n3.has(a))return(l,u)=>u0(e,t,[...n,u?[a,e,t,l,u]:[a,e,t,l]])}})}function Kd(e){return e.startsWith("lookup__")}function wN(e){const[t,n,...r]=e.split("__");return[n,JSON.parse(r.join("__"))]}function r3(e){return new Proxy({__etype:e},{get(t,n){if(n==="__etype")return e;const r=n;return Kd(r)?u0(e,wN(r),[]):u0(e,r,[])}})}function Qb(){return new Proxy({},{get(e,t){return r3(t)}})}Qb();function i3(e){return e.__ops}function a3(e,t){const{attrIdMap:n,refSwapAttrIds:r}=e,i=[];for(const l of t){const u=n[l];if(u)i.push(u);else if(Array.isArray(l)&&l.length==2&&n[l[0]]){const[c,d]=l;i.push([n[c],d])}else i.push(l)}const[a]=t;if((a==="add-triple"||a==="retract-triple")&&r.has(t[2])){const l=i[1];i[1]=i[3],i[3]=l}return i}function hn(e,t,n){return Object.values(e).find(r=>{const[i,a,l]=r["forward-identity"];return a===t&&l===n})}function jo(e,t,n){return Object.values(e).find(r=>{const i=r["reverse-identity"];if(!i)return!1;const[a,l,u]=i;return l===t&&u===n})}function o3(e){if(Array.isArray(e))return e;const t=Object.entries(e);if(t.length!==1)throw new Error("lookup must be an object with a single unique attr and value.");return t[0]}function c0(e,t,n){return n.indexOf(".")!==-1&&!hn(e,t,n)}function f0(e){const[t,n,...r]=e.split(".");if(r.length>0||n!=="id")throw new Error(`${e} is not a valid lookup attribute.`);return t}function s3(e,t,n){if(!c0(e,t,n))return hn(e,t,n);const r=f0(n),i=hn(e,t,r)||jo(e,t,r);if(i&&i["value-type"]!=="ref")throw new Error(`${n} does not reference a valid link attribute.`);return i}function d0(e){return typeof e=="string"&&!Kd(e)?null:typeof e=="string"&&Kd(e)?wN(e):o3(e)}function Gn(e,t,n){const r=d0(n);if(r===null)return n;const[i,a]=r,l=s3(e,t,i);if(!l||!l["unique?"])throw new Error(`${i} is not a unique attribute.`);return[l.id,a]}function xN(e,t,n,r){const i=Gn(e,t,n);return Array.isArray(i)?[["add-triple",i,hn(e,t,"id").id,i]].concat(r):r}function l3({attrs:e},[t,n,r]){const i=Object.entries(r).flatMap(([a,l])=>{const u=Array.isArray(l)?l:[l],c=hn(e,t,a),d=jo(e,t,a);return u.map(h=>c?["add-triple",Gn(e,t,n),c.id,Gn(e,c["reverse-identity"][1],h)]:["add-triple",Gn(e,d["forward-identity"][1],h),d.id,Gn(e,t,n)])});return xN(e,t,n,i)}function u3({attrs:e},[t,n,r]){const i=Object.entries(r).flatMap(([a,l])=>{const u=Array.isArray(l)?l:[l],c=hn(e,t,a),d=jo(e,t,a);return u.map(h=>c?["retract-triple",Gn(e,t,n),c.id,Gn(e,c["reverse-identity"][1],h)]:["retract-triple",Gn(e,d["forward-identity"][1],h),d.id,Gn(e,t,n)])});return xN(e,t,n,i)}function c3(e,t,n){if(Array.isArray(n)){const[r,i]=n;for(const a of e||[]){const l=a?.aev.get(r);if(l){for(const[u,c,d]of Hn(l,2))if(d===i)return!0}}}else for(const r of e||[]){const i=r?.eav.get(n);if(i){for(const a of i.keys())if(r.attrs[a]["forward-identity"][1]==t)return!0}}return!1}function AN({stores:e,attrs:t},[n,r,i,a]){return a?.upsert===!1?{mode:"update"}:a?.upsert===!0?null:c3(e,n,r)?{mode:"update"}:null}function f3(e,t){const{stores:n,attrs:r}=e,[i,a,l,u]=t,c=Kb(l),d=Gn(r,i,a);return[["id",d]].concat(Object.entries(c)).map(([m,v])=>{const _=hn(r,i,m);return _["checked-data-type"]==="date"&&e.useDateObjects&&(v=Xh(v)),["add-triple",d,_.id,v,{mode:"create"}]})}function d3(e,t){const{stores:n,attrs:r}=e,[i,a,l,u]=t,c=Kb(l),d=Gn(r,i,a),h=AN(e,[i,d,l,u]);return[["id",d]].concat(Object.entries(c)).map(([v,_])=>{const T=hn(r,i,v);return T["checked-data-type"]==="date"&&e.useDateObjects&&(_=Xh(_)),["add-triple",d,T.id,_,...h?[h]:[]]})}function h3({attrs:e},[t,n]){return[["delete-entity",Gn(e,t,n),t]]}function p3(e,t){const{stores:n,attrs:r}=e,[i,a,l,u]=t,c=Kb(l),d=Gn(r,i,a),h=AN(e,[i,d,l,u]),m=Object.entries(c).map(([_,T])=>{const w=hn(r,i,_);return["deep-merge-triple",d,w.id,T,...h?[h]:[]]});return[["add-triple",d,hn(r,i,"id").id,d,...h?[h]:[]]].concat(m)}function m3({attrs:e},[t,n,r]){return[["rule-params",Gn(e,t,n),t,r]]}function g3(e){const[t,n,r,i,a]=e;if(!i)return e;const l=Object.assign({},i);return delete l.id,[t,n,r,l,...a?[a]:[]]}function v3(e,t){const[n,...r]=g3(t);switch(n){case"merge":return p3(e,r);case"create":return f3(e,r);case"update":return d3(e,r);case"link":return l3(e,r);case"unlink":return u3(e,r);case"delete":return h3(e,r);case"ruleParams":return m3(e,r);default:throw new Error(`unsupported action ${n}`)}}function y3(e){switch(e){case"string":case"date":case"boolean":case"number":return e;default:return}}function b3(e,t,n){var r,i;const a=(i=(r=e.entities[t])===null||r===void 0?void 0:r.attrs)===null||i===void 0?void 0:i[n];if(n==="id")return null;if(!a)throw new Error(`${t}.${n} does not exist in your schema`);const{unique:l,indexed:u}=a?.config,c=y3(a?.valueType);return{"index?":u,"unique?":l,"checked-data-type":c}}function ld(e,t,n,r){const i=e?b3(e,t,n):null,a=Zt(),u=[Zt(),t,n];return Object.assign(Object.assign({id:a,"forward-identity":u,"value-type":"blob",cardinality:"one","unique?":!1,"index?":!1,isUnsynced:!0},i||{}),r||{})}function _3(e,t,n){return Object.values(e.links).find(i=>i.forward.on===t&&i.forward.label===n||i.reverse.on===t&&i.reverse.label===n)}function S3(e,t,n){const r=_3(e,t,n);if(!r)throw new Error(`Couldn't find the link ${t}.${n} in your schema`);const{forward:i,reverse:a}=r;return{"forward-identity":[Zt(),i.on,i.label],"reverse-identity":[Zt(),a.on,a.label],cardinality:i.has==="one"?"one":"many","unique?":a.has==="one","on-delete":i.onDelete,"on-delete-reverse":a.onDelete}}function vA(e,t,n,r){const i=e?S3(e,t,n):null,a=Zt(),l=[Zt(),t,n],u=[Zt(),n,t];return Object.assign(Object.assign({id:a,"forward-identity":l,"reverse-identity":u,"value-type":"ref",cardinality:"many","unique?":!1,"index?":!1,isUnsynced:!0},i||{}),r||{})}const T3=new Set(["create","update","merge","link","unlink"]),E3=new Set(["link","unlink"]),w3=new Set(["create","update","merge"]),x3=new Set(["link","unlink","create","update","merge","delete","ruleParams"]),h0={"unique?":!0,"index?":!0},A3=Object.assign(Object.assign({},h0),{cardinality:"one"});function C3(e){const t=[],[n,r,i,a]=e;if(!x3.has(n))return t;const l=d0(i);if(l&&t.push({etype:r,lookupPair:l}),n==="link")for(const[u,c]of Object.entries(a)){const d=Array.isArray(c)?c:[c];for(const h of d){const m=d0(h);m&&t.push({etype:r,lookupPair:m,linkLabel:u})}}return t}function M3({attrs:e,schema:t},n){var r,i;const[a,l,u]=[new Set,Object.assign({},e),[]];function c(m){l[m.id]=m,u.push(["add-attr",m]),a.add(m.id)}function d(m){m?.isUnsynced&&!a.has(m.id)&&(u.push(["add-attr",m]),a.add(m.id))}function h(m,v){const _=hn(l,m,v),T=jo(l,m,v);d(_),d(T),!_&&!T&&c(vA(t,m,v,A3))}for(const m of n)for(const{etype:v,lookupPair:_,linkLabel:T}of C3(m)){const w=_[0];if(T){h(v,T);const E=hn(l,v,T),C=jo(l,v,T);d(E),d(C);const O=((r=E?.["reverse-identity"])===null||r===void 0?void 0:r[1])||((i=C?.["forward-identity"])===null||i===void 0?void 0:i[1])||T;if(c0(l,O,w))h(O,f0(w));else{const P=hn(l,O,w);P||c(ld(t,O,w,h0)),d(P)}}else if(c0(l,v,w))h(v,f0(w));else{const E=hn(l,v,w);E||c(ld(t,v,w,h0)),d(E)}}for(const m of n){const[v,_,T,w]=m;if(T3.has(v)){const E=hn(l,_,"id");d(E),E||c(ld(t,_,"id",{"unique?":!0}));for(const C of Object.keys(w)){const O=hn(l,_,C);if(d(O),w3.has(v)&&(O||c(ld(t,_,C,C==="id"?{"unique?":!0}:null))),E3.has(v)){const P=jo(l,_,C);!O&&!P&&c(vA(t,_,C)),d(P)}}}}return[l,u]}function P3(e,t){const r=(Array.isArray(t)?t:[t]).flatMap(c=>i3(c)),[i,a]=M3(e,r),l=Object.assign(Object.assign({},e),{attrs:i}),u=r.flatMap(c=>v3(l,c));return[...a,...u]}var Zr=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};function yA(e,t){typeof requestIdleCallback>"u"?e():requestIdleCallback(e,{timeout:t})}const Yu="__meta";class O3{constructor(t,n){}}class p0{constructor(t){var n,r;this._subs=[],this._nextSave=null,this._nextGc=null,this._pendingSaveKeys=new Set,this._loadedKeys=new Set,this._version=0,this._meta={isLoading:!0,onLoadCbs:[],value:null,error:null,attempts:0},this._persister=t.persister,this._merge=t.merge,this.serialize=t.serialize,this.parse=t.parse,this._objectSize=t.objectSize,this._log=t.logger,this._saveThrottleMs=(n=t.saveThrottleMs)!==null&&n!==void 0?n:100,this._idleCallbackMaxWaitMs=(r=t.idleCallbackMaxWaitMs)!==null&&r!==void 0?r:1e3,this._gcOpts=t.gc,this.currentValue={},this._loadedKeys=new Set,this._loadingKeys={},this._initMeta(),t.preloadEntryCount&&this._preloadEntries(t.preloadEntryCount)}_initMeta(){return Zr(this,void 0,void 0,function*(){var t,n,r;this._meta.loadingPromise&&(yield this._meta.loadingPromise);try{const i=this._persister.getItem(Yu);this._meta.loadingPromise=i;const a=yield i;this._meta.isLoading=!1,this._meta.error=null,this._meta.loadingPromise=null,this._meta.attempts=0;const l=(n=(t=this._meta.value)===null||t===void 0?void 0:t.objects)!==null&&n!==void 0?n:{},u=a??{},c=(r=u.objects)!==null&&r!==void 0?r:{};this._meta.value=Object.assign(Object.assign({},u),{objects:Object.assign(Object.assign({},l),c)})}catch(i){this._meta.error=i,this._meta.attempts++,this._meta.loadingPromise=null}})}_getMeta(){return Zr(this,void 0,void 0,function*(){return this._meta.value?this._meta.value:this._meta.loadingPromise?(yield this._meta.loadingPromise,this._meta.value):(this._initMeta(),yield this._meta.loadingPromise,this._meta.value)})}_refreshMeta(){return Zr(this,void 0,void 0,function*(){return yield this._initMeta(),this._meta.value})}_preloadEntries(t){return Zr(this,void 0,void 0,function*(){const n=yield this.waitForMetaToLoad();if(!n)return;const r=Object.entries(n.objects);r.sort(([i,a],[l,u])=>u.updatedAt-a.updatedAt);for(const[i]of r.slice(0,t))this._loadKey(i)})}_getFromStorage(t){return Zr(this,void 0,void 0,function*(){try{const n=yield this._persister.getItem(t);return n&&this.parse(t,n)}catch(n){return console.error(`Unable to read from storage for key=${t}`,n),null}})}waitForKeyToLoad(t){return Zr(this,void 0,void 0,function*(){return this._loadedKeys.has(t)?this.currentValue[t]:(yield this._loadingKeys[t]||this._loadKey(t),this.currentValue[t])})}waitForMetaToLoad(){return Zr(this,void 0,void 0,function*(){return this._getMeta()})}unloadKey(t){this._loadedKeys.delete(t),delete this._loadingKeys[t],delete this.currentValue[t]}_loadKey(t){return Zr(this,void 0,void 0,function*(){if(this._loadedKeys.has(t)||t in this._loadingKeys)return;const n=this._getFromStorage(t);this._loadingKeys[t]=n;const r=yield n;if(delete this._loadingKeys[t],this._loadedKeys.add(t),r){const i=this._merge(t,r,this.currentValue[t]);i&&(this.currentValue[t]=i)}this.onKeyLoaded&&this.onKeyLoaded(t)})}_writeToStorage(t){var n,r;const i=[],a=t?.skipGc;if(this._meta.isLoading){const _=new Promise((T,w)=>{var E;setTimeout(()=>this._enqueuePersist(t?Object.assign(Object.assign({},t),{attempts:(t.attempts||0)+1}):{attempts:1}).then(T).catch(w),10+((E=t?.attempts)!==null&&E!==void 0?E:0)*1e3)});return i.push(_),Promise.all(i).then(T=>T.reduce((w,E)=>w+E,0))}const l=this._meta.value;if(!l)return Promise.resolve(0);const u=[],c=[];for(const _ of this._pendingSaveKeys)_ in this.currentValue?c.push(_):(u.push(_),delete l.objects[_]);for(const _ of u){const T=this._persister.removeItem(_);i.push(T.then(()=>1)),this._loadedKeys.delete(_),this._pendingSaveKeys.delete(_)}const d=[],h=[[Yu,l]],m=(n=l.objects)!==null&&n!==void 0?n:{};l.objects=m;for(const _ of c)if(this._loadedKeys.has(_)){const T=this.serialize(_,this.currentValue[_]);h.push([_,T]);const w=this._objectSize(T),E=(r=m[_])!==null&&r!==void 0?r:{createdAt:Date.now(),updatedAt:Date.now(),size:w};E.updatedAt=Date.now(),E.size=w,m[_]=E,this._pendingSaveKeys.delete(_)}else d.push(_);const v=this._persister.multiSet(h);i.push(v.then(()=>1));for(const _ of d){const T=this._loadKey(_).then(()=>this._enqueuePersist(t));i.push(T)}return a||this.gc(),Promise.all(i).then(_=>_.reduce((T,w)=>T+w,0))}flush(){return Zr(this,void 0,void 0,function*(){return this._nextSave?(clearTimeout(this._nextSave),this._nextSave=null,this._writeToStorage()):void 0})}_gc(){return Zr(this,void 0,void 0,function*(){if(!this._gcOpts)return;const t=new Set(yield this._persister.getAllKeys());t.delete(Yu);const n=new Set(Object.keys(this.currentValue));for(const v of Object.keys(this._loadingKeys))n.add(v);for(const v of this._loadedKeys)n.add(v);const r=yield this._refreshMeta();if(!r){this._log.info("Could not gc because we were not able to load meta");return}const i=[],a={gcOpts:this._gcOpts,keys:t,sacredKeys:n,removed:[],metaRemoved:[],removedMissingCount:0,removedOldCount:0,removedThresholdCount:0,removedSizeCount:0};for(const v of t)n.has(v)||v in r.objects||(this._log.info("Lost track of key in meta",v),i.push(this._persister.removeItem(v)),a.removed.push(v),a.removedMissingCount++);const l=Date.now();for(const[v,_]of Object.entries(r.objects))!n.has(v)&&_.updatedAt<l-this._gcOpts.maxAgeMs&&(i.push(this._persister.removeItem(v)),delete r.objects[v],a.removed.push(v),a.removedOldCount++);const u=Object.entries(r.objects);u.sort(([v,_],[T,w])=>_.updatedAt-w.updatedAt);const c=u.filter(([v])=>!n.has(v));if(u.length>this._gcOpts.maxEntries)for(const[v]of c.slice(0,u.length-this._gcOpts.maxEntries))i.push(this._persister.removeItem(v)),delete r.objects[v],a.removed.push(v),a.removedThresholdCount++;const d=Object.entries(r.objects);d.sort(([v,_],[T,w])=>_.updatedAt-w.updatedAt);const h=d.filter(([v])=>!n.has(v));let m=d.reduce((v,[_,T])=>v+T.size,0);for(;m>0&&m>this._gcOpts.maxSize&&h.length;){const[[v,_]]=h.splice(0,1);m-=_.size,i.push(this._persister.removeItem(v)),delete r.objects[v],a.removed.push(v),a.removedSizeCount++}for(const v of Object.keys(r.objects))!t.has(v)&&!n.has(v)&&delete r.objects[v];return(a.removed.length||a.metaRemoved.length)&&i.push(this._enqueuePersist({skipGc:!0})),this._log.info("Completed GC",a),yield Promise.all(i),a})}gc(){this._nextGc||(this._nextGc=setTimeout(()=>{yA(()=>{this._nextGc=null,this._gc()},30*1e3)},1e3*60+Math.random()*500))}_enqueuePersist(t){return new Promise((n,r)=>{if(this._nextSave){n(0);return}this._nextSave=setTimeout(()=>{yA(()=>{this._nextSave=null,this._writeToStorage(t).then(n).catch(r)},this._idleCallbackMaxWaitMs)},this._saveThrottleMs)})}version(){return this._version}updateInPlace(t){this._version++;const[n,r]=Gd(this.currentValue,t,{enablePatches:!0});for(const i of r){const a=i.path[0];a&&typeof a=="string"&&(this._pendingSaveKeys.add(a),this._loadedKeys.has(a)||this._loadKey(a))}for(const i of Object.keys(n))if(!n[i])debugger;this.currentValue=n,this._enqueuePersist();for(const i of this._subs)i(this.currentValue);return n}subscribe(t){return this._subs.push(t),t(this.currentValue),()=>{this._subs=this._subs.filter(n=>n!==t)}}}var zi=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};const I3=6,N3=["kv","querySubs","syncSubs"];function D3(e){return function(n){console.error("Error in IndexedDB event",{source:e,event:n})}}function R3(e){return zi(this,void 0,void 0,function*(){return new Promise(t=>{const n=indexedDB.open(e);n.onerror=r=>{t(null)},n.onsuccess=r=>{const a=r.target.result;t(a)},n.onupgradeneeded=r=>{var i;(i=r.target.transaction)===null||i===void 0||i.abort(),t(null)}})})}function k3(e,t,n){return zi(this,void 0,void 0,function*(){const r=typeof t=="string"?JSON.parse(t):t;if(!r)return;const i=new Set;return new Promise((a,l)=>{var u,c,d,h;const m={};for(const[T,w]of Object.entries(r)){const E=typeof w=="string"?JSON.parse(w):w;if(E.lastAccessed){const O={createdAt:E.lastAccessed,updatedAt:E.lastAccessed,size:(h=(d=(c=(u=E.result)===null||u===void 0?void 0:u.store)===null||c===void 0?void 0:c.triples)===null||d===void 0?void 0:d.length)!==null&&h!==void 0?h:0};m[T]=O}const C=n.put(E,T);i.add(C)}const v={objects:m},_=n.put(v,Yu);i.add(_);for(const T of i)T.onsuccess=()=>{i.delete(T),i.size===0&&a()},T.onerror=w=>{l(w)}})})}function bA(e,t,n){return zi(this,void 0,void 0,function*(){const r=n.put(t,e);return new Promise((i,a)=>{r.onsuccess=()=>i(),r.onerror=l=>a(l)})})}function L3(e,t){return zi(this,void 0,void 0,function*(){const n=yield R3(`instant_${e}_5`);if(!n)return;const r=yield new Promise((h,m)=>{const T=n.transaction(["kv"],"readonly").objectStore("kv").openCursor();T.onerror=E=>{m(E)};const w=[];T.onsuccess=()=>{const E=T.result;if(E){const C=E.key,O=E.value;w.push([C,O]),E.continue()}else h(w)},T.onerror=E=>{m(E)}}),i=t.transaction(["kv","querySubs"],"readwrite"),a=i.objectStore("kv"),l=i.objectStore("querySubs"),u=[],c={objects:{}};for(const[h,m]of r)switch(h){case"querySubs":{const v=k3(h,m,l);u.push(v);break}default:{const v=bA(h,m,a);u.push(v);const _={createdAt:Date.now(),updatedAt:Date.now(),size:0};c.objects[h]=_;break}}const d=bA(Yu,c,a);u.push(d),yield Promise.all(u),yield new Promise((h,m)=>{i.oncomplete=v=>h(v),i.onerror=v=>m(v),i.onabort=v=>m(v)})})}const _A=new Map;class CN extends O3{constructor(t,n){super(t,n),this.dbName=`instant_${t}_${I3}`,this._storeName=n,this._appId=t,this._dbPromise=this._init()}_init(){return new Promise((t,n)=>{let r=!1;const i=indexedDB.open(this.dbName,1);i.onerror=a=>{n(a)},i.onsuccess=a=>{const u=a.target.result;if(r){const c=L3(this._appId,u).catch(d=>{D3("Error upgrading store from version 5 to 6.")(d)});_A.set(this.dbName,c),c.then(()=>t(u)).catch(()=>t(u))}else{const c=_A.get(this.dbName);c?c.then(()=>t(u)).catch(()=>t(u)):t(u)}},i.onupgradeneeded=a=>{r=!0,this._upgradeStore(a)}})}_upgradeStore(t){const r=t.target.result;for(const i of N3)r.objectStoreNames.contains(i)||r.createObjectStore(i)}getItem(t){return zi(this,void 0,void 0,function*(){const n=yield this._dbPromise;return new Promise((r,i)=>{const u=n.transaction([this._storeName],"readonly").objectStore(this._storeName).get(t);u.onerror=c=>{i(c)},u.onsuccess=c=>{u.result?r(u.result):r(null)}})})}setItem(t,n){return zi(this,void 0,void 0,function*(){const r=yield this._dbPromise;return new Promise((i,a)=>{const c=r.transaction([this._storeName],"readwrite").objectStore(this._storeName).put(n,t);c.onerror=d=>{a(d)},c.onsuccess=d=>{i()}})})}multiSet(t){return zi(this,void 0,void 0,function*(){const n=yield this._dbPromise;return new Promise((r,i)=>{const a=n.transaction([this._storeName],"readwrite"),l=a.objectStore(this._storeName),u=new Set;for(const[c,d]of t){const h=l.put(d,c);u.add(h)}for(const c of u)c.onerror=d=>{a.abort(),i(d)},c.onsuccess=d=>{u.delete(c),u.size===0&&r()}})})}removeItem(t){return zi(this,void 0,void 0,function*(){const n=yield this._dbPromise;return new Promise((r,i)=>{const u=n.transaction([this._storeName],"readwrite").objectStore(this._storeName).delete(t);u.onerror=c=>{i(c)},u.onsuccess=c=>{r()}})})}getAllKeys(){return zi(this,void 0,void 0,function*(){const t=yield this._dbPromise;return new Promise((n,r)=>{const l=t.transaction([this._storeName],"readonly").objectStore(this._storeName).getAllKeys();l.onerror=u=>{r(u)},l.onsuccess=u=>{n(l.result.filter(c=>typeof c=="string"))}})})}}var U3=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};class MN{static getIsOnline(){return U3(this,void 0,void 0,function*(){return navigator.onLine})}static listen(t){const n=()=>{t(!0)},r=()=>{t(!1)};return addEventListener("online",n),addEventListener("offline",r),()=>{removeEventListener("online",n),removeEventListener("offline",r)}}}class ll extends Error{constructor(t,n){super(t),this.hint=n;const r=new.target.prototype;Object.setPrototypeOf&&Object.setPrototypeOf(this,r),Error.captureStackTrace&&Error.captureStackTrace(this,ll),this.name="InstantError"}get[Symbol.toStringTag](){return"InstantError"}}var j3=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};class Zh extends ll{constructor(t){var n;const r=((n=t.body)===null||n===void 0?void 0:n.message)||`API Error (${t.status})`;super(r,t.body.hint);const i=new.target.prototype;Object.setPrototypeOf&&Object.setPrototypeOf(this,i),Error.captureStackTrace&&Error.captureStackTrace(this,Zh),this.name="InstantAPIError",this.status=t.status,this.body=t.body}get[Symbol.toStringTag](){return"InstantAPIError"}}function Gr(e,t){return j3(this,void 0,void 0,function*(){const n=yield fetch(e,t),r=yield n.json();return n.status===200?Promise.resolve(r):Promise.reject(new Zh({status:n.status,body:r}))})}var Tl=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};function q3({apiURI:e,appId:t,email:n}){return Gr(`${e}/runtime/auth/send_magic_code`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({"app-id":t,email:n})})}function z3(e){return Tl(this,arguments,void 0,function*({apiURI:t,appId:n,email:r,code:i,refreshToken:a}){return yield Gr(`${t}/runtime/auth/verify_magic_code`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(Object.assign({"app-id":n,email:r,code:i},a?{"refresh-token":a}:{}))})})}function B3(e){return Tl(this,arguments,void 0,function*({apiURI:t,appId:n,refreshToken:r}){return yield Gr(`${t}/runtime/auth/verify_refresh_token`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({"app-id":n,"refresh-token":r})})})}function $3(e){return Tl(this,arguments,void 0,function*({apiURI:t,appId:n}){return yield Gr(`${t}/runtime/auth/sign_in_guest`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({"app-id":n})})})}function SA(e){return Tl(this,arguments,void 0,function*({apiURI:t,appId:n,code:r,codeVerifier:i,refreshToken:a}){return yield Gr(`${t}/runtime/oauth/token`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({app_id:n,code:r,code_verifier:i,refresh_token:a})})})}function F3(e){return Tl(this,arguments,void 0,function*({apiURI:t,appId:n,nonce:r,idToken:i,clientName:a,refreshToken:l}){return yield Gr(`${t}/runtime/oauth/id_token`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({app_id:n,nonce:r,id_token:i,client_name:a,refresh_token:l})})})}function H3(e){return Tl(this,arguments,void 0,function*({apiURI:t,appId:n,refreshToken:r}){return yield Gr(`${t}/runtime/signout`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({app_id:n,refresh_token:r})})})}var xc=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};function G3(e){return xc(this,arguments,void 0,function*({apiURI:t,appId:n,path:r,file:i,refreshToken:a,contentType:l,contentDisposition:u}){const c={app_id:n,path:r,authorization:`Bearer ${a}`,"content-type":l||i.type};return u&&(c["content-disposition"]=u),yield Gr(`${t}/storage/upload`,{method:"PUT",headers:c,body:i})})}function V3(e){return xc(this,arguments,void 0,function*({apiURI:t,appId:n,path:r,refreshToken:i}){const{data:a}=yield Gr(`${t}/storage/files?app_id=${n}&filename=${encodeURIComponent(r)}`,{method:"DELETE",headers:{"content-type":"application/json",authorization:`Bearer ${i}`}});return a})}function K3(e){return xc(this,arguments,void 0,function*({apiURI:t,appId:n,fileName:r,refreshToken:i,metadata:a={}}){const{data:l}=yield Gr(`${t}/storage/signed-upload-url`,{method:"POST",headers:{"content-type":"application/json",authorization:`Bearer ${i}`},body:JSON.stringify({app_id:n,filename:r})});return l})}function Y3(e,t){return xc(this,void 0,void 0,function*(){return(yield fetch(e,{method:"PUT",body:t,headers:{"Content-Type":t.type}})).ok})}function W3(e){return xc(this,arguments,void 0,function*({apiURI:t,appId:n,path:r,refreshToken:i}){const{data:a}=yield Gr(`${t}/storage/signed-download-url?app_id=${n}&filename=${encodeURIComponent(r)}`,{method:"GET",headers:{"content-type":"application/json",authorization:`Bearer ${i}`}});return a})}let Zb=!1,PN=!1,ON=!1;typeof window<"u"&&typeof window.localStorage<"u"&&(Zb=!!window.localStorage.getItem("devBackend"),PN=!!window.localStorage.getItem("__instantLogging"),ON=!!window.localStorage.getItem("__devtoolLocalDash"));function TA(e,t){if(!t)return e;const n={};return t.forEach(r=>{n[r]=e[r]}),n}function J3(e,t,n){var r,i;const a={peers:{}};if(t&&"user"in t?t.user:!0){const u=TA((r=e.user)!==null&&r!==void 0?r:{},t?.keys);a.user=Object.assign(Object.assign({},u),{peerId:n})}for(const u of Object.keys((i=e.peers)!==null&&i!==void 0?i:{})){const c=t?.peers===void 0,d=Array.isArray(t?.peers)&&t?.peers.includes(u);if(c||d){const h=TA(e.peers[u],t?.keys);a.peers[u]=Object.assign(Object.assign({},h),{peerId:u})}}return a}function X3(e,t){if(e.isLoading!==t.isLoading||e.error!==t.error||(e.user||t.user)&&(!e.user||!t.user||!sA(e.user,t.user))||!iN(e.peers,t.peers))return!0;for(const r of Object.keys(e.peers))if(!sA(e.peers[r],t.peers[r]))return!0;return!1}class EA{constructor(){this.promise=new Promise((t,n)=>{this._resolve=t,this._reject=n})}resolve(t){this._resolve(t)}reject(t){this._reject(t)}}function IN(e,t=[]){e.forEach(n=>{const{data:r}=n,{"datalog-result":i}=r,{"join-rows":a}=i;for(const l of a)for(const u of l)t.push(u);IN(n["child-nodes"],t)})}function wA(e){const t=[];return IN(e,t),t}function xA(e){return Object.values(e.links).reduce((t,n)=>{var r,i,a,l;return(r=t[a=n.forward.on])!==null&&r!==void 0||(t[a]={}),t[n.forward.on][n.forward.label]={isForward:!0,isSingular:n.forward.has==="one",link:n},(i=t[l=n.reverse.on])!==null&&i!==void 0||(t[l]={}),t[n.reverse.on][n.reverse.label]={isForward:!1,isSingular:n.reverse.has==="one",link:n},t},{})}const e_="v0.22.73";function Q3(e,t){return{info:e?(...n)=>console.info(...n,t()):()=>{},debug:e?(...n)=>console.debug(...n,t()):()=>{},error:e?(...n)=>console.error(...n,t()):()=>{}}}class Fi{constructor(t,n,r,i={indexed:!1,unique:!1}){this.valueType=t,this.required=n,this.isIndexed=r,this.config=i,this.metadata={}}clientRequired(){return new Fi(this.valueType,!1,this.isIndexed,this.config)}optional(){return new Fi(this.valueType,!1,this.isIndexed,this.config)}unique(){return new Fi(this.valueType,this.required,this.isIndexed,Object.assign(Object.assign({},this.config),{unique:!0}))}indexed(){return new Fi(this.valueType,this.required,!0,Object.assign(Object.assign({},this.config),{indexed:!0}))}}class ft extends Error{constructor(t,n){const r=n?`At path '${n}': ${t}`:t;super(r),this.name="QueryValidationError"}}const AA=["where","order","limit","last","first","offset","after","before","fields","aggregate"],Z3=e=>e.valueType||"unknown",NN=(e,t,n=!1)=>{if(n||e==null)return!0;switch(t){case"string":return typeof e=="string";case"number":return typeof e=="number"&&!isNaN(e);case"boolean":return typeof e=="boolean";case"date":return e instanceof Date||typeof e=="string"||typeof e=="number";default:return!0}},eF=(e,t,n,r,i,a,l)=>{const u=a.valueType==="json",c=(d,h,m)=>{if(!NN(m,h,u))throw new ft(`Invalid value for operator '${d}' on attribute '${r}' in entity '${i}'. Expected ${h}, but received: ${typeof m}`,l)};switch(e){case"in":case"$in":if(!Array.isArray(t))throw new ft(`Operator '${e}' for attribute '${r}' in entity '${i}' must be an array, but received: ${typeof t}`,l);for(const d of t)c(e,n,d);break;case"$not":case"$ne":case"$gt":case"$lt":case"$gte":case"$lte":c(e,n,t);break;case"$like":case"$ilike":if(c(e,"string",t),e==="$ilike"&&!a.isIndexed)throw new ft(`Operator '${e}' can only be used with indexed attributes, but '${r}' in entity '${i}' is not indexed`,l);break;case"$isNull":c(e,"boolean",t);break;default:throw new ft(`Unknown operator '${e}' for attribute '${r}' in entity '${i}'`,l)}},Zs=(e,t,n,r,i)=>{const a=Z3(n),l=n.valueType==="json";if(typeof e=="object"&&e!==null&&!Array.isArray(e)){if(l)return;const c=e;for(const[d,h]of Object.entries(c))eF(d,h,a,t,r,n,`${i}.${d}`)}else if(!NN(e,a,l))throw new ft(`Invalid value for attribute '${t}' in entity '${r}'. Expected ${a}, but received: ${typeof e}`,i)},tF=(e,t,n,r,i)=>{const a=e.split(".");if(a.length<2)throw new ft(`Invalid dot notation path '${e}'. Must contain at least one dot.`,i);let l=n;for(let h=0;h<a.length-1;h++){const m=a[h],v=r.entities[l];if(!v)throw new ft(`Entity '${l}' does not exist in schema while traversing dot notation path '${e}'.`,i);const _=v.links[m];if(!_){const T=Object.keys(v.links);throw new ft(`Link '${m}' does not exist on entity '${l}' in dot notation path '${e}'. Available links: ${T.length>0?T.join(", "):"none"}`,i)}l=_.entityName}const u=a[a.length-1],c=r.entities[l];if(!c)throw new ft(`Target entity '${l}' does not exist in schema for dot notation path '${e}'.`,i);if(u==="id"){if(typeof t=="string"&&!ol(t))throw new ft(`Invalid value for id field in entity '${l}'. Expected a UUID, but received: ${t}`,i);Zs(t,e,new Fi("string",!1,!0),n,i);return}const d=c.attrs[u];if(Object.keys(c.links).includes(u)){if(typeof t=="string"&&!ol(t))throw new ft(`Invalid value for link '${u}' in entity '${l}'. Expected a UUID, but received: ${t}`,i);Zs(t,e,new Fi("string",!1,!0),n,i);return}if(!d){const h=Object.keys(c.attrs);throw new ft(`Attribute '${u}' does not exist on entity '${l}' in dot notation path '${e}'. Available attributes: ${h.length>0?h.join(", ")+", id":"id"}`,i)}Zs(t,e,d,n,i)},DN=(e,t,n,r)=>{for(const[i,a]of Object.entries(e)){if(i==="or"||i==="and"){if(Array.isArray(a))for(const d of a)typeof d=="object"&&d!==null&&DN(d,t,n,`${r}.${i}[${d}]`);continue}if(i==="id"){Zs(a,"id",new Fi("string",!1,!0),t,`${r}.id`);continue}if(i.includes(".")){tF(i,a,t,n,`${r}.${i}`);continue}const l=n.entities[t];if(!l)continue;const u=l.attrs[i],c=l.links[i];if(!u&&!c){const d=Object.keys(l.attrs),h=Object.keys(l.links);throw new ft(`Attribute or link '${i}' does not exist on entity '${t}'. Available attributes: ${d.length>0?d.join(", "):"none"}. Available links: ${h.length>0?h.join(", "):"none"}`,`${r}.${i}`)}if(u)Zs(a,i,u,t,`${r}.${i}`);else if(c){if(typeof a=="string"&&!ol(a))throw new ft(`Invalid value for link '${i}' in entity '${t}'. Expected a UUID, but received: ${a}`,`${r}.${i}`);const d=new Fi("string",!1,!0);Zs(a,i,d,t,`${r}.${i}`)}}},nF=(e,t,n,r,i=0)=>{for(const l of Object.keys(e))if(!AA.includes(l))throw new ft(`Invalid query parameter '${l}' in $ object. Valid parameters are: ${AA.join(", ")}. Found: ${l}`,r);const a=["offset","before","after","first","last"];for(const l of a)if(e[l]!==void 0&&i>0)throw new ft(`'${l}' can only be used on top-level namespaces. It cannot be used in nested queries.`,r);if(e.where&&n){if(typeof e.where!="object"||e.where===null)throw new ft(`'where' clause must be an object in entity '${t}', but received: ${typeof e.where}`,r?`${r}.where`:void 0);DN(e.where,t,n,r?`${r}.where`:"where")}},RN=(e,t,n,r,i=0)=>{var a;if(!e||typeof e!="object")throw new ft(`Query part for entity '${t}' must be an object, but received: ${typeof e}`,r);for(const l of Object.keys(e))if(l!=="$"){if(n&&!(l in n.entities[t].links)){const c=Object.keys(n.entities[t].links);throw new ft(`Link '${l}' does not exist on entity '${t}'. Available links: ${c.length>0?c.join(", "):"none"}`,`${r}.${l}`)}const u=e[l];if(typeof u=="object"&&u!==null){const c=(a=n?.entities[t].links[l])===null||a===void 0?void 0:a.entityName;c&&RN(u,c,n,`${r}.${l}`,i+1)}}else{const u=e[l];if(typeof u!="object"||u===null)throw new ft(`Query parameter '$' must be an object in entity '${t}', but received: ${typeof u}`,`${r}.$`);nF(u,t,n,`${r}.$`,i)}},CA=(e,t)=>{if(typeof e!="object"||e===null)throw new ft(`Query must be an object, but received: ${typeof e}${e===null?" (null)":""}`);if(Array.isArray(e))throw new ft(`Query must be an object, but received: ${typeof e}`);const n=e;for(const r of Object.keys(n)){if(Array.isArray(e[r]))throw new ft(`Query keys must be strings, but found key of type: ${typeof r}`,r);if(typeof r!="string")throw new ft(`Query keys must be strings, but found key of type: ${typeof r}`,r);if(r!=="$$ruleParams"){if(t&&!t.entities[r]){const i=Object.keys(t.entities);throw new ft(`Entity '${r}' does not exist in schema. Available entities: ${i.length>0?i.join(", "):"none"}`,r)}RN(n[r],r,t,r,0)}}},MA=e=>typeof e!="string"?!1:Kd(e)?!0:ol(e);class wr extends Error{constructor(t){super(t),this.name="TransactionValidationError"}}const kN=e=>e.length>0?e.join(", "):"none",rF=(e,t)=>new wr(`Entity '${e}' does not exist in schema. Available entities: ${kN(t)}`),PA={string:e=>typeof e=="string",number:e=>typeof e=="number"&&!isNaN(e),boolean:e=>typeof e=="boolean",date:e=>e instanceof Date||typeof e=="string"||typeof e=="number",json:()=>!0},iF=(e,t)=>{var n,r;return e==null?!0:(r=(n=PA[t.valueType])===null||n===void 0?void 0:n.call(PA,e))!==null&&r!==void 0?r:!1},LN=(e,t)=>{const n=t.entities[e];if(!n)throw rF(e,Object.keys(t.entities));return n},fv=(e,t,n)=>{const r=LN(e,n);if(typeof t!="object"||t===null)throw new wr(`Arguments for data operation on entity '${e}' must be an object, but received: ${typeof t}`);for(const[i,a]of Object.entries(t)){if(i==="id")continue;const l=r.attrs[i];if(l&&!iF(a,l))throw new wr(`Invalid value for attribute '${i}' in entity '${e}'. Expected ${l.valueType}, but received: ${typeof a}`)}},OA=(e,t,n)=>{const r=LN(e,n);if(typeof t!="object"||t===null)throw new wr(`Arguments for link operation on entity '${e}' must be an object, but received: ${typeof t}`);for(const[i,a]of Object.entries(t)){if(!r.links[i]){const u=Object.keys(r.links);throw new wr(`Link '${i}' does not exist on entity '${e}'. Available links: ${kN(u)}`)}if(a!=null){if(Array.isArray(a)){for(const u of a)if(!MA(u))throw new wr(`Invalid entity ID in link '${i}' for entity '${e}'. Expected a UUID or a lookup, but received: ${u}`)}else if(!MA(a))throw new wr(`Invalid UUID in link '${i}' for entity '${e}'. Expected a UUID, but received: ${a}`)}}},aF={create:fv,update:fv,merge:fv,link:OA,unlink:OA,delete:()=>{}},oF=(e,t)=>{if(!t)return;const[n,r,i,a]=e;if(!Array.isArray(i)&&!ol(i))throw new wr(`Invalid id for entity '${r}'. Expected a UUID, but received: ${i}`);if(typeof r!="string")throw new wr(`Entity name must be a string, but received: ${typeof r}`);const l=aF[n];l&&a!==void 0&&l(r,a,t)},sF=(e,t)=>{const n=Array.isArray(e)?e:[e];for(const r of n){if(!r||typeof r!="object")throw new wr(`Transaction chunk must be an object, but received: ${typeof r}`);if(!Array.isArray(r.__ops))throw new wr(`Transaction chunk must have __ops array, but received: ${typeof r.__ops}`);for(const i of r.__ops){if(!Array.isArray(i))throw new wr(`Transaction operation must be an array, but received: ${typeof i}`);oF(i,t)}}};var IA=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};let UN=0;class NA{constructor(t){this.type="ws",this.id=`${this.type}_${UN++}`,this.conn=new WebSocket(t),this.conn.onopen=n=>{this.onopen&&this.onopen({target:this})},this.conn.onmessage=n=>{this.onmessage&&this.onmessage({target:this,message:JSON.parse(n.data.toString())})},this.conn.onclose=n=>{this.onclose&&this.onclose({target:this})},this.conn.onerror=n=>{this.onerror&&this.onerror({target:this})}}close(){this.conn.close()}isOpen(){var t;return this.conn.readyState===((t=WebSocket.OPEN)!==null&&t!==void 0?t:1)}isConnecting(){var t;return this.conn.readyState===((t=WebSocket.CONNECTING)!==null&&t!==void 0?t:0)}send(t){return this.conn.send(JSON.stringify(t))}}class lF{constructor(t,n){this.type="sse",this.initParams=null,this.sendQueue=[],this.closeFired=!1,this.sseInitTimeout=void 0,this.id=`${this.type}_${UN++}`,this.url=n,this.ES=t,this.conn=new t(n),this.sseInitTimeout=setTimeout(()=>{this.initParams||this.handleError()},1e4),this.conn.onmessage=r=>{const i=JSON.parse(r.data);if(i.op==="sse-init"){this.initParams={machineId:i["machine-id"],sessionId:i["session-id"],sseToken:i["sse-token"]},this.onopen&&this.onopen({target:this}),clearTimeout(this.sseInitTimeout);return}this.onmessage&&this.onmessage({target:this,message:i})},this.conn.onerror=r=>{this.handleError()}}handleError(){try{this.onerror&&this.onerror({target:this})}finally{this.handleClose()}}handleClose(){this.conn.close(),this.onclose&&!this.closeFired&&(this.closeFired=!0,this.onclose({target:this}))}postMessages(t){return IA(this,void 0,void 0,function*(){var n,r,i;try{(yield fetch(this.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({machine_id:(n=this.initParams)===null||n===void 0?void 0:n.machineId,session_id:(r=this.initParams)===null||r===void 0?void 0:r.sessionId,sse_token:(i=this.initParams)===null||i===void 0?void 0:i.sseToken,messages:t})})).ok||this.handleError()}catch{this.handleError()}})}flushQueue(){return IA(this,void 0,void 0,function*(){if(this.sendPromise||!this.sendQueue.length)return;const t=this.sendQueue;this.sendQueue=[];const n=this.postMessages(t);this.sendPromise=n,n.then(()=>{this.sendPromise=null,this.flushQueue()})})}send(t){if(!this.isOpen()||!this.initParams)throw this.isConnecting()?new Error("Failed to execute 'send' on 'EventSource': Still in CONNECTING state."):this.conn.readyState===this.ES.CLOSED?new Error("EventSource is already in CLOSING or CLOSED state."):new Error("EventSource is in invalid state.");this.sendQueue.push(t),this.flushQueue()}isOpen(){return this.conn.readyState===this.ES.OPEN&&this.initParams!==null}isConnecting(){return this.conn.readyState===this.ES.CONNECTING||this.conn.readyState===this.ES.OPEN&&this.initParams===null}close(){this.handleClose()}}var DA=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};function uF(e,t){const n=e.values;if(n)for(const r of n.entities||[])r.store.useDateObjects=t,r.store.attrs=n.attrs,r.store=cN(r.store);return e}function cF(e,t){var n,r;if(!((n=t.values)===null||n===void 0)&&n.entities){const i=[];for(const a of(r=t.values)===null||r===void 0?void 0:r.entities){const l=uN(a.store);delete l.attrs,i.push(Object.assign(Object.assign({},a),{store:l}))}return Object.assign(Object.assign({},t),{values:Object.assign(Object.assign({},t.values),{entities:i})})}else return t}function fF(e,t,n){var r,i;const a=(r=t?.state)===null||r===void 0?void 0:r.txId,l=(i=n?.state)===null||i===void 0?void 0:i.txId;return a&&(!l||a>l)?t:l&&(!a||l>a)?n:t||n}function dv(e,t){return EN({store:t,pageInfo:null,aggregate:null},e.query).data[e.table][0]}function RA(e,t,n){var r;const i=(r=Wa(t,e.table,"id"))===null||r===void 0?void 0:r.id;if(!i)return-1;const a=Sl(t.eav,[n,i,n]);return a?a[3]:-1}function kA(e,t){for(const{action:n,triple:r}of t)switch(n){case"added":hN(e,r);break;case"removed":fN(e,r);break}}function dF(e,t){var n,r,i,a;const l={};for(const{action:u,triple:c}of t){const[d,h,m]=c,v=(r=(n=e.attrs[h])===null||n===void 0?void 0:n["forward-identity"])===null||r===void 0?void 0:r[2];if(!v)continue;const _=(i=l[d])!==null&&i!==void 0?i:{};l[d]=_;const T=(a=_[v])!==null&&a!==void 0?a:{};switch(_[v]=T,u){case"added":T.newValue=m;break;case"removed":T.oldValue===void 0&&(T.oldValue=m);break}}for(const u of Object.keys(l)){const{oldValue:c,newValue:d}=l[u];c===d&&delete l[u]}return l}function ud(e,t){return{[e.table]:t.map(n=>n.entity)}}function hF(e,t){var n;if(e.orderFieldType)return e.orderFieldType;const r=e.orderField==="serverCreatedAt"?"number":(n=Wa(t([]),e.table,e.orderField))===null||n===void 0?void 0:n["checked-data-type"];return e.orderFieldType=r,r}function pF(e,t,n){const r=t;if(e.orderField==="serverCreatedAt"){n.sort(e.orderDirection==="asc"?function(l,u){return Bu(l.entity.id,l.serverCreatedAt,u.entity.id,u.serverCreatedAt,r)}:function(l,u){return Bu(u.entity.id,u.serverCreatedAt,l.entity.id,l.serverCreatedAt,r)});return}const i=e.orderField;n.sort(e.orderDirection==="asc"?function(l,u){return Bu(l.entity.id,l.entity[i],u.entity.id,u.entity[i],r)}:function(l,u){return Bu(u.entity.id,u.entity[i],l.entity.id,l.entity[i],r)})}var Po;(function(e){e.InitialSyncBatch="InitialSyncBatch",e.InitialSyncComplete="InitialSyncComplete",e.LoadFromStorage="LoadFromStorage",e.SyncTransaction="SyncTransaction",e.Error="Error"})(Po||(Po={}));class mF{constructor(t,n,r,i,a){this.callbacks={},this.idToHash={},this.trySend=t,this.config=r,this.log=i,this.createStore=a,this.subs=new p0({persister:n,merge:fF,serialize:cF,parse:(l,u)=>uF(u,this.config.useDateObjects),objectSize:l=>{var u;return((u=l.values)===null||u===void 0?void 0:u.entities.length)||0},logger:i,gc:{maxAgeMs:1e3*60*60*24*7*52,maxEntries:1e3,maxSize:1e6}})}beforeUnload(){this.subs.flush()}subscribe(t,n){const r=dn(t);return this.callbacks[r]=this.callbacks[r]||[],this.callbacks[r].push(n),this.initSubscription(t,r,n),i=>{this.unsubscribe(r,n,i?.keepSubscription)}}unsubscribe(t,n,r){const i=(this.callbacks[t]||[]).filter(a=>a!==n);if(this.callbacks[t]=i,!i.length){delete this.callbacks[t];const a=this.subs.currentValue[t];a?.state&&this.clearSubscriptionData(a.state.subscriptionId,!!r),r||this.subs.updateInPlace(l=>{delete l[t]})}}sendStart(t){this.trySend(Zt(),{op:"start-sync",q:t})}sendResync(t,n,r){this.idToHash[n.subscriptionId]=t.hash,this.trySend(n.subscriptionId,{op:"resync-table","subscription-id":n.subscriptionId,"tx-id":r,token:n.token})}sendRemove(t,n){this.trySend(Zt(),{op:"remove-sync","subscription-id":t.subscriptionId,"keep-subscription":n})}initSubscription(t,n,r){return DA(this,void 0,void 0,function*(){var i,a,l,u;yield this.subs.waitForKeyToLoad(n);const c=this.subs.currentValue[n];if(c&&c.state&&c.state.txId){this.sendResync(c,c.state,c.state.txId),!((i=c.values)===null||i===void 0)&&i.entities&&r&&r({type:Po.LoadFromStorage,data:ud(c,(a=c.values)===null||a===void 0?void 0:a.entities)});return}const d=Object.keys(t)[0],h=((u=(l=t[d])===null||l===void 0?void 0:l.$)===null||u===void 0?void 0:u.order)||{serverCreatedAt:"asc"},[m,v]=Object.entries(h)[0];this.subs.updateInPlace(_=>{_[n]={query:t,hash:n,table:d,orderDirection:v,orderField:m,createdAt:Date.now(),updatedAt:Date.now()}}),this.sendStart(t)})}flushPending(){return DA(this,void 0,void 0,function*(){for(const t of Object.keys(this.callbacks)){yield this.subs.waitForKeyToLoad(t);const n=this.subs.currentValue[t];n?yield this.initSubscription(n.query,n.hash):this.log.error("Missing sub for hash in flushPending",t)}})}onStartSyncOk(t){const n=t["subscription-id"],r=t.q,i=dn(r);this.idToHash[n]=i,this.subs.updateInPlace(a=>{const l=a[i];if(!l)return this.log.error("Missing sub for hash",i,"subscription-id",n,"query",r),a;l.state={subscriptionId:n,token:t.token}})}notifyCbs(t,n){for(const r of this.callbacks[t]||[])r(n)}onSyncLoadBatch(t){var n;const r=t["subscription-id"],i=t["join-rows"],a=this.idToHash[r];if(!a){this.log.error("Missing hash for subscription",t);return}const l=[],u=this.subs.currentValue[a];if(!u){this.log.error("Missing sub for hash",a,t);return}const c=(n=u.values)!==null&&n!==void 0?n:{entities:[],attrs:this.createStore([]).attrs};u.values=c;const d=c.entities;for(const h of i){const m=this.createStore(h);c.attrs=m.attrs;const v=dv(u,m);d.push({store:m,entity:v,serverCreatedAt:RA(u,m,v.id)}),l.push(v)}this.subs.updateInPlace(h=>{h[a]=u,h[a].updatedAt=Date.now()}),u.values&&this.notifyCbs(a,{type:Po.InitialSyncBatch,data:ud(u,u.values.entities),batch:l})}onSyncInitFinish(t){var n;const r=t["subscription-id"],i=this.idToHash[r];if(!i){this.log.error("Missing hash for subscription",t);return}this.subs.updateInPlace(l=>{const u=l[i];if(!u){this.log.error("Missing sub for hash",i,t);return}const c=u.state;if(!c)return this.log.error("Sub never set init, missing result",u,t),l;c.txId=t["tx-id"],u.updatedAt=Date.now()});const a=this.subs.currentValue[i];a&&this.notifyCbs(i,{type:Po.InitialSyncComplete,data:ud(a,((n=a.values)===null||n===void 0?void 0:n.entities)||[])})}onSyncUpdateTriples(t){var n,r,i;const a=t["subscription-id"],l=this.idToHash[a];if(!l){this.log.error("Missing hash for subscription",t);return}const u=this.subs.currentValue[l];if(!u){this.log.error("Missing sub for hash",l,t);return}const c=u.state;if(!c){this.log.error("Missing state for sub",u,t);return}for(const d of t.txes){if(c.txId&&c.txId>=d["tx-id"])continue;c.txId=d["tx-id"];const h=[],m={};for(const O of d.changes){const P=(n=m[O.triple[0]])!==null&&n!==void 0?n:[];m[O.triple[0]]=P,P.push(O)}const v=(r=u.values)!==null&&r!==void 0?r:{entities:[],attrs:this.createStore([]).attrs},_=v.entities;u.values=v;const T=[];e:for(const[O,P]of Object.entries(m))for(let D=0;D<_.length;D++){const I=_[D];if(YB(I.store,O)){kA(I.store,P);const R=dv(u,I.store),k=dF(I.store,P)[O];R?(T.push({oldEntity:I.entity,newEntity:R,changedFields:k||{}}),I.entity=R):h.push(D),delete m[O];continue e}}const w=[];for(const[O,P]of Object.entries(m)){const D=this.createStore([]);v.attrs=D.attrs,kA(D,P);const I=dv(u,D);if(!I){this.log.error("No entity found after applying change",{sub:u,changes:P,store:D});continue}_.push({store:D,entity:I,serverCreatedAt:RA(u,D,I.id)}),w.push(I)}const E=[];for(const O of h.sort().reverse())E.push(_[O].entity),_.splice(O,1);const C=hF(u,this.createStore);pF(u,C,_),this.notifyCbs(l,{type:Po.SyncTransaction,data:ud(u,(i=u.values)===null||i===void 0?void 0:i.entities),added:w,removed:E,updated:T})}this.subs.updateInPlace(d=>{d[l]=u,d[l].updatedAt=Date.now()})}clearSubscriptionData(t,n){const r=this.idToHash[t];if(r){delete this.idToHash[t];const i=this.subs.currentValue[r];if(i.state&&this.sendRemove(i.state,n),n?this.subs.unloadKey(r):this.subs.updateInPlace(a=>{delete a[r]}),i)return i}}onStartSyncError(t){const n=dn(t["original-event"].q),r={message:t.message||"Uh-oh, something went wrong. Ping Joe & Stopa.",status:t.status,type:t.type,hint:t.hint},i=Object.keys(t["original-event"].q)[0];this.notifyCbs(n,{type:Po.Error,data:{[i]:[]},error:r})}onResyncError(t){const n=t["original-event"]["subscription-id"],r=this.clearSubscriptionData(n,!1);r&&this.initSubscription(r.query,r.hash)}}var kt=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})},gF=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Ri={CONNECTING:"connecting",OPENED:"opened",AUTHENTICATED:"authenticated",CLOSED:"closed",ERRORED:"errored"},vF=3e4,yF=3e4,bF=200,_F={apiURI:"https://api.instantdb.com",websocketURI:"wss://api.instantdb.com/runtime/session"},hv="_instant_oauth_redirect",Pu="currentUser";function SF({transportType:e,appId:t,apiURI:n,wsURI:r,EventSourceImpl:i}){if(!i)return new NA(`${r}?app_id=${t}`);switch(e){case"ws":return new NA(`${r}?app_id=${t}`);case"sse":return new lF(i,`${n}/runtime/sse?app_id=${t}`);default:throw new Error("Unknown transport type "+e)}}function TF(){return typeof window<"u"||typeof chrome<"u"}const LA={"set-presence":!0,"set-presence-ok":!0,"refresh-presence":!0,"patch-presence":!0};function EF(e,t){var n;const r=typeof e=="string"?JSON.parse(e):e;if(!((n=r?.result)===null||n===void 0)&&n.store){const i=r.result.store;r.result.store=cN(Object.assign(Object.assign({},i),{useDateObjects:t}))}return r}function wF(e,t){var n;const r=Object.assign({},t);return!((n=t.result)===null||n===void 0)&&n.store&&(r.result=Object.assign(Object.assign({},t.result),{store:uN(t.result.store)})),r}function xF(e,t){switch(e){case"pendingMutations":return new Map(typeof t=="string"?JSON.parse(t):t);default:return t}}function AF(e,t){switch(e){case"pendingMutations":return[...t.entries()];default:return t}}function CF(e,t,n){const r=t?.result,i=n?.result;return r&&!i&&n&&(n.result=r),n||t}function UA(e){return[...e].sort((t,n)=>{const[r,i]=t,[a,l]=n,u=i.order||0,c=l.order||0;return u==c?r<a?-1:r>a?1:0:u-c})}class MF{constructor(t,n=CN,r=MN,i,a){var l,u,c;if(this._isOnline=!0,this._isShutdown=!1,this.status=Ri.CONNECTING,this.queryCbs={},this.queryOnceDfds={},this.authCbs=[],this.attrsCbs=[],this.mutationErrorCbs=[],this.connectionStatusCbs=[],this.mutationDeferredStore=new Map,this._reconnectTimeoutId=null,this._reconnectTimeoutMs=0,this._transportType="ws",this._wsOk=null,this._localIdPromises={},this._errorMessage=null,this._oauthCallbackResponse=null,this._linkIndex=null,this._rooms={},this._roomsPendingLeave={},this._presence={},this._broadcastQueue=[],this._broadcastSubs={},this._currentUserCached={isLoading:!0,error:void 0,user:void 0},this._beforeUnloadCbs=[],this._dataForQueryCache={},this._inFlightMutationEventIds=new Set,this._onMergeKv=(d,h,m)=>{var v,_;switch(d){case"pendingMutations":{const T=(v=h?.entries())!==null&&v!==void 0?v:[],w=(_=m?.entries())!==null&&_!==void 0?_:[],E=new Map([...T,...w]);return(h?this._rewriteMutationsSorted(this.attrs,h):[]).forEach(([O,P])=>{var D;!(!((D=m?.pendingMutations)===null||D===void 0)&&D.has(O))&&!P["tx-id"]&&this._sendMutation(O,P)}),E}default:return m||h}},this.getPreviousResult=d=>{const h=dn(d);return this.dataForQuery(h)},this.notifyOne=d=>{var h,m;const v=(h=this.queryCbs[d])!==null&&h!==void 0?h:[],_=(m=this._dataForQueryCache[d])===null||m===void 0?void 0:m.data,T=this.dataForQuery(d);T&&(Nd(T,_)||v.forEach(w=>w.cb(T)))},this.notifyOneQueryOnce=d=>{var h;const m=(h=this.queryOnceDfds[d])!==null&&h!==void 0?h:[],v=this.dataForQuery(d);m.forEach(_=>{this._completeQueryOnce(_.q,d,_.dfd),_.dfd.resolve(v)})},this.notifyQueryError=(d,h)=>{(this.queryCbs[d]||[]).forEach(v=>v.cb({error:h}))},this.pushTx=d=>{this.config.disableValidation||sF(d,this.config.schema);try{const h=P3({attrs:this.optimisticAttrs(),schema:this.config.schema,stores:Object.values(this.querySubs.currentValue).map(m=>{var v;return(v=m?.result)===null||v===void 0?void 0:v.store}),useDateObjects:this.config.useDateObjects},d);return this.pushOps(h)}catch(h){return this.pushOps([],h)}},this.pushOps=(d,h)=>{const m=Zt(),v=[...this._pendingMutations().values()],_=Math.max(0,...v.map(E=>E.order||0))+1,T={op:"transact","tx-steps":d,created:Date.now(),error:h,order:_};this._updatePendingMutations(E=>{E.set(m,T)});const w=new EA;return this.mutationDeferredStore.set(m,w),this._sendMutation(m,T),this.notifyAll(),w.promise},this._transportOnOpen=d=>{const h=d.target;if(this._transport!==h){this._log.info("[socket][open]",h.id,"skip; this is no longer the current transport");return}this._log.info("[socket][open]",this._transport.id),this._setStatus(Ri.OPENED),this.getCurrentUser().then(m=>{var v;this._trySend(Zt(),{op:"init","app-id":this.config.appId,"refresh-token":(v=m.user)===null||v===void 0?void 0:v.refresh_token,versions:this.versions,"__admin-token":this.config.__adminToken})}).catch(m=>{this._log.error("[socket][error]",h.id,m)})},this._transportOnMessage=d=>{const h=d.target,m=d.message;if(this._transport!==h){this._log.info("[socket][message]",h.id,m,"skip; this is no longer the current transport");return}!this._wsOk&&h.type==="ws"&&(this._wsOk=!0),this._transportType="ws",this._handleReceive(h.id,d.message)},this._transportOnError=d=>{const h=d.target;if(this._transport!==h){this._log.info("[socket][error]",h.id,"skip; this is no longer the current transport");return}this._log.error("[socket][error]",h.id,d)},this._scheduleReconnect=()=>{!this._wsOk&&this._transportType!=="sse"&&(this._transportType="sse",this._reconnectTimeoutMs=0),setTimeout(()=>{if(this._reconnectTimeoutMs=Math.min(this._reconnectTimeoutMs+1e3,1e4),!this._isOnline){this._log.info("[socket][close]",this._transport.id,"we are offline, no need to start socket");return}this._startSocket()},this._reconnectTimeoutMs)},this._transportOnClose=d=>{const h=d.target;if(this._transport!==h){this._log.info("[socket][close]",h.id,"skip; this is no longer the current transport");return}this._setStatus(Ri.CLOSED);for(const m of Object.values(this._rooms))m.isConnected=!1;if(this._isShutdown){this._log.info("[socket][close]",h.id,"Reactor has been shut down and will not reconnect");return}this._log.info("[socket][close]",h.id,"schedule reconnect, ms =",this._reconnectTimeoutMs),this._scheduleReconnect()},this._EventSource=a,this.config=Object.assign(Object.assign({},_F),t),this.queryCacheLimit=(l=this.config.queryCacheLimit)!==null&&l!==void 0?l:10,this._pendingTxCleanupTimeout=(u=this.config.pendingTxCleanupTimeout)!==null&&u!==void 0?u:yF,this._pendingMutationCleanupThreshold=(c=this.config.pendingMutationCleanupThreshold)!==null&&c!==void 0?c:bF,this._log=Q3(t.verbose||Zb||PN,()=>this._reactorStats()),this.versions=Object.assign(Object.assign({},i||{}),{"@instantdb/core":e_}),this.config.schema&&(this._linkIndex=xA(this.config.schema)),!!TF()){if(!t.appId)throw new Error("Instant must be initialized with an appId.");if(!ol(t.appId))throw new Error(`Instant must be initialized with a valid appId. \`${t.appId}\` is not a valid uuid.`);typeof BroadcastChannel=="function"&&(this._broadcastChannel=new BroadcastChannel("@instantdb"),this._broadcastChannel.addEventListener("message",d=>kt(this,void 0,void 0,function*(){var h;try{if(((h=d.data)===null||h===void 0?void 0:h.type)==="auth"){const m=yield this.getCurrentUser();this.updateUser(m.user)}}catch(m){this._log.error("[error] handle broadcast channel",m)}}))),this._initStorage(n),this._syncTable=new mF(this._trySendAuthed.bind(this),new n(this.config.appId,"syncSubs"),{useDateObjects:this.config.useDateObjects},this._log,d=>Dd(this.attrs,d,this.config.enableCardinalityInference,this._linkIndex,this.config.useDateObjects)),this._oauthCallbackResponse=this._oauthLoginInit(),this.getCurrentUser(),r.getIsOnline().then(d=>{this._isOnline=d,this._startSocket(),r.listen(h=>{h!==this._isOnline&&(this._log.info("[network] online =",h),this._isOnline=h,this._isOnline?this._startSocket():(this._log.info("Changing status from",this.status,"to",Ri.CLOSED),this._setStatus(Ri.CLOSED)))})}),typeof addEventListener<"u"&&(this._beforeUnload=this._beforeUnload.bind(this),addEventListener("beforeunload",this._beforeUnload))}}updateSchema(t){this.config=Object.assign(Object.assign({},this.config),{schema:t,cardinalityInference:!!t}),this._linkIndex=t?xA(this.config.schema):null}_reactorStats(){return{inFlightMutationCount:this._inFlightMutationEventIds.size,pendingMutationCount:this._pendingMutations().size,transportType:this._transportType}}_onQuerySubLoaded(t){this.kv.waitForKeyToLoad("pendingMutations").then(()=>this.notifyOne(t))}_initStorage(t){this.querySubs=new p0({persister:new t(this.config.appId,"querySubs"),merge:CF,serialize:wF,parse:(n,r)=>EF(r,this.config.useDateObjects),objectSize:n=>{var r,i,a,l;return(l=(a=(i=(r=n.result)===null||r===void 0?void 0:r.store)===null||i===void 0?void 0:i.triples)===null||a===void 0?void 0:a.length)!==null&&l!==void 0?l:0},logger:this._log,preloadEntryCount:10,gc:{maxAgeMs:1e3*60*60*24*7*52,maxEntries:1e3,maxSize:1e6}}),this.querySubs.onKeyLoaded=n=>this._onQuerySubLoaded(n),this.kv=new p0({persister:new t(this.config.appId,"kv"),merge:this._onMergeKv,serialize:AF,parse:xF,objectSize:()=>0,logger:this._log,saveThrottleMs:100,idleCallbackMaxWaitMs:100,gc:null}),this.kv.onKeyLoaded=n=>{n==="pendingMutations"&&this.notifyAll()},this.kv.waitForKeyToLoad("pendingMutations"),this.kv.waitForKeyToLoad(Pu),this._beforeUnloadCbs.push(()=>{this.kv.flush(),this.querySubs.flush()})}_beforeUnload(){for(const t of this._beforeUnloadCbs)t();this._syncTable.beforeUnload()}_finishTransaction(t,n,r){const i=this.mutationDeferredStore.get(n);this.mutationDeferredStore.delete(n);const a=t!=="error"&&t!=="timeout";if(!i&&!a&&console.error("Mutation failed",Object.assign({status:t,eventId:n},r)),!!i)if(a)i.resolve({status:t,eventId:n});else if(r?.type){const{status:l}=r,u=gF(r,["status"]);i.reject(new Zh({body:u,status:l??0}))}else i.reject(new ll(r?.message||"Unknown error",r?.hint))}_setStatus(t,n){this.status=t,this._errorMessage=n,this.notifyConnectionStatusSubs(t)}_flushEnqueuedRoomData(t){var n,r;const i=(r=(n=this._presence[t])===null||n===void 0?void 0:n.result)===null||r===void 0?void 0:r.user,a=this._broadcastQueue[t];if(this._broadcastQueue[t]=[],i&&this._trySetPresence(t,i),a)for(const l of a){const{topic:u,roomType:c,data:d}=l;this._tryBroadcast(t,c,u,d)}}_handleReceive(t,n){var r,i,a,l,u,c;const d=!!this.config.schema&&("cardinalityInference"in this.config?!!this.config.cardinalityInference:!0);switch(LA[n.op]||this._log.info("[receive]",t,n.op,n),n.op){case"init-ok":{this._setStatus(Ri.AUTHENTICATED),this._reconnectTimeoutMs=0,this._setAttrs(n.attrs),this._flushPendingMessages(),this._sessionId=n["session-id"];for(const v of Object.keys(this._rooms)){const _=(i=(r=this._presence[v])===null||r===void 0?void 0:r.result)===null||i===void 0?void 0:i.user;this._tryJoinRoom(v,_)}break}case"add-query-exists":{this.notifyOneQueryOnce(dn(n.q));break}case"add-query-ok":{const{q:v,result:_}=n,T=dn(v);if(!this._hasQueryListeners()&&!this.querySubs.currentValue[T])break;const w=(l=(a=_?.[0])===null||a===void 0?void 0:a.data)===null||l===void 0?void 0:l["page-info"],E=(c=(u=_?.[0])===null||u===void 0?void 0:u.data)===null||c===void 0?void 0:c.aggregate,C=wA(_),O=Dd(this.attrs,C,d,this._linkIndex,this.config.useDateObjects);this.querySubs.updateInPlace(P=>{if(!P[T]){this._log.info("Missing value in querySubs",{hash:T,q:v});return}P[T].result={store:O,pageInfo:w,aggregate:E,processedTxId:n["processed-tx-id"]}}),this._cleanupPendingMutationsQueries(),this.notifyOne(T),this.notifyOneQueryOnce(T),this._cleanupPendingMutationsTimeout();break}case"start-sync-ok":{this._syncTable.onStartSyncOk(n);break}case"sync-load-batch":{this._syncTable.onSyncLoadBatch(n);break}case"sync-init-finish":{this._syncTable.onSyncInitFinish(n);break}case"sync-update-triples":{this._syncTable.onSyncUpdateTriples(n);break}case"refresh-ok":{const{computations:v,attrs:_}=n,T=n["processed-tx-id"];_&&this._setAttrs(_),this._cleanupPendingMutationsTimeout();const w=this._rewriteMutations(this.attrs,this._pendingMutations(),T);w!==this._pendingMutations()&&this.kv.updateInPlace(O=>{O.pendingMutations=w});const E=UA(w.entries()),C=v.map(O=>{var P,D,I,R;const k=O["instaql-query"],z=O["instaql-result"],$=dn(k),re=wA(z),F=Dd(this.attrs,re,d,this._linkIndex,this.config.useDateObjects),V=this._applyOptimisticUpdates(F,E,T),de=(D=(P=z?.[0])===null||P===void 0?void 0:P.data)===null||D===void 0?void 0:D["page-info"],pe=(R=(I=z?.[0])===null||I===void 0?void 0:I.data)===null||R===void 0?void 0:R.aggregate;return{q:k,hash:$,store:V,pageInfo:de,aggregate:pe}});C.forEach(({hash:O,q:P,store:D,pageInfo:I,aggregate:R})=>{this.querySubs.updateInPlace(k=>{if(!k[O]){this._log.error("Missing value in querySubs",{hash:O,q:P});return}k[O].result={store:D,pageInfo:I,aggregate:R,processedTxId:T}})}),this._cleanupPendingMutationsQueries(),C.forEach(({hash:O})=>{this.notifyOne(O)});break}case"transact-ok":{const{"client-event-id":v,"tx-id":_}=n;this._inFlightMutationEventIds.delete(v);const w=this._rewriteMutations(this.attrs,this._pendingMutations()).get(v);if(!w)break;this._updatePendingMutations(C=>{C.set(v,Object.assign(Object.assign({},C.get(v)),{"tx-id":_,confirmed:Date.now()}))});const E=w["tx-steps"].filter(([C,...O])=>C==="add-attr").map(([C,O])=>O).concat(Object.values(this.attrs));this._setAttrs(E),this._finishTransaction("synced",v),this._cleanupPendingMutationsTimeout();break}case"patch-presence":{const v=n["room-id"];this._trySetRoomConnected(v,!0),this._patchPresencePeers(v,n.edits),this._notifyPresenceSubs(v);break}case"refresh-presence":{const v=n["room-id"];this._trySetRoomConnected(v,!0),this._setPresencePeers(v,n.data),this._notifyPresenceSubs(v);break}case"server-broadcast":{const v=n["room-id"],_=n.topic;this._trySetRoomConnected(v,!0),this._notifyBroadcastSubs(v,_,n);break}case"join-room-ok":{const v=n["room-id"];if(!this._rooms[v]){this._roomsPendingLeave[v]&&(this._tryLeaveRoom(v),delete this._roomsPendingLeave[v]);break}this._trySetRoomConnected(v,!0),this._flushEnqueuedRoomData(v);break}case"leave-room-ok":{const v=n["room-id"];this._trySetRoomConnected(v,!1);break}case"join-room-error":const h=n["room-id"],m=this._rooms[h];m&&(m.error=n.error),this._notifyPresenceSubs(h);break;case"error":this._handleReceiveError(n);break;default:this._log.info("Uknown op",n.op,n);break}}_pendingMutations(){var t;return(t=this.kv.currentValue.pendingMutations)!==null&&t!==void 0?t:new Map}_updatePendingMutations(t){this.kv.updateInPlace(n=>{var r;const i=(r=n.pendingMutations)!==null&&r!==void 0?r:new Map;n.pendingMutations=i,t(i)})}_handleMutationError(t,n,r){const i=this._pendingMutations().get(n);if(i&&(t!=="timeout"||!i["tx-id"])){this._updatePendingMutations(l=>(l.delete(n),l)),this._inFlightMutationEventIds.delete(n);const a={message:r.message,hint:r.hint};this.notifyAll(),this.notifyAttrsSubs(),this.notifyMutationErrorSubs(a),this._finishTransaction(t,n,r)}}_handleReceiveError(t){var n,r,i,a,l,u,c;console.log("error",t);const d=t["client-event-id"];this._inFlightMutationEventIds.delete(d);const h=this._pendingMutations().get(d),m={message:t.message||"Uh-oh, something went wrong. Ping Joe & Stopa."};if(t.hint&&(m.hint=t.hint),h){this._handleMutationError("error",d,t);return}if(!((n=t["original-event"])===null||n===void 0)&&n.hasOwnProperty("q")&&((r=t["original-event"])===null||r===void 0?void 0:r.op)==="add-query"){const T=(i=t["original-event"])===null||i===void 0?void 0:i.q,w=dn(T);this.notifyQueryError(dn(T),m),this.notifyQueryOnceError(T,w,d,m);return}if(((a=t["original-event"])===null||a===void 0?void 0:a.op)==="init"){if(t.type==="record-not-found"&&((l=t.hint)===null||l===void 0?void 0:l["record-type"])==="app-user"){this.changeCurrentUser(null);return}this._setStatus(Ri.ERRORED,m),this.notifyAll();return}if(((u=t["original-event"])===null||u===void 0?void 0:u.op)==="resync-table"){this._syncTable.onResyncError(t);return}if(((c=t["original-event"])===null||c===void 0?void 0:c.op)==="start-sync"){this._syncTable.onStartSyncError(t);return}const _=Object.assign({},t);delete _.message,delete _.hint,console.error(t.message,_),t.hint&&console.error(`This error comes with some debugging information. Here it is: 
`,t.hint)}notifyQueryOnceError(t,n,r,i){var a;const l=(a=this.queryOnceDfds[n])===null||a===void 0?void 0:a.find(u=>u.eventId===r);l&&(l.dfd.reject(i),this._completeQueryOnce(t,n,l.dfd))}_setAttrs(t){this.attrs=t.reduce((n,r)=>(n[r.id]=r,n),{}),this.notifyAttrsSubs()}_startQuerySub(t,n){const r=Zt();return this.querySubs.updateInPlace(i=>{i[n]=i[n]||{q:t,result:null,eventId:r},i[n].lastAccessed=Date.now()}),this._trySendAuthed(r,{op:"add-query",q:t}),r}subscribeTable(t,n){return this._syncTable.subscribe(t,n)}subscribeQuery(t,n,r){var i;this.config.disableValidation||CA(t,this.config.schema),r&&"ruleParams"in r&&(t=Object.assign({$$ruleParams:r.ruleParams},t));const a=dn(t),l=this.getPreviousResult(t);return l&&n(l),this.queryCbs[a]=(i=this.queryCbs[a])!==null&&i!==void 0?i:[],this.queryCbs[a].push({q:t,cb:n}),this._startQuerySub(t,a),()=>{this._unsubQuery(t,a,n)}}queryOnce(t,n){var r;this.config.disableValidation||CA(t,this.config.schema),n&&"ruleParams"in n&&(t=Object.assign({$$ruleParams:n.ruleParams},t));const i=new EA;if(!this._isOnline)return i.reject(new Error("We can't run `queryOnce`, because the device is offline.")),i.promise;if(!this.querySubs)return i.reject(new Error("We can't run `queryOnce` on the backend. Use adminAPI.query instead: https://www.instantdb.com/docs/backend#query")),i.promise;const a=dn(t),l=this._startQuerySub(t,a);return this.queryOnceDfds[a]=(r=this.queryOnceDfds[a])!==null&&r!==void 0?r:[],this.queryOnceDfds[a].push({q:t,dfd:i,eventId:l}),setTimeout(()=>i.reject(new Error("Query timed out")),vF),i.promise}_completeQueryOnce(t,n,r){this.queryOnceDfds[n]&&(this.queryOnceDfds[n]=this.queryOnceDfds[n].filter(i=>i.dfd!==r),this._cleanupQuery(t,n))}_unsubQuery(t,n,r){this.queryCbs[n]&&(this.queryCbs[n]=this.queryCbs[n].filter(i=>i.cb!==r),this._cleanupQuery(t,n))}_hasQueryListeners(t){var n,r;return!!(!((n=this.queryCbs[t])===null||n===void 0)&&n.length||!((r=this.queryOnceDfds[t])===null||r===void 0)&&r.length)}_cleanupQuery(t,n){this._hasQueryListeners(n)||(delete this.queryCbs[n],delete this.queryOnceDfds[n],delete this._dataForQueryCache[n],this.querySubs.unloadKey(n),this._trySendAuthed(Zt(),{op:"remove-query",q:t}))}_rewriteMutations(t,n,r){if(!t)return n;if(!n)return new Map;const i=h=>{const[m,v,_]=h["forward-identity"];return hn(t,v,_)},a=h=>{const[m,v,_]=h["forward-identity"];return jo(t,v,_)},l={attrIdMap:{},refSwapAttrIds:new Set};let u=!1;const c=(h,m)=>{const v=[];for(const _ of h){const[T]=_;if(T==="add-attr"){const[E,C]=_,O=i(C);if(O&&C.id!==O.id){l.attrIdMap[C.id]=O.id,u=!0;continue}if(C["value-type"]==="ref"){const P=a(C);if(P){l.attrIdMap[C.id]=P.id,l.refSwapAttrIds.add(C.id),u=!0;continue}}}if(r&&m&&r>=m&&T==="add-attr"||T==="update-attr"||T==="delete-attr"){u=!0;continue}const w=u?a3(l,_):_;v.push(w)}return u?v:h},d=new Map;for(const[h,m]of n.entries())d.set(h,Object.assign(Object.assign({},m),{"tx-steps":c(m["tx-steps"],m["tx-id"])}));return u?d:n}_rewriteMutationsSorted(t,n){return UA(this._rewriteMutations(t,n).entries())}optimisticAttrs(){var t;const n=[...this._pendingMutations().values()].flatMap(u=>u["tx-steps"]),r=new Set(n.filter(([u,c])=>u==="delete-attr").map(([u,c])=>c)),i=[];for(const[u,c]of n)if(u==="add-attr")i.push(c);else if(u==="update-attr"&&c.id&&(!((t=this.attrs)===null||t===void 0)&&t[c.id])){const d=Object.assign(Object.assign({},this.attrs[c.id]),c);i.push(d)}const a=[...Object.values(this.attrs||{}),...i].filter(u=>!r.has(u.id));return Object.fromEntries(a.map(u=>[u.id,u]))}dataForQuery(t){const n=this._errorMessage;if(n)return{error:n};if(!this.querySubs||!this.kv.currentValue.pendingMutations)return;const r=this.querySubs.version(),i=this.querySubs.currentValue,a=this.kv.version(),l=this._pendingMutations(),{q:u,result:c}=i[t]||{};if(!c)return;const d=this._dataForQueryCache[t];if(d&&r===d.querySubVersion&&a===d.pendingMutationsVersion)return d.data;const{store:h,pageInfo:m,aggregate:v,processedTxId:_}=c,T=this._rewriteMutationsSorted(h.attrs,l),w=this._applyOptimisticUpdates(h,T,_),E=EN({store:w,pageInfo:m,aggregate:v},u);return this._dataForQueryCache[t]={querySubVersion:r,pendingMutationsVersion:a,data:E},E}_applyOptimisticUpdates(t,n,r){for(const[i,a]of n)(!a["tx-id"]||r&&a["tx-id"]>r)&&(t=o$(t,a["tx-steps"]));return t}notifyAll(){Object.keys(this.queryCbs).forEach(t=>{this.querySubs.waitForKeyToLoad(t).then(()=>this.notifyOne(t)).catch(()=>this.notifyOne(t))})}loadedNotifyAll(){this.kv.waitForKeyToLoad("pendingMutations").then(()=>this.notifyAll()).catch(()=>this.notifyAll())}shutdown(){var t;this._log.info("[shutdown]",this.config.appId),this._isShutdown=!0,(t=this._transport)===null||t===void 0||t.close()}_sendMutation(t,n){if(n.error){this._handleMutationError("error",t,{message:n.error.message});return}if(this.status!==Ri.AUTHENTICATED){this._finishTransaction("enqueued",t);return}const r=Math.max(6e3,Math.min(this._inFlightMutationEventIds.size+1,this._pendingMutations().size+1)*6e3);this._isOnline?(this._trySend(t,n),setTimeout(()=>{this._isOnline&&this._handleMutationError("timeout",t,{message:"transaction timed out"})},r)):this._finishTransaction("enqueued",t)}_flushPendingMessages(){Object.keys(this.queryCbs).map(i=>this.querySubs.currentValue[i]).filter(i=>i).forEach(({eventId:i,q:a})=>{this._trySendAuthed(i,{op:"add-query",q:a})}),Object.values(this.queryOnceDfds).flat().forEach(({eventId:i,q:a})=>{this._trySendAuthed(i,{op:"add-query",q:a})}),this._rewriteMutationsSorted(this.attrs,this._pendingMutations()).forEach(([i,a])=>{a["tx-id"]||this._sendMutation(i,a)}),this._syncTable.flushPending()}_cleanupPendingMutationsQueries(){let t=Number.MAX_SAFE_INTEGER;for(const{result:n}of Object.values(this.querySubs.currentValue))n?.processedTxId&&(t=Math.min(t,n?.processedTxId));this._updatePendingMutations(n=>{for(const[r,i]of Array.from(n.entries()))i["tx-id"]&&i["tx-id"]<=t&&n.delete(r)})}_cleanupPendingMutationsTimeout(){if(this._pendingMutations().size<this._pendingMutationCleanupThreshold)return;const t=Date.now();this._updatePendingMutations(n=>{for(const[r,i]of Array.from(n.entries()))i.confirmed&&i.confirmed+this._pendingTxCleanupTimeout<t&&n.delete(r)})}_trySendAuthed(...t){this.status===Ri.AUTHENTICATED&&this._trySend(...t)}_trySend(t,n,r){if(this._transport.isOpen()){switch(LA[n.op]||this._log.info("[send]",this._transport.id,n.op,n),n.op){case"transact":{this._inFlightMutationEventIds.add(t);break}case"init":this._inFlightMutationEventIds.clear()}this._transport.send(Object.assign({"client-event-id":t},n))}}_startSocket(){if(this._wsOk=null,this._isShutdown){this._log.info("[socket][start]",this.config.appId,"Reactor has been shut down and will not start a new socket");return}if(this._transport&&this._transport.isConnecting()){this._log.info("[socket][start]",this._transport.id,"maintained as current transport, we were still in a connecting state");return}const t=this._transport;this._transport=SF({transportType:this._transportType,appId:this.config.appId,apiURI:this.config.apiURI,wsURI:this.config.websocketURI,EventSourceImpl:this._EventSource}),this._transport.onopen=this._transportOnOpen,this._transport.onmessage=this._transportOnMessage,this._transport.onclose=this._transportOnClose,this._transport.onerror=this._transportOnError,this._log.info("[socket][start]",this._transport.id),t?.isOpen()&&(this._log.info("[socket][start]",this._transport.id,"close previous transport id = ",t.id),t.close())}getLocalId(t){return kt(this,void 0,void 0,function*(){const n=`localToken_${t}`;if(this.kv.currentValue[n])return this.kv.currentValue[n];const r=yield this.kv.waitForKeyToLoad(n);if(r)return r;const i=Zt();return this.kv.updateInPlace(a=>{a[n]||(a[n]=i)}),yield this.kv.waitForKeyToLoad(n)})}_replaceUrlAfterOAuth(){if(typeof URL>"u")return;const t=new URL(window.location.href);if(t.searchParams.get(hv)){const n=t.toString();t.searchParams.delete(hv),t.searchParams.delete("code"),t.searchParams.delete("error");const r=t.pathname+(t.searchParams.size?"?"+t.searchParams:"")+t.hash;if(history.replaceState(history.state,"",r),typeof navigation=="object"&&typeof navigation.addEventListener=="function"&&typeof navigation.removeEventListener=="function"){let i=!1;const a=l=>{var u;i||(i=!0,navigation.removeEventListener("navigate",a),!l.userInitiated&&l.navigationType==="replace"&&((u=l.destination)===null||u===void 0?void 0:u.url)===n&&history.replaceState(history.state,"",r))};navigation.addEventListener("navigate",a)}}}_oauthLoginInit(){return kt(this,void 0,void 0,function*(){var t,n,r,i;if(typeof window>"u"||typeof window.location>"u"||typeof URLSearchParams>"u")return null;const a=new URLSearchParams(window.location.search);if(!a.get(hv))return null;const l=a.get("error");if(l)return this._replaceUrlAfterOAuth(),{error:{message:l}};const u=a.get("code");if(!u)return null;this._replaceUrlAfterOAuth();try{const c=yield this._getCurrentUser(),d=c?.type==="guest",{user:h}=yield SA({apiURI:this.config.apiURI,appId:this.config.appId,code:u,refreshToken:d?c.refresh_token:void 0});return this.setCurrentUser(h),null}catch(c){return((t=c?.body)===null||t===void 0?void 0:t.type)==="record-not-found"&&((r=(n=c?.body)===null||n===void 0?void 0:n.hint)===null||r===void 0?void 0:r["record-type"])==="app-oauth-code"&&(yield this._hasCurrentUser())?null:{error:{message:((i=c?.body)===null||i===void 0?void 0:i.message)||"Error logging in."}}}})}_waitForOAuthCallbackResponse(){return kt(this,void 0,void 0,function*(){return yield this._oauthCallbackResponse})}__subscribeMutationErrors(t){return this.mutationErrorCbs.push(t),()=>{this.mutationErrorCbs=this.mutationErrorCbs.filter(n=>n!==t)}}subscribeAuth(t){this.authCbs.push(t);const n=this._currentUserCached;n.isLoading||t(this._currentUserCached);let r=!1;return this.getCurrentUser().then(i=>{r||Nd(i,n)||t(i)}),()=>{r=!0,this.authCbs=this.authCbs.filter(i=>i!==t)}}getAuth(){return kt(this,void 0,void 0,function*(){const{user:t,error:n}=yield this.getCurrentUser();if(n)throw new ll("Could not get current user: "+n.message);return t})}subscribeConnectionStatus(t){return this.connectionStatusCbs.push(t),()=>{this.connectionStatusCbs=this.connectionStatusCbs.filter(n=>n!==t)}}subscribeAttrs(t){return this.attrsCbs.push(t),this.attrs&&t(this.attrs),()=>{this.attrsCbs=this.attrsCbs.filter(n=>n!==t)}}notifyAuthSubs(t){this.authCbs.forEach(n=>n(t))}notifyMutationErrorSubs(t){this.mutationErrorCbs.forEach(n=>n(t))}notifyAttrsSubs(){if(!this.attrs)return;const t=this.optimisticAttrs();this.attrsCbs.forEach(n=>n(t))}notifyConnectionStatusSubs(t){this.connectionStatusCbs.forEach(n=>n(t))}setCurrentUser(t){return kt(this,void 0,void 0,function*(){this.kv.updateInPlace(n=>{n[Pu]=t}),yield this.kv.waitForKeyToLoad(Pu)})}getCurrentUserCached(){return this._currentUserCached}_getCurrentUser(){return kt(this,void 0,void 0,function*(){const t=yield this.kv.waitForKeyToLoad(Pu);return typeof t=="string"?JSON.parse(t):t})}getCurrentUser(){return kt(this,void 0,void 0,function*(){const t=yield this._waitForOAuthCallbackResponse();if(t?.error){const n={error:t.error,user:void 0};return this._currentUserCached=Object.assign({isLoading:!1},n),n}try{const r={user:yield this._getCurrentUser(),error:void 0};return this._currentUserCached=Object.assign({isLoading:!1},r),r}catch(n){return{user:void 0,isLoading:!1,error:{message:n?.message||"Error loading user"}}}})}_hasCurrentUser(){return kt(this,void 0,void 0,function*(){const t=yield this.kv.waitForKeyToLoad(Pu);return typeof t=="string"?JSON.parse(t)!=null:t!=null})}changeCurrentUser(t){return kt(this,void 0,void 0,function*(){var n;const{user:r}=yield this.getCurrentUser();if(!Nd(r,t)){yield this.setCurrentUser(t),this.updateUser(t);try{(n=this._broadcastChannel)===null||n===void 0||n.postMessage({type:"auth"})}catch(i){console.error("Error posting message to broadcast channel",i)}}})}updateUser(t){const n={error:void 0,user:t};this._currentUserCached=Object.assign({isLoading:!1},n),this._dataForQueryCache={},this.querySubs.updateInPlace(r=>{Object.keys(r).forEach(i=>{delete r[i].result})}),this._reconnectTimeoutMs=0,this._transport.close(),this._oauthCallbackResponse=null,this.notifyAuthSubs(n)}sendMagicCode({email:t}){return q3({apiURI:this.config.apiURI,appId:this.config.appId,email:t})}signInWithMagicCode(t){return kt(this,arguments,void 0,function*({email:n,code:r}){var i;const a=yield this.getCurrentUser(),l=((i=a?.user)===null||i===void 0?void 0:i.type)==="guest",u=yield z3({apiURI:this.config.apiURI,appId:this.config.appId,email:n,code:r,refreshToken:l?a.user.refresh_token:void 0});return yield this.changeCurrentUser(u.user),u})}signInWithCustomToken(t){return kt(this,void 0,void 0,function*(){const n=yield B3({apiURI:this.config.apiURI,appId:this.config.appId,refreshToken:t});return yield this.changeCurrentUser(n.user),n})}signInAsGuest(){return kt(this,void 0,void 0,function*(){const t=yield $3({apiURI:this.config.apiURI,appId:this.config.appId});return yield this.changeCurrentUser(t.user),t})}potentiallyInvalidateToken(t,n){var r;const i=(r=t?.user)===null||r===void 0?void 0:r.refresh_token;if(!i)return;if(n.invalidateToken===!1){this._log.info("[auth-invalidate] skipped invalidateToken");return}H3({apiURI:this.config.apiURI,appId:this.config.appId,refreshToken:i}).then(()=>{this._log.info("[auth-invalidate] completed invalidateToken")}).catch(l=>{})}signOut(t){return kt(this,void 0,void 0,function*(){const n=yield this.getCurrentUser();this.potentiallyInvalidateToken(n,t),yield this.changeCurrentUser(null)})}createAuthorizationURL({clientName:t,redirectURL:n}){const{apiURI:r,appId:i}=this.config;return`${r}/runtime/oauth/start?app_id=${i}&client_name=${t}&redirect_uri=${n}`}exchangeCodeForToken(t){return kt(this,arguments,void 0,function*({code:n,codeVerifier:r}){var i;const a=yield this.getCurrentUser(),l=((i=a?.user)===null||i===void 0?void 0:i.type)==="guest",u=yield SA({apiURI:this.config.apiURI,appId:this.config.appId,code:n,codeVerifier:r,refreshToken:l?a.user.refresh_token:void 0});return yield this.changeCurrentUser(u.user),u})}issuerURI(){const{apiURI:t,appId:n}=this.config;return`${t}/runtime/${n}`}signInWithIdToken(t){return kt(this,arguments,void 0,function*({idToken:n,clientName:r,nonce:i}){var a;const l=yield this.getCurrentUser(),u=(a=l?.user)===null||a===void 0?void 0:a.refresh_token,c=yield F3({apiURI:this.config.apiURI,appId:this.config.appId,idToken:n,clientName:r,nonce:i,refreshToken:u});return yield this.changeCurrentUser(c.user),c})}joinRoom(t,n){let r=!1;this._rooms[t]||(r=!0,this._rooms[t]={isConnected:!1,error:void 0}),this._presence[t]=this._presence[t]||{};const i=this._presence[t].result;return n&&!i&&(this._presence[t].result=this._presence[t].result||{},this._presence[t].result.user=n,this._notifyPresenceSubs(t)),r&&this._tryJoinRoom(t,n),()=>{this._cleanupRoom(t)}}_cleanupRoom(t){var n,r,i,a;if(!(!((r=(n=this._presence[t])===null||n===void 0?void 0:n.handlers)===null||r===void 0)&&r.length)&&!Object.keys((i=this._broadcastSubs[t])!==null&&i!==void 0?i:{}).length){const l=(a=this._rooms[t])===null||a===void 0?void 0:a.isConnected;delete this._rooms[t],delete this._presence[t],delete this._broadcastSubs[t],l?this._tryLeaveRoom(t):this._roomsPendingLeave[t]=!0}}getPresence(t,n,r={}){const i=this._rooms[n],a=this._presence[n];return!i||!a||!a.result?null:Object.assign(Object.assign({},J3(a.result,r,this._sessionId)),{isLoading:!i.isConnected,error:i.error})}publishPresence(t,n,r){const i=this._rooms[n],a=this._presence[n];if(!i||!a)return;a.result=a.result||{};const l=Object.assign(Object.assign({},a.result.user),r);a.result.user=l,i.isConnected&&(this._trySetPresence(n,l),this._notifyPresenceSubs(n))}_trySetPresence(t,n){this._trySendAuthed(Zt(),{op:"set-presence","room-id":t,data:n})}_tryJoinRoom(t,n){this._trySendAuthed(Zt(),{op:"join-room","room-id":t,data:n}),delete this._roomsPendingLeave[t]}_tryLeaveRoom(t){this._trySendAuthed(Zt(),{op:"leave-room","room-id":t})}_trySetRoomConnected(t,n){const r=this._rooms[t];r&&(r.isConnected=n)}subscribePresence(t,n,r,i){const a=this.joinRoom(n,r.initialPresence||r.initialData),l=Object.assign(Object.assign({},r),{roomId:n,cb:i,prev:null});return this._presence[n]=this._presence[n]||{},this._presence[n].handlers=this._presence[n].handlers||[],this._presence[n].handlers.push(l),this._notifyPresenceSub(n,l),()=>{var u,c,d;this._presence[n].handlers=(d=(c=(u=this._presence[n])===null||u===void 0?void 0:u.handlers)===null||c===void 0?void 0:c.filter(h=>h!==l))!==null&&d!==void 0?d:[],a()}}_notifyPresenceSubs(t){var n,r;(r=(n=this._presence[t])===null||n===void 0?void 0:n.handlers)===null||r===void 0||r.forEach(i=>{this._notifyPresenceSub(t,i)})}_notifyPresenceSub(t,n){const r=this.getPresence("",t,n);r&&(n.prev&&!X3(r,n.prev)||(n.prev=r,n.cb(r)))}_patchPresencePeers(t,n){var r,i,a;const l=((i=(r=this._presence[t])===null||r===void 0?void 0:r.result)===null||i===void 0?void 0:i.peers)||{};let u=Object.fromEntries(Object.entries(l).map(([d,h])=>[d,{data:h}]));(a=this._presence[t])===null||a===void 0||a.result;const c=Gd(u,d=>{for(let[h,m,v]of n)switch(m){case"+":PB(d,h,v);break;case"r":lA(d,h,v);break;case"-":oN(d,h);break}delete d[this._sessionId]});this._setPresencePeers(t,c)}_setPresencePeers(t,n){const r=Object.assign({},n);delete r[this._sessionId];const i=Object.fromEntries(Object.entries(r).map(([a,l])=>[a,l.data]));this._presence=Gd(this._presence,a=>{lA(a,[t,"result","peers"],i)})}publishTopic({roomType:t,roomId:n,topic:r,data:i}){var a;const l=this._rooms[n];if(l){if(!l.isConnected){this._broadcastQueue[n]=(a=this._broadcastQueue[n])!==null&&a!==void 0?a:[],this._broadcastQueue[n].push({topic:r,roomType:t,data:i});return}this._tryBroadcast(n,t,r,i)}}_tryBroadcast(t,n,r,i){this._trySendAuthed(Zt(),{op:"client-broadcast","room-id":t,roomType:n,topic:r,data:i})}subscribeTopic(t,n,r){const i=this.joinRoom(t);return this._broadcastSubs[t]=this._broadcastSubs[t]||{},this._broadcastSubs[t][n]=this._broadcastSubs[t][n]||[],this._broadcastSubs[t][n].push(r),this._presence[t]=this._presence[t]||{},()=>{this._broadcastSubs[t][n]=this._broadcastSubs[t][n].filter(a=>a!==r),this._broadcastSubs[t][n].length||delete this._broadcastSubs[t][n],i()}}_notifyBroadcastSubs(t,n,r){var i,a,l;(l=(a=(i=this._broadcastSubs)===null||i===void 0?void 0:i[t])===null||a===void 0?void 0:a[n])===null||l===void 0||l.forEach(u=>{var c,d,h,m,v,_;const T=(c=r.data)===null||c===void 0?void 0:c.data,w=r.data["peer-id"]===this._sessionId?(h=(d=this._presence[t])===null||d===void 0?void 0:d.result)===null||h===void 0?void 0:h.user:(_=(v=(m=this._presence[t])===null||m===void 0?void 0:m.result)===null||v===void 0?void 0:v.peers)===null||_===void 0?void 0:_[r.data["peer-id"]];return u(T,w)})}uploadFile(t,n,r){return kt(this,void 0,void 0,function*(){var i;const a=yield this.getCurrentUser(),l=(i=a?.user)===null||i===void 0?void 0:i.refresh_token;return G3(Object.assign(Object.assign({},r),{apiURI:this.config.apiURI,appId:this.config.appId,path:t,file:n,refreshToken:l}))})}deleteFile(t){return kt(this,void 0,void 0,function*(){var n;const r=yield this.getCurrentUser(),i=(n=r?.user)===null||n===void 0?void 0:n.refresh_token;return yield V3({apiURI:this.config.apiURI,appId:this.config.appId,path:t,refreshToken:i})})}upload(t,n){return kt(this,void 0,void 0,function*(){var r;const i=yield this.getCurrentUser(),a=(r=i?.user)===null||r===void 0?void 0:r.refresh_token,l=t||n.name,u=yield K3({apiURI:this.config.apiURI,appId:this.config.appId,fileName:l,refreshToken:a});return yield Y3(u,n)})}getDownloadUrl(t){return kt(this,void 0,void 0,function*(){var n;const r=yield this.getCurrentUser(),i=(n=r?.user)===null||n===void 0?void 0:n.refresh_token;return yield W3({apiURI:this.config.apiURI,appId:this.config.appId,path:t,refreshToken:i})})}}let cd;function PF(e,t){cd?.dispose();const n=kF(t),r=NF(t,u),i=IF(OF(e));function a(h){var m;h.source===i.element.contentWindow&&((m=h.data)===null||m===void 0?void 0:m.type)==="close"&&n.isVisible()&&u()}function l(h){const m=h.shiftKey&&h.ctrlKey&&h.key==="0",v=h.key==="Escape"||h.key==="Esc";(m||v&&n.isVisible())&&u()}function u(){n.isVisible()?n.element.style.display="none":(n.element.style.display="block",n.element.contains(i.element)||n.element.appendChild(i.element))}function c(){n.element.remove(),r.element.remove(),removeEventListener("keydown",l),removeEventListener("message",a)}function d(){document.body.appendChild(n.element),document.body.appendChild(r.element),addEventListener("keydown",l),addEventListener("message",a),cd={dispose:c}}return d()}function OF(e){return`${Zb||ON?"http://localhost:3000":"https://instantdb.com"}/_devtool?appId=${e}`}function IF(e){const t=document.createElement("iframe");return t.src=e,t.className="instant-devtool-iframe",Object.assign(t.style,{width:"100%",height:"100%",backgroundColor:"white",border:"none"}),{element:t}}function NF(e,t){const n=`
    <svg width="32" height="32" viewBox="0 0 512 512" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="512" height="512" fill="black"/>
      <rect x="97.0973" y="91.3297" width="140" height="330" fill="white"/>
    </svg>
  `,r=document.createElement("button");return r.innerHTML=n,r.className="instant-devtool-toggler",Object.assign(r.style,Object.assign(Object.assign({position:"fixed"},DF(e.position)),{height:"32px",width:"32px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:"9010",padding:"0",margin:"0",border:"none",cursor:"pointer"})),r.addEventListener("click",t),{element:r}}function DF(e){switch(e){case"bottom-left":return{bottom:"24px",left:"24px"};case"bottom-right":return{bottom:"24px",right:"24px"};case"top-right":return{top:"24px",right:"24px"};case"top-left":return{top:"24px",left:"24px"}}}function RF(e){switch(e){case"bottom-left":return{bottom:"24px",right:"24px",left:"60px",top:"72px"};case"bottom-right":return{bottom:"24px",left:"24px",right:"60px",top:"72px"};case"top-right":return{top:"24px",left:"24px",right:"60px",bottom:"72px"};case"top-left":return{top:"24px",right:"24px",left:"60px",bottom:"72px"}}}function kF(e){const t=document.createElement("div");Object.assign(t.style,Object.assign(Object.assign({position:"fixed"},RF(e.position)),{display:"block",borderRadius:"4px",border:"1px #ccc solid",boxShadow:"0px 0px 8px #00000044",backgroundColor:"#eee",zIndex:"999990"})),t.style.display="none",t.className="instant-devtool-container";function n(){return t.style.display!=="none"}return{element:t,isVisible:n}}const LF={apiURI:"https://api.instantdb.com",websocketURI:"wss://api.instantdb.com/runtime/session"};function UF(){var e;return globalThis.__instantDbSchemaHashStore=(e=globalThis.__instantDbSchemaHashStore)!==null&&e!==void 0?e:new WeakMap,globalThis.__instantDbSchemaHashStore}function jF(){var e;return globalThis.__instantDbStore=(e=globalThis.__instantDbStore)!==null&&e!==void 0?e:{},globalThis.__instantDbStore}function m0(e){const t=e.__adminToken;return e.appId+"_"+(e.websocketURI||"default_ws_uri")+"_"+(e.apiURI||"default_api_uri")+"_"+(t||"client_only")+"_"+e.useDateObjects}const g0=jF(),jA=UF();class qF{constructor(t){this.db=t,this.sendMagicCode=n=>this.db.sendMagicCode(n),this.signInWithMagicCode=n=>this.db.signInWithMagicCode(n),this.signInWithToken=n=>this.db.signInWithCustomToken(n),this.signInAsGuest=()=>this.db.signInAsGuest(),this.createAuthorizationURL=n=>this.db.createAuthorizationURL(n),this.signInWithIdToken=n=>this.db.signInWithIdToken(n),this.exchangeOAuthCode=n=>this.db.exchangeCodeForToken(n),this.issuerURI=()=>this.db.issuerURI(),this.signOut=(n={invalidateToken:!0})=>this.db.signOut(n)}}class zF{constructor(t){this.db=t,this.uploadFile=(n,r,i={})=>this.db.uploadFile(n,r,i),this.delete=n=>this.db.deleteFile(n),this.upload=(n,r)=>this.db.upload(n,r),this.put=this.upload,this.getDownloadUrl=n=>this.db.getDownloadUrl(n)}}function BF(e){return JSON.parse(JSON.stringify(e))}class $F{constructor(t){this.tx=Qb(),this._reactor=t,this.auth=new qF(this._reactor),this.storage=new zF(this._reactor)}transact(t){return this._reactor.pushTx(t)}getLocalId(t){return this._reactor.getLocalId(t)}subscribeQuery(t,n,r){return this._reactor.subscribeQuery(t,n,r)}subscribeAuth(t){return this._reactor.subscribeAuth(t)}getAuth(){return this._reactor.getAuth()}subscribeConnectionStatus(t){return this._reactor.subscribeConnectionStatus(t)}joinRoom(t="_defaultRoomType",n="_defaultRoomId",r){return{leaveRoom:this._reactor.joinRoom(n,r?.initialPresence),subscribeTopic:(a,l)=>this._reactor.subscribeTopic(n,a,l),subscribePresence:(a,l)=>this._reactor.subscribePresence(t,n,a,l),publishTopic:(a,l)=>this._reactor.publishTopic({roomType:t,roomId:n,topic:a,data:l}),publishPresence:a=>this._reactor.publishPresence(t,n,a),getPresence:a=>this._reactor.getPresence(t,n,a)}}shutdown(){delete g0[m0(this._reactor.config)],this._reactor.shutdown()}queryOnce(t,n){return this._reactor.queryOnce(t,n)}_syncTableExperimental(t,n){return this._reactor.subscribeTable(t,n)}}function qA(e){if(!e)return"0";const t=jA.get(e);if(t)return t;const n=dn(e);return jA.set(e,n),n}function FF(e,t){return qA(e._reactor.config.schema)!==qA(t)}function HF(e,t,n,r,i){const a=g0[m0(e)];if(a)return FF(a,e.schema)&&a._reactor.updateSchema(e.schema),a;const l=new MF(Object.assign(Object.assign(Object.assign({},LF),e),{cardinalityInference:!!e.schema}),t||CN,n||MN,Object.assign(Object.assign({},r||{}),{"@instantdb/core":e_}),i),u=new $F(l);return g0[m0(e)]=u,GF(e.appId,e.devtool),u}function GF(e,t){if(typeof window>"u"||typeof window.location>"u"||typeof document>"u"||typeof t=="boolean"&&!t)return;const n=Object.assign({position:"bottom-right",allowedHosts:["localhost"]},typeof t=="object"?t:{});n.allowedHosts.includes(window.location.hostname)&&PF(e,n)}const VF={isLoading:!0,data:void 0,pageInfo:void 0,error:void 0};function zA(e){return Object.assign({isLoading:!e,data:void 0,pageInfo:void 0,error:void 0},e||{})}function KF(e,t,n){t&&n&&"ruleParams"in n&&(t=Object.assign({$$ruleParams:n.ruleParams},t));const r=t?BF(t):null,i=dn(r),a=x.useRef(zA(e._reactor.getPreviousResult(r))),l=x.useCallback(c=>(a.current=zA(e._reactor.getPreviousResult(r)),r?e.subscribeQuery(r,h=>{a.current=Object.assign({isLoading:!h,data:void 0,pageInfo:void 0,error:void 0},h),c()}):()=>{}),[i]);return{state:x.useSyncExternalStore(l,()=>a.current,()=>VF),query:r}}function YF(){const e=x.useRef(null);x.useEffect(()=>{n()},[]);function t(r,i){clearTimeout(e.current),e.current=setTimeout(i,r)}function n(){clearTimeout(e.current)}return{set:t,clear:n}}const WF=1e3;function JF(e,t,n){const r=x.useRef(n);r.current=n,x.useEffect(()=>e.core._reactor.subscribeTopic(e.id,t,(a,l)=>{r.current(a,l)}),[e.id,t])}function XF(e,t){return x.useEffect(()=>e.core._reactor.joinRoom(e.id),[e.id]),x.useCallback(r=>{e.core._reactor.publishTopic({roomType:e.type,roomId:e.id,topic:t,data:r})},[e.id,t])}function QF(e,t={}){var n,r;const[i,a]=x.useState(()=>{var c;return(c=e.core._reactor.getPresence(e.type,e.id,t))!==null&&c!==void 0?c:{peers:{},isLoading:!0}});x.useEffect(()=>e.core._reactor.subscribePresence(e.type,e.id,t,d=>{a(d)}),[e.id,t.user,(n=t.peers)===null||n===void 0?void 0:n.join(),(r=t.keys)===null||r===void 0?void 0:r.join()]);const l=x.useCallback(c=>{e.core._reactor.publishPresence(e.type,e.id,c)},[e.type,e.id]);return x.useMemo(()=>Object.assign(Object.assign({},i),{publishPresence:l}),[i,l])}function ZF(e,t,n){x.useEffect(()=>e.core._reactor.joinRoom(e.id,t),[e.id]),x.useEffect(()=>e.core._reactor.publishPresence(e.type,e.id,t),[e.type,e.id,n??JSON.stringify(t)])}function eH(e,t,n={}){const r=YF(),i=Oo.usePresence(e,{keys:[t]}),a=x.useMemo(()=>{var h;const m=e._core._reactor.getPresence(e.type,e.id);return n?.writeOnly?[]:Object.values((h=m?.peers)!==null&&h!==void 0?h:{}).filter(v=>v[t]===!0)},[n?.writeOnly,i]),l=x.useCallback(h=>{var m;e.core._reactor.publishPresence(e.type,e.id,{[t]:h}),h&&(n?.timeout===null||n?.timeout===0||r.set((m=n?.timeout)!==null&&m!==void 0?m:WF,()=>{e.core._reactor.publishPresence(e.type,e.id,{[t]:null})}))},[e.type,e.id,t,n?.timeout,r]),u=x.useCallback(h=>{const v=!(n?.stopOnEnter&&h.key==="Enter");l(v)},[n.stopOnEnter,l]),c=x.useCallback(()=>{l(!1)},[l]),d=x.useMemo(()=>({onKeyDown:u,onBlur:c}),[u,c]);return{active:a,setActive:l,inputProps:d}}const Oo={useTopicEffect:JF,usePublishTopic:XF,usePresence:QF,useSyncPresence:ZF,useTypingIndicator:eH};class tH{constructor(t,n,r){this.useTopicEffect=(i,a)=>{Oo.useTopicEffect(this,i,a)},this.usePublishTopic=i=>Oo.usePublishTopic(this,i),this.usePresence=(i={})=>Oo.usePresence(this,i),this.useSyncPresence=(i,a)=>Oo.useSyncPresence(this,i,a),this.useTypingIndicator=(i,a={})=>Oo.useTypingIndicator(this,i,a),this.core=t,this._core=this.core,this.type=n,this.id=r}}var nH=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};const rH={isLoading:!0,user:void 0,error:void 0};class iH{constructor(t,n){this.tx=Qb(),this.getLocalId=r=>this.core.getLocalId(r),this.useLocalId=r=>{const[i,a]=x.useState(null);return x.useEffect(()=>{nH(this,void 0,void 0,function*(){const u=yield this.getLocalId(r);a(u)})},[r]),i},this.rooms=Oo,this.transact=r=>this.core.transact(r),this.useQuery=(r,i)=>KF(this.core,r,i).state,this.useAuth=()=>{const r=x.useRef(this.core._reactor._currentUserCached),i=x.useCallback(l=>this.core.subscribeAuth(c=>{r.current=Object.assign({isLoading:!1},c),l()}),[]);return x.useSyncExternalStore(i,()=>r.current,()=>rH)},this.useUser=()=>{const{user:r}=this.useAuth();if(!r)throw new ll("useUser must be used within an auth-protected route");return r},this.useConnectionStatus=()=>{const r=x.useRef(this.core._reactor.status),i=x.useCallback(l=>this.core.subscribeConnectionStatus(c=>{c!==r.current&&(r.current=c,l())}),[]);return x.useSyncExternalStore(i,()=>r.current,()=>"connecting")},this.queryOnce=(r,i)=>this.core.queryOnce(r,i),this.SignedIn=({children:r})=>{const i=this.useAuth();return i.isLoading||i.error||!i.user?null:A.jsx(A.Fragment,{children:r})},this.SignedOut=({children:r})=>{const i=this.useAuth();return i.isLoading||i.error||i.user?null:A.jsx(A.Fragment,{children:r})},this.core=HF(t,this.constructor.Storage,this.constructor.NetworkListener,n,this.constructor.EventSourceImpl),this._core=this.core,this.auth=this.core.auth,this.storage=this.core.storage}room(t="_defaultRoomType",n="_defaultRoomId"){return new tH(this.core,t,n)}getAuth(){return this.core.getAuth()}}class BA extends Error{constructor(t,n){super(t),this.name="ParseError",this.type=n.type,this.field=n.field,this.value=n.value,this.line=n.line}}function pv(e){}function aH(e){if(typeof e=="function")throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent:t=pv,onError:n=pv,onRetry:r=pv,onComment:i}=e;let a="",l=!0,u,c="",d="";function h(w){const E=l?w.replace(/^\xEF\xBB\xBF/,""):w,[C,O]=oH(`${a}${E}`);for(const P of C)m(P);a=O,l=!1}function m(w){if(w===""){_();return}if(w.startsWith(":")){i&&i(w.slice(w.startsWith(": ")?2:1));return}const E=w.indexOf(":");if(E!==-1){const C=w.slice(0,E),O=w[E+1]===" "?2:1,P=w.slice(E+O);v(C,P,w);return}v(w,"",w)}function v(w,E,C){switch(w){case"event":d=E;break;case"data":c=`${c}${E}
`;break;case"id":u=E.includes("\0")?void 0:E;break;case"retry":/^\d+$/.test(E)?r(parseInt(E,10)):n(new BA(`Invalid \`retry\` value: "${E}"`,{type:"invalid-retry",value:E,line:C}));break;default:n(new BA(`Unknown field "${w.length>20?`${w.slice(0,20)}`:w}"`,{type:"unknown-field",field:w,value:E,line:C}));break}}function _(){c.length>0&&t({id:u,event:d||void 0,data:c.endsWith(`
`)?c.slice(0,-1):c}),u=void 0,c="",d=""}function T(w={}){a&&w.consume&&m(a),l=!0,u=void 0,c="",d="",a=""}return{feed:h,reset:T}}function oH(e){const t=[];let n="",r=0;for(;r<e.length;){const i=e.indexOf("\r",r),a=e.indexOf(`
`,r);let l=-1;if(i!==-1&&a!==-1?l=Math.min(i,a):i!==-1?i===e.length-1?l=-1:l=i:a!==-1&&(l=a),l===-1){n=e.slice(r);break}else{const u=e.slice(r,l);t.push(u),r=l+1,e[r-1]==="\r"&&e[r]===`
`&&r++}}return[t,n]}class $A extends Event{constructor(t,n){var r,i;super(t),this.code=(r=n?.code)!=null?r:void 0,this.message=(i=n?.message)!=null?i:void 0}[Symbol.for("nodejs.util.inspect.custom")](t,n,r){return r(FA(this),n)}[Symbol.for("Deno.customInspect")](t,n){return t(FA(this),n)}}function sH(e){const t=globalThis.DOMException;return typeof t=="function"?new t(e,"SyntaxError"):new SyntaxError(e)}function v0(e){return e instanceof Error?"errors"in e&&Array.isArray(e.errors)?e.errors.map(v0).join(", "):"cause"in e&&e.cause instanceof Error?`${e}: ${v0(e.cause)}`:e.message:`${e}`}function FA(e){return{type:e.type,message:e.message,code:e.code,defaultPrevented:e.defaultPrevented,cancelable:e.cancelable,timeStamp:e.timeStamp}}var jN=e=>{throw TypeError(e)},t_=(e,t,n)=>t.has(e)||jN("Cannot "+n),qe=(e,t,n)=>(t_(e,t,"read from private field"),n?n.call(e):t.get(e)),zt=(e,t,n)=>t.has(e)?jN("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),mt=(e,t,n,r)=>(t_(e,t,"write to private field"),t.set(e,n),n),Ui=(e,t,n)=>(t_(e,t,"access private method"),n),Bn,Io,Gs,Rd,Yd,Wu,Ws,Ju,Ha,Vs,el,Ks,$u,jr,y0,b0,_0,HA,S0,T0,Fu,E0,w0;class Xu extends EventTarget{constructor(t,n){var r,i;super(),zt(this,jr),this.CONNECTING=0,this.OPEN=1,this.CLOSED=2,zt(this,Bn),zt(this,Io),zt(this,Gs),zt(this,Rd),zt(this,Yd),zt(this,Wu),zt(this,Ws),zt(this,Ju,null),zt(this,Ha),zt(this,Vs),zt(this,el,null),zt(this,Ks,null),zt(this,$u,null),zt(this,b0,async a=>{var l;qe(this,Vs).reset();const{body:u,redirected:c,status:d,headers:h}=a;if(d===204){Ui(this,jr,Fu).call(this,"Server sent HTTP 204, not reconnecting",204),this.close();return}if(c?mt(this,Gs,new URL(a.url)):mt(this,Gs,void 0),d!==200){Ui(this,jr,Fu).call(this,`Non-200 status code (${d})`,d);return}if(!(h.get("content-type")||"").startsWith("text/event-stream")){Ui(this,jr,Fu).call(this,'Invalid content type, expected "text/event-stream"',d);return}if(qe(this,Bn)===this.CLOSED)return;mt(this,Bn,this.OPEN);const m=new Event("open");if((l=qe(this,$u))==null||l.call(this,m),this.dispatchEvent(m),typeof u!="object"||!u||!("getReader"in u)){Ui(this,jr,Fu).call(this,"Invalid response body, expected a web ReadableStream",d),this.close();return}const v=new TextDecoder,_=u.getReader();let T=!0;do{const{done:w,value:E}=await _.read();E&&qe(this,Vs).feed(v.decode(E,{stream:!w})),w&&(T=!1,qe(this,Vs).reset(),Ui(this,jr,E0).call(this))}while(T)}),zt(this,_0,a=>{mt(this,Ha,void 0),!(a.name==="AbortError"||a.type==="aborted")&&Ui(this,jr,E0).call(this,v0(a))}),zt(this,S0,a=>{typeof a.id=="string"&&mt(this,Ju,a.id);const l=new MessageEvent(a.event||"message",{data:a.data,origin:qe(this,Gs)?qe(this,Gs).origin:qe(this,Io).origin,lastEventId:a.id||""});qe(this,Ks)&&(!a.event||a.event==="message")&&qe(this,Ks).call(this,l),this.dispatchEvent(l)}),zt(this,T0,a=>{mt(this,Wu,a)}),zt(this,w0,()=>{mt(this,Ws,void 0),qe(this,Bn)===this.CONNECTING&&Ui(this,jr,y0).call(this)});try{if(t instanceof URL)mt(this,Io,t);else if(typeof t=="string")mt(this,Io,new URL(t,lH()));else throw new Error("Invalid URL")}catch{throw sH("An invalid or illegal string was specified")}mt(this,Vs,aH({onEvent:qe(this,S0),onRetry:qe(this,T0)})),mt(this,Bn,this.CONNECTING),mt(this,Wu,3e3),mt(this,Yd,(r=n?.fetch)!=null?r:globalThis.fetch),mt(this,Rd,(i=n?.withCredentials)!=null?i:!1),Ui(this,jr,y0).call(this)}get readyState(){return qe(this,Bn)}get url(){return qe(this,Io).href}get withCredentials(){return qe(this,Rd)}get onerror(){return qe(this,el)}set onerror(t){mt(this,el,t)}get onmessage(){return qe(this,Ks)}set onmessage(t){mt(this,Ks,t)}get onopen(){return qe(this,$u)}set onopen(t){mt(this,$u,t)}addEventListener(t,n,r){const i=n;super.addEventListener(t,i,r)}removeEventListener(t,n,r){const i=n;super.removeEventListener(t,i,r)}close(){qe(this,Ws)&&clearTimeout(qe(this,Ws)),qe(this,Bn)!==this.CLOSED&&(qe(this,Ha)&&qe(this,Ha).abort(),mt(this,Bn,this.CLOSED),mt(this,Ha,void 0))}}Bn=new WeakMap,Io=new WeakMap,Gs=new WeakMap,Rd=new WeakMap,Yd=new WeakMap,Wu=new WeakMap,Ws=new WeakMap,Ju=new WeakMap,Ha=new WeakMap,Vs=new WeakMap,el=new WeakMap,Ks=new WeakMap,$u=new WeakMap,jr=new WeakSet,y0=function(){mt(this,Bn,this.CONNECTING),mt(this,Ha,new AbortController),qe(this,Yd)(qe(this,Io),Ui(this,jr,HA).call(this)).then(qe(this,b0)).catch(qe(this,_0))},b0=new WeakMap,_0=new WeakMap,HA=function(){var e;const t={mode:"cors",redirect:"follow",headers:{Accept:"text/event-stream",...qe(this,Ju)?{"Last-Event-ID":qe(this,Ju)}:void 0},cache:"no-store",signal:(e=qe(this,Ha))==null?void 0:e.signal};return"window"in globalThis&&(t.credentials=this.withCredentials?"include":"same-origin"),t},S0=new WeakMap,T0=new WeakMap,Fu=function(e,t){var n;qe(this,Bn)!==this.CLOSED&&mt(this,Bn,this.CLOSED);const r=new $A("error",{code:t,message:e});(n=qe(this,el))==null||n.call(this,r),this.dispatchEvent(r)},E0=function(e,t){var n;if(qe(this,Bn)===this.CLOSED)return;mt(this,Bn,this.CONNECTING);const r=new $A("error",{code:t,message:e});(n=qe(this,el))==null||n.call(this,r),this.dispatchEvent(r),mt(this,Ws,setTimeout(qe(this,w0),qe(this,Wu)))},w0=new WeakMap,Xu.CONNECTING=0,Xu.OPEN=1,Xu.CLOSED=2;Object.defineProperty(Xu,Symbol.for("eventsource.supports-fetch-override"),{value:!0,writable:!1,configurable:!1,enumerable:!1});function lH(){const e="document"in globalThis?globalThis.document:void 0;return e&&typeof e=="object"&&"baseURI"in e&&typeof e.baseURI=="string"?e.baseURI:void 0}class qN extends iH{}qN.EventSourceImpl=Xu;function uH(e){return new qN(e,{"@instantdb/react":e_})}const cH="fb13a3d0-35ab-493b-9aa6-64a77363fe93",ye=uH({appId:cH}),Wd={calories_min:1600,calories_max:2e3,purines_min:0,purines_max:400,protein_target:50,carbs_target:250,fat_target:65,fiber_target:25,sodium_max:2300,sugar_max:50,hydration_target:2e3},ji={calories:{icon:"",unit:"kcal",label:"Calories"},purines:{icon:"",unit:"mg",label:"Purines"},protein:{icon:"",unit:"g",label:"Protein"},carbs:{icon:"",unit:"g",label:"Carbs"},fat:{icon:"",unit:"g",label:"Fat"},fiber:{icon:"",unit:"g",label:"Fiber"},sodium:{icon:"",unit:"mg",label:"Sodium"},sugar:{icon:"",unit:"g",label:"Sugar"},hydration:{icon:"",unit:"ml",label:"Water"}};function fH(e,t,n,r){const i=10*e+6.25*t-5*n;return r==="male"?i+5:i-161}const dH={sedentary:1.2,light:1.375,moderate:1.55,active:1.725,very_active:1.9};function hH(e,t,n,r,i){const a=fH(e,t,n,r),l=dH[i]||1.55;return Math.round(a*l)}function pH(e=[]){return e.includes("kidney_disease")?150:e.includes("gout")?200:400}function mH(e,t){const n=e*30;return Math.round(n+({sedentary:0,light:200,moderate:400,active:600,very_active:800}[t]||0))}function gH(e){const{weight_kg:t,height_cm:n,age:r,sex:i,activity_level:a,dietary_conditions:l=[]}=e,u=hH(t,n,r,i,a),c=pH(l),d=mH(t,a),m=Math.round(t*({sedentary:.8,light:.9,moderate:1,active:1.2,very_active:1.4}[a]||1));let v=.5;l.includes("diabetes")&&(v=.4);const _=Math.round(u*v/4),T=Math.round(u*.275/9);let w=i==="female"?25:38;r>50&&(w=i==="female"?21:30);let E=2300;l.includes("kidney_disease")&&(E=1500);let C=i==="female"?25:36;return(l.includes("diabetes")||l.includes("gout"))&&(C=Math.round(C*.6)),{calories_min:Math.round(u*.85),calories_max:u,purines_min:0,purines_max:c,protein_target:m,carbs_target:_,fat_target:T,fiber_target:w,sodium_max:E,sugar_max:C,hydration_target:d}}function vH(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function GA(){return vH(new Date)}function yH(e){e=e.replace(/^#/,"");const t=parseInt(e.substring(0,2),16)/255,n=parseInt(e.substring(2,4),16)/255,r=parseInt(e.substring(4,6),16)/255,i=Math.max(t,n,r),a=Math.min(t,n,r);let l,u,c=(i+a)/2;if(i===a)l=u=0;else{const d=i-a;switch(u=c>.5?d/(2-i-a):d/(i+a),i){case t:l=((n-r)/d+(n<r?6:0))/6;break;case n:l=((r-t)/d+2)/6;break;case r:l=((t-n)/d+4)/6;break}}return{h:Math.round(l*360),s:Math.round(u*100),l:Math.round(c*100)}}function Jt(e,t,n){t/=100,n/=100;const r=(1-Math.abs(2*n-1))*t,i=r*(1-Math.abs(e/60%2-1)),a=n-r/2;let l=0,u=0,c=0;return 0<=e&&e<60?(l=r,u=i,c=0):60<=e&&e<120?(l=i,u=r,c=0):120<=e&&e<180?(l=0,u=r,c=i):180<=e&&e<240?(l=0,u=i,c=r):240<=e&&e<300?(l=i,u=0,c=r):300<=e&&e<360&&(l=r,u=0,c=i),l=Math.round((l+a)*255).toString(16).padStart(2,"0"),u=Math.round((u+a)*255).toString(16).padStart(2,"0"),c=Math.round((c+a)*255).toString(16).padStart(2,"0"),`#${l}${u}${c}`}function No(e,t=!1){const n=yH(e);return t?{primary:e,primaryLight:Jt(n.h,n.s*.8,Math.min(n.l+15,80)),primaryDark:Jt(n.h,n.s,Math.max(n.l-15,20)),background:Jt(n.h,n.s*.2,12),surface:Jt(n.h,n.s*.15,18),surfaceVariant:Jt(n.h,n.s*.2,25),secondary:Jt((n.h+180)%360,n.s*.7,60),text:Jt(n.h,n.s*.1,95),textSecondary:Jt(n.h,n.s*.15,70),border:Jt(n.h,n.s*.2,30),success:"#66BB6A",warning:"#FFA726",danger:"#EF5350"}:{primary:e,primaryLight:Jt(n.h,n.s*.6,Math.min(n.l+20,90)),primaryDark:Jt(n.h,n.s,Math.max(n.l-20,30)),background:Jt(n.h,n.s*.3,97),surface:Jt(n.h,n.s*.1,100),surfaceVariant:Jt(n.h,n.s*.2,95),secondary:Jt((n.h+180)%360,n.s*.7,n.l),text:Jt(n.h,n.s*.5,15),textSecondary:Jt(n.h,n.s*.3,40),border:Jt(n.h,n.s*.2,85),success:"#66BB6A",warning:"#FFA726",danger:"#EF5350"}}const Qu={emerald:{name:"Emerald Dragon",description:"Bright, cheerful, default",seedColor:"#66BB6A",isDark:!1},midnight:{name:"Midnight Dragon",description:"Sleek, easy on eyes",seedColor:"#7B2CBF",isDark:!0},crystal:{name:"Crystal Dragon",description:"High contrast, accessible",seedColor:"#2196F3",isDark:!1}};function Do(e){const t=document.documentElement;Object.entries(e).forEach(([n,r])=>{const i=`--color-${n.replace(/([A-Z])/g,"-$1").toLowerCase()}`;t.style.setProperty(i,r)})}function bH(e,t,n){return e>n?"danger":e>n*.8||t&&e<t*.8?"warning":"success"}const zN=x.createContext(null),Ou={id:"local-user",name:"Dragon Keeper",profile:{sex:"male",age:30,weight_kg:75,height_cm:175,activity_level:"moderate",dietary_conditions:[]},thresholds:Wd,theme:{preset:"emerald",seed_color_hex:"#66BB6A"},badges:[],stats:{total_meals_logged:0,current_streak_days:0,longest_streak_days:0,meals_saved_to_stash:0}};function _H({children:e}){const[t,n]=x.useState(null),[r,i]=x.useState(!0),[a,l]=x.useState(!1),{isLoading:u,error:c,data:d}=ye.useQuery({users:{}});x.useEffect(()=>{if(!u){if(d?.users&&d.users.length>0){const O=d.users[0];if(n({...Ou,...O,profile:{...Ou.profile,...O.profile},thresholds:{...Ou.thresholds,...O.thresholds},theme:{...Ou.theme,...O.theme}}),l(!0),O.theme?.preset){const P=Qu[O.theme.preset];if(P){const D=No(P.seedColor,P.isDark);Do(D)}else if(O.theme.seed_color_hex){const D=No(O.theme.seed_color_hex,!1);Do(D)}}h(O.id)}else{n(Ou),l(!1);const O=Qu.emerald,P=No(O.seedColor,O.isDark);Do(P)}i(!1)}},[u,d]);const h=async O=>{if(!(!O||O==="local-user"))try{const P=await ye.queryOnce({meals:{$:{where:{user_id:"local-user"}}},hydration:{$:{where:{user_id:"local-user"}}},customItems:{$:{where:{user_id:"local-user"}}},ingredientLibrary:{$:{where:{user_id:"local-user"}}}}),D=[];if(P.data?.meals?.length>0){for(const I of P.data.meals)D.push(ye.tx.meals[I.id].update({user_id:O}));console.log(` Migrating ${P.data.meals.length} orphaned meals`)}if(P.data?.hydration?.length>0){for(const I of P.data.hydration)D.push(ye.tx.hydration[I.id].update({user_id:O}));console.log(` Migrating ${P.data.hydration.length} orphaned hydration records`)}if(P.data?.customItems?.length>0){for(const I of P.data.customItems)D.push(ye.tx.customItems[I.id].update({user_id:O}));console.log(` Migrating ${P.data.customItems.length} orphaned stash items`)}if(P.data?.ingredientLibrary?.length>0){for(const I of P.data.ingredientLibrary)I.id&&D.push(ye.tx.ingredientLibrary[I.id].update({user_id:O}));console.log(` Migrating ${P.data.ingredientLibrary.length} orphaned cached ingredients`)}D.length>0&&(await ye.transact(D),console.log(` Migration complete! Moved ${D.length} records to user ${O}`))}catch(P){console.error("Migration failed:",P)}},m=async O=>{const P={...t,profile:{...t.profile,...O}};n(P),t.id&&t.id!=="local-user"&&await ye.transact([ye.tx.users[t.id].update({profile:P.profile})])},v=async O=>{const P={...t,thresholds:{...t.thresholds,...O}};n(P),t.id&&t.id!=="local-user"&&await ye.transact([ye.tx.users[t.id].update({thresholds:P.thresholds})])},_=async O=>{const P={...t.stats,...O},D={...t,stats:P};n(D),t.id&&t.id!=="local-user"&&await ye.transact([ye.tx.users[t.id].update({stats:P})])},C={user:t,isLoading:r||u,isAuthenticated:a,error:c,updateProfile:m,updateThresholds:v,updateStats:_,incrementStat:async(O,P=1)=>{const D=t.stats?.[O]||0;await _({[O]:D+P})},updateTheme:async(O,P=null)=>{const D={preset:O,seed_color_hex:P||t.theme.seed_color_hex},I={...t,theme:D};if(n(I),O==="custom"&&P){const R=No(P,!1);Do(R)}else{const R=Qu[O];if(R){const k=No(R.seedColor,R.isDark);Do(k)}}t.id&&t.id!=="local-user"&&await ye.transact([ye.tx.users[t.id].update({theme:D})])},saveUser:async(O=null)=>{const P=O||t;if(t.id==="local-user"){const D=crypto.randomUUID(),I={...P,id:D},R=await ye.queryOnce({meals:{$:{where:{user_id:"local-user"}}},hydration:{$:{where:{user_id:"local-user"}}},customItems:{$:{where:{user_id:"local-user"}}},ingredientLibrary:{$:{where:{user_id:"local-user"}}}}),k=[ye.tx.users[D].update({id:D,name:I.name,profile:I.profile,thresholds:I.thresholds,theme:I.theme,badges:I.badges||[],stats:I.stats||{},created_at:Date.now()})];if(R.data?.meals){for(const z of R.data.meals)k.push(ye.tx.meals[z.id].update({user_id:D}));console.log(`Migrating ${R.data.meals.length} meals to user ${D}`)}if(R.data?.hydration){for(const z of R.data.hydration)k.push(ye.tx.hydration[z.id].update({user_id:D}));console.log(`Migrating ${R.data.hydration.length} hydration records to user ${D}`)}if(R.data?.customItems){for(const z of R.data.customItems)k.push(ye.tx.customItems[z.id].update({user_id:D}));console.log(`Migrating ${R.data.customItems.length} stash items to user ${D}`)}if(R.data?.ingredientLibrary){for(const z of R.data.ingredientLibrary)k.push(ye.tx.ingredientLibrary[z.id].update({user_id:D}));console.log(`Migrating ${R.data.ingredientLibrary.length} cached ingredients to user ${D}`)}return await ye.transact(k),n(I),l(!0),D}else return await ye.transact([ye.tx.users[t.id].update({name:P.name,profile:P.profile,thresholds:P.thresholds,theme:P.theme,updated_at:Date.now()})]),t.id},setUser:n};return A.jsx(zN.Provider,{value:C,children:e})}function eo(){const e=x.useContext(zN);if(!e)throw new Error("useUser must be used within a UserProvider");return e}const SH=[{path:"/",icon:"",label:"Diary"},{path:"/charts",icon:"",label:"Scroll"},{path:"/oracle",icon:"",label:"Oracle"},{path:"/settings",icon:"",label:"Lair"}];function TH(){return A.jsx("nav",{className:"nav-bar",children:SH.map(e=>A.jsxs(JI,{to:e.path,className:({isActive:t})=>`nav-item ${t?"active":""}`,children:[A.jsx("span",{className:"nav-icon",children:e.icon}),A.jsx("span",{className:"nav-label",children:e.label})]},e.path))})}function Qi({title:e,subtitle:t,action:n,showBack:r,onBack:i}){return A.jsx("header",{className:"header",children:A.jsxs("div",{className:"header-content",children:[r&&A.jsx("button",{className:"header-back",onClick:i,"aria-label":"Go back",children:""}),A.jsxs("div",{className:"header-title-group",children:[A.jsxs("h1",{className:"header-title",children:[A.jsx("span",{className:"header-dragon",children:""})," ",e]}),t&&A.jsx("p",{className:"header-subtitle",children:t})]}),n&&A.jsx("div",{className:"header-action",children:n})]})})}function ki({nutrient:e,value:t,target:n,min:r=0,max:i,showLabel:a=!0,compact:l=!1}){const u=ji[e]||{icon:"",unit:"",label:e},c=i||n,d=Math.min(t/c*100,100),h=bH(t,r,c);return A.jsxs("div",{className:`nutrient-progress ${l?"compact":""}`,children:[a&&A.jsxs("div",{className:"nutrient-header",children:[A.jsxs("span",{className:"nutrient-label",children:[A.jsx("span",{className:"nutrient-icon",children:u.icon}),A.jsx("span",{className:"nutrient-name",children:u.label})]}),A.jsxs("span",{className:"nutrient-value",children:[A.jsx("span",{className:"current",children:Math.round(t)}),A.jsx("span",{className:"separator",children:"/"}),A.jsx("span",{className:"target",children:Math.round(c)}),A.jsx("span",{className:"unit",children:u.unit})]})]}),A.jsx("div",{className:"progress-bar",children:A.jsx("div",{className:`progress-bar-fill ${h}`,style:{width:`${d}%`}})}),!l&&A.jsxs("div",{className:"nutrient-footer",children:[A.jsxs("span",{className:`status-indicator ${h}`,children:[h==="success"&&"",h==="warning"&&"",h==="danger"&&""]}),A.jsxs("span",{className:"percentage",children:[Math.round(d),"%"]})]})]})}const VA={curious:{emoji:"",animation:"sniff",message:"Your dragon is looking for food..."},happy:{emoji:"",animation:"bounce",message:"Your dragon is happy!"},satisfied:{emoji:"",animation:"pulse",message:"Your dragon is satisfied and content."},stuffed:{emoji:"",animation:"wobble",message:"Your dragon ate too much!"},sick:{emoji:"",animation:"shake",message:"Your dragon isn't feeling well..."},celebrating:{emoji:"",animation:"celebrate",message:"Your dragon is celebrating! "},hoarding:{emoji:"",animation:"hoard",message:"Saved to your dragon's hoard!"}};function x0({state:e="happy",showMessage:t=!0,size:n="medium"}){const r=VA[e]||VA.happy;return A.jsxs("div",{className:`ember-mascot ${n}`,children:[A.jsxs("div",{className:`ember-emoji ${r.animation}`,children:[r.emoji,e==="sick"&&A.jsx("span",{className:"ember-effect",children:""}),e==="celebrating"&&A.jsx("span",{className:"ember-effect",children:""}),e==="happy"&&A.jsx("span",{className:"ember-effect",children:""})]}),t&&A.jsx("p",{className:"ember-message",children:r.message})]})}function EH(e,t){if(!e||!t)return"curious";const n=e.calories/t.calories_max,r=e.purines/t.purines_max;return r>1?"sick":n>1?"stuffed":r>.8||n>.8?"satisfied":e.calories===0?"curious":"happy"}const Jd=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`},KA={breakfast:1,lunch:2,dinner:3,snack:4,hydration:5};function n_(e=null){const{user:t}=eo(),n=t?.id,{isLoading:r,error:i,data:a}=ye.useQuery(n?{meals:{}}:null),u=(a?.meals||[]).filter(w=>!(w.user_id!==n||e&&w.date!==e));return{meals:x.useMemo(()=>[...u].sort((w,E)=>{const C=KA[w.meal_type]||99,O=KA[E.meal_type]||99;return C-O}),[u]),isLoading:r,error:i,addMeal:async w=>{if(!n)return null;const E=crypto.randomUUID(),C={id:E,user_id:n,date:w.date||Jd(),timestamp:Date.now(),meal_type:w.meal_type||"snack",meal_name:w.meal_name||"Unnamed Meal",ingredients:w.ingredients||[],total_nutrients:w.total_nutrients||{},hydration_ml:w.hydration_ml||0,image_urls:w.image_urls||[],analysis_method:w.analysis_method||"manual"};return await ye.transact([ye.tx.meals[E].update(C)]),E},updateMeal:async(w,E)=>{await ye.transact([ye.tx.meals[w].update({...E,updated_at:Date.now()})])},deleteMeal:async w=>{await ye.transact([ye.tx.meals[w].delete()])},getDailyTotals:(w=e||Jd())=>u.filter(O=>O.date===w).reduce((O,P)=>(P.total_nutrients&&Object.keys(P.total_nutrients).forEach(D=>{O[D]=(O[D]||0)+(P.total_nutrients[D]||0)}),O.hydration=(O.hydration||0)+(P.hydration_ml||0),O),{}),getMealCount:()=>u.length,getUniqueDates:()=>{const w=new Set(u.map(E=>E.date));return Array.from(w).sort()}}}function BN(){const{user:e}=eo(),t=e?.id,{isLoading:n,data:r}=ye.useQuery({meals:{}}),a=(r?.meals||[]).filter(u=>u.user_id===t),l=()=>{if(a.length===0)return 0;const u=[...new Set(a.map(v=>v.date))].sort().reverse();if(u.length===0)return 0;const c=Jd(),d=(()=>{const v=new Date;return v.setDate(v.getDate()-1),`${v.getFullYear()}-${String(v.getMonth()+1).padStart(2,"0")}-${String(v.getDate()).padStart(2,"0")}`})();if(u[0]!==c&&u[0]!==d)return 0;let h=0,m=new Date(u[0]+"T00:00:00");for(const v of u){const _=new Date(v+"T00:00:00");if(Math.round((m-_)/(1e3*60*60*24))===0)h++,m.setDate(m.getDate()-1);else break}return h};return{meals:a,isLoading:n,totalMeals:a.length,calculateStreak:l}}function $N(e=Jd()){const{user:t}=eo(),n=t?.id,{isLoading:r,data:i}=ye.useQuery(n?{hydration:{$:{where:{user_id:n,date:e}}}}:null),l=(i?.hydration||[])[0],u=l?.amount_ml||0,c=async h=>{if(n)if(l)await ye.transact([ye.tx.hydration[l.id].update({amount_ml:Math.max(0,h),updated_at:Date.now()})]);else{const m=crypto.randomUUID();await ye.transact([ye.tx.hydration[m].update({id:m,user_id:n,date:e,amount_ml:Math.max(0,h),created_at:Date.now(),updated_at:Date.now()})])}};return{totalHydration:u,isLoading:r,setHydration:c,adjustHydration:async h=>{if(!n)return;const m=Math.max(0,u+h);await c(m)}}}function r_(){const{user:e}=eo(),t=e?.id,{isLoading:n,error:r,data:i}=ye.useQuery(t?{customItems:{$:{where:{user_id:t}}}}:null),a=i?.customItems||[],l=a.filter(v=>v.type==="meal"),u=a.filter(v=>v.type==="ingredient"),c=a.filter(v=>v.type==="container");return{savedMeals:l,customIngredients:u,bottles:c,items:a,isLoading:n,error:r,addToStash:async v=>{if(!t)return null;const _=crypto.randomUUID();return await ye.transact([ye.tx.customItems[_].update({id:_,user_id:t,type:v.type,name:v.name,icon:v.icon||null,ingredients:v.ingredients||[],total_nutrients:v.total_nutrients||{},capacity_ml:v.capacity_ml||0,use_count:v.use_count||0,created_at:Date.now()})]),_},removeFromStash:async v=>{await ye.transact([ye.tx.customItems[v].delete()])},updateStashItem:async(v,_)=>{await ye.transact([ye.tx.customItems[v].update({..._,updated_at:Date.now()})])}}}function FN(){const{user:e}=eo(),t=e?.id,{isLoading:n,data:r}=ye.useQuery({ingredientLibrary:{},meals:{}}),i=(r?.ingredientLibrary||[]).filter(E=>!E.user_id||E.user_id===t),a=(r?.meals||[]).filter(E=>E.user_id===t),l=E=>{const C=xo(E);return i.find(O=>O.normalized_name===C)},u=async E=>{const C=xo(E.name),O=i.find(D=>D.normalized_name===C);if(O)return await ye.transact([ye.tx.ingredientLibrary[O.id].update({nutrients_per_100g:E.nutrients_per_100g,use_count:(O.use_count||0)+1,last_used:Date.now()})]),C;const P=crypto.randomUUID();return await ye.transact([ye.tx.ingredientLibrary[P].update({normalized_name:C,display_name:E.name,nutrients_per_100g:E.nutrients_per_100g,user_id:t,use_count:1,last_used:Date.now(),source:E.source||"manual"})]),C},c=async E=>{const C=i.find(O=>O.normalized_name===E);C&&C.id&&await ye.transact([ye.tx.ingredientLibrary[C.id].update({use_count:(C.use_count||0)+1,last_used:Date.now()})])},d=async(E,C)=>{const O=i.find(P=>P.normalized_name===E);if(!O||!O.id){console.warn(`Ingredient not found: ${E}`);return}await ye.transact([ye.tx.ingredientLibrary[O.id].update({...C,updated_at:Date.now()})])},h=async E=>{const C=i.find(O=>O.normalized_name===E);if(!C||!C.id){console.warn(`Ingredient not found for deletion: ${E}`);return}await ye.transact([ye.tx.ingredientLibrary[C.id].delete()])},m=(E,C=null)=>a.filter(O=>{if(C){const P=new Date(O.date),D=new Date;if(C==="week"){const I=new Date(D);if(I.setDate(I.getDate()-7),P<I)return!1}else if(C==="month"){const I=new Date(D);if(I.setMonth(I.getMonth()-1),P<I)return!1}}return!O.ingredients||!Array.isArray(O.ingredients)?!1:O.ingredients.some(P=>xo(P.name||"")===E)});return{ingredients:i,allMeals:a,isLoading:n,lookupIngredient:l,addIngredient:u,recordUsage:c,updateIngredient:d,deleteIngredient:h,findMealsWithIngredient:m,propagateToMeals:async(E,C,O=null)=>{const P=m(E,O);if(P.length===0)return{updated:0};const D=[];for(const I of P){const R=I.ingredients.map(z=>{if(xo(z.name||"")===E){const F=(z.quantity_g||100)/100;return{...z,nutrients:{calories:Math.round((C.calories||0)*F),purines:Math.round((C.purines||0)*F),protein:Math.round((C.protein||0)*F*10)/10,carbs:Math.round((C.carbs||0)*F*10)/10,fat:Math.round((C.fat||0)*F*10)/10,fiber:Math.round((C.fiber||0)*F*10)/10,sodium:Math.round((C.sodium||0)*F),sugar:Math.round((C.sugar||0)*F*10)/10}}}return z}),k=R.reduce((z,$)=>($.nutrients&&Object.keys($.nutrients).forEach(re=>{z[re]=(z[re]||0)+($.nutrients[re]||0)}),z),{});D.push(ye.tx.meals[I.id].update({ingredients:R,total_nutrients:k,updated_at:Date.now()}))}return await ye.transact(D),{updated:P.length}},getIngredientUsageCount:E=>m(E).length,backfillFromMeals:async()=>{const E=new Set(i.map(O=>O.normalized_name)),C=new Map;for(const O of a){const P=O.ingredients||[];for(const D of P){if(!D.nutrients_per_100g)continue;const I=xo(D.name||D.display_name);!I||E.has(I)||(C.has(I)?C.get(I).count++:C.set(I,{displayName:D.name||D.display_name,nutrients:D.nutrients_per_100g,count:1}))}}if(C.size>0){const O=[];for(const[P,D]of C){const I=crypto.randomUUID();O.push(ye.tx.ingredientLibrary[I].update({normalized_name:P,display_name:D.displayName,nutrients_per_100g:D.nutrients,user_id:t,use_count:D.count,last_used:Date.now(),source:"backfill"}))}await ye.transact(O),console.log(` Backfilled ${C.size} ingredients from ${a.length} meals`)}return{added:C.size}},renameIngredientInMeals:async(E,C,O)=>{const P=m(E);if(P.length===0)return{updated:0};const D=xo(C),I=[];for(const R of P){const k=R.ingredients.map($=>{if(xo($.name||"")===E){const V=($.grams||$.quantity_g||100)/100;return{...$,name:C,normalized_name:D,nutrients_per_100g:O,nutrients:{calories:Math.round((O.calories||0)*V),purines:Math.round((O.purines||0)*V),protein:Math.round((O.protein||0)*V*10)/10,carbs:Math.round((O.carbs||0)*V*10)/10,fat:Math.round((O.fat||0)*V*10)/10,fiber:Math.round((O.fiber||0)*V*10)/10,sodium:Math.round((O.sodium||0)*V),sugar:Math.round((O.sugar||0)*V*10)/10}}}return $}),z=k.reduce(($,re)=>(re.nutrients&&Object.keys(re.nutrients).forEach(F=>{$[F]=($[F]||0)+(re.nutrients[F]||0)}),$),{});I.push(ye.tx.meals[R.id].update({ingredients:k,total_nutrients:z,updated_at:Date.now()}))}return await ye.transact(I),{updated:P.length}}}}function xo(e){return(e||"").toLowerCase().trim().replace(/s$/,"").replace(/ies$/,"y").replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"_")}let wH,xH;function AH(){return{geminiUrl:wH,vertexUrl:xH}}function CH(e,t,n,r){var i,a;if(!e?.baseUrl){const l=AH();return t?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(a=l.geminiUrl)!==null&&a!==void 0?a:r}return e.baseUrl}class ua{}function he(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const a=t[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function y(e,t,n){for(let a=0;a<t.length-1;a++){const l=t[a];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[u])){const c=e[u];if(Array.isArray(n))for(let d=0;d<c.length;d++){const h=c[d];y(h,t.slice(a+1),n[d])}else for(const d of c)y(d,t.slice(a+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in e||(e[u]=[{}]);const c=e[u];y(c[0],t.slice(a+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function g(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const i=t[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in e){const l=e[a];return Array.isArray(l)?l.map(u=>g(u,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function MH(e,t){for(const[n,r]of Object.entries(t)){const i=n.split("."),a=r.split("."),l=new Set;let u=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){u=c;break}if(u!==-1&&a.length>u)for(let c=u;c<a.length;c++){const d=a[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}A0(e,i,a,0,l)}}function A0(e,t,n,r,i){if(r>=t.length||typeof e!="object"||e===null)return;const a=t[r];if(a.endsWith("[]")){const l=a.slice(0,-2),u=e;if(l in u&&Array.isArray(u[l]))for(const c of u[l])A0(c,t,n,r+1,i)}else if(a==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,u=Object.keys(l).filter(d=>!d.startsWith("_")&&!i.has(d)),c={};for(const d of u)c[d]=l[d];for(const[d,h]of Object.entries(c)){const m=[];for(const v of n.slice(r))v==="*"?m.push(d):m.push(v);y(l,m,h)}for(const d of u)delete l[d]}}else{const l=e;a in l&&A0(l[a],t,n,r+1,i)}}function i_(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function PH(e){const t={},n=g(e,["operationName"]);n!=null&&y(t,["operationName"],n);const r=g(e,["resourceName"]);return r!=null&&y(t,["_url","resourceName"],r),t}function OH(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["response","generateVideoResponse"]);return l!=null&&y(t,["response"],NH(l)),t}function IH(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["response"]);return l!=null&&y(t,["response"],DH(l)),t}function NH(e){const t={},n=g(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>RH(l))),y(t,["generatedVideos"],a)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&y(t,["raiMediaFilteredReasons"],i),t}function DH(e){const t={},n=g(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>kH(l))),y(t,["generatedVideos"],a)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&y(t,["raiMediaFilteredReasons"],i),t}function RH(e){const t={},n=g(e,["video"]);return n!=null&&y(t,["video"],BH(n)),t}function kH(e){const t={},n=g(e,["_self"]);return n!=null&&y(t,["video"],$H(n)),t}function LH(e){const t={},n=g(e,["operationName"]);return n!=null&&y(t,["_url","operationName"],n),t}function UH(e){const t={},n=g(e,["operationName"]);return n!=null&&y(t,["_url","operationName"],n),t}function jH(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["response"]);return l!=null&&y(t,["response"],qH(l)),t}function qH(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["parent"]);r!=null&&y(t,["parent"],r);const i=g(e,["documentName"]);return i!=null&&y(t,["documentName"],i),t}function HN(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["response"]);return l!=null&&y(t,["response"],zH(l)),t}function zH(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["parent"]);r!=null&&y(t,["parent"],r);const i=g(e,["documentName"]);return i!=null&&y(t,["documentName"],i),t}function BH(e){const t={},n=g(e,["uri"]);n!=null&&y(t,["uri"],n);const r=g(e,["encodedVideo"]);r!=null&&y(t,["videoBytes"],i_(r));const i=g(e,["encoding"]);return i!=null&&y(t,["mimeType"],i),t}function $H(e){const t={},n=g(e,["gcsUri"]);n!=null&&y(t,["uri"],n);const r=g(e,["bytesBase64Encoded"]);r!=null&&y(t,["videoBytes"],i_(r));const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}var YA;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(YA||(YA={}));var WA;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(WA||(WA={}));var JA;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(JA||(JA={}));var Va;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Va||(Va={}));var XA;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(XA||(XA={}));var QA;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(QA||(QA={}));var ZA;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(ZA||(ZA={}));var eC;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(eC||(eC={}));var tC;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(tC||(tC={}));var nC;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.HIGH="HIGH"})(nC||(nC={}));var rC;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(rC||(rC={}));var iC;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(iC||(iC={}));var aC;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(aC||(aC={}));var oC;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(oC||(oC={}));var sC;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(sC||(sC={}));var lC;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(lC||(lC={}));var uC;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(uC||(uC={}));var cC;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(cC||(cC={}));var fC;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(fC||(fC={}));var Xd;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Xd||(Xd={}));var dC;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(dC||(dC={}));var hC;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(hC||(hC={}));var pC;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(pC||(pC={}));var C0;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(C0||(C0={}));var mC;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(mC||(mC={}));var gC;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(gC||(gC={}));var vC;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(vC||(vC={}));var yC;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(yC||(yC={}));var bC;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(bC||(bC={}));var _C;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(_C||(_C={}));var SC;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(SC||(SC={}));var TC;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(TC||(TC={}));var EC;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(EC||(EC={}));var wC;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(wC||(wC={}));var xC;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(xC||(xC={}));var AC;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(AC||(AC={}));var CC;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(CC||(CC={}));var MC;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(MC||(MC={}));var PC;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(PC||(PC={}));var OC;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(OC||(OC={}));var IC;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(IC||(IC={}));var NC;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(NC||(NC={}));var DC;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(DC||(DC={}));var RC;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(RC||(RC={}));var kC;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(kC||(kC={}));var LC;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(LC||(LC={}));var UC;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(UC||(UC={}));var jC;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(jC||(jC={}));var qC;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(qC||(qC={}));var zC;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(zC||(zC={}));var BC;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(BC||(BC={}));var $C;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})($C||($C={}));var FC;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(FC||(FC={}));var HC;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(HC||(HC={}));var Js;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Js||(Js={}));class M0{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Iu{get text(){var t,n,r,i,a,l,u,c;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const m=[];for(const v of(c=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[_,T]of Object.entries(v))_!=="text"&&_!=="thought"&&_!=="thoughtSignature"&&(T!==null||T!==void 0)&&m.push(_);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;h=!0,d+=v.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var t,n,r,i,a,l,u,c;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const m of(c=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[v,_]of Object.entries(m))v!=="inlineData"&&(_!==null||_!==void 0)&&h.push(v);m.inlineData&&typeof m.inlineData.data=="string"&&(d+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var t,n,r,i,a,l,u,c;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if(d?.length!==0)return d}get executableCode(){var t,n,r,i,a,l,u,c,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if(h?.length!==0)return(d=h?.[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var t,n,r,i,a,l,u,c,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if(h?.length!==0)return(d=h?.[0])===null||d===void 0?void 0:d.output}}class GC{}class VC{}class FH{}class HH{}class GH{}class VH{}class KC{}class YC{}class WC{}class KH{}class Qd{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Qd;let i;const a=t;return n?i=IH(a):i=OH(a),Object.assign(r,i),r}}class JC{}class XC{}class QC{}class YH{}class WH{}class JH{}class a_{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new a_,a=jH(t);return Object.assign(r,a),r}}class XH{}class QH{}class ZH{}class ZC{}class eG{get text(){var t,n,r;let i="",a=!1;const l=[];for(const u of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,d]of Object.entries(u))c!=="text"&&c!=="thought"&&d!==null&&l.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;a=!0,i+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var t,n,r;let i="";const a=[];for(const l of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(l))u!=="inlineData"&&c!==null&&a.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class tG{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class o_{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new o_,a=HN(t);return Object.assign(r,a),r}}function Ve(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function GN(e,t){const n=Ve(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function VN(e){return Array.isArray(e)?e.map(t=>Zd(t)):[Zd(e)]}function Zd(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function KN(e){const t=Zd(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function YN(e){const t=Zd(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function e1(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function WN(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>e1(t)):[e1(e)]}function P0(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function t1(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function n1(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Sn(e){if(e==null)throw new Error("ContentUnion is required");return P0(e)?e:{role:"user",parts:WN(e)}}function s_(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=Sn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=Sn(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Sn(n)):[Sn(t)]}function Cr(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(t1(e)||n1(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Sn(e)]}const t=[],n=[],r=P0(e[0]);for(const i of e){const a=P0(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)t.push(i);else{if(t1(i)||n1(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:WN(n)}),t}function nG(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(Va).includes(n[0].toUpperCase())?n[0].toUpperCase():Va.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(Va).includes(r.toUpperCase())?r.toUpperCase():Va.TYPE_UNSPECIFIED})}}function tl(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=e.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(t.nullable=!0,e=a[1]):a[1].type==="null"&&(t.nullable=!0,e=a[0])),e.type instanceof Array&&nG(e.type,t);for(const[l,u]of Object.entries(e))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(Va).includes(u.toUpperCase())?u.toUpperCase():Va.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=tl(u);else if(r.includes(l)){const c=[];for(const d of u){if(d.type=="null"){t.nullable=!0;continue}c.push(tl(d))}t[l]=c}else if(i.includes(l)){const c={};for(const[d,h]of Object.entries(u))c[d]=tl(h);t[l]=c}else{if(l==="additionalProperties")continue;t[l]=u}return t}function l_(e){return tl(e)}function u_(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function c_(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function El(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=tl(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=tl(t.response));return e}function wl(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function rG(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function ca(e,t){if(typeof t!="string")throw new Error("name must be a string");return rG(e,t,"cachedContents")}function JN(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function to(e){return i_(e)}function iG(e){return e!=null&&typeof e=="object"&&"name"in e}function aG(e){return e!=null&&typeof e=="object"&&"video"in e}function oG(e){return e!=null&&typeof e=="object"&&"uri"in e}function XN(e){var t;let n;if(iG(e)&&(n=e.name),!(oG(e)&&(n=e.uri,n===void 0))&&!(aG(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function QN(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function ZN(e){for(const t of["models","tunedModels","publisherModels"])if(sG(e,t))return e[t];return[]}function sG(e,t){return e!==null&&typeof e=="object"&&t in e}function lG(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function uG(e,t={}){const n=[],r=new Set;for(const i of e){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const l=lG(i,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function eD(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function cG(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function tD(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let a=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const c=l.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){a=!0;break}}return a&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function xl(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function nD(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}function fG(e){const t={},n=g(e,["responsesFile"]);n!=null&&y(t,["fileName"],n);const r=g(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>GG(l))),y(t,["inlinedResponses"],a)}const i=g(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["inlinedEmbedContentResponses"],a)}return t}function dG(e){const t={},n=g(e,["predictionsFormat"]);n!=null&&y(t,["format"],n);const r=g(e,["gcsDestination","outputUriPrefix"]);r!=null&&y(t,["gcsUri"],r);const i=g(e,["bigqueryDestination","outputUri"]);return i!=null&&y(t,["bigqueryUri"],i),t}function hG(e){const t={},n=g(e,["format"]);n!=null&&y(t,["predictionsFormat"],n);const r=g(e,["gcsUri"]);r!=null&&y(t,["gcsDestination","outputUriPrefix"],r);const i=g(e,["bigqueryUri"]);if(i!=null&&y(t,["bigqueryDestination","outputUri"],i),g(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(g(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function kd(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata","displayName"]);r!=null&&y(t,["displayName"],r);const i=g(e,["metadata","state"]);i!=null&&y(t,["state"],nD(i));const a=g(e,["metadata","createTime"]);a!=null&&y(t,["createTime"],a);const l=g(e,["metadata","endTime"]);l!=null&&y(t,["endTime"],l);const u=g(e,["metadata","updateTime"]);u!=null&&y(t,["updateTime"],u);const c=g(e,["metadata","model"]);c!=null&&y(t,["model"],c);const d=g(e,["metadata","output"]);return d!=null&&y(t,["dest"],fG(tD(d))),t}function O0(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["displayName"]);r!=null&&y(t,["displayName"],r);const i=g(e,["state"]);i!=null&&y(t,["state"],nD(i));const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["createTime"]);l!=null&&y(t,["createTime"],l);const u=g(e,["startTime"]);u!=null&&y(t,["startTime"],u);const c=g(e,["endTime"]);c!=null&&y(t,["endTime"],c);const d=g(e,["updateTime"]);d!=null&&y(t,["updateTime"],d);const h=g(e,["model"]);h!=null&&y(t,["model"],h);const m=g(e,["inputConfig"]);m!=null&&y(t,["src"],pG(m));const v=g(e,["outputConfig"]);v!=null&&y(t,["dest"],dG(tD(v)));const _=g(e,["completionStats"]);return _!=null&&y(t,["completionStats"],_),t}function pG(e){const t={},n=g(e,["instancesFormat"]);n!=null&&y(t,["format"],n);const r=g(e,["gcsSource","uris"]);r!=null&&y(t,["gcsUri"],r);const i=g(e,["bigquerySource","inputUri"]);return i!=null&&y(t,["bigqueryUri"],i),t}function mG(e,t){const n={};if(g(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=g(t,["fileName"]);r!=null&&y(n,["fileName"],r);const i=g(t,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>HG(e,l))),y(n,["requests","requests"],a)}return n}function gG(e){const t={},n=g(e,["format"]);n!=null&&y(t,["instancesFormat"],n);const r=g(e,["gcsUri"]);r!=null&&y(t,["gcsSource","uris"],r);const i=g(e,["bigqueryUri"]);if(i!=null&&y(t,["bigquerySource","inputUri"],i),g(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function vG(e){const t={},n=g(e,["data"]);if(n!=null&&y(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function yG(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],xl(e,r)),n}function bG(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],xl(e,r)),n}function _G(e){const t={},n=g(e,["content"]);n!=null&&y(t,["content"],n);const r=g(e,["citationMetadata"]);r!=null&&y(t,["citationMetadata"],SG(r));const i=g(e,["tokenCount"]);i!=null&&y(t,["tokenCount"],i);const a=g(e,["finishReason"]);a!=null&&y(t,["finishReason"],a);const l=g(e,["avgLogprobs"]);l!=null&&y(t,["avgLogprobs"],l);const u=g(e,["groundingMetadata"]);u!=null&&y(t,["groundingMetadata"],u);const c=g(e,["index"]);c!=null&&y(t,["index"],c);const d=g(e,["logprobsResult"]);d!=null&&y(t,["logprobsResult"],d);const h=g(e,["safetyRatings"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(_=>_)),y(t,["safetyRatings"],v)}const m=g(e,["urlContextMetadata"]);return m!=null&&y(t,["urlContextMetadata"],m),t}function SG(e){const t={},n=g(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(t,["citations"],r)}return t}function rD(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>QG(a))),y(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&y(t,["role"],r),t}function TG(e,t){const n={},r=g(e,["displayName"]);if(t!==void 0&&r!=null&&y(t,["batch","displayName"],r),g(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function EG(e,t){const n={},r=g(e,["displayName"]);t!==void 0&&r!=null&&y(t,["displayName"],r);const i=g(e,["dest"]);return t!==void 0&&i!=null&&y(t,["outputConfig"],hG(cG(i))),n}function r1(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=g(t,["src"]);i!=null&&y(n,["batch","inputConfig"],mG(e,eD(e,i)));const a=g(t,["config"]);return a!=null&&TG(a,n),n}function wG(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["model"],Ve(e,r));const i=g(t,["src"]);i!=null&&y(n,["inputConfig"],gG(eD(e,i)));const a=g(t,["config"]);return a!=null&&EG(a,n),n}function xG(e,t){const n={},r=g(e,["displayName"]);return t!==void 0&&r!=null&&y(t,["batch","displayName"],r),n}function AG(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=g(t,["src"]);i!=null&&y(n,["batch","inputConfig"],DG(e,i));const a=g(t,["config"]);return a!=null&&xG(a,n),n}function CG(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],xl(e,r)),n}function MG(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],xl(e,r)),n}function PG(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["name"]);r!=null&&y(t,["name"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);return a!=null&&y(t,["error"],a),t}function OG(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["name"]);r!=null&&y(t,["name"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);return a!=null&&y(t,["error"],a),t}function IG(e,t){const n={},r=g(t,["contents"]);if(r!=null){let a=s_(e,r);Array.isArray(a)&&(a=a.map(l=>l)),y(n,["requests[]","request","content"],a)}const i=g(t,["config"]);return i!=null&&(y(n,["_self"],NG(i,n)),MH(n,{"requests[].*":"requests[].request.*"})),n}function NG(e,t){const n={},r=g(e,["taskType"]);t!==void 0&&r!=null&&y(t,["requests[]","taskType"],r);const i=g(e,["title"]);t!==void 0&&i!=null&&y(t,["requests[]","title"],i);const a=g(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&y(t,["requests[]","outputDimensionality"],a),g(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function DG(e,t){const n={},r=g(t,["fileName"]);r!=null&&y(n,["file_name"],r);const i=g(t,["inlinedRequests"]);return i!=null&&y(n,["requests"],IG(e,i)),n}function RG(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function kG(e){const t={},n=g(e,["id"]);n!=null&&y(t,["id"],n);const r=g(e,["args"]);r!=null&&y(t,["args"],r);const i=g(e,["name"]);if(i!=null&&y(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function LG(e){const t={},n=g(e,["mode"]);n!=null&&y(t,["mode"],n);const r=g(e,["allowedFunctionNames"]);if(r!=null&&y(t,["allowedFunctionNames"],r),g(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function UG(e,t,n){const r={},i=g(t,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],rD(Sn(i)));const a=g(t,["temperature"]);a!=null&&y(r,["temperature"],a);const l=g(t,["topP"]);l!=null&&y(r,["topP"],l);const u=g(t,["topK"]);u!=null&&y(r,["topK"],u);const c=g(t,["candidateCount"]);c!=null&&y(r,["candidateCount"],c);const d=g(t,["maxOutputTokens"]);d!=null&&y(r,["maxOutputTokens"],d);const h=g(t,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=g(t,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const v=g(t,["logprobs"]);v!=null&&y(r,["logprobs"],v);const _=g(t,["presencePenalty"]);_!=null&&y(r,["presencePenalty"],_);const T=g(t,["frequencyPenalty"]);T!=null&&y(r,["frequencyPenalty"],T);const w=g(t,["seed"]);w!=null&&y(r,["seed"],w);const E=g(t,["responseMimeType"]);E!=null&&y(r,["responseMimeType"],E);const C=g(t,["responseSchema"]);C!=null&&y(r,["responseSchema"],l_(C));const O=g(t,["responseJsonSchema"]);if(O!=null&&y(r,["responseJsonSchema"],O),g(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=g(t,["safetySettings"]);if(n!==void 0&&P!=null){let V=P;Array.isArray(V)&&(V=V.map(de=>ZG(de))),y(n,["safetySettings"],V)}const D=g(t,["tools"]);if(n!==void 0&&D!=null){let V=wl(D);Array.isArray(V)&&(V=V.map(de=>tV(El(de)))),y(n,["tools"],V)}const I=g(t,["toolConfig"]);if(n!==void 0&&I!=null&&y(n,["toolConfig"],eV(I)),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=g(t,["cachedContent"]);n!==void 0&&R!=null&&y(n,["cachedContent"],ca(e,R));const k=g(t,["responseModalities"]);k!=null&&y(r,["responseModalities"],k);const z=g(t,["mediaResolution"]);z!=null&&y(r,["mediaResolution"],z);const $=g(t,["speechConfig"]);if($!=null&&y(r,["speechConfig"],u_($)),g(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const re=g(t,["thinkingConfig"]);re!=null&&y(r,["thinkingConfig"],re);const F=g(t,["imageConfig"]);return F!=null&&y(r,["imageConfig"],FG(F)),r}function jG(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>_G(d))),y(t,["candidates"],c)}const i=g(e,["modelVersion"]);i!=null&&y(t,["modelVersion"],i);const a=g(e,["promptFeedback"]);a!=null&&y(t,["promptFeedback"],a);const l=g(e,["responseId"]);l!=null&&y(t,["responseId"],l);const u=g(e,["usageMetadata"]);return u!=null&&y(t,["usageMetadata"],u),t}function qG(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],xl(e,r)),n}function zG(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],xl(e,r)),n}function BG(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function $G(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function FG(e){const t={},n=g(e,["aspectRatio"]);n!=null&&y(t,["aspectRatio"],n);const r=g(e,["imageSize"]);if(r!=null&&y(t,["imageSize"],r),g(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function HG(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["request","model"],Ve(e,r));const i=g(t,["contents"]);if(i!=null){let u=Cr(i);Array.isArray(u)&&(u=u.map(c=>rD(c))),y(n,["request","contents"],u)}const a=g(t,["metadata"]);a!=null&&y(n,["metadata"],a);const l=g(t,["config"]);return l!=null&&y(n,["request","generationConfig"],UG(e,l,g(n,["request"],{}))),n}function GG(e){const t={},n=g(e,["response"]);n!=null&&y(t,["response"],jG(n));const r=g(e,["error"]);return r!=null&&y(t,["error"],r),t}function VG(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);if(t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),g(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function KG(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);t!==void 0&&i!=null&&y(t,["_query","pageToken"],i);const a=g(e,["filter"]);return t!==void 0&&a!=null&&y(t,["_query","filter"],a),n}function YG(e){const t={},n=g(e,["config"]);return n!=null&&VG(n,t),t}function WG(e){const t={},n=g(e,["config"]);return n!=null&&KG(n,t),t}function JG(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>kd(l))),y(t,["batchJobs"],a)}return t}function XG(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>O0(l))),y(t,["batchJobs"],a)}return t}function QG(e){const t={},n=g(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const a=g(e,["fileData"]);a!=null&&y(t,["fileData"],RG(a));const l=g(e,["functionCall"]);l!=null&&y(t,["functionCall"],kG(l));const u=g(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const c=g(e,["inlineData"]);c!=null&&y(t,["inlineData"],vG(c));const d=g(e,["text"]);d!=null&&y(t,["text"],d);const h=g(e,["thought"]);h!=null&&y(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const v=g(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function ZG(e){const t={},n=g(e,["category"]);if(n!=null&&y(t,["category"],n),g(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(e,["threshold"]);return r!=null&&y(t,["threshold"],r),t}function eV(e){const t={},n=g(e,["functionCallingConfig"]);n!=null&&y(t,["functionCallingConfig"],LG(n));const r=g(e,["retrievalConfig"]);return r!=null&&y(t,["retrievalConfig"],r),t}function tV(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["googleSearchRetrieval"]);r!=null&&y(t,["googleSearchRetrieval"],r);const i=g(e,["computerUse"]);i!=null&&y(t,["computerUse"],i);const a=g(e,["fileSearch"]);a!=null&&y(t,["fileSearch"],a);const l=g(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],BG(u));const c=g(e,["googleSearch"]);c!=null&&y(t,["googleSearch"],$G(c));const d=g(e,["urlContext"]);return d!=null&&y(t,["urlContext"],d),t}var Zi;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Zi||(Zi={}));class Wo{constructor(t,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,a;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(a=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}class nV extends ua{constructor(t){super(),this.apiClient=t,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new Wo(Zi.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(t){const n=r1(this.apiClient,t),r=n._url,i=he("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,c=u.requests,d=[];for(const h of c){const m=Object.assign({},h);if(m.systemInstruction){const v=m.systemInstruction;delete m.systemInstruction;const _=m.request;_.systemInstruction=v,m.request=_}d.push(m)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(t),l=this.getBigqueryUri(t);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=wG(this.apiClient,t);return u=he("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>O0(h))}else{const d=r1(this.apiClient,t);return u=he("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>kd(h))}}async createEmbeddingsInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=AG(this.apiClient,t);return a=he("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>kd(c))}}async get(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=zG(this.apiClient,t);return u=he("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>O0(h))}else{const d=qG(this.apiClient,t);return u=he("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>kd(h))}}async cancel(t){var n,r,i,a;let l="",u={};if(this.apiClient.isVertexAI()){const c=bG(this.apiClient,t);l=he("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=yG(this.apiClient,t);l=he("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=WG(t);return u=he("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=XG(h),v=new ZC;return Object.assign(v,m),v})}else{const d=YG(t);return u=he("batches",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=JG(h),v=new ZC;return Object.assign(v,m),v})}}async delete(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=MG(this.apiClient,t);return u=he("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>OG(h))}else{const d=CG(this.apiClient,t);return u=he("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>PG(h))}}}function rV(e){const t={},n=g(e,["data"]);if(n!=null&&y(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function i1(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>AV(a))),y(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&y(t,["role"],r),t}function iV(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=g(e,["expireTime"]);t!==void 0&&i!=null&&y(t,["expireTime"],i);const a=g(e,["displayName"]);t!==void 0&&a!=null&&y(t,["displayName"],a);const l=g(e,["contents"]);if(t!==void 0&&l!=null){let h=Cr(l);Array.isArray(h)&&(h=h.map(m=>i1(m))),y(t,["contents"],h)}const u=g(e,["systemInstruction"]);t!==void 0&&u!=null&&y(t,["systemInstruction"],i1(Sn(u)));const c=g(e,["tools"]);if(t!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>MV(m))),y(t,["tools"],h)}const d=g(e,["toolConfig"]);if(t!==void 0&&d!=null&&y(t,["toolConfig"],CV(d)),g(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function aV(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=g(e,["expireTime"]);t!==void 0&&i!=null&&y(t,["expireTime"],i);const a=g(e,["displayName"]);t!==void 0&&a!=null&&y(t,["displayName"],a);const l=g(e,["contents"]);if(t!==void 0&&l!=null){let m=Cr(l);Array.isArray(m)&&(m=m.map(v=>v)),y(t,["contents"],m)}const u=g(e,["systemInstruction"]);t!==void 0&&u!=null&&y(t,["systemInstruction"],Sn(u));const c=g(e,["tools"]);if(t!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(v=>PV(v))),y(t,["tools"],m)}const d=g(e,["toolConfig"]);t!==void 0&&d!=null&&y(t,["toolConfig"],d);const h=g(e,["kmsKeyName"]);return t!==void 0&&h!=null&&y(t,["encryption_spec","kmsKeyName"],h),n}function oV(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["model"],GN(e,r));const i=g(t,["config"]);return i!=null&&iV(i,n),n}function sV(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["model"],GN(e,r));const i=g(t,["config"]);return i!=null&&aV(i,n),n}function lV(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],ca(e,r)),n}function uV(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],ca(e,r)),n}function cV(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function fV(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function dV(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function hV(e){const t={},n=g(e,["id"]);n!=null&&y(t,["id"],n);const r=g(e,["args"]);r!=null&&y(t,["args"],r);const i=g(e,["name"]);if(i!=null&&y(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function pV(e){const t={},n=g(e,["mode"]);n!=null&&y(t,["mode"],n);const r=g(e,["allowedFunctionNames"]);if(r!=null&&y(t,["allowedFunctionNames"],r),g(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function mV(e){const t={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(e,["description"]);n!=null&&y(t,["description"],n);const r=g(e,["name"]);r!=null&&y(t,["name"],r);const i=g(e,["parameters"]);i!=null&&y(t,["parameters"],i);const a=g(e,["parametersJsonSchema"]);a!=null&&y(t,["parametersJsonSchema"],a);const l=g(e,["response"]);l!=null&&y(t,["response"],l);const u=g(e,["responseJsonSchema"]);return u!=null&&y(t,["responseJsonSchema"],u),t}function gV(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],ca(e,r)),n}function vV(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],ca(e,r)),n}function yV(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function bV(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function _V(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function SV(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function TV(e){const t={},n=g(e,["config"]);return n!=null&&_V(n,t),t}function EV(e){const t={},n=g(e,["config"]);return n!=null&&SV(n,t),t}function wV(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["cachedContents"],a)}return t}function xV(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["cachedContents"],a)}return t}function AV(e){const t={},n=g(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const a=g(e,["fileData"]);a!=null&&y(t,["fileData"],dV(a));const l=g(e,["functionCall"]);l!=null&&y(t,["functionCall"],hV(l));const u=g(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const c=g(e,["inlineData"]);c!=null&&y(t,["inlineData"],rV(c));const d=g(e,["text"]);d!=null&&y(t,["text"],d);const h=g(e,["thought"]);h!=null&&y(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const v=g(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function CV(e){const t={},n=g(e,["functionCallingConfig"]);n!=null&&y(t,["functionCallingConfig"],pV(n));const r=g(e,["retrievalConfig"]);return r!=null&&y(t,["retrievalConfig"],r),t}function MV(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["googleSearchRetrieval"]);r!=null&&y(t,["googleSearchRetrieval"],r);const i=g(e,["computerUse"]);i!=null&&y(t,["computerUse"],i);const a=g(e,["fileSearch"]);a!=null&&y(t,["fileSearch"],a);const l=g(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],yV(u));const c=g(e,["googleSearch"]);c!=null&&y(t,["googleSearch"],bV(c));const d=g(e,["urlContext"]);return d!=null&&y(t,["urlContext"],d),t}function PV(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>mV(v))),y(t,["functionDeclarations"],m)}const r=g(e,["retrieval"]);r!=null&&y(t,["retrieval"],r);const i=g(e,["googleSearchRetrieval"]);i!=null&&y(t,["googleSearchRetrieval"],i);const a=g(e,["computerUse"]);if(a!=null&&y(t,["computerUse"],a),g(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(e,["codeExecution"]);l!=null&&y(t,["codeExecution"],l);const u=g(e,["enterpriseWebSearch"]);u!=null&&y(t,["enterpriseWebSearch"],u);const c=g(e,["googleMaps"]);c!=null&&y(t,["googleMaps"],c);const d=g(e,["googleSearch"]);d!=null&&y(t,["googleSearch"],d);const h=g(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}function OV(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=g(e,["expireTime"]);return t!==void 0&&i!=null&&y(t,["expireTime"],i),n}function IV(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=g(e,["expireTime"]);return t!==void 0&&i!=null&&y(t,["expireTime"],i),n}function NV(e,t){const n={},r=g(t,["name"]);r!=null&&y(n,["_url","name"],ca(e,r));const i=g(t,["config"]);return i!=null&&OV(i,n),n}function DV(e,t){const n={},r=g(t,["name"]);r!=null&&y(n,["_url","name"],ca(e,r));const i=g(t,["config"]);return i!=null&&IV(i,n),n}class RV extends ua{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Wo(Zi.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=sV(this.apiClient,t);return u=he("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=oV(this.apiClient,t);return u=he("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async get(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=vV(this.apiClient,t);return u=he("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=gV(this.apiClient,t);return u=he("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async delete(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=uV(this.apiClient,t);return u=he("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=fV(h),v=new XC;return Object.assign(v,m),v})}else{const d=lV(this.apiClient,t);return u=he("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=cV(h),v=new XC;return Object.assign(v,m),v})}}async update(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=DV(this.apiClient,t);return u=he("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=NV(this.apiClient,t);return u=he("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async listInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=EV(t);return u=he("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=xV(h),v=new QC;return Object.assign(v,m),v})}else{const d=TV(t);return u=he("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=wV(h),v=new QC;return Object.assign(v,m),v})}}}function a1(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ut(e){return this instanceof ut?(this.v=e,this):new ut(e)}function nl(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(_){return function(T){return Promise.resolve(T).then(_,m)}}function u(_,T){r[_]&&(i[_]=function(w){return new Promise(function(E,C){a.push([_,w,E,C])>1||c(_,w)})},T&&(i[_]=T(i[_])))}function c(_,T){try{d(r[_](T))}catch(w){v(a[0][3],w)}}function d(_){_.value instanceof ut?Promise.resolve(_.value.v).then(h,m):v(a[0][2],_)}function h(_){c("next",_)}function m(_){c("throw",_)}function v(_,T){_(T),a.shift(),a.length&&c(a[0][0],a[0][1])}}function Zu(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof a1=="function"?a1(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(l){return new Promise(function(u,c){l=e[a](l),i(u,c,l.done,l.value)})}}function i(a,l,u,c){Promise.resolve(c).then(function(d){a({value:d,done:u})},l)}}function kV(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:iD(n)}function iD(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function LV(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function o1(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const i=[];let a=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),a&&!iD(e[r])&&(a=!1),r++;a?t.push(...i):t.pop()}return t}class UV{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new jV(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class jV{constructor(t,n,r,i={},a=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),LV(a)}async sendMessage(t){var n;await this.sendPromise;const r=Sn(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,l,u;const c=await i,d=(l=(a=c.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content,h=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let v=[];h!=null&&(v=(u=h.slice(m))!==null&&u!==void 0?u:[]);const _=d?[d]:[];this.recordHistory(r,_,v)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const r=Sn(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(t=!1){const n=t?o1(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var r,i;return nl(this,arguments,function*(){var l,u,c,d;const h=[];try{for(var m=!0,v=Zu(t),_;_=yield ut(v.next()),l=_.done,!l;m=!0){d=_.value,m=!1;const T=d;if(kV(T)){const w=(i=(r=T.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;w!==void 0&&h.push(w)}yield yield ut(T)}}catch(T){u={error:T}}finally{try{!m&&!l&&(c=v.return)&&(yield ut(c.call(v)))}finally{if(u)throw u.error}}this.recordHistory(n,h)})}recordHistory(t,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...o1(r)):this.history.push(t),this.history.push(...i)}}class ep extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,ep.prototype)}}function qV(e){const t={},n=g(e,["file"]);return n!=null&&y(t,["file"],n),t}function zV(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function BV(e){const t={},n=g(e,["name"]);return n!=null&&y(t,["_url","file"],XN(n)),t}function $V(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function FV(e){const t={},n=g(e,["name"]);return n!=null&&y(t,["_url","file"],XN(n)),t}function HV(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function GV(e){const t={},n=g(e,["config"]);return n!=null&&HV(n,t),t}function VV(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["files"],a)}return t}class KV extends ua{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Wo(Zi.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=GV(t);return a=he("files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=VV(c),h=new XH;return Object.assign(h,d),h})}}async createInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=qV(t);return a=he("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=zV(c),h=new QH;return Object.assign(h,d),h})}}async get(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=FV(t);return a=he("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=BV(t);return a=he("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=$V(c),h=new ZH;return Object.assign(h,d),h})}}}function Ld(e){const t={},n=g(e,["data"]);if(n!=null&&y(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function YV(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>c6(a))),y(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&y(t,["role"],r),t}function WV(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function JV(e){const t={},n=g(e,["id"]);n!=null&&y(t,["id"],n);const r=g(e,["args"]);r!=null&&y(t,["args"],r);const i=g(e,["name"]);if(i!=null&&y(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function XV(e){const t={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(e,["description"]);n!=null&&y(t,["description"],n);const r=g(e,["name"]);r!=null&&y(t,["name"],r);const i=g(e,["parameters"]);i!=null&&y(t,["parameters"],i);const a=g(e,["parametersJsonSchema"]);a!=null&&y(t,["parametersJsonSchema"],a);const l=g(e,["response"]);l!=null&&y(t,["response"],l);const u=g(e,["responseJsonSchema"]);return u!=null&&y(t,["responseJsonSchema"],u),t}function QV(e){const t={},n=g(e,["modelSelectionConfig"]);n!=null&&y(t,["modelConfig"],n);const r=g(e,["responseJsonSchema"]);r!=null&&y(t,["responseJsonSchema"],r);const i=g(e,["audioTimestamp"]);i!=null&&y(t,["audioTimestamp"],i);const a=g(e,["candidateCount"]);a!=null&&y(t,["candidateCount"],a);const l=g(e,["enableAffectiveDialog"]);l!=null&&y(t,["enableAffectiveDialog"],l);const u=g(e,["frequencyPenalty"]);u!=null&&y(t,["frequencyPenalty"],u);const c=g(e,["logprobs"]);c!=null&&y(t,["logprobs"],c);const d=g(e,["maxOutputTokens"]);d!=null&&y(t,["maxOutputTokens"],d);const h=g(e,["mediaResolution"]);h!=null&&y(t,["mediaResolution"],h);const m=g(e,["presencePenalty"]);m!=null&&y(t,["presencePenalty"],m);const v=g(e,["responseLogprobs"]);v!=null&&y(t,["responseLogprobs"],v);const _=g(e,["responseMimeType"]);_!=null&&y(t,["responseMimeType"],_);const T=g(e,["responseModalities"]);T!=null&&y(t,["responseModalities"],T);const w=g(e,["responseSchema"]);w!=null&&y(t,["responseSchema"],w);const E=g(e,["routingConfig"]);E!=null&&y(t,["routingConfig"],E);const C=g(e,["seed"]);C!=null&&y(t,["seed"],C);const O=g(e,["speechConfig"]);O!=null&&y(t,["speechConfig"],aD(O));const P=g(e,["stopSequences"]);P!=null&&y(t,["stopSequences"],P);const D=g(e,["temperature"]);D!=null&&y(t,["temperature"],D);const I=g(e,["thinkingConfig"]);I!=null&&y(t,["thinkingConfig"],I);const R=g(e,["topK"]);R!=null&&y(t,["topK"],R);const k=g(e,["topP"]);if(k!=null&&y(t,["topP"],k),g(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function ZV(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function e6(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function t6(e,t){const n={},r=g(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],r);const i=g(e,["responseModalities"]);t!==void 0&&i!=null&&y(t,["setup","generationConfig","responseModalities"],i);const a=g(e,["temperature"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","temperature"],a);const l=g(e,["topP"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","topP"],l);const u=g(e,["topK"]);t!==void 0&&u!=null&&y(t,["setup","generationConfig","topK"],u);const c=g(e,["maxOutputTokens"]);t!==void 0&&c!=null&&y(t,["setup","generationConfig","maxOutputTokens"],c);const d=g(e,["mediaResolution"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","mediaResolution"],d);const h=g(e,["seed"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","seed"],h);const m=g(e,["speechConfig"]);t!==void 0&&m!=null&&y(t,["setup","generationConfig","speechConfig"],c_(m));const v=g(e,["thinkingConfig"]);t!==void 0&&v!=null&&y(t,["setup","generationConfig","thinkingConfig"],v);const _=g(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],_);const T=g(e,["systemInstruction"]);t!==void 0&&T!=null&&y(t,["setup","systemInstruction"],YV(Sn(T)));const w=g(e,["tools"]);if(t!==void 0&&w!=null){let R=wl(w);Array.isArray(R)&&(R=R.map(k=>d6(El(k)))),y(t,["setup","tools"],R)}const E=g(e,["sessionResumption"]);t!==void 0&&E!=null&&y(t,["setup","sessionResumption"],f6(E));const C=g(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&y(t,["setup","inputAudioTranscription"],C);const O=g(e,["outputAudioTranscription"]);t!==void 0&&O!=null&&y(t,["setup","outputAudioTranscription"],O);const P=g(e,["realtimeInputConfig"]);t!==void 0&&P!=null&&y(t,["setup","realtimeInputConfig"],P);const D=g(e,["contextWindowCompression"]);t!==void 0&&D!=null&&y(t,["setup","contextWindowCompression"],D);const I=g(e,["proactivity"]);return t!==void 0&&I!=null&&y(t,["setup","proactivity"],I),n}function n6(e,t){const n={},r=g(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],QV(r));const i=g(e,["responseModalities"]);t!==void 0&&i!=null&&y(t,["setup","generationConfig","responseModalities"],i);const a=g(e,["temperature"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","temperature"],a);const l=g(e,["topP"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","topP"],l);const u=g(e,["topK"]);t!==void 0&&u!=null&&y(t,["setup","generationConfig","topK"],u);const c=g(e,["maxOutputTokens"]);t!==void 0&&c!=null&&y(t,["setup","generationConfig","maxOutputTokens"],c);const d=g(e,["mediaResolution"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","mediaResolution"],d);const h=g(e,["seed"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","seed"],h);const m=g(e,["speechConfig"]);t!==void 0&&m!=null&&y(t,["setup","generationConfig","speechConfig"],aD(c_(m)));const v=g(e,["thinkingConfig"]);t!==void 0&&v!=null&&y(t,["setup","generationConfig","thinkingConfig"],v);const _=g(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],_);const T=g(e,["systemInstruction"]);t!==void 0&&T!=null&&y(t,["setup","systemInstruction"],Sn(T));const w=g(e,["tools"]);if(t!==void 0&&w!=null){let R=wl(w);Array.isArray(R)&&(R=R.map(k=>h6(El(k)))),y(t,["setup","tools"],R)}const E=g(e,["sessionResumption"]);t!==void 0&&E!=null&&y(t,["setup","sessionResumption"],E);const C=g(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&y(t,["setup","inputAudioTranscription"],C);const O=g(e,["outputAudioTranscription"]);t!==void 0&&O!=null&&y(t,["setup","outputAudioTranscription"],O);const P=g(e,["realtimeInputConfig"]);t!==void 0&&P!=null&&y(t,["setup","realtimeInputConfig"],P);const D=g(e,["contextWindowCompression"]);t!==void 0&&D!=null&&y(t,["setup","contextWindowCompression"],D);const I=g(e,["proactivity"]);return t!==void 0&&I!=null&&y(t,["setup","proactivity"],I),n}function r6(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["setup","model"],Ve(e,r));const i=g(t,["config"]);return i!=null&&y(n,["config"],t6(i,n)),n}function i6(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["setup","model"],Ve(e,r));const i=g(t,["config"]);return i!=null&&y(n,["config"],n6(i,n)),n}function a6(e){const t={},n=g(e,["musicGenerationConfig"]);return n!=null&&y(t,["musicGenerationConfig"],n),t}function o6(e){const t={},n=g(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(t,["weightedPrompts"],r)}return t}function s6(e){const t={},n=g(e,["media"]);if(n!=null){let d=VN(n);Array.isArray(d)&&(d=d.map(h=>Ld(h))),y(t,["mediaChunks"],d)}const r=g(e,["audio"]);r!=null&&y(t,["audio"],Ld(YN(r)));const i=g(e,["audioStreamEnd"]);i!=null&&y(t,["audioStreamEnd"],i);const a=g(e,["video"]);a!=null&&y(t,["video"],Ld(KN(a)));const l=g(e,["text"]);l!=null&&y(t,["text"],l);const u=g(e,["activityStart"]);u!=null&&y(t,["activityStart"],u);const c=g(e,["activityEnd"]);return c!=null&&y(t,["activityEnd"],c),t}function l6(e){const t={},n=g(e,["media"]);if(n!=null){let d=VN(n);Array.isArray(d)&&(d=d.map(h=>h)),y(t,["mediaChunks"],d)}const r=g(e,["audio"]);r!=null&&y(t,["audio"],YN(r));const i=g(e,["audioStreamEnd"]);i!=null&&y(t,["audioStreamEnd"],i);const a=g(e,["video"]);a!=null&&y(t,["video"],KN(a));const l=g(e,["text"]);l!=null&&y(t,["text"],l);const u=g(e,["activityStart"]);u!=null&&y(t,["activityStart"],u);const c=g(e,["activityEnd"]);return c!=null&&y(t,["activityEnd"],c),t}function u6(e){const t={},n=g(e,["setupComplete"]);n!=null&&y(t,["setupComplete"],n);const r=g(e,["serverContent"]);r!=null&&y(t,["serverContent"],r);const i=g(e,["toolCall"]);i!=null&&y(t,["toolCall"],i);const a=g(e,["toolCallCancellation"]);a!=null&&y(t,["toolCallCancellation"],a);const l=g(e,["usageMetadata"]);l!=null&&y(t,["usageMetadata"],p6(l));const u=g(e,["goAway"]);u!=null&&y(t,["goAway"],u);const c=g(e,["sessionResumptionUpdate"]);return c!=null&&y(t,["sessionResumptionUpdate"],c),t}function c6(e){const t={},n=g(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const a=g(e,["fileData"]);a!=null&&y(t,["fileData"],WV(a));const l=g(e,["functionCall"]);l!=null&&y(t,["functionCall"],JV(l));const u=g(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const c=g(e,["inlineData"]);c!=null&&y(t,["inlineData"],Ld(c));const d=g(e,["text"]);d!=null&&y(t,["text"],d);const h=g(e,["thought"]);h!=null&&y(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const v=g(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function f6(e){const t={},n=g(e,["handle"]);if(n!=null&&y(t,["handle"],n),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function aD(e){const t={},n=g(e,["languageCode"]);n!=null&&y(t,["languageCode"],n);const r=g(e,["voiceConfig"]);if(r!=null&&y(t,["voiceConfig"],r),g(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function d6(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["googleSearchRetrieval"]);r!=null&&y(t,["googleSearchRetrieval"],r);const i=g(e,["computerUse"]);i!=null&&y(t,["computerUse"],i);const a=g(e,["fileSearch"]);a!=null&&y(t,["fileSearch"],a);const l=g(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],ZV(u));const c=g(e,["googleSearch"]);c!=null&&y(t,["googleSearch"],e6(c));const d=g(e,["urlContext"]);return d!=null&&y(t,["urlContext"],d),t}function h6(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>XV(v))),y(t,["functionDeclarations"],m)}const r=g(e,["retrieval"]);r!=null&&y(t,["retrieval"],r);const i=g(e,["googleSearchRetrieval"]);i!=null&&y(t,["googleSearchRetrieval"],i);const a=g(e,["computerUse"]);if(a!=null&&y(t,["computerUse"],a),g(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(e,["codeExecution"]);l!=null&&y(t,["codeExecution"],l);const u=g(e,["enterpriseWebSearch"]);u!=null&&y(t,["enterpriseWebSearch"],u);const c=g(e,["googleMaps"]);c!=null&&y(t,["googleMaps"],c);const d=g(e,["googleSearch"]);d!=null&&y(t,["googleSearch"],d);const h=g(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}function p6(e){const t={},n=g(e,["promptTokenCount"]);n!=null&&y(t,["promptTokenCount"],n);const r=g(e,["cachedContentTokenCount"]);r!=null&&y(t,["cachedContentTokenCount"],r);const i=g(e,["candidatesTokenCount"]);i!=null&&y(t,["responseTokenCount"],i);const a=g(e,["toolUsePromptTokenCount"]);a!=null&&y(t,["toolUsePromptTokenCount"],a);const l=g(e,["thoughtsTokenCount"]);l!=null&&y(t,["thoughtsTokenCount"],l);const u=g(e,["totalTokenCount"]);u!=null&&y(t,["totalTokenCount"],u);const c=g(e,["promptTokensDetails"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(T=>T)),y(t,["promptTokensDetails"],_)}const d=g(e,["cacheTokensDetails"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(T=>T)),y(t,["cacheTokensDetails"],_)}const h=g(e,["candidatesTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(T=>T)),y(t,["responseTokensDetails"],_)}const m=g(e,["toolUsePromptTokensDetails"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(T=>T)),y(t,["toolUsePromptTokensDetails"],_)}const v=g(e,["trafficType"]);return v!=null&&y(t,["trafficType"],v),t}function m6(e){const t={},n=g(e,["data"]);if(n!=null&&y(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function g6(e){const t={},n=g(e,["content"]);n!=null&&y(t,["content"],n);const r=g(e,["citationMetadata"]);r!=null&&y(t,["citationMetadata"],v6(r));const i=g(e,["tokenCount"]);i!=null&&y(t,["tokenCount"],i);const a=g(e,["finishReason"]);a!=null&&y(t,["finishReason"],a);const l=g(e,["avgLogprobs"]);l!=null&&y(t,["avgLogprobs"],l);const u=g(e,["groundingMetadata"]);u!=null&&y(t,["groundingMetadata"],u);const c=g(e,["index"]);c!=null&&y(t,["index"],c);const d=g(e,["logprobsResult"]);d!=null&&y(t,["logprobsResult"],d);const h=g(e,["safetyRatings"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(_=>_)),y(t,["safetyRatings"],v)}const m=g(e,["urlContextMetadata"]);return m!=null&&y(t,["urlContextMetadata"],m),t}function v6(e){const t={},n=g(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(t,["citations"],r)}return t}function y6(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=g(t,["contents"]);if(i!=null){let a=Cr(i);Array.isArray(a)&&(a=a.map(l=>l)),y(n,["contents"],a)}return n}function b6(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),y(t,["tokensInfo"],i)}return t}function _6(e){const t={},n=g(e,["values"]);n!=null&&y(t,["values"],n);const r=g(e,["statistics"]);return r!=null&&y(t,["statistics"],S6(r)),t}function S6(e){const t={},n=g(e,["truncated"]);n!=null&&y(t,["truncated"],n);const r=g(e,["token_count"]);return r!=null&&y(t,["tokenCount"],r),t}function tp(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>O4(a))),y(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&y(t,["role"],r),t}function T6(e){const t={},n=g(e,["controlType"]);n!=null&&y(t,["controlType"],n);const r=g(e,["enableControlImageComputation"]);return r!=null&&y(t,["computeControl"],r),t}function E6(e){const t={};if(g(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function w6(e,t){const n={},r=g(e,["systemInstruction"]);t!==void 0&&r!=null&&y(t,["systemInstruction"],Sn(r));const i=g(e,["tools"]);if(t!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>cD(u))),y(t,["tools"],l)}const a=g(e,["generationConfig"]);return t!==void 0&&a!=null&&y(t,["generationConfig"],m4(a)),n}function x6(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=g(t,["contents"]);if(i!=null){let l=Cr(i);Array.isArray(l)&&(l=l.map(u=>tp(u))),y(n,["contents"],l)}const a=g(t,["config"]);return a!=null&&E6(a),n}function A6(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=g(t,["contents"]);if(i!=null){let l=Cr(i);Array.isArray(l)&&(l=l.map(u=>u)),y(n,["contents"],l)}const a=g(t,["config"]);return a!=null&&w6(a,n),n}function C6(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["totalTokens"]);r!=null&&y(t,["totalTokens"],r);const i=g(e,["cachedContentTokenCount"]);return i!=null&&y(t,["cachedContentTokenCount"],i),t}function M6(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["totalTokens"]);return r!=null&&y(t,["totalTokens"],r),t}function P6(e,t){const n={},r=g(t,["model"]);return r!=null&&y(n,["_url","name"],Ve(e,r)),n}function O6(e,t){const n={},r=g(t,["model"]);return r!=null&&y(n,["_url","name"],Ve(e,r)),n}function I6(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function N6(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function D6(e,t){const n={},r=g(e,["outputGcsUri"]);t!==void 0&&r!=null&&y(t,["parameters","storageUri"],r);const i=g(e,["negativePrompt"]);t!==void 0&&i!=null&&y(t,["parameters","negativePrompt"],i);const a=g(e,["numberOfImages"]);t!==void 0&&a!=null&&y(t,["parameters","sampleCount"],a);const l=g(e,["aspectRatio"]);t!==void 0&&l!=null&&y(t,["parameters","aspectRatio"],l);const u=g(e,["guidanceScale"]);t!==void 0&&u!=null&&y(t,["parameters","guidanceScale"],u);const c=g(e,["seed"]);t!==void 0&&c!=null&&y(t,["parameters","seed"],c);const d=g(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&y(t,["parameters","safetySetting"],d);const h=g(e,["personGeneration"]);t!==void 0&&h!=null&&y(t,["parameters","personGeneration"],h);const m=g(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&y(t,["parameters","includeSafetyAttributes"],m);const v=g(e,["includeRaiReason"]);t!==void 0&&v!=null&&y(t,["parameters","includeRaiReason"],v);const _=g(e,["language"]);t!==void 0&&_!=null&&y(t,["parameters","language"],_);const T=g(e,["outputMimeType"]);t!==void 0&&T!=null&&y(t,["parameters","outputOptions","mimeType"],T);const w=g(e,["outputCompressionQuality"]);t!==void 0&&w!=null&&y(t,["parameters","outputOptions","compressionQuality"],w);const E=g(e,["addWatermark"]);t!==void 0&&E!=null&&y(t,["parameters","addWatermark"],E);const C=g(e,["labels"]);t!==void 0&&C!=null&&y(t,["labels"],C);const O=g(e,["editMode"]);t!==void 0&&O!=null&&y(t,["parameters","editMode"],O);const P=g(e,["baseSteps"]);return t!==void 0&&P!=null&&y(t,["parameters","editConfig","baseSteps"],P),n}function R6(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=g(t,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=g(t,["referenceImages"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>L4(c))),y(n,["instances[0]","referenceImages"],u)}const l=g(t,["config"]);return l!=null&&D6(l,n),n}function k6(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>np(a))),y(t,["generatedImages"],i)}return t}function L6(e,t){const n={},r=g(e,["taskType"]);t!==void 0&&r!=null&&y(t,["requests[]","taskType"],r);const i=g(e,["title"]);t!==void 0&&i!=null&&y(t,["requests[]","title"],i);const a=g(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&y(t,["requests[]","outputDimensionality"],a),g(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function U6(e,t){const n={},r=g(e,["taskType"]);t!==void 0&&r!=null&&y(t,["instances[]","task_type"],r);const i=g(e,["title"]);t!==void 0&&i!=null&&y(t,["instances[]","title"],i);const a=g(e,["outputDimensionality"]);t!==void 0&&a!=null&&y(t,["parameters","outputDimensionality"],a);const l=g(e,["mimeType"]);t!==void 0&&l!=null&&y(t,["instances[]","mimeType"],l);const u=g(e,["autoTruncate"]);return t!==void 0&&u!=null&&y(t,["parameters","autoTruncate"],u),n}function j6(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=g(t,["contents"]);if(i!=null){let u=s_(e,i);Array.isArray(u)&&(u=u.map(c=>c)),y(n,["requests[]","content"],u)}const a=g(t,["config"]);a!=null&&L6(a,n);const l=g(t,["model"]);return l!==void 0&&y(n,["requests[]","model"],Ve(e,l)),n}function q6(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=g(t,["contents"]);if(i!=null){let l=s_(e,i);Array.isArray(l)&&(l=l.map(u=>u)),y(n,["instances[]","content"],l)}const a=g(t,["config"]);return a!=null&&U6(a,n),n}function z6(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["embeddings"],a)}const i=g(e,["metadata"]);return i!=null&&y(t,["metadata"],i),t}function B6(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>_6(l))),y(t,["embeddings"],a)}const i=g(e,["metadata"]);return i!=null&&y(t,["metadata"],i),t}function $6(e){const t={},n=g(e,["endpoint"]);n!=null&&y(t,["name"],n);const r=g(e,["deployedModelId"]);return r!=null&&y(t,["deployedModelId"],r),t}function F6(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function H6(e){const t={},n=g(e,["id"]);n!=null&&y(t,["id"],n);const r=g(e,["args"]);r!=null&&y(t,["args"],r);const i=g(e,["name"]);if(i!=null&&y(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function G6(e){const t={},n=g(e,["mode"]);n!=null&&y(t,["mode"],n);const r=g(e,["allowedFunctionNames"]);if(r!=null&&y(t,["allowedFunctionNames"],r),g(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function V6(e){const t={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(e,["description"]);n!=null&&y(t,["description"],n);const r=g(e,["name"]);r!=null&&y(t,["name"],r);const i=g(e,["parameters"]);i!=null&&y(t,["parameters"],i);const a=g(e,["parametersJsonSchema"]);a!=null&&y(t,["parametersJsonSchema"],a);const l=g(e,["response"]);l!=null&&y(t,["response"],l);const u=g(e,["responseJsonSchema"]);return u!=null&&y(t,["responseJsonSchema"],u),t}function K6(e,t,n){const r={},i=g(t,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],tp(Sn(i)));const a=g(t,["temperature"]);a!=null&&y(r,["temperature"],a);const l=g(t,["topP"]);l!=null&&y(r,["topP"],l);const u=g(t,["topK"]);u!=null&&y(r,["topK"],u);const c=g(t,["candidateCount"]);c!=null&&y(r,["candidateCount"],c);const d=g(t,["maxOutputTokens"]);d!=null&&y(r,["maxOutputTokens"],d);const h=g(t,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=g(t,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const v=g(t,["logprobs"]);v!=null&&y(r,["logprobs"],v);const _=g(t,["presencePenalty"]);_!=null&&y(r,["presencePenalty"],_);const T=g(t,["frequencyPenalty"]);T!=null&&y(r,["frequencyPenalty"],T);const w=g(t,["seed"]);w!=null&&y(r,["seed"],w);const E=g(t,["responseMimeType"]);E!=null&&y(r,["responseMimeType"],E);const C=g(t,["responseSchema"]);C!=null&&y(r,["responseSchema"],l_(C));const O=g(t,["responseJsonSchema"]);if(O!=null&&y(r,["responseJsonSchema"],O),g(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=g(t,["safetySettings"]);if(n!==void 0&&P!=null){let V=P;Array.isArray(V)&&(V=V.map(de=>U4(de))),y(n,["safetySettings"],V)}const D=g(t,["tools"]);if(n!==void 0&&D!=null){let V=wl(D);Array.isArray(V)&&(V=V.map(de=>H4(El(de)))),y(n,["tools"],V)}const I=g(t,["toolConfig"]);if(n!==void 0&&I!=null&&y(n,["toolConfig"],F4(I)),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=g(t,["cachedContent"]);n!==void 0&&R!=null&&y(n,["cachedContent"],ca(e,R));const k=g(t,["responseModalities"]);k!=null&&y(r,["responseModalities"],k);const z=g(t,["mediaResolution"]);z!=null&&y(r,["mediaResolution"],z);const $=g(t,["speechConfig"]);if($!=null&&y(r,["speechConfig"],u_($)),g(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const re=g(t,["thinkingConfig"]);re!=null&&y(r,["thinkingConfig"],re);const F=g(t,["imageConfig"]);return F!=null&&y(r,["imageConfig"],_4(F)),r}function Y6(e,t,n){const r={},i=g(t,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],Sn(i));const a=g(t,["temperature"]);a!=null&&y(r,["temperature"],a);const l=g(t,["topP"]);l!=null&&y(r,["topP"],l);const u=g(t,["topK"]);u!=null&&y(r,["topK"],u);const c=g(t,["candidateCount"]);c!=null&&y(r,["candidateCount"],c);const d=g(t,["maxOutputTokens"]);d!=null&&y(r,["maxOutputTokens"],d);const h=g(t,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=g(t,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const v=g(t,["logprobs"]);v!=null&&y(r,["logprobs"],v);const _=g(t,["presencePenalty"]);_!=null&&y(r,["presencePenalty"],_);const T=g(t,["frequencyPenalty"]);T!=null&&y(r,["frequencyPenalty"],T);const w=g(t,["seed"]);w!=null&&y(r,["seed"],w);const E=g(t,["responseMimeType"]);E!=null&&y(r,["responseMimeType"],E);const C=g(t,["responseSchema"]);C!=null&&y(r,["responseSchema"],l_(C));const O=g(t,["responseJsonSchema"]);O!=null&&y(r,["responseJsonSchema"],O);const P=g(t,["routingConfig"]);P!=null&&y(r,["routingConfig"],P);const D=g(t,["modelSelectionConfig"]);D!=null&&y(r,["modelConfig"],D);const I=g(t,["safetySettings"]);if(n!==void 0&&I!=null){let B=I;Array.isArray(B)&&(B=B.map(ee=>ee)),y(n,["safetySettings"],B)}const R=g(t,["tools"]);if(n!==void 0&&R!=null){let B=wl(R);Array.isArray(B)&&(B=B.map(ee=>cD(El(ee)))),y(n,["tools"],B)}const k=g(t,["toolConfig"]);n!==void 0&&k!=null&&y(n,["toolConfig"],k);const z=g(t,["labels"]);n!==void 0&&z!=null&&y(n,["labels"],z);const $=g(t,["cachedContent"]);n!==void 0&&$!=null&&y(n,["cachedContent"],ca(e,$));const re=g(t,["responseModalities"]);re!=null&&y(r,["responseModalities"],re);const F=g(t,["mediaResolution"]);F!=null&&y(r,["mediaResolution"],F);const V=g(t,["speechConfig"]);V!=null&&y(r,["speechConfig"],uD(u_(V)));const de=g(t,["audioTimestamp"]);de!=null&&y(r,["audioTimestamp"],de);const pe=g(t,["thinkingConfig"]);pe!=null&&y(r,["thinkingConfig"],pe);const _e=g(t,["imageConfig"]);return _e!=null&&y(r,["imageConfig"],S4(_e)),r}function s1(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=g(t,["contents"]);if(i!=null){let l=Cr(i);Array.isArray(l)&&(l=l.map(u=>tp(u))),y(n,["contents"],l)}const a=g(t,["config"]);return a!=null&&y(n,["generationConfig"],K6(e,a,n)),n}function l1(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=g(t,["contents"]);if(i!=null){let l=Cr(i);Array.isArray(l)&&(l=l.map(u=>u)),y(n,["contents"],l)}const a=g(t,["config"]);return a!=null&&y(n,["generationConfig"],Y6(e,a,n)),n}function u1(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>g6(d))),y(t,["candidates"],c)}const i=g(e,["modelVersion"]);i!=null&&y(t,["modelVersion"],i);const a=g(e,["promptFeedback"]);a!=null&&y(t,["promptFeedback"],a);const l=g(e,["responseId"]);l!=null&&y(t,["responseId"],l);const u=g(e,["usageMetadata"]);return u!=null&&y(t,["usageMetadata"],u),t}function c1(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),y(t,["candidates"],d)}const i=g(e,["createTime"]);i!=null&&y(t,["createTime"],i);const a=g(e,["modelVersion"]);a!=null&&y(t,["modelVersion"],a);const l=g(e,["promptFeedback"]);l!=null&&y(t,["promptFeedback"],l);const u=g(e,["responseId"]);u!=null&&y(t,["responseId"],u);const c=g(e,["usageMetadata"]);return c!=null&&y(t,["usageMetadata"],c),t}function W6(e,t){const n={};if(g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=g(e,["numberOfImages"]);t!==void 0&&r!=null&&y(t,["parameters","sampleCount"],r);const i=g(e,["aspectRatio"]);t!==void 0&&i!=null&&y(t,["parameters","aspectRatio"],i);const a=g(e,["guidanceScale"]);if(t!==void 0&&a!=null&&y(t,["parameters","guidanceScale"],a),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=g(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&y(t,["parameters","safetySetting"],l);const u=g(e,["personGeneration"]);t!==void 0&&u!=null&&y(t,["parameters","personGeneration"],u);const c=g(e,["includeSafetyAttributes"]);t!==void 0&&c!=null&&y(t,["parameters","includeSafetyAttributes"],c);const d=g(e,["includeRaiReason"]);t!==void 0&&d!=null&&y(t,["parameters","includeRaiReason"],d);const h=g(e,["language"]);t!==void 0&&h!=null&&y(t,["parameters","language"],h);const m=g(e,["outputMimeType"]);t!==void 0&&m!=null&&y(t,["parameters","outputOptions","mimeType"],m);const v=g(e,["outputCompressionQuality"]);if(t!==void 0&&v!=null&&y(t,["parameters","outputOptions","compressionQuality"],v),g(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=g(e,["imageSize"]);if(t!==void 0&&_!=null&&y(t,["parameters","sampleImageSize"],_),g(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function J6(e,t){const n={},r=g(e,["outputGcsUri"]);t!==void 0&&r!=null&&y(t,["parameters","storageUri"],r);const i=g(e,["negativePrompt"]);t!==void 0&&i!=null&&y(t,["parameters","negativePrompt"],i);const a=g(e,["numberOfImages"]);t!==void 0&&a!=null&&y(t,["parameters","sampleCount"],a);const l=g(e,["aspectRatio"]);t!==void 0&&l!=null&&y(t,["parameters","aspectRatio"],l);const u=g(e,["guidanceScale"]);t!==void 0&&u!=null&&y(t,["parameters","guidanceScale"],u);const c=g(e,["seed"]);t!==void 0&&c!=null&&y(t,["parameters","seed"],c);const d=g(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&y(t,["parameters","safetySetting"],d);const h=g(e,["personGeneration"]);t!==void 0&&h!=null&&y(t,["parameters","personGeneration"],h);const m=g(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&y(t,["parameters","includeSafetyAttributes"],m);const v=g(e,["includeRaiReason"]);t!==void 0&&v!=null&&y(t,["parameters","includeRaiReason"],v);const _=g(e,["language"]);t!==void 0&&_!=null&&y(t,["parameters","language"],_);const T=g(e,["outputMimeType"]);t!==void 0&&T!=null&&y(t,["parameters","outputOptions","mimeType"],T);const w=g(e,["outputCompressionQuality"]);t!==void 0&&w!=null&&y(t,["parameters","outputOptions","compressionQuality"],w);const E=g(e,["addWatermark"]);t!==void 0&&E!=null&&y(t,["parameters","addWatermark"],E);const C=g(e,["labels"]);t!==void 0&&C!=null&&y(t,["labels"],C);const O=g(e,["imageSize"]);t!==void 0&&O!=null&&y(t,["parameters","sampleImageSize"],O);const P=g(e,["enhancePrompt"]);return t!==void 0&&P!=null&&y(t,["parameters","enhancePrompt"],P),n}function X6(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=g(t,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=g(t,["config"]);return a!=null&&W6(a,n),n}function Q6(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=g(t,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=g(t,["config"]);return a!=null&&J6(a,n),n}function Z6(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>f4(l))),y(t,["generatedImages"],a)}const i=g(e,["positivePromptSafetyAttributes"]);return i!=null&&y(t,["positivePromptSafetyAttributes"],sD(i)),t}function e4(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>np(l))),y(t,["generatedImages"],a)}const i=g(e,["positivePromptSafetyAttributes"]);return i!=null&&y(t,["positivePromptSafetyAttributes"],lD(i)),t}function t4(e,t){const n={},r=g(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&y(t,["parameters","sampleCount"],r),g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=g(e,["durationSeconds"]);if(t!==void 0&&i!=null&&y(t,["parameters","durationSeconds"],i),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=g(e,["aspectRatio"]);t!==void 0&&a!=null&&y(t,["parameters","aspectRatio"],a);const l=g(e,["resolution"]);t!==void 0&&l!=null&&y(t,["parameters","resolution"],l);const u=g(e,["personGeneration"]);if(t!==void 0&&u!=null&&y(t,["parameters","personGeneration"],u),g(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=g(e,["negativePrompt"]);t!==void 0&&c!=null&&y(t,["parameters","negativePrompt"],c);const d=g(e,["enhancePrompt"]);if(t!==void 0&&d!=null&&y(t,["parameters","enhancePrompt"],d),g(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=g(e,["lastFrame"]);t!==void 0&&h!=null&&y(t,["instances[0]","lastFrame"],rp(h));const m=g(e,["referenceImages"]);if(t!==void 0&&m!=null){let v=m;Array.isArray(v)&&(v=v.map(_=>r5(_))),y(t,["instances[0]","referenceImages"],v)}if(g(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(g(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function n4(e,t){const n={},r=g(e,["numberOfVideos"]);t!==void 0&&r!=null&&y(t,["parameters","sampleCount"],r);const i=g(e,["outputGcsUri"]);t!==void 0&&i!=null&&y(t,["parameters","storageUri"],i);const a=g(e,["fps"]);t!==void 0&&a!=null&&y(t,["parameters","fps"],a);const l=g(e,["durationSeconds"]);t!==void 0&&l!=null&&y(t,["parameters","durationSeconds"],l);const u=g(e,["seed"]);t!==void 0&&u!=null&&y(t,["parameters","seed"],u);const c=g(e,["aspectRatio"]);t!==void 0&&c!=null&&y(t,["parameters","aspectRatio"],c);const d=g(e,["resolution"]);t!==void 0&&d!=null&&y(t,["parameters","resolution"],d);const h=g(e,["personGeneration"]);t!==void 0&&h!=null&&y(t,["parameters","personGeneration"],h);const m=g(e,["pubsubTopic"]);t!==void 0&&m!=null&&y(t,["parameters","pubsubTopic"],m);const v=g(e,["negativePrompt"]);t!==void 0&&v!=null&&y(t,["parameters","negativePrompt"],v);const _=g(e,["enhancePrompt"]);t!==void 0&&_!=null&&y(t,["parameters","enhancePrompt"],_);const T=g(e,["generateAudio"]);t!==void 0&&T!=null&&y(t,["parameters","generateAudio"],T);const w=g(e,["lastFrame"]);t!==void 0&&w!=null&&y(t,["instances[0]","lastFrame"],Vr(w));const E=g(e,["referenceImages"]);if(t!==void 0&&E!=null){let P=E;Array.isArray(P)&&(P=P.map(D=>i5(D))),y(t,["instances[0]","referenceImages"],P)}const C=g(e,["mask"]);t!==void 0&&C!=null&&y(t,["instances[0]","mask"],n5(C));const O=g(e,["compressionQuality"]);return t!==void 0&&O!=null&&y(t,["parameters","compressionQuality"],O),n}function r4(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["response","generateVideoResponse"]);return l!=null&&y(t,["response"],s4(l)),t}function i4(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["response"]);return l!=null&&y(t,["response"],l4(l)),t}function a4(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=g(t,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=g(t,["image"]);a!=null&&y(n,["instances[0]","image"],rp(a));const l=g(t,["video"]);l!=null&&y(n,["instances[0]","video"],fD(l));const u=g(t,["source"]);u!=null&&u4(u,n);const c=g(t,["config"]);return c!=null&&t4(c,n),n}function o4(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=g(t,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=g(t,["image"]);a!=null&&y(n,["instances[0]","image"],Vr(a));const l=g(t,["video"]);l!=null&&y(n,["instances[0]","video"],dD(l));const u=g(t,["source"]);u!=null&&c4(u,n);const c=g(t,["config"]);return c!=null&&n4(c,n),n}function s4(e){const t={},n=g(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>h4(l))),y(t,["generatedVideos"],a)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&y(t,["raiMediaFilteredReasons"],i),t}function l4(e){const t={},n=g(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>p4(l))),y(t,["generatedVideos"],a)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&y(t,["raiMediaFilteredReasons"],i),t}function u4(e,t){const n={},r=g(e,["prompt"]);t!==void 0&&r!=null&&y(t,["instances[0]","prompt"],r);const i=g(e,["image"]);t!==void 0&&i!=null&&y(t,["instances[0]","image"],rp(i));const a=g(e,["video"]);return t!==void 0&&a!=null&&y(t,["instances[0]","video"],fD(a)),n}function c4(e,t){const n={},r=g(e,["prompt"]);t!==void 0&&r!=null&&y(t,["instances[0]","prompt"],r);const i=g(e,["image"]);t!==void 0&&i!=null&&y(t,["instances[0]","image"],Vr(i));const a=g(e,["video"]);return t!==void 0&&a!=null&&y(t,["instances[0]","video"],dD(a)),n}function f4(e){const t={},n=g(e,["_self"]);n!=null&&y(t,["image"],T4(n));const r=g(e,["raiFilteredReason"]);r!=null&&y(t,["raiFilteredReason"],r);const i=g(e,["_self"]);return i!=null&&y(t,["safetyAttributes"],sD(i)),t}function np(e){const t={},n=g(e,["_self"]);n!=null&&y(t,["image"],oD(n));const r=g(e,["raiFilteredReason"]);r!=null&&y(t,["raiFilteredReason"],r);const i=g(e,["_self"]);i!=null&&y(t,["safetyAttributes"],lD(i));const a=g(e,["prompt"]);return a!=null&&y(t,["enhancedPrompt"],a),t}function d4(e){const t={},n=g(e,["_self"]);n!=null&&y(t,["mask"],oD(n));const r=g(e,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),y(t,["labels"],i)}return t}function h4(e){const t={},n=g(e,["video"]);return n!=null&&y(t,["video"],e5(n)),t}function p4(e){const t={},n=g(e,["_self"]);return n!=null&&y(t,["video"],t5(n)),t}function m4(e){const t={},n=g(e,["modelSelectionConfig"]);n!=null&&y(t,["modelConfig"],n);const r=g(e,["responseJsonSchema"]);r!=null&&y(t,["responseJsonSchema"],r);const i=g(e,["audioTimestamp"]);i!=null&&y(t,["audioTimestamp"],i);const a=g(e,["candidateCount"]);a!=null&&y(t,["candidateCount"],a);const l=g(e,["enableAffectiveDialog"]);l!=null&&y(t,["enableAffectiveDialog"],l);const u=g(e,["frequencyPenalty"]);u!=null&&y(t,["frequencyPenalty"],u);const c=g(e,["logprobs"]);c!=null&&y(t,["logprobs"],c);const d=g(e,["maxOutputTokens"]);d!=null&&y(t,["maxOutputTokens"],d);const h=g(e,["mediaResolution"]);h!=null&&y(t,["mediaResolution"],h);const m=g(e,["presencePenalty"]);m!=null&&y(t,["presencePenalty"],m);const v=g(e,["responseLogprobs"]);v!=null&&y(t,["responseLogprobs"],v);const _=g(e,["responseMimeType"]);_!=null&&y(t,["responseMimeType"],_);const T=g(e,["responseModalities"]);T!=null&&y(t,["responseModalities"],T);const w=g(e,["responseSchema"]);w!=null&&y(t,["responseSchema"],w);const E=g(e,["routingConfig"]);E!=null&&y(t,["routingConfig"],E);const C=g(e,["seed"]);C!=null&&y(t,["seed"],C);const O=g(e,["speechConfig"]);O!=null&&y(t,["speechConfig"],uD(O));const P=g(e,["stopSequences"]);P!=null&&y(t,["stopSequences"],P);const D=g(e,["temperature"]);D!=null&&y(t,["temperature"],D);const I=g(e,["thinkingConfig"]);I!=null&&y(t,["thinkingConfig"],I);const R=g(e,["topK"]);R!=null&&y(t,["topK"],R);const k=g(e,["topP"]);if(k!=null&&y(t,["topP"],k),g(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function g4(e,t){const n={},r=g(t,["model"]);return r!=null&&y(n,["_url","name"],Ve(e,r)),n}function v4(e,t){const n={},r=g(t,["model"]);return r!=null&&y(n,["_url","name"],Ve(e,r)),n}function y4(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function b4(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function _4(e){const t={},n=g(e,["aspectRatio"]);n!=null&&y(t,["aspectRatio"],n);const r=g(e,["imageSize"]);if(r!=null&&y(t,["imageSize"],r),g(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function S4(e){const t={},n=g(e,["aspectRatio"]);n!=null&&y(t,["aspectRatio"],n);const r=g(e,["imageSize"]);r!=null&&y(t,["imageSize"],r);const i=g(e,["outputMimeType"]);i!=null&&y(t,["imageOutputOptions","mimeType"],i);const a=g(e,["outputCompressionQuality"]);return a!=null&&y(t,["imageOutputOptions","compressionQuality"],a),t}function T4(e){const t={},n=g(e,["bytesBase64Encoded"]);n!=null&&y(t,["imageBytes"],to(n));const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function oD(e){const t={},n=g(e,["gcsUri"]);n!=null&&y(t,["gcsUri"],n);const r=g(e,["bytesBase64Encoded"]);r!=null&&y(t,["imageBytes"],to(r));const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function rp(e){const t={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=g(e,["imageBytes"]);n!=null&&y(t,["bytesBase64Encoded"],to(n));const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function Vr(e){const t={},n=g(e,["gcsUri"]);n!=null&&y(t,["gcsUri"],n);const r=g(e,["imageBytes"]);r!=null&&y(t,["bytesBase64Encoded"],to(r));const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function E4(e,t,n){const r={},i=g(t,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const a=g(t,["pageToken"]);n!==void 0&&a!=null&&y(n,["_query","pageToken"],a);const l=g(t,["filter"]);n!==void 0&&l!=null&&y(n,["_query","filter"],l);const u=g(t,["queryBase"]);return n!==void 0&&u!=null&&y(n,["_url","models_url"],QN(e,u)),r}function w4(e,t,n){const r={},i=g(t,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const a=g(t,["pageToken"]);n!==void 0&&a!=null&&y(n,["_query","pageToken"],a);const l=g(t,["filter"]);n!==void 0&&l!=null&&y(n,["_query","filter"],l);const u=g(t,["queryBase"]);return n!==void 0&&u!=null&&y(n,["_url","models_url"],QN(e,u)),r}function x4(e,t){const n={},r=g(t,["config"]);return r!=null&&E4(e,r,n),n}function A4(e,t){const n={},r=g(t,["config"]);return r!=null&&w4(e,r,n),n}function C4(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["_self"]);if(i!=null){let a=ZN(i);Array.isArray(a)&&(a=a.map(l=>I0(l))),y(t,["models"],a)}return t}function M4(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["_self"]);if(i!=null){let a=ZN(i);Array.isArray(a)&&(a=a.map(l=>N0(l))),y(t,["models"],a)}return t}function P4(e){const t={},n=g(e,["maskMode"]);n!=null&&y(t,["maskMode"],n);const r=g(e,["segmentationClasses"]);r!=null&&y(t,["maskClasses"],r);const i=g(e,["maskDilation"]);return i!=null&&y(t,["dilation"],i),t}function I0(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["displayName"]);r!=null&&y(t,["displayName"],r);const i=g(e,["description"]);i!=null&&y(t,["description"],i);const a=g(e,["version"]);a!=null&&y(t,["version"],a);const l=g(e,["_self"]);l!=null&&y(t,["tunedModelInfo"],G4(l));const u=g(e,["inputTokenLimit"]);u!=null&&y(t,["inputTokenLimit"],u);const c=g(e,["outputTokenLimit"]);c!=null&&y(t,["outputTokenLimit"],c);const d=g(e,["supportedGenerationMethods"]);d!=null&&y(t,["supportedActions"],d);const h=g(e,["temperature"]);h!=null&&y(t,["temperature"],h);const m=g(e,["maxTemperature"]);m!=null&&y(t,["maxTemperature"],m);const v=g(e,["topP"]);v!=null&&y(t,["topP"],v);const _=g(e,["topK"]);_!=null&&y(t,["topK"],_);const T=g(e,["thinking"]);return T!=null&&y(t,["thinking"],T),t}function N0(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["displayName"]);r!=null&&y(t,["displayName"],r);const i=g(e,["description"]);i!=null&&y(t,["description"],i);const a=g(e,["versionId"]);a!=null&&y(t,["version"],a);const l=g(e,["deployedModels"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(v=>$6(v))),y(t,["endpoints"],m)}const u=g(e,["labels"]);u!=null&&y(t,["labels"],u);const c=g(e,["_self"]);c!=null&&y(t,["tunedModelInfo"],V4(c));const d=g(e,["defaultCheckpointId"]);d!=null&&y(t,["defaultCheckpointId"],d);const h=g(e,["checkpoints"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(v=>v)),y(t,["checkpoints"],m)}return t}function O4(e){const t={},n=g(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const a=g(e,["fileData"]);a!=null&&y(t,["fileData"],F6(a));const l=g(e,["functionCall"]);l!=null&&y(t,["functionCall"],H6(l));const u=g(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const c=g(e,["inlineData"]);c!=null&&y(t,["inlineData"],m6(c));const d=g(e,["text"]);d!=null&&y(t,["text"],d);const h=g(e,["thought"]);h!=null&&y(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const v=g(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function I4(e){const t={},n=g(e,["productImage"]);return n!=null&&y(t,["image"],Vr(n)),t}function N4(e,t){const n={},r=g(e,["numberOfImages"]);t!==void 0&&r!=null&&y(t,["parameters","sampleCount"],r);const i=g(e,["baseSteps"]);t!==void 0&&i!=null&&y(t,["parameters","baseSteps"],i);const a=g(e,["outputGcsUri"]);t!==void 0&&a!=null&&y(t,["parameters","storageUri"],a);const l=g(e,["seed"]);t!==void 0&&l!=null&&y(t,["parameters","seed"],l);const u=g(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&y(t,["parameters","safetySetting"],u);const c=g(e,["personGeneration"]);t!==void 0&&c!=null&&y(t,["parameters","personGeneration"],c);const d=g(e,["addWatermark"]);t!==void 0&&d!=null&&y(t,["parameters","addWatermark"],d);const h=g(e,["outputMimeType"]);t!==void 0&&h!=null&&y(t,["parameters","outputOptions","mimeType"],h);const m=g(e,["outputCompressionQuality"]);t!==void 0&&m!=null&&y(t,["parameters","outputOptions","compressionQuality"],m);const v=g(e,["enhancePrompt"]);t!==void 0&&v!=null&&y(t,["parameters","enhancePrompt"],v);const _=g(e,["labels"]);return t!==void 0&&_!=null&&y(t,["labels"],_),n}function D4(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=g(t,["source"]);i!=null&&k4(i,n);const a=g(t,["config"]);return a!=null&&N4(a,n),n}function R4(e){const t={},n=g(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>np(i))),y(t,["generatedImages"],r)}return t}function k4(e,t){const n={},r=g(e,["prompt"]);t!==void 0&&r!=null&&y(t,["instances[0]","prompt"],r);const i=g(e,["personImage"]);t!==void 0&&i!=null&&y(t,["instances[0]","personImage","image"],Vr(i));const a=g(e,["productImages"]);if(t!==void 0&&a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>I4(u))),y(t,["instances[0]","productImages"],l)}return n}function L4(e){const t={},n=g(e,["referenceImage"]);n!=null&&y(t,["referenceImage"],Vr(n));const r=g(e,["referenceId"]);r!=null&&y(t,["referenceId"],r);const i=g(e,["referenceType"]);i!=null&&y(t,["referenceType"],i);const a=g(e,["maskImageConfig"]);a!=null&&y(t,["maskImageConfig"],P4(a));const l=g(e,["controlImageConfig"]);l!=null&&y(t,["controlImageConfig"],T6(l));const u=g(e,["styleImageConfig"]);u!=null&&y(t,["styleImageConfig"],u);const c=g(e,["subjectImageConfig"]);return c!=null&&y(t,["subjectImageConfig"],c),t}function sD(e){const t={},n=g(e,["safetyAttributes","categories"]);n!=null&&y(t,["categories"],n);const r=g(e,["safetyAttributes","scores"]);r!=null&&y(t,["scores"],r);const i=g(e,["contentType"]);return i!=null&&y(t,["contentType"],i),t}function lD(e){const t={},n=g(e,["safetyAttributes","categories"]);n!=null&&y(t,["categories"],n);const r=g(e,["safetyAttributes","scores"]);r!=null&&y(t,["scores"],r);const i=g(e,["contentType"]);return i!=null&&y(t,["contentType"],i),t}function U4(e){const t={},n=g(e,["category"]);if(n!=null&&y(t,["category"],n),g(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(e,["threshold"]);return r!=null&&y(t,["threshold"],r),t}function j4(e){const t={},n=g(e,["image"]);return n!=null&&y(t,["image"],Vr(n)),t}function q4(e,t){const n={},r=g(e,["mode"]);t!==void 0&&r!=null&&y(t,["parameters","mode"],r);const i=g(e,["maxPredictions"]);t!==void 0&&i!=null&&y(t,["parameters","maxPredictions"],i);const a=g(e,["confidenceThreshold"]);t!==void 0&&a!=null&&y(t,["parameters","confidenceThreshold"],a);const l=g(e,["maskDilation"]);t!==void 0&&l!=null&&y(t,["parameters","maskDilation"],l);const u=g(e,["binaryColorThreshold"]);t!==void 0&&u!=null&&y(t,["parameters","binaryColorThreshold"],u);const c=g(e,["labels"]);return t!==void 0&&c!=null&&y(t,["labels"],c),n}function z4(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=g(t,["source"]);i!=null&&$4(i,n);const a=g(t,["config"]);return a!=null&&q4(a,n),n}function B4(e){const t={},n=g(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>d4(i))),y(t,["generatedMasks"],r)}return t}function $4(e,t){const n={},r=g(e,["prompt"]);t!==void 0&&r!=null&&y(t,["instances[0]","prompt"],r);const i=g(e,["image"]);t!==void 0&&i!=null&&y(t,["instances[0]","image"],Vr(i));const a=g(e,["scribbleImage"]);return t!==void 0&&a!=null&&y(t,["instances[0]","scribble"],j4(a)),n}function uD(e){const t={},n=g(e,["languageCode"]);n!=null&&y(t,["languageCode"],n);const r=g(e,["voiceConfig"]);if(r!=null&&y(t,["voiceConfig"],r),g(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function F4(e){const t={},n=g(e,["functionCallingConfig"]);n!=null&&y(t,["functionCallingConfig"],G6(n));const r=g(e,["retrievalConfig"]);return r!=null&&y(t,["retrievalConfig"],r),t}function H4(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["googleSearchRetrieval"]);r!=null&&y(t,["googleSearchRetrieval"],r);const i=g(e,["computerUse"]);i!=null&&y(t,["computerUse"],i);const a=g(e,["fileSearch"]);a!=null&&y(t,["fileSearch"],a);const l=g(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],y4(u));const c=g(e,["googleSearch"]);c!=null&&y(t,["googleSearch"],b4(c));const d=g(e,["urlContext"]);return d!=null&&y(t,["urlContext"],d),t}function cD(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>V6(v))),y(t,["functionDeclarations"],m)}const r=g(e,["retrieval"]);r!=null&&y(t,["retrieval"],r);const i=g(e,["googleSearchRetrieval"]);i!=null&&y(t,["googleSearchRetrieval"],i);const a=g(e,["computerUse"]);if(a!=null&&y(t,["computerUse"],a),g(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(e,["codeExecution"]);l!=null&&y(t,["codeExecution"],l);const u=g(e,["enterpriseWebSearch"]);u!=null&&y(t,["enterpriseWebSearch"],u);const c=g(e,["googleMaps"]);c!=null&&y(t,["googleMaps"],c);const d=g(e,["googleSearch"]);d!=null&&y(t,["googleSearch"],d);const h=g(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}function G4(e){const t={},n=g(e,["baseModel"]);n!=null&&y(t,["baseModel"],n);const r=g(e,["createTime"]);r!=null&&y(t,["createTime"],r);const i=g(e,["updateTime"]);return i!=null&&y(t,["updateTime"],i),t}function V4(e){const t={},n=g(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&y(t,["baseModel"],n);const r=g(e,["createTime"]);r!=null&&y(t,["createTime"],r);const i=g(e,["updateTime"]);return i!=null&&y(t,["updateTime"],i),t}function K4(e,t){const n={},r=g(e,["displayName"]);t!==void 0&&r!=null&&y(t,["displayName"],r);const i=g(e,["description"]);t!==void 0&&i!=null&&y(t,["description"],i);const a=g(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&y(t,["defaultCheckpointId"],a),n}function Y4(e,t){const n={},r=g(e,["displayName"]);t!==void 0&&r!=null&&y(t,["displayName"],r);const i=g(e,["description"]);t!==void 0&&i!=null&&y(t,["description"],i);const a=g(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&y(t,["defaultCheckpointId"],a),n}function W4(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","name"],Ve(e,r));const i=g(t,["config"]);return i!=null&&K4(i,n),n}function J4(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=g(t,["config"]);return i!=null&&Y4(i,n),n}function X4(e,t){const n={},r=g(e,["outputGcsUri"]);t!==void 0&&r!=null&&y(t,["parameters","storageUri"],r);const i=g(e,["safetyFilterLevel"]);t!==void 0&&i!=null&&y(t,["parameters","safetySetting"],i);const a=g(e,["personGeneration"]);t!==void 0&&a!=null&&y(t,["parameters","personGeneration"],a);const l=g(e,["includeRaiReason"]);t!==void 0&&l!=null&&y(t,["parameters","includeRaiReason"],l);const u=g(e,["outputMimeType"]);t!==void 0&&u!=null&&y(t,["parameters","outputOptions","mimeType"],u);const c=g(e,["outputCompressionQuality"]);t!==void 0&&c!=null&&y(t,["parameters","outputOptions","compressionQuality"],c);const d=g(e,["enhanceInputImage"]);t!==void 0&&d!=null&&y(t,["parameters","upscaleConfig","enhanceInputImage"],d);const h=g(e,["imagePreservationFactor"]);t!==void 0&&h!=null&&y(t,["parameters","upscaleConfig","imagePreservationFactor"],h);const m=g(e,["labels"]);t!==void 0&&m!=null&&y(t,["labels"],m);const v=g(e,["numberOfImages"]);t!==void 0&&v!=null&&y(t,["parameters","sampleCount"],v);const _=g(e,["mode"]);return t!==void 0&&_!=null&&y(t,["parameters","mode"],_),n}function Q4(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],Ve(e,r));const i=g(t,["image"]);i!=null&&y(n,["instances[0]","image"],Vr(i));const a=g(t,["upscaleFactor"]);a!=null&&y(n,["parameters","upscaleConfig","upscaleFactor"],a);const l=g(t,["config"]);return l!=null&&X4(l,n),n}function Z4(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>np(a))),y(t,["generatedImages"],i)}return t}function e5(e){const t={},n=g(e,["uri"]);n!=null&&y(t,["uri"],n);const r=g(e,["encodedVideo"]);r!=null&&y(t,["videoBytes"],to(r));const i=g(e,["encoding"]);return i!=null&&y(t,["mimeType"],i),t}function t5(e){const t={},n=g(e,["gcsUri"]);n!=null&&y(t,["uri"],n);const r=g(e,["bytesBase64Encoded"]);r!=null&&y(t,["videoBytes"],to(r));const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function n5(e){const t={},n=g(e,["image"]);n!=null&&y(t,["_self"],Vr(n));const r=g(e,["maskMode"]);return r!=null&&y(t,["maskMode"],r),t}function r5(e){const t={},n=g(e,["image"]);n!=null&&y(t,["image"],rp(n));const r=g(e,["referenceType"]);return r!=null&&y(t,["referenceType"],r),t}function i5(e){const t={},n=g(e,["image"]);n!=null&&y(t,["image"],Vr(n));const r=g(e,["referenceType"]);return r!=null&&y(t,["referenceType"],r),t}function fD(e){const t={},n=g(e,["uri"]);n!=null&&y(t,["uri"],n);const r=g(e,["videoBytes"]);r!=null&&y(t,["encodedVideo"],to(r));const i=g(e,["mimeType"]);return i!=null&&y(t,["encoding"],i),t}function dD(e){const t={},n=g(e,["uri"]);n!=null&&y(t,["gcsUri"],n);const r=g(e,["videoBytes"]);r!=null&&y(t,["bytesBase64Encoded"],to(r));const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}const a5="Content-Type",o5="X-Server-Timeout",s5="User-Agent",D0="x-goog-api-client",l5="1.30.0",u5=`google-genai-sdk/${l5}`,c5="v1beta1",f5="v1beta",f1=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class d5{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:c5,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:f5,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[l,u]of Object.entries(t.queryParams))i.searchParams.append(l,String(u));let a={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=t.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),t.abortSignal),this.unaryApiCall(i,a,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=t.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),t.abortSignal),this.streamApiCall(i,a,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,i){if(n&&n.timeout||i){const a=new AbortController,l=a.signal;if(n.timeout&&n?.timeout>0){const u=setTimeout(()=>a.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),t.signal=l}return n&&n.extraBody!==null&&h5(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await d1(i),new M0(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await d1(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){var n;return nl(this,arguments,function*(){const i=(n=t?.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";for(;;){const{done:u,value:c}=yield ut(i.read());if(u){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=a.decode(c,{stream:!0});try{const m=JSON.parse(d);if("error"in m){const v=JSON.parse(JSON.stringify(m.error)),_=v.status,T=v.code,w=`got status: ${_}. ${JSON.stringify(m)}`;if(T>=400&&T<600)throw new ep({message:w,status:T})}}catch(m){if(m.name==="ApiError")throw m}l+=d;let h=l.match(f1);for(;h;){const m=h[1];try{const v=new Response(m,{headers:t?.headers,status:t?.status,statusText:t?.statusText});yield yield ut(new M0(v)),l=l.slice(h[0].length),h=l.match(f1)}catch(v){throw new Error(`exception parsing stream chunk ${m}. ${v}`)}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=u5+" "+this.clientOptions.userAgentExtra;return t[s5]=n,t[D0]=n,t[a5]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[i,a]of Object.entries(t.headers))r.append(i,a);t.timeout&&t.timeout>0&&r.append(o5,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,l=await a.stat(t);i.sizeBytes=String(l.size);const u=(r=n?.mimeType)!==null&&r!==void 0?r:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c={file:i},d=this.getFileName(t),h=he("upload/v1beta/files",c._url),m=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,d,c,n?.httpOptions);return a.upload(t,m,this)}async uploadFileToFileSearchStore(t,n,r){var i;const a=this.clientOptions.uploader,l=await a.stat(n),u=String(l.size),c=(i=r?.mimeType)!==null&&i!==void 0?i:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${t}:uploadToFileSearchStore`,h=this.getFileName(n),m={};r?.customMetadata&&(m.customMetadata=r.customMetadata),r?.chunkingConfig&&(m.chunkingConfig=r.chunkingConfig);const v=await this.fetchUploadUrl(d,u,c,h,m,r?.httpOptions);return a.uploadToFileSearchStore(n,v,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,i,a,l){var u;let c={};l?c=l:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:t,body:JSON.stringify(a),httpMethod:"POST",httpOptions:c});if(!d||!d?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=d?.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function d1(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new ep({message:i,status:n}):new Error(i)}}function h5(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const a=JSON.parse(e.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,l){const u=Object.assign({},a);for(const c in l)if(Object.prototype.hasOwnProperty.call(l,c)){const d=l[c],h=u[c];d&&typeof d=="object"&&!Array.isArray(d)&&h&&typeof h=="object"&&!Array.isArray(h)?u[c]=r(h,d):(h&&d&&typeof h!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof d}. Overwriting.`),u[c]=d)}return u}const i=r(n,t);e.body=JSON.stringify(i)}const p5="mcp_used/unknown";let m5=!1;function hD(e){for(const t of e)if(g5(t)||typeof t=="object"&&"inputSchema"in t)return!0;return m5}function pD(e){var t;const n=(t=e[D0])!==null&&t!==void 0?t:"";e[D0]=(n+` ${p5}`).trimStart()}function g5(e){return e!==null&&typeof e=="object"&&e instanceof f_}function v5(e,t=100){return nl(this,arguments,function*(){let r,i=0;for(;i<t;){const a=yield ut(e.listTools({cursor:r}));for(const l of a.tools)yield yield ut(l),i++;if(!a.nextCursor)break;r=a.nextCursor}})}class f_{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new f_(t,n)}async initialize(){var t,n,r,i;if(this.mcpTools.length>0)return;const a={},l=[];for(const h of this.mcpClients)try{for(var u=!0,c=(n=void 0,Zu(v5(h))),d;d=await c.next(),t=d.done,!t;u=!0){i=d.value,u=!1;const m=i;l.push(m);const v=m.name;if(a[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);a[v]=h}}catch(m){n={error:m}}finally{try{!u&&!t&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),uG(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}async function y5(e,t,n){const r=new tG;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),t(r)}class b5{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),l=T5(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const h=new Promise(P=>{d=P}),m=t.callbacks,v=function(){d({})},_=this.apiClient,T={onopen:v,onmessage:P=>{y5(_,m.onmessage,P)},onerror:(n=m?.onerror)!==null&&n!==void 0?n:function(P){},onclose:(r=m?.onclose)!==null&&r!==void 0?r:function(P){}},w=this.webSocketFactory.create(c,S5(l),T);w.connect(),await h;const O={setup:{model:Ve(this.apiClient,t.model)}};return w.send(JSON.stringify(O)),new _5(w,this.apiClient)}}class _5{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=o6(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=a6(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Js.PLAY)}pause(){this.sendPlaybackControl(Js.PAUSE)}stop(){this.sendPlaybackControl(Js.STOP)}resetContext(){this.sendPlaybackControl(Js.RESET_CONTEXT)}close(){this.conn.close()}}function S5(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function T5(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}const E5="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function w5(e,t,n){const r=new eG;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(e.isVertexAI()){const l=u6(a);Object.assign(r,l)}else Object.assign(r,a);t(r)}class x5{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new b5(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,i,a,l,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const m=this.apiClient.getHeaders();t.config&&t.config.tools&&hD(t.config.tools)&&pD(m);const v=P5(m);if(this.apiClient.isVertexAI())h=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(v,h);else{const $=this.apiClient.getApiKey();let re="BidiGenerateContent",F="key";$?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),re="BidiGenerateContentConstrained",F="access_token"),h=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${re}?${F}=${$}`}let _=()=>{};const T=new Promise($=>{_=$}),w=t.callbacks,E=function(){var $;($=w?.onopen)===null||$===void 0||$.call(w),_({})},C=this.apiClient,O={onopen:E,onmessage:$=>{w5(C,w.onmessage,$)},onerror:(n=w?.onerror)!==null&&n!==void 0?n:function($){},onclose:(r=w?.onclose)!==null&&r!==void 0?r:function($){}},P=this.webSocketFactory.create(h,M5(v),O);P.connect(),await T;let D=Ve(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const $=this.apiClient.getProject(),re=this.apiClient.getLocation();D=`projects/${$}/locations/${re}/`+D}let I={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Xd.AUDIO]}:t.config.responseModalities=[Xd.AUDIO]),!((a=t.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const R=(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],k=[];for(const $ of R)if(this.isCallableTool($)){const re=$;k.push(await re.tool())}else k.push($);k.length>0&&(t.config.tools=k);const z={model:D,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?I=i6(this.apiClient,z):I=r6(this.apiClient,z),delete I.config,P.send(JSON.stringify(I)),new C5(P,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const A5={turnComplete:!0};class C5{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Cr(n.turns),t.isVertexAI()||(r=r.map(i=>tp(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!t.isVertexAI()&&!("id"in a))throw new Error(E5)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},A5),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:l6(t)}:n={realtimeInput:s6(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function M5(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function P5(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}const h1=10;function p1(e){var t,n,r;if(!((t=e?.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const l of(n=e?.tools)!==null&&n!==void 0?n:[])if(rl(l)){i=!0;break}if(!i)return!0;const a=(r=e?.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function rl(e){return"callTool"in e&&typeof e.callTool=="function"}function O5(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>rl(i)))!==null&&r!==void 0?r:!1}function m1(e){var t;const n=[];return!((t=e?.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,i)=>{if(rl(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function g1(e){var t;return!(!((t=e?.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}class I5 extends ua{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,i,a,l,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!O5(n)||p1(n.config))return await this.generateContentInternal(c);const d=m1(n);if(d.length>0){const w=d.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let h,m;const v=Cr(c.contents),_=(a=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:h1;let T=0;for(;T<_&&(h=await this.generateContentInternal(c),!(!h.functionCalls||h.functionCalls.length===0));){const w=h.candidates[0].content,E=[];for(const C of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(rl(C)){const P=await C.callTool(h.functionCalls);E.push(...P)}T++,m={role:"user",parts:E},c.contents=Cr(c.contents),c.contents.push(w),c.contents.push(m),g1(c.config)&&(v.push(w),v.push(m))}return g1(c.config)&&(h.automaticFunctionCallingHistory=v),h},this.generateContentStream=async n=>{var r,i,a,l,u;if(this.maybeMoveToResponseJsonSchem(n),p1(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const c=m1(n);if(c.length>0){const m=c.map(v=>`tools[${v}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(a=(i=(r=n?.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,h=(u=(l=n?.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const l=[];if(r?.generatedImages)for(const c of r.generatedImages)c&&c?.safetyAttributes&&((i=c?.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=c?.safetyAttributes:l.push(c);let u;return a?u={generatedImages:l,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Wo(Zi.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,l,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,i;const a=(n=t.config)===null||n===void 0?void 0:n.tools;if(!a)return t;const l=await Promise.all(a.map(async c=>rl(c)?await c.tool():c)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(u.config.tools=l,t.config&&t.config.tools&&hD(t.config.tools)){const c=(i=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),pD(d),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(t){var n,r,i;const a=new Map;for(const l of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(rl(l)){const u=l,c=await u.tool();for(const d of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(a.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);a.set(d.name,u)}}return a}async processAfcStream(t){var n,r,i;const a=(i=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:h1;let l=!1,u=0;const c=await this.initAfcToolsMap(t);return(function(d,h,m){var v,_;return nl(this,arguments,function*(){for(var T,w,E,C;u<a;){l&&(u++,l=!1);const I=yield ut(d.processParamsMaybeAddMcpUsage(m)),R=yield ut(d.generateContentStreamInternal(I)),k=[],z=[];try{for(var O=!0,P=(w=void 0,Zu(R)),D;D=yield ut(P.next()),T=D.done,!T;O=!0){C=D.value,O=!1;const $=C;if(yield yield ut($),$.candidates&&(!((v=$.candidates[0])===null||v===void 0)&&v.content)){z.push($.candidates[0].content);for(const re of(_=$.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(u<a&&re.functionCall){if(!re.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(re.functionCall.name)){const F=yield ut(h.get(re.functionCall.name).callTool([re.functionCall]));k.push(...F)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${re.functionCall.name}`)}}}}catch($){w={error:$}}finally{try{!O&&!T&&(E=P.return)&&(yield ut(E.call(P)))}finally{if(w)throw w.error}}if(k.length>0){l=!0;const $=new Iu;$.candidates=[{content:{role:"user",parts:k}}],yield yield ut($);const re=[];re.push(...z),re.push({role:"user",parts:k});const F=Cr(m.contents).concat(re);m.contents=F}else break}})})(this,c,t)}async generateContentInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=l1(this.apiClient,t);return u=he("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=c1(h),v=new Iu;return Object.assign(v,m),v})}else{const d=s1(this.apiClient,t);return u=he("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=u1(h),v=new Iu;return Object.assign(v,m),v})}}async generateContentStreamInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=l1(this.apiClient,t);return u=he("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(m){return nl(this,arguments,function*(){var v,_,T,w;try{for(var E=!0,C=Zu(m),O;O=yield ut(C.next()),v=O.done,!v;E=!0){w=O.value,E=!1;const P=w,D=c1(yield ut(P.json()));D.sdkHttpResponse={headers:P.headers};const I=new Iu;Object.assign(I,D),yield yield ut(I)}}catch(P){_={error:P}}finally{try{!E&&!v&&(T=C.return)&&(yield ut(T.call(C)))}finally{if(_)throw _.error}}})})}else{const d=s1(this.apiClient,t);return u=he("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),l.then(function(m){return nl(this,arguments,function*(){var v,_,T,w;try{for(var E=!0,C=Zu(m),O;O=yield ut(C.next()),v=O.done,!v;E=!0){w=O.value,E=!1;const P=w,D=u1(yield ut(P.json()));D.sdkHttpResponse={headers:P.headers};const I=new Iu;Object.assign(I,D),yield yield ut(I)}}catch(P){_={error:P}}finally{try{!E&&!v&&(T=C.return)&&(yield ut(T.call(C)))}finally{if(_)throw _.error}}})})}}async embedContent(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=q6(this.apiClient,t);return u=he("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=B6(h),v=new GC;return Object.assign(v,m),v})}else{const d=j6(this.apiClient,t);return u=he("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=z6(h),v=new GC;return Object.assign(v,m),v})}}async generateImagesInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Q6(this.apiClient,t);return u=he("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=e4(h),v=new VC;return Object.assign(v,m),v})}else{const d=X6(this.apiClient,t);return u=he("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=Z6(h),v=new VC;return Object.assign(v,m),v})}}async editImageInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=R6(this.apiClient,t);return a=he("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=k6(c),h=new FH;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=Q4(this.apiClient,t);return a=he("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=Z4(c),h=new HH;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=D4(this.apiClient,t);return a=he("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=R4(c),h=new GH;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=z4(this.apiClient,t);return a=he("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=B4(c),h=new VH;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=v4(this.apiClient,t);return u=he("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>N0(h))}else{const d=g4(this.apiClient,t);return u=he("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>I0(h))}}async listInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=A4(this.apiClient,t);return u=he("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=M4(h),v=new KC;return Object.assign(v,m),v})}else{const d=x4(this.apiClient,t);return u=he("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=C4(h),v=new KC;return Object.assign(v,m),v})}}async update(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=J4(this.apiClient,t);return u=he("{model}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>N0(h))}else{const d=W4(this.apiClient,t);return u=he("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>I0(h))}}async delete(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=O6(this.apiClient,t);return u=he("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=N6(h),v=new YC;return Object.assign(v,m),v})}else{const d=P6(this.apiClient,t);return u=he("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=I6(h),v=new YC;return Object.assign(v,m),v})}}async countTokens(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=A6(this.apiClient,t);return u=he("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=M6(h),v=new WC;return Object.assign(v,m),v})}else{const d=x6(this.apiClient,t);return u=he("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=C6(h),v=new WC;return Object.assign(v,m),v})}}async computeTokens(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=y6(this.apiClient,t);return a=he("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=b6(c),h=new KH;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=o4(this.apiClient,t);return u=he("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>{const m=i4(h),v=new Qd;return Object.assign(v,m),v})}else{const d=a4(this.apiClient,t);return u=he("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>{const m=r4(h),v=new Qd;return Object.assign(v,m),v})}}}class N5 extends ua{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=UH(t);return u=he("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l}else{const d=LH(t);return u=he("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l}}async fetchPredictVideosOperationInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=PH(t);return a=he("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}function D5(e){const t={},n=g(e,["data"]);if(n!=null&&y(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function R5(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>F5(a))),y(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&y(t,["role"],r),t}function k5(e,t,n){const r={},i=g(t,["expireTime"]);n!==void 0&&i!=null&&y(n,["expireTime"],i);const a=g(t,["newSessionExpireTime"]);n!==void 0&&a!=null&&y(n,["newSessionExpireTime"],a);const l=g(t,["uses"]);n!==void 0&&l!=null&&y(n,["uses"],l);const u=g(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&y(n,["bidiGenerateContentSetup"],$5(e,u));const c=g(t,["lockAdditionalFields"]);return n!==void 0&&c!=null&&y(n,["fieldMask"],c),r}function L5(e,t){const n={},r=g(t,["config"]);return r!=null&&y(n,["config"],k5(e,r,n)),n}function U5(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function j5(e){const t={},n=g(e,["id"]);n!=null&&y(t,["id"],n);const r=g(e,["args"]);r!=null&&y(t,["args"],r);const i=g(e,["name"]);if(i!=null&&y(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function q5(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function z5(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function B5(e,t){const n={},r=g(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],r);const i=g(e,["responseModalities"]);t!==void 0&&i!=null&&y(t,["setup","generationConfig","responseModalities"],i);const a=g(e,["temperature"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","temperature"],a);const l=g(e,["topP"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","topP"],l);const u=g(e,["topK"]);t!==void 0&&u!=null&&y(t,["setup","generationConfig","topK"],u);const c=g(e,["maxOutputTokens"]);t!==void 0&&c!=null&&y(t,["setup","generationConfig","maxOutputTokens"],c);const d=g(e,["mediaResolution"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","mediaResolution"],d);const h=g(e,["seed"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","seed"],h);const m=g(e,["speechConfig"]);t!==void 0&&m!=null&&y(t,["setup","generationConfig","speechConfig"],c_(m));const v=g(e,["thinkingConfig"]);t!==void 0&&v!=null&&y(t,["setup","generationConfig","thinkingConfig"],v);const _=g(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],_);const T=g(e,["systemInstruction"]);t!==void 0&&T!=null&&y(t,["setup","systemInstruction"],R5(Sn(T)));const w=g(e,["tools"]);if(t!==void 0&&w!=null){let R=wl(w);Array.isArray(R)&&(R=R.map(k=>G5(El(k)))),y(t,["setup","tools"],R)}const E=g(e,["sessionResumption"]);t!==void 0&&E!=null&&y(t,["setup","sessionResumption"],H5(E));const C=g(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&y(t,["setup","inputAudioTranscription"],C);const O=g(e,["outputAudioTranscription"]);t!==void 0&&O!=null&&y(t,["setup","outputAudioTranscription"],O);const P=g(e,["realtimeInputConfig"]);t!==void 0&&P!=null&&y(t,["setup","realtimeInputConfig"],P);const D=g(e,["contextWindowCompression"]);t!==void 0&&D!=null&&y(t,["setup","contextWindowCompression"],D);const I=g(e,["proactivity"]);return t!==void 0&&I!=null&&y(t,["setup","proactivity"],I),n}function $5(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["setup","model"],Ve(e,r));const i=g(t,["config"]);return i!=null&&y(n,["config"],B5(i,n)),n}function F5(e){const t={},n=g(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const a=g(e,["fileData"]);a!=null&&y(t,["fileData"],U5(a));const l=g(e,["functionCall"]);l!=null&&y(t,["functionCall"],j5(l));const u=g(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const c=g(e,["inlineData"]);c!=null&&y(t,["inlineData"],D5(c));const d=g(e,["text"]);d!=null&&y(t,["text"],d);const h=g(e,["thought"]);h!=null&&y(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const v=g(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function H5(e){const t={},n=g(e,["handle"]);if(n!=null&&y(t,["handle"],n),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function G5(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["googleSearchRetrieval"]);r!=null&&y(t,["googleSearchRetrieval"],r);const i=g(e,["computerUse"]);i!=null&&y(t,["computerUse"],i);const a=g(e,["fileSearch"]);a!=null&&y(t,["fileSearch"],a);const l=g(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],q5(u));const c=g(e,["googleSearch"]);c!=null&&y(t,["googleSearch"],z5(c));const d=g(e,["urlContext"]);return d!=null&&y(t,["urlContext"],d),t}function V5(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);t.push(...i)}else t.push(n)}return t.join(",")}function K5(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(e.bidiGenerateContentSetup=a,n=a):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const a=V5(n);if(Array.isArray(t?.lockAdditionalFields)&&t?.lockAdditionalFields.length===0)a?e.fieldMask=a:delete e.fieldMask;else if(t?.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(d=>l.includes(d)?`generationConfig.${d}`:d));const c=[];a&&c.push(a),u.length>0&&c.push(...u),c.length>0?e.fieldMask=c.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class Y5 extends ua{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=L5(this.apiClient,t);a=he("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const c=K5(u,t.config);return i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}function W5(e,t){const n={},r=g(e,["displayName"]);return t!==void 0&&r!=null&&y(t,["displayName"],r),n}function J5(e){const t={},n=g(e,["config"]);return n!=null&&W5(n,t),t}function X5(e,t){const n={},r=g(e,["force"]);return t!==void 0&&r!=null&&y(t,["_query","force"],r),n}function Q5(e){const t={},n=g(e,["name"]);n!=null&&y(t,["_url","name"],n);const r=g(e,["config"]);return r!=null&&X5(r,t),t}function Z5(e){const t={},n=g(e,["name"]);return n!=null&&y(t,["_url","name"],n),t}function e8(e,t){const n={},r=g(e,["customMetadata"]);if(t!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["customMetadata"],a)}const i=g(e,["chunkingConfig"]);return t!==void 0&&i!=null&&y(t,["chunkingConfig"],i),n}function t8(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["response"]);return l!=null&&y(t,["response"],r8(l)),t}function n8(e){const t={},n=g(e,["fileSearchStoreName"]);n!=null&&y(t,["_url","file_search_store_name"],n);const r=g(e,["fileName"]);r!=null&&y(t,["fileName"],r);const i=g(e,["config"]);return i!=null&&e8(i,t),t}function r8(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["parent"]);r!=null&&y(t,["parent"],r);const i=g(e,["documentName"]);return i!=null&&y(t,["documentName"],i),t}function i8(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function a8(e){const t={},n=g(e,["config"]);return n!=null&&i8(n,t),t}function o8(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["fileSearchStores"],a)}return t}function s8(e,t){const n={},r=g(e,["mimeType"]);t!==void 0&&r!=null&&y(t,["mimeType"],r);const i=g(e,["displayName"]);t!==void 0&&i!=null&&y(t,["displayName"],i);const a=g(e,["customMetadata"]);if(t!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>c)),y(t,["customMetadata"],u)}const l=g(e,["chunkingConfig"]);return t!==void 0&&l!=null&&y(t,["chunkingConfig"],l),n}function l8(e){const t={},n=g(e,["fileSearchStoreName"]);n!=null&&y(t,["_url","file_search_store_name"],n);const r=g(e,["config"]);return r!=null&&s8(r,t),t}function u8(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function c8(e,t){const n={},r=g(e,["force"]);return t!==void 0&&r!=null&&y(t,["_query","force"],r),n}function f8(e){const t={},n=g(e,["name"]);n!=null&&y(t,["_url","name"],n);const r=g(e,["config"]);return r!=null&&c8(r,t),t}function d8(e){const t={},n=g(e,["name"]);return n!=null&&y(t,["_url","name"],n),t}function h8(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function p8(e){const t={},n=g(e,["parent"]);n!=null&&y(t,["_url","parent"],n);const r=g(e,["config"]);return r!=null&&h8(r,t),t}function m8(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["documents"],a)}return t}class g8 extends ua{constructor(t){super(),this.apiClient=t,this.list=async n=>new Wo(Zi.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=d8(t);return a=he("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(t){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=f8(t);i=he("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=p8(t);return a=he("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=m8(c),h=new YH;return Object.assign(h,d),h})}}}class v8 extends ua{constructor(t,n=new g8(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new Wo(Zi.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=J5(t);return a=he("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Z5(t);return a=he("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(t){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Q5(t);i=he("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=a8(t);return a=he("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=o8(c),h=new WH;return Object.assign(h,d),h})}}async uploadToFileSearchStoreInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=l8(t);return a=he("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=u8(c),h=new JH;return Object.assign(h,d),h})}}async importFile(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=n8(t);return a=he("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=t8(c),h=new a_;return Object.assign(h,d),h})}}}function y8(e,t){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function b8(e,t){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function _8(e,t,n){const r={};if(g(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=g(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&y(t,["displayName"],i),g(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=g(e,["epochCount"]);t!==void 0&&a!=null&&y(t,["tuningTask","hyperparameters","epochCount"],a);const l=g(e,["learningRateMultiplier"]);if(l!=null&&y(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),g(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(g(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(g(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=g(e,["batchSize"]);t!==void 0&&u!=null&&y(t,["tuningTask","hyperparameters","batchSize"],u);const c=g(e,["learningRate"]);if(t!==void 0&&c!=null&&y(t,["tuningTask","hyperparameters","learningRate"],c),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(g(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function S8(e,t,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const _=g(e,["validationDataset"]);t!==void 0&&_!=null&&y(t,["supervisedTuningSpec"],v1(_))}else if(i==="PREFERENCE_TUNING"){const _=g(e,["validationDataset"]);t!==void 0&&_!=null&&y(t,["preferenceOptimizationSpec"],v1(_))}const a=g(e,["tunedModelDisplayName"]);t!==void 0&&a!=null&&y(t,["tunedModelDisplayName"],a);const l=g(e,["description"]);t!==void 0&&l!=null&&y(t,["description"],l);let u=g(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const _=g(e,["epochCount"]);t!==void 0&&_!=null&&y(t,["supervisedTuningSpec","hyperParameters","epochCount"],_)}else if(u==="PREFERENCE_TUNING"){const _=g(e,["epochCount"]);t!==void 0&&_!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],_)}let c=g(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const _=g(e,["learningRateMultiplier"]);t!==void 0&&_!=null&&y(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],_)}else if(c==="PREFERENCE_TUNING"){const _=g(e,["learningRateMultiplier"]);t!==void 0&&_!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],_)}let d=g(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const _=g(e,["exportLastCheckpointOnly"]);t!==void 0&&_!=null&&y(t,["supervisedTuningSpec","exportLastCheckpointOnly"],_)}else if(d==="PREFERENCE_TUNING"){const _=g(e,["exportLastCheckpointOnly"]);t!==void 0&&_!=null&&y(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],_)}let h=g(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const _=g(e,["adapterSize"]);t!==void 0&&_!=null&&y(t,["supervisedTuningSpec","hyperParameters","adapterSize"],_)}else if(h==="PREFERENCE_TUNING"){const _=g(e,["adapterSize"]);t!==void 0&&_!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],_)}if(g(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(g(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=g(e,["labels"]);t!==void 0&&m!=null&&y(t,["labels"],m);const v=g(e,["beta"]);return t!==void 0&&v!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","beta"],v),r}function T8(e,t){const n={},r=g(e,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=g(e,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const a=g(e,["trainingDataset"]);a!=null&&D8(a);const l=g(e,["config"]);return l!=null&&_8(l,n),n}function E8(e,t){const n={},r=g(e,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=g(e,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const a=g(e,["trainingDataset"]);a!=null&&R8(a,n,t);const l=g(e,["config"]);return l!=null&&S8(l,n,t),n}function w8(e,t){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function x8(e,t){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function A8(e,t,n){const r={},i=g(e,["pageSize"]);t!==void 0&&i!=null&&y(t,["_query","pageSize"],i);const a=g(e,["pageToken"]);t!==void 0&&a!=null&&y(t,["_query","pageToken"],a);const l=g(e,["filter"]);return t!==void 0&&l!=null&&y(t,["_query","filter"],l),r}function C8(e,t,n){const r={},i=g(e,["pageSize"]);t!==void 0&&i!=null&&y(t,["_query","pageSize"],i);const a=g(e,["pageToken"]);t!==void 0&&a!=null&&y(t,["_query","pageToken"],a);const l=g(e,["filter"]);return t!==void 0&&l!=null&&y(t,["_query","filter"],l),r}function M8(e,t){const n={},r=g(e,["config"]);return r!=null&&A8(r,n),n}function P8(e,t){const n={},r=g(e,["config"]);return r!=null&&C8(r,n),n}function O8(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const a=g(e,["tunedModels"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>mD(u))),y(n,["tuningJobs"],l)}return n}function I8(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const a=g(e,["tuningJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>R0(u))),y(n,["tuningJobs"],l)}return n}function N8(e,t){const n={},r=g(e,["name"]);r!=null&&y(n,["model"],r);const i=g(e,["name"]);return i!=null&&y(n,["endpoint"],i),n}function D8(e,t){const n={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=g(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),y(n,["examples","examples"],i)}return n}function R8(e,t,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=g(e,["gcsUri"]);t!==void 0&&l!=null&&y(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=g(e,["gcsUri"]);t!==void 0&&l!=null&&y(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let a=g(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const l=g(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&y(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(a==="PREFERENCE_TUNING"){const l=g(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&y(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(g(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function mD(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["name"]);i!=null&&y(n,["name"],i);const a=g(e,["state"]);a!=null&&y(n,["state"],JN(a));const l=g(e,["createTime"]);l!=null&&y(n,["createTime"],l);const u=g(e,["tuningTask","startTime"]);u!=null&&y(n,["startTime"],u);const c=g(e,["tuningTask","completeTime"]);c!=null&&y(n,["endTime"],c);const d=g(e,["updateTime"]);d!=null&&y(n,["updateTime"],d);const h=g(e,["description"]);h!=null&&y(n,["description"],h);const m=g(e,["baseModel"]);m!=null&&y(n,["baseModel"],m);const v=g(e,["_self"]);return v!=null&&y(n,["tunedModel"],N8(v)),n}function R0(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["name"]);i!=null&&y(n,["name"],i);const a=g(e,["state"]);a!=null&&y(n,["state"],JN(a));const l=g(e,["createTime"]);l!=null&&y(n,["createTime"],l);const u=g(e,["startTime"]);u!=null&&y(n,["startTime"],u);const c=g(e,["endTime"]);c!=null&&y(n,["endTime"],c);const d=g(e,["updateTime"]);d!=null&&y(n,["updateTime"],d);const h=g(e,["error"]);h!=null&&y(n,["error"],h);const m=g(e,["description"]);m!=null&&y(n,["description"],m);const v=g(e,["baseModel"]);v!=null&&y(n,["baseModel"],v);const _=g(e,["tunedModel"]);_!=null&&y(n,["tunedModel"],_);const T=g(e,["preTunedModel"]);T!=null&&y(n,["preTunedModel"],T);const w=g(e,["supervisedTuningSpec"]);w!=null&&y(n,["supervisedTuningSpec"],w);const E=g(e,["preferenceOptimizationSpec"]);E!=null&&y(n,["preferenceOptimizationSpec"],E);const C=g(e,["tuningDataStats"]);C!=null&&y(n,["tuningDataStats"],C);const O=g(e,["encryptionSpec"]);O!=null&&y(n,["encryptionSpec"],O);const P=g(e,["partnerModelTuningSpec"]);P!=null&&y(n,["partnerModelTuningSpec"],P);const D=g(e,["customBaseModel"]);D!=null&&y(n,["customBaseModel"],D);const I=g(e,["experiment"]);I!=null&&y(n,["experiment"],I);const R=g(e,["labels"]);R!=null&&y(n,["labels"],R);const k=g(e,["outputUri"]);k!=null&&y(n,["outputUri"],k);const z=g(e,["pipelineJob"]);z!=null&&y(n,["pipelineJob"],z);const $=g(e,["serviceAccount"]);$!=null&&y(n,["serviceAccount"],$);const re=g(e,["tunedModelDisplayName"]);re!=null&&y(n,["tunedModelDisplayName"],re);const F=g(e,["veoTuningSpec"]);return F!=null&&y(n,["veoTuningSpec"],F),n}function k8(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["name"]);i!=null&&y(n,["name"],i);const a=g(e,["metadata"]);a!=null&&y(n,["metadata"],a);const l=g(e,["done"]);l!=null&&y(n,["done"],l);const u=g(e,["error"]);return u!=null&&y(n,["error"],u),n}function v1(e,t){const n={},r=g(e,["gcsUri"]);r!=null&&y(n,["validationDatasetUri"],r);const i=g(e,["vertexDatasetResource"]);return i!=null&&y(n,["validationDatasetUri"],i),n}class L8 extends ua{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Wo(Zi.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let l="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?l=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(l=a.name.split("/operations/")[0]),{name:l,state:C0.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=x8(t);return u=he("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>R0(h))}else{const d=w8(t);return u=he("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>mD(h))}}async listInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=P8(t);return u=he("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=I8(h),v=new JC;return Object.assign(v,m),v})}else{const d=M8(t);return u=he("tunedModels",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=O8(h),v=new JC;return Object.assign(v,m),v})}}async cancel(t){var n,r,i,a;let l="",u={};if(this.apiClient.isVertexAI()){const c=b8(t);l=he("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=y8(t);l=he("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async tuneInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=E8(t,t);return a=he("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>R0(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=T8(t);return a=he("tunedModels",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>k8(c))}}}class U8{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const j8=1024*1024*8,q8=3,z8=1e3,B8=2,eh="x-goog-upload-status";async function $8(e,t,n){var r;const i=await gD(e,t,n),a=await i?.json();if(((r=i?.headers)===null||r===void 0?void 0:r[eh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function F8(e,t,n){var r;const i=await gD(e,t,n),a=await i?.json();if(((r=i?.headers)===null||r===void 0?void 0:r[eh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=HN(a),u=new o_;return Object.assign(u,l),u}async function gD(e,t,n){var r,i;let a=0,l=0,u=new M0(new Response),c="upload";for(a=e.size;l<a;){const d=Math.min(j8,a-l),h=e.slice(l,l+d);l+d>=a&&(c+=", finalize");let m=0,v=z8;for(;m<q8&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(l),"Content-Length":String(d)}}}),!(!((r=u?.headers)===null||r===void 0)&&r[eh]));)m++,await G8(v),v=v*B8;if(l+=d,((i=u?.headers)===null||i===void 0?void 0:i[eh])!=="active")break;if(a<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function H8(e){return{size:e.size,type:e.type}}function G8(e){return new Promise(t=>setTimeout(t,e))}class V8{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await $8(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await F8(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await H8(t)}}class K8{create(t,n,r){return new Y8(t,n,r)}}class Y8{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const y1="x-goog-api-key";class W8{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(y1)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(y1,this.apiKey)}}}const J8="gl-node/";class vD{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=CH(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion;const i=new W8(this.apiKey);this.apiClient=new d5({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:J8+"web",uploader:new V8,downloader:new U8}),this.models=new I5(this.apiClient),this.live=new x5(this.apiClient,i,new K8),this.batches=new nV(this.apiClient),this.chats=new UV(this.models,this.apiClient),this.caches=new RV(this.apiClient),this.files=new KV(this.apiClient),this.operations=new N5(this.apiClient),this.authTokens=new Y5(this.apiClient),this.tunings=new L8(this.apiClient),this.fileSearchStores=new v8(this.apiClient)}}let ec=null;function X8(e){localStorage.setItem("gemini_api_key",e),ec=new vD({apiKey:e})}function yD(){return localStorage.getItem("gemini_api_key")}function k0(){return!!yD()}function Q8(){ec=null,localStorage.removeItem("gemini_api_key")}function d_(){if(!ec){const e=yD();if(!e)throw new Error("Gemini API key not set. Add your key in Settings.");ec=new vD({apiKey:e})}return ec}function h_(e){return e.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim()}async function Z8(e,t=[]){const n=d_(),r=t&&t.length>0,i=e&&e.trim().length>0;let a="";i&&r?a=`The user provided a text description AND ${t.length} image(s). Use ALL information together - the text gives context, images show the actual food and/or nutrition labels.`:r?a=`The user provided ${t.length} image(s) of their meal. These may include food photos and/or nutrition labels.`:a="The user provided a text description of their meal.";const l=`Analyze this meal and provide complete nutritional breakdown.

${a}

${i?`Text description: "${e}"`:""}

Instructions:
- If you see a NUTRITION LABEL in any image, use those EXACT values for that product
- If you see FOOD in an image, identify items and estimate portions
- Combine information from text AND images to build the complete meal
- If text mentions something not visible in images, include it anyway
- IMPORTANT: Always return ingredient names in SPANISH (e.g., "Pechuga de pollo" not "Chicken breast")

Return ONLY valid JSON with no markdown formatting:
{
  "meal_name": "short descriptive name (max 50 chars)",
  "ingredients": [
    {
      "name": "ingredient name",
      "quantity": number,
      "unit": "g" | "ml" | "cup" | "tbsp" | "tsp" | "oz" | "slice" | "piece",
      "grams": number,
      "nutrients": {
        "calories": number,
        "purines": number,
        "protein": number,
        "carbs": number,
        "fat": number,
        "fiber": number,
        "sodium": number,
        "sugar": number
      }
    }
  ],
  "total_nutrients": {
    "calories": number,
    "purines": number,
    "protein": number,
    "carbs": number,
    "fat": number,
    "fiber": number,
    "sodium": number,
    "sugar": number
  }
}

Rules:
- Make reasonable portion estimates if not specified (e.g., "an egg" = 50g, "a glass of juice" = 250ml)
- "grams" is the converted weight in grams for the specified quantity
- "nutrients" are the values for THAT ingredient's quantity (not per 100g)
- "total_nutrients" is the sum of all ingredients
- Use USDA database for calories, protein, carbs, fat, fiber, sodium, sugar
- Use USDA and medical literature for purine values, these need to be as precise as possible
- All values: calories=kcal, purines/sodium=mg, all others=grams

Calculate purines by: (grams / 100)  purine_per_100g`;try{const u=[{text:l}];if(r)for(const h of t)u.push({inlineData:{data:h.base64,mimeType:h.mimeType||"image/jpeg"}});const d=(await n.models.generateContent({model:"gemini-2.5-flash",contents:u})).text;return JSON.parse(h_(d))}catch(u){throw console.error("Failed to analyze meal:",u),new Error(`Failed to analyze meal: ${u.message}`)}}async function eK(e){const t=d_(),n=`Parse this meal description into structured ingredient data:

"${e}"

IMPORTANT: Always return ingredient names in SPANISH (e.g., "Pechuga de pollo" not "Chicken breast").

Return ONLY valid JSON with no markdown formatting:
{
  "meal_name": "short descriptive name (max 50 chars)",
  "ingredients": [
    {
      "name": "ingredient name",
      "quantity": number,
      "unit": "g" | "ml" | "cup" | "tbsp" | "tsp" | "oz" | "slice" | "piece",
      "grams": number
    }
  ]
}

Rules:
- Make reasonable portion estimates if not specified
- "grams" is the TOTAL weight in grams for the specified quantity
- Use realistic weights when estimating portions
- If ambiguous, choose the most common interpretation`;try{const i=(await t.models.generateContent({model:"gemini-2.5-flash",contents:n})).text;return JSON.parse(h_(i))}catch(r){throw console.error("Failed to parse meal:",r),new Error(`Failed to parse meal: ${r.message}`)}}async function tK(e){const t=d_(),n=`Estimate complete nutritional information per 100g for this ingredient:

"${e}"

Return ONLY valid JSON with no markdown formatting:
{
  "calories": number,
  "purines": number,
  "protein": number,
  "carbs": number,
  "fat": number,
  "fiber": number,
  "sodium": number,
  "sugar": number
}

All values in standard units:
- calories: kcal
- purines: mg (CRITICAL - see reference below)
- all others: grams (g) except sodium (mg)

Use USDA database for calories, protein, carbs, fat, fiber, sodium, sugar.
Use USDA and medical literature for purine values. When conflicting purine data exists, average the result.`;try{const i=(await t.models.generateContent({model:"gemini-2.5-flash",contents:n})).text;return JSON.parse(h_(i))}catch(r){throw console.error("Failed to get nutrition:",r),new Error(`Failed to get nutrition data: ${r.message}`)}}async function bD(e,t=[],n=null){const r=await Z8(e,t),i=r.ingredients.map(a=>{const l=a.grams||100,u=100/l,c=th(a.nutrients,u);return n&&n({name:a.name,nutrients_per_100g:c,source:"ai"}),{name:a.name,normalized_name:_D(a.name),quantity:a.quantity,unit:a.unit,grams:l,nutrients_per_100g:c,nutrients:a.nutrients}});return{meal_name:r.meal_name,ingredients:i,total_nutrients:r.total_nutrients}}async function nK(e,t=[],n=null){if(!n)return bD(e,t);const{lookup:r,add:i,recordUsage:a}=n,l=await eK(e),u=[],c=[],d=[];for(const m of l.ingredients){const v=_D(m.name),_=r?r(v):null;_&&_.nutrients_per_100g?(d.push({...m,normalizedName:v,cached:_}),a&&a(v)):c.push({...m,normalizedName:v})}if(c.length>0)for(const m of c)try{const v=await tK(m.name),_=m.grams||mv(m.quantity,m.unit),T=_/100,w=th(v,T);u.push({name:m.name,normalized_name:m.normalizedName,quantity:m.quantity,unit:m.unit,grams:_,nutrients_per_100g:v,nutrients:w}),i&&await i({name:m.name,nutrients_per_100g:v,source:"ai"})}catch(v){console.error(`Failed to get nutrition for ${m.name}:`,v),u.push({name:m.name,normalized_name:m.normalizedName,quantity:m.quantity,unit:m.unit,grams:m.grams||mv(m.quantity,m.unit),nutrients_per_100g:{calories:0,purines:0,protein:0,carbs:0,fat:0,fiber:0,sodium:0,sugar:0},nutrients:{calories:0,purines:0,protein:0,carbs:0,fat:0,fiber:0,sodium:0,sugar:0}})}for(const m of d){const v=m.grams||mv(m.quantity,m.unit),_=v/100,T=th(m.cached.nutrients_per_100g,_);u.push({name:m.name,normalized_name:m.normalizedName,quantity:m.quantity,unit:m.unit,grams:v,nutrients_per_100g:m.cached.nutrients_per_100g,nutrients:T})}const h=SD(u);return{meal_name:l.meal_name,ingredients:u,total_nutrients:h,cache_stats:{hits:d.length,misses:c.length}}}function _D(e){return e.toLowerCase().trim().replace(/s$/,"").replace(/ies$/,"y").replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"_")}const rK={g:1,gram:1,grams:1,kg:1e3,oz:28.35,ounce:28.35,ounces:28.35,lb:453.6,pound:453.6,pounds:453.6,cup:240,cups:240,tbsp:15,tablespoon:15,tablespoons:15,tsp:5,teaspoon:5,teaspoons:5,ml:1,slice:30,slices:30,piece:50,pieces:50};function mv(e,t){const n=t.toLowerCase().trim(),r=rK[n]||1;return e*r}function th(e,t){const n={};return Object.keys(e).forEach(r=>{n[r]=Math.round(e[r]*t*10)/10}),n}function b1(e,t){const n=e.quantity||1,r=t/n,i=(e.grams||100)*r,a=e.nutrients||e.nutrients_per_unit||{};return{...e,quantity:t,grams:i,nutrients:th(a,r)}}function SD(e){return e.reduce((t,n)=>{const r=n.nutrients||n.nutrients_per_unit||{};return Object.keys(r).forEach(i=>{t[i]=(t[i]||0)+r[i]}),t},{})}const iK=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const i=r.result.split(",")[1];t({base64:i,mimeType:e.type||"image/jpeg",preview:r.result,name:e.name})},r.onerror=n,r.readAsDataURL(e)}),gv=[{key:"breakfast",icon:"",label:"Brekkie"},{key:"lunch",icon:"",label:"Lunch"},{key:"dinner",icon:"",label:"Dinner"},{key:"snack",icon:"",label:"Snack"}],vv=e=>{const t=new Date(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`},aK=e=>{const t=[];for(let n=-3;n<=3;n++){const r=new Date(e);r.setDate(r.getDate()+n),t.push({date:r,dateKey:vv(r),dayName:r.toLocaleDateString("en-US",{weekday:"short"}).charAt(0),dayNum:r.getDate(),isToday:vv(r)===vv(new Date)})}return t};function oK(){const{user:e,isLoading:t}=eo(),[n,r]=x.useState(GA()),[i,a]=x.useState(new Date),[l,u]=x.useState("breakfast"),[c,d]=x.useState(""),[h,m]=x.useState(!1),[v,_]=x.useState(!1),[T,w]=x.useState(null),[E,C]=x.useState([]),O=x.useRef(null),P=x.useRef(null),[D,I]=x.useState(null),[R,k]=x.useState(""),[z,$]=x.useState("snack"),[re,F]=x.useState(""),[V,de]=x.useState(null),[pe,_e]=x.useState(""),[B,ee]=x.useState(null),[se,ue]=x.useState({}),{meals:Ce,isLoading:U,addMeal:W,updateMeal:le,deleteMeal:ce,getDailyTotals:te}=n_(n),{totalHydration:fe,adjustHydration:we,isLoading:Pe}=$N(n),{addToStash:Q,bottles:xe}=r_(),{lookupIngredient:Oe,addIngredient:oe,recordUsage:ht}=FN(),_t=[...[{id:"quick-250",name:"+250ml",capacity_ml:250,icon:null},{id:"quick-500",name:"+500ml",capacity_ml:500,icon:null}],...xe],St=aK(i),We=e?.thresholds||{},vn=Ce.filter(ae=>ae.meal_type!=="hydration"),Ot={...te(n)},di=EH(Ot,We),Rl=t||U||Pe,xn=async ae=>{await we(ae)},yt=ae=>{r(ae)},Qo=ae=>{const Se=new Date(i);Se.setDate(Se.getDate()+(ae==="next"?7:-7)),a(Se)},ga=async ae=>{const Se=Array.from(ae.target.files||[]);if(Se.length!==0){try{const Ne=await Promise.all(Se.map(iK));C(ke=>[...ke,...Ne])}catch(Ne){console.error("Failed to read image:",Ne),w("Failed to read image. Please try again.")}ae.target.value=""}},Zo=ae=>{C(Se=>Se.filter((Ne,ke)=>ke!==ae))},va=async ae=>{ae.preventDefault();const Se=c.trim().length>0,Ne=E.length>0;if(!(!Se&&!Ne)){if(w(null),!k0()){await W({date:n,meal_type:l,meal_name:Se?c:"Meal with photos",ingredients:[],total_nutrients:{calories:0,purines:0,protein:0,carbs:0,fat:0,fiber:0,sodium:0,sugar:0},hydration_ml:0,analysis_method:"manual"}),d(""),C([]);return}_(!0);try{const ke=E.map(Yr=>({base64:Yr.base64,mimeType:Yr.mimeType}));let rt,Kt,Rr,mi;if(Ne){const Yr=await bD(c,ke,oe);rt=Yr.meal_name,Kt=Yr.ingredients,Rr=Yr.total_nutrients,mi={hits:0,misses:Kt.length}}else{const oo=await nK(c,[],{lookup:Oe,add:oe,recordUsage:ht});rt=oo.meal_name,Kt=oo.ingredients,Rr=oo.total_nutrients,mi=oo.cache_stats,mi&&console.log(` Ingredient cache: ${mi.hits} hits, ${mi.misses} AI calls`)}const Vc={date:n,meal_type:l,meal_name:rt,description:c,ingredients:Kt,total_nutrients:Rr,hydration_ml:0,analysis_method:Ne?"ai-vision":"ai",image_count:E.length};await W(Vc),d(""),C([])}catch(ke){console.error("AI parsing failed:",ke),w(ke.message||"Failed to analyze meal. Try again or check your API key.")}finally{_(!1)}}},kl=async ae=>{confirm("Delete this meal?")&&await ce(ae)},es=ae=>{I(ae),k(ae.meal_name),$(ae.meal_type),F(ae.date)},Ll=async()=>{D&&(await le(D.id,{meal_name:R,meal_type:z,date:re}),I(null))},ts=()=>{I(null),k(""),$("snack"),F("")},hi=ae=>{de(ae),_e(GA())},rn=async()=>{if(!V||!pe)return;const ae={date:pe,meal_type:V.meal_type,meal_name:V.meal_name,description:V.description,ingredients:V.ingredients,total_nutrients:V.total_nutrients,hydration_ml:0,analysis_method:"copy"};await W(ae),de(null),alert(`Meal copied to ${pe}! `)},lr=ae=>{ee({mealId:ae.id,originalIngredients:ae.ingredients,ingredients:[...ae.ingredients]}),ue({})},jt=(ae,Se)=>{const Ne=parseFloat(Se)||0;ue(ke=>({...ke,[ae]:Ne}))},J=async()=>{if(!B)return;const ae=B.ingredients.map((Ne,ke)=>se[ke]!==void 0&&se[ke]!==Ne.quantity?b1(Ne,se[ke]):Ne),Se=SD(ae);await le(B.mealId,{ingredients:ae,total_nutrients:Se}),ee(null),ue({})},Le=async ae=>{if(!B)return;const Se=B.ingredients.filter((rt,Kt)=>Kt!==ae);ee(rt=>({...rt,ingredients:Se}));const Ne={...se};delete Ne[ae];const ke={};Object.keys(Ne).forEach(rt=>{const Kt=parseInt(rt);Kt>ae?ke[Kt-1]=Ne[rt]:ke[Kt]=Ne[rt]}),ue(ke)},Vt=()=>{ee(null),ue({})},Nn=async ae=>{await Q({type:"meal",name:ae.meal_name,ingredients:ae.ingredients||[],total_nutrients:ae.total_nutrients||{},use_count:0});const Se=e?.stats?.meals_saved_to_stash||0;await updateStats({meals_saved_to_stash:Se+1}),alert(`"${ae.meal_name}" saved to your Dragon's Hoard! `)},pi=(ae=>{const[Se,Ne,ke]=ae.split("-").map(Number);return new Date(Se,Ne-1,ke)})(n).toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"});return Rl?A.jsxs("div",{className:"page diary-page",children:[A.jsx(Qi,{title:"Dragon Keeper",subtitle:"Loading..."}),A.jsxs("div",{className:"loading-state card",children:[A.jsx("div",{className:"spinner"}),A.jsx("p",{children:"Waking up the dragon..."})]})]}):A.jsxs("div",{className:"page diary-page",children:[A.jsx(Qi,{title:"Dragon Keeper",subtitle:`Feeding log for ${pi}`}),A.jsxs("div",{className:"calendar-ribbon card",children:[A.jsx("button",{className:"cal-nav",onClick:()=>Qo("prev"),"aria-label":"Previous week",children:""}),A.jsx("div",{className:"cal-days",children:St.map(ae=>{const Se=ae.dateKey===n;return A.jsxs("button",{className:`cal-day ${Se?"active":""} ${ae.isToday?"today":""}`,onClick:()=>yt(ae.dateKey),children:[A.jsx("span",{className:"cal-day-name",children:ae.dayName}),A.jsx("span",{className:"cal-day-num",children:ae.dayNum}),ae.isToday&&A.jsx("span",{className:"cal-day-indicator",children:""})]},ae.dateKey)})}),A.jsx("button",{className:"cal-nav",onClick:()=>Qo("next"),"aria-label":"Next week",children:""})]}),A.jsx("div",{className:"meal-type-selector",children:gv.map(ae=>A.jsxs("button",{className:`meal-type-btn ${l===ae.key?"active":""}`,onClick:()=>u(ae.key),children:[A.jsx("span",{className:"meal-icon",children:ae.icon}),A.jsx("span",{className:"meal-label",children:ae.label})]},ae.key))}),A.jsxs("form",{className:"meal-input-section card",onSubmit:va,children:[A.jsx("label",{className:"input-label",children:"What did your dragon eat? "}),A.jsx("div",{className:"input-row",children:A.jsx("input",{type:"text",placeholder:E.length>0?"Add context or just tap Log It!":"e.g., grilled chicken with rice...",value:c,onChange:ae=>d(ae.target.value),disabled:v})}),E.length>0&&A.jsx("div",{className:"attached-images",children:E.map((ae,Se)=>A.jsxs("div",{className:"attached-image",children:[A.jsx("img",{src:ae.preview,alt:`Attached ${Se+1}`}),A.jsx("button",{type:"button",className:"remove-image-btn",onClick:()=>Zo(Se),"aria-label":"Remove image",children:""})]},Se))}),T&&A.jsx("div",{className:"ai-error",children:A.jsxs("span",{children:[" ",T]})}),A.jsx("input",{type:"file",ref:O,accept:"image/*",capture:"environment",onChange:ga,style:{display:"none"}}),A.jsx("input",{type:"file",ref:P,accept:"image/*",multiple:!0,onChange:ga,style:{display:"none"}}),A.jsxs("div",{className:"input-actions",children:[A.jsx("button",{type:"button",className:"btn btn-secondary",disabled:v,children:""}),A.jsx("button",{type:"button",className:"btn btn-secondary",disabled:v,onClick:()=>O.current?.click(),title:"Take a photo",children:""}),A.jsx("button",{type:"button",className:"btn btn-secondary",disabled:v,onClick:()=>P.current?.click(),title:"Choose from gallery",children:""}),A.jsx("button",{type:"submit",className:"btn btn-primary btn-lg",disabled:v||!c.trim()&&E.length===0,children:v?A.jsx(A.Fragment,{children:" Analyzing..."}):A.jsx(A.Fragment,{children:"Log It! "})})]}),!k0()&&A.jsx("p",{className:"no-api-hint text-muted text-sm",children:" Set up AI in Settings  Dragon's Intelligence to auto-analyze meals!"})]}),A.jsxs("div",{className:"hydration-section card",children:[A.jsxs("div",{className:"hydration-header",children:[A.jsx("span",{className:"hydration-title",children:" Dragon's Hydration"}),A.jsxs("span",{className:"hydration-value",children:[fe,"/",We.hydration_target||2e3,"ml"]})]}),A.jsx("div",{className:"progress-bar",children:A.jsx("div",{className:`progress-bar-fill ${fe>=(We.hydration_target||2e3)?"success":"warning"}`,style:{width:`${Math.min(fe/(We.hydration_target||2e3)*100,100)}%`}})}),A.jsxs("div",{className:"hydration-buttons",children:[A.jsx("button",{className:"btn btn-secondary btn-danger-outline",onClick:()=>xn(-250),children:"250"}),_t.map(ae=>A.jsxs("button",{className:"btn btn-secondary",onClick:()=>xn(ae.capacity_ml),children:[ae.icon||"",ae.icon?" ":"",ae.name||`+${ae.capacity_ml}ml`]},ae.id))]})]}),A.jsxs("section",{className:"meals-section",children:[A.jsx("h2",{className:"section-title",children:"Today's Feast"}),vn.length===0?A.jsxs("div",{className:"empty-state card",children:[A.jsx(x0,{state:"curious"}),A.jsx("p",{children:"No meals logged yet today!"}),A.jsx("p",{className:"text-muted",children:"Feed your dragon to get started."})]}):A.jsx("div",{className:"meals-list",children:vn.map(ae=>A.jsxs("div",{className:"meal-card card",children:[A.jsxs("div",{className:"meal-header",children:[A.jsx("span",{className:"meal-type-badge",children:gv.find(Se=>Se.key===ae.meal_type)?.icon||""}),A.jsx("h3",{className:"meal-name",children:ae.meal_name})]}),ae.ingredients&&ae.ingredients.length>0&&A.jsx("div",{className:"meal-ingredients-section",children:B?.mealId===ae.id?A.jsxs("div",{className:"ingredients-edit-mode",children:[A.jsx("ul",{className:"meal-ingredients editing",children:B.ingredients.map((Se,Ne)=>{const ke=se[Ne]!==void 0?se[Ne]:Se.quantity,rt=se[Ne]!==void 0?b1(Se,se[Ne]):Se;return A.jsxs("li",{className:"ingredient-edit-row",children:[A.jsxs("span",{className:"ing-name",children:[" ",Se.name]}),A.jsx("input",{type:"number",className:"ing-qty-input",value:ke,onChange:Kt=>jt(Ne,Kt.target.value),min:"0",step:"0.1"}),A.jsx("span",{className:"ing-unit",children:Se.unit}),A.jsxs("span",{className:"ing-nutrients",children:["",Math.round((rt.nutrients||rt.nutrients_per_unit)?.calories||0),"  ",Math.round((rt.nutrients||rt.nutrients_per_unit)?.purines||0)]}),A.jsx("button",{className:"btn-icon btn-delete-ing",onClick:()=>Le(Ne),title:"Remove ingredient",children:""})]},Ne)})}),A.jsxs("div",{className:"ingredient-edit-actions",children:[A.jsx("button",{className:"btn btn-secondary btn-sm",onClick:Vt,children:"Cancel"}),A.jsx("button",{className:"btn btn-primary btn-sm",onClick:J,children:" Save Changes"})]})]}):A.jsxs(A.Fragment,{children:[A.jsx("ul",{className:"meal-ingredients",children:ae.ingredients.map((Se,Ne)=>A.jsxs("li",{children:[A.jsxs("span",{className:"ing-name",children:[" ",Se.name]}),A.jsxs("span",{className:"ing-qty",children:["(",Se.quantity||"?",Se.unit||"g",")"]}),A.jsxs("span",{className:"ing-nutrients",children:["",Math.round((Se.nutrients||Se.nutrients_per_unit)?.calories||0),"  ",Math.round((Se.nutrients||Se.nutrients_per_unit)?.purines||0)]})]},Ne))}),A.jsx("button",{type:"button",className:"btn btn-secondary btn-sm btn-edit-ingredients",onClick:Se=>{Se.preventDefault(),Se.stopPropagation(),lr(ae)},children:" Edit quantities"})]})}),A.jsxs("div",{className:"meal-nutrients meal-totals",children:[A.jsx("span",{className:"total-label",children:"Total:"}),A.jsxs("span",{children:[" ",Math.round(ae.total_nutrients?.calories||0)," cal"]}),A.jsxs("span",{children:[" ",Math.round(ae.total_nutrients?.purines||0),"mg"]})]}),A.jsxs("div",{className:"meal-actions",children:[A.jsx("button",{className:"btn btn-secondary",onClick:()=>es(ae),children:" Edit"}),A.jsx("button",{className:"btn btn-secondary",onClick:()=>hi(ae),children:" Copy"}),A.jsx("button",{className:"btn btn-secondary",onClick:()=>kl(ae.id),children:""}),A.jsx("button",{className:"btn btn-secondary",onClick:()=>Nn(ae),children:" Stash"})]})]},ae.id))})]}),A.jsxs("section",{className:"daily-status card",children:[A.jsxs("div",{className:"status-header",onClick:()=>m(!h),children:[A.jsx("h3",{children:" Dragon's Daily Status"}),A.jsx(x0,{state:di,showMessage:!1,size:"small"}),A.jsx("span",{className:"toggle-hint",children:h?"":""})]}),A.jsx(ki,{nutrient:"calories",value:Ot.calories||0,target:We.calories_max||2e3,min:We.calories_min||1500,max:We.calories_max||2e3}),A.jsx(ki,{nutrient:"purines",value:Ot.purines||0,target:We.purines_max||400,max:We.purines_max||400}),h&&A.jsxs("div",{className:"all-nutrients animate-fade-in",children:[A.jsx(ki,{nutrient:"protein",value:Ot.protein||0,target:We.protein_target||60,compact:!0}),A.jsx(ki,{nutrient:"carbs",value:Ot.carbs||0,target:We.carbs_target||250,compact:!0}),A.jsx(ki,{nutrient:"fat",value:Ot.fat||0,target:We.fat_target||65,compact:!0}),A.jsx(ki,{nutrient:"fiber",value:Ot.fiber||0,target:We.fiber_target||30,compact:!0}),A.jsx(ki,{nutrient:"sodium",value:Ot.sodium||0,target:We.sodium_max||2300,max:We.sodium_max||2300,compact:!0}),A.jsx(ki,{nutrient:"sugar",value:Ot.sugar||0,target:We.sugar_max||50,max:We.sugar_max||50,compact:!0}),A.jsx(ki,{nutrient:"hydration",value:fe,target:We.hydration_target||2e3,compact:!0})]})]}),D&&A.jsx("div",{className:"modal-overlay",onClick:ts,children:A.jsxs("div",{className:"modal-content card",onClick:ae=>ae.stopPropagation(),children:[A.jsx("h2",{children:" Edit Meal"}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Meal Name"}),A.jsx("input",{type:"text",value:R,onChange:ae=>k(ae.target.value),placeholder:"e.g., Grilled Chicken"})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Meal Type"}),A.jsx("select",{value:z,onChange:ae=>$(ae.target.value),children:gv.map(ae=>A.jsxs("option",{value:ae.key,children:[ae.icon," ",ae.label]},ae.key))})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Date (move to different day)"}),A.jsx("input",{type:"date",value:re,onChange:ae=>F(ae.target.value)})]}),A.jsxs("div",{className:"modal-actions",children:[A.jsx("button",{className:"btn btn-secondary",onClick:ts,children:"Cancel"}),A.jsx("button",{className:"btn btn-primary",onClick:Ll,children:" Save"})]})]})}),V&&A.jsx("div",{className:"modal-overlay",onClick:()=>de(null),children:A.jsxs("div",{className:"modal-content card",onClick:ae=>ae.stopPropagation(),children:[A.jsx("h2",{children:" Copy Meal"}),A.jsxs("p",{children:['Copy "',V.meal_name,'" to another date:']}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Target Date"}),A.jsx("input",{type:"date",value:pe,onChange:ae=>_e(ae.target.value)})]}),A.jsxs("div",{className:"modal-actions",children:[A.jsx("button",{className:"btn btn-secondary",onClick:()=>de(null),children:"Cancel"}),A.jsx("button",{className:"btn btn-primary",onClick:rn,children:" Copy Meal"})]})]})})]})}function TD(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=TD(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ze(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=TD(e))&&(r&&(r+=" "),r+=t);return r}var sK=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function p_(e){if(typeof e!="string")return!1;var t=sK;return t.includes(e)}var lK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],uK=new Set(lK);function ED(e){return typeof e!="string"?!1:uK.has(e)}function wD(e){return typeof e=="string"&&e.startsWith("data-")}function ii(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(ED(n)||wD(n))&&(t[n]=e[n]);return t}function ip(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ii(t)}return typeof e=="object"&&!Array.isArray(e)?ii(e):null}function wn(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(ED(n)||wD(n)||p_(n))&&(t[n]=e[n]);return t}function cK(e){return e==null?null:x.isValidElement(e)?wn(e.props):typeof e=="object"&&!Array.isArray(e)?wn(e):null}var fK=["children","width","height","viewBox","className","style","title","desc"];function L0(){return L0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L0.apply(null,arguments)}function dK(e,t){if(e==null)return{};var n,r,i=hK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var m_=x.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:l,style:u,title:c,desc:d}=e,h=dK(e,fK),m=a||{width:r,height:i,x:0,y:0},v=Ze("recharts-surface",l);return x.createElement("svg",L0({},wn(h),{className:v,width:r,height:i,style:u,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),x.createElement("title",null,c),x.createElement("desc",null,d),n)}),pK=["children","className"];function U0(){return U0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U0.apply(null,arguments)}function mK(e,t){if(e==null)return{};var n,r,i=gK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ea=x.forwardRef((e,t)=>{var{children:n,className:r}=e,i=mK(e,pK),a=Ze("recharts-layer",r);return x.createElement("g",U0({className:a},wn(i),{ref:t}),n)}),xD=x.createContext(null),vK=()=>x.useContext(xD);function ot(e){return function(){return e}}const AD=Math.cos,nh=Math.sin,Kr=Math.sqrt,rh=Math.PI,ap=2*rh,j0=Math.PI,q0=2*j0,Ao=1e-6,yK=q0-Ao;function CD(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function bK(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return CD;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class _K{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?CD:bK(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,u=this._y1,c=r-t,d=i-n,h=l-t,m=u-n,v=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>Ao)if(!(Math.abs(m*c-d*h)>Ao)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let _=r-l,T=i-u,w=c*c+d*d,E=_*_+T*T,C=Math.sqrt(w),O=Math.sqrt(v),P=a*Math.tan((j0-Math.acos((w+v-E)/(2*C*O)))/2),D=P/O,I=P/C;Math.abs(D-1)>Ao&&this._append`L${t+D*h},${n+D*m}`,this._append`A${a},${a},0,0,${+(m*_>h*T)},${this._x1=t+I*c},${this._y1=n+I*d}`}}arc(t,n,r,i,a,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),c=r*Math.sin(i),d=t+u,h=n+c,m=1^l,v=l?i-a:a-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>Ao||Math.abs(this._y1-h)>Ao)&&this._append`L${d},${h}`,r&&(v<0&&(v=v%q0+q0),v>yK?this._append`A${r},${r},0,1,${m},${t-u},${n-c}A${r},${r},0,1,${m},${this._x1=d},${this._y1=h}`:v>Ao&&this._append`A${r},${r},0,${+(v>=j0)},${m},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function g_(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new _K(t)}function v_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function MD(e){this._context=e}MD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function op(e){return new MD(e)}function PD(e){return e[0]}function OD(e){return e[1]}function ID(e,t){var n=ot(!0),r=null,i=op,a=null,l=g_(u);e=typeof e=="function"?e:e===void 0?PD:ot(e),t=typeof t=="function"?t:t===void 0?OD:ot(t);function u(c){var d,h=(c=v_(c)).length,m,v=!1,_;for(r==null&&(a=i(_=l())),d=0;d<=h;++d)!(d<h&&n(m=c[d],d,c))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+e(m,d,c),+t(m,d,c));if(_)return a=null,_+""||null}return u.x=function(c){return arguments.length?(e=typeof c=="function"?c:ot(+c),u):e},u.y=function(c){return arguments.length?(t=typeof c=="function"?c:ot(+c),u):t},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:ot(!!c),u):n},u.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),u):i},u.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),u):r},u}function fd(e,t,n){var r=null,i=ot(!0),a=null,l=op,u=null,c=g_(d);e=typeof e=="function"?e:e===void 0?PD:ot(+e),t=typeof t=="function"?t:ot(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?OD:ot(+n);function d(m){var v,_,T,w=(m=v_(m)).length,E,C=!1,O,P=new Array(w),D=new Array(w);for(a==null&&(u=l(O=c())),v=0;v<=w;++v){if(!(v<w&&i(E=m[v],v,m))===C)if(C=!C)_=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),T=v-1;T>=_;--T)u.point(P[T],D[T]);u.lineEnd(),u.areaEnd()}C&&(P[v]=+e(E,v,m),D[v]=+t(E,v,m),u.point(r?+r(E,v,m):P[v],n?+n(E,v,m):D[v]))}if(O)return u=null,O+""||null}function h(){return ID().defined(i).curve(l).context(a)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:ot(+m),r=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:ot(+m),d):e},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:ot(+m),d):r},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:ot(+m),n=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:ot(+m),d):t},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:ot(+m),d):n},d.lineX0=d.lineY0=function(){return h().x(e).y(t)},d.lineY1=function(){return h().x(e).y(n)},d.lineX1=function(){return h().x(r).y(t)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:ot(!!m),d):i},d.curve=function(m){return arguments.length?(l=m,a!=null&&(u=l(a)),d):l},d.context=function(m){return arguments.length?(m==null?a=u=null:u=l(a=m),d):a},d}class ND{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function SK(e){return new ND(e,!0)}function TK(e){return new ND(e,!1)}const y_={draw(e,t){const n=Kr(t/rh);e.moveTo(n,0),e.arc(0,0,n,0,ap)}},EK={draw(e,t){const n=Kr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},DD=Kr(1/3),wK=DD*2,xK={draw(e,t){const n=Kr(t/wK),r=n*DD;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},AK={draw(e,t){const n=Kr(t),r=-n/2;e.rect(r,r,n,n)}},CK=.8908130915292852,RD=nh(rh/10)/nh(7*rh/10),MK=nh(ap/10)*RD,PK=-AD(ap/10)*RD,OK={draw(e,t){const n=Kr(t*CK),r=MK*n,i=PK*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const l=ap*a/5,u=AD(l),c=nh(l);e.lineTo(c*n,-u*n),e.lineTo(u*r-c*i,c*r+u*i)}e.closePath()}},yv=Kr(3),IK={draw(e,t){const n=-Kr(t/(yv*3));e.moveTo(0,n*2),e.lineTo(-yv*n,-n),e.lineTo(yv*n,-n),e.closePath()}},_r=-.5,Sr=Kr(3)/2,z0=1/Kr(12),NK=(z0/2+1)*3,DK={draw(e,t){const n=Kr(t/NK),r=n/2,i=n*z0,a=r,l=n*z0+n,u=-a,c=l;e.moveTo(r,i),e.lineTo(a,l),e.lineTo(u,c),e.lineTo(_r*r-Sr*i,Sr*r+_r*i),e.lineTo(_r*a-Sr*l,Sr*a+_r*l),e.lineTo(_r*u-Sr*c,Sr*u+_r*c),e.lineTo(_r*r+Sr*i,_r*i-Sr*r),e.lineTo(_r*a+Sr*l,_r*l-Sr*a),e.lineTo(_r*u+Sr*c,_r*c-Sr*u),e.closePath()}};function RK(e,t){let n=null,r=g_(i);e=typeof e=="function"?e:ot(e||y_),t=typeof t=="function"?t:ot(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:ot(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:ot(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function ih(){}function ah(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function kD(e){this._context=e}kD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ah(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ah(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function kK(e){return new kD(e)}function LD(e){this._context=e}LD.prototype={areaStart:ih,areaEnd:ih,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ah(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function LK(e){return new LD(e)}function UD(e){this._context=e}UD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ah(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function UK(e){return new UD(e)}function jD(e){this._context=e}jD.prototype={areaStart:ih,areaEnd:ih,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function jK(e){return new jD(e)}function _1(e){return e<0?-1:1}function S1(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),u=(a*i+l*r)/(r+i);return(_1(a)+_1(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(u))||0}function T1(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function bv(e,t,n){var r=e._x0,i=e._y0,a=e._x1,l=e._y1,u=(a-r)/3;e._context.bezierCurveTo(r+u,i+u*t,a-u,l-u*n,a,l)}function oh(e){this._context=e}oh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:bv(this,this._t0,T1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,bv(this,T1(this,n=S1(this,e,t)),n);break;default:bv(this,this._t0,n=S1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function qD(e){this._context=new zD(e)}(qD.prototype=Object.create(oh.prototype)).point=function(e,t){oh.prototype.point.call(this,t,e)};function zD(e){this._context=e}zD.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function qK(e){return new oh(e)}function zK(e){return new qD(e)}function BD(e){this._context=e}BD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=E1(e),i=E1(t),a=0,l=1;l<n;++a,++l)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function E1(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),l=new Array(n);for(i[0]=0,a[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,l[t]-=r*l[t-1];for(i[n-1]=l[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(l[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function BK(e){return new BD(e)}function sp(e,t){this._context=e,this._t=t}sp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function $K(e){return new sp(e,.5)}function FK(e){return new sp(e,0)}function HK(e){return new sp(e,1)}function ul(e,t){if((l=e.length)>1)for(var n=1,r,i,a=e[t[0]],l,u=a.length;n<l;++n)for(i=a,a=e[t[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function B0(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function GK(e,t){return e[t]}function VK(e){const t=[];return t.key=e,t}function KK(){var e=ot([]),t=B0,n=ul,r=GK;function i(a){var l=Array.from(e.apply(this,arguments),VK),u,c=l.length,d=-1,h;for(const m of a)for(u=0,++d;u<c;++u)(l[u][d]=[0,+r(m,l[u].key,d,a)]).data=m;for(u=0,h=v_(t(l));u<c;++u)l[h[u]].index=u;return n(l,h),l}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:ot(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:ot(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?B0:typeof a=="function"?a:ot(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??ul,i):n},i}function YK(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,l;i<a;++i){for(l=n=0;n<r;++n)l+=e[n][i][1]||0;if(l)for(n=0;n<r;++n)e[n][i][1]/=l}ul(e,t)}}function WK(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var l=0,u=0;l<i;++l)u+=e[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}ul(e,t)}}function JK(e,t){if(!(!((l=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,l;r<a;++r){for(var u=0,c=0,d=0;u<l;++u){for(var h=e[t[u]],m=h[r][1]||0,v=h[r-1][1]||0,_=(m-v)/2,T=0;T<u;++T){var w=e[t[T]],E=w[r][1]||0,C=w[r-1][1]||0;_+=E-C}c+=m,d+=_*m}i[r-1][1]+=i[r-1][0]=n,c&&(n-=d/c)}i[r-1][1]+=i[r-1][0]=n,ul(e,t)}}var _v={},Sv={},w1;function XK(){return w1||(w1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Sv)),Sv}var Tv={},x1;function $D(){return x1||(x1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Tv)),Tv}var Ev={},A1;function b_(){return A1||(A1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(Ev)),Ev}var wv={},xv={},C1;function QK(){return C1||(C1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(xv)),xv}var M1;function __(){return M1||(M1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QK(),n=b_();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],l=i.length;if(l===0)return a;let u=0,c="",d="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),u++);u<l;){const m=i[u];d?m==="\\"&&u+1<l?(u++,c+=i[u]):m===d?d="":c+=m:h?m==='"'||m==="'"?d=m:m==="]"?(h=!1,a.push(c),c=""):c+=m:m==="["?(h=!0,c&&(a.push(c),c="")):m==="."?c&&(a.push(c),c=""):c+=m,u++}return c&&a.push(c),a}e.toPath=r})(wv)),wv}var P1;function S_(){return P1||(P1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XK(),n=$D(),r=b_(),i=__();function a(u,c,d){if(u==null)return d;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return d;const h=u[c];return h===void 0?n.isDeepKey(c)?a(u,i.toPath(c),d):d:h}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const h=u[c];return h===void 0?d:h}default:{if(Array.isArray(c))return l(u,c,d);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return d;const h=u[c];return h===void 0?d:h}}}function l(u,c,d){if(c.length===0)return d;let h=u;for(let m=0;m<c.length;m++){if(h==null||t.isUnsafeProperty(c[m]))return d;h=h[c[m]]}return h===void 0?d:h}e.get=a})(_v)),_v}var Av,O1;function ZK(){return O1||(O1=1,Av=S_().get),Av}var eY=ZK();const lp=sa(eY);var xr=e=>e===0?0:e>0?1:-1,Pr=e=>typeof e=="number"&&e!=+e,ta=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ee=e=>(typeof e=="number"||e instanceof Number)&&!Pr(e),Or=e=>Ee(e)||typeof e=="string",tY=0,ic=e=>{var t=++tY;return"".concat(e||"").concat(t)},Ja=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ee(t)&&typeof t!="string")return r;var a;if(ta(t)){if(n==null)return r;var l=t.indexOf("%");a=n*parseFloat(t.slice(0,l))/100}else a=+t;return Pr(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},FD=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function Fn(e,t,n){return Ee(e)&&Ee(t)?e+n*(t-e):t}function HD(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):lp(r,t))===n)}var tn=e=>e===null||typeof e>"u",Ac=e=>tn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function nY(e){return e!=null}function Cc(){}var rY=["type","size","sizeType"];function $0(){return $0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$0.apply(null,arguments)}function I1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function N1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I1(Object(n),!0).forEach(function(r){iY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iY(e,t,n){return(t=aY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aY(e){var t=oY(e,"string");return typeof t=="symbol"?t:t+""}function oY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sY(e,t){if(e==null)return{};var n,r,i=lY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var GD={symbolCircle:y_,symbolCross:EK,symbolDiamond:xK,symbolSquare:AK,symbolStar:OK,symbolTriangle:IK,symbolWye:DK},uY=Math.PI/180,cY=e=>{var t="symbol".concat(Ac(e));return GD[t]||y_},fY=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*uY;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},dY=(e,t)=>{GD["symbol".concat(Ac(e))]=t},T_=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=sY(e,rY),a=N1(N1({},i),{},{type:t,size:n,sizeType:r}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var v=cY(l),_=RK().type(v).size(fY(n,r,l)),T=_();if(T!==null)return T},{className:c,cx:d,cy:h}=a,m=wn(a);return Ee(d)&&Ee(h)&&Ee(n)?x.createElement("path",$0({},m,{className:Ze("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(h,")"),d:u()})):null};T_.registerSymbol=dY;var VD=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,E_=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{p_(i)&&(r[i]=(a=>n[i](n,a)))}),r},hY=(e,t,n)=>r=>(e(t,n,r),null),KD=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];p_(i)&&typeof a=="function"&&(r||(r={}),r[i]=hY(a,t,n))}),r};function D1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D1(Object(n),!0).forEach(function(r){mY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mY(e,t,n){return(t=gY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gY(e){var t=vY(e,"string");return typeof t=="symbol"?t:t+""}function vY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mn(e,t){var n=pY({},e),r=t,i=Object.keys(t),a=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return a}function sh(){return sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sh.apply(null,arguments)}function R1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R1(Object(n),!0).forEach(function(r){bY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bY(e,t,n){return(t=_Y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Y(e){var t=SY(e,"string");return typeof t=="symbol"?t:t+""}function SY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Er=32,TY={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function EY(e){var{data:t,iconType:n,inactiveColor:r}=e,i=Er/2,a=Er/6,l=Er/3,u=t.inactive?r:t.color,c=n??t.type;if(c==="none")return null;if(c==="plainline"){var d;return x.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(d=t.payload)===null||d===void 0?void 0:d.strokeDasharray,x1:0,y1:i,x2:Er,y2:i,className:"recharts-legend-icon"})}if(c==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Er,"M").concat(2*l,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return x.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Er/8,"h").concat(Er,"v").concat(Er*3/4,"h").concat(-Er,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var h=yY({},t);return delete h.legendIcon,x.cloneElement(t.legendIcon,h)}return x.createElement(T_,{fill:u,cx:i,cy:i,size:Er,sizeType:"diameter",type:c})}function wY(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:l}=e,u={x:0,y:0,width:Er,height:Er},c={display:r==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,m)=>{var v=h.formatter||i,_=Ze({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:h.inactive});if(h.type==="none")return null;var T=h.inactive?a:h.color,w=v?v(h.value,h,m):h.value;return x.createElement("li",sh({className:_,style:c,key:"legend-item-".concat(m)},KD(e,h,m)),x.createElement(m_,{width:n,height:n,viewBox:u,style:d,"aria-label":"".concat(w," legend icon")},x.createElement(EY,{data:h,iconType:l,inactiveColor:a})),x.createElement("span",{className:"recharts-legend-item-text",style:{color:T}},w))})}var xY=e=>{var t=mn(e,TY),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:a},x.createElement(wY,sh({},t,{payload:n})))},Cv={},Mv={},k1;function AY(){return k1||(k1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const l=n[a],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}e.uniqBy=t})(Mv)),Mv}var Pv={},L1;function YD(){return L1||(L1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Pv)),Pv}var Ov={},Iv={},Nv={},U1;function CY(){return U1||(U1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Nv)),Nv}var j1;function w_(){return j1||(j1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CY();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Iv)),Iv}var Dv={},q1;function MY(){return q1||(q1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(Dv)),Dv}var z1;function PY(){return z1||(z1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w_(),n=MY();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(Ov)),Ov}var Rv={},kv={},B1;function OY(){return B1||(B1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S_();function n(r){return function(i){return t.get(i,r)}}e.property=n})(kv)),kv}var Lv={},Uv={},jv={},qv={},$1;function WD(){return $1||($1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(qv)),qv}var zv={},F1;function JD(){return F1||(F1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(zv)),zv}var Bv={},H1;function XD(){return H1||(H1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(Bv)),Bv}var G1;function IY(){return G1||(G1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WD(),n=JD(),r=XD();function i(h,m,v){return typeof v!="function"?i(h,m,()=>{}):a(h,m,function _(T,w,E,C,O,P){const D=v(T,w,E,C,O,P);return D!==void 0?!!D:a(T,w,_,P)},new Map)}function a(h,m,v,_){if(m===h)return!0;switch(typeof m){case"object":return l(h,m,v,_);case"function":return Object.keys(m).length>0?a(h,{...m},v,_):r.eq(h,m);default:return t.isObject(h)?typeof m=="string"?m==="":!0:r.eq(h,m)}}function l(h,m,v,_){if(m==null)return!0;if(Array.isArray(m))return c(h,m,v,_);if(m instanceof Map)return u(h,m,v,_);if(m instanceof Set)return d(h,m,v,_);const T=Object.keys(m);if(h==null)return T.length===0;if(T.length===0)return!0;if(_?.has(m))return _.get(m)===h;_?.set(m,h);try{for(let w=0;w<T.length;w++){const E=T[w];if(!n.isPrimitive(h)&&!(E in h)||m[E]===void 0&&h[E]!==void 0||m[E]===null&&h[E]!==null||!v(h[E],m[E],E,h,m,_))return!1}return!0}finally{_?.delete(m)}}function u(h,m,v,_){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[T,w]of m.entries()){const E=h.get(T);if(v(E,w,T,h,m,_)===!1)return!1}return!0}function c(h,m,v,_){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const T=new Set;for(let w=0;w<m.length;w++){const E=m[w];let C=!1;for(let O=0;O<h.length;O++){if(T.has(O))continue;const P=h[O];let D=!1;if(v(P,E,w,h,m,_)&&(D=!0),D){T.add(O),C=!0;break}}if(!C)return!1}return!0}function d(h,m,v,_){return m.size===0?!0:h instanceof Set?c([...h],[...m],v,_):!1}e.isMatchWith=i,e.isSetMatch=d})(jv)),jv}var V1;function QD(){return V1||(V1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IY();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(Uv)),Uv}var $v={},Fv={},Hv={},K1;function NY(){return K1||(K1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(Hv)),Hv}var Gv={},Y1;function ZD(){return Y1||(Y1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(Gv)),Gv}var Vv={},W1;function eR(){return W1||(W1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",l="[object Symbol]",u="[object Date]",c="[object Map]",d="[object Set]",h="[object Array]",m="[object Function]",v="[object ArrayBuffer]",_="[object Object]",T="[object Error]",w="[object DataView]",E="[object Uint8Array]",C="[object Uint8ClampedArray]",O="[object Uint16Array]",P="[object Uint32Array]",D="[object BigUint64Array]",I="[object Int8Array]",R="[object Int16Array]",k="[object Int32Array]",z="[object BigInt64Array]",$="[object Float32Array]",re="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=v,e.arrayTag=h,e.bigInt64ArrayTag=z,e.bigUint64ArrayTag=D,e.booleanTag=i,e.dataViewTag=w,e.dateTag=u,e.errorTag=T,e.float32ArrayTag=$,e.float64ArrayTag=re,e.functionTag=m,e.int16ArrayTag=R,e.int32ArrayTag=k,e.int8ArrayTag=I,e.mapTag=c,e.numberTag=r,e.objectTag=_,e.regexpTag=t,e.setTag=d,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=O,e.uint32ArrayTag=P,e.uint8ArrayTag=E,e.uint8ClampedArrayTag=C})(Vv)),Vv}var Kv={},J1;function DY(){return J1||(J1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(Kv)),Kv}var X1;function tR(){return X1||(X1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NY(),n=ZD(),r=eR(),i=JD(),a=DY();function l(h,m){return u(h,void 0,h,new Map,m)}function u(h,m,v,_=new Map,T=void 0){const w=T?.(h,m,v,_);if(w!==void 0)return w;if(i.isPrimitive(h))return h;if(_.has(h))return _.get(h);if(Array.isArray(h)){const E=new Array(h.length);_.set(h,E);for(let C=0;C<h.length;C++)E[C]=u(h[C],C,v,_,T);return Object.hasOwn(h,"index")&&(E.index=h.index),Object.hasOwn(h,"input")&&(E.input=h.input),E}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const E=new RegExp(h.source,h.flags);return E.lastIndex=h.lastIndex,E}if(h instanceof Map){const E=new Map;_.set(h,E);for(const[C,O]of h)E.set(C,u(O,C,v,_,T));return E}if(h instanceof Set){const E=new Set;_.set(h,E);for(const C of h)E.add(u(C,void 0,v,_,T));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const E=new(Object.getPrototypeOf(h)).constructor(h.length);_.set(h,E);for(let C=0;C<h.length;C++)E[C]=u(h[C],C,v,_,T);return E}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const E=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return _.set(h,E),c(E,h,v,_,T),E}if(typeof File<"u"&&h instanceof File){const E=new File([h],h.name,{type:h.type});return _.set(h,E),c(E,h,v,_,T),E}if(typeof Blob<"u"&&h instanceof Blob){const E=new Blob([h],{type:h.type});return _.set(h,E),c(E,h,v,_,T),E}if(h instanceof Error){const E=new h.constructor;return _.set(h,E),E.message=h.message,E.name=h.name,E.stack=h.stack,E.cause=h.cause,c(E,h,v,_,T),E}if(h instanceof Boolean){const E=new Boolean(h.valueOf());return _.set(h,E),c(E,h,v,_,T),E}if(h instanceof Number){const E=new Number(h.valueOf());return _.set(h,E),c(E,h,v,_,T),E}if(h instanceof String){const E=new String(h.valueOf());return _.set(h,E),c(E,h,v,_,T),E}if(typeof h=="object"&&d(h)){const E=Object.create(Object.getPrototypeOf(h));return _.set(h,E),c(E,h,v,_,T),E}return h}function c(h,m,v=h,_,T){const w=[...Object.keys(m),...t.getSymbols(m)];for(let E=0;E<w.length;E++){const C=w[E],O=Object.getOwnPropertyDescriptor(h,C);(O==null||O.writable)&&(h[C]=u(m[C],C,v,_,T))}}function d(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=c})(Fv)),Fv}var Q1;function RY(){return Q1||(Q1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tR();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})($v)),$v}var Z1;function kY(){return Z1||(Z1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QD(),n=RY();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(Lv)),Lv}var Yv={},Wv={},Jv={},eM;function LY(){return eM||(eM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tR(),n=eR();function r(i,a){return t.cloneDeepWith(i,(l,u,c,d)=>{const h=a?.(l,u,c,d);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i?.valueOf());return t.copyProperties(m,i),m}case n.argumentsTag:{const m={};return t.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}e.cloneDeepWith=r})(Jv)),Jv}var tM;function UY(){return tM||(tM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LY();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(Wv)),Wv}var Xv={},Qv={},nM;function nR(){return nM||(nM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Qv)),Qv}var Zv={},rM;function jY(){return rM||(rM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZD();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(Zv)),Zv}var iM;function qY(){return iM||(iM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$D(),n=nR(),r=jY(),i=__();function a(l,u){let c;if(Array.isArray(u)?c=u:typeof u=="string"&&t.isDeepKey(u)&&l?.[u]==null?c=i.toPath(u):c=[u],c.length===0)return!1;let d=l;for(let h=0;h<c.length;h++){const m=c[h];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}e.has=a})(Xv)),Xv}var aM;function zY(){return aM||(aM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QD(),n=b_(),r=UY(),i=S_(),a=qY();function l(u,c){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return c=r.cloneDeep(c),function(d){const h=i.get(d,u);return h===void 0?a.has(d,u):c===void 0?h===void 0:t.isMatch(h,c)}}e.matchesProperty=l})(Yv)),Yv}var oM;function BY(){return oM||(oM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YD(),n=OY(),r=kY(),i=zY();function a(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=a})(Rv)),Rv}var sM;function $Y(){return sM||(sM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AY(),n=YD(),r=PY(),i=BY();function a(l,u=n.identity){return r.isArrayLikeObject(l)?t.uniqBy(Array.from(l),i.iteratee(u)):[]}e.uniqBy=a})(Cv)),Cv}var ey,lM;function FY(){return lM||(lM=1,ey=$Y().uniqBy),ey}var HY=FY();const uM=sa(HY);function rR(e,t,n){return t===!0?uM(e,n):typeof t=="function"?uM(e,t):e}var ty={exports:{}},ny={},ry={exports:{}},iy={};var cM;function GY(){if(cM)return iy;cM=1;var e=vl();function t(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,l=e.useDebugValue;function u(m,v){var _=v(),T=r({inst:{value:_,getSnapshot:v}}),w=T[0].inst,E=T[1];return a(function(){w.value=_,w.getSnapshot=v,c(w)&&E({inst:w})},[m,_,v]),i(function(){return c(w)&&E({inst:w}),m(function(){c(w)&&E({inst:w})})},[m]),l(_),_}function c(m){var v=m.getSnapshot;m=m.value;try{var _=v();return!n(m,_)}catch{return!0}}function d(m,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return iy.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,iy}var fM;function VY(){return fM||(fM=1,ry.exports=GY()),ry.exports}var dM;function KY(){if(dM)return ny;dM=1;var e=vl(),t=VY();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,l=e.useEffect,u=e.useMemo,c=e.useDebugValue;return ny.useSyncExternalStoreWithSelector=function(d,h,m,v,_){var T=a(null);if(T.current===null){var w={hasValue:!1,value:null};T.current=w}else w=T.current;T=u(function(){function C(R){if(!O){if(O=!0,P=R,R=v(R),_!==void 0&&w.hasValue){var k=w.value;if(_(k,R))return D=k}return D=R}if(k=D,r(P,R))return k;var z=v(R);return _!==void 0&&_(k,z)?(P=R,k):(P=R,D=z)}var O=!1,P,D,I=m===void 0?null:m;return[function(){return C(h())},I===null?void 0:function(){return C(I())}]},[h,m,v,_]);var E=i(d,T[0],T[1]);return l(function(){w.hasValue=!0,w.value=E},[E]),c(E),E},ny}var hM;function YY(){return hM||(hM=1,ty.exports=KY()),ty.exports}var WY=YY(),x_=x.createContext(null),JY=e=>e,Pt=()=>{var e=x.useContext(x_);return e?e.store.dispatch:JY},Ud=()=>{},XY=()=>Ud,QY=(e,t)=>e===t;function be(e){var t=x.useContext(x_);return WY.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:XY,t?t.store.getState:Ud,t?t.store.getState:Ud,t?e:Ud,QY)}function ZY(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function e9(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function t9(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var pM=e=>Array.isArray(e)?e:[e];function n9(e){const t=Array.isArray(e[0])?e[0]:e;return t9(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function r9(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var i9=class{constructor(e){this.value=e}deref(){return this.value}},a9=typeof WeakRef<"u"?WeakRef:i9,o9=0,mM=1;function dd(){return{s:o9,v:void 0,o:null,p:null}}function iR(e,t={}){let n=dd();const{resultEqualityCheck:r}=t;let i,a=0;function l(){let u=n;const{length:c}=arguments;for(let m=0,v=c;m<v;m++){const _=arguments[m];if(typeof _=="function"||typeof _=="object"&&_!==null){let T=u.o;T===null&&(u.o=T=new WeakMap);const w=T.get(_);w===void 0?(u=dd(),T.set(_,u)):u=w}else{let T=u.p;T===null&&(u.p=T=new Map);const w=T.get(_);w===void 0?(u=dd(),T.set(_,u)):u=w}}const d=u;let h;if(u.s===mM)h=u.v;else if(h=e.apply(null,arguments),a++,r){const m=i?.deref?.()??i;m!=null&&r(m,h)&&(h=m,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new a9(h):h}return d.s=mM,d.v=h,h}return l.clearCache=()=>{n=dd(),l.resetResultsCount()},l.resultsCount=()=>a,l.resetResultsCount=()=>{a=0},l}function s9(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,l=0,u,c={},d=i.pop();typeof d=="object"&&(c=d,d=i.pop()),ZY(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...c},{memoize:m,memoizeOptions:v=[],argsMemoize:_=iR,argsMemoizeOptions:T=[]}=h,w=pM(v),E=pM(T),C=n9(i),O=m(function(){return a++,d.apply(null,arguments)},...w),P=_(function(){l++;const I=r9(C,arguments);return u=O.apply(null,I),u},...E);return Object.assign(P,{resultFunc:d,memoizedResultFunc:O,dependencies:C,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:m,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var X=s9(iR),l9=Object.assign((e,t=X)=>{e9(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((l,u,c)=>(l[n[c]]=u,l),{}))},{withTypes:()=>l9}),ay={},oy={},sy={},gM;function u9(){return gM||(gM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const l=t(r),u=t(i);if(l===u&&l===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?u-l:l-u}return 0};e.compareValues=n})(sy)),sy}var ly={},uy={},vM;function aR(){return vM||(vM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(uy)),uy}var yM;function c9(){return yM||(yM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aR(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,l){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||l!=null&&Object.hasOwn(l,a)}e.isKey=i})(ly)),ly}var bM;function f9(){return bM||(bM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u9(),n=c9(),r=__();function i(a,l,u,c){if(a==null)return[];u=c?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(_=>String(_));const d=(_,T)=>{let w=_;for(let E=0;E<T.length&&w!=null;++E)w=w[T[E]];return w},h=(_,T)=>T==null||_==null?T:typeof _=="object"&&"key"in _?Object.hasOwn(T,_.key)?T[_.key]:d(T,_.path):typeof _=="function"?_(T):Array.isArray(_)?d(T,_):typeof T=="object"?T[_]:T,m=l.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return a.map(_=>({original:_,criteria:m.map(T=>h(T,_))})).slice().sort((_,T)=>{for(let w=0;w<m.length;w++){const E=t.compareValues(_.criteria[w],T.criteria[w],u[w]);if(E!==0)return E}return 0}).map(_=>_.original)}e.orderBy=i})(oy)),oy}var cy={},_M;function d9(){return _M||(_M=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),l=(u,c)=>{for(let d=0;d<u.length;d++){const h=u[d];Array.isArray(h)&&c<a?l(h,c+1):i.push(h)}};return l(n,0),i}e.flatten=t})(cy)),cy}var fy={},SM;function oR(){return SM||(SM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nR(),n=w_(),r=WD(),i=XD();function a(l,u,c){return r.isObject(c)&&(typeof u=="number"&&n.isArrayLike(c)&&t.isIndex(u)&&u<c.length||typeof u=="string"&&u in c)?i.eq(c[u],l):!1}e.isIterateeCall=a})(fy)),fy}var TM;function h9(){return TM||(TM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f9(),n=d9(),r=oR();function i(a,...l){const u=l.length;return u>1&&r.isIterateeCall(a,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(a,n.flatten(l),["asc"])}e.sortBy=i})(ay)),ay}var dy,EM;function p9(){return EM||(EM=1,dy=h9().sortBy),dy}var m9=p9();const up=sa(m9);var sR=e=>e.legend.settings,g9=e=>e.legend.size,v9=e=>e.legend.payload,y9=X([v9,sR],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?up(r,n):r});function b9(){return be(y9)}var hd=1;function lR(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),l={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(l.height-t.height)>hd||Math.abs(l.left-t.left)>hd||Math.abs(l.top-t.top)>hd||Math.abs(l.width-t.width)>hd)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function fn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var _9=typeof Symbol=="function"&&Symbol.observable||"@@observable",wM=_9,hy=()=>Math.random().toString(36).substring(7).split("").join("."),S9={INIT:`@@redux/INIT${hy()}`,REPLACE:`@@redux/REPLACE${hy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${hy()}`},lh=S9;function A_(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function uR(e,t,n){if(typeof e!="function")throw new Error(fn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(fn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(fn(1));return n(uR)(e,t)}let r=e,i=t,a=new Map,l=a,u=0,c=!1;function d(){l===a&&(l=new Map,a.forEach((E,C)=>{l.set(C,E)}))}function h(){if(c)throw new Error(fn(3));return i}function m(E){if(typeof E!="function")throw new Error(fn(4));if(c)throw new Error(fn(5));let C=!0;d();const O=u++;return l.set(O,E),function(){if(C){if(c)throw new Error(fn(6));C=!1,d(),l.delete(O),a=null}}}function v(E){if(!A_(E))throw new Error(fn(7));if(typeof E.type>"u")throw new Error(fn(8));if(typeof E.type!="string")throw new Error(fn(17));if(c)throw new Error(fn(9));try{c=!0,i=r(i,E)}finally{c=!1}return(a=l).forEach(O=>{O()}),E}function _(E){if(typeof E!="function")throw new Error(fn(10));r=E,v({type:lh.REPLACE})}function T(){const E=m;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(fn(11));function O(){const D=C;D.next&&D.next(h())}return O(),{unsubscribe:E(O)}},[wM](){return this}}}return v({type:lh.INIT}),{dispatch:v,subscribe:m,getState:h,replaceReducer:_,[wM]:T}}function T9(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:lh.INIT})>"u")throw new Error(fn(12));if(typeof n(void 0,{type:lh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(fn(13))})}function cR(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const l=t[a];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let i;try{T9(n)}catch(a){i=a}return function(l={},u){if(i)throw i;let c=!1;const d={};for(let h=0;h<r.length;h++){const m=r[h],v=n[m],_=l[m],T=v(_,u);if(typeof T>"u")throw u&&u.type,new Error(fn(14));d[m]=T,c=c||T!==_}return c=c||r.length!==Object.keys(l).length,c?d:l}}function uh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function E9(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(fn(15))};const l={getState:i.getState,dispatch:(c,...d)=>a(c,...d)},u=e.map(c=>c(l));return a=uh(...u)(i.dispatch),{...i,dispatch:a}}}function fR(e){return A_(e)&&"type"in e&&typeof e.type=="string"}var dR=Symbol.for("immer-nothing"),xM=Symbol.for("immer-draftable"),Pn=Symbol.for("immer-state");function zr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ir=Object,cl=ir.getPrototypeOf,ch="constructor",cp="prototype",F0="configurable",fh="enumerable",jd="writable",ac="value",na=e=>!!e&&!!e[Pn];function ai(e){return e?hR(e)||fp(e)||!!e[xM]||!!e[ch]?.[xM]||dp(e)||hp(e):!1}var w9=ir[cp][ch].toString(),AM=new WeakMap;function hR(e){if(!e||!C_(e))return!1;const t=cl(e);if(t===null||t===ir[cp])return!0;const n=ir.hasOwnProperty.call(t,ch)&&t[ch];if(n===Object)return!0;if(!Ys(n))return!1;let r=AM.get(n);return r===void 0&&(r=Function.toString.call(n),AM.set(n,r)),r===w9}function Mc(e,t,n=!0){Pc(e)===0?(n?Reflect.ownKeys(e):ir.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Pc(e){const t=e[Pn];return t?t.type_:fp(e)?1:dp(e)?2:hp(e)?3:0}var CM=(e,t,n=Pc(e))=>n===2?e.has(t):ir[cp].hasOwnProperty.call(e,t),H0=(e,t,n=Pc(e))=>n===2?e.get(t):e[t],dh=(e,t,n,r=Pc(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function x9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var fp=Array.isArray,dp=e=>e instanceof Map,hp=e=>e instanceof Set,C_=e=>typeof e=="object",Ys=e=>typeof e=="function",py=e=>typeof e=="boolean",qi=e=>e.copy_||e.base_,M_=e=>e.modified_?e.copy_:e.base_;function G0(e,t){if(dp(e))return new Map(e);if(hp(e))return new Set(e);if(fp(e))return Array[cp].slice.call(e);const n=hR(e);if(t===!0||t==="class_only"&&!n){const r=ir.getOwnPropertyDescriptors(e);delete r[Pn];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],u=r[l];u[jd]===!1&&(u[jd]=!0,u[F0]=!0),(u.get||u.set)&&(r[l]={[F0]:!0,[jd]:!0,[fh]:u[fh],[ac]:e[l]})}return ir.create(cl(e),r)}else{const r=cl(e);if(r!==null&&n)return{...e};const i=ir.create(r);return ir.assign(i,e)}}function P_(e,t=!1){return pp(e)||na(e)||(Pc(e)>1&&ir.defineProperties(e,{set:pd,add:pd,clear:pd,delete:pd}),ir.freeze(e),t&&Mc(e,(n,r)=>{P_(r,!0)},!1)),e}function A9(){zr(2)}var pd={[ac]:A9};function pp(e){return e===null||!C_(e)?!0:ir.isFrozen(e)}var hh="MapSet",V0="Patches",pR={};function fl(e){const t=pR[e];return t||zr(0,e),t}var C9=e=>!!pR[e],oc,mR=()=>oc,M9=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:C9(hh)?fl(hh):void 0});function MM(e,t){t&&(e.patchPlugin_=fl(V0),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function K0(e){Y0(e),e.drafts_.forEach(P9),e.drafts_=null}function Y0(e){e===oc&&(oc=e.parent_)}var PM=e=>oc=M9(oc,e);function P9(e){const t=e[Pn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function OM(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Pn].modified_&&(K0(t),zr(4)),ai(e)&&(e=IM(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Pn].base_,e,t)}else e=IM(t,n);return O9(t,e,!0),K0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==dR?e:void 0}function IM(e,t){if(pp(t))return t;const n=t[Pn];if(!n)return O_(t,e.handledSet_,e);if(!mp(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);yR(n,e)}return n.copy_}function O9(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&P_(t,n)}function gR(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var mp=(e,t)=>e.scope_===t,I9=[];function vR(e,t,n,r){const i=qi(e),a=e.type_;if(r!==void 0&&H0(i,r,a)===t){dh(i,r,n,a);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;Mc(i,(c,d)=>{if(na(d)){const h=u.get(d)||[];h.push(c),u.set(d,h)}})}const l=e.draftLocations_.get(t)??I9;for(const u of l)dh(i,u,n,a)}function N9(e,t,n){e.callbacks_.push(function(i){const a=t;if(!a||!mp(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const l=M_(a);vR(e,a.draft_??a,l,n),yR(a,i)})}function yR(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}gR(e)}}function D9(e,t,n){const{scope_:r}=e;if(na(n)){const i=n[Pn];mp(i,r)&&i.callbacks_.push(function(){qd(e);const l=M_(i);vR(e,n,l,t)})}else ai(n)&&e.callbacks_.push(function(){const a=qi(e);H0(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&O_(H0(e.copy_,t,e.type_),r.handledSet_,r)})}function O_(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||na(e)||t.has(e)||!ai(e)||pp(e)||(t.add(e),Mc(e,(r,i)=>{if(na(i)){const a=i[Pn];if(mp(a,n)){const l=M_(a);dh(e,r,l,e.type_),gR(a)}}else ai(i)&&O_(i,t,n)})),e}function R9(e,t){const n=fp(e),r={type_:n?1:0,scope_:t?t.scope_:mR(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=I_;n&&(i=[r],a=sc);const{revoke:l,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=l,[u,r]}var I_={get(e,t){if(t===Pn)return e;const n=qi(e);if(!CM(n,t,e.type_))return k9(e,n,t);const r=n[t];if(e.finalized_||!ai(r))return r;if(r===my(e.base_,t)){qd(e);const i=e.type_===1?+t:t,a=J0(e.scope_,r,e,i);return e.copy_[i]=a}return r},has(e,t){return t in qi(e)},ownKeys(e){return Reflect.ownKeys(qi(e))},set(e,t,n){const r=bR(qi(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=my(qi(e),t),a=i?.[Pn];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(x9(n,i)&&(n!==void 0||CM(e.base_,t,e.type_)))return!0;qd(e),W0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),D9(e,t,n)),!0},deleteProperty(e,t){return qd(e),my(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),W0(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=qi(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[jd]:!0,[F0]:e.type_!==1||t!=="length",[fh]:r[fh],[ac]:n[t]}},defineProperty(){zr(11)},getPrototypeOf(e){return cl(e.base_)},setPrototypeOf(){zr(12)}},sc={};Mc(I_,(e,t)=>{sc[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});sc.deleteProperty=function(e,t){return sc.set.call(this,e,t,void 0)};sc.set=function(e,t,n){return I_.set.call(this,e[0],t,n,e[0])};function my(e,t){const n=e[Pn];return(n?qi(n):e)[t]}function k9(e,t,n){const r=bR(t,n);return r?ac in r?r[ac]:r.get?.call(e.draft_):void 0}function bR(e,t){if(!(t in e))return;let n=cl(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=cl(n)}}function W0(e){e.modified_||(e.modified_=!0,e.parent_&&W0(e.parent_))}function qd(e){e.copy_||(e.assigned_=new Map,e.copy_=G0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var L9=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Ys(n)&&!Ys(r)){const l=r;r=n;const u=this;return function(d=l,...h){return u.produce(d,m=>r.call(this,m,...h))}}Ys(r)||zr(6),i!==void 0&&!Ys(i)&&zr(7);let a;if(ai(n)){const l=PM(this),u=J0(l,n,void 0);let c=!0;try{a=r(u),c=!1}finally{c?K0(l):Y0(l)}return MM(l,i),OM(a,l)}else if(!n||!C_(n)){if(a=r(n),a===void 0&&(a=n),a===dR&&(a=void 0),this.autoFreeze_&&P_(a,!0),i){const l=[],u=[];fl(V0).generateReplacementPatches_(n,a,{patches_:l,inversePatches_:u}),i(l,u)}return a}else zr(1,n)},this.produceWithPatches=(n,r)=>{if(Ys(n))return(u,...c)=>this.produceWithPatches(u,d=>n(d,...c));let i,a;return[this.produce(n,r,(u,c)=>{i=u,a=c}),i,a]},py(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),py(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),py(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ai(t)||zr(8),na(t)&&(t=Fr(t));const n=PM(this),r=J0(n,t,void 0);return r[Pn].isManual_=!0,Y0(n),r}finishDraft(t,n){const r=t&&t[Pn];(!r||!r.isManual_)&&zr(9);const{scope_:i}=r;return MM(i,n),OM(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=fl(V0).applyPatches_;return na(t)?i(t,n):this.produce(t,a=>i(a,n))}};function J0(e,t,n,r){const[i,a]=dp(t)?fl(hh).proxyMap_(t,n):hp(t)?fl(hh).proxySet_(t,n):R9(t,n);return(n?.scope_??mR()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?N9(n,a,r):a.callbacks_.push(function(c){c.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:d}=c;a.modified_&&d&&d.generatePatches_(a,[],c)}),i}function Fr(e){return na(e)||zr(10,e),_R(e)}function _R(e){if(!ai(e)||pp(e))return e;const t=e[Pn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=G0(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=G0(e,!0);return Mc(n,(i,a)=>{dh(n,i,_R(a))},r),t&&(t.finalized_=!1),n}var U9=new L9,SR=U9.produce;function TR(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var j9=TR(),q9=TR,z9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?uh:uh.apply(null,arguments)};function Ir(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(or(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>fR(r)&&r.type===e,n}var ER=class Hu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Hu.prototype)}static get[Symbol.species](){return Hu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Hu(...t[0].concat(this)):new Hu(...t.concat(this))}};function NM(e){return ai(e)?SR(e,()=>{}):e}function md(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function B9(e){return typeof e=="boolean"}var $9=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let l=new ER;return n&&(B9(n)?l.push(j9):l.push(q9(n.extraArgument))),l},wR="RTK_autoBatch",gt=()=>e=>({payload:e,meta:{[wR]:!0}}),DM=e=>t=>{setTimeout(t,e)},xR=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,l=!1;const u=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:DM(10):e.type==="callback"?e.queueNotification:DM(e.timeout),d=()=>{l=!1,a&&(a=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const m=()=>i&&h(),v=r.subscribe(m);return u.add(h),()=>{v(),u.delete(h)}},dispatch(h){try{return i=!h?.meta?.[wR],a=!i,a&&(l||(l=!0,c(d))),r.dispatch(h)}finally{i=!0}}})},F9=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new ER(e);return r&&i.push(xR(typeof r=="object"?r:void 0)),i};function H9(e){const t=$9(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:l=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(A_(n))u=cR(n);else throw new Error(or(1));let c;typeof r=="function"?c=r(t):c=t();let d=uh;i&&(d=z9({trace:!1,...typeof i=="object"&&i}));const h=E9(...c),m=F9(h);let v=typeof l=="function"?l(m):m();const _=d(...v);return uR(u,a,_)}function AR(e){const t={},n=[];let r;const i={addCase(a,l){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(or(28));if(u in t)throw new Error(or(29));return t[u]=l,i},addAsyncThunk(a,l){return l.pending&&(t[a.pending.type]=l.pending),l.rejected&&(t[a.rejected.type]=l.rejected),l.fulfilled&&(t[a.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:a.settled,reducer:l.settled}),i},addMatcher(a,l){return n.push({matcher:a,reducer:l}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function G9(e){return typeof e=="function"}function V9(e,t){let[n,r,i]=AR(t),a;if(G9(e))a=()=>NM(e());else{const u=NM(e);a=()=>u}function l(u=a(),c){let d=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,m)=>{if(m)if(na(h)){const _=m(h,c);return _===void 0?h:_}else{if(ai(h))return SR(h,v=>m(v,c));{const v=m(h,c);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},u)}return l.getInitialState=a,l}var K9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Y9=(e=21)=>{let t="",n=e;for(;n--;)t+=K9[Math.random()*64|0];return t},W9=Symbol.for("rtk-slice-createasyncthunk");function J9(e,t){return`${e}/${t}`}function X9({creators:e}={}){const t=e?.asyncThunk?.[W9];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(or(11));const l=(typeof r.reducers=="function"?r.reducers(Z9()):r.reducers)||{},u=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(P,D){const I=typeof P=="string"?P:P.type;if(!I)throw new Error(or(12));if(I in c.sliceCaseReducersByType)throw new Error(or(13));return c.sliceCaseReducersByType[I]=D,d},addMatcher(P,D){return c.sliceMatchers.push({matcher:P,reducer:D}),d},exposeAction(P,D){return c.actionCreators[P]=D,d},exposeCaseReducer(P,D){return c.sliceCaseReducersByName[P]=D,d}};u.forEach(P=>{const D=l[P],I={reducerName:P,type:J9(i,P),createNotation:typeof r.reducers=="function"};t7(D)?r7(I,D,d,t):e7(I,D,d)});function h(){const[P={},D=[],I=void 0]=typeof r.extraReducers=="function"?AR(r.extraReducers):[r.extraReducers],R={...P,...c.sliceCaseReducersByType};return V9(r.initialState,k=>{for(let z in R)k.addCase(z,R[z]);for(let z of c.sliceMatchers)k.addMatcher(z.matcher,z.reducer);for(let z of D)k.addMatcher(z.matcher,z.reducer);I&&k.addDefaultCase(I)})}const m=P=>P,v=new Map,_=new WeakMap;let T;function w(P,D){return T||(T=h()),T(P,D)}function E(){return T||(T=h()),T.getInitialState()}function C(P,D=!1){function I(k){let z=k[P];return typeof z>"u"&&D&&(z=md(_,I,E)),z}function R(k=m){const z=md(v,D,()=>new WeakMap);return md(z,k,()=>{const $={};for(const[re,F]of Object.entries(r.selectors??{}))$[re]=Q9(F,k,()=>md(_,k,E),D);return $})}return{reducerPath:P,getSelectors:R,get selectors(){return R(I)},selectSlice:I}}const O={name:i,reducer:w,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:E,...C(a),injectInto(P,{reducerPath:D,...I}={}){const R=D??a;return P.inject({reducerPath:R,reducer:w},I),{...O,...C(R,!0)}}};return O}}function Q9(e,t,n,r){function i(a,...l){let u=t(a);return typeof u>"u"&&r&&(u=n()),e(u,...l)}return i.unwrapped=e,i}var Kn=X9();function Z9(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function e7({type:e,reducerName:t,createNotation:n},r,i){let a,l;if("reducer"in r){if(n&&!n7(r))throw new Error(or(17));a=r.reducer,l=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,l?Ir(e,l):Ir(e))}function t7(e){return e._reducerDefinitionType==="asyncThunk"}function n7(e){return e._reducerDefinitionType==="reducerWithPrepare"}function r7({type:e,reducerName:t},n,r,i){if(!i)throw new Error(or(18));const{payloadCreator:a,fulfilled:l,pending:u,rejected:c,settled:d,options:h}=n,m=i(e,a,h);r.exposeAction(t,m),l&&r.addCase(m.fulfilled,l),u&&r.addCase(m.pending,u),c&&r.addCase(m.rejected,c),d&&r.addMatcher(m.settled,d),r.exposeCaseReducer(t,{fulfilled:l||gd,pending:u||gd,rejected:c||gd,settled:d||gd})}function gd(){}var i7="task",CR="listener",MR="completed",N_="cancelled",a7=`task-${N_}`,o7=`task-${MR}`,X0=`${CR}-${N_}`,s7=`${CR}-${MR}`,gp=class{constructor(e){this.code=e,this.message=`${i7} ${N_} (reason: ${e})`}name="TaskAbortError";message},D_=(e,t)=>{if(typeof e!="function")throw new TypeError(or(32))},ph=()=>{},PR=(e,t=ph)=>(e.catch(t),e),OR=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),qo=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},zo=e=>{if(e.aborted){const{reason:t}=e;throw new gp(t)}};function IR(e,t){let n=ph;return new Promise((r,i)=>{const a=()=>i(new gp(e.reason));if(e.aborted){a();return}n=OR(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=ph})}var l7=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof gp?"cancelled":"rejected",error:n}}finally{t?.()}},mh=e=>t=>PR(IR(e,t).then(n=>(zo(e),n))),NR=e=>{const t=mh(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:il}=Object,RM={},vp="listenerMiddleware",u7=(e,t)=>{const n=r=>OR(e,()=>qo(r,e.reason));return(r,i)=>{D_(r);const a=new AbortController;n(a);const l=l7(async()=>{zo(e),zo(a.signal);const u=await r({pause:mh(a.signal),delay:NR(a.signal),signal:a.signal});return zo(a.signal),u},()=>qo(a,o7));return i?.autoJoin&&t.push(l.catch(ph)),{result:mh(e)(l),cancel(){qo(a,a7)}}}},c7=(e,t)=>{const n=async(r,i)=>{zo(t);let a=()=>{};const u=[new Promise((c,d)=>{let h=e({predicate:r,effect:(m,v)=>{v.unsubscribe(),c([m,v.getState(),v.getOriginalState()])}});a=()=>{h(),d()}})];i!=null&&u.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await IR(t,Promise.race(u));return zo(t),c}finally{a()}};return(r,i)=>PR(n(r,i))},DR=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Ir(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(or(21));return D_(a),{predicate:i,type:t,effect:a}},RR=il(e=>{const{type:t,predicate:n,effect:r}=DR(e);return{id:Y9(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(or(22))}}},{withTypes:()=>RR}),kM=(e,t)=>{const{type:n,effect:r,predicate:i}=DR(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},Q0=e=>{e.pending.forEach(t=>{qo(t,X0)})},f7=(e,t)=>()=>{for(const n of t.keys())Q0(n);e.clear()},LM=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},kR=il(Ir(`${vp}/add`),{withTypes:()=>kR}),d7=Ir(`${vp}/removeAll`),LR=il(Ir(`${vp}/remove`),{withTypes:()=>LR}),h7=(...e)=>{console.error(`${vp}/error`,...e)},Oc=(e={})=>{const t=new Map,n=new Map,r=_=>{const T=n.get(_)??0;n.set(_,T+1)},i=_=>{const T=n.get(_)??1;T===1?n.delete(_):n.set(_,T-1)},{extra:a,onError:l=h7}=e;D_(l);const u=_=>(_.unsubscribe=()=>t.delete(_.id),t.set(_.id,_),T=>{_.unsubscribe(),T?.cancelActive&&Q0(_)}),c=_=>{const T=kM(t,_)??RR(_);return u(T)};il(c,{withTypes:()=>c});const d=_=>{const T=kM(t,_);return T&&(T.unsubscribe(),_.cancelActive&&Q0(T)),!!T};il(d,{withTypes:()=>d});const h=async(_,T,w,E)=>{const C=new AbortController,O=c7(c,C.signal),P=[];try{_.pending.add(C),r(_),await Promise.resolve(_.effect(T,il({},w,{getOriginalState:E,condition:(D,I)=>O(D,I).then(Boolean),take:O,delay:NR(C.signal),pause:mh(C.signal),extra:a,signal:C.signal,fork:u7(C.signal,P),unsubscribe:_.unsubscribe,subscribe:()=>{t.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach((D,I,R)=>{D!==C&&(qo(D,X0),R.delete(D))})},cancel:()=>{qo(C,X0),_.pending.delete(C)},throwIfCancelled:()=>{zo(C.signal)}})))}catch(D){D instanceof gp||LM(l,D,{raisedBy:"effect"})}finally{await Promise.all(P),qo(C,s7),i(_),_.pending.delete(C)}},m=f7(t,n);return{middleware:_=>T=>w=>{if(!fR(w))return T(w);if(kR.match(w))return c(w.payload);if(d7.match(w)){m();return}if(LR.match(w))return d(w.payload);let E=_.getState();const C=()=>{if(E===RM)throw new Error(or(23));return E};let O;try{if(O=T(w),t.size>0){const P=_.getState(),D=Array.from(t.values());for(const I of D){let R=!1;try{R=I.predicate(w,P,E)}catch(k){R=!1,LM(l,k,{raisedBy:"predicate"})}R&&h(I,w,_,C)}}}finally{E=RM}return O},startListening:c,stopListening:d,clearListeners:m}};function or(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var p7={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},UR=Kn({name:"chartLayout",initialState:p7,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:m7,setLayout:g7,setChartSize:v7,setScale:y7}=UR.actions,b7=UR.reducer;function jR(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function UM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UM(Object(n),!0).forEach(function(r){_7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _7(e,t,n){return(t=S7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S7(e){var t=T7(e,"string");return typeof t=="symbol"?t:t+""}function T7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function En(e,t,n){return tn(e)||tn(t)?n:Or(t)?lp(e,t,n):typeof t=="function"?t(e):n}var E7=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&a!=="center"&&Ee(e[a]))return Xs(Xs({},e),{},{[a]:e[a]+(r||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&l!=="middle"&&Ee(e[l]))return Xs(Xs({},e),{},{[l]:e[l]+(i||0)})}return e},no=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",qR=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var i,a,l=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===n&&(a=!0),u.coordinate));return i||l.push(t),a||l.push(n),l},zR=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:l,realScaleType:u,isCategorical:c,categoricalDomain:d,tickCount:h,ticks:m,niceTicks:v,axisType:_}=e;if(!l)return null;var T=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,w=i==="category"&&l.bandwidth?l.bandwidth()/T:0;if(w=_==="angleAxis"&&a&&a.length>=2?xr(a[0]-a[1])*2*w:w,m||v){var E=(m||v||[]).map((C,O)=>{var P=r?r.indexOf(C):C;return{coordinate:l(P)+w,value:C,offset:w,index:O}});return E.filter(C=>!Pr(C.coordinate))}return c&&d?d.map((C,O)=>({coordinate:l(C)+w,value:C,index:O,offset:w})):l.ticks&&h!=null?l.ticks(h).map((C,O)=>({coordinate:l(C)+w,value:C,offset:w,index:O})):l.domain().map((C,O)=>({coordinate:l(C)+w,value:r?r[C]:C,index:O,offset:w}))},jM=1e-4,w7=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-jM,a=Math.max(r[0],r[1])+jM,l=e(t[0]),u=e(t[n-1]);(l<i||l>a||u<i||u>a)&&e.domain([t[0],t[n-1]])}},x7=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,l=0;l<t;++l){var u=Pr(e[l][n][1])?e[l][n][0]:e[l][n][1];u>=0?(e[l][n][0]=i,e[l][n][1]=i+u,i=e[l][n][1]):(e[l][n][0]=a,e[l][n][1]=a+u,a=e[l][n][1])}},A7=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var l=Pr(e[a][n][1])?e[a][n][0]:e[a][n][1];l>=0?(e[a][n][0]=i,e[a][n][1]=i+l,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},C7={sign:x7,expand:YK,none:ul,silhouette:WK,wiggle:JK,positive:A7},M7=(e,t,n)=>{var r=C7[n],i=KK().keys(t).value((a,l)=>Number(En(a,l,0))).order(B0).offset(r);return i(e)};function qM(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!tn(i[t.dataKey])){var u=HD(n,"value",i[t.dataKey]);if(u)return u.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=En(i,tn(l)?t.dataKey:l);return tn(c)?null:t.scale(c)}var P7=e=>{var t=e.flat(2).filter(Ee);return[Math.min(...t),Math.max(...t)]},O7=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],I7=(e,t,n)=>{if(e!=null)return O7(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:l}=a,u=l.reduce((c,d)=>{var h=jR(d,t,n),m=P7(h);return[Math.min(c[0],m[0]),Math.max(c[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},zM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,BM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gh=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=up(t,h=>h.coordinate),a=1/0,l=1,u=i.length;l<u;l++){var c=i[l],d=i[l-1];a=Math.min((c.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function $M(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Xs(Xs({},t),{},{dataKey:n,payload:r,value:i,name:a})}function BR(e,t){if(e)return String(e);if(typeof t=="string")return t}var N7=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},D7=(e,t)=>t==="centric"?e.angle:e.radius,fa=e=>e.layout.width,da=e=>e.layout.height,R7=e=>e.layout.scale,$R=e=>e.layout.margin,yp=X(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),bp=X(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),k7="data-recharts-item-index",L7="data-recharts-item-data-key",Ic=60;function FM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FM(Object(n),!0).forEach(function(r){U7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U7(e,t,n){return(t=j7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j7(e){var t=q7(e,"string");return typeof t=="symbol"?t:t+""}function q7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z7=e=>e.brush.height;function B7(e){var t=bp(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Ic;return n+i}return n},0)}function $7(e){var t=bp(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Ic;return n+i}return n},0)}function F7(e){var t=yp(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function H7(e){var t=yp(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var gn=X([fa,da,$R,z7,B7,$7,F7,H7,sR,g9],(e,t,n,r,i,a,l,u,c,d)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},m={top:(n.top||0)+l,bottom:(n.bottom||0)+u},v=vd(vd({},m),h),_=v.bottom;v.bottom+=r,v=E7(v,c,d);var T=e-v.left-v.right,w=t-v.top-v.bottom;return vd(vd({brushBottom:_},v),{},{width:Math.max(T,0),height:Math.max(w,0)})}),G7=X(gn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),FR=X(fa,da,(e,t)=>({x:0,y:0,width:e,height:t})),V7=x.createContext(null),On=()=>x.useContext(V7)!=null,_p=e=>e.brush,Sp=X([_p,gn,$R],(e,t,n)=>({height:e.height,x:Ee(e.x)?e.x:t.left,y:Ee(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:Ee(e.width)?e.width:t.width})),gy={},vy={},yy={},HM;function K7(){return HM||(HM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let l,u=null;const c=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),h=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},m=()=>{d&&h(),w()};let v=null;const _=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,m()},r)},T=()=>{v!==null&&(clearTimeout(v),v=null)},w=()=>{T(),l=void 0,u=null},E=()=>{h()},C=function(...O){if(i?.aborted)return;l=this,u=O;const P=v==null;_(),c&&P&&h()};return C.schedule=_,C.cancel=w,C.flush=E,i?.addEventListener("abort",w,{once:!0}),C}e.debounce=t})(yy)),yy}var GM;function Y7(){return GM||(GM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K7();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:l=!1,trailing:u=!0,maxWait:c}=a,d=Array(2);l&&(d[0]="leading"),u&&(d[1]="trailing");let h,m=null;const v=t.debounce(function(...w){h=r.apply(this,w),m=null},i,{edges:d}),_=function(...w){return c!=null&&(m===null&&(m=Date.now()),Date.now()-m>=c)?(h=r.apply(this,w),m=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,w),h)},T=()=>(v.flush(),h);return _.cancel=v.cancel,_.flush=T,_}e.debounce=n})(vy)),vy}var VM;function W7(){return VM||(VM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y7();function n(r,i=0,a={}){const{leading:l=!0,trailing:u=!0}=a;return t.debounce(r,i,{leading:l,maxWait:i,trailing:u})}e.throttle=n})(gy)),gy}var by,KM;function J7(){return KM||(KM=1,by=W7().throttle),by}var X7=J7();const Q7=sa(X7);var vh=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},HR=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:l}=n,u=ta(r)?e:Number(r),c=ta(i)?t:Number(i);return a&&a>0&&(u?c=u/a:c&&(u=c*a),l&&c!=null&&c>l&&(c=l)),{calculatedWidth:u,calculatedHeight:c}},Z7={width:0,height:0,overflow:"visible"},eW={width:0,overflowX:"visible"},tW={height:0,overflowY:"visible"},nW={},rW=e=>{var{width:t,height:n}=e,r=ta(t),i=ta(n);return r&&i?Z7:r?eW:i?tW:nW};function iW(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function wt(e){return Number.isFinite(e)}function oi(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Z0(){return Z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z0.apply(null,arguments)}function YM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function WM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YM(Object(n),!0).forEach(function(r){aW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aW(e,t,n){return(t=oW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oW(e){var t=sW(e,"string");return typeof t=="symbol"?t:t+""}function sW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GR=x.createContext({width:-1,height:-1});function lW(e){return oi(e.width)&&oi(e.height)}function VR(e){var{children:t,width:n,height:r}=e,i=x.useMemo(()=>({width:n,height:r}),[n,r]);return lW(i)?x.createElement(GR.Provider,{value:i},t):null}var R_=()=>x.useContext(GR),uW=x.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:l=0,minHeight:u,maxHeight:c,children:d,debounce:h=0,id:m,className:v,onResize:_,style:T={}}=e,w=x.useRef(null),E=x.useRef();E.current=_,x.useImperativeHandle(t,()=>w.current);var[C,O]=x.useState({containerWidth:r.width,containerHeight:r.height}),P=x.useCallback((z,$)=>{O(re=>{var F=Math.round(z),V=Math.round($);return re.containerWidth===F&&re.containerHeight===V?re:{containerWidth:F,containerHeight:V}})},[]);x.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return Cc;var z=V=>{var de,{width:pe,height:_e}=V[0].contentRect;P(pe,_e),(de=E.current)===null||de===void 0||de.call(E,pe,_e)};h>0&&(z=Q7(z,h,{trailing:!0,leading:!1}));var $=new ResizeObserver(z),{width:re,height:F}=w.current.getBoundingClientRect();return P(re,F),$.observe(w.current),()=>{$.disconnect()}},[P,h]);var{containerWidth:D,containerHeight:I}=C;vh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:R,calculatedHeight:k}=HR(D,I,{width:i,height:a,aspect:n,maxHeight:c});return vh(R!=null&&R>0||k!=null&&k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,k,i,a,l,u,n),x.createElement("div",{id:m?"".concat(m):void 0,className:Ze("recharts-responsive-container",v),style:WM(WM({},T),{},{width:i,height:a,minWidth:l,minHeight:u,maxHeight:c}),ref:w},x.createElement("div",{style:rW({width:i,height:a})},x.createElement(VR,{width:R,height:k},d)))}),cW=x.forwardRef((e,t)=>{var n=R_();if(oi(n.width)&&oi(n.height))return e.children;var{width:r,height:i}=iW({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:l}=HR(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Ee(a)&&Ee(l)?x.createElement(VR,{width:a,height:l},e.children):x.createElement(uW,Z0({},e,{width:r,height:i,ref:t}))});function KR(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Nc=()=>{var e,t=On(),n=be(G7),r=be(Sp),i=(e=be(_p))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},fW={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},YR=()=>{var e;return(e=be(gn))!==null&&e!==void 0?e:fW},k_=()=>be(fa),L_=()=>be(da),dW=()=>be(e=>e.layout.margin),dt=e=>e.layout.layoutType,Tp=()=>be(dt),hW=()=>{var e=Tp();return e!==void 0},Ep=e=>{var t=Pt(),n=On(),{width:r,height:i}=e,a=R_(),l=r,u=i;return a&&(l=a.width>0?a.width:r,u=a.height>0?a.height:i),x.useEffect(()=>{!n&&oi(l)&&oi(u)&&t(v7({width:l,height:u}))},[t,n,l,u]),null},WR=Symbol.for("immer-nothing"),JM=Symbol.for("immer-draftable"),sr=Symbol.for("immer-state");function Br(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var lc=Object.getPrototypeOf;function dl(e){return!!e&&!!e[sr]}function Fo(e){return e?JR(e)||Array.isArray(e)||!!e[JM]||!!e.constructor?.[JM]||Dc(e)||xp(e):!1}var pW=Object.prototype.constructor.toString(),XM=new WeakMap;function JR(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=XM.get(n);return r===void 0&&(r=Function.toString.call(n),XM.set(n,r)),r===pW}function yh(e,t,n=!0){wp(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function wp(e){const t=e[sr];return t?t.type_:Array.isArray(e)?1:Dc(e)?2:xp(e)?3:0}function eb(e,t){return wp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function XR(e,t,n){const r=wp(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function mW(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Dc(e){return e instanceof Map}function xp(e){return e instanceof Set}function Co(e){return e.copy_||e.base_}function tb(e,t){if(Dc(e))return new Map(e);if(xp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=JR(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[sr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(lc(e),r)}else{const r=lc(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function U_(e,t=!1){return Ap(e)||dl(e)||!Fo(e)||(wp(e)>1&&Object.defineProperties(e,{set:yd,add:yd,clear:yd,delete:yd}),Object.freeze(e),t&&Object.values(e).forEach(n=>U_(n,!0))),e}function gW(){Br(2)}var yd={value:gW};function Ap(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var vW={};function Ho(e){const t=vW[e];return t||Br(0,e),t}var uc;function QR(){return uc}function yW(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function QM(e,t){t&&(Ho("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function nb(e){rb(e),e.drafts_.forEach(bW),e.drafts_=null}function rb(e){e===uc&&(uc=e.parent_)}function ZM(e){return uc=yW(uc,e)}function bW(e){const t=e[sr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function eP(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[sr].modified_&&(nb(t),Br(4)),Fo(e)&&(e=bh(t,e),t.parent_||_h(t,e)),t.patches_&&Ho("Patches").generateReplacementPatches_(n[sr].base_,e,t.patches_,t.inversePatches_)):e=bh(t,n,[]),nb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==WR?e:void 0}function bh(e,t,n){if(Ap(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[sr];if(!i)return yh(t,(a,l)=>tP(e,i,t,a,l,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return _h(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let l=a,u=!1;i.type_===3&&(l=new Set(a),a.clear(),u=!0),yh(l,(c,d)=>tP(e,i,a,c,d,n,u),r),_h(e,a,!1),n&&e.patches_&&Ho("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function tP(e,t,n,r,i,a,l){if(i==null||typeof i!="object"&&!l)return;const u=Ap(i);if(!(u&&!l)){if(dl(i)){const c=a&&t&&t.type_!==3&&!eb(t.assigned_,r)?a.concat(r):void 0,d=bh(e,i,c);if(XR(n,r,d),dl(d))e.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Fo(i)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&u)return;bh(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Dc(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&_h(e,i)}}}function _h(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&U_(t,n)}function _W(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:QR(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=j_;n&&(i=[r],a=cc);const{revoke:l,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=l,u}var j_={get(e,t){if(t===sr)return e;const n=Co(e);if(!eb(n,t))return SW(e,n,t);const r=n[t];return e.finalized_||!Fo(r)?r:r===_y(e.base_,t)?(Sy(e),e.copy_[t]=ab(r,e)):r},has(e,t){return t in Co(e)},ownKeys(e){return Reflect.ownKeys(Co(e))},set(e,t,n){const r=ZR(Co(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=_y(Co(e),t),a=i?.[sr];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(mW(n,i)&&(n!==void 0||eb(e.base_,t)))return!0;Sy(e),ib(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return _y(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Sy(e),ib(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Co(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Br(11)},getPrototypeOf(e){return lc(e.base_)},setPrototypeOf(){Br(12)}},cc={};yh(j_,(e,t)=>{cc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});cc.deleteProperty=function(e,t){return cc.set.call(this,e,t,void 0)};cc.set=function(e,t,n){return j_.set.call(this,e[0],t,n,e[0])};function _y(e,t){const n=e[sr];return(n?Co(n):e)[t]}function SW(e,t,n){const r=ZR(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function ZR(e,t){if(!(t in e))return;let n=lc(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=lc(n)}}function ib(e){e.modified_||(e.modified_=!0,e.parent_&&ib(e.parent_))}function Sy(e){e.copy_||(e.copy_=tb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var TW=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const l=this;return function(c=a,...d){return l.produce(c,h=>n.call(this,h,...d))}}typeof n!="function"&&Br(6),r!==void 0&&typeof r!="function"&&Br(7);let i;if(Fo(t)){const a=ZM(this),l=ab(t,void 0);let u=!0;try{i=n(l),u=!1}finally{u?nb(a):rb(a)}return QM(a,r),eP(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===WR&&(i=void 0),this.autoFreeze_&&U_(i,!0),r){const a=[],l=[];Ho("Patches").generateReplacementPatches_(t,i,a,l),r(a,l)}return i}else Br(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,c=>t(c,...u));let r,i;return[this.produce(t,n,(l,u)=>{r=l,i=u}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Fo(e)||Br(8),dl(e)&&(e=EW(e));const t=ZM(this),n=ab(e,void 0);return n[sr].isManual_=!0,rb(t),n}finishDraft(e,t){const n=e&&e[sr];(!n||!n.isManual_)&&Br(9);const{scope_:r}=n;return QM(r,t),eP(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Ho("Patches").applyPatches_;return dl(e)?r(e,t):this.produce(e,i=>r(i,t))}};function ab(e,t){const n=Dc(e)?Ho("MapSet").proxyMap_(e,t):xp(e)?Ho("MapSet").proxySet_(e,t):_W(e,t);return(t?t.scope_:QR()).drafts_.push(n),n}function EW(e){return dl(e)||Br(10,e),ek(e)}function ek(e){if(!Fo(e)||Ap(e))return e;const t=e[sr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=tb(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=tb(e,!0);return yh(n,(i,a)=>{XR(n,i,ek(a))},r),t&&(t.finalized_=!1),n}var wW=new TW;wW.produce;var xW={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},tk=Kn({name:"legend",initialState:xW,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:gt()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Fr(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:gt()},removeLegendPayload:{reducer(e,t){var n=Fr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:gt()}}}),{setLegendSize:nP,setLegendSettings:AW,addLegendPayload:CW,replaceLegendPayload:MW,removeLegendPayload:PW}=tk.actions,OW=tk.reducer,IW=["contextPayload"];function ob(){return ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ob.apply(null,arguments)}function rP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rP(Object(n),!0).forEach(function(r){NW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NW(e,t,n){return(t=DW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DW(e){var t=RW(e,"string");return typeof t=="symbol"?t:t+""}function RW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kW(e,t){if(e==null)return{};var n,r,i=LW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function LW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function UW(e){return e.value}function jW(e){var{contextPayload:t}=e,n=kW(e,IW),r=rR(t,e.payloadUniqBy,UW),i=hl(hl({},n),{},{payload:r});return x.isValidElement(e.content)?x.cloneElement(e.content,i):typeof e.content=="function"?x.createElement(e.content,i):x.createElement(xY,i)}function qW(e,t,n,r,i,a){var{layout:l,align:u,verticalAlign:c}=t,d,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&l==="vertical"?d={left:((r||0)-a.width)/2}:d=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?h={top:((i||0)-a.height)/2}:h=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),hl(hl({},d),h)}function zW(e){var t=Pt();return x.useEffect(()=>{t(AW(e))},[t,e]),null}function BW(e){var t=Pt();return x.useEffect(()=>(t(nP(e)),()=>{t(nP({width:0,height:0}))}),[t,e]),null}function $W(e,t,n,r){return e==="vertical"&&Ee(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var FW={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function nk(e){var t=mn(e,FW),n=b9(),r=vK(),i=dW(),{width:a,height:l,wrapperStyle:u,portal:c}=t,[d,h]=lR([n]),m=k_(),v=L_();if(m==null||v==null)return null;var _=m-(i?.left||0)-(i?.right||0),T=$W(t.layout,l,a,_),w=c?u:hl(hl({position:"absolute",width:T?.width||a||"auto",height:T?.height||l||"auto"},qW(u,t,i,m,v,d)),u),E=c??r;if(E==null||n==null)return null;var C=x.createElement("div",{className:"recharts-legend-wrapper",style:w,ref:h},x.createElement(zW,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&x.createElement(BW,{width:d.width,height:d.height}),x.createElement(jW,ob({},t,T,{margin:i,chartWidth:m,chartHeight:v,contextPayload:n})));return qb.createPortal(C,E)}nk.displayName="Legend";function sb(){return sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sb.apply(null,arguments)}function iP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ty(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iP(Object(n),!0).forEach(function(r){HW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HW(e,t,n){return(t=GW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GW(e){var t=VW(e,"string");return typeof t=="symbol"?t:t+""}function VW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KW(e){return Array.isArray(e)&&Or(e[0])&&Or(e[1])?e.join(" ~ "):e}var YW=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:l,itemSorter:u,wrapperClassName:c,labelClassName:d,label:h,labelFormatter:m,accessibilityLayer:v=!1}=e,_=()=>{if(a&&a.length){var I={padding:0,margin:0},R=(u?up(a,u):a).map((k,z)=>{if(k.type==="none")return null;var $=k.formatter||l||KW,{value:re,name:F}=k,V=re,de=F;if($){var pe=$(re,F,k,z,a);if(Array.isArray(pe))[V,de]=pe;else if(pe!=null)V=pe;else return null}var _e=Ty({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:_e},Or(de)?x.createElement("span",{className:"recharts-tooltip-item-name"},de):null,Or(de)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},V),x.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:I},R)}return null},T=Ty({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=Ty({margin:0},i),E=!tn(h),C=E?h:"",O=Ze("recharts-default-tooltip",c),P=Ze("recharts-tooltip-label",d);E&&m&&a!==void 0&&a!==null&&(C=m(h,a));var D=v?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",sb({className:O,style:T},D),x.createElement("p",{className:P,style:w},x.isValidElement(C)?C:"".concat(C)),_())},Nu="recharts-tooltip-wrapper",WW={visibility:"hidden"};function JW(e){var{coordinate:t,translateX:n,translateY:r}=e;return Ze(Nu,{["".concat(Nu,"-right")]:Ee(n)&&t&&Ee(t.x)&&n>=t.x,["".concat(Nu,"-left")]:Ee(n)&&t&&Ee(t.x)&&n<t.x,["".concat(Nu,"-bottom")]:Ee(r)&&t&&Ee(t.y)&&r>=t.y,["".concat(Nu,"-top")]:Ee(r)&&t&&Ee(t.y)&&r<t.y})}function aP(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:l,tooltipDimension:u,viewBox:c,viewBoxDimension:d}=e;if(a&&Ee(a[r]))return a[r];var h=n[r]-u-(i>0?i:0),m=n[r]+i;if(t[r])return l[r]?h:m;var v=c[r];if(v==null)return 0;if(l[r]){var _=h,T=v;return _<T?Math.max(m,v):Math.max(h,v)}if(d==null)return 0;var w=m+u,E=v+d;return w>E?Math.max(h,v):Math.max(m,v)}function XW(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function QW(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:l,useTranslate3d:u,viewBox:c}=e,d,h,m;return l.height>0&&l.width>0&&n?(h=aP({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),m=aP({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),d=XW({translateX:h,translateY:m,useTranslate3d:u})):d=WW,{cssProperties:d,cssClasses:JW({translateX:h,translateY:m,coordinate:n})}}function oP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(n),!0).forEach(function(r){lb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lb(e,t,n){return(t=ZW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZW(e){var t=eJ(e,"string");return typeof t=="symbol"?t:t+""}function eJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class tJ extends x.PureComponent{constructor(){super(...arguments),lb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),lb(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:l,hasPayload:u,isAnimationActive:c,offset:d,position:h,reverseDirection:m,useTranslate3d:v,viewBox:_,wrapperStyle:T,lastBoundingBox:w,innerRef:E,hasPortalFromProps:C}=this.props,{cssClasses:O,cssProperties:P}=QW({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:d,position:h,reverseDirection:m,tooltipBox:{height:w.height,width:w.width},useTranslate3d:v,viewBox:_}),D=C?{}:bd(bd({transition:c&&t?"transform ".concat(r,"ms ").concat(i):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),I=bd(bd({},D),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},T);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:I,ref:E},a)}}var nJ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Al={devToolsEnabled:!1,isSsr:nJ()},rk=()=>{var e;return(e=be(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function ub(){return ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ub.apply(null,arguments)}function sP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sP(Object(n),!0).forEach(function(r){rJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rJ(e,t,n){return(t=iJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iJ(e){var t=aJ(e,"string");return typeof t=="symbol"?t:t+""}function aJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uP={curveBasisClosed:LK,curveBasisOpen:UK,curveBasis:kK,curveBumpX:SK,curveBumpY:TK,curveLinearClosed:jK,curveLinear:op,curveMonotoneX:qK,curveMonotoneY:zK,curveNatural:BK,curveStep:$K,curveStepAfter:HK,curveStepBefore:FK},Sh=e=>wt(e.x)&&wt(e.y),cP=e=>e.base!=null&&Sh(e.base)&&Sh(e),Du=e=>e.x,Ru=e=>e.y,oJ=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Ac(e));return(n==="curveMonotone"||n==="curveBump")&&t?uP["".concat(n).concat(t==="vertical"?"Y":"X")]:uP[n]||op},sJ=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,l=oJ(t,i),u=a?n.filter(Sh):n,c;if(Array.isArray(r)){var d=n.map((_,T)=>lP(lP({},_),{},{base:r[T]}));i==="vertical"?c=fd().y(Ru).x1(Du).x0(_=>_.base.x):c=fd().x(Du).y1(Ru).y0(_=>_.base.y);var h=c.defined(cP).curve(l),m=a?d.filter(cP):d;return h(m)}i==="vertical"&&Ee(r)?c=fd().y(Ru).x1(Du).x0(r):Ee(r)?c=fd().x(Du).y1(Ru).y0(r):c=ID().x(Du).y(Ru);var v=c.defined(Sh).curve(l);return v(u)},ik=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?sJ(e):r;return x.createElement("path",ub({},ii(e),E_(e),{className:Ze("recharts-curve",t),d:a===null?void 0:a,ref:i}))},lJ=["x","y","top","left","width","height","className"];function cb(){return cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cb.apply(null,arguments)}function fP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fP(Object(n),!0).forEach(function(r){cJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cJ(e,t,n){return(t=fJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fJ(e){var t=dJ(e,"string");return typeof t=="symbol"?t:t+""}function dJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hJ(e,t){if(e==null)return{};var n,r,i=pJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var mJ=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),gJ=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:l=0,className:u}=e,c=hJ(e,lJ),d=uJ({x:t,y:n,top:r,left:i,width:a,height:l},c);return!Ee(t)||!Ee(n)||!Ee(a)||!Ee(l)||!Ee(r)||!Ee(i)?null:x.createElement("path",cb({},wn(d),{className:Ze("recharts-cross",u),d:mJ(t,n,a,l,r,i)}))};function vJ(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function dP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(n),!0).forEach(function(r){yJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yJ(e,t,n){return(t=bJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bJ(e){var t=_J(e,"string");return typeof t=="symbol"?t:t+""}function _J(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SJ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),ak=(e,t,n)=>e.map(r=>"".concat(SJ(r)," ").concat(t,"ms ").concat(n)).join(","),TJ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),fc=(e,t)=>Object.keys(t).reduce((n,r)=>hP(hP({},n),{},{[r]:e(r,t[r])}),{});function pP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pP(Object(n),!0).forEach(function(r){EJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EJ(e,t,n){return(t=wJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wJ(e){var t=xJ(e,"string");return typeof t=="symbol"?t:t+""}function xJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Th=(e,t,n)=>e+(t-e)*n,fb=e=>{var{from:t,to:n}=e;return t!==n},ok=(e,t,n)=>{var r=fc((i,a)=>{if(fb(a)){var[l,u]=e(a.from,a.to,a.velocity);return Bt(Bt({},a),{},{from:l,velocity:u})}return a},t);return n<1?fc((i,a)=>fb(a)?Bt(Bt({},a),{},{velocity:Th(a.velocity,r[i].velocity,n),from:Th(a.from,r[i].from,n)}):a,t):ok(e,r,n-1)};function AJ(e,t,n,r,i,a){var l,u=r.reduce((v,_)=>Bt(Bt({},v),{},{[_]:{from:e[_],velocity:0,to:t[_]}}),{}),c=()=>fc((v,_)=>_.from,u),d=()=>!Object.values(u).filter(fb).length,h=null,m=v=>{l||(l=v);var _=v-l,T=_/n.dt;u=ok(n,u,T),i(Bt(Bt(Bt({},e),t),c())),l=v,d()||(h=a.setTimeout(m))};return()=>(h=a.setTimeout(m),()=>{var v;(v=h)===null||v===void 0||v()})}function CJ(e,t,n,r,i,a,l){var u=null,c=i.reduce((m,v)=>Bt(Bt({},m),{},{[v]:[e[v],t[v]]}),{}),d,h=m=>{d||(d=m);var v=(m-d)/r,_=fc((w,E)=>Th(...E,n(v)),c);if(a(Bt(Bt(Bt({},e),t),_)),v<1)u=l.setTimeout(h);else{var T=fc((w,E)=>Th(...E,n(1)),c);a(Bt(Bt(Bt({},e),t),T))}};return()=>(u=l.setTimeout(h),()=>{var m;(m=u)===null||m===void 0||m()})}const MJ=(e,t,n,r,i,a)=>{var l=TJ(e,t);return n==null?()=>(i(Bt(Bt({},e),t)),()=>{}):n.isStepper===!0?AJ(e,t,n,l,i,a):CJ(e,t,n,r,l,i,a)};var Eh=1e-4,sk=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],lk=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),mP=(e,t)=>n=>{var r=sk(e,t);return lk(r,n)},PJ=(e,t)=>n=>{var r=sk(e,t),i=[...r.map((a,l)=>a*l).slice(1),0];return lk(i,n)},OJ=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var l=a[1].split(")")[0].split(",").map(u=>parseFloat(u));return[l[0],l[1],l[2],l[3]]}}}return n.length===4?n:[0,0,1,1]},IJ=(e,t,n,r)=>{var i=mP(e,n),a=mP(t,r),l=PJ(e,n),u=d=>d>1?1:d<0?0:d,c=d=>{for(var h=d>1?1:d,m=h,v=0;v<8;++v){var _=i(m)-h,T=l(m);if(Math.abs(_-h)<Eh||T<Eh)return a(m);m=u(m-_/T)}return a(m)};return c.isStepper=!1,c},gP=function(){return IJ(...OJ(...arguments))},NJ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(l,u,c)=>{var d=-(l-u)*n,h=c*r,m=c+(d-h)*i/1e3,v=c*i/1e3+l;return Math.abs(v-u)<Eh&&Math.abs(m)<Eh?[u,0]:[v,m]};return a.isStepper=!0,a.dt=i,a},DJ=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gP(e);case"spring":return NJ();default:if(e.split("(")[0]==="cubic-bezier")return gP(e)}return typeof e=="function"?e:null};function RJ(e){var t,n=()=>null,r=!1,i=null,a=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[c,...d]=u;if(typeof c=="number"){i=e.setTimeout(a.bind(null,d),c);return}a(c),i=e.setTimeout(a.bind(null,d));return}typeof l=="string"&&(t=l,n(t)),typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),a(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}class kJ{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=l=>{l-r>=n?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function LJ(){return RJ(new kJ)}var UJ=x.createContext(LJ);function jJ(e,t){var n=x.useContext(UJ);return x.useMemo(()=>t??n(e),[e,t,n])}var qJ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},vP={t:0},Ey={t:1};function q_(e){var t=mn(e,qJ),{isActive:n,canBegin:r,duration:i,easing:a,begin:l,onAnimationEnd:u,onAnimationStart:c,children:d}=t,h=n==="auto"?!Al.isSsr:n,m=jJ(t.animationId,t.animationManager),[v,_]=x.useState(h?vP:Ey),T=x.useRef(null);return x.useEffect(()=>{h||_(Ey)},[h]),x.useEffect(()=>{if(!h||!r)return Cc;var w=MJ(vP,Ey,DJ(a),i,_,m.getTimeoutController()),E=()=>{T.current=w()};return m.start([c,l,E,i,u]),()=>{m.stop(),T.current&&T.current(),u()}},[h,r,i,a,l,c,u,m]),d(v.t)}function z_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=x.useRef(ic(t)),r=x.useRef(e);return r.current!==e&&(n.current=ic(t),r.current=e),n.current}var zJ=["radius"],BJ=["radius"];function yP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(n),!0).forEach(function(r){$J(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $J(e,t,n){return(t=FJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FJ(e){var t=HJ(e,"string");return typeof t=="symbol"?t:t+""}function HJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wh(){return wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wh.apply(null,arguments)}function _P(e,t){if(e==null)return{};var n,r,i=GJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var SP=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,u=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0,d;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,v=4;m<v;m++)h[m]=i[m]>a?a:i[m];d="M".concat(e,",").concat(t+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(e+u*h[0],",").concat(t)),d+="L ".concat(e+n-u*h[1],",").concat(t),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(t+l*h[1])),d+="L ".concat(e+n,",").concat(t+r-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(e+n-u*h[2],",").concat(t+r)),d+="L ".concat(e+u*h[3],",").concat(t+r),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+r-l*h[3])),d+="Z"}else if(a>0&&i===+i&&i>0){var _=Math.min(a,i);d="M ".concat(e,",").concat(t+l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(c,",").concat(e+u*_,",").concat(t,`
            L `).concat(e+n-u*_,",").concat(t,`
            A `).concat(_,",").concat(_,",0,0,").concat(c,",").concat(e+n,",").concat(t+l*_,`
            L `).concat(e+n,",").concat(t+r-l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(c,",").concat(e+n-u*_,",").concat(t+r,`
            L `).concat(e+u*_,",").concat(t+r,`
            A `).concat(_,",").concat(_,",0,0,").concat(c,",").concat(e,",").concat(t+r-l*_," Z")}else d="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},TP={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uk=e=>{var t=mn(e,TP),n=x.useRef(null),[r,i]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ee=n.current.getTotalLength();ee&&i(ee)}catch{}},[]);var{x:a,y:l,width:u,height:c,radius:d,className:h}=t,{animationEasing:m,animationDuration:v,animationBegin:_,isAnimationActive:T,isUpdateAnimationActive:w}=t,E=x.useRef(u),C=x.useRef(c),O=x.useRef(a),P=x.useRef(l),D=x.useMemo(()=>({x:a,y:l,width:u,height:c,radius:d}),[a,l,u,c,d]),I=z_(D,"rectangle-");if(a!==+a||l!==+l||u!==+u||c!==+c||u===0||c===0)return null;var R=Ze("recharts-rectangle",h);if(!w){var k=wn(t),{radius:z}=k,$=_P(k,zJ);return x.createElement("path",wh({},$,{radius:typeof d=="number"?d:void 0,className:R,d:SP(a,l,u,c,d)}))}var re=E.current,F=C.current,V=O.current,de=P.current,pe="0px ".concat(r===-1?1:r,"px"),_e="".concat(r,"px 0px"),B=ak(["strokeDasharray"],v,typeof m=="string"?m:TP.animationEasing);return x.createElement(q_,{animationId:I,key:I,canBegin:r>0,duration:v,easing:m,isActive:w,begin:_},ee=>{var se=Fn(re,u,ee),ue=Fn(F,c,ee),Ce=Fn(V,a,ee),U=Fn(de,l,ee);n.current&&(E.current=se,C.current=ue,O.current=Ce,P.current=U);var W;T?ee>0?W={transition:B,strokeDasharray:_e}:W={strokeDasharray:pe}:W={strokeDasharray:_e};var le=wn(t),{radius:ce}=le,te=_P(le,BJ);return x.createElement("path",wh({},te,{radius:typeof d=="number"?d:void 0,className:R,d:SP(Ce,U,se,ue,d),ref:n,style:bP(bP({},W),t.style)}))})};function EP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(n),!0).forEach(function(r){VJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VJ(e,t,n){return(t=KJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KJ(e){var t=YJ(e,"string");return typeof t=="symbol"?t:t+""}function YJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xh=Math.PI/180,WJ=e=>e*180/Math.PI,pn=(e,t,n,r)=>({x:e+Math.cos(-xh*r)*n,y:t+Math.sin(-xh*r)*n}),JJ=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},XJ=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},QJ=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,l=XJ({x:n,y:r},{x:i,y:a});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,c=Math.acos(u);return r>a&&(c=2*Math.PI-c),{radius:l,angle:WJ(c),angleInRadian:c}},ZJ=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},eX=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),l=Math.min(i,a);return e+l*360},tX=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=QJ({x:n,y:r},t),{innerRadius:l,outerRadius:u}=t;if(i<l||i>u||i===0)return null;var{startAngle:c,endAngle:d}=ZJ(t),h=a,m;if(c<=d){for(;h>d;)h-=360;for(;h<c;)h+=360;m=h>=c&&h<=d}else{for(;h>c;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=c}return m?wP(wP({},t),{},{radius:i,angle:eX(h,t)}):null};function ck(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,l=pn(t,n,r,i),u=pn(t,n,r,a);return{points:[l,u],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function db(){return db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},db.apply(null,arguments)}var nX=(e,t)=>{var n=xr(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},_d=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:l,cornerRadius:u,cornerIsExternal:c}=e,d=u*(l?1:-1)+r,h=Math.asin(u/d)/xh,m=c?i:i+a*h,v=pn(t,n,d,m),_=pn(t,n,r,m),T=c?i-a*h:i,w=pn(t,n,d*Math.cos(h*xh),T);return{center:v,circleTangency:_,lineTangency:w,theta:h}},fk=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:l}=e,u=nX(a,l),c=a+u,d=pn(t,n,i,a),h=pn(t,n,i,c),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(a>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var v=pn(t,n,r,a),_=pn(t,n,r,c);m+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(a<=c),`,
            `).concat(v.x,",").concat(v.y," Z")}else m+="L ".concat(t,",").concat(n," Z");return m},rX=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}=e,h=xr(d-c),{circleTangency:m,lineTangency:v,theta:_}=_d({cx:t,cy:n,radius:i,angle:c,sign:h,cornerRadius:a,cornerIsExternal:u}),{circleTangency:T,lineTangency:w,theta:E}=_d({cx:t,cy:n,radius:i,angle:d,sign:-h,cornerRadius:a,cornerIsExternal:u}),C=u?Math.abs(c-d):Math.abs(c-d)-_-E;if(C<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):fk({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:d});var O="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(h<0),",").concat(T.x,",").concat(T.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var{circleTangency:P,lineTangency:D,theta:I}=_d({cx:t,cy:n,radius:r,angle:c,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),{circleTangency:R,lineTangency:k,theta:z}=_d({cx:t,cy:n,radius:r,angle:d,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),$=u?Math.abs(c-d):Math.abs(c-d)-I-z;if($<0&&a===0)return"".concat(O,"L").concat(t,",").concat(n,"Z");O+="L".concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(r,",").concat(r,",0,").concat(+($>180),",").concat(+(h>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(D.x,",").concat(D.y,"Z")}else O+="L".concat(t,",").concat(n,"Z");return O},iX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},dk=e=>{var t=mn(e,iX),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:c,startAngle:d,endAngle:h,className:m}=t;if(a<i||d===h)return null;var v=Ze("recharts-sector",m),_=a-i,T=Ja(l,_,0,!0),w;return T>0&&Math.abs(d-h)<360?w=rX({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(T,_/2),forceCornerRadius:u,cornerIsExternal:c,startAngle:d,endAngle:h}):w=fk({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:h}),x.createElement("path",db({},wn(t),{className:v,d:w}))};function aX(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(VD(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:l,angle:u}=t,c=pn(r,i,a,u),d=pn(r,i,l,u);return[{x:c.x,y:c.y},{x:d.x,y:d.y}]}return ck(t)}}var wy={},xy={},Ay={},xP;function oX(){return xP||(xP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aR();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Ay)),Ay}var AP;function sX(){return AP||(AP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oX();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(xy)),xy}var CP;function lX(){return CP||(CP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oR(),n=sX();function r(i,a,l){l&&typeof l!="number"&&t.isIterateeCall(i,a,l)&&(a=l=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),l=l===void 0?i<a?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((a-i)/(l||1)),0),c=new Array(u);for(let d=0;d<u;d++)c[d]=i,i+=l;return c}e.range=r})(wy)),wy}var Cy,MP;function uX(){return MP||(MP=1,Cy=lX().range),Cy}var cX=uX();const hk=sa(cX);function Ka(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fX(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function B_(e){let t,n,r;e.length!==2?(t=Ka,n=(u,c)=>Ka(e(u),c),r=(u,c)=>e(u)-c):(t=e===Ka||e===fX?e:dX,n=e,r=e);function i(u,c,d=0,h=u.length){if(d<h){if(t(c,c)!==0)return h;do{const m=d+h>>>1;n(u[m],c)<0?d=m+1:h=m}while(d<h)}return d}function a(u,c,d=0,h=u.length){if(d<h){if(t(c,c)!==0)return h;do{const m=d+h>>>1;n(u[m],c)<=0?d=m+1:h=m}while(d<h)}return d}function l(u,c,d=0,h=u.length){const m=i(u,c,d,h-1);return m>d&&r(u[m-1],c)>-r(u[m],c)?m-1:m}return{left:i,center:l,right:a}}function dX(){return 0}function pk(e){return e===null?NaN:+e}function*hX(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const pX=B_(Ka),Rc=pX.right;B_(pk).center;class PP extends Map{constructor(t,n=vX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(OP(this,t))}has(t){return super.has(OP(this,t))}set(t,n){return super.set(mX(this,t),n)}delete(t){return super.delete(gX(this,t))}}function OP({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function mX({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function gX({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function vX(e){return e!==null&&typeof e=="object"?e.valueOf():e}function yX(e=Ka){if(e===Ka)return mk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function mk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const bX=Math.sqrt(50),_X=Math.sqrt(10),SX=Math.sqrt(2);function Ah(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),l=a>=bX?10:a>=_X?5:a>=SX?2:1;let u,c,d;return i<0?(d=Math.pow(10,-i)/l,u=Math.round(e*d),c=Math.round(t*d),u/d<e&&++u,c/d>t&&--c,d=-d):(d=Math.pow(10,i)*l,u=Math.round(e/d),c=Math.round(t/d),u*d<e&&++u,c*d>t&&--c),c<u&&.5<=n&&n<2?Ah(e,t,n*2):[u,c,d]}function hb(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,l]=r?Ah(t,e,n):Ah(e,t,n);if(!(a>=i))return[];const u=a-i+1,c=new Array(u);if(r)if(l<0)for(let d=0;d<u;++d)c[d]=(a-d)/-l;else for(let d=0;d<u;++d)c[d]=(a-d)*l;else if(l<0)for(let d=0;d<u;++d)c[d]=(i+d)/-l;else for(let d=0;d<u;++d)c[d]=(i+d)*l;return c}function pb(e,t,n){return t=+t,e=+e,n=+n,Ah(e,t,n)[2]}function mb(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?pb(t,e,n):pb(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function IP(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function NP(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function gk(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?mk:yX(i);r>n;){if(r-n>600){const c=r-n+1,d=t-n+1,h=Math.log(c),m=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*m*(c-m)/c)*(d-c/2<0?-1:1),_=Math.max(n,Math.floor(t-d*m/c+v)),T=Math.min(r,Math.floor(t+(c-d)*m/c+v));gk(e,t,_,T,i)}const a=e[t];let l=n,u=r;for(ku(e,n,t),i(e[r],a)>0&&ku(e,n,r);l<u;){for(ku(e,l,u),++l,--u;i(e[l],a)<0;)++l;for(;i(e[u],a)>0;)--u}i(e[n],a)===0?ku(e,n,u):(++u,ku(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function ku(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function TX(e,t,n){if(e=Float64Array.from(hX(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return NP(e);if(t>=1)return IP(e);var r,i=(r-1)*t,a=Math.floor(i),l=IP(gk(e,a).subarray(0,a+1)),u=NP(e.subarray(a+1));return l+(u-l)*(i-a)}}function EX(e,t,n=pk){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),l=+n(e[a],a,e),u=+n(e[a+1],a+1,e);return l+(u-l)*(i-a)}}function wX(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Dr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ha(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const gb=Symbol("implicit");function $_(){var e=new PP,t=[],n=[],r=gb;function i(a){let l=e.get(a);if(l===void 0){if(r!==gb)return r;e.set(a,l=t.push(a)-1)}return n[l%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new PP;for(const l of a)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return $_(t,n).unknown(r)},Dr.apply(i,arguments),i}function F_(){var e=$_().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,l,u=!1,c=0,d=0,h=.5;delete e.unknown;function m(){var v=t().length,_=i<r,T=_?i:r,w=_?r:i;a=(w-T)/Math.max(1,v-c+d*2),u&&(a=Math.floor(a)),T+=(w-T-a*(v-c))*h,l=a*(1-c),u&&(T=Math.round(T),l=Math.round(l));var E=wX(v).map(function(C){return T+a*C});return n(_?E.reverse():E)}return e.domain=function(v){return arguments.length?(t(v),m()):t()},e.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,m()):[r,i]},e.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,u=!0,m()},e.bandwidth=function(){return l},e.step=function(){return a},e.round=function(v){return arguments.length?(u=!!v,m()):u},e.padding=function(v){return arguments.length?(c=Math.min(1,d=+v),m()):c},e.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),m()):c},e.paddingOuter=function(v){return arguments.length?(d=+v,m()):d},e.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),m()):h},e.copy=function(){return F_(t(),[r,i]).round(u).paddingInner(c).paddingOuter(d).align(h)},Dr.apply(m(),arguments)}function vk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return vk(t())},e}function xX(){return vk(F_.apply(null,arguments).paddingInner(1))}function H_(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function yk(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function kc(){}var dc=.7,Ch=1/dc,al="\\s*([+-]?\\d+)\\s*",hc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ri="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",AX=/^#([0-9a-f]{3,8})$/,CX=new RegExp(`^rgb\\(${al},${al},${al}\\)$`),MX=new RegExp(`^rgb\\(${ri},${ri},${ri}\\)$`),PX=new RegExp(`^rgba\\(${al},${al},${al},${hc}\\)$`),OX=new RegExp(`^rgba\\(${ri},${ri},${ri},${hc}\\)$`),IX=new RegExp(`^hsl\\(${hc},${ri},${ri}\\)$`),NX=new RegExp(`^hsla\\(${hc},${ri},${ri},${hc}\\)$`),DP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};H_(kc,pc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:RP,formatHex:RP,formatHex8:DX,formatHsl:RX,formatRgb:kP,toString:kP});function RP(){return this.rgb().formatHex()}function DX(){return this.rgb().formatHex8()}function RX(){return bk(this).formatHsl()}function kP(){return this.rgb().formatRgb()}function pc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=AX.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?LP(t):n===3?new Vn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Sd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Sd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=CX.exec(e))?new Vn(t[1],t[2],t[3],1):(t=MX.exec(e))?new Vn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=PX.exec(e))?Sd(t[1],t[2],t[3],t[4]):(t=OX.exec(e))?Sd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=IX.exec(e))?qP(t[1],t[2]/100,t[3]/100,1):(t=NX.exec(e))?qP(t[1],t[2]/100,t[3]/100,t[4]):DP.hasOwnProperty(e)?LP(DP[e]):e==="transparent"?new Vn(NaN,NaN,NaN,0):null}function LP(e){return new Vn(e>>16&255,e>>8&255,e&255,1)}function Sd(e,t,n,r){return r<=0&&(e=t=n=NaN),new Vn(e,t,n,r)}function kX(e){return e instanceof kc||(e=pc(e)),e?(e=e.rgb(),new Vn(e.r,e.g,e.b,e.opacity)):new Vn}function vb(e,t,n,r){return arguments.length===1?kX(e):new Vn(e,t,n,r??1)}function Vn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}H_(Vn,vb,yk(kc,{brighter(e){return e=e==null?Ch:Math.pow(Ch,e),new Vn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?dc:Math.pow(dc,e),new Vn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Vn(Bo(this.r),Bo(this.g),Bo(this.b),Mh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:UP,formatHex:UP,formatHex8:LX,formatRgb:jP,toString:jP}));function UP(){return`#${ko(this.r)}${ko(this.g)}${ko(this.b)}`}function LX(){return`#${ko(this.r)}${ko(this.g)}${ko(this.b)}${ko((isNaN(this.opacity)?1:this.opacity)*255)}`}function jP(){const e=Mh(this.opacity);return`${e===1?"rgb(":"rgba("}${Bo(this.r)}, ${Bo(this.g)}, ${Bo(this.b)}${e===1?")":`, ${e})`}`}function Mh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Bo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ko(e){return e=Bo(e),(e<16?"0":"")+e.toString(16)}function qP(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new $r(e,t,n,r)}function bk(e){if(e instanceof $r)return new $r(e.h,e.s,e.l,e.opacity);if(e instanceof kc||(e=pc(e)),!e)return new $r;if(e instanceof $r)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),l=NaN,u=a-i,c=(a+i)/2;return u?(t===a?l=(n-r)/u+(n<r)*6:n===a?l=(r-t)/u+2:l=(t-n)/u+4,u/=c<.5?a+i:2-a-i,l*=60):u=c>0&&c<1?0:l,new $r(l,u,c,e.opacity)}function UX(e,t,n,r){return arguments.length===1?bk(e):new $r(e,t,n,r??1)}function $r(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}H_($r,UX,yk(kc,{brighter(e){return e=e==null?Ch:Math.pow(Ch,e),new $r(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?dc:Math.pow(dc,e),new $r(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Vn(My(e>=240?e-240:e+120,i,r),My(e,i,r),My(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new $r(zP(this.h),Td(this.s),Td(this.l),Mh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Mh(this.opacity);return`${e===1?"hsl(":"hsla("}${zP(this.h)}, ${Td(this.s)*100}%, ${Td(this.l)*100}%${e===1?")":`, ${e})`}`}}));function zP(e){return e=(e||0)%360,e<0?e+360:e}function Td(e){return Math.max(0,Math.min(1,e||0))}function My(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const G_=e=>()=>e;function jX(e,t){return function(n){return e+n*t}}function qX(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function zX(e){return(e=+e)==1?_k:function(t,n){return n-t?qX(t,n,e):G_(isNaN(t)?n:t)}}function _k(e,t){var n=t-e;return n?jX(e,n):G_(isNaN(e)?t:e)}const BP=(function e(t){var n=zX(t);function r(i,a){var l=n((i=vb(i)).r,(a=vb(a)).r),u=n(i.g,a.g),c=n(i.b,a.b),d=_k(i.opacity,a.opacity);return function(h){return i.r=l(h),i.g=u(h),i.b=c(h),i.opacity=d(h),i+""}}return r.gamma=e,r})(1);function BX(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function $X(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function FX(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),l;for(l=0;l<r;++l)i[l]=Cl(e[l],t[l]);for(;l<n;++l)a[l]=t[l];return function(u){for(l=0;l<r;++l)a[l]=i[l](u);return a}}function HX(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ph(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function GX(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Cl(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var yb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Py=new RegExp(yb.source,"g");function VX(e){return function(){return e}}function KX(e){return function(t){return e(t)+""}}function YX(e,t){var n=yb.lastIndex=Py.lastIndex=0,r,i,a,l=-1,u=[],c=[];for(e=e+"",t=t+"";(r=yb.exec(e))&&(i=Py.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),u[l]?u[l]+=a:u[++l]=a),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,c.push({i:l,x:Ph(r,i)})),n=Py.lastIndex;return n<t.length&&(a=t.slice(n),u[l]?u[l]+=a:u[++l]=a),u.length<2?c[0]?KX(c[0].x):VX(t):(t=c.length,function(d){for(var h=0,m;h<t;++h)u[(m=c[h]).i]=m.x(d);return u.join("")})}function Cl(e,t){var n=typeof t,r;return t==null||n==="boolean"?G_(t):(n==="number"?Ph:n==="string"?(r=pc(t))?(t=r,BP):YX:t instanceof pc?BP:t instanceof Date?HX:$X(t)?BX:Array.isArray(t)?FX:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?GX:Ph)(e,t)}function V_(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function WX(e,t){t===void 0&&(t=e,e=Cl);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return a[u](l-u)}}function JX(e){return function(){return e}}function Oh(e){return+e}var $P=[0,1];function Mn(e){return e}function bb(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:JX(isNaN(t)?NaN:.5)}function XX(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function QX(e,t,n){var r=e[0],i=e[1],a=t[0],l=t[1];return i<r?(r=bb(i,r),a=n(l,a)):(r=bb(r,i),a=n(a,l)),function(u){return a(r(u))}}function ZX(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=bb(e[l],e[l+1]),a[l]=n(t[l],t[l+1]);return function(u){var c=Rc(e,u,1,r)-1;return a[c](i[c](u))}}function Lc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Cp(){var e=$P,t=$P,n=Cl,r,i,a,l=Mn,u,c,d;function h(){var v=Math.min(e.length,t.length);return l!==Mn&&(l=XX(e[0],e[v-1])),u=v>2?ZX:QX,c=d=null,m}function m(v){return v==null||isNaN(v=+v)?a:(c||(c=u(e.map(r),t,n)))(r(l(v)))}return m.invert=function(v){return l(i((d||(d=u(t,e.map(r),Ph)))(v)))},m.domain=function(v){return arguments.length?(e=Array.from(v,Oh),h()):e.slice()},m.range=function(v){return arguments.length?(t=Array.from(v),h()):t.slice()},m.rangeRound=function(v){return t=Array.from(v),n=V_,h()},m.clamp=function(v){return arguments.length?(l=v?!0:Mn,h()):l!==Mn},m.interpolate=function(v){return arguments.length?(n=v,h()):n},m.unknown=function(v){return arguments.length?(a=v,m):a},function(v,_){return r=v,i=_,h()}}function K_(){return Cp()(Mn,Mn)}function eQ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ih(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function pl(e){return e=Ih(Math.abs(e)),e?e[1]:NaN}function tQ(e,t){return function(n,r){for(var i=n.length,a=[],l=0,u=e[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),a.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=e[l=(l+1)%e.length];return a.reverse().join(t)}}function nQ(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var rQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function mc(e){if(!(t=rQ.exec(e)))throw new Error("invalid format: "+e);var t;return new Y_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}mc.prototype=Y_.prototype;function Y_(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Y_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function iQ(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Sk;function aQ(e,t){var n=Ih(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(Sk=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return a===l?r:a>l?r+new Array(a-l+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ih(e,Math.max(0,t+a-1))[0]}function FP(e,t){var n=Ih(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const HP={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:eQ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>FP(e*100,t),r:FP,s:aQ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function GP(e){return e}var VP=Array.prototype.map,KP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function oQ(e){var t=e.grouping===void 0||e.thousands===void 0?GP:tQ(VP.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?GP:nQ(VP.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(m){m=mc(m);var v=m.fill,_=m.align,T=m.sign,w=m.symbol,E=m.zero,C=m.width,O=m.comma,P=m.precision,D=m.trim,I=m.type;I==="n"?(O=!0,I="g"):HP[I]||(P===void 0&&(P=12),D=!0,I="g"),(E||v==="0"&&_==="=")&&(E=!0,v="0",_="=");var R=w==="$"?n:w==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",k=w==="$"?r:/[%p]/.test(I)?l:"",z=HP[I],$=/[defgprs%]/.test(I);P=P===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function re(F){var V=R,de=k,pe,_e,B;if(I==="c")de=z(F)+de,F="";else{F=+F;var ee=F<0||1/F<0;if(F=isNaN(F)?c:z(Math.abs(F),P),D&&(F=iQ(F)),ee&&+F==0&&T!=="+"&&(ee=!1),V=(ee?T==="("?T:u:T==="-"||T==="("?"":T)+V,de=(I==="s"?KP[8+Sk/3]:"")+de+(ee&&T==="("?")":""),$){for(pe=-1,_e=F.length;++pe<_e;)if(B=F.charCodeAt(pe),48>B||B>57){de=(B===46?i+F.slice(pe+1):F.slice(pe))+de,F=F.slice(0,pe);break}}}O&&!E&&(F=t(F,1/0));var se=V.length+F.length+de.length,ue=se<C?new Array(C-se+1).join(v):"";switch(O&&E&&(F=t(ue+F,ue.length?C-de.length:1/0),ue=""),_){case"<":F=V+F+de+ue;break;case"=":F=V+ue+F+de;break;case"^":F=ue.slice(0,se=ue.length>>1)+V+F+de+ue.slice(se);break;default:F=ue+V+F+de;break}return a(F)}return re.toString=function(){return m+""},re}function h(m,v){var _=d((m=mc(m),m.type="f",m)),T=Math.max(-8,Math.min(8,Math.floor(pl(v)/3)))*3,w=Math.pow(10,-T),E=KP[8+T/3];return function(C){return _(w*C)+E}}return{format:d,formatPrefix:h}}var Ed,W_,Tk;sQ({thousands:",",grouping:[3],currency:["$",""]});function sQ(e){return Ed=oQ(e),W_=Ed.format,Tk=Ed.formatPrefix,Ed}function lQ(e){return Math.max(0,-pl(Math.abs(e)))}function uQ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(pl(t)/3)))*3-pl(Math.abs(e)))}function cQ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,pl(t)-pl(e))+1}function Ek(e,t,n,r){var i=mb(e,t,n),a;switch(r=mc(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=uQ(i,l))&&(r.precision=a),Tk(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=cQ(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=lQ(i))&&(r.precision=a-(r.type==="%")*2);break}}return W_(r)}function ro(e){var t=e.domain;return e.ticks=function(n){var r=t();return hb(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Ek(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,l=r[i],u=r[a],c,d,h=10;for(u<l&&(d=l,l=u,u=d,d=i,i=a,a=d);h-- >0;){if(d=pb(l,u,n),d===c)return r[i]=l,r[a]=u,t(r);if(d>0)l=Math.floor(l/d)*d,u=Math.ceil(u/d)*d;else if(d<0)l=Math.ceil(l*d)/d,u=Math.floor(u*d)/d;else break;c=d}return e},e}function wk(){var e=K_();return e.copy=function(){return Lc(e,wk())},Dr.apply(e,arguments),ro(e)}function xk(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Oh),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return xk(e).unknown(t)},e=arguments.length?Array.from(e,Oh):[0,1],ro(n)}function Ak(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],l;return a<i&&(l=n,n=r,r=l,l=i,i=a,a=l),e[n]=t.floor(i),e[r]=t.ceil(a),e}function YP(e){return Math.log(e)}function WP(e){return Math.exp(e)}function fQ(e){return-Math.log(-e)}function dQ(e){return-Math.exp(-e)}function hQ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function pQ(e){return e===10?hQ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function mQ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function JP(e){return(t,n)=>-e(-t,n)}function J_(e){const t=e(YP,WP),n=t.domain;let r=10,i,a;function l(){return i=mQ(r),a=pQ(r),n()[0]<0?(i=JP(i),a=JP(a),e(fQ,dQ)):e(YP,WP),t}return t.base=function(u){return arguments.length?(r=+u,l()):r},t.domain=function(u){return arguments.length?(n(u),l()):n()},t.ticks=u=>{const c=n();let d=c[0],h=c[c.length-1];const m=h<d;m&&([d,h]=[h,d]);let v=i(d),_=i(h),T,w;const E=u==null?10:+u;let C=[];if(!(r%1)&&_-v<E){if(v=Math.floor(v),_=Math.ceil(_),d>0){for(;v<=_;++v)for(T=1;T<r;++T)if(w=v<0?T/a(-v):T*a(v),!(w<d)){if(w>h)break;C.push(w)}}else for(;v<=_;++v)for(T=r-1;T>=1;--T)if(w=v>0?T/a(-v):T*a(v),!(w<d)){if(w>h)break;C.push(w)}C.length*2<E&&(C=hb(d,h,E))}else C=hb(v,_,Math.min(_-v,E)).map(a);return m?C.reverse():C},t.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=mc(c)).precision==null&&(c.trim=!0),c=W_(c)),u===1/0)return c;const d=Math.max(1,r*u/t.ticks().length);return h=>{let m=h/a(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=d?c(h):""}},t.nice=()=>n(Ak(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),t}function Ck(){const e=J_(Cp()).domain([1,10]);return e.copy=()=>Lc(e,Ck()).base(e.base()),Dr.apply(e,arguments),e}function XP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function QP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function X_(e){var t=1,n=e(XP(t),QP(t));return n.constant=function(r){return arguments.length?e(XP(t=+r),QP(t)):t},ro(n)}function Mk(){var e=X_(Cp());return e.copy=function(){return Lc(e,Mk()).constant(e.constant())},Dr.apply(e,arguments)}function ZP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function gQ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function vQ(e){return e<0?-e*e:e*e}function Q_(e){var t=e(Mn,Mn),n=1;function r(){return n===1?e(Mn,Mn):n===.5?e(gQ,vQ):e(ZP(n),ZP(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},ro(t)}function Z_(){var e=Q_(Cp());return e.copy=function(){return Lc(e,Z_()).exponent(e.exponent())},Dr.apply(e,arguments),e}function yQ(){return Z_.apply(null,arguments).exponent(.5)}function eO(e){return Math.sign(e)*e*e}function bQ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Pk(){var e=K_(),t=[0,1],n=!1,r;function i(a){var l=bQ(e(a));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(a){return e.invert(eO(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Oh)).map(eO)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Pk(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Dr.apply(i,arguments),ro(i)}function Ok(){var e=[],t=[],n=[],r;function i(){var l=0,u=Math.max(1,t.length);for(n=new Array(u-1);++l<u;)n[l-1]=EX(e,l/u);return a}function a(l){return l==null||isNaN(l=+l)?r:t[Rc(n,l)]}return a.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},a.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Ka),i()},a.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Ok().domain(e).range(t).unknown(r)},Dr.apply(a,arguments)}function Ik(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function l(c){return c!=null&&c<=c?i[Rc(r,c,0,n)]:a}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return l}return l.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,u()):[e,t]},l.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,u()):i.slice()},l.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},l.unknown=function(c){return arguments.length&&(a=c),l},l.thresholds=function(){return r.slice()},l.copy=function(){return Ik().domain([e,t]).range(i).unknown(a)},Dr.apply(ro(l),arguments)}function Nk(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Rc(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var l=t.indexOf(a);return[e[l-1],e[l]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Nk().domain(e).range(t).unknown(n)},Dr.apply(i,arguments)}const Oy=new Date,Iy=new Date;function $t(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const l=i(a),u=i.ceil(a);return a-l<u-a?l:u},i.offset=(a,l)=>(t(a=new Date(+a),l==null?1:Math.floor(l)),a),i.range=(a,l,u)=>{const c=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<l)||!(u>0))return c;let d;do c.push(d=new Date(+a)),t(a,u),e(a);while(d<a&&a<l);return c},i.filter=a=>$t(l=>{if(l>=l)for(;e(l),!a(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!a(l););else for(;--u>=0;)for(;t(l,1),!a(l););}),n&&(i.count=(a,l)=>(Oy.setTime(+a),Iy.setTime(+l),e(Oy),e(Iy),Math.floor(n(Oy,Iy))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?l=>r(l)%a===0:l=>i.count(0,l)%a===0):i)),i}const Nh=$t(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Nh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?$t(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Nh);Nh.range;const Hi=1e3,Ar=Hi*60,Gi=Ar*60,ra=Gi*24,eS=ra*7,tO=ra*30,Ny=ra*365,Lo=$t(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Hi)},(e,t)=>(t-e)/Hi,e=>e.getUTCSeconds());Lo.range;const tS=$t(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Hi)},(e,t)=>{e.setTime(+e+t*Ar)},(e,t)=>(t-e)/Ar,e=>e.getMinutes());tS.range;const nS=$t(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ar)},(e,t)=>(t-e)/Ar,e=>e.getUTCMinutes());nS.range;const rS=$t(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Hi-e.getMinutes()*Ar)},(e,t)=>{e.setTime(+e+t*Gi)},(e,t)=>(t-e)/Gi,e=>e.getHours());rS.range;const iS=$t(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Gi)},(e,t)=>(t-e)/Gi,e=>e.getUTCHours());iS.range;const Uc=$t(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ar)/ra,e=>e.getDate()-1);Uc.range;const Mp=$t(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ra,e=>e.getUTCDate()-1);Mp.range;const Dk=$t(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ra,e=>Math.floor(e/ra));Dk.range;function Jo(e){return $t(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ar)/eS)}const Pp=Jo(0),Dh=Jo(1),_Q=Jo(2),SQ=Jo(3),ml=Jo(4),TQ=Jo(5),EQ=Jo(6);Pp.range;Dh.range;_Q.range;SQ.range;ml.range;TQ.range;EQ.range;function Xo(e){return $t(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/eS)}const Op=Xo(0),Rh=Xo(1),wQ=Xo(2),xQ=Xo(3),gl=Xo(4),AQ=Xo(5),CQ=Xo(6);Op.range;Rh.range;wQ.range;xQ.range;gl.range;AQ.range;CQ.range;const aS=$t(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());aS.range;const oS=$t(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());oS.range;const ia=$t(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ia.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$t(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ia.range;const aa=$t(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());aa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$t(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});aa.range;function Rk(e,t,n,r,i,a){const l=[[Lo,1,Hi],[Lo,5,5*Hi],[Lo,15,15*Hi],[Lo,30,30*Hi],[a,1,Ar],[a,5,5*Ar],[a,15,15*Ar],[a,30,30*Ar],[i,1,Gi],[i,3,3*Gi],[i,6,6*Gi],[i,12,12*Gi],[r,1,ra],[r,2,2*ra],[n,1,eS],[t,1,tO],[t,3,3*tO],[e,1,Ny]];function u(d,h,m){const v=h<d;v&&([d,h]=[h,d]);const _=m&&typeof m.range=="function"?m:c(d,h,m),T=_?_.range(d,+h+1):[];return v?T.reverse():T}function c(d,h,m){const v=Math.abs(h-d)/m,_=B_(([,,E])=>E).right(l,v);if(_===l.length)return e.every(mb(d/Ny,h/Ny,m));if(_===0)return Nh.every(Math.max(mb(d,h,m),1));const[T,w]=l[v/l[_-1][2]<l[_][2]/v?_-1:_];return T.every(w)}return[u,c]}const[MQ,PQ]=Rk(aa,oS,Op,Dk,iS,nS),[OQ,IQ]=Rk(ia,aS,Pp,Uc,rS,tS);function Dy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ry(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Lu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function NQ(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,l=e.shortDays,u=e.months,c=e.shortMonths,d=Uu(i),h=ju(i),m=Uu(a),v=ju(a),_=Uu(l),T=ju(l),w=Uu(u),E=ju(u),C=Uu(c),O=ju(c),P={a:ee,A:se,b:ue,B:Ce,c:null,d:sO,e:sO,f:tZ,g:fZ,G:hZ,H:QQ,I:ZQ,j:eZ,L:kk,m:nZ,M:rZ,p:U,q:W,Q:cO,s:fO,S:iZ,u:aZ,U:oZ,V:sZ,w:lZ,W:uZ,x:null,X:null,y:cZ,Y:dZ,Z:pZ,"%":uO},D={a:le,A:ce,b:te,B:fe,c:null,d:lO,e:lO,f:yZ,g:MZ,G:OZ,H:mZ,I:gZ,j:vZ,L:Uk,m:bZ,M:_Z,p:we,q:Pe,Q:cO,s:fO,S:SZ,u:TZ,U:EZ,V:wZ,w:xZ,W:AZ,x:null,X:null,y:CZ,Y:PZ,Z:IZ,"%":uO},I={a:re,A:F,b:V,B:de,c:pe,d:aO,e:aO,f:YQ,g:iO,G:rO,H:oO,I:oO,j:HQ,L:KQ,m:FQ,M:GQ,p:$,q:$Q,Q:JQ,s:XQ,S:VQ,u:UQ,U:jQ,V:qQ,w:LQ,W:zQ,x:_e,X:B,y:iO,Y:rO,Z:BQ,"%":WQ};P.x=R(n,P),P.X=R(r,P),P.c=R(t,P),D.x=R(n,D),D.X=R(r,D),D.c=R(t,D);function R(Q,xe){return function(Oe){var oe=[],ht=-1,Re=0,_t=Q.length,St,We,vn;for(Oe instanceof Date||(Oe=new Date(+Oe));++ht<_t;)Q.charCodeAt(ht)===37&&(oe.push(Q.slice(Re,ht)),(We=nO[St=Q.charAt(++ht)])!=null?St=Q.charAt(++ht):We=St==="e"?" ":"0",(vn=xe[St])&&(St=vn(Oe,We)),oe.push(St),Re=ht+1);return oe.push(Q.slice(Re,ht)),oe.join("")}}function k(Q,xe){return function(Oe){var oe=Lu(1900,void 0,1),ht=z(oe,Q,Oe+="",0),Re,_t;if(ht!=Oe.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(xe&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(Re=Ry(Lu(oe.y,0,1)),_t=Re.getUTCDay(),Re=_t>4||_t===0?Rh.ceil(Re):Rh(Re),Re=Mp.offset(Re,(oe.V-1)*7),oe.y=Re.getUTCFullYear(),oe.m=Re.getUTCMonth(),oe.d=Re.getUTCDate()+(oe.w+6)%7):(Re=Dy(Lu(oe.y,0,1)),_t=Re.getDay(),Re=_t>4||_t===0?Dh.ceil(Re):Dh(Re),Re=Uc.offset(Re,(oe.V-1)*7),oe.y=Re.getFullYear(),oe.m=Re.getMonth(),oe.d=Re.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),_t="Z"in oe?Ry(Lu(oe.y,0,1)).getUTCDay():Dy(Lu(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(_t+5)%7:oe.w+oe.U*7-(_t+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,Ry(oe)):Dy(oe)}}function z(Q,xe,Oe,oe){for(var ht=0,Re=xe.length,_t=Oe.length,St,We;ht<Re;){if(oe>=_t)return-1;if(St=xe.charCodeAt(ht++),St===37){if(St=xe.charAt(ht++),We=I[St in nO?xe.charAt(ht++):St],!We||(oe=We(Q,Oe,oe))<0)return-1}else if(St!=Oe.charCodeAt(oe++))return-1}return oe}function $(Q,xe,Oe){var oe=d.exec(xe.slice(Oe));return oe?(Q.p=h.get(oe[0].toLowerCase()),Oe+oe[0].length):-1}function re(Q,xe,Oe){var oe=_.exec(xe.slice(Oe));return oe?(Q.w=T.get(oe[0].toLowerCase()),Oe+oe[0].length):-1}function F(Q,xe,Oe){var oe=m.exec(xe.slice(Oe));return oe?(Q.w=v.get(oe[0].toLowerCase()),Oe+oe[0].length):-1}function V(Q,xe,Oe){var oe=C.exec(xe.slice(Oe));return oe?(Q.m=O.get(oe[0].toLowerCase()),Oe+oe[0].length):-1}function de(Q,xe,Oe){var oe=w.exec(xe.slice(Oe));return oe?(Q.m=E.get(oe[0].toLowerCase()),Oe+oe[0].length):-1}function pe(Q,xe,Oe){return z(Q,t,xe,Oe)}function _e(Q,xe,Oe){return z(Q,n,xe,Oe)}function B(Q,xe,Oe){return z(Q,r,xe,Oe)}function ee(Q){return l[Q.getDay()]}function se(Q){return a[Q.getDay()]}function ue(Q){return c[Q.getMonth()]}function Ce(Q){return u[Q.getMonth()]}function U(Q){return i[+(Q.getHours()>=12)]}function W(Q){return 1+~~(Q.getMonth()/3)}function le(Q){return l[Q.getUTCDay()]}function ce(Q){return a[Q.getUTCDay()]}function te(Q){return c[Q.getUTCMonth()]}function fe(Q){return u[Q.getUTCMonth()]}function we(Q){return i[+(Q.getUTCHours()>=12)]}function Pe(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var xe=R(Q+="",P);return xe.toString=function(){return Q},xe},parse:function(Q){var xe=k(Q+="",!1);return xe.toString=function(){return Q},xe},utcFormat:function(Q){var xe=R(Q+="",D);return xe.toString=function(){return Q},xe},utcParse:function(Q){var xe=k(Q+="",!0);return xe.toString=function(){return Q},xe}}}var nO={"-":"",_:" ",0:"0"},nn=/^\s*\d+/,DQ=/^%/,RQ=/[\\^$*+?|[\]().{}]/g;function Ke(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function kQ(e){return e.replace(RQ,"\\$&")}function Uu(e){return new RegExp("^(?:"+e.map(kQ).join("|")+")","i")}function ju(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function LQ(e,t,n){var r=nn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function UQ(e,t,n){var r=nn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function jQ(e,t,n){var r=nn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function qQ(e,t,n){var r=nn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function zQ(e,t,n){var r=nn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function rO(e,t,n){var r=nn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function iO(e,t,n){var r=nn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function BQ(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function $Q(e,t,n){var r=nn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function FQ(e,t,n){var r=nn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function aO(e,t,n){var r=nn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function HQ(e,t,n){var r=nn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function oO(e,t,n){var r=nn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function GQ(e,t,n){var r=nn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function VQ(e,t,n){var r=nn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function KQ(e,t,n){var r=nn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function YQ(e,t,n){var r=nn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function WQ(e,t,n){var r=DQ.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function JQ(e,t,n){var r=nn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function XQ(e,t,n){var r=nn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function sO(e,t){return Ke(e.getDate(),t,2)}function QQ(e,t){return Ke(e.getHours(),t,2)}function ZQ(e,t){return Ke(e.getHours()%12||12,t,2)}function eZ(e,t){return Ke(1+Uc.count(ia(e),e),t,3)}function kk(e,t){return Ke(e.getMilliseconds(),t,3)}function tZ(e,t){return kk(e,t)+"000"}function nZ(e,t){return Ke(e.getMonth()+1,t,2)}function rZ(e,t){return Ke(e.getMinutes(),t,2)}function iZ(e,t){return Ke(e.getSeconds(),t,2)}function aZ(e){var t=e.getDay();return t===0?7:t}function oZ(e,t){return Ke(Pp.count(ia(e)-1,e),t,2)}function Lk(e){var t=e.getDay();return t>=4||t===0?ml(e):ml.ceil(e)}function sZ(e,t){return e=Lk(e),Ke(ml.count(ia(e),e)+(ia(e).getDay()===4),t,2)}function lZ(e){return e.getDay()}function uZ(e,t){return Ke(Dh.count(ia(e)-1,e),t,2)}function cZ(e,t){return Ke(e.getFullYear()%100,t,2)}function fZ(e,t){return e=Lk(e),Ke(e.getFullYear()%100,t,2)}function dZ(e,t){return Ke(e.getFullYear()%1e4,t,4)}function hZ(e,t){var n=e.getDay();return e=n>=4||n===0?ml(e):ml.ceil(e),Ke(e.getFullYear()%1e4,t,4)}function pZ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ke(t/60|0,"0",2)+Ke(t%60,"0",2)}function lO(e,t){return Ke(e.getUTCDate(),t,2)}function mZ(e,t){return Ke(e.getUTCHours(),t,2)}function gZ(e,t){return Ke(e.getUTCHours()%12||12,t,2)}function vZ(e,t){return Ke(1+Mp.count(aa(e),e),t,3)}function Uk(e,t){return Ke(e.getUTCMilliseconds(),t,3)}function yZ(e,t){return Uk(e,t)+"000"}function bZ(e,t){return Ke(e.getUTCMonth()+1,t,2)}function _Z(e,t){return Ke(e.getUTCMinutes(),t,2)}function SZ(e,t){return Ke(e.getUTCSeconds(),t,2)}function TZ(e){var t=e.getUTCDay();return t===0?7:t}function EZ(e,t){return Ke(Op.count(aa(e)-1,e),t,2)}function jk(e){var t=e.getUTCDay();return t>=4||t===0?gl(e):gl.ceil(e)}function wZ(e,t){return e=jk(e),Ke(gl.count(aa(e),e)+(aa(e).getUTCDay()===4),t,2)}function xZ(e){return e.getUTCDay()}function AZ(e,t){return Ke(Rh.count(aa(e)-1,e),t,2)}function CZ(e,t){return Ke(e.getUTCFullYear()%100,t,2)}function MZ(e,t){return e=jk(e),Ke(e.getUTCFullYear()%100,t,2)}function PZ(e,t){return Ke(e.getUTCFullYear()%1e4,t,4)}function OZ(e,t){var n=e.getUTCDay();return e=n>=4||n===0?gl(e):gl.ceil(e),Ke(e.getUTCFullYear()%1e4,t,4)}function IZ(){return"+0000"}function uO(){return"%"}function cO(e){return+e}function fO(e){return Math.floor(+e/1e3)}var zs,qk,zk;NZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function NZ(e){return zs=NQ(e),qk=zs.format,zs.parse,zk=zs.utcFormat,zs.utcParse,zs}function DZ(e){return new Date(e)}function RZ(e){return e instanceof Date?+e:+new Date(+e)}function sS(e,t,n,r,i,a,l,u,c,d){var h=K_(),m=h.invert,v=h.domain,_=d(".%L"),T=d(":%S"),w=d("%I:%M"),E=d("%I %p"),C=d("%a %d"),O=d("%b %d"),P=d("%B"),D=d("%Y");function I(R){return(c(R)<R?_:u(R)<R?T:l(R)<R?w:a(R)<R?E:r(R)<R?i(R)<R?C:O:n(R)<R?P:D)(R)}return h.invert=function(R){return new Date(m(R))},h.domain=function(R){return arguments.length?v(Array.from(R,RZ)):v().map(DZ)},h.ticks=function(R){var k=v();return e(k[0],k[k.length-1],R??10)},h.tickFormat=function(R,k){return k==null?I:d(k)},h.nice=function(R){var k=v();return(!R||typeof R.range!="function")&&(R=t(k[0],k[k.length-1],R??10)),R?v(Ak(k,R)):h},h.copy=function(){return Lc(h,sS(e,t,n,r,i,a,l,u,c,d))},h}function kZ(){return Dr.apply(sS(OQ,IQ,ia,aS,Pp,Uc,rS,tS,Lo,qk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function LZ(){return Dr.apply(sS(MQ,PQ,aa,oS,Op,Mp,iS,nS,Lo,zk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ip(){var e=0,t=1,n,r,i,a,l=Mn,u=!1,c;function d(m){return m==null||isNaN(m=+m)?c:l(i===0?.5:(m=(a(m)-n)*i,u?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(m){return arguments.length?(u=!!m,d):u},d.interpolator=function(m){return arguments.length?(l=m,d):l};function h(m){return function(v){var _,T;return arguments.length?([_,T]=v,l=m(_,T),d):[l(0),l(1)]}}return d.range=h(Cl),d.rangeRound=h(V_),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return a=m,n=m(e),r=m(t),i=n===r?0:1/(r-n),d}}function io(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Bk(){var e=ro(Ip()(Mn));return e.copy=function(){return io(e,Bk())},ha.apply(e,arguments)}function $k(){var e=J_(Ip()).domain([1,10]);return e.copy=function(){return io(e,$k()).base(e.base())},ha.apply(e,arguments)}function Fk(){var e=X_(Ip());return e.copy=function(){return io(e,Fk()).constant(e.constant())},ha.apply(e,arguments)}function lS(){var e=Q_(Ip());return e.copy=function(){return io(e,lS()).exponent(e.exponent())},ha.apply(e,arguments)}function UZ(){return lS.apply(null,arguments).exponent(.5)}function Hk(){var e=[],t=Mn;function n(r){if(r!=null&&!isNaN(r=+r))return t((Rc(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ka),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>TX(e,a/r))},n.copy=function(){return Hk(t).domain(e)},ha.apply(n,arguments)}function Np(){var e=0,t=.5,n=1,r=1,i,a,l,u,c,d=Mn,h,m=!1,v;function _(w){return isNaN(w=+w)?v:(w=.5+((w=+h(w))-a)*(r*w<r*a?u:c),d(m?Math.max(0,Math.min(1,w)):w))}_.domain=function(w){return arguments.length?([e,t,n]=w,i=h(e=+e),a=h(t=+t),l=h(n=+n),u=i===a?0:.5/(a-i),c=a===l?0:.5/(l-a),r=a<i?-1:1,_):[e,t,n]},_.clamp=function(w){return arguments.length?(m=!!w,_):m},_.interpolator=function(w){return arguments.length?(d=w,_):d};function T(w){return function(E){var C,O,P;return arguments.length?([C,O,P]=E,d=WX(w,[C,O,P]),_):[d(0),d(.5),d(1)]}}return _.range=T(Cl),_.rangeRound=T(V_),_.unknown=function(w){return arguments.length?(v=w,_):v},function(w){return h=w,i=w(e),a=w(t),l=w(n),u=i===a?0:.5/(a-i),c=a===l?0:.5/(l-a),r=a<i?-1:1,_}}function Gk(){var e=ro(Np()(Mn));return e.copy=function(){return io(e,Gk())},ha.apply(e,arguments)}function Vk(){var e=J_(Np()).domain([.1,1,10]);return e.copy=function(){return io(e,Vk()).base(e.base())},ha.apply(e,arguments)}function Kk(){var e=X_(Np());return e.copy=function(){return io(e,Kk()).constant(e.constant())},ha.apply(e,arguments)}function uS(){var e=Q_(Np());return e.copy=function(){return io(e,uS()).exponent(e.exponent())},ha.apply(e,arguments)}function jZ(){return uS.apply(null,arguments).exponent(.5)}const Gu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:F_,scaleDiverging:Gk,scaleDivergingLog:Vk,scaleDivergingPow:uS,scaleDivergingSqrt:jZ,scaleDivergingSymlog:Kk,scaleIdentity:xk,scaleImplicit:gb,scaleLinear:wk,scaleLog:Ck,scaleOrdinal:$_,scalePoint:xX,scalePow:Z_,scaleQuantile:Ok,scaleQuantize:Ik,scaleRadial:Pk,scaleSequential:Bk,scaleSequentialLog:$k,scaleSequentialPow:lS,scaleSequentialQuantile:Hk,scaleSequentialSqrt:UZ,scaleSequentialSymlog:Fk,scaleSqrt:yQ,scaleSymlog:Mk,scaleThreshold:Nk,scaleTime:kZ,scaleUtc:LZ,tickFormat:Ek},Symbol.toStringTag,{value:"Module"}));var ao=e=>e.chartData,qZ=X([ao],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),cS=(e,t,n,r)=>r?qZ(e):ao(e);function Xa(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(wt(t)&&wt(n))return!0}return!1}function dO(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Yk(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(wt(n))i=n;else if(typeof n=="function")return;if(wt(r))a=r;else if(typeof r=="function")return;var l=[i,a];if(Xa(l))return l}}function zZ(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Xa(r))return dO(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,l,u;if(i==="auto")t!=null&&(l=Math.min(...t));else if(Ee(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t?.[0]))}catch{}else if(typeof i=="string"&&zM.test(i)){var c=zM.exec(i);if(c==null||t==null)l=void 0;else{var d=+c[1];l=t[0]-d}}else l=t?.[0];if(a==="auto")t!=null&&(u=Math.max(...t));else if(Ee(a))u=a;else if(typeof a=="function")try{t!=null&&(u=a(t?.[1]))}catch{}else if(typeof a=="string"&&BM.test(a)){var h=BM.exec(a);if(h==null||t==null)u=void 0;else{var m=+h[1];u=t[1]+m}}else u=t?.[1];var v=[l,u];if(Xa(v))return t==null?v:dO(v,t,n)}}}var Ml=1e9,BZ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},dS,vt=!0,Nr="[DecimalError] ",$o=Nr+"Invalid argument: ",fS=Nr+"Exponent out of range: ",Pl=Math.floor,Mo=Math.pow,$Z=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,rr,en=1e7,ct=7,Wk=9007199254740991,kh=Pl(Wk/ct),me={};me.absoluteValue=me.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};me.comparedTo=me.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};me.decimalPlaces=me.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*ct;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};me.dividedBy=me.div=function(e){return Yi(this,new this.constructor(e))};me.dividedToIntegerBy=me.idiv=function(e){var t=this,n=t.constructor;return at(Yi(t,new n(e),0,1),n.precision)};me.equals=me.eq=function(e){return!this.cmp(e)};me.exponent=function(){return Ut(this)};me.greaterThan=me.gt=function(e){return this.cmp(e)>0};me.greaterThanOrEqualTo=me.gte=function(e){return this.cmp(e)>=0};me.isInteger=me.isint=function(){return this.e>this.d.length-2};me.isNegative=me.isneg=function(){return this.s<0};me.isPositive=me.ispos=function(){return this.s>0};me.isZero=function(){return this.s===0};me.lessThan=me.lt=function(e){return this.cmp(e)<0};me.lessThanOrEqualTo=me.lte=function(e){return this.cmp(e)<1};me.logarithm=me.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(rr))throw Error(Nr+"NaN");if(n.s<1)throw Error(Nr+(n.s?"NaN":"-Infinity"));return n.eq(rr)?new r(0):(vt=!1,t=Yi(gc(n,a),gc(e,a),a),vt=!0,at(t,i))};me.minus=me.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Qk(t,e):Jk(t,(e.s=-e.s,e))};me.modulo=me.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Nr+"NaN");return n.s?(vt=!1,t=Yi(n,e,0,1).times(e),vt=!0,n.minus(t)):at(new r(n),i)};me.naturalExponential=me.exp=function(){return Xk(this)};me.naturalLogarithm=me.ln=function(){return gc(this)};me.negated=me.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};me.plus=me.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Jk(t,e):Qk(t,(e.s=-e.s,e))};me.precision=me.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error($o+e);if(t=Ut(i)+1,r=i.d.length-1,n=r*ct+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};me.squareRoot=me.sqrt=function(){var e,t,n,r,i,a,l,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(Nr+"NaN")}for(e=Ut(u),vt=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=ti(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Pl((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(i.toString()),n=c.precision,i=l=n+3;;)if(a=r,r=a.plus(Yi(u,a,l+2)).times(.5),ti(a.d).slice(0,l)===(t=ti(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(at(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(t!="9999")break;l+=4}return vt=!0,at(r,n)};me.times=me.mul=function(e){var t,n,r,i,a,l,u,c,d,h=this,m=h.constructor,v=h.d,_=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,n=h.e+e.e,c=v.length,d=_.length,c<d&&(a=v,v=_,_=a,l=c,c=d,d=l),a=[],l=c+d,r=l;r--;)a.push(0);for(r=d;--r>=0;){for(t=0,i=c+r;i>r;)u=a[i]+_[r]*v[i-r-1]+t,a[i--]=u%en|0,t=u/en|0;a[i]=(a[i]+t)%en|0}for(;!a[--l];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,vt?at(e,m.precision):e};me.toDecimalPlaces=me.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(si(e,0,Ml),t===void 0?t=r.rounding:si(t,0,8),at(n,e+Ut(n)+1,t))};me.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Go(r,!0):(si(e,0,Ml),t===void 0?t=i.rounding:si(t,0,8),r=at(new i(r),e+1,t),n=Go(r,!0,e+1)),n};me.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?Go(i):(si(e,0,Ml),t===void 0?t=a.rounding:si(t,0,8),r=at(new a(i),e+Ut(i)+1,t),n=Go(r.abs(),!1,e+Ut(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};me.toInteger=me.toint=function(){var e=this,t=e.constructor;return at(new t(e),Ut(e)+1,t.rounding)};me.toNumber=function(){return+this};me.toPower=me.pow=function(e){var t,n,r,i,a,l,u=this,c=u.constructor,d=12,h=+(e=new c(e));if(!e.s)return new c(rr);if(u=new c(u),!u.s){if(e.s<1)throw Error(Nr+"Infinity");return u}if(u.eq(rr))return u;if(r=c.precision,e.eq(rr))return at(u,r);if(t=e.e,n=e.d.length-1,l=t>=n,a=u.s,l){if((n=h<0?-h:h)<=Wk){for(i=new c(rr),t=Math.ceil(r/ct+4),vt=!1;n%2&&(i=i.times(u),pO(i.d,t)),n=Pl(n/2),n!==0;)u=u.times(u),pO(u.d,t);return vt=!0,e.s<0?new c(rr).div(i):at(i,r)}}else if(a<0)throw Error(Nr+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,vt=!1,i=e.times(gc(u,r+d)),vt=!0,i=Xk(i),i.s=a,i};me.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Ut(i),r=Go(i,n<=a.toExpNeg||n>=a.toExpPos)):(si(e,1,Ml),t===void 0?t=a.rounding:si(t,0,8),i=at(new a(i),e,t),n=Ut(i),r=Go(i,e<=n||n<=a.toExpNeg,e)),r};me.toSignificantDigits=me.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(si(e,1,Ml),t===void 0?t=r.rounding:si(t,0,8)),at(new r(n),e,t)};me.toString=me.valueOf=me.val=me.toJSON=me[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ut(e),n=e.constructor;return Go(e,t<=n.toExpNeg||t>=n.toExpPos)};function Jk(e,t){var n,r,i,a,l,u,c,d,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),vt?at(t,m):t;if(c=e.d,d=t.d,l=e.e,i=t.e,c=c.slice(),a=l-i,a){for(a<0?(r=c,a=-a,u=d.length):(r=d,i=l,u=c.length),l=Math.ceil(m/ct),u=l>u?l+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=c.length,a=d.length,u-a<0&&(a=u,r=d,d=c,c=r),n=0;a;)n=(c[--a]=c[a]+d[a]+n)/en|0,c[a]%=en;for(n&&(c.unshift(n),++i),u=c.length;c[--u]==0;)c.pop();return t.d=c,t.e=i,vt?at(t,m):t}function si(e,t,n){if(e!==~~e||e<t||e>n)throw Error($o+e)}function ti(e){var t,n,r,i=e.length-1,a="",l=e[0];if(i>0){for(a+=l,t=1;t<i;t++)r=e[t]+"",n=ct-r.length,n&&(a+=$a(n)),a+=r;l=e[t],r=l+"",n=ct-r.length,n&&(a+=$a(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}var Yi=(function(){function e(r,i){var a,l=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+l,r[u]=a%en|0,l=a/en|0;return l&&r.unshift(l),r}function t(r,i,a,l){var u,c;if(a!=l)c=a>l?1:-1;else for(u=c=0;u<a;u++)if(r[u]!=i[u]){c=r[u]>i[u]?1:-1;break}return c}function n(r,i,a){for(var l=0;a--;)r[a]-=l,l=r[a]<i[a]?1:0,r[a]=l*en+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,l){var u,c,d,h,m,v,_,T,w,E,C,O,P,D,I,R,k,z,$=r.constructor,re=r.s==i.s?1:-1,F=r.d,V=i.d;if(!r.s)return new $(r);if(!i.s)throw Error(Nr+"Division by zero");for(c=r.e-i.e,k=V.length,I=F.length,_=new $(re),T=_.d=[],d=0;V[d]==(F[d]||0);)++d;if(V[d]>(F[d]||0)&&--c,a==null?O=a=$.precision:l?O=a+(Ut(r)-Ut(i))+1:O=a,O<0)return new $(0);if(O=O/ct+2|0,d=0,k==1)for(h=0,V=V[0],O++;(d<I||h)&&O--;d++)P=h*en+(F[d]||0),T[d]=P/V|0,h=P%V|0;else{for(h=en/(V[0]+1)|0,h>1&&(V=e(V,h),F=e(F,h),k=V.length,I=F.length),D=k,w=F.slice(0,k),E=w.length;E<k;)w[E++]=0;z=V.slice(),z.unshift(0),R=V[0],V[1]>=en/2&&++R;do h=0,u=t(V,w,k,E),u<0?(C=w[0],k!=E&&(C=C*en+(w[1]||0)),h=C/R|0,h>1?(h>=en&&(h=en-1),m=e(V,h),v=m.length,E=w.length,u=t(m,w,v,E),u==1&&(h--,n(m,k<v?z:V,v))):(h==0&&(u=h=1),m=V.slice()),v=m.length,v<E&&m.unshift(0),n(w,m,E),u==-1&&(E=w.length,u=t(V,w,k,E),u<1&&(h++,n(w,k<E?z:V,E))),E=w.length):u===0&&(h++,w=[0]),T[d++]=h,u&&w[0]?w[E++]=F[D]||0:(w=[F[D]],E=1);while((D++<I||w[0]!==void 0)&&O--)}return T[0]||T.shift(),_.e=c,at(_,l?a+Ut(_)+1:a)}})();function Xk(e,t){var n,r,i,a,l,u,c=0,d=0,h=e.constructor,m=h.precision;if(Ut(e)>16)throw Error(fS+Ut(e));if(!e.s)return new h(rr);for(vt=!1,u=m,l=new h(.03125);e.abs().gte(.1);)e=e.times(l),d+=5;for(r=Math.log(Mo(2,d))/Math.LN10*2+5|0,u+=r,n=i=a=new h(rr),h.precision=u;;){if(i=at(i.times(e),u),n=n.times(++c),l=a.plus(Yi(i,n,u)),ti(l.d).slice(0,u)===ti(a.d).slice(0,u)){for(;d--;)a=at(a.times(a),u);return h.precision=m,t==null?(vt=!0,at(a,m)):a}a=l}}function Ut(e){for(var t=e.e*ct,n=e.d[0];n>=10;n/=10)t++;return t}function ky(e,t,n){if(t>e.LN10.sd())throw vt=!0,n&&(e.precision=n),Error(Nr+"LN10 precision limit exceeded");return at(new e(e.LN10),t)}function $a(e){for(var t="";e--;)t+="0";return t}function gc(e,t){var n,r,i,a,l,u,c,d,h,m=1,v=10,_=e,T=_.d,w=_.constructor,E=w.precision;if(_.s<1)throw Error(Nr+(_.s?"NaN":"-Infinity"));if(_.eq(rr))return new w(0);if(t==null?(vt=!1,d=E):d=t,_.eq(10))return t==null&&(vt=!0),ky(w,d);if(d+=v,w.precision=d,n=ti(T),r=n.charAt(0),a=Ut(_),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(e),n=ti(_.d),r=n.charAt(0),m++;a=Ut(_),r>1?(_=new w("0."+n),a++):_=new w(r+"."+n.slice(1))}else return c=ky(w,d+2,E).times(a+""),_=gc(new w(r+"."+n.slice(1)),d-v).plus(c),w.precision=E,t==null?(vt=!0,at(_,E)):_;for(u=l=_=Yi(_.minus(rr),_.plus(rr),d),h=at(_.times(_),d),i=3;;){if(l=at(l.times(h),d),c=u.plus(Yi(l,new w(i),d)),ti(c.d).slice(0,d)===ti(u.d).slice(0,d))return u=u.times(2),a!==0&&(u=u.plus(ky(w,d+2,E).times(a+""))),u=Yi(u,new w(m),d),w.precision=E,t==null?(vt=!0,at(u,E)):u;u=c,i+=2}}function hO(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Pl(n/ct),e.d=[],r=(n+1)%ct,n<0&&(r+=ct),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=ct;r<i;)e.d.push(+t.slice(r,r+=ct));t=t.slice(r),r=ct-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),vt&&(e.e>kh||e.e<-kh))throw Error(fS+n)}else e.s=0,e.e=0,e.d=[0];return e}function at(e,t,n){var r,i,a,l,u,c,d,h,m=e.d;for(l=1,a=m[0];a>=10;a/=10)l++;if(r=t-l,r<0)r+=ct,i=t,d=m[h=0];else{if(h=Math.ceil((r+1)/ct),a=m.length,h>=a)return e;for(d=a=m[h],l=1;a>=10;a/=10)l++;r%=ct,i=r-ct+l}if(n!==void 0&&(a=Mo(10,l-i-1),u=d/a%10|0,c=t<0||m[h+1]!==void 0||d%a,c=n<4?(u||c)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(r>0?i>0?d/Mo(10,l-i):0:m[h-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return c?(a=Ut(e),m.length=1,t=t-a-1,m[0]=Mo(10,(ct-t%ct)%ct),e.e=Pl(-t/ct)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=h,a=1,h--):(m.length=h+1,a=Mo(10,ct-r),m[h]=i>0?(d/Mo(10,l-i)%Mo(10,i)|0)*a:0),c)for(;;)if(h==0){(m[0]+=a)==en&&(m[0]=1,++e.e);break}else{if(m[h]+=a,m[h]!=en)break;m[h--]=0,a=1}for(r=m.length;m[--r]===0;)m.pop();if(vt&&(e.e>kh||e.e<-kh))throw Error(fS+Ut(e));return e}function Qk(e,t){var n,r,i,a,l,u,c,d,h,m,v=e.constructor,_=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),vt?at(t,_):t;if(c=e.d,m=t.d,r=t.e,d=e.e,c=c.slice(),l=d-r,l){for(h=l<0,h?(n=c,l=-l,u=m.length):(n=m,r=d,u=c.length),i=Math.max(Math.ceil(_/ct),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=c.length,u=m.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=m[i]){h=c[i]<m[i];break}l=0}for(h&&(n=c,c=m,m=n,t.s=-t.s),u=c.length,i=m.length-u;i>0;--i)c[u++]=0;for(i=m.length;i>l;){if(c[--i]<m[i]){for(a=i;a&&c[--a]===0;)c[a]=en-1;--c[a],c[i]+=en}c[i]-=m[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,vt?at(t,_):t):new v(0)}function Go(e,t,n){var r,i=Ut(e),a=ti(e.d),l=a.length;return t?(n&&(r=n-l)>0?a=a.charAt(0)+"."+a.slice(1)+$a(r):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+$a(-i-1)+a,n&&(r=n-l)>0&&(a+=$a(r))):i>=l?(a+=$a(i+1-l),n&&(r=n-i-1)>0&&(a=a+"."+$a(r))):((r=i+1)<l&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(a+="."),a+=$a(r))),e.s<0?"-"+a:a}function pO(e,t){if(e.length>t)return e.length=t,!0}function Zk(e){var t,n,r;function i(a){var l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,a instanceof i){l.s=a.s,l.e=a.e,l.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error($o+a);if(a>0)l.s=1;else if(a<0)a=-a,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(a===~~a&&a<1e7){l.e=0,l.d=[a];return}return hO(l,a.toString())}else if(typeof a!="string")throw Error($o+a);if(a.charCodeAt(0)===45?(a=a.slice(1),l.s=-1):l.s=1,$Z.test(a))hO(l,a);else throw Error($o+a)}if(i.prototype=me,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Zk,i.config=i.set=FZ,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function FZ(e){if(!e||typeof e!="object")throw Error(Nr+"Object expected");var t,n,r,i=["precision",1,Ml,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Pl(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error($o+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error($o+n+": "+r);return this}var dS=Zk(BZ);rr=new dS(1);const Qe=dS;var HZ=e=>e,e2={},t2=e=>e===e2,mO=e=>function t(){return arguments.length===0||arguments.length===1&&t2(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},n2=(e,t)=>e===1?t:mO(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(l=>l!==e2).length;return a>=e?t(...r):n2(e-a,mO(function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];var d=r.map(h=>t2(h)?u.shift():h);return t(...d,...u)}))}),GZ=e=>n2(e.length,e),_b=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},VZ=GZ((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),KZ=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return HZ;var i=n.reverse(),a=i[0],l=i.slice(1);return function(){return l.reduce((u,c)=>c(u),a(...arguments))}},Sb=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function r2(e){var t;return e===0?t=1:t=Math.floor(new Qe(e).abs().log(10).toNumber())+1,t}function i2(e,t,n){for(var r=new Qe(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var a2=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},o2=(e,t,n)=>{if(e.lte(0))return new Qe(0);var r=r2(e.toNumber()),i=new Qe(10).pow(r),a=e.div(i),l=r!==1?.05:.1,u=new Qe(Math.ceil(a.div(l).toNumber())).add(n).mul(l),c=u.mul(i);return t?new Qe(c.toNumber()):new Qe(Math.ceil(c.toNumber()))},YZ=(e,t,n)=>{var r=new Qe(1),i=new Qe(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Qe(10).pow(r2(e)-1),i=new Qe(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Qe(Math.floor(e)))}else e===0?i=new Qe(Math.floor((t-1)/2)):n||(i=new Qe(Math.floor(e)));var l=Math.floor((t-1)/2),u=KZ(VZ(c=>i.add(new Qe(c-l).mul(r)).toNumber()),_b);return u(0,t)},s2=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Qe(0),tickMin:new Qe(0),tickMax:new Qe(0)};var l=o2(new Qe(n).sub(t).div(r-1),i,a),u;t<=0&&n>=0?u=new Qe(0):(u=new Qe(t).add(n).div(2),u=u.sub(new Qe(u).mod(l)));var c=Math.ceil(u.sub(t).div(l).toNumber()),d=Math.ceil(new Qe(n).sub(u).div(l).toNumber()),h=c+d+1;return h>r?s2(t,n,r,i,a+1):(h<r&&(d=n>0?d+(r-h):d,c=n>0?c:c+(r-h)),{step:l,tickMin:u.sub(new Qe(c).mul(l)),tickMax:u.add(new Qe(d).mul(l))})},WZ=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[u,c]=a2([n,r]);if(u===-1/0||c===1/0){var d=c===1/0?[u,..._b(0,i-1).map(()=>1/0)]:[..._b(0,i-1).map(()=>-1/0),c];return n>r?Sb(d):d}if(u===c)return YZ(u,i,a);var{step:h,tickMin:m,tickMax:v}=s2(u,c,l,a,0),_=i2(m,v.add(new Qe(.1).mul(h)),h);return n>r?Sb(_):_},JZ=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=a2([r,i]);if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(n,2),d=o2(new Qe(u).sub(l).div(c-1),a,0),h=[...i2(new Qe(l),new Qe(u),d),u];return a===!1&&(h=h.map(m=>Math.round(m))),r>i?Sb(h):h},XZ=e=>e.rootProps.barCategoryGap,Dp=e=>e.rootProps.stackOffset,l2=e=>e.rootProps.reverseStackOrder,hS=e=>e.options.chartName,pS=e=>e.rootProps.syncId,u2=e=>e.rootProps.syncMethod,mS=e=>e.options.eventEmitter,Tn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Bi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},tr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Rp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},QZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Bi.angleAxisId,includeHidden:!1,name:void 0,reversed:Bi.reversed,scale:Bi.scale,tick:Bi.tick,tickCount:void 0,ticks:void 0,type:Bi.type,unit:void 0},ZZ={allowDataOverflow:tr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:tr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:tr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:tr.scale,tick:tr.tick,tickCount:tr.tickCount,ticks:void 0,type:tr.type,unit:void 0},eee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Bi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Bi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Bi.scale,tick:Bi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},tee={allowDataOverflow:tr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:tr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:tr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:tr.scale,tick:tr.tick,tickCount:tr.tickCount,ticks:void 0,type:"category",unit:void 0},gS=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?eee:QZ,vS=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?tee:ZZ,kp=e=>e.polarOptions,yS=X([fa,da,gn],JJ),c2=X([kp,yS],(e,t)=>{if(e!=null)return Ja(e.innerRadius,t,0)}),f2=X([kp,yS],(e,t)=>{if(e!=null)return Ja(e.outerRadius,t,t*.8)}),nee=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},d2=X([kp],nee);X([gS,d2],Rp);var h2=X([yS,c2,f2],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});X([vS,h2],Rp);var p2=X([dt,kp,c2,f2,fa,da],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:l,cy:u,startAngle:c,endAngle:d}=t;return{cx:Ja(l,i,i/2),cy:Ja(u,a,a/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:d,clockWise:!1}}}),Ft=(e,t)=>t,Lp=(e,t,n)=>n;function m2(e){return e?.id}function g2(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,l=new Map;return e.forEach(u=>{var c,d=(c=u.data)!==null&&c!==void 0?c:r;if(!(d==null||d.length===0)){var h=m2(u);d.forEach((m,v)=>{var _=a==null||i?v:String(En(m,a,null)),T=En(m,u.dataKey,0),w;l.has(_)?w=l.get(_):w={},Object.assign(w,{[h]:T}),l.set(_,w)})}}),Array.from(l.values())}function bS(e){return e.stackId!=null&&e.dataKey!=null}var Up=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function jp(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function ree(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Ht=e=>{var t=dt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ol=e=>e.tooltip.settings.axisId;function gO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gO(Object(n),!0).forEach(function(r){iee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iee(e,t,n){return(t=aee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aee(e){var t=oee(e,"string");return typeof t=="symbol"?t:t+""}function oee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tb=[0,"auto"],Xt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},v2=(e,t)=>e.cartesianAxis.xAxis[t],ui=(e,t)=>{var n=v2(e,t);return n??Xt},Qt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Tb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ic},y2=(e,t)=>e.cartesianAxis.yAxis[t],ci=(e,t)=>{var n=y2(e,t);return n??Qt},see={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},_S=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??see},In=(e,t,n)=>{switch(t){case"xAxis":return ui(e,n);case"yAxis":return ci(e,n);case"zAxis":return _S(e,n);case"angleAxis":return gS(e,n);case"radiusAxis":return vS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},lee=(e,t,n)=>{switch(t){case"xAxis":return ui(e,n);case"yAxis":return ci(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},jc=(e,t,n)=>{switch(t){case"xAxis":return ui(e,n);case"yAxis":return ci(e,n);case"angleAxis":return gS(e,n);case"radiusAxis":return vS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},b2=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function _2(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var S2=e=>e.graphicalItems.cartesianItems,uee=X([Ft,Lp],_2),T2=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),qc=X([S2,In,uee],T2,{memoizeOptions:{resultEqualityCheck:jp}}),E2=X([qc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(bS)),w2=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),cee=X([qc],w2),x2=e=>e.map(t=>t.data).filter(Boolean).flat(1),fee=X([qc],x2,{memoizeOptions:{resultEqualityCheck:jp}}),A2=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},SS=X([fee,cS],A2),C2=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:En(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:En(i,r)}))):e.map(r=>({value:r})),qp=X([SS,In,qc],C2);function M2(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function zd(e){if(Or(e)||e instanceof Date){var t=Number(e);if(wt(t))return t}}function vO(e){if(Array.isArray(e)){var t=[zd(e[0]),zd(e[1])];return Xa(t)?t:void 0}var n=zd(e);if(n!=null)return[n,n]}function oa(e){return e.map(zd).filter(nY)}function dee(e,t,n){return!n||typeof t!="number"||Pr(t)?[]:n.length?oa(n.flatMap(r=>{var i=En(e,r.dataKey),a,l;if(Array.isArray(i)?[a,l]=i:a=l=i,!(!wt(a)||!wt(l)))return[t-a,t+l]})):[]}var Gt=e=>{var t=Ht(e),n=Ol(e);return jc(e,t,n)},zc=X([Gt],e=>e?.dataKey),hee=X([E2,cS,Gt],g2),P2=(e,t,n,r)=>{var i={},a=t.reduce((l,u)=>(u.stackId==null||(l[u.stackId]==null&&(l[u.stackId]=[]),l[u.stackId].push(u)),l),i);return Object.fromEntries(Object.entries(a).map(l=>{var[u,c]=l,d=r?[...c].reverse():c,h=d.map(m2);return[u,{stackedData:M7(e,h,n),graphicalItems:d}]}))},pee=X([hee,E2,Dp,l2],P2),O2=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var l=I7(e,i,a);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},mee=X([In],e=>e.allowDataOverflow),TS=e=>{var t;if(e==null||!("domain"in e))return Tb;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=oa(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Tb},I2=X([In],TS),N2=X([I2,mee],Yk),gee=X([pee,ao,Ft,N2],O2,{memoizeOptions:{resultEqualityCheck:Up}}),ES=e=>e.errorBars,vee=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>M2(n,r)),Uh=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),l=Math.min(...a),u=Math.max(...a);return[l,u]}},D2=(e,t,n,r,i)=>{var a,l;if(n.length>0&&e.forEach(u=>{n.forEach(c=>{var d,h,m=(d=r[c.id])===null||d===void 0?void 0:d.filter(C=>M2(i,C)),v=En(u,(h=t.dataKey)!==null&&h!==void 0?h:c.dataKey),_=dee(u,v,m);if(_.length>=2){var T=Math.min(..._),w=Math.max(..._);(a==null||T<a)&&(a=T),(l==null||w>l)&&(l=w)}var E=vO(v);E!=null&&(a=a==null?E[0]:Math.min(a,E[0]),l=l==null?E[1]:Math.max(l,E[1]))})}),t?.dataKey!=null&&e.forEach(u=>{var c=vO(En(u,t.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),l=l==null?c[1]:Math.max(l,c[1]))}),wt(a)&&wt(l))return[a,l]},yee=X([SS,In,cee,ES,Ft],D2,{memoizeOptions:{resultEqualityCheck:Up}});function bee(e){var{value:t}=e;if(Or(t)||t instanceof Date)return t}var _ee=(e,t,n)=>{var r=e.map(bee).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&FD(r))?hk(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},R2=e=>e.referenceElements.dots,Il=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),See=X([R2,Ft,Lp],Il),k2=e=>e.referenceElements.areas,Tee=X([k2,Ft,Lp],Il),L2=e=>e.referenceElements.lines,Eee=X([L2,Ft,Lp],Il),U2=(e,t)=>{var n=oa(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},wee=X(See,Ft,U2),j2=(e,t)=>{var n=oa(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},xee=X([Tee,Ft],j2);function Aee(e){var t;if(e.x!=null)return oa([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:oa(n)}function Cee(e){var t;if(e.y!=null)return oa([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:oa(n)}var q2=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?Aee(r):Cee(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Mee=X([Eee,Ft],q2),Pee=X(wee,Mee,xee,(e,t,n)=>Uh(e,n,t)),z2=(e,t,n,r,i,a,l,u)=>{if(n!=null)return n;var c=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",d=c?Uh(r,a,i):Uh(a,i);return zZ(t,d,e.allowDataOverflow)},Oee=X([In,I2,N2,gee,yee,Pee,dt,Ft],z2,{memoizeOptions:{resultEqualityCheck:Up}}),Iee=[0,1],B2=(e,t,n,r,i,a,l)=>{if(!((e==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:c}=e,d=no(t,a);if(d&&u==null){var h;return hk(0,(h=n?.length)!==null&&h!==void 0?h:0)}return c==="category"?_ee(r,e,d):i==="expand"?Iee:l}},wS=X([In,dt,SS,qp,Dp,Ft,Oee],B2),$2=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:l}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof a=="string"){var u="scale".concat(Ac(a));return u in Gu?u:"point"}}},Bc=X([In,dt,b2,hS,Ft],$2);function Nee(e){if(e!=null){if(e in Gu)return Gu[e]();var t="scale".concat(Ac(e));if(t in Gu)return Gu[t]()}}function xS(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=Nee(t);if(i!=null){var a=i.domain(n).range(r);return w7(a),a}}}var F2=(e,t,n)=>{var r=TS(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Xa(e))return WZ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Xa(e))return JZ(e,t.tickCount,t.allowDecimals)}},AS=X([wS,jc,Bc],F2),H2=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Xa(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],l=t[1],u=n[n.length-1];return[Math.min(i,a),Math.max(l,u)]}return t},Dee=X([In,wS,AS,Ft],H2),Ree=X(qp,In,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(oa(e.map(u=>u.value))).sort((u,c)=>u-c);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var l=r[a+1]-r[a];n=Math.min(n,l)}return n/i}}),G2=X(Ree,dt,XZ,gn,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!wt(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var l=Ja(n,e*a),u=e*a/2;return u-l-(u-l)/a*l}return 0}),kee=(e,t)=>{var n=ui(e,t);return n==null||typeof n.padding!="string"?0:G2(e,"xAxis",t,n.padding)},Lee=(e,t)=>{var n=ci(e,t);return n==null||typeof n.padding!="string"?0:G2(e,"yAxis",t,n.padding)},Uee=X(ui,kee,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),jee=X(ci,Lee,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),qee=X([gn,Uee,Sp,_p,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),zee=X([gn,dt,jee,Sp,_p,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:l}=i;return a?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),$c=(e,t,n,r)=>{var i;switch(t){case"xAxis":return qee(e,n,r);case"yAxis":return zee(e,n,r);case"zAxis":return(i=_S(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return d2(e);case"radiusAxis":return h2(e,n);default:return}},V2=X([In,$c],Rp),Qa=X([In,Bc,Dee,V2],xS);X([qc,ES,Ft],vee);function K2(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var zp=(e,t)=>t,Bp=(e,t,n)=>n,Bee=X(yp,zp,Bp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(K2)),$ee=X(bp,zp,Bp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(K2)),Y2=(e,t)=>({width:e.width,height:t.height}),Fee=(e,t)=>{var n=typeof t.width=="number"?t.width:Ic;return{width:n,height:e.height}},Hee=X(gn,ui,Y2),Gee=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Vee=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Kee=X(da,gn,Bee,zp,Bp,(e,t,n,r,i)=>{var a={},l;return n.forEach(u=>{var c=Y2(t,u);l==null&&(l=Gee(t,r,e));var d=r==="top"&&!i||r==="bottom"&&i;a[u.id]=l-Number(d)*c.height,l+=(d?-1:1)*c.height}),a}),Yee=X(fa,gn,$ee,zp,Bp,(e,t,n,r,i)=>{var a={},l;return n.forEach(u=>{var c=Fee(t,u);l==null&&(l=Vee(t,r,e));var d=r==="left"&&!i||r==="right"&&i;a[u.id]=l-Number(d)*c.width,l+=(d?-1:1)*c.width}),a}),Wee=(e,t)=>{var n=ui(e,t);if(n!=null)return Kee(e,n.orientation,n.mirror)},Jee=X([gn,ui,Wee,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),Xee=(e,t)=>{var n=ci(e,t);if(n!=null)return Yee(e,n.orientation,n.mirror)},Qee=X([gn,ci,Xee,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Zee=X(gn,ci,(e,t)=>{var n=typeof t.width=="number"?t.width:Ic;return{width:n,height:e.height}}),W2=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:l}=n,u=no(e,r),c=t.map(d=>d.value);if(l&&u&&a==="category"&&i&&FD(c))return c}},CS=X([dt,qp,In,Ft],W2),J2=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,l=no(e,r);if(l&&(i==="number"||a!=="auto"))return t.map(u=>u.value)}},MS=X([dt,qp,jc,Ft],J2),yO=X([dt,lee,Bc,Qa,CS,MS,$c,AS,Ft],(e,t,n,r,i,a,l,u,c)=>{if(t!=null){var d=no(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:u,range:l,realScaleType:n,scale:r}}}),ete=(e,t,n,r,i,a,l,u,c)=>{if(!(t==null||r==null)){var d=no(e,c),{type:h,ticks:m,tickCount:v}=t,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,T=h==="category"&&r.bandwidth?r.bandwidth()/_:0;T=c==="angleAxis"&&a!=null&&a.length>=2?xr(a[0]-a[1])*2*T:T;var w=m||i;if(w){var E=w.map((C,O)=>{var P=l?l.indexOf(C):C;return{index:O,coordinate:r(P)+T,value:C,offset:T}});return E.filter(C=>wt(C.coordinate))}return d&&u?u.map((C,O)=>({coordinate:r(C)+T,value:C,index:O,offset:T})).filter(C=>wt(C.coordinate)):r.ticks?r.ticks(v).map(C=>({coordinate:r(C)+T,value:C,offset:T})):r.domain().map((C,O)=>({coordinate:r(C)+T,value:l?l[C]:C,index:O,offset:T}))}},X2=X([dt,jc,Bc,Qa,AS,$c,CS,MS,Ft],ete),tte=(e,t,n,r,i,a,l)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=no(e,l),{tickCount:c}=t,d=0;return d=l==="angleAxis"&&r?.length>=2?xr(r[0]-r[1])*2*d:d,u&&a?a.map((h,m)=>({coordinate:n(h)+d,value:h,index:m,offset:d})):n.ticks?n.ticks(c).map(h=>({coordinate:n(h)+d,value:h,offset:d})):n.domain().map((h,m)=>({coordinate:n(h)+d,value:i?i[h]:h,index:m,offset:d}))}},Q2=X([dt,jc,Qa,$c,CS,MS,Ft],tte),Z2=X(In,Qa,(e,t)=>{if(!(e==null||t==null))return Lh(Lh({},e),{},{scale:t})}),nte=X([In,Bc,wS,V2],xS);X((e,t,n)=>_S(e,n),nte,(e,t)=>{if(!(e==null||t==null))return Lh(Lh({},e),{},{scale:t})});var rte=X([dt,yp,bp],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),eL=e=>e.options.defaultTooltipEventType,tL=e=>e.options.validateTooltipEventTypes;function nL(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function PS(e,t){var n=eL(e),r=tL(e);return nL(t,n,r)}function ite(e){return be(t=>PS(t,e))}var rL=(e,t)=>{var n,r=Number(t);if(!(Pr(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},ate=e=>e.tooltip.settings,Ga={active:!1,index:null,dataKey:void 0,coordinate:void 0},ote={itemInteraction:{click:Ga,hover:Ga},axisInteraction:{click:Ga,hover:Ga},keyboardInteraction:Ga,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},iL=Kn({name:"tooltip",initialState:ote,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:gt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Fr(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:gt()},removeTooltipEntrySettings:{reducer(e,t){var n=Fr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:gt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:ste,replaceTooltipEntrySettings:lte,removeTooltipEntrySettings:ute,setTooltipSettingsState:cte,setActiveMouseOverItemIndex:fte,mouseLeaveItem:eue,mouseLeaveChart:aL,setActiveClickItemIndex:tue,setMouseOverAxisIndex:oL,setMouseClickAxisIndex:dte,setSyncInteraction:Eb,setKeyboardInteraction:wb}=iL.actions,hte=iL.reducer;function bO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bO(Object(n),!0).forEach(function(r){pte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pte(e,t,n){return(t=mte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mte(e){var t=gte(e,"string");return typeof t=="symbol"?t:t+""}function gte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vte(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function yte(e){return e.index!=null}var sL=(e,t,n,r)=>{if(t==null)return Ga;var i=vte(e,t,n);if(i==null)return Ga;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(yte(i)){if(a)return wd(wd({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return wd(wd({},Ga),{},{coordinate:i.coordinate})};function bte(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function _te(e,t){var n=bte(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),l=Math.max(r,i);return n>=a&&n<=l}function Ste(e,t,n){if(n==null||t==null)return!0;var r=En(e,t);return r==null||!Xa(n)?!0:_te(r,n)}var OS=(e,t,n,r)=>{var i=e?.index;if(i==null)return null;var a=Number(i);if(!wt(a))return i;var l=0,u=1/0;t.length>0&&(u=t.length-1);var c=Math.max(l,Math.min(a,u)),d=t[c];return d==null||Ste(d,n,r)?String(c):null},lL=(e,t,n,r,i,a,l,u)=>{if(!(a==null||u==null)){var c=l[0],d=c==null?void 0:u(c.positions,a);if(d!=null)return d;var h=i?.[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},uL=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var l;return((l=a.settings)===null||l===void 0?void 0:l.dataKey)===i})},Fc=e=>e.options.tooltipPayloadSearcher,Nl=e=>e.tooltip;function _O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_O(Object(n),!0).forEach(function(r){Tte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tte(e,t,n){return(t=Ete(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ete(e){var t=wte(e,"string");return typeof t=="symbol"?t:t+""}function wte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xte(e,t){return e??t}var cL=(e,t,n,r,i,a,l)=>{if(!(t==null||a==null)){var{chartData:u,computedData:c,dataStartIndex:d,dataEndIndex:h}=n,m=[];return e.reduce((v,_)=>{var T,{dataDefinedOnItem:w,settings:E}=_,C=xte(w,u),O=Array.isArray(C)?jR(C,d,h):C,P=(T=E?.dataKey)!==null&&T!==void 0?T:r,D=E?.nameKey,I;if(r&&Array.isArray(O)&&!Array.isArray(O[0])&&l==="axis"?I=HD(O,r,i):I=a(O,t,c,D),Array.isArray(I))I.forEach(k=>{var z=SO(SO({},E),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});v.push($M({tooltipEntrySettings:z,dataKey:k.dataKey,payload:k.payload,value:En(k.payload,k.dataKey),name:k.name}))});else{var R;v.push($M({tooltipEntrySettings:E,dataKey:P,payload:I,value:En(I,P),name:(R=En(I,D))!==null&&R!==void 0?R:E?.name}))}return v},m)}},IS=X([Gt,dt,b2,hS,Ht],$2),Ate=X([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Cte=X([Ht,Ol],_2),Hc=X([Ate,Gt,Cte],T2,{memoizeOptions:{resultEqualityCheck:jp}}),Mte=X([Hc],e=>e.filter(bS)),Pte=X([Hc],x2,{memoizeOptions:{resultEqualityCheck:jp}}),Dl=X([Pte,ao],A2),Ote=X([Mte,ao,Gt],g2),NS=X([Dl,Gt,Hc],C2),fL=X([Gt],TS),Ite=X([Gt],e=>e.allowDataOverflow),dL=X([fL,Ite],Yk),Nte=X([Hc],e=>e.filter(bS)),Dte=X([Ote,Nte,Dp,l2],P2),Rte=X([Dte,ao,Ht,dL],O2),kte=X([Hc],w2),Lte=X([Dl,Gt,kte,ES,Ht],D2,{memoizeOptions:{resultEqualityCheck:Up}}),Ute=X([R2,Ht,Ol],Il),jte=X([Ute,Ht],U2),qte=X([k2,Ht,Ol],Il),zte=X([qte,Ht],j2),Bte=X([L2,Ht,Ol],Il),$te=X([Bte,Ht],q2),Fte=X([jte,$te,zte],Uh),Hte=X([Gt,fL,dL,Rte,Lte,Fte,dt,Ht],z2),Gc=X([Gt,dt,Dl,NS,Dp,Ht,Hte],B2),Gte=X([Gc,Gt,IS],F2),Vte=X([Gt,Gc,Gte,Ht],H2),hL=e=>{var t=Ht(e),n=Ol(e),r=!1;return $c(e,t,n,r)},pL=X([Gt,hL],Rp),mL=X([Gt,IS,Vte,pL],xS),Kte=X([dt,NS,Gt,Ht],W2),Yte=X([dt,NS,Gt,Ht],J2),Wte=(e,t,n,r,i,a,l,u)=>{if(t){var{type:c}=t,d=no(e,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=c==="category"&&r.bandwidth?r.bandwidth()/h:0;return m=u==="angleAxis"&&i!=null&&i?.length>=2?xr(i[0]-i[1])*2*m:m,d&&l?l.map((v,_)=>({coordinate:r(v)+m,value:v,index:_,offset:m})):r.domain().map((v,_)=>({coordinate:r(v)+m,value:a?a[v]:v,index:_,offset:m}))}}},pa=X([dt,Gt,IS,mL,hL,Kte,Yte,Ht],Wte),DS=X([eL,tL,ate],(e,t,n)=>nL(n.shared,e,t)),gL=e=>e.tooltip.settings.trigger,RS=e=>e.tooltip.settings.defaultIndex,$p=X([Nl,DS,gL,RS],sL),vc=X([$p,Dl,zc,Gc],OS),vL=X([pa,vc],rL),Jte=X([$p],e=>{if(e)return e.dataKey}),yL=X([Nl,DS,gL,RS],uL),Xte=X([fa,da,dt,gn,pa,RS,yL,Fc],lL),Qte=X([$p,Xte],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Zte=X([$p],e=>e.active),ene=X([yL,vc,ao,zc,vL,Fc,DS],cL),tne=X([ene],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function TO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TO(Object(n),!0).forEach(function(r){nne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nne(e,t,n){return(t=rne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rne(e){var t=ine(e,"string");return typeof t=="symbol"?t:t+""}function ine(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ane=()=>be(Gt),one=()=>{var e=ane(),t=be(pa),n=be(mL);return gh(!e||!n?void 0:EO(EO({},e),{},{scale:n}),t)};function wO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wO(Object(n),!0).forEach(function(r){sne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sne(e,t,n){return(t=lne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lne(e){var t=une(e,"string");return typeof t=="symbol"?t:t+""}function une(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cne=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},fne=(e,t,n,r)=>{var i=t.find(d=>d&&d.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:l}=r;return Bs(Bs(Bs({},r),pn(r.cx,r.cy,l,a)),{},{angle:a,radius:l})}var u=i.coordinate,{angle:c}=r;return Bs(Bs(Bs({},r),pn(r.cx,r.cy,u,c)),{},{angle:c,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function dne(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var bL=(e,t,n,r,i)=>{var a,l=-1,u=(a=t?.length)!==null&&a!==void 0?a:0;if(u<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<u;c++){var d=c>0?n[c-1].coordinate:n[u-1].coordinate,h=n[c].coordinate,m=c>=u-1?n[0].coordinate:n[c+1].coordinate,v=void 0;if(xr(h-d)!==xr(m-h)){var _=[];if(xr(m-h)===xr(i[1]-i[0])){v=m;var T=h+i[1]-i[0];_[0]=Math.min(T,(T+d)/2),_[1]=Math.max(T,(T+d)/2)}else{v=d;var w=m+i[1]-i[0];_[0]=Math.min(h,(w+h)/2),_[1]=Math.max(h,(w+h)/2)}var E=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(e>E[0]&&e<=E[1]||e>=_[0]&&e<=_[1]){({index:l}=n[c]);break}}else{var C=Math.min(d,m),O=Math.max(d,m);if(e>(C+h)/2&&e<=(O+h)/2){({index:l}=n[c]);break}}}else if(t){for(var P=0;P<u;P++)if(P===0&&e<=(t[P].coordinate+t[P+1].coordinate)/2||P>0&&P<u-1&&e>(t[P].coordinate+t[P-1].coordinate)/2&&e<=(t[P].coordinate+t[P+1].coordinate)/2||P===u-1&&e>(t[P].coordinate+t[P-1].coordinate)/2){({index:l}=t[P]);break}}return l},hne=()=>be(hS),kS=(e,t)=>t,_L=(e,t,n)=>n,LS=(e,t,n,r)=>r,pne=X(pa,e=>up(e,t=>t.coordinate)),US=X([Nl,kS,_L,LS],sL),jS=X([US,Dl,zc,Gc],OS),mne=(e,t,n)=>{if(t!=null){var r=Nl(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},SL=X([Nl,kS,_L,LS],uL),jh=X([fa,da,dt,gn,pa,LS,SL,Fc],lL),gne=X([US,jh],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),TL=X([pa,jS],rL),vne=X([SL,jS,ao,zc,TL,Fc,kS],cL),yne=X([US,jS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),bne=(e,t,n,r,i,a,l)=>{if(!(!e||!n||!r||!i)&&dne(e,l)){var u=N7(e,t),c=bL(u,a,i,n,r),d=cne(t,i,c,e);return{activeIndex:String(c),activeCoordinate:d}}},_ne=(e,t,n,r,i,a,l)=>{if(!(!e||!r||!i||!a||!n)){var u=tX(e,n);if(u){var c=D7(u,t),d=bL(c,l,a,r,i),h=fne(t,a,d,u);return{activeIndex:String(d),activeCoordinate:h}}}},Sne=(e,t,n,r,i,a,l,u)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?bne(e,t,r,i,a,l,u):_ne(e,t,n,r,i,a,l)},Tne=X(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),Ene=X(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Tn)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:ree}});function xO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function AO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xO(Object(n),!0).forEach(function(r){wne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wne(e,t,n){return(t=xne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xne(e){var t=Ane(e,"string");return typeof t=="symbol"?t:t+""}function Ane(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cne={},Mne={zIndexMap:Object.values(Tn).reduce((e,t)=>AO(AO({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Cne)},Pne=new Set(Object.values(Tn));function One(e){return Pne.has(e)}var EL=Kn({name:"zIndex",initialState:Mne,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:gt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!One(n)&&delete e.zIndexMap[n])},prepare:gt()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:gt()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:gt()}}}),{registerZIndexPortal:Ine,unregisterZIndexPortal:Nne,registerZIndexPortalId:Dne,unregisterZIndexPortalId:Rne}=EL.actions,kne=EL.reducer;function fi(e){var{zIndex:t,children:n}=e,r=hW(),i=r&&t!==void 0&&t!==0,a=On(),l=Pt();x.useLayoutEffect(()=>i?(l(Ine({zIndex:t})),()=>{l(Nne({zIndex:t}))}):Cc,[l,t,i]);var u=be(d=>Tne(d,t,a));if(!i)return n;if(!u)return null;var c=document.getElementById(u);return c?qb.createPortal(n,c):null}function xb(){return xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xb.apply(null,arguments)}function CO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(n),!0).forEach(function(r){Lne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lne(e,t,n){return(t=Une(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Une(e){var t=jne(e,"string");return typeof t=="symbol"?t:t+""}function jne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qne(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return x.isValidElement(t)?x.cloneElement(t,r):x.createElement(n,r)}function zne(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:l,layout:u,cursor:c,tooltipEventType:d,chartName:h}=e,m=n,v=r,_=i;if(!c||!m||h!=="ScatterChart"&&d!=="axis")return null;var T,w,E;if(h==="ScatterChart")T=m,w=gJ,E=Tn.cursorLine;else if(h==="BarChart")T=vJ(u,m,a,l),w=uk,E=Tn.cursorRectangle;else if(u==="radial"&&VD(m)){var{cx:C,cy:O,radius:P,startAngle:D,endAngle:I}=ck(m);T={cx:C,cy:O,startAngle:D,endAngle:I,innerRadius:P,outerRadius:P},w=dk,E=Tn.cursorLine}else T={points:aX(u,m,a)},w=ik,E=Tn.cursorLine;var R=typeof c=="object"&&"className"in c?c.className:void 0,k=xd(xd(xd(xd({stroke:"#ccc",pointerEvents:"none"},a),T),ip(c)),{},{payload:v,payloadIndex:_,className:Ze("recharts-tooltip-cursor",R)});return x.createElement(fi,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:E},x.createElement(qne,{cursor:c,cursorComp:w,cursorProps:k}))}function Bne(e){var t=one(),n=YR(),r=Tp(),i=hne();return t==null||n==null||r==null||i==null?null:x.createElement(zne,xb({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var wL=x.createContext(null),$ne=()=>x.useContext(wL),Ly={exports:{}},MO;function Fne(){return MO||(MO=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function a(c,d,h,m,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var _=new i(h,m||c,v),T=n?n+d:d;return c._events[T]?c._events[T].fn?c._events[T]=[c._events[T],_]:c._events[T].push(_):(c._events[T]=_,c._eventsCount++),c}function l(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)t.call(h,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},u.prototype.listeners=function(d){var h=n?n+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,_=m.length,T=new Array(_);v<_;v++)T[v]=m[v].fn;return T},u.prototype.listenerCount=function(d){var h=n?n+d:d,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(d,h,m,v,_,T){var w=n?n+d:d;if(!this._events[w])return!1;var E=this._events[w],C=arguments.length,O,P;if(E.fn){switch(E.once&&this.removeListener(d,E.fn,void 0,!0),C){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,h),!0;case 3:return E.fn.call(E.context,h,m),!0;case 4:return E.fn.call(E.context,h,m,v),!0;case 5:return E.fn.call(E.context,h,m,v,_),!0;case 6:return E.fn.call(E.context,h,m,v,_,T),!0}for(P=1,O=new Array(C-1);P<C;P++)O[P-1]=arguments[P];E.fn.apply(E.context,O)}else{var D=E.length,I;for(P=0;P<D;P++)switch(E[P].once&&this.removeListener(d,E[P].fn,void 0,!0),C){case 1:E[P].fn.call(E[P].context);break;case 2:E[P].fn.call(E[P].context,h);break;case 3:E[P].fn.call(E[P].context,h,m);break;case 4:E[P].fn.call(E[P].context,h,m,v);break;default:if(!O)for(I=1,O=new Array(C-1);I<C;I++)O[I-1]=arguments[I];E[P].fn.apply(E[P].context,O)}}return!0},u.prototype.on=function(d,h,m){return a(this,d,h,m,!1)},u.prototype.once=function(d,h,m){return a(this,d,h,m,!0)},u.prototype.removeListener=function(d,h,m,v){var _=n?n+d:d;if(!this._events[_])return this;if(!h)return l(this,_),this;var T=this._events[_];if(T.fn)T.fn===h&&(!v||T.once)&&(!m||T.context===m)&&l(this,_);else{for(var w=0,E=[],C=T.length;w<C;w++)(T[w].fn!==h||v&&!T[w].once||m&&T[w].context!==m)&&E.push(T[w]);E.length?this._events[_]=E.length===1?E[0]:E:l(this,_)}return this},u.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&l(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(Ly)),Ly.exports}var Hne=Fne();const Gne=sa(Hne);var yc=new Gne,Ab="recharts.syncEvent.tooltip",PO="recharts.syncEvent.brush";function Vne(e,t){if(t){var n=Number.parseInt(t,10);if(!Pr(n))return e?.[n]}}var Kne={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},xL=Kn({name:"options",initialState:Kne,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Yne=xL.reducer,{createEventEmitter:Wne}=xL.actions;function Jne(e){return e.tooltip.syncInteraction}var Xne={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},AL=Kn({name:"chartData",initialState:Xne,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:OO,setDataStartEndIndexes:Qne,setComputedData:nue}=AL.actions,Zne=AL.reducer,ere=["x","y"];function IO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $s(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(n),!0).forEach(function(r){tre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tre(e,t,n){return(t=nre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nre(e){var t=rre(e,"string");return typeof t=="symbol"?t:t+""}function rre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ire(e,t){if(e==null)return{};var n,r,i=are(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function are(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ore(){var e=be(pS),t=be(mS),n=Pt(),r=be(u2),i=be(pa),a=Tp(),l=Nc(),u=be(c=>c.rootProps.className);x.useEffect(()=>{if(e==null)return Cc;var c=(d,h,m)=>{if(t!==m&&e===d){if(r==="index"){var v;if(l&&h!==null&&h!==void 0&&(v=h.payload)!==null&&v!==void 0&&v.coordinate&&h.payload.sourceViewBox){var _=h.payload.coordinate,{x:T,y:w}=_,E=ire(_,ere),{x:C,y:O,width:P,height:D}=h.payload.sourceViewBox,I=$s($s({},E),{},{x:l.x+(P?(T-C)/P:0)*l.width,y:l.y+(D?(w-O)/D:0)*l.height});n($s($s({},h),{},{payload:$s($s({},h.payload),{},{coordinate:I})}))}else n(h);return}if(i!=null){var R;if(typeof r=="function"){var k={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},z=r(i,k);R=i[z]}else r==="value"&&(R=i.find(B=>String(B.value)===h.payload.label));var{coordinate:$}=h.payload;if(R==null||h.payload.active===!1||$==null||l==null){n(Eb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:re,y:F}=$,V=Math.min(re,l.x+l.width),de=Math.min(F,l.y+l.height),pe={x:a==="horizontal"?R.coordinate:V,y:a==="horizontal"?de:R.coordinate},_e=Eb({active:h.payload.active,coordinate:pe,dataKey:h.payload.dataKey,index:String(R.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox});n(_e)}}};return yc.on(Ab,c),()=>{yc.off(Ab,c)}},[u,n,t,e,r,i,a,l])}function sre(){var e=be(pS),t=be(mS),n=Pt();x.useEffect(()=>{if(e==null)return Cc;var r=(i,a,l)=>{t!==l&&e===i&&n(Qne(a))};return yc.on(PO,r),()=>{yc.off(PO,r)}},[n,t,e])}function lre(){var e=Pt();x.useEffect(()=>{e(Wne())},[e]),ore(),sre()}function ure(e,t,n,r,i,a){var l=be(_=>mne(_,e,t)),u=be(mS),c=be(pS),d=be(u2),h=be(Jne),m=h?.active,v=Nc();x.useEffect(()=>{if(!m&&c!=null&&u!=null){var _=Eb({active:a,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:v});yc.emit(Ab,c,_,u)}},[m,n,l,i,r,u,c,d,a,v])}function NO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(n),!0).forEach(function(r){cre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cre(e,t,n){return(t=fre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fre(e){var t=dre(e,"string");return typeof t=="symbol"?t:t+""}function dre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hre(e){return e.dataKey}function pre(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(YW,t)}var RO=[],mre={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Al.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function gre(e){var t,n,r=mn(e,mre),{active:i,allowEscapeViewBox:a,animationDuration:l,animationEasing:u,content:c,filterNull:d,isAnimationActive:h,offset:m,payloadUniqBy:v,position:_,reverseDirection:T,useTranslate3d:w,wrapperStyle:E,cursor:C,shared:O,trigger:P,defaultIndex:D,portal:I,axisId:R}=r,k=Pt(),z=typeof D=="number"?String(D):D;x.useEffect(()=>{k(cte({shared:O,trigger:P,axisId:R,active:i,defaultIndex:z}))},[k,O,P,R,i,z]);var $=Nc(),re=rk(),F=ite(O),{activeIndex:V,isActive:de}=(t=be(we=>yne(we,F,P,z)))!==null&&t!==void 0?t:{},pe=be(we=>vne(we,F,P,z)),_e=be(we=>TL(we,F,P,z)),B=be(we=>gne(we,F,P,z)),ee=pe,se=$ne(),ue=(n=i??de)!==null&&n!==void 0?n:!1,[Ce,U]=lR([ee,ue]),W=F==="axis"?_e:void 0;ure(F,P,B,W,V,ue);var le=I??se;if(le==null||$==null||F==null)return null;var ce=ee??RO;ue||(ce=RO),d&&ce.length&&(ce=rR(ce.filter(we=>we.value!=null&&(we.hide!==!0||r.includeHidden)),v,hre));var te=ce.length>0,fe=x.createElement(tJ,{allowEscapeViewBox:a,animationDuration:l,animationEasing:u,isAnimationActive:h,active:ue,coordinate:B,hasPayload:te,offset:m,position:_,reverseDirection:T,useTranslate3d:w,viewBox:$,wrapperStyle:E,lastBoundingBox:Ce,innerRef:U,hasPortalFromProps:!!I},pre(c,DO(DO({},r),{},{payload:ce,label:W,active:ue,activeIndex:V,coordinate:B,accessibilityLayer:re})));return x.createElement(x.Fragment,null,qb.createPortal(fe,le),ue&&x.createElement(Bne,{cursor:C,tooltipEventType:F,coordinate:B,payload:ce,index:V}))}function vre(e,t,n){return(t=yre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yre(e){var t=bre(e,"string");return typeof t=="symbol"?t:t+""}function bre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class _re{constructor(t){vre(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function kO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sre(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kO(Object(n),!0).forEach(function(r){Tre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tre(e,t,n){return(t=Ere(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ere(e){var t=wre(e,"string");return typeof t=="symbol"?t:t+""}function wre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xre={cacheSize:2e3,enableCache:!0},CL=Sre({},xre),LO=new _re(CL.cacheSize),Are={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},UO="recharts_measurement_span";function Cre(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(l,"|").concat(u)}var jO=(e,t)=>{try{var n=document.getElementById(UO);n||(n=document.createElement("span"),n.setAttribute("id",UO),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Are,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},tc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Al.isSsr)return{width:0,height:0};if(!CL.enableCache)return jO(t,n);var r=Cre(t,n),i=LO.get(r);if(i)return i;var a=jO(t,n);return LO.set(r,a),a},qO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Mre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Pre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ML={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ore=Object.keys(ML),Qs="NaN";function Ire(e,t){return e*ML[t]}class zn{static parse(t){var n,[,r,i]=(n=Pre.exec(t))!==null&&n!==void 0?n:[];return new zn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Pr(t)&&(this.unit=""),n!==""&&!Mre.test(n)&&(this.num=NaN,this.unit=""),Ore.includes(n)&&(this.num=Ire(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new zn(NaN,""):new zn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new zn(NaN,""):new zn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new zn(NaN,""):new zn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new zn(NaN,""):new zn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Pr(this.num)}}function PL(e){if(e.includes(Qs))return Qs;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=qO.exec(t))!==null&&n!==void 0?n:[],l=zn.parse(r??""),u=zn.parse(a??""),c=i==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Qs;t=t.replace(qO,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,h,m,v]=(d=zO.exec(t))!==null&&d!==void 0?d:[],_=zn.parse(h??""),T=zn.parse(v??""),w=m==="+"?_.add(T):_.subtract(T);if(w.isNaN())return Qs;t=t.replace(zO,w.toString())}return t}var BO=/\(([^()]*)\)/;function Nre(e){for(var t=e,n;(n=BO.exec(t))!=null;){var[,r]=n;t=t.replace(BO,PL(r))}return t}function Dre(e){var t=e.replace(/\s+/g,"");return t=Nre(t),t=PL(t),t}function Rre(e){try{return Dre(e)}catch{return Qs}}function Uy(e){var t=Rre(e.slice(5,-1));return t===Qs?"":t}var kre=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Lre=["dx","dy","angle","className","breakAll"];function Cb(){return Cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cb.apply(null,arguments)}function $O(e,t){if(e==null)return{};var n,r,i=Ure(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ure(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var OL=/[ \f\n\r\t\v\u2028\u2029]+/,IL=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];tn(t)||(n?i=t.toString().split(""):i=t.toString().split(OL));var a=i.map(u=>({word:u,width:tc(u,r).width})),l=n?0:tc("",r).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}};function jre(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var NL=(e,t,n,r)=>e.reduce((i,a)=>{var{word:l,width:u}=a,c=i[i.length-1];if(c&&u!=null&&(t==null||r||c.width+u+n<Number(t)))c.words.push(l),c.width+=u+n;else{var d={words:[l],width:u};i.push(d)}return i},[]),DL=e=>e.reduce((t,n)=>t.width>n.width?t:n),qre="",FO=(e,t,n,r,i,a,l,u)=>{var c=e.slice(0,t),d=IL({breakAll:n,style:r,children:c+qre});if(!d)return[!1,[]];var h=NL(d.wordsWithComputedWidth,a,l,u),m=h.length>i||DL(h).width>Number(a);return[m,h]},zre=(e,t,n,r,i)=>{var{maxLines:a,children:l,style:u,breakAll:c}=e,d=Ee(a),h=String(l),m=NL(t,r,n,i);if(!d||i)return m;var v=m.length>a||DL(m).width>Number(r);if(!v)return m;for(var _=0,T=h.length-1,w=0,E;_<=T&&w<=h.length-1;){var C=Math.floor((_+T)/2),O=C-1,[P,D]=FO(h,O,c,u,a,r,n,i),[I]=FO(h,C,c,u,a,r,n,i);if(!P&&!I&&(_=C+1),P&&I&&(T=C-1),!P&&I){E=D;break}w++}return E||m},HO=e=>{var t=tn(e)?[]:e.toString().split(OL);return[{words:t,width:void 0}]},Bre=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:l}=e;if((t||n)&&!Al.isSsr){var u,c,d=IL({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:h,spaceWidth:m}=d;u=h,c=m}else return HO(r);return zre({breakAll:a,children:r,maxLines:l,style:i},u,c,t,!!n)}return HO(r)},RL="#808080",$re={angle:0,breakAll:!1,capHeight:"0.71em",fill:RL,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},qS=x.forwardRef((e,t)=>{var n=mn(e,$re),{x:r,y:i,lineHeight:a,capHeight:l,fill:u,scaleToFit:c,textAnchor:d,verticalAnchor:h}=n,m=$O(n,kre),v=x.useMemo(()=>Bre({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:c,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,c,m.style,m.width]),{dx:_,dy:T,angle:w,className:E,breakAll:C}=m,O=$O(m,Lre);if(!Or(r)||!Or(i)||v.length===0)return null;var P=Number(r)+(Ee(_)?_:0),D=Number(i)+(Ee(T)?T:0);if(!wt(P)||!wt(D))return null;var I;switch(h){case"start":I=Uy("calc(".concat(l,")"));break;case"middle":I=Uy("calc(".concat((v.length-1)/2," * -").concat(a," + (").concat(l," / 2))"));break;default:I=Uy("calc(".concat(v.length-1," * -").concat(a,")"));break}var R=[];if(c){var k=v[0].width,{width:z}=m;R.push("scale(".concat(Ee(z)&&Ee(k)?z/k:1,")"))}return w&&R.push("rotate(".concat(w,", ").concat(P,", ").concat(D,")")),R.length&&(O.transform=R.join(" ")),x.createElement("text",Cb({},wn(O),{ref:t,x:P,y:D,className:Ze("recharts-text",E),textAnchor:d,fill:u.includes("url")?RL:u}),v.map(($,re)=>{var F=$.words.join(C?"":" ");return x.createElement("tspan",{x:P,dy:re===0?I:a,key:"".concat(F,"-").concat(re)},F)}))});qS.displayName="Text";var Fre=["labelRef"];function Hre(e,t){if(e==null)return{};var n,r,i=Gre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Gre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function GO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GO(Object(n),!0).forEach(function(r){Vre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vre(e,t,n){return(t=Kre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kre(e){var t=Yre(e,"string");return typeof t=="symbol"?t:t+""}function Yre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $i(){return $i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$i.apply(null,arguments)}var kL=x.createContext(null),LL=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:l,children:u}=e,c=x.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:l}),[t,n,r,i,a,l]);return x.createElement(kL.Provider,{value:c},u)},UL=()=>{var e=x.useContext(kL),t=Nc();return e||KR(t)},Wre=x.createContext(null),Jre=()=>{var e=x.useContext(Wre),t=be(p2);return e||t},Xre=e=>{var{value:t,formatter:n}=e,r=tn(e.children)?t:e.children;return typeof n=="function"?n(r):r},zS=e=>e!=null&&typeof e=="function",Qre=(e,t)=>{var n=xr(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Zre=(e,t,n,r,i)=>{var{offset:a,className:l}=e,{cx:u,cy:c,innerRadius:d,outerRadius:h,startAngle:m,endAngle:v,clockWise:_}=i,T=(d+h)/2,w=Qre(m,v),E=w>=0?1:-1,C,O;switch(t){case"insideStart":C=m+E*a,O=_;break;case"insideEnd":C=v-E*a,O=!_;break;case"end":C=v+E*a,O=_;break;default:throw new Error("Unsupported position ".concat(t))}O=w<=0?O:!O;var P=pn(u,c,T,C),D=pn(u,c,T,C+(O?1:-1)*359),I="M".concat(P.x,",").concat(P.y,`
    A`).concat(T,",").concat(T,",0,1,").concat(O?0:1,`,
    `).concat(D.x,",").concat(D.y),R=tn(e.id)?ic("recharts-radial-line-"):e.id;return x.createElement("text",$i({},r,{dominantBaseline:"central",className:Ze("recharts-radial-bar-label",l)}),x.createElement("defs",null,x.createElement("path",{id:R,d:I})),x.createElement("textPath",{xlinkHref:"#".concat(R)},n))},eie=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:l,startAngle:u,endAngle:c}=e,d=(u+c)/2;if(n==="outside"){var{x:h,y:m}=pn(r,i,l+t,d);return{x:h,y:m,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(a+l)/2,{x:_,y:T}=pn(r,i,v,d);return{x:_,y:T,textAnchor:"middle",verticalAnchor:"middle"}},Mb=e=>"cx"in e&&Ee(e.cx),tie=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!Mb(n)&&(a=n);var{x:l,y:u,upperWidth:c,lowerWidth:d,height:h}=t,m=l,v=l+(c-d)/2,_=(m+v)/2,T=(c+d)/2,w=m+c/2,E=h>=0?1:-1,C=E*r,O=E>0?"end":"start",P=E>0?"start":"end",D=c>=0?1:-1,I=D*r,R=D>0?"end":"start",k=D>0?"start":"end";if(i==="top"){var z={x:m+c/2,y:u-C,textAnchor:"middle",verticalAnchor:O};return Ct(Ct({},z),a?{height:Math.max(u-a.y,0),width:c}:{})}if(i==="bottom"){var $={x:v+d/2,y:u+h+C,textAnchor:"middle",verticalAnchor:P};return Ct(Ct({},$),a?{height:Math.max(a.y+a.height-(u+h),0),width:d}:{})}if(i==="left"){var re={x:_-I,y:u+h/2,textAnchor:R,verticalAnchor:"middle"};return Ct(Ct({},re),a?{width:Math.max(re.x-a.x,0),height:h}:{})}if(i==="right"){var F={x:_+T+I,y:u+h/2,textAnchor:k,verticalAnchor:"middle"};return Ct(Ct({},F),a?{width:Math.max(a.x+a.width-F.x,0),height:h}:{})}var V=a?{width:T,height:h}:{};return i==="insideLeft"?Ct({x:_+I,y:u+h/2,textAnchor:k,verticalAnchor:"middle"},V):i==="insideRight"?Ct({x:_+T-I,y:u+h/2,textAnchor:R,verticalAnchor:"middle"},V):i==="insideTop"?Ct({x:m+c/2,y:u+C,textAnchor:"middle",verticalAnchor:P},V):i==="insideBottom"?Ct({x:v+d/2,y:u+h-C,textAnchor:"middle",verticalAnchor:O},V):i==="insideTopLeft"?Ct({x:m+I,y:u+C,textAnchor:k,verticalAnchor:P},V):i==="insideTopRight"?Ct({x:m+c-I,y:u+C,textAnchor:R,verticalAnchor:P},V):i==="insideBottomLeft"?Ct({x:v+I,y:u+h-C,textAnchor:k,verticalAnchor:O},V):i==="insideBottomRight"?Ct({x:v+d-I,y:u+h-C,textAnchor:R,verticalAnchor:O},V):i&&typeof i=="object"&&(Ee(i.x)||ta(i.x))&&(Ee(i.y)||ta(i.y))?Ct({x:l+Ja(i.x,T),y:u+Ja(i.y,h),textAnchor:"end",verticalAnchor:"end"},V):Ct({x:w,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},V)},nie={angle:0,offset:5,zIndex:Tn.label,position:"middle",textBreakAll:!1};function Fa(e){var t=mn(e,nie),{viewBox:n,position:r,value:i,children:a,content:l,className:u="",textBreakAll:c,labelRef:d}=t,h=Jre(),m=UL(),v=r==="center"?m:h??m,_,T,w;if(n==null?_=v:Mb(n)?_=n:_=KR(n),!_||tn(i)&&tn(a)&&!x.isValidElement(l)&&typeof l!="function")return null;var E=Ct(Ct({},t),{},{viewBox:_});if(x.isValidElement(l)){var{labelRef:C}=E,O=Hre(E,Fre);return x.cloneElement(l,O)}if(typeof l=="function"){if(T=x.createElement(l,E),x.isValidElement(T))return T}else T=Xre(t);var P=wn(t);if(Mb(_)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Zre(t,r,T,P,_);w=eie(_,t.offset,t.position)}else w=tie(t,_);return x.createElement(fi,{zIndex:t.zIndex},x.createElement(qS,$i({ref:d,className:Ze("recharts-label",u)},P,w,{textAnchor:jre(P.textAnchor)?P.textAnchor:w.textAnchor,breakAll:c}),T))}Fa.displayName="Label";var rie=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?x.createElement(Fa,$i({key:"label-implicit"},r)):Or(e)?x.createElement(Fa,$i({key:"label-implicit",value:e},r)):x.isValidElement(e)?e.type===Fa?x.cloneElement(e,Ct({key:"label-implicit"},r)):x.createElement(Fa,$i({key:"label-implicit",content:e},r)):zS(e)?x.createElement(Fa,$i({key:"label-implicit",content:e},r)):e&&typeof e=="object"?x.createElement(Fa,$i({},e,{key:"label-implicit"},r)):null};function jL(e){var{label:t,labelRef:n}=e,r=UL();return rie(t,r,n)||null}var jy={},qy={},VO;function iie(){return VO||(VO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(qy)),qy}var zy={},KO;function aie(){return KO||(KO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(zy)),zy}var YO;function oie(){return YO||(YO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iie(),n=aie(),r=w_();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(jy)),jy}var By,WO;function sie(){return WO||(WO=1,By=oie().last),By}var lie=sie();const uie=sa(lie);var cie=["valueAccessor"],fie=["dataKey","clockWise","id","textBreakAll","zIndex"];function qh(){return qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qh.apply(null,arguments)}function JO(e,t){if(e==null)return{};var n,r,i=die(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function die(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var hie=e=>Array.isArray(e.value)?uie(e.value):e.value,qL=x.createContext(void 0),pie=qL.Provider,zL=x.createContext(void 0);zL.Provider;function mie(){return x.useContext(qL)}function gie(){return x.useContext(zL)}function Bd(e){var{valueAccessor:t=hie}=e,n=JO(e,cie),{dataKey:r,clockWise:i,id:a,textBreakAll:l,zIndex:u}=n,c=JO(n,fie),d=mie(),h=gie(),m=d||h;return!m||!m.length?null:x.createElement(fi,{zIndex:u??Tn.label},x.createElement(ea,{className:"recharts-label-list"},m.map((v,_)=>{var T,w=tn(r)?t(v,_):En(v&&v.payload,r),E=tn(a)?{}:{id:"".concat(a,"-").concat(_)};return x.createElement(Fa,qh({key:"label-".concat(_)},wn(v),c,E,{fill:(T=n.fill)!==null&&T!==void 0?T:v.fill,parentViewBox:v.parentViewBox,value:w,textBreakAll:l,viewBox:v.viewBox,index:_,zIndex:0}))})))}Bd.displayName="LabelList";function vie(e){var{label:t}=e;return t?t===!0?x.createElement(Bd,{key:"labelList-implicit"}):x.isValidElement(t)||zS(t)?x.createElement(Bd,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(Bd,qh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Pb(){return Pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pb.apply(null,arguments)}var BL=e=>{var{cx:t,cy:n,r,className:i}=e,a=Ze("recharts-dot",i);return Ee(t)&&Ee(n)&&Ee(r)?x.createElement("circle",Pb({},ii(e),E_(e),{className:a,cx:t,cy:n,r})):null},yie={radiusAxis:{},angleAxis:{}},$L=Kn({name:"polarAxis",initialState:yie,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:rue,removeRadiusAxis:iue,addAngleAxis:aue,removeAngleAxis:oue}=$L.actions,bie=$L.reducer,FL=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,$y={},XO;function _ie(){return XO||(XO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})($y)),$y}var Fy,QO;function Sie(){return QO||(QO=1,Fy=_ie().isPlainObject),Fy}var Tie=Sie();const Eie=sa(Tie);function ZO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZO(Object(n),!0).forEach(function(r){wie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wie(e,t,n){return(t=xie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xie(e){var t=Aie(e,"string");return typeof t=="symbol"?t:t+""}function Aie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zh(){return zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zh.apply(null,arguments)}var tI=(e,t,n,r,i)=>{var a=n-r,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+n,",").concat(t),l+="L ".concat(e+n-a/2,",").concat(t+i),l+="L ".concat(e+n-a/2-r,",").concat(t+i),l+="L ".concat(e,",").concat(t," Z"),l},Cie={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Mie=e=>{var t=mn(e,Cie),{x:n,y:r,upperWidth:i,lowerWidth:a,height:l,className:u}=t,{animationEasing:c,animationDuration:d,animationBegin:h,isUpdateAnimationActive:m}=t,v=x.useRef(null),[_,T]=x.useState(-1),w=x.useRef(i),E=x.useRef(a),C=x.useRef(l),O=x.useRef(n),P=x.useRef(r),D=z_(e,"trapezoid-");if(x.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var pe=v.current.getTotalLength();pe&&T(pe)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||l!==+l||i===0&&a===0||l===0)return null;var I=Ze("recharts-trapezoid",u);if(!m)return x.createElement("g",null,x.createElement("path",zh({},wn(t),{className:I,d:tI(n,r,i,a,l)})));var R=w.current,k=E.current,z=C.current,$=O.current,re=P.current,F="0px ".concat(_===-1?1:_,"px"),V="".concat(_,"px 0px"),de=ak(["strokeDasharray"],d,c);return x.createElement(q_,{animationId:D,key:D,canBegin:_>0,duration:d,easing:c,isActive:m,begin:h},pe=>{var _e=Fn(R,i,pe),B=Fn(k,a,pe),ee=Fn(z,l,pe),se=Fn($,n,pe),ue=Fn(re,r,pe);v.current&&(w.current=_e,E.current=B,C.current=ee,O.current=se,P.current=ue);var Ce=pe>0?{transition:de,strokeDasharray:V}:{strokeDasharray:F};return x.createElement("path",zh({},wn(t),{className:I,d:tI(se,ue,_e,B,ee),ref:v,style:eI(eI({},Ce),t.style)}))})},Pie=["option","shapeType","propTransformer","activeClassName"];function Oie(e,t){if(e==null)return{};var n,r,i=Iie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Iie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function nI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nI(Object(n),!0).forEach(function(r){Nie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nie(e,t,n){return(t=Die(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Die(e){var t=Rie(e,"string");return typeof t=="symbol"?t:t+""}function Rie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kie(e,t){return Bh(Bh({},t),e)}function Lie(e,t){return e==="symbols"}function rI(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return x.createElement(uk,n);case"trapezoid":return x.createElement(Mie,n);case"sector":return x.createElement(dk,n);case"symbols":if(Lie(t))return x.createElement(T_,n);break;case"curve":return x.createElement(ik,n);default:return null}}function Uie(e){return x.isValidElement(e)?e.props:e}function jie(e){var{option:t,shapeType:n,propTransformer:r=kie,activeClassName:i="recharts-active-shape"}=e,a=Oie(e,Pie),l;if(x.isValidElement(t))l=x.cloneElement(t,Bh(Bh({},a),Uie(t)));else if(typeof t=="function")l=t(a);else if(Eie(t)&&typeof t!="boolean"){var u=r(t,a);l=x.createElement(rI,{shapeType:n,elementProps:u})}else{var c=a;l=x.createElement(rI,{shapeType:n,elementProps:c})}return a.isActive?x.createElement(ea,{className:i},l):l}function qie(e){var{tooltipEntrySettings:t}=e,n=Pt(),r=On(),i=x.useRef(null);return x.useLayoutEffect(()=>{r||(i.current===null?n(ste(t)):i.current!==t&&n(lte({prev:i.current,next:t})),i.current=t)},[t,n,r]),x.useLayoutEffect(()=>()=>{i.current&&(n(ute(i.current)),i.current=null)},[n]),null}function zie(e){var{legendPayload:t}=e,n=Pt(),r=On(),i=x.useRef(null);return x.useLayoutEffect(()=>{r||(i.current===null?n(CW(t)):i.current!==t&&n(MW({prev:i.current,next:t})),i.current=t)},[n,r,t]),x.useLayoutEffect(()=>()=>{i.current&&(n(PW(i.current)),i.current=null)},[n]),null}var Hy,Bie=()=>{var[e]=x.useState(()=>ic("uid-"));return e},$ie=(Hy=qq.useId)!==null&&Hy!==void 0?Hy:Bie;function HL(e,t){var n=$ie();return t||(e?"".concat(e,"-").concat(n):n)}var Fie=x.createContext(void 0),Hie=e=>{var{id:t,type:n,children:r}=e,i=HL("recharts-".concat(n),t);return x.createElement(Fie.Provider,{value:i},r(i))},Gie={cartesianItems:[],polarItems:[]},GL=Kn({name:"graphicalItems",initialState:Gie,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:gt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Fr(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:gt()},removeCartesianGraphicalItem:{reducer(e,t){var n=Fr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:gt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:gt()},removePolarGraphicalItem:{reducer(e,t){var n=Fr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:gt()}}}),{addCartesianGraphicalItem:Vie,replaceCartesianGraphicalItem:Kie,removeCartesianGraphicalItem:Yie,addPolarGraphicalItem:sue,removePolarGraphicalItem:lue}=GL.actions,Wie=GL.reducer,Jie=e=>{var t=Pt(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?t(Vie(e)):n.current!==e&&t(Kie({prev:n.current,next:e})),n.current=e},[t,e]),x.useLayoutEffect(()=>()=>{n.current&&(t(Yie(n.current)),n.current=null)},[t]),null},Xie=x.memo(Jie),Qie=["points"];function iI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iI(Object(n),!0).forEach(function(r){Zie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zie(e,t,n){return(t=eae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eae(e){var t=tae(e,"string");return typeof t=="symbol"?t:t+""}function tae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $h(){return $h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$h.apply(null,arguments)}function nae(e,t){if(e==null)return{};var n,r,i=rae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function iae(e){var{option:t,dotProps:n,className:r}=e;if(x.isValidElement(t))return x.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Ze(r,typeof t!="boolean"?t.className:""),a=n??{},{points:l}=a,u=nae(a,Qie);return x.createElement(BL,$h({},u,{className:i}))}function aae(e,t){return e==null?!1:t?!0:e.length===1}function oae(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:l,needClip:u,clipPathId:c,zIndex:d=Tn.scatter}=e;if(!aae(t,n))return null;var h=FL(n),m=cK(n),v=t.map((T,w)=>{var E,C,O=Gy(Gy(Gy({r:3},l),m),{},{index:w,cx:(E=T.x)!==null&&E!==void 0?E:void 0,cy:(C=T.y)!==null&&C!==void 0?C:void 0,dataKey:a,value:T.value,payload:T.payload,points:t});return x.createElement(iae,{key:"dot-".concat(w),option:n,dotProps:O,className:i})}),_={};return u&&c!=null&&(_.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(c,")")),x.createElement(fi,{zIndex:d},x.createElement(ea,$h({className:r},_),v))}function aI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aI(Object(n),!0).forEach(function(r){sae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sae(e,t,n){return(t=lae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lae(e){var t=uae(e,"string");return typeof t=="symbol"?t:t+""}function uae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cae={xAxis:{},yAxis:{},zAxis:{}},VL=Kn({name:"cartesianAxis",initialState:cae,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:gt()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:gt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:gt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:gt()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:gt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:gt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:gt()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:gt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:gt()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var l=[...a,r].slice(-3);e.yAxis[n]=oI(oI({},e.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:fae,replaceXAxis:dae,removeXAxis:hae,addYAxis:pae,replaceYAxis:mae,removeYAxis:gae,addZAxis:uue,replaceZAxis:cue,removeZAxis:fue,updateYAxisWidth:vae}=VL.actions,yae=VL.reducer,bae=X([gn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),_ae=X([bae,fa,da],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),BS=()=>be(_ae),Sae=()=>be(tne);function sI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sI(Object(n),!0).forEach(function(r){Tae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tae(e,t,n){return(t=Eae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eae(e){var t=wae(e,"string");return typeof t=="symbol"?t:t+""}function wae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xae=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:l}=e;if(i===!1||t.x==null||t.y==null)return null;var u={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=Vy(Vy(Vy({},u),ip(i)),E_(i)),d;return x.isValidElement(i)?d=x.cloneElement(i,c):typeof i=="function"?d=i(c):d=x.createElement(BL,c),x.createElement(ea,{className:"recharts-active-dot",clipPath:l},d)};function Aae(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:l=Tn.activeDot}=e,u=be(vc),c=Sae();if(t==null||c==null)return null;var d=t.find(h=>c.includes(h.payload));return tn(d)?null:x.createElement(fi,{zIndex:l},x.createElement(xae,{point:d,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var Cae={},KL=Kn({name:"errorBars",initialState:Cae,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:due,replaceErrorBar:hue,removeErrorBar:pue}=KL.actions,Mae=KL.reducer,Pae=["children"];function Oae(e,t){if(e==null)return{};var n,r,i=Iae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Iae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Nae={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Dae=x.createContext(Nae);function Rae(e){var{children:t}=e,n=Oae(e,Pae);return x.createElement(Dae.Provider,{value:n},t)}function YL(e,t){var n,r,i=be(d=>ui(d,e)),a=be(d=>ci(d,t)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Xt.allowDataOverflow,u=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Qt.allowDataOverflow,c=l||u;return{needClip:c,needClipX:l,needClipY:u}}function kae(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=BS(),{needClipX:a,needClipY:l,needClip:u}=YL(t,n);if(!u||!i)return null;var{x:c,y:d,width:h,height:m}=i;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:a?c:c-h/2,y:l?d:d-m/2,width:a?h:h*2,height:l?m:m*2}))}var Ky={exports:{}},Yy={};var lI;function Lae(){if(lI)return Yy;lI=1;var e=vl();function t(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,l=e.useMemo,u=e.useDebugValue;return Yy.useSyncExternalStoreWithSelector=function(c,d,h,m,v){var _=i(null);if(_.current===null){var T={hasValue:!1,value:null};_.current=T}else T=_.current;_=l(function(){function E(I){if(!C){if(C=!0,O=I,I=m(I),v!==void 0&&T.hasValue){var R=T.value;if(v(R,I))return P=R}return P=I}if(R=P,n(O,I))return R;var k=m(I);return v!==void 0&&v(R,k)?(O=I,R):(O=I,P=k)}var C=!1,O,P,D=h===void 0?null:h;return[function(){return E(d())},D===null?void 0:function(){return E(D())}]},[d,h,m,v]);var w=r(c,_[0],_[1]);return a(function(){T.hasValue=!0,T.value=w},[w]),u(w),w},Yy}var uI;function Uae(){return uI||(uI=1,Ky.exports=Lae()),Ky.exports}Uae();function jae(e){e()}function qae(){let e=null,t=null;return{clear(){e=null,t=null},notify(){jae(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var cI={notify(){},get:()=>[]};function zae(e,t){let n,r=cI,i=0,a=!1;function l(w){h();const E=r.subscribe(w);let C=!1;return()=>{C||(C=!0,E(),m())}}function u(){r.notify()}function c(){T.onStateChange&&T.onStateChange()}function d(){return a}function h(){i++,n||(n=e.subscribe(c),r=qae())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=cI)}function v(){a||(a=!0,h())}function _(){a&&(a=!1,m())}const T={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:c,isSubscribed:d,trySubscribe:v,tryUnsubscribe:_,getListeners:()=>r};return T}var Bae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$ae=Bae(),Fae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Hae=Fae(),Gae=()=>$ae||Hae?x.useLayoutEffect:x.useEffect,Vae=Gae();function fI(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Kae(e,t){if(fI(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!fI(e[n[i]],t[n[i]]))return!1;return!0}var Yae=Symbol.for("react-redux-context"),Wae=typeof globalThis<"u"?globalThis:{};function Jae(){if(!x.createContext)return{};const e=Wae[Yae]??=new Map;let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var Xae=Jae();function Qae(e){const{children:t,context:n,serverState:r,store:i}=e,a=x.useMemo(()=>{const c=zae(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),l=x.useMemo(()=>i.getState(),[i]);Vae(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,l]);const u=n||Xae;return x.createElement(u.Provider,{value:a},t)}var Zae=Qae,eoe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function toe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function $S(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(eoe.has(r)){if(e[r]==null&&t[r]==null)continue;if(!Kae(e[r],t[r]))return!1}else if(!toe(e[r],t[r]))return!1;return!0}var noe=e=>{var{chartData:t}=e,n=Pt(),r=On();return x.useEffect(()=>r?()=>{}:(n(OO(t)),()=>{n(OO(void 0))}),[t,n,r]),null},dI={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},WL=Kn({name:"brush",initialState:dI,reducers:{setBrushSettings(e,t){return t.payload==null?dI:t.payload}}}),{setBrushSettings:mue}=WL.actions,roe=WL.reducer;function hI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ad(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hI(Object(n),!0).forEach(function(r){JL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JL(e,t,n){return(t=ioe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ioe(e){var t=aoe(e,"string");return typeof t=="symbol"?t:t+""}function aoe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ooe=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return{x:Math.min(n,i),y:Math.min(r,a),width:Math.abs(i-n),height:Math.abs(a-r)}},soe=e=>{var{x1:t,y1:n,x2:r,y2:i}=e;return ooe({x:t,y:n},{x:r,y:i})};class Fp{static create(t){return new Fp(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}JL(Fp,"EPS",1e-4);var loe=e=>{var t=Object.keys(e).reduce((n,r)=>Ad(Ad({},n),{},{[r]:Fp.create(e[r])}),{});return Ad(Ad({},t),{},{apply(n){var{bandAware:r,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(n).map(a=>{var[l,u]=a;return[l,t[l].apply(u,{bandAware:r,position:i})]}))},isInRange(n){return Object.keys(n).every(r=>t[r].isInRange(n[r]))}})};function uoe(e){return(e%180+180)%180}var coe=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=uoe(i),l=a*Math.PI/180,u=Math.atan(r/n),c=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(c)},foe={dots:[],areas:[],lines:[]},XL=Kn({name:"referenceElements",initialState:foe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Fr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Fr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Fr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:gue,removeDot:vue,addArea:yue,removeArea:bue,addLine:doe,removeLine:hoe}=XL.actions,poe=XL.reducer,QL=x.createContext(void 0),moe=e=>{var{children:t}=e,[n]=x.useState("".concat(ic("recharts"),"-clip")),r=BS();if(r==null)return null;var{x:i,y:a,width:l,height:u}=r;return x.createElement(QL.Provider,{value:n},x.createElement("defs",null,x.createElement("clipPath",{id:n},x.createElement("rect",{x:i,y:a,height:u,width:l}))),t)},goe=()=>x.useContext(QL);function pI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pI(Object(n),!0).forEach(function(r){voe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function voe(e,t,n){return(t=yoe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yoe(e){var t=boe(e,"string");return typeof t=="symbol"?t:t+""}function boe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fh(){return Fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fh.apply(null,arguments)}var _oe=(e,t)=>{var n;if(x.isValidElement(e))n=x.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{if(!wt(t.x1)||!wt(t.y1)||!wt(t.x2)||!wt(t.y2))return null;n=x.createElement("line",Fh({},t,{className:"recharts-reference-line-line"}))}return n},Soe=(e,t,n,r,i,a)=>{var{x:l,width:u}=a,c=i.y.apply(e,{position:n});if(Pr(c)||t==="discard"&&!i.y.isInRange(c))return null;var d=[{x:l+u,y:c},{x:l,y:c}];return r==="left"?d.reverse():d},Toe=(e,t,n,r,i,a)=>{var{y:l,height:u}=a,c=i.x.apply(e,{position:n});if(Pr(c)||t==="discard"&&!i.x.isInRange(c))return null;var d=[{x:c,y:l+u},{x:c,y:l}];return r==="top"?d.reverse():d},Eoe=(e,t,n,r)=>{var i=e.map(a=>r.apply(a,{position:n}));return t==="discard"&&i.some(a=>!r.isInRange(a))?null:i},woe=(e,t,n,r,i,a)=>{var{x:l,y:u,segment:c,ifOverflow:d}=a,h=Or(l),m=Or(u);return m?Soe(u,d,n,i,e,t):h?Toe(l,d,n,r,e,t):c!=null&&c.length===2?Eoe(c,d,n,e):null};function xoe(e){var t=Pt();return x.useEffect(()=>(t(doe(e)),()=>{t(hoe(e))})),null}function Aoe(e){var{xAxisId:t,yAxisId:n,shape:r,className:i,ifOverflow:a}=e,l=On(),u=goe(),c=be(R=>ui(R,t)),d=be(R=>ci(R,n)),h=be(R=>Qa(R,"xAxis",t,l)),m=be(R=>Qa(R,"yAxis",n,l)),v=Nc();if(!u||!v||c==null||d==null||h==null||m==null)return null;var _=loe({x:h,y:m}),T=woe(_,v,e.position,c.orientation,d.orientation,e);if(!T)return null;var[{x:w,y:E},{x:C,y:O}]=T,P=a==="hidden"?"url(#".concat(u,")"):void 0,D=mI(mI({clipPath:P},wn(e)),{},{x1:w,y1:E,x2:C,y2:O}),I=soe({x1:w,y1:E,x2:C,y2:O});return x.createElement(fi,{zIndex:e.zIndex},x.createElement(ea,{className:Ze("recharts-reference-line",i)},_oe(r,D),x.createElement(LL,Fh({},I,{lowerWidth:I.width,upperWidth:I.width}),x.createElement(jL,{label:e.label}),e.children)))}var Coe={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:Tn.line};function ZL(e){var t=mn(e,Coe);return x.createElement(x.Fragment,null,x.createElement(xoe,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),x.createElement(Aoe,t))}ZL.displayName="ReferenceLine";function eU(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function Moe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return coe(r,n)}function Poe(e,t,n){var r=n==="width",{x:i,y:a,width:l,height:u}=e;return t===1?{start:r?i:a,end:r?i+l:a+u}:{start:r?i+l:a+u,end:r?i:a}}function Hh(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function Ooe(e,t){return eU(e,t+1)}function Ioe(e,t,n,r,i){for(var a=(r||[]).slice(),{start:l,end:u}=t,c=0,d=1,h=l,m=function(){var T=r?.[c];if(T===void 0)return{v:eU(r,d)};var w=c,E,C=()=>(E===void 0&&(E=n(T,w)),E),O=T.coordinate,P=c===0||Hh(e,O,C,h,u);P||(c=0,h=l,d+=1),P&&(h=O+e*(C()/2+i),c+=d)},v;d<=a.length;)if(v=m(),v)return v.v;return[]}function gI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gI(Object(n),!0).forEach(function(r){Noe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Noe(e,t,n){return(t=Doe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Doe(e){var t=Roe(e,"string");return typeof t=="symbol"?t:t+""}function Roe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function koe(e,t,n,r,i){for(var a=(r||[]).slice(),l=a.length,{start:u}=t,{end:c}=t,d=function(v){var _=a[v],T,w=()=>(T===void 0&&(T=n(_,v)),T);if(v===l-1){var E=e*(_.coordinate+e*w()/2-c);a[v]=_=bn(bn({},_),{},{tickCoord:E>0?_.coordinate-E*e:_.coordinate})}else a[v]=_=bn(bn({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var C=Hh(e,_.tickCoord,w,u,c);C&&(c=_.tickCoord-e*(w()/2+i),a[v]=bn(bn({},_),{},{isShow:!0}))}},h=l-1;h>=0;h--)d(h);return a}function Loe(e,t,n,r,i,a){var l=(r||[]).slice(),u=l.length,{start:c,end:d}=t;if(a){var h=r[u-1],m=n(h,u-1),v=e*(h.coordinate+e*m/2-d);if(l[u-1]=h=bn(bn({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate}),h.tickCoord!=null){var _=Hh(e,h.tickCoord,()=>m,c,d);_&&(d=h.tickCoord-e*(m/2+i),l[u-1]=bn(bn({},h),{},{isShow:!0}))}}for(var T=a?u-1:u,w=function(O){var P=l[O],D,I=()=>(D===void 0&&(D=n(P,O)),D);if(O===0){var R=e*(P.coordinate-e*I()/2-c);l[O]=P=bn(bn({},P),{},{tickCoord:R<0?P.coordinate-R*e:P.coordinate})}else l[O]=P=bn(bn({},P),{},{tickCoord:P.coordinate});if(P.tickCoord!=null){var k=Hh(e,P.tickCoord,I,c,d);k&&(c=P.tickCoord+e*(I()/2+i),l[O]=bn(bn({},P),{},{isShow:!0}))}},E=0;E<T;E++)w(E);return l}function FS(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:l,orientation:u,interval:c,tickFormatter:d,unit:h,angle:m}=e;if(!i||!i.length||!r)return[];if(Ee(c)||Al.isSsr){var v;return(v=Ooe(i,Ee(c)?c:0))!==null&&v!==void 0?v:[]}var _=[],T=u==="top"||u==="bottom"?"width":"height",w=h&&T==="width"?tc(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},E=(P,D)=>{var I=typeof d=="function"?d(P.value,D):P.value;return T==="width"?Moe(tc(I,{fontSize:t,letterSpacing:n}),w,m):tc(I,{fontSize:t,letterSpacing:n})[T]},C=i.length>=2?xr(i[1].coordinate-i[0].coordinate):1,O=Poe(a,C,T);return c==="equidistantPreserveStart"?Ioe(C,O,E,i,l):(c==="preserveStart"||c==="preserveStartEnd"?_=Loe(C,O,E,i,l,c==="preserveStartEnd"):_=koe(C,O,E,i,l),_.filter(P=>P.isShow))}var Uoe=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,l=0;if(t){Array.from(t).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>l&&(l=m.width)}});var u=n?n.getBoundingClientRect().width:0,c=i+a,d=l+c+u+(n?r:0);return Math.round(d)}return 0},joe=["axisLine","width","height","className","hide","ticks","axisType"];function qoe(e,t){if(e==null)return{};var n,r,i=zoe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zoe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Vo(){return Vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vo.apply(null,arguments)}function vI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vI(Object(n),!0).forEach(function(r){Boe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Boe(e,t,n){return(t=$oe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $oe(e){var t=Foe(e,"string");return typeof t=="symbol"?t:t+""}function Foe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wi={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Tn.axis};function Hoe(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:l,axisLine:u,otherSvgProps:c}=e;if(!u)return null;var d=Lt(Lt(Lt({},c),ii(u)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!l||a==="bottom"&&l);d=Lt(Lt({},d),{},{x1:t,y1:n+h*i,x2:t+r,y2:n+h*i})}else{var m=+(a==="left"&&!l||a==="right"&&l);d=Lt(Lt({},d),{},{x1:t+m*r,y1:n,x2:t+m*r,y2:n+i})}return x.createElement("line",Vo({},d,{className:Ze("recharts-cartesian-axis-line",lp(u,"className"))}))}function Goe(e,t,n,r,i,a,l,u,c){var d,h,m,v,_,T,w=u?-1:1,E=e.tickSize||l,C=Ee(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":d=h=e.coordinate,v=n+ +!u*i,m=v-w*E,T=m-w*c,_=C;break;case"left":m=v=e.coordinate,h=t+ +!u*r,d=h-w*E,_=d-w*c,T=C;break;case"right":m=v=e.coordinate,h=t+ +u*r,d=h+w*E,_=d+w*c,T=C;break;default:d=h=e.coordinate,v=n+ +u*i,m=v+w*E,T=m+w*c,_=C;break}return{line:{x1:d,y1:m,x2:h,y2:v},tick:{x:_,y:T}}}function Voe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Koe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Yoe(e){var{option:t,tickProps:n,value:r}=e,i,a=Ze(n.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))i=x.cloneElement(t,Lt(Lt({},n),{},{className:a}));else if(typeof t=="function")i=t(Lt(Lt({},n),{},{className:a}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=Ze(l,t?.className)),i=x.createElement(qS,Vo({},n,{className:l}),r)}return i}var Woe=x.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:l,unit:u,padding:c,tickTextProps:d,orientation:h,mirror:m,x:v,y:_,width:T,height:w,tickSize:E,tickMargin:C,fontSize:O,letterSpacing:P,getTicksConfig:D,events:I,axisType:R}=e,k=FS(Lt(Lt({},D),{},{ticks:n}),O,P),z=Voe(h,m),$=Koe(h,m),re=ii(D),F=ip(r),V={};typeof i=="object"&&(V=i);var de=Lt(Lt({},re),{},{fill:"none"},V),pe=k.map(ee=>Lt({entry:ee},Goe(ee,v,_,T,w,h,E,m,C))),_e=pe.map(ee=>{var{entry:se,line:ue}=ee;return x.createElement(ea,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(se.value,"-").concat(se.coordinate,"-").concat(se.tickCoord)},i&&x.createElement("line",Vo({},de,ue,{className:Ze("recharts-cartesian-axis-tick-line",lp(i,"className"))})))}),B=pe.map((ee,se)=>{var{entry:ue,tick:Ce}=ee,U=Lt(Lt(Lt(Lt({textAnchor:z,verticalAnchor:$},re),{},{stroke:"none",fill:a},F),Ce),{},{index:se,payload:ue,visibleTicksCount:k.length,tickFormatter:l,padding:c},d);return x.createElement(ea,Vo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ue.value,"-").concat(ue.coordinate,"-").concat(ue.tickCoord)},KD(I,ue,se)),r&&x.createElement(Yoe,{option:r,tickProps:U,value:"".concat(typeof l=="function"?l(ue.value,se):ue.value).concat(u||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(R,"-ticks")},B.length>0&&x.createElement(fi,{zIndex:Tn.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(R,"-tick-labels"),ref:t},B)),_e.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(R,"-tick-lines")},_e))}),Joe=x.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:l,ticks:u,axisType:c}=e,d=qoe(e,joe),[h,m]=x.useState(""),[v,_]=x.useState(""),T=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var E;return Uoe({ticks:T.current,label:(E=e.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=x.useCallback(E=>{if(E){var C=E.getElementsByClassName("recharts-cartesian-axis-tick-value");T.current=C;var O=C[0];if(O){var P=window.getComputedStyle(O),D=P.fontSize,I=P.letterSpacing;(D!==h||I!==v)&&(m(D),_(I))}}},[h,v]);return l||r!=null&&r<=0||i!=null&&i<=0?null:x.createElement(fi,{zIndex:e.zIndex},x.createElement(ea,{className:Ze("recharts-cartesian-axis",a)},x.createElement(Hoe,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:ii(e)}),x.createElement(Woe,{ref:w,axisType:c,events:d,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:v,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),x.createElement(LL,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},x.createElement(jL,{label:e.label,labelRef:e.labelRef}),e.children)))}),HS=x.forwardRef((e,t)=>{var n=mn(e,Wi);return x.createElement(Joe,Vo({},n,{ref:t}))});HS.displayName="CartesianAxis";var Xoe=["x1","y1","x2","y2","key"],Qoe=["offset"],Zoe=["xAxisId","yAxisId"],ese=["xAxisId","yAxisId"];function yI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yI(Object(n),!0).forEach(function(r){tse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tse(e,t,n){return(t=nse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nse(e){var t=rse(e,"string");return typeof t=="symbol"?t:t+""}function rse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uo(){return Uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uo.apply(null,arguments)}function Gh(e,t){if(e==null)return{};var n,r,i=ise(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ise(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ase=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:l,ry:u}=e;return x.createElement("rect",{x:r,y:i,ry:u,width:a,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function tU(e){var{option:t,lineItemProps:n}=e,r;if(x.isValidElement(t))r=x.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:l,x2:u,y2:c,key:d}=n,h=Gh(n,Xoe),m=(i=ii(h))!==null&&i!==void 0?i:{},{offset:v}=m,_=Gh(m,Qoe);r=x.createElement("line",Uo({},_,{x1:a,y1:l,x2:u,y2:c,fill:"none",key:d}))}return r}function ose(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=e,u=Gh(e,Zoe),c=i.map((d,h)=>{var m=_n(_n({},u),{},{x1:t,y1:d,x2:t+n,y2:d,key:"line-".concat(h),index:h});return x.createElement(tU,{key:"line-".concat(h),option:r,lineItemProps:m})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function sse(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=e,u=Gh(e,ese),c=i.map((d,h)=>{var m=_n(_n({},u),{},{x1:d,y1:t,x2:d,y2:t+n,key:"line-".concat(h),index:h});return x.createElement(tU,{option:r,lineItemProps:m,key:"line-".concat(h)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function lse(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:l,horizontalPoints:u,horizontal:c=!0}=e;if(!c||!t||!t.length||u==null)return null;var d=u.map(m=>Math.round(m+i-i)).sort((m,v)=>m-v);i!==d[0]&&d.unshift(0);var h=d.map((m,v)=>{var _=!d[v+1],T=_?i+l-m:d[v+1]-m;if(T<=0)return null;var w=v%t.length;return x.createElement("rect",{key:"react-".concat(v),y:m,x:r,height:T,width:a,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function use(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:l,height:u,verticalPoints:c}=e;if(!t||!n||!n.length)return null;var d=c.map(m=>Math.round(m+i-i)).sort((m,v)=>m-v);i!==d[0]&&d.unshift(0);var h=d.map((m,v)=>{var _=!d[v+1],T=_?i+l-m:d[v+1]-m;if(T<=0)return null;var w=v%n.length;return x.createElement("rect",{key:"react-".concat(v),x:m,y:a,width:T,height:u,stroke:"none",fill:n[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var cse=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return qR(FS(_n(_n(_n({},Wi),n),{},{ticks:zR(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},fse=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return qR(FS(_n(_n(_n({},Wi),n),{},{ticks:zR(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},dse={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Tn.grid};function nU(e){var t=k_(),n=L_(),r=YR(),i=_n(_n({},mn(e,dse)),{},{x:Ee(e.x)?e.x:r.left,y:Ee(e.y)?e.y:r.top,width:Ee(e.width)?e.width:r.width,height:Ee(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:l,x:u,y:c,width:d,height:h,syncWithTicks:m,horizontalValues:v,verticalValues:_}=i,T=On(),w=be($=>yO($,"xAxis",a,T)),E=be($=>yO($,"yAxis",l,T));if(!oi(d)||!oi(h)||!Ee(u)||!Ee(c))return null;var C=i.verticalCoordinatesGenerator||cse,O=i.horizontalCoordinatesGenerator||fse,{horizontalPoints:P,verticalPoints:D}=i;if((!P||!P.length)&&typeof O=="function"){var I=v&&v.length,R=O({yAxis:E?_n(_n({},E),{},{ticks:I?v:E.ticks}):void 0,width:t??d,height:n??h,offset:r},I?!0:m);vh(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(P=R)}if((!D||!D.length)&&typeof C=="function"){var k=_&&_.length,z=C({xAxis:w?_n(_n({},w),{},{ticks:k?_:w.ticks}):void 0,width:t??d,height:n??h,offset:r},k?!0:m);vh(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(D=z)}return x.createElement(fi,{zIndex:i.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(ase,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(lse,Uo({},i,{horizontalPoints:P})),x.createElement(use,Uo({},i,{verticalPoints:D})),x.createElement(ose,Uo({},i,{offset:r,horizontalPoints:P,xAxis:w,yAxis:E})),x.createElement(sse,Uo({},i,{offset:r,verticalPoints:D,xAxis:w,yAxis:E}))))}nU.displayName="CartesianGrid";var rU=(e,t,n,r)=>Z2(e,"xAxis",t,r),iU=(e,t,n,r)=>Q2(e,"xAxis",t,r),aU=(e,t,n,r)=>Z2(e,"yAxis",n,r),oU=(e,t,n,r)=>Q2(e,"yAxis",n,r),hse=X([dt,rU,aU,iU,oU],(e,t,n,r,i)=>no(e,"xAxis")?gh(t,r,!1):gh(n,i,!1)),pse=(e,t,n,r,i)=>i;function mse(e){return e.type==="line"}var gse=X([S2,pse],(e,t)=>e.filter(mse).find(n=>n.id===t)),vse=X([dt,rU,aU,iU,oU,gse,hse,cS],(e,t,n,r,i,a,l,u)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:h}=u;if(!(a==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:m,data:v}=a,_;if(v!=null&&v.length>0?_=v:_=c?.slice(d,h+1),_!=null)return jse({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:m,bandSize:l,displayedData:_})}});function yse(e){var t=ip(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,l=Number(i),u=Number(a);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(u)||u<0)&&(u=r),{r:l,strokeWidth:u}}return{r:n,strokeWidth:r}}var bse=["id"],_se=["type","layout","connectNulls","needClip","shape"],Sse=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function bc(){return bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bc.apply(null,arguments)}function bI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ei(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bI(Object(n),!0).forEach(function(r){Tse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tse(e,t,n){return(t=Ese(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ese(e){var t=wse(e,"string");return typeof t=="symbol"?t:t+""}function wse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GS(e,t){if(e==null)return{};var n,r,i=xse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ase=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:BR(n,t),payload:e}]},Cse=x.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:l,hide:u,unit:c,tooltipType:d}=e,h={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:BR(l,t),hide:u,type:d,color:r,unit:c}};return x.createElement(qie,{tooltipEntrySettings:h})}),sU=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Mse(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var Pse=(e,t,n)=>{var r=n.reduce((m,v)=>m+v);if(!r)return sU(t,e);for(var i=Math.floor(e/r),a=e%r,l=t-e,u=[],c=0,d=0;c<n.length;d+=n[c],++c)if(d+n[c]>a){u=[...n.slice(0,c),a-d];break}var h=u.length%2===0?[0,l]:[l];return[...Mse(n,i),...u,...h].map(m=>"".concat(m,"px")).join(", ")};function Ose(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:a,needClip:l}=r,{id:u}=r,c=GS(r,bse),d=ii(c);return x.createElement(oae,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:d,needClip:l,clipPathId:t})}function Ise(e){var{showLabels:t,children:n,points:r}=e,i=x.useMemo(()=>r?.map(a=>{var l,u,c={x:(l=a.x)!==null&&l!==void 0?l:0,y:(u=a.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ei(ei({},c),{},{value:a.value,payload:a.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[r]);return x.createElement(pie,{value:t?i:void 0},n)}function _I(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:a}=e,{type:l,layout:u,connectNulls:c,needClip:d,shape:h}=a,m=GS(a,_se),v=ei(ei({},wn(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:r,type:l,layout:u,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return x.createElement(x.Fragment,null,r?.length>1&&x.createElement(jie,bc({shapeType:"curve",option:h},v,{pathRef:n})),x.createElement(Ose,{points:r,clipPathId:t,props:a}))}function Nse(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Dse(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:l,strokeDasharray:u,isAnimationActive:c,animationBegin:d,animationDuration:h,animationEasing:m,animateNewValues:v,width:_,height:T,onAnimationEnd:w,onAnimationStart:E}=n,C=i.current,O=z_(l,"recharts-line-"),P=x.useRef(O),[D,I]=x.useState(!1),R=!D,k=x.useCallback(()=>{typeof w=="function"&&w(),I(!1)},[w]),z=x.useCallback(()=>{typeof E=="function"&&E(),I(!0)},[E]),$=Nse(r.current),re=x.useRef(0);P.current!==O&&(re.current=a.current,P.current=O);var F=re.current;return x.createElement(Ise,{points:l,showLabels:R},n.children,x.createElement(q_,{animationId:O,begin:d,duration:h,isActive:c,easing:m,onAnimationEnd:k,onAnimationStart:z,key:O},V=>{var de=Fn(F,$+F,V),pe=Math.min(de,$),_e;if(c)if(u){var B="".concat(u).split(/[,\s]+/gim).map(ue=>parseFloat(ue));_e=Pse(pe,$,B)}else _e=sU($,pe);else _e=u==null?void 0:String(u);if(V>0&&$>0&&(i.current=l,a.current=Math.max(a.current,pe)),C){var ee=C.length/l.length,se=V===1?l:l.map((ue,Ce)=>{var U=Math.floor(Ce*ee);if(C[U]){var W=C[U];return ei(ei({},ue),{},{x:Fn(W.x,ue.x,V),y:Fn(W.y,ue.y,V)})}return v?ei(ei({},ue),{},{x:Fn(_*2,ue.x,V),y:Fn(T/2,ue.y,V)}):ei(ei({},ue),{},{x:ue.x,y:ue.y})});return i.current=se,x.createElement(_I,{props:n,points:se,clipPathId:t,pathRef:r,strokeDasharray:_e})}return x.createElement(_I,{props:n,points:l,clipPathId:t,pathRef:r,strokeDasharray:_e})}),x.createElement(vie,{label:n.label}))}function Rse(e){var{clipPathId:t,props:n}=e,r=x.useRef(null),i=x.useRef(0),a=x.useRef(null);return x.createElement(Dse,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var kse=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:En(e.payload,t)}};class Lse extends x.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:a,yAxisId:l,top:u,left:c,width:d,height:h,id:m,needClip:v,zIndex:_}=this.props;if(t)return null;var T=Ze("recharts-line",i),w=m,{r:E,strokeWidth:C}=yse(n),O=FL(n),P=E*2+C,D=v?"url(#clipPath-".concat(O?"":"dots-").concat(w,")"):void 0;return x.createElement(fi,{zIndex:_},x.createElement(ea,{className:T},v&&x.createElement("defs",null,x.createElement(kae,{clipPathId:w,xAxisId:a,yAxisId:l}),!O&&x.createElement("clipPath",{id:"clipPath-dots-".concat(w)},x.createElement("rect",{x:c-P/2,y:u-P/2,width:d+P,height:h+P}))),x.createElement(Rae,{xAxisId:a,yAxisId:l,data:r,dataPointFormatter:kse,errorBarOffset:0},x.createElement(Rse,{props:this.props,clipPathId:w}))),x.createElement(Aae,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:D}))}}var lU={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Tn.line,type:"linear"};function Use(e){var t=mn(e,lU),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,connectNulls:u,dot:c,hide:d,isAnimationActive:h,label:m,legendType:v,xAxisId:_,yAxisId:T,id:w}=t,E=GS(t,Sse),{needClip:C}=YL(_,T),O=BS(),P=Tp(),D=On(),I=be(re=>vse(re,_,T,D,w));if(P!=="horizontal"&&P!=="vertical"||I==null||O==null)return null;var{height:R,width:k,x:z,y:$}=O;return x.createElement(Lse,bc({},E,{id:w,connectNulls:u,dot:c,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,isAnimationActive:h,hide:d,label:m,legendType:v,xAxisId:_,yAxisId:T,points:I,layout:P,height:R,width:k,left:z,top:$,needClip:C}))}function jse(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:l,bandSize:u,displayedData:c}=e;return c.map((d,h)=>{var m=En(d,l);if(t==="horizontal"){var v=qM({axis:n,ticks:i,bandSize:u,entry:d,index:h}),_=tn(m)?null:r.scale(m);return{x:v,y:_,value:m,payload:d}}var T=tn(m)?null:n.scale(m),w=qM({axis:r,ticks:a,bandSize:u,entry:d,index:h});return T==null||w==null?null:{x:T,y:w,value:m,payload:d}}).filter(Boolean)}function qse(e){var t=mn(e,lU),n=On();return x.createElement(Hie,{id:t.id,type:"line"},r=>x.createElement(x.Fragment,null,x.createElement(zie,{legendPayload:Ase(t)}),x.createElement(Cse,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),x.createElement(Xie,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),x.createElement(Use,bc({},t,{id:r}))))}var uU=x.memo(qse,$S);uU.displayName="Line";var zse=["domain","range"],Bse=["domain","range"];function SI(e,t){if(e==null)return{};var n,r,i=$se(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $se(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function TI(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function cU(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=SI(e,zse),{domain:a,range:l}=t,u=SI(t,Bse);return!TI(n,a)||!TI(r,l)?!1:$S(i,u)}var Fse=["dangerouslySetInnerHTML","ticks"],Hse=["id"];function Ob(){return Ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ob.apply(null,arguments)}function EI(e,t){if(e==null)return{};var n,r,i=Gse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Gse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Vse(e){var t=Pt(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?t(fae(e)):n.current!==e&&t(dae({prev:n.current,next:e})),n.current=e},[e,t]),x.useLayoutEffect(()=>()=>{n.current&&(t(hae(n.current)),n.current=null)},[t]),null}var Kse=e=>{var{xAxisId:t,className:n}=e,r=be(FR),i=On(),a="xAxis",l=be(E=>Qa(E,a,t,i)),u=be(E=>X2(E,a,t,i)),c=be(E=>Hee(E,t)),d=be(E=>Jee(E,t)),h=be(E=>v2(E,t));if(c==null||d==null||h==null)return null;var{dangerouslySetInnerHTML:m,ticks:v}=e,_=EI(e,Fse),{id:T}=h,w=EI(h,Hse);return x.createElement(HS,Ob({},_,w,{scale:l,x:d.x,y:d.y,width:c.width,height:c.height,className:Ze("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:u,axisType:a}))},Yse={allowDataOverflow:Xt.allowDataOverflow,allowDecimals:Xt.allowDecimals,allowDuplicatedCategory:Xt.allowDuplicatedCategory,angle:Xt.angle,axisLine:Wi.axisLine,height:Xt.height,hide:!1,includeHidden:Xt.includeHidden,interval:Xt.interval,minTickGap:Xt.minTickGap,mirror:Xt.mirror,orientation:Xt.orientation,padding:Xt.padding,reversed:Xt.reversed,scale:Xt.scale,tick:Xt.tick,tickCount:Xt.tickCount,tickLine:Wi.tickLine,tickSize:Wi.tickSize,type:Xt.type,xAxisId:0},Wse=e=>{var t=mn(e,Yse);return x.createElement(x.Fragment,null,x.createElement(Vse,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),x.createElement(Kse,t))},fU=x.memo(Wse,cU);fU.displayName="XAxis";var Jse=["dangerouslySetInnerHTML","ticks"],Xse=["id"];function Ib(){return Ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ib.apply(null,arguments)}function wI(e,t){if(e==null)return{};var n,r,i=Qse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Qse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Zse(e){var t=Pt(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?t(pae(e)):n.current!==e&&t(mae({prev:n.current,next:e})),n.current=e},[e,t]),x.useLayoutEffect(()=>()=>{n.current&&(t(gae(n.current)),n.current=null)},[t]),null}var ele=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=x.useRef(null),l=x.useRef(null),u=be(FR),c=On(),d=Pt(),h="yAxis",m=be(I=>Qa(I,h,t,c)),v=be(I=>Zee(I,t)),_=be(I=>Qee(I,t)),T=be(I=>X2(I,h,t,c)),w=be(I=>y2(I,t));if(x.useLayoutEffect(()=>{if(!(r!=="auto"||!v||zS(i)||x.isValidElement(i)||w==null)){var I=a.current;if(I){var R=I.getCalculatedWidth();Math.round(v.width)!==Math.round(R)&&d(vae({id:t,width:R}))}}},[T,v,d,i,t,r,w]),v==null||_==null||w==null)return null;var{dangerouslySetInnerHTML:E,ticks:C}=e,O=wI(e,Jse),{id:P}=w,D=wI(w,Xse);return x.createElement(HS,Ib({},O,D,{ref:a,labelRef:l,scale:m,x:_.x,y:_.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:Ze("recharts-".concat(h," ").concat(h),n),viewBox:u,ticks:T,axisType:h}))},tle={allowDataOverflow:Qt.allowDataOverflow,allowDecimals:Qt.allowDecimals,allowDuplicatedCategory:Qt.allowDuplicatedCategory,angle:Qt.angle,axisLine:Wi.axisLine,hide:!1,includeHidden:Qt.includeHidden,interval:Qt.interval,minTickGap:Qt.minTickGap,mirror:Qt.mirror,orientation:Qt.orientation,padding:Qt.padding,reversed:Qt.reversed,scale:Qt.scale,tick:Qt.tick,tickCount:Qt.tickCount,tickLine:Wi.tickLine,tickSize:Wi.tickSize,type:Qt.type,width:Qt.width,yAxisId:0},nle=e=>{var t=mn(e,tle);return x.createElement(x.Fragment,null,x.createElement(Zse,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),x.createElement(ele,t))},dU=x.memo(nle,cU);dU.displayName="YAxis";var rle=(e,t)=>t,VS=X([rle,dt,p2,Ht,pL,pa,pne,gn],Sne),KS=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},hU=Ir("mouseClick"),pU=Oc();pU.startListening({actionCreator:hU,effect:(e,t)=>{var n=e.payload,r=VS(t.getState(),KS(n));r?.activeIndex!=null&&t.dispatch(dte({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Nb=Ir("mouseMove"),mU=Oc(),Cd=null;mU.startListening({actionCreator:Nb,effect:(e,t)=>{var n=e.payload;Cd!==null&&cancelAnimationFrame(Cd);var r=KS(n);Cd=requestAnimationFrame(()=>{var i=t.getState(),a=PS(i,i.tooltip.settings.shared);if(a==="axis"){var l=VS(i,r);l?.activeIndex!=null?t.dispatch(oL({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(aL())}Cd=null})}});var xI={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},gU=Kn({name:"rootProps",initialState:xI,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:xI.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),ile=gU.reducer,{updateOptions:ale}=gU.actions,vU=Kn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:_ue}=vU.actions,ole=vU.reducer,yU=Ir("keyDown"),bU=Ir("focus"),YS=Oc();YS.startListening({actionCreator:yU,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var l=OS(i,Dl(n),zc(n),Gc(n)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var c=pa(n);if(a==="Enter"){var d=jh(n,"axis","hover",String(i.index));t.dispatch(wb({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var h=rte(n),m=h==="left-to-right"?1:-1,v=a==="ArrowRight"?1:-1,_=u+v*m;if(!(c==null||_>=c.length||_<0)){var T=jh(n,"axis","hover",String(_));t.dispatch(wb({active:!0,activeIndex:_.toString(),activeDataKey:void 0,activeCoordinate:T}))}}}}}});YS.startListening({actionCreator:bU,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",l=jh(n,"axis","hover",String(a));t.dispatch(wb({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:l}))}}}});var Tr=Ir("externalEvent"),_U=Oc(),Wy=new Map;_U.startListening({actionCreator:Tr,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=Wy.get(i);a!==void 0&&cancelAnimationFrame(a);var l=requestAnimationFrame(()=>{try{var u=t.getState(),c={activeCoordinate:Qte(u),activeDataKey:Jte(u),activeIndex:vc(u),activeLabel:vL(u),activeTooltipIndex:vc(u),isTooltipActive:Zte(u)};n(c,r)}finally{Wy.delete(i)}});Wy.set(i,l)}}});var sle=X([Nl],e=>e.tooltipItemPayloads),lle=X([sle,Fc,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var l=t(a,n);return l}}}),SU=Ir("touchMove"),TU=Oc();TU.startListening({actionCreator:SU,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=PS(r,r.tooltip.settings.shared);if(i==="axis"){var a=VS(r,KS({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&t.dispatch(oL({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var l,u=n.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(u.clientX,u.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(k7),h=(l=c.getAttribute(L7))!==null&&l!==void 0?l:void 0,m=lle(t.getState(),d,h);t.dispatch(fte({activeDataKey:h,activeIndex:d,activeCoordinate:m}))}}}});var ule=cR({brush:roe,cartesianAxis:yae,chartData:Zne,errorBars:Mae,graphicalItems:Wie,layout:b7,legend:OW,options:Yne,polarAxis:bie,polarOptions:ole,referenceElements:poe,rootProps:ile,tooltip:hte,zIndex:kne}),cle=function(t){return H9({reducer:ule,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([pU.middleware,mU.middleware,YS.middleware,_U.middleware,TU.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(xR({type:"raf"}))},devTools:Al.devToolsEnabled})};function fle(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=On(),a=x.useRef(null);if(i)return n;a.current==null&&(a.current=cle(t));var l=x_;return x.createElement(Zae,{context:l,store:a.current},n)}function dle(e){var{layout:t,margin:n}=e,r=Pt(),i=On();return x.useEffect(()=>{i||(r(g7(t)),r(m7(n)))},[r,i,t,n]),null}var hle=x.memo(dle,$S);function ple(e){var t=Pt();return x.useEffect(()=>{t(ale(e))},[t,e]),null}function AI(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=HL("".concat(r).concat(t)),a=Pt();return x.useLayoutEffect(()=>(a(Dne({zIndex:t,elementId:i,isPanorama:n})),()=>{a(Rne({zIndex:t,isPanorama:n}))}),[a,t,i,n]),x.createElement("g",{id:i})}function CI(e){var{children:t,isPanorama:n}=e,r=be(Ene);if(!r||r.length===0)return t;var i=r.filter(l=>l<0),a=r.filter(l=>l>0);return x.createElement(x.Fragment,null,i.map(l=>x.createElement(AI,{key:l,zIndex:l,isPanorama:n})),t,a.map(l=>x.createElement(AI,{key:l,zIndex:l,isPanorama:n})))}var mle=["children"];function gle(e,t){if(e==null)return{};var n,r,i=vle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Vh(){return Vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vh.apply(null,arguments)}var yle={width:"100%",height:"100%",display:"block"},ble=x.forwardRef((e,t)=>{var n=k_(),r=L_(),i=rk();if(!oi(n)||!oi(r))return null;var{children:a,otherAttributes:l,title:u,desc:c}=e,d,h;return l!=null&&(typeof l.tabIndex=="number"?d=l.tabIndex:d=i?0:void 0,typeof l.role=="string"?h=l.role:h=i?"application":void 0),x.createElement(m_,Vh({},l,{title:u,desc:c,role:h,tabIndex:d,width:n,height:r,style:yle,ref:t}),a)}),_le=e=>{var{children:t}=e,n=be(Sp);if(!n)return null;var{width:r,height:i,y:a,x:l}=n;return x.createElement(m_,{width:r,height:i,x:l,y:a},t)},MI=x.forwardRef((e,t)=>{var{children:n}=e,r=gle(e,mle),i=On();return i?x.createElement(_le,null,x.createElement(CI,{isPanorama:!0},n)):x.createElement(ble,Vh({ref:t},r),x.createElement(CI,{isPanorama:!1},n))});function Sle(){var e=Pt(),[t,n]=x.useState(null),r=be(R7);return x.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;wt(a)&&a!==r&&e(y7(a))}},[t,e,r]),n}function PI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tle(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PI(Object(n),!0).forEach(function(r){Ele(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ele(e,t,n){return(t=wle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wle(e){var t=xle(e,"string");return typeof t=="symbol"?t:t+""}function xle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ko(){return Ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ko.apply(null,arguments)}var Ale=()=>(lre(),null);function Kh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Cle=x.forwardRef((e,t)=>{var n,r,i=x.useRef(null),[a,l]=x.useState({containerWidth:Kh((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Kh((r=e.style)===null||r===void 0?void 0:r.height)}),u=x.useCallback((d,h)=>{l(m=>{var v=Math.round(d),_=Math.round(h);return m.containerWidth===v&&m.containerHeight===_?m:{containerWidth:v,containerHeight:_}})},[]),c=x.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null&&typeof ResizeObserver<"u"){var{width:h,height:m}=d.getBoundingClientRect();u(h,m);var v=T=>{var{width:w,height:E}=T[0].contentRect;u(w,E)},_=new ResizeObserver(v);_.observe(d),i.current=_}},[t,u]);return x.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[u]),x.createElement(x.Fragment,null,x.createElement(Ep,{width:a.containerWidth,height:a.containerHeight}),x.createElement("div",Ko({ref:c},e)))}),Mle=x.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=x.useState({containerWidth:Kh(n),containerHeight:Kh(r)}),l=x.useCallback((c,d)=>{a(h=>{var m=Math.round(c),v=Math.round(d);return h.containerWidth===m&&h.containerHeight===v?h:{containerWidth:m,containerHeight:v}})},[]),u=x.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:d,height:h}=c.getBoundingClientRect();l(d,h)}},[t,l]);return x.createElement(x.Fragment,null,x.createElement(Ep,{width:i.containerWidth,height:i.containerHeight}),x.createElement("div",Ko({ref:u},e)))}),Ple=x.forwardRef((e,t)=>{var{width:n,height:r}=e;return x.createElement(x.Fragment,null,x.createElement(Ep,{width:n,height:r}),x.createElement("div",Ko({ref:t},e)))}),Ole=x.forwardRef((e,t)=>{var{width:n,height:r}=e;return ta(n)||ta(r)?x.createElement(Mle,Ko({},e,{ref:t})):x.createElement(Ple,Ko({},e,{ref:t}))});function Ile(e){return e===!0?Cle:Ole}var Nle=x.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:l,onDoubleClick:u,onMouseDown:c,onMouseEnter:d,onMouseLeave:h,onMouseMove:m,onMouseUp:v,onTouchEnd:_,onTouchMove:T,onTouchStart:w,style:E,width:C,responsive:O,dispatchTouchEvents:P=!0}=e,D=x.useRef(null),I=Pt(),[R,k]=x.useState(null),[z,$]=x.useState(null),re=Sle(),F=R_(),V=F?.width>0?F.width:C,de=F?.height>0?F.height:i,pe=x.useCallback(Q=>{re(Q),typeof t=="function"&&t(Q),k(Q),$(Q),Q!=null&&(D.current=Q)},[re,t,k,$]),_e=x.useCallback(Q=>{I(hU(Q)),I(Tr({handler:a,reactEvent:Q}))},[I,a]),B=x.useCallback(Q=>{I(Nb(Q)),I(Tr({handler:d,reactEvent:Q}))},[I,d]),ee=x.useCallback(Q=>{I(aL()),I(Tr({handler:h,reactEvent:Q}))},[I,h]),se=x.useCallback(Q=>{I(Nb(Q)),I(Tr({handler:m,reactEvent:Q}))},[I,m]),ue=x.useCallback(()=>{I(bU())},[I]),Ce=x.useCallback(Q=>{I(yU(Q.key))},[I]),U=x.useCallback(Q=>{I(Tr({handler:l,reactEvent:Q}))},[I,l]),W=x.useCallback(Q=>{I(Tr({handler:u,reactEvent:Q}))},[I,u]),le=x.useCallback(Q=>{I(Tr({handler:c,reactEvent:Q}))},[I,c]),ce=x.useCallback(Q=>{I(Tr({handler:v,reactEvent:Q}))},[I,v]),te=x.useCallback(Q=>{I(Tr({handler:w,reactEvent:Q}))},[I,w]),fe=x.useCallback(Q=>{P&&I(SU(Q)),I(Tr({handler:T,reactEvent:Q}))},[I,P,T]),we=x.useCallback(Q=>{I(Tr({handler:_,reactEvent:Q}))},[I,_]),Pe=Ile(O);return x.createElement(wL.Provider,{value:R},x.createElement(xD.Provider,{value:z},x.createElement(Pe,{width:V??E?.width,height:de??E?.height,className:Ze("recharts-wrapper",r),style:Tle({position:"relative",cursor:"default",width:V,height:de},E),onClick:_e,onContextMenu:U,onDoubleClick:W,onFocus:ue,onKeyDown:Ce,onMouseDown:le,onMouseEnter:B,onMouseLeave:ee,onMouseMove:se,onMouseUp:ce,onTouchEnd:we,onTouchMove:fe,onTouchStart:te,ref:pe},x.createElement(Ale,null),n)))}),Dle=["width","height","responsive","children","className","style","compact","title","desc"];function Rle(e,t){if(e==null)return{};var n,r,i=kle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Lle=x.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:l,style:u,compact:c,title:d,desc:h}=e,m=Rle(e,Dle),v=ii(m);return c?x.createElement(x.Fragment,null,x.createElement(Ep,{width:n,height:r}),x.createElement(MI,{otherAttributes:v,title:d,desc:h},a)):x.createElement(Nle,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(MI,{otherAttributes:v,title:d,desc:h,ref:t},x.createElement(moe,null,a)))});function Db(){return Db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Db.apply(null,arguments)}var Ule={top:5,right:5,bottom:5,left:5},jle={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Ule,reverseStackOrder:!1,syncMethod:"index",responsive:!1},qle=x.forwardRef(function(t,n){var r,i=mn(t.categoricalChartProps,jle),{chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,categoricalChartProps:d}=t,h={chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return x.createElement(fle,{preloadedState:{options:h},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:a},x.createElement(noe,{chartData:d.data}),x.createElement(hle,{layout:i.layout,margin:i.margin}),x.createElement(ple,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),x.createElement(Lle,Db({},i,{ref:n})))}),zle=["axis"],Ble=x.forwardRef((e,t)=>x.createElement(qle,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zle,tooltipPayloadSearcher:Vne,categoricalChartProps:e,ref:t}));const Li={calories:"#FF6B6B",purines:"#845EF7",protein:"#339AF0",carbs:"#FCC419",fat:"#51CF66",fiber:"#20C997",sodium:"#FF922B",sugar:"#F06595"},OI={week:{label:"This Week",days:7},month:{label:"This Month",days:30},custom:{label:"Custom",days:null}},II={daily:{label:"Daily",days:1},weekly:{label:"Weekly",days:7},monthly:{label:"Monthly",days:30}},NI=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`},$le=e=>{const t=new Date;return t.setDate(t.getDate()-e),t},Fle=(e,t)=>{const n=new Date(e+"T00:00:00");return t==="monthly"?n.toLocaleDateString("en-US",{month:"short",year:"2-digit"}):t==="weekly"?n.toLocaleDateString("en-US",{month:"short",day:"numeric"}):n.toLocaleDateString("en-US",{weekday:"short",day:"numeric"})},Hle=({active:e,payload:t,label:n})=>!e||!t?.length?null:A.jsxs("div",{className:"chart-tooltip",children:[A.jsx("p",{className:"tooltip-date",children:n}),t.map(r=>A.jsxs("p",{style:{color:r.color},children:[ji[r.dataKey]?.icon," ",r.name,": ",Math.round(r.value),ji[r.dataKey]?.unit]},r.dataKey))]});function Gle(){const{user:e}=eo(),{meals:t,isLoading:n}=n_(),r=e?.thresholds||Wd,[i,a]=x.useState("week"),[l,u]=x.useState("daily"),[c,d]=x.useState(""),[h,m]=x.useState(""),[v,_]=x.useState({calories:!0,purines:!0,protein:!1,carbs:!1,fat:!1,fiber:!1,sodium:!1,sugar:!1}),{startDate:T,endDate:w}=x.useMemo(()=>{if(i==="custom"&&c&&h)return{startDate:c,endDate:h};const I=OI[i]?.days||7;return{startDate:NI($le(I-1)),endDate:NI(new Date)}},[i,c,h]),E=x.useMemo(()=>{if(!t?.length)return[];const I=t.filter(z=>z.date>=T&&z.date<=w),R={};I.forEach(z=>{R[z.date]||(R[z.date]={date:z.date,calories:0,purines:0,protein:0,carbs:0,fat:0,fiber:0,sodium:0,sugar:0}),z.total_nutrients&&Object.keys(R[z.date]).forEach($=>{$!=="date"&&z.total_nutrients[$]&&(R[z.date][$]+=z.total_nutrients[$])})});let k=Object.values(R).sort((z,$)=>z.date.localeCompare($.date));if(l!=="daily"){const z=[],$=II[l].days;for(let re=0;re<k.length;re+=$){const F=k.slice(re,re+$);if(F.length>0){const V={date:F[0].date};Object.keys(Li).forEach(de=>{V[de]=F.reduce((pe,_e)=>pe+(_e[de]||0),0)/F.length}),z.push(V)}}k=z}return k.map(z=>({...z,displayDate:Fle(z.date,l)}))},[t,T,w,l]),C=I=>{_(R=>({...R,[I]:!R[I]}))},O=()=>{if(!E.length)return;const I=["Date",...Object.keys(Li).map(F=>ji[F].label)],R=E.map(F=>[F.date,...Object.keys(Li).map(V=>Math.round(F[V]||0))]),k=[I.join(","),...R.map(F=>F.join(","))].join(`
`),z=new Blob([k],{type:"text/csv"}),$=URL.createObjectURL(z),re=document.createElement("a");re.href=$,re.download=`nutrition-data-${T}-to-${w}.csv`,re.click(),URL.revokeObjectURL($)},P=I=>{switch(I){case"calories":return r.calories_max;case"purines":return r.purines_max;case"protein":return r.protein_target;case"carbs":return r.carbs_target;case"fat":return r.fat_target;case"fiber":return r.fiber_target;case"sodium":return r.sodium_max;case"sugar":return r.sugar_max;default:return null}},D=Object.entries(v).filter(([,I])=>I).map(([I])=>I);return n?A.jsxs("div",{className:"page charts-page",children:[A.jsx(Qi,{title:"Dragon's Scroll",subtitle:"View your nutrition history"}),A.jsx("div",{className:"loading-container",children:A.jsx("p",{children:"Loading your scroll..."})})]}):A.jsxs("div",{className:"page charts-page",children:[A.jsx(Qi,{title:"Dragon's Scroll",subtitle:"View your nutrition history"}),A.jsxs("div",{className:"card chart-controls",children:[A.jsx("div",{className:"control-row",children:A.jsxs("div",{className:"control-group",children:[A.jsx("label",{children:"Time Period"}),A.jsx("div",{className:"button-group",children:Object.entries(OI).map(([I,{label:R}])=>A.jsx("button",{className:`btn ${i===I?"btn-primary":"btn-secondary"}`,onClick:()=>a(I),children:R},I))})]})}),i==="custom"&&A.jsxs("div",{className:"control-row custom-dates",children:[A.jsxs("div",{className:"date-input",children:[A.jsx("label",{children:"From"}),A.jsx("input",{type:"date",value:c,onChange:I=>d(I.target.value)})]}),A.jsxs("div",{className:"date-input",children:[A.jsx("label",{children:"To"}),A.jsx("input",{type:"date",value:h,onChange:I=>m(I.target.value)})]})]}),A.jsx("div",{className:"control-row",children:A.jsxs("div",{className:"control-group",children:[A.jsx("label",{children:"Group By"}),A.jsx("div",{className:"button-group",children:Object.entries(II).map(([I,{label:R}])=>A.jsx("button",{className:`btn btn-small ${l===I?"btn-primary":"btn-secondary"}`,onClick:()=>u(I),children:R},I))})]})})]}),A.jsxs("div",{className:"card nutrient-toggles",children:[A.jsx("label",{children:"Nutrients"}),A.jsx("div",{className:"toggle-grid",children:Object.entries(ji).filter(([I])=>I!=="hydration").map(([I,{icon:R,label:k}])=>A.jsxs("button",{className:`nutrient-toggle ${v[I]?"active":""}`,style:{borderColor:v[I]?Li[I]:"var(--color-border)",backgroundColor:v[I]?`${Li[I]}20`:"transparent"},onClick:()=>C(I),children:[A.jsx("span",{className:"nutrient-icon",children:R}),A.jsx("span",{className:"nutrient-label",children:k})]},I))})]}),A.jsx("div",{className:"card chart-container",children:E.length>0?A.jsx(cW,{width:"100%",height:300,children:A.jsxs(Ble,{data:E,margin:{top:20,right:20,left:0,bottom:5},children:[A.jsx(nU,{strokeDasharray:"3 3",stroke:"var(--color-border)"}),A.jsx(fU,{dataKey:"displayDate",tick:{fill:"var(--color-text-secondary)",fontSize:12},tickLine:{stroke:"var(--color-border)"}}),A.jsx(dU,{tick:{fill:"var(--color-text-secondary)",fontSize:12},tickLine:{stroke:"var(--color-border)"}}),A.jsx(gre,{content:A.jsx(Hle,{})}),A.jsx(nk,{}),D.map(I=>{const R=P(I);return R?A.jsx(ZL,{y:R,stroke:Li[I],strokeDasharray:"5 5",strokeOpacity:.6},`ref-${I}`):null}),Object.entries(v).map(([I,R])=>R?A.jsx(uU,{type:"monotone",dataKey:I,name:ji[I].label,stroke:Li[I],strokeWidth:2,dot:{fill:Li[I],strokeWidth:0,r:4},activeDot:{r:6,strokeWidth:2}},I):null)]})}):A.jsxs("div",{className:"no-data",children:[A.jsx("p",{className:"text-muted",children:"No data for selected period"}),A.jsx("p",{className:"text-small",children:"Log some meals to see your nutrition trends!"})]})}),E.length>0&&A.jsxs("div",{className:"card chart-legend",children:[A.jsx("h3",{children:"Daily Targets"}),A.jsx("div",{className:"legend-grid",children:D.map(I=>{const R=P(I);return R?A.jsxs("div",{className:"legend-item",children:[A.jsx("span",{className:"legend-color",style:{backgroundColor:Li[I]}}),A.jsxs("span",{className:"legend-label",children:[ji[I].icon," ",ji[I].label]}),A.jsxs("span",{className:"legend-value",children:[R,ji[I].unit]})]},I):null})})]}),E.length>0&&A.jsx("button",{className:"btn btn-secondary export-btn",onClick:O,children:" Export Scroll as CSV"})]})}function Vle(){return A.jsxs("div",{className:"page oracle-page",children:[A.jsx(Qi,{title:"Dragon Oracle",subtitle:"Get meal recommendations"}),A.jsxs("div",{className:"coming-soon card",children:[A.jsx(x0,{state:"curious"}),A.jsx("h2",{children:"Coming Soon!"}),A.jsx("p",{className:"text-muted",children:"The Dragon Oracle will suggest meals based on your remaining nutrition budget."}),A.jsxs("ul",{className:"feature-list",children:[A.jsx("li",{children:" Familiar meals you love"}),A.jsx("li",{children:" Twisted versions of favorites"}),A.jsx("li",{children:" Wild new adventures"}),A.jsx("li",{children:" AI-powered recommendations"})]})]})]})}function Kle(){const e=Wh(),{user:t,isLoading:n,updateProfile:r,updateThresholds:i,updateTheme:a,saveUser:l}=eo(),{savedMeals:u,bottles:c}=r_(),{totalMeals:d,calculateStreak:h}=BN(),{ingredients:m,allMeals:v,updateIngredient:_,deleteIngredient:T,findMealsWithIngredient:w,propagateToMeals:E,getIngredientUsageCount:C,backfillFromMeals:O,renameIngredientInMeals:P}=FN(),[D,I]=x.useState({name:"Dragon Keeper",sex:"male",age:30,weight_kg:75,height_cm:175,activity_level:"moderate",dietary_conditions:[]}),[R,k]=x.useState(Wd),[z,$]=x.useState("emerald"),[re,F]=x.useState("#66BB6A"),[V,de]=x.useState(!1),[pe,_e]=x.useState(!1),[B,ee]=x.useState(""),[se,ue]=x.useState(!1),[Ce,U]=x.useState(k0()?"saved":"none"),[W,le]=x.useState(!1),[ce,te]=x.useState(""),[fe,we]=x.useState(null),[Pe,Q]=x.useState({}),[xe,Oe]=x.useState("none"),[oe,ht]=x.useState(!1),[Re,_t]=x.useState(!1),[St,We]=x.useState(!1),[vn,ma]=x.useState(!1),[Ot,di]=x.useState([]);x.useEffect(()=>{W&&!St&&!Re&&m.length===0&&v.length>0&&(_t(!0),O().then(Le=>{console.log(" Backfill complete:",Le),We(!0)}).catch(Le=>console.error("Backfill failed:",Le)).finally(()=>_t(!1)))},[W,St,Re,m.length,v.length,O]),x.useEffect(()=>{t&&(I({name:t.name||"Dragon Keeper",...t.profile}),k(t.thresholds||Wd),$(t.theme?.preset||"emerald"),F(t.theme?.seed_color_hex||"#66BB6A"))},[t]);const Rl=()=>{const J=gH(D);k(J),_e(!0)},xn=(J,Le)=>{k(Vt=>({...Vt,[J]:Number(Le)})),_e(!0)},yt=J=>{I(Le=>({...Le,...J})),_e(!0)},Qo=async J=>{$(J);const Le=Qu[J],Vt=No(Le.seedColor,Le.isDark);Do(Vt),await a(J,Le.seedColor)},ga=async J=>{F(J),$("custom");const Le=No(J,!1);Do(Le),await a("custom",J)},Zo=()=>{B.trim()&&(X8(B.trim()),U("saved"),ee(""),ue(!1),alert("AI API key saved! Your dragon can now analyze meals. "))},va=()=>{confirm("Remove your AI API key? Your dragon won't be able to analyze meals.")&&(Q8(),U("none"),ee(""))},kl=async()=>{const J={...t,name:D.name,profile:{sex:D.sex,age:D.age,weight_kg:D.weight_kg,height_cm:D.height_cm,activity_level:D.activity_level,dietary_conditions:D.dietary_conditions},thresholds:R};await r(J.profile),await i(R),await l(J),_e(!1),alert("Dragon's settings saved! ")},es=J=>{we(J),Q({calories:J.nutrients_per_100g?.calories||0,purines:J.nutrients_per_100g?.purines||0,protein:J.nutrients_per_100g?.protein||0,carbs:J.nutrients_per_100g?.carbs||0,fat:J.nutrients_per_100g?.fat||0,fiber:J.nutrients_per_100g?.fiber||0,sodium:J.nutrients_per_100g?.sodium||0,sugar:J.nutrients_per_100g?.sugar||0}),Oe("none")},Ll=async()=>{if(!fe)return;const J={calories:parseFloat(Pe.calories)||0,purines:parseFloat(Pe.purines)||0,protein:parseFloat(Pe.protein)||0,carbs:parseFloat(Pe.carbs)||0,fat:parseFloat(Pe.fat)||0,fiber:parseFloat(Pe.fiber)||0,sodium:parseFloat(Pe.sodium)||0,sugar:parseFloat(Pe.sugar)||0};if(await _(fe.normalized_name,{nutrients_per_100g:J}),xe!=="none"){ht(!0);const Le=xe==="all"?null:xe,Vt=await E(fe.normalized_name,J,Le);ht(!1),alert(`Updated ${Vt.updated} meals with new values! `)}else alert("Ingredient updated! Future meals will use the new values. ");we(null)},ts=async J=>{const Le=C(J.normalized_name),Vt=Le>0?`Delete "${J.display_name}"? It's used in ${Le} meals. The AI will re-analyze it next time.`:`Delete "${J.display_name}" from the cache?`;confirm(Vt)&&await T(J.normalized_name)},hi=J=>{di(Le=>Le.includes(J)?Le.filter(Vt=>Vt!==J):[...Le,J])},rn=async()=>{if(Ot.length<2){alert("Select at least 2 ingredients to merge");return}const J=m.filter(ke=>Ot.includes(ke.normalized_name)),Le=J.map((ke,rt)=>`${rt+1}. ${ke.display_name} (${C(ke.normalized_name)} meals)`).join(`
`),Vt=prompt(`Which ingredient should be the PRIMARY (all others will be renamed to this)?

${Le}

Enter the number (1-${J.length}):`,"1");if(!Vt)return;const Nn=parseInt(Vt)-1;if(isNaN(Nn)||Nn<0||Nn>=J.length){alert("Invalid selection");return}const ur=J[Nn],pi=J.filter((ke,rt)=>rt!==Nn),ae=confirm(`Use averaged nutritional values?

OK = Average all selected ingredients
Cancel = Keep "${ur.display_name}" values`);let Se;if(ae){Se={};const ke=["calories","purines","protein","carbs","fat","fiber","sodium","sugar"];for(const rt of ke){const Kt=J.reduce((Rr,mi)=>Rr+(mi.nutrients_per_100g?.[rt]||0),0);Se[rt]=Math.round(Kt/J.length*10)/10}}else Se=ur.nutrients_per_100g;ht(!0);let Ne=0;for(const ke of pi){const rt=await P(ke.normalized_name,ur.display_name,Se);Ne+=rt.updated,await T(ke.normalized_name)}if(ae){await _(ur.normalized_name,{nutrients_per_100g:Se});const ke=await E(ur.normalized_name,Se,null);Ne+=ke.updated}ht(!1),di([]),ma(!1),alert(` Merged ${J.length} ingredients into "${ur.display_name}"!

 ${Ne} meals updated
 ${pi.length} duplicate(s) removed from cache`)},lr=()=>{ma(!1),di([])},jt=m.filter(J=>!ce||J.display_name?.toLowerCase().includes(ce.toLowerCase())||J.normalized_name?.toLowerCase().includes(ce.toLowerCase())).sort((J,Le)=>(Le.use_count||0)-(J.use_count||0));return n?A.jsxs("div",{className:"page settings-page",children:[A.jsx(Qi,{title:"Dragon's Lair",subtitle:"Loading..."}),A.jsxs("div",{className:"loading-state card",children:[A.jsx("div",{className:"spinner"}),A.jsx("p",{children:"Opening the lair..."})]})]}):A.jsxs("div",{className:"page settings-page",children:[A.jsx(Qi,{title:"Dragon's Lair",subtitle:"Configure your dragon's needs"}),A.jsxs("section",{className:"settings-section card",children:[A.jsx("h2",{className:"section-title",children:" Keeper's Profile"}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Name"}),A.jsx("input",{type:"text",value:D.name,onChange:J=>yt({name:J.target.value})})]}),A.jsxs("div",{className:"form-row",children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Sex"}),A.jsxs("select",{value:D.sex,onChange:J=>yt({sex:J.target.value}),children:[A.jsx("option",{value:"male",children:"Male"}),A.jsx("option",{value:"female",children:"Female"}),A.jsx("option",{value:"other",children:"Other"})]})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Age"}),A.jsx("input",{type:"number",value:D.age,onChange:J=>yt({age:parseInt(J.target.value)})})]})]}),A.jsxs("div",{className:"form-row",children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Weight (kg)"}),A.jsx("input",{type:"number",value:D.weight_kg,onChange:J=>yt({weight_kg:parseInt(J.target.value)})})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Height (cm)"}),A.jsx("input",{type:"number",value:D.height_cm,onChange:J=>yt({height_cm:parseInt(J.target.value)})})]})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Activity Level"}),A.jsxs("select",{value:D.activity_level,onChange:J=>yt({activity_level:J.target.value}),children:[A.jsx("option",{value:"sedentary",children:"Sedentary (little exercise)"}),A.jsx("option",{value:"light",children:"Light (1-3 days/week)"}),A.jsx("option",{value:"moderate",children:"Moderate (3-5 days/week)"}),A.jsx("option",{value:"active",children:"Active (6-7 days/week)"}),A.jsx("option",{value:"very_active",children:"Very Active (intense daily)"})]})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Dietary Conditions"}),A.jsx("div",{className:"checkbox-group",children:["gout","diabetes","kidney_disease","vegetarian","vegan"].map(J=>A.jsxs("label",{className:"checkbox-label",children:[A.jsx("input",{type:"checkbox",checked:D.dietary_conditions?.includes(J)||!1,onChange:Le=>{const Vt=Le.target.checked?[...D.dietary_conditions||[],J]:(D.dietary_conditions||[]).filter(Nn=>Nn!==J);yt({dietary_conditions:Vt})}}),A.jsx("span",{children:J.replace("_"," ")})]},J))})]}),A.jsx("button",{className:"btn btn-primary w-full",onClick:Rl,children:"Calculate Dragon's Needs "}),pe&&A.jsx("button",{className:"btn btn-primary w-full mt-sm",onClick:kl,children:" Save All Changes"})]}),A.jsxs("section",{className:"settings-section card",children:[A.jsx("h2",{className:"section-title",children:" Dragon's Hoard"}),A.jsx("p",{className:"text-muted",children:"Manage your saved meals and custom bottles."}),A.jsxs("div",{className:"stash-buttons",children:[A.jsxs("button",{className:"btn btn-secondary",onClick:()=>e("/stash"),children:[" Saved Meals (",u?.length||0,")"]}),A.jsxs("button",{className:"btn btn-secondary",onClick:()=>e("/stash?tab=bottles"),children:[" Custom Bottles (",c?.length||0,")"]})]})]}),A.jsxs("section",{className:"settings-section card",children:[A.jsxs("div",{className:"section-header-row",children:[A.jsx("h2",{className:"section-title",children:" Nutrition Thresholds"}),A.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>de(!V),children:V?"Done":"Edit"})]}),A.jsxs("div",{className:"threshold-row",children:[A.jsx("span",{className:"threshold-label",children:" Calories"}),V?A.jsxs("div",{className:"threshold-inputs",children:[A.jsx("input",{type:"number",value:R.calories_min,onChange:J=>xn("calories_min",J.target.value),className:"threshold-input"}),A.jsx("span",{children:"-"}),A.jsx("input",{type:"number",value:R.calories_max,onChange:J=>xn("calories_max",J.target.value),className:"threshold-input"}),A.jsx("span",{children:"kcal"})]}):A.jsxs("span",{className:"threshold-value",children:[R.calories_min," - ",R.calories_max," kcal"]})]}),A.jsxs("div",{className:"threshold-row",children:[A.jsx("span",{className:"threshold-label",children:" Purines"}),V?A.jsxs("div",{className:"threshold-inputs",children:[A.jsx("input",{type:"number",value:R.purines_max,onChange:J=>xn("purines_max",J.target.value),className:"threshold-input"}),A.jsx("span",{children:"mg max"})]}):A.jsxs("span",{className:"threshold-value",children:[R.purines_max," mg max"]})]}),A.jsxs("div",{className:"threshold-row",children:[A.jsx("span",{className:"threshold-label",children:" Protein"}),V?A.jsxs("div",{className:"threshold-inputs",children:[A.jsx("input",{type:"number",value:R.protein_target,onChange:J=>xn("protein_target",J.target.value),className:"threshold-input"}),A.jsx("span",{children:"g target"})]}):A.jsxs("span",{className:"threshold-value",children:[R.protein_target," g target"]})]}),A.jsxs("div",{className:"threshold-row",children:[A.jsx("span",{className:"threshold-label",children:" Carbs"}),V?A.jsxs("div",{className:"threshold-inputs",children:[A.jsx("input",{type:"number",value:R.carbs_target,onChange:J=>xn("carbs_target",J.target.value),className:"threshold-input"}),A.jsx("span",{children:"g target"})]}):A.jsxs("span",{className:"threshold-value",children:[R.carbs_target," g target"]})]}),A.jsxs("div",{className:"threshold-row",children:[A.jsx("span",{className:"threshold-label",children:" Fat"}),V?A.jsxs("div",{className:"threshold-inputs",children:[A.jsx("input",{type:"number",value:R.fat_target,onChange:J=>xn("fat_target",J.target.value),className:"threshold-input"}),A.jsx("span",{children:"g target"})]}):A.jsxs("span",{className:"threshold-value",children:[R.fat_target," g target"]})]}),A.jsxs("div",{className:"threshold-row",children:[A.jsx("span",{className:"threshold-label",children:" Fiber"}),V?A.jsxs("div",{className:"threshold-inputs",children:[A.jsx("input",{type:"number",value:R.fiber_target,onChange:J=>xn("fiber_target",J.target.value),className:"threshold-input"}),A.jsx("span",{children:"g target"})]}):A.jsxs("span",{className:"threshold-value",children:[R.fiber_target," g target"]})]}),A.jsxs("div",{className:"threshold-row",children:[A.jsx("span",{className:"threshold-label",children:" Sodium"}),V?A.jsxs("div",{className:"threshold-inputs",children:[A.jsx("input",{type:"number",value:R.sodium_max,onChange:J=>xn("sodium_max",J.target.value),className:"threshold-input"}),A.jsx("span",{children:"mg max"})]}):A.jsxs("span",{className:"threshold-value",children:[R.sodium_max," mg max"]})]}),A.jsxs("div",{className:"threshold-row",children:[A.jsx("span",{className:"threshold-label",children:" Sugar"}),V?A.jsxs("div",{className:"threshold-inputs",children:[A.jsx("input",{type:"number",value:R.sugar_max,onChange:J=>xn("sugar_max",J.target.value),className:"threshold-input"}),A.jsx("span",{children:"g max"})]}):A.jsxs("span",{className:"threshold-value",children:[R.sugar_max," g max"]})]}),A.jsxs("div",{className:"threshold-row",children:[A.jsx("span",{className:"threshold-label",children:" Hydration"}),V?A.jsxs("div",{className:"threshold-inputs",children:[A.jsx("input",{type:"number",value:R.hydration_target,onChange:J=>xn("hydration_target",J.target.value),className:"threshold-input"}),A.jsx("span",{children:"ml target"})]}):A.jsxs("span",{className:"threshold-value",children:[R.hydration_target," ml target"]})]}),V&&A.jsx("p",{className:"text-muted text-center mt-sm",children:`Tip: Use "Calculate Dragon's Needs" to auto-fill based on your profile.`})]}),A.jsxs("section",{className:"settings-section card",children:[A.jsx("h2",{className:"section-title",children:" Dragon Scale Theme"}),A.jsx("div",{className:"theme-presets",children:Object.entries(Qu).map(([J,Le])=>A.jsxs("button",{className:`theme-preset ${z===J?"active":""}`,onClick:()=>Qo(J),style:{"--preset-color":Le.seedColor},children:[A.jsx("span",{className:"preset-swatch",style:{background:Le.seedColor}}),A.jsx("span",{className:"preset-name",children:Le.name}),A.jsx("span",{className:"preset-desc",children:Le.description})]},J))}),A.jsxs("div",{className:"custom-color-section",children:[A.jsx("label",{children:"Custom Dragon Scale Color"}),A.jsxs("div",{className:"color-picker-row",children:[A.jsx("input",{type:"color",value:re,onChange:J=>ga(J.target.value),className:"color-picker"}),A.jsx("input",{type:"text",value:re,onChange:J=>ga(J.target.value),className:"color-input",placeholder:"#66BB6A"})]})]}),A.jsxs("div",{className:"theme-preview card",children:[A.jsx("p",{className:"preview-label",children:"Preview"}),A.jsxs("div",{className:"preview-content",children:[A.jsx("div",{className:"preview-text",children:"Sample text"}),A.jsx("button",{className:"btn btn-primary",children:"Button"}),A.jsx("div",{className:"progress-bar",children:A.jsx("div",{className:"progress-bar-fill success",style:{width:"60%"}})})]})]})]}),A.jsxs("section",{className:"settings-section card",children:[A.jsx("h2",{className:"section-title",children:" Dragon Statistics"}),A.jsxs("div",{className:"stats-grid",children:[A.jsxs("div",{className:"stat-item",children:[A.jsx("span",{className:"stat-value",children:d}),A.jsx("span",{className:"stat-label",children:"Meals logged"})]}),A.jsxs("div",{className:"stat-item",children:[A.jsx("span",{className:"stat-value",children:h()}),A.jsx("span",{className:"stat-label",children:"Day streak "})]}),A.jsxs("div",{className:"stat-item",children:[A.jsx("span",{className:"stat-value",children:(u?.length||0)+(c?.length||0)}),A.jsx("span",{className:"stat-label",children:"In hoard"})]}),A.jsxs("div",{className:"stat-item",children:[A.jsx("span",{className:"stat-value",children:t?.badges?.length||0}),A.jsx("span",{className:"stat-label",children:"Badges"})]})]})]}),A.jsxs("section",{className:"settings-section card",children:[A.jsx("h2",{className:"section-title",children:" Ingredient Library"}),A.jsx("p",{className:"text-muted mb-md",children:"Manage cached ingredient data. Edit values to fix AI mistakes and optionally update past meals."}),A.jsx("div",{className:"stats-grid mb-md",children:A.jsxs("div",{className:"stat-item",children:[A.jsx("span",{className:"stat-value",children:m.length}),A.jsx("span",{className:"stat-label",children:"Cached ingredients"})]})}),A.jsx("button",{className:"btn btn-secondary w-full",onClick:()=>le(!0),children:" Manage Ingredients"})]}),W&&A.jsx("div",{className:"modal-overlay",onClick:()=>!fe&&le(!1),children:A.jsxs("div",{className:"modal ingredient-manager-modal",onClick:J=>J.stopPropagation(),children:[A.jsxs("div",{className:"modal-header",children:[A.jsx("h2",{children:fe?`Edit: ${fe.display_name}`:" Ingredient Library"}),A.jsx("button",{className:"modal-close",onClick:()=>{we(null),le(!1)},children:""})]}),fe?A.jsxs("div",{className:"modal-body",children:[A.jsxs("p",{className:"text-muted mb-md",children:["Edit nutritional values per 100g. Used in ",C(fe.normalized_name)," meals."]}),A.jsxs("div",{className:"nutrient-edit-grid",children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:" Calories"}),A.jsx("input",{type:"number",value:Pe.calories,onChange:J=>Q({...Pe,calories:J.target.value})})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:" Purines (mg)"}),A.jsx("input",{type:"number",value:Pe.purines,onChange:J=>Q({...Pe,purines:J.target.value})})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:" Protein (g)"}),A.jsx("input",{type:"number",step:"0.1",value:Pe.protein,onChange:J=>Q({...Pe,protein:J.target.value})})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:" Carbs (g)"}),A.jsx("input",{type:"number",step:"0.1",value:Pe.carbs,onChange:J=>Q({...Pe,carbs:J.target.value})})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:" Fat (g)"}),A.jsx("input",{type:"number",step:"0.1",value:Pe.fat,onChange:J=>Q({...Pe,fat:J.target.value})})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:" Fiber (g)"}),A.jsx("input",{type:"number",step:"0.1",value:Pe.fiber,onChange:J=>Q({...Pe,fiber:J.target.value})})]})]}),A.jsxs("div",{className:"form-group mt-md",children:[A.jsx("label",{children:"Apply changes to past meals?"}),A.jsxs("select",{value:xe,onChange:J=>Oe(J.target.value),className:"w-full",children:[A.jsx("option",{value:"none",children:"Don't update past meals"}),A.jsx("option",{value:"week",children:"Update meals from this week"}),A.jsx("option",{value:"month",children:"Update meals from this month"}),A.jsx("option",{value:"all",children:"Update ALL meals with this ingredient"})]}),xe!=="none"&&A.jsxs("p",{className:"text-warning text-sm mt-sm",children:[" This will recalculate totals for ",w(fe.normalized_name,xe==="all"?null:xe).length," meals"]})]}),A.jsxs("div",{className:"modal-actions mt-md",children:[A.jsx("button",{className:"btn btn-secondary",onClick:()=>we(null),children:"Cancel"}),A.jsx("button",{className:"btn btn-primary",onClick:Ll,disabled:oe,children:oe?"Updating...":" Save Changes"})]})]}):A.jsxs("div",{className:"modal-body",children:[A.jsxs("div",{className:"ingredient-toolbar mb-md",children:[A.jsx("input",{type:"text",placeholder:" Search ingredients...",value:ce,onChange:J=>te(J.target.value),className:"search-input flex-1"}),vn?A.jsxs(A.Fragment,{children:[A.jsx("button",{className:"btn btn-primary btn-sm ml-sm",onClick:rn,disabled:Ot.length<2||oe,children:oe?"...":` Merge ${Ot.length}`}),A.jsx("button",{className:"btn btn-secondary btn-sm ml-sm",onClick:lr,children:""})]}):A.jsx("button",{className:"btn btn-secondary btn-sm ml-sm",onClick:()=>ma(!0),disabled:jt.length<2,children:" Merge"})]}),vn&&A.jsx("p",{className:"text-muted text-sm mb-sm",children:"Select 2+ ingredients to merge (duplicates in different languages, etc.)"}),Re?A.jsxs("div",{className:"empty-state",children:[A.jsx("p",{children:" Scanning meals for ingredients..."}),A.jsxs("p",{className:"text-muted",children:["Building your ingredient library from ",v.length," logged meals."]})]}):jt.length===0?A.jsxs("div",{className:"empty-state",children:[A.jsx("p",{children:"No ingredients cached yet."}),A.jsx("p",{className:"text-muted",children:"Log some meals and the AI will cache ingredients automatically."})]}):A.jsx("div",{className:"ingredient-list",children:jt.map(J=>A.jsxs("div",{className:`ingredient-item ${vn&&Ot.includes(J.normalized_name)?"selected":""}`,onClick:vn?()=>hi(J.normalized_name):void 0,style:vn?{cursor:"pointer"}:void 0,children:[vn&&A.jsx("span",{className:"merge-checkbox",children:Ot.includes(J.normalized_name)?"":""}),A.jsxs("div",{className:"ingredient-info",children:[A.jsx("span",{className:"ingredient-name",children:J.display_name}),A.jsxs("span",{className:"ingredient-stats text-muted",children:[J.nutrients_per_100g?.purines||0,"mg purines/100g  Used in ",C(J.normalized_name)," meals"]})]}),!vn&&A.jsxs("div",{className:"ingredient-actions",children:[A.jsx("button",{className:"btn btn-sm btn-secondary",onClick:()=>es(J),children:""}),A.jsx("button",{className:"btn btn-sm btn-secondary",onClick:()=>ts(J),children:""})]})]},J.normalized_name))})]})]})}),A.jsxs("section",{className:"settings-section card",children:[A.jsx("h2",{className:"section-title",children:" Dragon's Intelligence"}),A.jsx("p",{className:"text-muted mb-md",children:"Connect your dragon to Google's AI to automatically analyze meals from text descriptions or photos."}),Ce==="saved"?A.jsxs("div",{className:"api-key-status",children:[A.jsx("div",{className:"status-badge success",children:A.jsx("span",{children:" AI Connected"})}),A.jsx("p",{className:"text-muted text-sm mt-sm",children:"Your dragon can analyze meals. Key stored locally on this device."}),A.jsx("button",{className:"btn btn-secondary btn-danger-outline mt-sm",onClick:va,children:" Remove API Key"})]}):A.jsxs("div",{className:"api-key-form",children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Google AI Studio API Key"}),A.jsxs("div",{className:"input-with-toggle",children:[A.jsx("input",{type:se?"text":"password",value:B,onChange:J=>ee(J.target.value),placeholder:"AIza...",className:"api-key-input"}),A.jsx("button",{type:"button",className:"toggle-visibility",onClick:()=>ue(!se),children:se?"":""})]}),A.jsxs("p",{className:"input-help",children:["Get your free key at"," ",A.jsx("a",{href:"https://aistudio.google.com/apikey",target:"_blank",rel:"noopener noreferrer",children:"Google AI Studio "})]})]}),A.jsx("button",{className:"btn btn-primary w-full",onClick:Zo,disabled:!B.trim(),children:" Save API Key"})]})]}),A.jsxs("section",{className:"settings-section card",children:[A.jsx("h2",{className:"section-title",children:" About"}),A.jsxs("p",{className:"text-center text-muted",children:["Purine Control v1.0.0",A.jsx("br",{}),`"The Dragon Keeper's Nutrition Tracker"`]}),A.jsx("p",{className:"text-center text-muted mt-md",children:"Made with  for your dragon"})]})]})}const Yle=[{id:"default-1",name:"Water Glass",capacity_ml:250,icon:"",type:"container"},{id:"default-2",name:"Water Bottle",capacity_ml:500,icon:"",type:"container"},{id:"default-3",name:"Dragon Chalice",capacity_ml:750,icon:"",type:"container"}],Wle=[{key:"meals",label:" Saved Meals",icon:""},{key:"bottles",label:" Bottles",icon:""}],Jle=["","","","","","","",""];function Xle(){const e=Wh(),[t,n]=cB(),r=t.get("tab")||"meals",[i,a]=x.useState(r),[l,u]=x.useState(""),[c,d]=x.useState(!1),[h,m]=x.useState(null),[v,_]=x.useState(""),[T,w]=x.useState(""),[E,C]=x.useState(250),[O,P]=x.useState({calories:0,purines:0,protein:0,carbs:0,fat:0}),{savedMeals:D,bottles:I,isLoading:R,addToStash:k,removeFromStash:z,updateStashItem:$}=r_(),{adjustHydration:re}=$N(),{addMeal:F}=n_(),{meals:V}=BN(),de=x.useMemo(()=>te=>V.filter(fe=>fe.meal_name===te).length,[V]),pe=[...Yle,...I],_e=te=>{a(te),n({tab:te})},B=async te=>{const fe=te.capacity_ml||te.amount_ml;await re(fe),alert(`Added ${fe}ml to hydration! `)},ee=async te=>{await F({meal_type:"snack",meal_name:te.name,ingredients:te.ingredients||[],total_nutrients:te.total_nutrients||{}}),alert(`${te.name} added to diary! `),e("/")},se=async te=>{confirm("Remove this item from your hoard?")&&await z(te)},ue=()=>{_(""),w(""),C(250),P({calories:0,purines:0,protein:0,carbs:0,fat:0}),m(null),d(!1)},Ce=()=>{ue(),d(!0)},U=te=>{m(te),_(te.name||""),w(te.icon||""),C(te.capacity_ml||te.amount_ml||250),P(te.nutrients||te.total_nutrients||{calories:0,purines:0,protein:0,carbs:0,fat:0}),d(!0)},W=async()=>{if(!v.trim()){alert("Please enter a name");return}const te=h?.id?.startsWith("default-");if(h&&!te){const fe={name:v};i==="bottles"&&(fe.icon=T,fe.capacity_ml=E),await $(h.id,fe),alert("Item updated! ")}else{const fe=i==="meals"?"meal":"container",we={type:fe,name:v,icon:T,capacity_ml:fe==="container"?E:void 0,ingredients:fe==="meal"?h?.ingredients||[]:void 0,total_nutrients:fe==="meal"?O:void 0,use_count:0};await k(we),alert(te?"Custom bottle created! ":"Added to your hoard! ")}ue()},le=D.filter(te=>te.name?.toLowerCase().includes(l.toLowerCase())),ce=pe.filter(te=>te.name?.toLowerCase().includes(l.toLowerCase()));return R?A.jsxs("div",{className:"page stash-page",children:[A.jsx(Qi,{title:"Dragon's Hoard",subtitle:"Loading...",showBack:!0,onBack:()=>e("/settings")}),A.jsxs("div",{className:"loading-state card",children:[A.jsx("div",{className:"spinner"}),A.jsx("p",{children:"Opening the hoard..."})]})]}):A.jsxs("div",{className:"page stash-page",children:[A.jsx(Qi,{title:"Dragon's Hoard",subtitle:"Your saved meals and custom ingredients",showBack:!0,onBack:()=>e("/settings")}),A.jsx("div",{className:"stash-tabs",children:Wle.map(te=>A.jsx("button",{className:`stash-tab ${i===te.key?"active":""}`,onClick:()=>_e(te.key),children:te.label},te.key))}),A.jsx("div",{className:"stash-search",children:A.jsx("input",{type:"text",placeholder:`Search ${i==="meals"?"meals":"ingredients"}...`,value:l,onChange:te=>u(te.target.value)})}),i==="meals"&&A.jsxs("section",{className:"stash-content",children:[le.length===0?A.jsxs("div",{className:"empty-state card",children:[A.jsx("p",{children:" No saved meals yet!"}),A.jsx("p",{className:"text-muted",children:"Save meals from your diary to reuse them."})]}):A.jsx("div",{className:"stash-list",children:le.map(te=>A.jsxs("div",{className:"stash-item card",children:[A.jsxs("div",{className:"stash-item-header",children:[A.jsx("h3",{children:te.name}),A.jsxs("span",{className:"use-count",children:["Used ",de(te.name),"x"]})]}),A.jsx("p",{className:"stash-item-ingredients",children:Array.isArray(te.ingredients)?te.ingredients.map(fe=>typeof fe=="string"?fe:fe.name).join(", "):"No ingredients"}),A.jsxs("div",{className:"stash-item-nutrients",children:[A.jsxs("span",{children:[" ",te.total_nutrients?.calories||0," cal"]}),A.jsxs("span",{children:[" ",te.total_nutrients?.purines||0,"mg"]}),A.jsxs("span",{children:[" ",te.total_nutrients?.protein||0,"g"]})]}),A.jsxs("div",{className:"stash-item-actions",children:[A.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>ee(te),children:" Use"}),A.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>U(te),children:" Edit"}),A.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>se(te.id),children:""})]})]},te.id))}),A.jsx("button",{className:"btn btn-secondary w-full mt-md",onClick:Ce,children:" Create New Meal"})]}),i==="bottles"&&A.jsxs("section",{className:"stash-content",children:[A.jsx("p",{className:"text-muted",children:"Custom hydration containers for quick logging."}),ce.length===0?A.jsxs("div",{className:"empty-state card",children:[A.jsx("p",{children:" No custom bottles yet!"}),A.jsx("p",{className:"text-muted",children:"Add your favorite containers."})]}):A.jsx("div",{className:"stash-list",children:ce.map(te=>A.jsxs("div",{className:"stash-item card bottle-item",children:[A.jsxs("div",{className:"bottle-info",children:[A.jsx("span",{className:"bottle-icon",children:te.icon||""}),A.jsxs("div",{className:"bottle-details",children:[A.jsx("h3",{children:te.name}),A.jsxs("span",{className:"bottle-amount",children:[te.capacity_ml||te.amount_ml," ml"]})]})]}),A.jsxs("div",{className:"stash-item-actions",children:[A.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>B(te),children:" Use"}),A.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>U(te),children:""}),!te.id.startsWith("default-")&&A.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>se(te.id),children:""})]})]},te.id))}),A.jsx("button",{className:"btn btn-secondary w-full mt-md",onClick:Ce,children:" Add Custom Bottle"})]}),c&&A.jsx("div",{className:"modal-overlay",onClick:ue,children:A.jsxs("div",{className:"modal-content card",onClick:te=>te.stopPropagation(),children:[A.jsxs("h2",{children:[h?" Edit":" Create"," ",i==="meals"?"Meal":i==="ingredients"?"Ingredient":"Bottle"]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Name"}),A.jsx("input",{type:"text",value:v,onChange:te=>_(te.target.value),placeholder:`e.g., ${i==="meals"?"Chicken Salad":i==="ingredients"?"Olive Oil":"Sports Bottle"}`})]}),i==="bottles"&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Icon"}),A.jsx("div",{className:"icon-picker",children:Jle.map(te=>A.jsx("button",{type:"button",className:`icon-btn ${T===te?"active":""}`,onClick:()=>w(te),children:te},te))})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Capacity (ml)"}),A.jsx("input",{type:"number",value:E,onChange:te=>C(parseInt(te.target.value)||0),min:"0",step:"50"})]})]}),A.jsxs("div",{className:"modal-actions",children:[A.jsx("button",{className:"btn btn-secondary",onClick:ue,children:"Cancel"}),A.jsxs("button",{className:"btn btn-primary",onClick:W,children:[" ",h?"Update":"Save"]})]})]})})]})}function Qle(){return A.jsx(_H,{children:A.jsx(oB,{basename:"/purine-control",children:A.jsxs("div",{className:"app",children:[A.jsxs(Lz,{children:[A.jsx(Fs,{path:"/",element:A.jsx(oK,{})}),A.jsx(Fs,{path:"/charts",element:A.jsx(Gle,{})}),A.jsx(Fs,{path:"/oracle",element:A.jsx(Vle,{})}),A.jsx(Fs,{path:"/settings",element:A.jsx(Kle,{})}),A.jsx(Fs,{path:"/stash",element:A.jsx(Xle,{})})]}),A.jsx(TH,{})]})})})}Gq.createRoot(document.getElementById("root")).render(A.jsx(x.StrictMode,{children:A.jsx(Qle,{})}));
