function kq(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function fa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dy={exports:{}},Iu={};var Vx;function Lq(){if(Vx)return Iu;Vx=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:a}}return Iu.Fragment=t,Iu.jsx=n,Iu.jsxs=n,Iu}var Kx;function Uq(){return Kx||(Kx=1,dy.exports=Lq()),dy.exports}var A=Uq(),hy={exports:{}},Ne={};var Yx;function jq(){if(Yx)return Ne;Yx=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),y=Symbol.iterator;function _(U){return U===null||typeof U!="object"?null:(U=y&&U[y]||U["@@iterator"],typeof U=="function"?U:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function C(U,X,se){this.props=U,this.context=X,this.refs=E,this.updater=se||T}C.prototype.isReactComponent={},C.prototype.setState=function(U,X){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,X,"setState")},C.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function N(){}N.prototype=C.prototype;function P(U,X,se){this.props=U,this.context=X,this.refs=E,this.updater=se||T}var D=P.prototype=new N;D.constructor=P,w(D,C.prototype),D.isPureReactComponent=!0;var O=Array.isArray;function R(){}var k={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function G(U,X,se){var ce=se.ref;return{$$typeof:e,type:U,key:X,ref:ce!==void 0?ce:null,props:se}}function H(U,X){return G(U.type,X,U.props)}function $(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function F(U){var X={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(se){return X[se]})}var fe=/\/+/g;function me(U,X){return typeof U=="object"&&U!==null&&U.key!=null?F(""+U.key):X.toString(36)}function Se(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(R,R):(U.status="pending",U.then(function(X){U.status==="pending"&&(U.status="fulfilled",U.value=X)},function(X){U.status==="pending"&&(U.status="rejected",U.reason=X)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function B(U,X,se,ce,re){var he=typeof U;(he==="undefined"||he==="boolean")&&(U=null);var Ee=!1;if(U===null)Ee=!0;else switch(he){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(U.$$typeof){case e:case t:Ee=!0;break;case h:return Ee=U._init,B(Ee(U._payload),X,se,ce,re)}}if(Ee)return re=re(U),Ee=ce===""?"."+me(U,0):ce,O(re)?(se="",Ee!=null&&(se=Ee.replace(fe,"$&/")+"/"),B(re,X,se,"",function(we){return we})):re!=null&&($(re)&&(re=H(re,se+(re.key==null||U&&U.key===re.key?"":(""+re.key).replace(fe,"$&/")+"/")+Ee)),X.push(re)),1;Ee=0;var Ie=ce===""?".":ce+":";if(O(U))for(var ee=0;ee<U.length;ee++)ce=U[ee],he=Ie+me(ce,ee),Ee+=B(ce,X,se,he,re);else if(ee=_(U),typeof ee=="function")for(U=ee.call(U),ee=0;!(ce=U.next()).done;)ce=ce.value,he=Ie+me(ce,ee++),Ee+=B(ce,X,se,he,re);else if(he==="object"){if(typeof U.then=="function")return B(Se(U),X,se,ce,re);throw X=String(U),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function ne(U,X,se){if(U==null)return U;var ce=[],re=0;return B(U,ce,"","",function(he){return X.call(se,he,re++)}),ce}function le(U){if(U._status===-1){var X=U._result;X=X(),X.then(function(se){(U._status===0||U._status===-1)&&(U._status=1,U._result=se)},function(se){(U._status===0||U._status===-1)&&(U._status=2,U._result=se)}),U._status===-1&&(U._status=0,U._result=X)}if(U._status===1)return U._result.default;throw U._result}var ue=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Me={map:ne,forEach:function(U,X,se){ne(U,function(){X.apply(this,arguments)},se)},count:function(U){var X=0;return ne(U,function(){X++}),X},toArray:function(U){return ne(U,function(X){return X})||[]},only:function(U){if(!$(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Ne.Activity=m,Ne.Children=Me,Ne.Component=C,Ne.Fragment=n,Ne.Profiler=i,Ne.PureComponent=P,Ne.StrictMode=r,Ne.Suspense=c,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(U){return k.H.useMemoCache(U)}},Ne.cache=function(U){return function(){return U.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(U,X,se){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ce=w({},U.props),re=U.key;if(X!=null)for(he in X.key!==void 0&&(re=""+X.key),X)!q.call(X,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&X.ref===void 0||(ce[he]=X[he]);var he=arguments.length-2;if(he===1)ce.children=se;else if(1<he){for(var Ee=Array(he),Ie=0;Ie<he;Ie++)Ee[Ie]=arguments[Ie+2];ce.children=Ee}return G(U.type,re,ce)},Ne.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:a,_context:U},U},Ne.createElement=function(U,X,se){var ce,re={},he=null;if(X!=null)for(ce in X.key!==void 0&&(he=""+X.key),X)q.call(X,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(re[ce]=X[ce]);var Ee=arguments.length-2;if(Ee===1)re.children=se;else if(1<Ee){for(var Ie=Array(Ee),ee=0;ee<Ee;ee++)Ie[ee]=arguments[ee+2];re.children=Ie}if(U&&U.defaultProps)for(ce in Ee=U.defaultProps,Ee)re[ce]===void 0&&(re[ce]=Ee[ce]);return G(U,he,re)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(U){return{$$typeof:u,render:U}},Ne.isValidElement=$,Ne.lazy=function(U){return{$$typeof:h,_payload:{_status:-1,_result:U},_init:le}},Ne.memo=function(U,X){return{$$typeof:d,type:U,compare:X===void 0?null:X}},Ne.startTransition=function(U){var X=k.T,se={};k.T=se;try{var ce=U(),re=k.S;re!==null&&re(se,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(R,ue)}catch(he){ue(he)}finally{X!==null&&se.types!==null&&(X.types=se.types),k.T=X}},Ne.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Ne.use=function(U){return k.H.use(U)},Ne.useActionState=function(U,X,se){return k.H.useActionState(U,X,se)},Ne.useCallback=function(U,X){return k.H.useCallback(U,X)},Ne.useContext=function(U){return k.H.useContext(U)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(U,X){return k.H.useDeferredValue(U,X)},Ne.useEffect=function(U,X){return k.H.useEffect(U,X)},Ne.useEffectEvent=function(U){return k.H.useEffectEvent(U)},Ne.useId=function(){return k.H.useId()},Ne.useImperativeHandle=function(U,X,se){return k.H.useImperativeHandle(U,X,se)},Ne.useInsertionEffect=function(U,X){return k.H.useInsertionEffect(U,X)},Ne.useLayoutEffect=function(U,X){return k.H.useLayoutEffect(U,X)},Ne.useMemo=function(U,X){return k.H.useMemo(U,X)},Ne.useOptimistic=function(U,X){return k.H.useOptimistic(U,X)},Ne.useReducer=function(U,X,se){return k.H.useReducer(U,X,se)},Ne.useRef=function(U){return k.H.useRef(U)},Ne.useState=function(U){return k.H.useState(U)},Ne.useSyncExternalStore=function(U,X,se){return k.H.useSyncExternalStore(U,X,se)},Ne.useTransition=function(){return k.H.useTransition()},Ne.version="19.2.0",Ne}var Wx;function bl(){return Wx||(Wx=1,hy.exports=jq()),hy.exports}var x=bl();const qq=fa(x),zq=kq({__proto__:null,default:qq},[x]);var py={exports:{}},Du={},my={exports:{}},gy={};var Jx;function $q(){return Jx||(Jx=1,(function(e){function t(B,ne){var le=B.length;B.push(ne);e:for(;0<le;){var ue=le-1>>>1,Me=B[ue];if(0<i(Me,ne))B[ue]=ne,B[le]=Me,le=ue;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var ne=B[0],le=B.pop();if(le!==ne){B[0]=le;e:for(var ue=0,Me=B.length,U=Me>>>1;ue<U;){var X=2*(ue+1)-1,se=B[X],ce=X+1,re=B[ce];if(0>i(se,le))ce<Me&&0>i(re,se)?(B[ue]=re,B[ce]=le,ue=ce):(B[ue]=se,B[X]=le,ue=X);else if(ce<Me&&0>i(re,le))B[ue]=re,B[ce]=le,ue=ce;else break e}}return ne}function i(B,ne){var le=B.sortIndex-ne.sortIndex;return le!==0?le:B.id-ne.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var c=[],d=[],h=1,m=null,y=3,_=!1,T=!1,w=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function D(B){for(var ne=n(d);ne!==null;){if(ne.callback===null)r(d);else if(ne.startTime<=B)r(d),ne.sortIndex=ne.expirationTime,t(c,ne);else break;ne=n(d)}}function O(B){if(w=!1,D(B),!T)if(n(c)!==null)T=!0,R||(R=!0,F());else{var ne=n(d);ne!==null&&Se(O,ne.startTime-B)}}var R=!1,k=-1,q=5,G=-1;function H(){return E?!0:!(e.unstable_now()-G<q)}function $(){if(E=!1,R){var B=e.unstable_now();G=B;var ne=!0;try{e:{T=!1,w&&(w=!1,N(k),k=-1),_=!0;var le=y;try{t:{for(D(B),m=n(c);m!==null&&!(m.expirationTime>B&&H());){var ue=m.callback;if(typeof ue=="function"){m.callback=null,y=m.priorityLevel;var Me=ue(m.expirationTime<=B);if(B=e.unstable_now(),typeof Me=="function"){m.callback=Me,D(B),ne=!0;break t}m===n(c)&&r(c),D(B)}else r(c);m=n(c)}if(m!==null)ne=!0;else{var U=n(d);U!==null&&Se(O,U.startTime-B),ne=!1}}break e}finally{m=null,y=le,_=!1}ne=void 0}}finally{ne?F():R=!1}}}var F;if(typeof P=="function")F=function(){P($)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,me=fe.port2;fe.port1.onmessage=$,F=function(){me.postMessage(null)}}else F=function(){C($,0)};function Se(B,ne){k=C(function(){B(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(B){switch(y){case 1:case 2:case 3:var ne=3;break;default:ne=y}var le=y;y=ne;try{return B()}finally{y=le}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(B,ne){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var le=y;y=B;try{return ne()}finally{y=le}},e.unstable_scheduleCallback=function(B,ne,le){var ue=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ue+le:ue):le=ue,B){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=le+Me,B={id:h++,callback:ne,priorityLevel:B,startTime:le,expirationTime:Me,sortIndex:-1},le>ue?(B.sortIndex=le,t(d,B),n(c)===null&&B===n(d)&&(w?(N(k),k=-1):w=!0,Se(O,le-ue))):(B.sortIndex=Me,t(c,B),T||_||(T=!0,R||(R=!0,F()))),B},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(B){var ne=y;return function(){var le=y;y=ne;try{return B.apply(this,arguments)}finally{y=le}}}})(gy)),gy}var Xx;function Bq(){return Xx||(Xx=1,my.exports=$q()),my.exports}var yy={exports:{}},gn={};var Qx;function Fq(){if(Qx)return gn;Qx=1;var e=bl();function t(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:c,containerInfo:d,implementation:h}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,gn.createPortal=function(c,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return a(c,d,null,h)},gn.flushSync=function(c){var d=l.T,h=r.p;try{if(l.T=null,r.p=2,c)return c()}finally{l.T=d,r.p=h,r.d.f()}},gn.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},gn.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},gn.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var h=d.as,m=u(h,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:_}):h==="script"&&r.d.X(c,{crossOrigin:m,integrity:y,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},gn.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=u(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},gn.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=u(h,d.crossOrigin);r.d.L(c,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},gn.preloadModule=function(c,d){if(typeof c=="string")if(d){var h=u(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},gn.requestFormReset=function(c){r.d.r(c)},gn.unstable_batchedUpdates=function(c,d){return c(d)},gn.useFormState=function(c,d,h){return l.H.useFormState(c,d,h)},gn.useFormStatus=function(){return l.H.useHostTransitionStatus()},gn.version="19.2.0",gn}var Zx;function jO(){if(Zx)return yy.exports;Zx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),yy.exports=Fq(),yy.exports}var eA;function Hq(){if(eA)return Du;eA=1;var e=Bq(),t=bl(),n=jO();function r(o){var s="https://react.dev/errors/"+o;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)s+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var s=o,f=o;if(o.alternate)for(;s.return;)s=s.return;else{o=s;do s=o,(s.flags&4098)!==0&&(f=s.return),o=s.return;while(o)}return s.tag===3?f:null}function l(o){if(o.tag===13){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function u(o){if(o.tag===31){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function c(o){if(a(o)!==o)throw Error(r(188))}function d(o){var s=o.alternate;if(!s){if(s=a(o),s===null)throw Error(r(188));return s!==o?null:o}for(var f=o,p=s;;){var b=f.return;if(b===null)break;var S=b.alternate;if(S===null){if(p=b.return,p!==null){f=p;continue}break}if(b.child===S.child){for(S=b.child;S;){if(S===f)return c(b),o;if(S===p)return c(b),s;S=S.sibling}throw Error(r(188))}if(f.return!==p.return)f=b,p=S;else{for(var M=!1,I=b.child;I;){if(I===f){M=!0,f=b,p=S;break}if(I===p){M=!0,p=b,f=S;break}I=I.sibling}if(!M){for(I=S.child;I;){if(I===f){M=!0,f=S,p=b;break}if(I===p){M=!0,p=S,f=b;break}I=I.sibling}if(!M)throw Error(r(189))}}if(f.alternate!==p)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:s}function h(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o;for(o=o.child;o!==null;){if(s=h(o),s!==null)return s;o=o.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),P=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function F(o){return o===null||typeof o!="object"?null:(o=$&&o[$]||o["@@iterator"],typeof o=="function"?o:null)}var fe=Symbol.for("react.client.reference");function me(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===fe?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case w:return"Fragment";case C:return"Profiler";case E:return"StrictMode";case O:return"Suspense";case R:return"SuspenseList";case G:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case T:return"Portal";case P:return o.displayName||"Context";case N:return(o._context.displayName||"Context")+".Consumer";case D:var s=o.render;return o=o.displayName,o||(o=s.displayName||s.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case k:return s=o.displayName||null,s!==null?s:me(o.type)||"Memo";case q:s=o._payload,o=o._init;try{return me(o(s))}catch{}}return null}var Se=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},ue=[],Me=-1;function U(o){return{current:o}}function X(o){0>Me||(o.current=ue[Me],ue[Me]=null,Me--)}function se(o,s){Me++,ue[Me]=o.current,o.current=s}var ce=U(null),re=U(null),he=U(null),Ee=U(null);function Ie(o,s){switch(se(he,s),se(re,o),se(ce,null),s.nodeType){case 9:case 11:o=(o=s.documentElement)&&(o=o.namespaceURI)?mx(o):0;break;default:if(o=s.tagName,s=s.namespaceURI)s=mx(s),o=gx(s,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}X(ce),se(ce,o)}function ee(){X(ce),X(re),X(he)}function we(o){o.memoizedState!==null&&se(Ee,o);var s=ce.current,f=gx(s,o.type);s!==f&&(se(re,o),se(ce,f))}function De(o){re.current===o&&(X(ce),X(re)),Ee.current===o&&(X(Ee),Mu._currentValue=le)}var oe,pt;function Le(o){if(oe===void 0)try{throw Error()}catch(f){var s=f.stack.trim().match(/\n( *(at )?)/);oe=s&&s[1]||"",pt=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oe+o+pt}var bt=!1;function _t(o,s){if(!o||bt)return"";bt=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(J){var Y=J}Reflect.construct(o,[],ae)}else{try{ae.call()}catch(J){Y=J}o.call(ae.prototype)}}else{try{throw Error()}catch(J){Y=J}(ae=o())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(J){if(J&&Y&&typeof J.stack=="string")return[J.stack,Y.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=p.DetermineComponentFrameRoot(),M=S[0],I=S[1];if(M&&I){var L=M.split(`
`),K=I.split(`
`);for(b=p=0;p<L.length&&!L[p].includes("DetermineComponentFrameRoot");)p++;for(;b<K.length&&!K[b].includes("DetermineComponentFrameRoot");)b++;if(p===L.length||b===K.length)for(p=L.length-1,b=K.length-1;1<=p&&0<=b&&L[p]!==K[b];)b--;for(;1<=p&&0<=b;p--,b--)if(L[p]!==K[b]){if(p!==1||b!==1)do if(p--,b--,0>b||L[p]!==K[b]){var te=`
`+L[p].replace(" at new "," at ");return o.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",o.displayName)),te}while(1<=p&&0<=b);break}}}finally{bt=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?Le(f):""}function En(o,s){switch(o.tag){case 26:case 27:case 5:return Le(o.type);case 16:return Le("Lazy");case 13:return o.child!==s&&s!==null?Le("Suspense Fallback"):Le("Suspense");case 19:return Le("SuspenseList");case 0:case 15:return _t(o.type,!1);case 11:return _t(o.type.render,!1);case 1:return _t(o.type,!0);case 31:return Le("Activity");default:return""}}function pn(o){try{var s="",f=null;do s+=En(o,f),f=o,o=o.return;while(o);return s}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Qr=Object.prototype.hasOwnProperty,Kn=e.unstable_scheduleCallback,_a=e.unstable_cancelCallback,Ll=e.unstable_shouldYield,Nn=e.unstable_requestPaint,Ue=e.unstable_now,ns=e.unstable_getCurrentPriorityLevel,rs=e.unstable_ImmediatePriority,On=e.unstable_UserBlockingPriority,Sa=e.unstable_NormalPriority,Ul=e.unstable_LowPriority,Zr=e.unstable_IdlePriority,is=e.log,jl=e.unstable_setDisableYieldValue,yi=null,Gt=null;function hr(o){if(typeof is=="function"&&jl(o),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(yi,o)}catch{}}var Nt=Math.clz32?Math.clz32:Vt,Q=Math.log,je=Math.LN2;function Vt(o){return o>>>=0,o===0?32:31-(Q(o)/je|0)|0}var In=256,Yn=262144,vi=4194304;function Wn(o){var s=o&42;if(s!==0)return s;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Jn(o,s,f){var p=o.pendingLanes;if(p===0)return 0;var b=0,S=o.suspendedLanes,M=o.pingedLanes;o=o.warmLanes;var I=p&134217727;return I!==0?(p=I&~S,p!==0?b=Wn(p):(M&=I,M!==0?b=Wn(M):f||(f=I&~o,f!==0&&(b=Wn(f))))):(I=p&~S,I!==0?b=Wn(I):M!==0?b=Wn(M):f||(f=p&~o,f!==0&&(b=Wn(f)))),b===0?0:s!==0&&s!==b&&(s&S)===0&&(S=b&-b,f=s&-s,S>=f||S===32&&(f&4194048)!==0)?s:b}function jr(o,s){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&s)===0}function mn(o,s){switch(o){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xn(){var o=vi;return vi<<=1,(vi&62914560)===0&&(vi=4194304),o}function uo(o){for(var s=[],f=0;31>f;f++)s.push(o);return s}function bi(o,s){o.pendingLanes|=s,s!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function ql(o,s,f,p,b,S){var M=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var I=o.entanglements,L=o.expirationTimes,K=o.hiddenUpdates;for(f=M&~f;0<f;){var te=31-Nt(f),ae=1<<te;I[te]=0,L[te]=-1;var Y=K[te];if(Y!==null)for(K[te]=null,te=0;te<Y.length;te++){var J=Y[te];J!==null&&(J.lane&=-536870913)}f&=~ae}p!==0&&Zc(o,p,0),S!==0&&b===0&&o.tag!==0&&(o.suspendedLanes|=S&~(M&~s))}function Zc(o,s,f){o.pendingLanes|=s,o.suspendedLanes&=~s;var p=31-Nt(s);o.entangledLanes|=s,o.entanglements[p]=o.entanglements[p]|1073741824|f&261930}function zl(o,s){var f=o.entangledLanes|=s;for(o=o.entanglements;f;){var p=31-Nt(f),b=1<<p;b&s|o[p]&s&&(o[p]|=s),f&=~b}}function $l(o,s){var f=s&-s;return f=(f&42)!==0?1:Bl(f),(f&(o.suspendedLanes|s))!==0?0:f}function Bl(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function ef(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function tf(){var o=ne.p;return o!==0?o:(o=window.event,o===void 0?32:qx(o.type))}function W(o,s){var f=ne.p;try{return ne.p=o,s()}finally{ne.p=f}}var de=Math.random().toString(36).slice(2),Te="__reactFiber$"+de,Pe="__reactProps$"+de,Oe="__reactContainer$"+de,st="__reactEvents$"+de,Fl="__reactListeners$"+de,co="__reactHandles$"+de,nf="__reactResources$"+de,Qn="__reactMarker$"+de;function Ta(o){delete o[Te],delete o[Pe],delete o[st],delete o[Fl],delete o[co]}function as(o){var s=o[Te];if(s)return s;for(var f=o.parentNode;f;){if(s=f[Oe]||f[Te]){if(f=s.alternate,s.child!==null||f!==null&&f.child!==null)for(o=Ex(o);o!==null;){if(f=o[Te])return f;o=Ex(o)}return s}o=f,f=o.parentNode}return null}function os(o){if(o=o[Te]||o[Oe]){var s=o.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return o}return null}function Hl(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o.stateNode;throw Error(r(33))}function ss(o){var s=o[nf];return s||(s=o[nf]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Kt(o){o[Qn]=!0}var rT=new Set,iT={};function fo(o,s){ls(o,s),ls(o+"Capture",s)}function ls(o,s){for(iT[o]=s,o=0;o<s.length;o++)rT.add(s[o])}var AU=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),aT={},oT={};function CU(o){return Qr.call(oT,o)?!0:Qr.call(aT,o)?!1:AU.test(o)?oT[o]=!0:(aT[o]=!0,!1)}function rf(o,s,f){if(CU(s))if(f===null)o.removeAttribute(s);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(s);return;case"boolean":var p=s.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){o.removeAttribute(s);return}}o.setAttribute(s,""+f)}}function af(o,s,f){if(f===null)o.removeAttribute(s);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(s);return}o.setAttribute(s,""+f)}}function _i(o,s,f,p){if(p===null)o.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(s,f,""+p)}}function pr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function sT(o){var s=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function MU(o,s,f){var p=Object.getOwnPropertyDescriptor(o.constructor.prototype,s);if(!o.hasOwnProperty(s)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,S=p.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return b.call(this)},set:function(M){f=""+M,S.call(this,M)}}),Object.defineProperty(o,s,{enumerable:p.enumerable}),{getValue:function(){return f},setValue:function(M){f=""+M},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}function am(o){if(!o._valueTracker){var s=sT(o)?"checked":"value";o._valueTracker=MU(o,s,""+o[s])}}function lT(o){if(!o)return!1;var s=o._valueTracker;if(!s)return!0;var f=s.getValue(),p="";return o&&(p=sT(o)?o.checked?"true":"false":o.value),o=p,o!==f?(s.setValue(o),!0):!1}function of(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var PU=/[\n"\\]/g;function mr(o){return o.replace(PU,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function om(o,s,f,p,b,S,M,I){o.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?o.type=M:o.removeAttribute("type"),s!=null?M==="number"?(s===0&&o.value===""||o.value!=s)&&(o.value=""+pr(s)):o.value!==""+pr(s)&&(o.value=""+pr(s)):M!=="submit"&&M!=="reset"||o.removeAttribute("value"),s!=null?sm(o,M,pr(s)):f!=null?sm(o,M,pr(f)):p!=null&&o.removeAttribute("value"),b==null&&S!=null&&(o.defaultChecked=!!S),b!=null&&(o.checked=b&&typeof b!="function"&&typeof b!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?o.name=""+pr(I):o.removeAttribute("name")}function uT(o,s,f,p,b,S,M,I){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(o.type=S),s!=null||f!=null){if(!(S!=="submit"&&S!=="reset"||s!=null)){am(o);return}f=f!=null?""+pr(f):"",s=s!=null?""+pr(s):f,I||s===o.value||(o.value=s),o.defaultValue=s}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,o.checked=I?o.checked:!!p,o.defaultChecked=!!p,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(o.name=M),am(o)}function sm(o,s,f){s==="number"&&of(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function us(o,s,f,p){if(o=o.options,s){s={};for(var b=0;b<f.length;b++)s["$"+f[b]]=!0;for(f=0;f<o.length;f++)b=s.hasOwnProperty("$"+o[f].value),o[f].selected!==b&&(o[f].selected=b),b&&p&&(o[f].defaultSelected=!0)}else{for(f=""+pr(f),s=null,b=0;b<o.length;b++){if(o[b].value===f){o[b].selected=!0,p&&(o[b].defaultSelected=!0);return}s!==null||o[b].disabled||(s=o[b])}s!==null&&(s.selected=!0)}}function cT(o,s,f){if(s!=null&&(s=""+pr(s),s!==o.value&&(o.value=s),f==null)){o.defaultValue!==s&&(o.defaultValue=s);return}o.defaultValue=f!=null?""+pr(f):""}function fT(o,s,f,p){if(s==null){if(p!=null){if(f!=null)throw Error(r(92));if(Se(p)){if(1<p.length)throw Error(r(93));p=p[0]}f=p}f==null&&(f=""),s=f}f=pr(s),o.defaultValue=f,p=o.textContent,p===f&&p!==""&&p!==null&&(o.value=p),am(o)}function cs(o,s){if(s){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=s;return}}o.textContent=s}var NU=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dT(o,s,f){var p=s.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?p?o.setProperty(s,""):s==="float"?o.cssFloat="":o[s]="":p?o.setProperty(s,f):typeof f!="number"||f===0||NU.has(s)?s==="float"?o.cssFloat=f:o[s]=(""+f).trim():o[s]=f+"px"}function hT(o,s,f){if(s!=null&&typeof s!="object")throw Error(r(62));if(o=o.style,f!=null){for(var p in f)!f.hasOwnProperty(p)||s!=null&&s.hasOwnProperty(p)||(p.indexOf("--")===0?o.setProperty(p,""):p==="float"?o.cssFloat="":o[p]="");for(var b in s)p=s[b],s.hasOwnProperty(b)&&f[b]!==p&&dT(o,b,p)}else for(var S in s)s.hasOwnProperty(S)&&dT(o,S,s[S])}function lm(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var OU=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),IU=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sf(o){return IU.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Si(){}var um=null;function cm(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var fs=null,ds=null;function pT(o){var s=os(o);if(s&&(o=s.stateNode)){var f=o[Pe]||null;e:switch(o=s.stateNode,s.type){case"input":if(om(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),s=f.name,f.type==="radio"&&s!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+mr(""+s)+'"][type="radio"]'),s=0;s<f.length;s++){var p=f[s];if(p!==o&&p.form===o.form){var b=p[Pe]||null;if(!b)throw Error(r(90));om(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(s=0;s<f.length;s++)p=f[s],p.form===o.form&&lT(p)}break e;case"textarea":cT(o,f.value,f.defaultValue);break e;case"select":s=f.value,s!=null&&us(o,!!f.multiple,s,!1)}}}var fm=!1;function mT(o,s,f){if(fm)return o(s,f);fm=!0;try{var p=o(s);return p}finally{if(fm=!1,(fs!==null||ds!==null)&&(Yf(),fs&&(s=fs,o=ds,ds=fs=null,pT(s),o)))for(s=0;s<o.length;s++)pT(o[s])}}function Gl(o,s){var f=o.stateNode;if(f===null)return null;var p=f[Pe]||null;if(p===null)return null;f=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,s,typeof f));return f}var Ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dm=!1;if(Ti)try{var Vl={};Object.defineProperty(Vl,"passive",{get:function(){dm=!0}}),window.addEventListener("test",Vl,Vl),window.removeEventListener("test",Vl,Vl)}catch{dm=!1}var Ea=null,hm=null,lf=null;function gT(){if(lf)return lf;var o,s=hm,f=s.length,p,b="value"in Ea?Ea.value:Ea.textContent,S=b.length;for(o=0;o<f&&s[o]===b[o];o++);var M=f-o;for(p=1;p<=M&&s[f-p]===b[S-p];p++);return lf=b.slice(o,1<p?1-p:void 0)}function uf(o){var s=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&s===13&&(o=13)):o=s,o===10&&(o=13),32<=o||o===13?o:0}function cf(){return!0}function yT(){return!1}function Dn(o){function s(f,p,b,S,M){this._reactName=f,this._targetInst=b,this.type=p,this.nativeEvent=S,this.target=M,this.currentTarget=null;for(var I in o)o.hasOwnProperty(I)&&(f=o[I],this[I]=f?f(S):S[I]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?cf:yT,this.isPropagationStopped=yT,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=cf)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=cf)},persist:function(){},isPersistent:cf}),s}var ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ff=Dn(ho),Kl=m({},ho,{view:0,detail:0}),DU=Dn(Kl),pm,mm,Yl,df=m({},Kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ym,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Yl&&(Yl&&o.type==="mousemove"?(pm=o.screenX-Yl.screenX,mm=o.screenY-Yl.screenY):mm=pm=0,Yl=o),pm)},movementY:function(o){return"movementY"in o?o.movementY:mm}}),vT=Dn(df),RU=m({},df,{dataTransfer:0}),kU=Dn(RU),LU=m({},Kl,{relatedTarget:0}),gm=Dn(LU),UU=m({},ho,{animationName:0,elapsedTime:0,pseudoElement:0}),jU=Dn(UU),qU=m({},ho,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),zU=Dn(qU),$U=m({},ho,{data:0}),bT=Dn($U),BU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GU(o){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(o):(o=HU[o])?!!s[o]:!1}function ym(){return GU}var VU=m({},Kl,{key:function(o){if(o.key){var s=BU[o.key]||o.key;if(s!=="Unidentified")return s}return o.type==="keypress"?(o=uf(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?FU[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ym,charCode:function(o){return o.type==="keypress"?uf(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?uf(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),KU=Dn(VU),YU=m({},df,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_T=Dn(YU),WU=m({},Kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ym}),JU=Dn(WU),XU=m({},ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),QU=Dn(XU),ZU=m({},df,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),ej=Dn(ZU),tj=m({},ho,{newState:0,oldState:0}),nj=Dn(tj),rj=[9,13,27,32],vm=Ti&&"CompositionEvent"in window,Wl=null;Ti&&"documentMode"in document&&(Wl=document.documentMode);var ij=Ti&&"TextEvent"in window&&!Wl,ST=Ti&&(!vm||Wl&&8<Wl&&11>=Wl),TT=" ",ET=!1;function wT(o,s){switch(o){case"keyup":return rj.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xT(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var hs=!1;function aj(o,s){switch(o){case"compositionend":return xT(s);case"keypress":return s.which!==32?null:(ET=!0,TT);case"textInput":return o=s.data,o===TT&&ET?null:o;default:return null}}function oj(o,s){if(hs)return o==="compositionend"||!vm&&wT(o,s)?(o=gT(),lf=hm=Ea=null,hs=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ST&&s.locale!=="ko"?null:s.data;default:return null}}var sj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AT(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s==="input"?!!sj[o.type]:s==="textarea"}function CT(o,s,f,p){fs?ds?ds.push(p):ds=[p]:fs=p,s=td(s,"onChange"),0<s.length&&(f=new ff("onChange","change",null,f,p),o.push({event:f,listeners:s}))}var Jl=null,Xl=null;function lj(o){ux(o,0)}function hf(o){var s=Hl(o);if(lT(s))return o}function MT(o,s){if(o==="change")return s}var PT=!1;if(Ti){var bm;if(Ti){var _m="oninput"in document;if(!_m){var NT=document.createElement("div");NT.setAttribute("oninput","return;"),_m=typeof NT.oninput=="function"}bm=_m}else bm=!1;PT=bm&&(!document.documentMode||9<document.documentMode)}function OT(){Jl&&(Jl.detachEvent("onpropertychange",IT),Xl=Jl=null)}function IT(o){if(o.propertyName==="value"&&hf(Xl)){var s=[];CT(s,Xl,o,cm(o)),mT(lj,s)}}function uj(o,s,f){o==="focusin"?(OT(),Jl=s,Xl=f,Jl.attachEvent("onpropertychange",IT)):o==="focusout"&&OT()}function cj(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return hf(Xl)}function fj(o,s){if(o==="click")return hf(s)}function dj(o,s){if(o==="input"||o==="change")return hf(s)}function hj(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var Zn=typeof Object.is=="function"?Object.is:hj;function Ql(o,s){if(Zn(o,s))return!0;if(typeof o!="object"||o===null||typeof s!="object"||s===null)return!1;var f=Object.keys(o),p=Object.keys(s);if(f.length!==p.length)return!1;for(p=0;p<f.length;p++){var b=f[p];if(!Qr.call(s,b)||!Zn(o[b],s[b]))return!1}return!0}function DT(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function RT(o,s){var f=DT(o);o=0;for(var p;f;){if(f.nodeType===3){if(p=o+f.textContent.length,o<=s&&p>=s)return{node:f,offset:s-o};o=p}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=DT(f)}}function kT(o,s){return o&&s?o===s?!0:o&&o.nodeType===3?!1:s&&s.nodeType===3?kT(o,s.parentNode):"contains"in o?o.contains(s):o.compareDocumentPosition?!!(o.compareDocumentPosition(s)&16):!1:!1}function LT(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var s=of(o.document);s instanceof o.HTMLIFrameElement;){try{var f=typeof s.contentWindow.location.href=="string"}catch{f=!1}if(f)o=s.contentWindow;else break;s=of(o.document)}return s}function Sm(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s&&(s==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||s==="textarea"||o.contentEditable==="true")}var pj=Ti&&"documentMode"in document&&11>=document.documentMode,ps=null,Tm=null,Zl=null,Em=!1;function UT(o,s,f){var p=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Em||ps==null||ps!==of(p)||(p=ps,"selectionStart"in p&&Sm(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Zl&&Ql(Zl,p)||(Zl=p,p=td(Tm,"onSelect"),0<p.length&&(s=new ff("onSelect","select",null,s,f),o.push({event:s,listeners:p}),s.target=ps)))}function po(o,s){var f={};return f[o.toLowerCase()]=s.toLowerCase(),f["Webkit"+o]="webkit"+s,f["Moz"+o]="moz"+s,f}var ms={animationend:po("Animation","AnimationEnd"),animationiteration:po("Animation","AnimationIteration"),animationstart:po("Animation","AnimationStart"),transitionrun:po("Transition","TransitionRun"),transitionstart:po("Transition","TransitionStart"),transitioncancel:po("Transition","TransitionCancel"),transitionend:po("Transition","TransitionEnd")},wm={},jT={};Ti&&(jT=document.createElement("div").style,"AnimationEvent"in window||(delete ms.animationend.animation,delete ms.animationiteration.animation,delete ms.animationstart.animation),"TransitionEvent"in window||delete ms.transitionend.transition);function mo(o){if(wm[o])return wm[o];if(!ms[o])return o;var s=ms[o],f;for(f in s)if(s.hasOwnProperty(f)&&f in jT)return wm[o]=s[f];return o}var qT=mo("animationend"),zT=mo("animationiteration"),$T=mo("animationstart"),mj=mo("transitionrun"),gj=mo("transitionstart"),yj=mo("transitioncancel"),BT=mo("transitionend"),FT=new Map,xm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xm.push("scrollEnd");function qr(o,s){FT.set(o,s),fo(s,[o])}var pf=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},gr=[],gs=0,Am=0;function mf(){for(var o=gs,s=Am=gs=0;s<o;){var f=gr[s];gr[s++]=null;var p=gr[s];gr[s++]=null;var b=gr[s];gr[s++]=null;var S=gr[s];if(gr[s++]=null,p!==null&&b!==null){var M=p.pending;M===null?b.next=b:(b.next=M.next,M.next=b),p.pending=b}S!==0&&HT(f,b,S)}}function gf(o,s,f,p){gr[gs++]=o,gr[gs++]=s,gr[gs++]=f,gr[gs++]=p,Am|=p,o.lanes|=p,o=o.alternate,o!==null&&(o.lanes|=p)}function Cm(o,s,f,p){return gf(o,s,f,p),yf(o)}function go(o,s){return gf(o,null,null,s),yf(o)}function HT(o,s,f){o.lanes|=f;var p=o.alternate;p!==null&&(p.lanes|=f);for(var b=!1,S=o.return;S!==null;)S.childLanes|=f,p=S.alternate,p!==null&&(p.childLanes|=f),S.tag===22&&(o=S.stateNode,o===null||o._visibility&1||(b=!0)),o=S,S=S.return;return o.tag===3?(S=o.stateNode,b&&s!==null&&(b=31-Nt(f),o=S.hiddenUpdates,p=o[b],p===null?o[b]=[s]:p.push(s),s.lane=f|536870912),S):null}function yf(o){if(50<Su)throw Su=0,Lg=null,Error(r(185));for(var s=o.return;s!==null;)o=s,s=o.return;return o.tag===3?o.stateNode:null}var ys={};function vj(o,s,f,p){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(o,s,f,p){return new vj(o,s,f,p)}function Mm(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Ei(o,s){var f=o.alternate;return f===null?(f=er(o.tag,s,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=s,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,s=o.dependencies,f.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function GT(o,s){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=s,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,s=f.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),o}function vf(o,s,f,p,b,S){var M=0;if(p=o,typeof o=="function")Mm(o)&&(M=1);else if(typeof o=="string")M=Eq(o,f,ce.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case G:return o=er(31,f,s,b),o.elementType=G,o.lanes=S,o;case w:return yo(f.children,b,S,s);case E:M=8,b|=24;break;case C:return o=er(12,f,s,b|2),o.elementType=C,o.lanes=S,o;case O:return o=er(13,f,s,b),o.elementType=O,o.lanes=S,o;case R:return o=er(19,f,s,b),o.elementType=R,o.lanes=S,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case P:M=10;break e;case N:M=9;break e;case D:M=11;break e;case k:M=14;break e;case q:M=16,p=null;break e}M=29,f=Error(r(130,o===null?"null":typeof o,"")),p=null}return s=er(M,f,s,b),s.elementType=o,s.type=p,s.lanes=S,s}function yo(o,s,f,p){return o=er(7,o,p,s),o.lanes=f,o}function Pm(o,s,f){return o=er(6,o,null,s),o.lanes=f,o}function VT(o){var s=er(18,null,null,0);return s.stateNode=o,s}function Nm(o,s,f){return s=er(4,o.children!==null?o.children:[],o.key,s),s.lanes=f,s.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},s}var KT=new WeakMap;function yr(o,s){if(typeof o=="object"&&o!==null){var f=KT.get(o);return f!==void 0?f:(s={value:o,source:s,stack:pn(s)},KT.set(o,s),s)}return{value:o,source:s,stack:pn(s)}}var vs=[],bs=0,bf=null,eu=0,vr=[],br=0,wa=null,ei=1,ti="";function wi(o,s){vs[bs++]=eu,vs[bs++]=bf,bf=o,eu=s}function YT(o,s,f){vr[br++]=ei,vr[br++]=ti,vr[br++]=wa,wa=o;var p=ei;o=ti;var b=32-Nt(p)-1;p&=~(1<<b),f+=1;var S=32-Nt(s)+b;if(30<S){var M=b-b%5;S=(p&(1<<M)-1).toString(32),p>>=M,b-=M,ei=1<<32-Nt(s)+b|f<<b|p,ti=S+o}else ei=1<<S|f<<b|p,ti=o}function Om(o){o.return!==null&&(wi(o,1),YT(o,1,0))}function Im(o){for(;o===bf;)bf=vs[--bs],vs[bs]=null,eu=vs[--bs],vs[bs]=null;for(;o===wa;)wa=vr[--br],vr[br]=null,ti=vr[--br],vr[br]=null,ei=vr[--br],vr[br]=null}function WT(o,s){vr[br++]=ei,vr[br++]=ti,vr[br++]=wa,ei=s.id,ti=s.overflow,wa=o}var nn=null,lt=null,Ge=!1,xa=null,_r=!1,Dm=Error(r(519));function Aa(o){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tu(yr(s,o)),Dm}function JT(o){var s=o.stateNode,f=o.type,p=o.memoizedProps;switch(s[Te]=o,s[Pe]=p,f){case"dialog":ze("cancel",s),ze("close",s);break;case"iframe":case"object":case"embed":ze("load",s);break;case"video":case"audio":for(f=0;f<Eu.length;f++)ze(Eu[f],s);break;case"source":ze("error",s);break;case"img":case"image":case"link":ze("error",s),ze("load",s);break;case"details":ze("toggle",s);break;case"input":ze("invalid",s),uT(s,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":ze("invalid",s);break;case"textarea":ze("invalid",s),fT(s,p.value,p.defaultValue,p.children)}f=p.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||s.textContent===""+f||p.suppressHydrationWarning===!0||hx(s.textContent,f)?(p.popover!=null&&(ze("beforetoggle",s),ze("toggle",s)),p.onScroll!=null&&ze("scroll",s),p.onScrollEnd!=null&&ze("scrollend",s),p.onClick!=null&&(s.onclick=Si),s=!0):s=!1,s||Aa(o,!0)}function XT(o){for(nn=o.return;nn;)switch(nn.tag){case 5:case 31:case 13:_r=!1;return;case 27:case 3:_r=!0;return;default:nn=nn.return}}function _s(o){if(o!==nn)return!1;if(!Ge)return XT(o),Ge=!0,!1;var s=o.tag,f;if((f=s!==3&&s!==27)&&((f=s===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||Xg(o.type,o.memoizedProps)),f=!f),f&&lt&&Aa(o),XT(o),s===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));lt=Tx(o)}else if(s===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));lt=Tx(o)}else s===27?(s=lt,za(o.type)?(o=ny,ny=null,lt=o):lt=s):lt=nn?Tr(o.stateNode.nextSibling):null;return!0}function vo(){lt=nn=null,Ge=!1}function Rm(){var o=xa;return o!==null&&(Un===null?Un=o:Un.push.apply(Un,o),xa=null),o}function tu(o){xa===null?xa=[o]:xa.push(o)}var km=U(null),bo=null,xi=null;function Ca(o,s,f){se(km,s._currentValue),s._currentValue=f}function Ai(o){o._currentValue=km.current,X(km)}function Lm(o,s,f){for(;o!==null;){var p=o.alternate;if((o.childLanes&s)!==s?(o.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),o===f)break;o=o.return}}function Um(o,s,f,p){var b=o.child;for(b!==null&&(b.return=o);b!==null;){var S=b.dependencies;if(S!==null){var M=b.child;S=S.firstContext;e:for(;S!==null;){var I=S;S=b;for(var L=0;L<s.length;L++)if(I.context===s[L]){S.lanes|=f,I=S.alternate,I!==null&&(I.lanes|=f),Lm(S.return,f,o),p||(M=null);break e}S=I.next}}else if(b.tag===18){if(M=b.return,M===null)throw Error(r(341));M.lanes|=f,S=M.alternate,S!==null&&(S.lanes|=f),Lm(M,f,o),M=null}else M=b.child;if(M!==null)M.return=b;else for(M=b;M!==null;){if(M===o){M=null;break}if(b=M.sibling,b!==null){b.return=M.return,M=b;break}M=M.return}b=M}}function Ss(o,s,f,p){o=null;for(var b=s,S=!1;b!==null;){if(!S){if((b.flags&524288)!==0)S=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var M=b.alternate;if(M===null)throw Error(r(387));if(M=M.memoizedProps,M!==null){var I=b.type;Zn(b.pendingProps.value,M.value)||(o!==null?o.push(I):o=[I])}}else if(b===Ee.current){if(M=b.alternate,M===null)throw Error(r(387));M.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(o!==null?o.push(Mu):o=[Mu])}b=b.return}o!==null&&Um(s,o,f,p),s.flags|=262144}function _f(o){for(o=o.firstContext;o!==null;){if(!Zn(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function _o(o){bo=o,xi=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function rn(o){return QT(bo,o)}function Sf(o,s){return bo===null&&_o(o),QT(o,s)}function QT(o,s){var f=s._currentValue;if(s={context:s,memoizedValue:f,next:null},xi===null){if(o===null)throw Error(r(308));xi=s,o.dependencies={lanes:0,firstContext:s},o.flags|=524288}else xi=xi.next=s;return f}var bj=typeof AbortController<"u"?AbortController:function(){var o=[],s=this.signal={aborted:!1,addEventListener:function(f,p){o.push(p)}};this.abort=function(){s.aborted=!0,o.forEach(function(f){return f()})}},_j=e.unstable_scheduleCallback,Sj=e.unstable_NormalPriority,Ot={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jm(){return{controller:new bj,data:new Map,refCount:0}}function nu(o){o.refCount--,o.refCount===0&&_j(Sj,function(){o.controller.abort()})}var ru=null,qm=0,Ts=0,Es=null;function Tj(o,s){if(ru===null){var f=ru=[];qm=0,Ts=Bg(),Es={status:"pending",value:void 0,then:function(p){f.push(p)}}}return qm++,s.then(ZT,ZT),s}function ZT(){if(--qm===0&&ru!==null){Es!==null&&(Es.status="fulfilled");var o=ru;ru=null,Ts=0,Es=null;for(var s=0;s<o.length;s++)(0,o[s])()}}function Ej(o,s){var f=[],p={status:"pending",value:null,reason:null,then:function(b){f.push(b)}};return o.then(function(){p.status="fulfilled",p.value=s;for(var b=0;b<f.length;b++)(0,f[b])(s)},function(b){for(p.status="rejected",p.reason=b,b=0;b<f.length;b++)(0,f[b])(void 0)}),p}var eE=B.S;B.S=function(o,s){Uw=Ue(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Tj(o,s),eE!==null&&eE(o,s)};var So=U(null);function zm(){var o=So.current;return o!==null?o:it.pooledCache}function Tf(o,s){s===null?se(So,So.current):se(So,s.pool)}function tE(){var o=zm();return o===null?null:{parent:Ot._currentValue,pool:o}}var ws=Error(r(460)),$m=Error(r(474)),Ef=Error(r(542)),wf={then:function(){}};function nE(o){return o=o.status,o==="fulfilled"||o==="rejected"}function rE(o,s,f){switch(f=o[f],f===void 0?o.push(s):f!==s&&(s.then(Si,Si),s=f),s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,aE(o),o;default:if(typeof s.status=="string")s.then(Si,Si);else{if(o=it,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=s,o.status="pending",o.then(function(p){if(s.status==="pending"){var b=s;b.status="fulfilled",b.value=p}},function(p){if(s.status==="pending"){var b=s;b.status="rejected",b.reason=p}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,aE(o),o}throw Eo=s,ws}}function To(o){try{var s=o._init;return s(o._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(Eo=f,ws):f}}var Eo=null;function iE(){if(Eo===null)throw Error(r(459));var o=Eo;return Eo=null,o}function aE(o){if(o===ws||o===Ef)throw Error(r(483))}var xs=null,iu=0;function xf(o){var s=iu;return iu+=1,xs===null&&(xs=[]),rE(xs,o,s)}function au(o,s){s=s.props.ref,o.ref=s!==void 0?s:null}function Af(o,s){throw s.$$typeof===y?Error(r(525)):(o=Object.prototype.toString.call(s),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o)))}function oE(o){function s(z,j){if(o){var V=z.deletions;V===null?(z.deletions=[j],z.flags|=16):V.push(j)}}function f(z,j){if(!o)return null;for(;j!==null;)s(z,j),j=j.sibling;return null}function p(z){for(var j=new Map;z!==null;)z.key!==null?j.set(z.key,z):j.set(z.index,z),z=z.sibling;return j}function b(z,j){return z=Ei(z,j),z.index=0,z.sibling=null,z}function S(z,j,V){return z.index=V,o?(V=z.alternate,V!==null?(V=V.index,V<j?(z.flags|=67108866,j):V):(z.flags|=67108866,j)):(z.flags|=1048576,j)}function M(z){return o&&z.alternate===null&&(z.flags|=67108866),z}function I(z,j,V,ie){return j===null||j.tag!==6?(j=Pm(V,z.mode,ie),j.return=z,j):(j=b(j,V),j.return=z,j)}function L(z,j,V,ie){var xe=V.type;return xe===w?te(z,j,V.props.children,ie,V.key):j!==null&&(j.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===q&&To(xe)===j.type)?(j=b(j,V.props),au(j,V),j.return=z,j):(j=vf(V.type,V.key,V.props,null,z.mode,ie),au(j,V),j.return=z,j)}function K(z,j,V,ie){return j===null||j.tag!==4||j.stateNode.containerInfo!==V.containerInfo||j.stateNode.implementation!==V.implementation?(j=Nm(V,z.mode,ie),j.return=z,j):(j=b(j,V.children||[]),j.return=z,j)}function te(z,j,V,ie,xe){return j===null||j.tag!==7?(j=yo(V,z.mode,ie,xe),j.return=z,j):(j=b(j,V),j.return=z,j)}function ae(z,j,V){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Pm(""+j,z.mode,V),j.return=z,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case _:return V=vf(j.type,j.key,j.props,null,z.mode,V),au(V,j),V.return=z,V;case T:return j=Nm(j,z.mode,V),j.return=z,j;case q:return j=To(j),ae(z,j,V)}if(Se(j)||F(j))return j=yo(j,z.mode,V,null),j.return=z,j;if(typeof j.then=="function")return ae(z,xf(j),V);if(j.$$typeof===P)return ae(z,Sf(z,j),V);Af(z,j)}return null}function Y(z,j,V,ie){var xe=j!==null?j.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return xe!==null?null:I(z,j,""+V,ie);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case _:return V.key===xe?L(z,j,V,ie):null;case T:return V.key===xe?K(z,j,V,ie):null;case q:return V=To(V),Y(z,j,V,ie)}if(Se(V)||F(V))return xe!==null?null:te(z,j,V,ie,null);if(typeof V.then=="function")return Y(z,j,xf(V),ie);if(V.$$typeof===P)return Y(z,j,Sf(z,V),ie);Af(z,V)}return null}function J(z,j,V,ie,xe){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return z=z.get(V)||null,I(j,z,""+ie,xe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case _:return z=z.get(ie.key===null?V:ie.key)||null,L(j,z,ie,xe);case T:return z=z.get(ie.key===null?V:ie.key)||null,K(j,z,ie,xe);case q:return ie=To(ie),J(z,j,V,ie,xe)}if(Se(ie)||F(ie))return z=z.get(V)||null,te(j,z,ie,xe,null);if(typeof ie.then=="function")return J(z,j,V,xf(ie),xe);if(ie.$$typeof===P)return J(z,j,V,Sf(j,ie),xe);Af(j,ie)}return null}function ye(z,j,V,ie){for(var xe=null,Ve=null,ve=j,ke=j=0,Fe=null;ve!==null&&ke<V.length;ke++){ve.index>ke?(Fe=ve,ve=null):Fe=ve.sibling;var Ke=Y(z,ve,V[ke],ie);if(Ke===null){ve===null&&(ve=Fe);break}o&&ve&&Ke.alternate===null&&s(z,ve),j=S(Ke,j,ke),Ve===null?xe=Ke:Ve.sibling=Ke,Ve=Ke,ve=Fe}if(ke===V.length)return f(z,ve),Ge&&wi(z,ke),xe;if(ve===null){for(;ke<V.length;ke++)ve=ae(z,V[ke],ie),ve!==null&&(j=S(ve,j,ke),Ve===null?xe=ve:Ve.sibling=ve,Ve=ve);return Ge&&wi(z,ke),xe}for(ve=p(ve);ke<V.length;ke++)Fe=J(ve,z,ke,V[ke],ie),Fe!==null&&(o&&Fe.alternate!==null&&ve.delete(Fe.key===null?ke:Fe.key),j=S(Fe,j,ke),Ve===null?xe=Fe:Ve.sibling=Fe,Ve=Fe);return o&&ve.forEach(function(Ga){return s(z,Ga)}),Ge&&wi(z,ke),xe}function Ce(z,j,V,ie){if(V==null)throw Error(r(151));for(var xe=null,Ve=null,ve=j,ke=j=0,Fe=null,Ke=V.next();ve!==null&&!Ke.done;ke++,Ke=V.next()){ve.index>ke?(Fe=ve,ve=null):Fe=ve.sibling;var Ga=Y(z,ve,Ke.value,ie);if(Ga===null){ve===null&&(ve=Fe);break}o&&ve&&Ga.alternate===null&&s(z,ve),j=S(Ga,j,ke),Ve===null?xe=Ga:Ve.sibling=Ga,Ve=Ga,ve=Fe}if(Ke.done)return f(z,ve),Ge&&wi(z,ke),xe;if(ve===null){for(;!Ke.done;ke++,Ke=V.next())Ke=ae(z,Ke.value,ie),Ke!==null&&(j=S(Ke,j,ke),Ve===null?xe=Ke:Ve.sibling=Ke,Ve=Ke);return Ge&&wi(z,ke),xe}for(ve=p(ve);!Ke.done;ke++,Ke=V.next())Ke=J(ve,z,ke,Ke.value,ie),Ke!==null&&(o&&Ke.alternate!==null&&ve.delete(Ke.key===null?ke:Ke.key),j=S(Ke,j,ke),Ve===null?xe=Ke:Ve.sibling=Ke,Ve=Ke);return o&&ve.forEach(function(Rq){return s(z,Rq)}),Ge&&wi(z,ke),xe}function rt(z,j,V,ie){if(typeof V=="object"&&V!==null&&V.type===w&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case _:e:{for(var xe=V.key;j!==null;){if(j.key===xe){if(xe=V.type,xe===w){if(j.tag===7){f(z,j.sibling),ie=b(j,V.props.children),ie.return=z,z=ie;break e}}else if(j.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===q&&To(xe)===j.type){f(z,j.sibling),ie=b(j,V.props),au(ie,V),ie.return=z,z=ie;break e}f(z,j);break}else s(z,j);j=j.sibling}V.type===w?(ie=yo(V.props.children,z.mode,ie,V.key),ie.return=z,z=ie):(ie=vf(V.type,V.key,V.props,null,z.mode,ie),au(ie,V),ie.return=z,z=ie)}return M(z);case T:e:{for(xe=V.key;j!==null;){if(j.key===xe)if(j.tag===4&&j.stateNode.containerInfo===V.containerInfo&&j.stateNode.implementation===V.implementation){f(z,j.sibling),ie=b(j,V.children||[]),ie.return=z,z=ie;break e}else{f(z,j);break}else s(z,j);j=j.sibling}ie=Nm(V,z.mode,ie),ie.return=z,z=ie}return M(z);case q:return V=To(V),rt(z,j,V,ie)}if(Se(V))return ye(z,j,V,ie);if(F(V)){if(xe=F(V),typeof xe!="function")throw Error(r(150));return V=xe.call(V),Ce(z,j,V,ie)}if(typeof V.then=="function")return rt(z,j,xf(V),ie);if(V.$$typeof===P)return rt(z,j,Sf(z,V),ie);Af(z,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,j!==null&&j.tag===6?(f(z,j.sibling),ie=b(j,V),ie.return=z,z=ie):(f(z,j),ie=Pm(V,z.mode,ie),ie.return=z,z=ie),M(z)):f(z,j)}return function(z,j,V,ie){try{iu=0;var xe=rt(z,j,V,ie);return xs=null,xe}catch(ve){if(ve===ws||ve===Ef)throw ve;var Ve=er(29,ve,null,z.mode);return Ve.lanes=ie,Ve.return=z,Ve}finally{}}}var wo=oE(!0),sE=oE(!1),Ma=!1;function Bm(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fm(o,s){o=o.updateQueue,s.updateQueue===o&&(s.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Pa(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Na(o,s,f){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(Je&2)!==0){var b=p.pending;return b===null?s.next=s:(s.next=b.next,b.next=s),p.pending=s,s=yf(o),HT(o,null,f),s}return gf(o,p,s,f),yf(o)}function ou(o,s,f){if(s=s.updateQueue,s!==null&&(s=s.shared,(f&4194048)!==0)){var p=s.lanes;p&=o.pendingLanes,f|=p,s.lanes=f,zl(o,f)}}function Hm(o,s){var f=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,f===p)){var b=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var M={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};S===null?b=S=M:S=S.next=M,f=f.next}while(f!==null);S===null?b=S=s:S=S.next=s}else b=S=s;f={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:S,shared:p.shared,callbacks:p.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=s:o.next=s,f.lastBaseUpdate=s}var Gm=!1;function su(){if(Gm){var o=Es;if(o!==null)throw o}}function lu(o,s,f,p){Gm=!1;var b=o.updateQueue;Ma=!1;var S=b.firstBaseUpdate,M=b.lastBaseUpdate,I=b.shared.pending;if(I!==null){b.shared.pending=null;var L=I,K=L.next;L.next=null,M===null?S=K:M.next=K,M=L;var te=o.alternate;te!==null&&(te=te.updateQueue,I=te.lastBaseUpdate,I!==M&&(I===null?te.firstBaseUpdate=K:I.next=K,te.lastBaseUpdate=L))}if(S!==null){var ae=b.baseState;M=0,te=K=L=null,I=S;do{var Y=I.lane&-536870913,J=Y!==I.lane;if(J?(Be&Y)===Y:(p&Y)===Y){Y!==0&&Y===Ts&&(Gm=!0),te!==null&&(te=te.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var ye=o,Ce=I;Y=s;var rt=f;switch(Ce.tag){case 1:if(ye=Ce.payload,typeof ye=="function"){ae=ye.call(rt,ae,Y);break e}ae=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Ce.payload,Y=typeof ye=="function"?ye.call(rt,ae,Y):ye,Y==null)break e;ae=m({},ae,Y);break e;case 2:Ma=!0}}Y=I.callback,Y!==null&&(o.flags|=64,J&&(o.flags|=8192),J=b.callbacks,J===null?b.callbacks=[Y]:J.push(Y))}else J={lane:Y,tag:I.tag,payload:I.payload,callback:I.callback,next:null},te===null?(K=te=J,L=ae):te=te.next=J,M|=Y;if(I=I.next,I===null){if(I=b.shared.pending,I===null)break;J=I,I=J.next,J.next=null,b.lastBaseUpdate=J,b.shared.pending=null}}while(!0);te===null&&(L=ae),b.baseState=L,b.firstBaseUpdate=K,b.lastBaseUpdate=te,S===null&&(b.shared.lanes=0),ka|=M,o.lanes=M,o.memoizedState=ae}}function lE(o,s){if(typeof o!="function")throw Error(r(191,o));o.call(s)}function uE(o,s){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)lE(f[o],s)}var As=U(null),Cf=U(0);function cE(o,s){o=ki,se(Cf,o),se(As,s),ki=o|s.baseLanes}function Vm(){se(Cf,ki),se(As,As.current)}function Km(){ki=Cf.current,X(As),X(Cf)}var tr=U(null),Sr=null;function Oa(o){var s=o.alternate;se(xt,xt.current&1),se(tr,o),Sr===null&&(s===null||As.current!==null||s.memoizedState!==null)&&(Sr=o)}function Ym(o){se(xt,xt.current),se(tr,o),Sr===null&&(Sr=o)}function fE(o){o.tag===22?(se(xt,xt.current),se(tr,o),Sr===null&&(Sr=o)):Ia()}function Ia(){se(xt,xt.current),se(tr,tr.current)}function nr(o){X(tr),Sr===o&&(Sr=null),X(xt)}var xt=U(0);function Mf(o){for(var s=o;s!==null;){if(s.tag===13){var f=s.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||ey(f)||ty(f)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ci=0,Re=null,tt=null,It=null,Pf=!1,Cs=!1,xo=!1,Nf=0,uu=0,Ms=null,wj=0;function Tt(){throw Error(r(321))}function Wm(o,s){if(s===null)return!1;for(var f=0;f<s.length&&f<o.length;f++)if(!Zn(o[f],s[f]))return!1;return!0}function Jm(o,s,f,p,b,S){return Ci=S,Re=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=o===null||o.memoizedState===null?YE:fg,xo=!1,S=f(p,b),xo=!1,Cs&&(S=hE(s,f,p,b)),dE(o),S}function dE(o){B.H=du;var s=tt!==null&&tt.next!==null;if(Ci=0,It=tt=Re=null,Pf=!1,uu=0,Ms=null,s)throw Error(r(300));o===null||Dt||(o=o.dependencies,o!==null&&_f(o)&&(Dt=!0))}function hE(o,s,f,p){Re=o;var b=0;do{if(Cs&&(Ms=null),uu=0,Cs=!1,25<=b)throw Error(r(301));if(b+=1,It=tt=null,o.updateQueue!=null){var S=o.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}B.H=WE,S=s(f,p)}while(Cs);return S}function xj(){var o=B.H,s=o.useState()[0];return s=typeof s.then=="function"?cu(s):s,o=o.useState()[0],(tt!==null?tt.memoizedState:null)!==o&&(Re.flags|=1024),s}function Xm(){var o=Nf!==0;return Nf=0,o}function Qm(o,s,f){s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~f}function Zm(o){if(Pf){for(o=o.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}Pf=!1}Ci=0,It=tt=Re=null,Cs=!1,uu=Nf=0,Ms=null}function wn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Re.memoizedState=It=o:It=It.next=o,It}function At(){if(tt===null){var o=Re.alternate;o=o!==null?o.memoizedState:null}else o=tt.next;var s=It===null?Re.memoizedState:It.next;if(s!==null)It=s,tt=o;else{if(o===null)throw Re.alternate===null?Error(r(467)):Error(r(310));tt=o,o={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},It===null?Re.memoizedState=It=o:It=It.next=o}return It}function Of(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cu(o){var s=uu;return uu+=1,Ms===null&&(Ms=[]),o=rE(Ms,o,s),s=Re,(It===null?s.memoizedState:It.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?YE:fg),o}function If(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return cu(o);if(o.$$typeof===P)return rn(o)}throw Error(r(438,String(o)))}function eg(o){var s=null,f=Re.updateQueue;if(f!==null&&(s=f.memoCache),s==null){var p=Re.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(s={data:p.data.map(function(b){return b.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),f===null&&(f=Of(),Re.updateQueue=f),f.memoCache=s,f=s.data[s.index],f===void 0)for(f=s.data[s.index]=Array(o),p=0;p<o;p++)f[p]=H;return s.index++,f}function Mi(o,s){return typeof s=="function"?s(o):s}function Df(o){var s=At();return tg(s,tt,o)}function tg(o,s,f){var p=o.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=f;var b=o.baseQueue,S=p.pending;if(S!==null){if(b!==null){var M=b.next;b.next=S.next,S.next=M}s.baseQueue=b=S,p.pending=null}if(S=o.baseState,b===null)o.memoizedState=S;else{s=b.next;var I=M=null,L=null,K=s,te=!1;do{var ae=K.lane&-536870913;if(ae!==K.lane?(Be&ae)===ae:(Ci&ae)===ae){var Y=K.revertLane;if(Y===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ae===Ts&&(te=!0);else if((Ci&Y)===Y){K=K.next,Y===Ts&&(te=!0);continue}else ae={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},L===null?(I=L=ae,M=S):L=L.next=ae,Re.lanes|=Y,ka|=Y;ae=K.action,xo&&f(S,ae),S=K.hasEagerState?K.eagerState:f(S,ae)}else Y={lane:ae,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},L===null?(I=L=Y,M=S):L=L.next=Y,Re.lanes|=ae,ka|=ae;K=K.next}while(K!==null&&K!==s);if(L===null?M=S:L.next=I,!Zn(S,o.memoizedState)&&(Dt=!0,te&&(f=Es,f!==null)))throw f;o.memoizedState=S,o.baseState=M,o.baseQueue=L,p.lastRenderedState=S}return b===null&&(p.lanes=0),[o.memoizedState,p.dispatch]}function ng(o){var s=At(),f=s.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var p=f.dispatch,b=f.pending,S=s.memoizedState;if(b!==null){f.pending=null;var M=b=b.next;do S=o(S,M.action),M=M.next;while(M!==b);Zn(S,s.memoizedState)||(Dt=!0),s.memoizedState=S,s.baseQueue===null&&(s.baseState=S),f.lastRenderedState=S}return[S,p]}function pE(o,s,f){var p=Re,b=At(),S=Ge;if(S){if(f===void 0)throw Error(r(407));f=f()}else f=s();var M=!Zn((tt||b).memoizedState,f);if(M&&(b.memoizedState=f,Dt=!0),b=b.queue,ag(yE.bind(null,p,b,o),[o]),b.getSnapshot!==s||M||It!==null&&It.memoizedState.tag&1){if(p.flags|=2048,Ps(9,{destroy:void 0},gE.bind(null,p,b,f,s),null),it===null)throw Error(r(349));S||(Ci&127)!==0||mE(p,s,f)}return f}function mE(o,s,f){o.flags|=16384,o={getSnapshot:s,value:f},s=Re.updateQueue,s===null?(s=Of(),Re.updateQueue=s,s.stores=[o]):(f=s.stores,f===null?s.stores=[o]:f.push(o))}function gE(o,s,f,p){s.value=f,s.getSnapshot=p,vE(s)&&bE(o)}function yE(o,s,f){return f(function(){vE(s)&&bE(o)})}function vE(o){var s=o.getSnapshot;o=o.value;try{var f=s();return!Zn(o,f)}catch{return!0}}function bE(o){var s=go(o,2);s!==null&&jn(s,o,2)}function rg(o){var s=wn();if(typeof o=="function"){var f=o;if(o=f(),xo){hr(!0);try{f()}finally{hr(!1)}}}return s.memoizedState=s.baseState=o,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:o},s}function _E(o,s,f,p){return o.baseState=f,tg(o,tt,typeof p=="function"?p:Mi)}function Aj(o,s,f,p,b){if(Lf(o))throw Error(r(485));if(o=s.action,o!==null){var S={payload:b,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){S.listeners.push(M)}};B.T!==null?f(!0):S.isTransition=!1,p(S),f=s.pending,f===null?(S.next=s.pending=S,SE(s,S)):(S.next=f.next,s.pending=f.next=S)}}function SE(o,s){var f=s.action,p=s.payload,b=o.state;if(s.isTransition){var S=B.T,M={};B.T=M;try{var I=f(b,p),L=B.S;L!==null&&L(M,I),TE(o,s,I)}catch(K){ig(o,s,K)}finally{S!==null&&M.types!==null&&(S.types=M.types),B.T=S}}else try{S=f(b,p),TE(o,s,S)}catch(K){ig(o,s,K)}}function TE(o,s,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(p){EE(o,s,p)},function(p){return ig(o,s,p)}):EE(o,s,f)}function EE(o,s,f){s.status="fulfilled",s.value=f,wE(s),o.state=f,s=o.pending,s!==null&&(f=s.next,f===s?o.pending=null:(f=f.next,s.next=f,SE(o,f)))}function ig(o,s,f){var p=o.pending;if(o.pending=null,p!==null){p=p.next;do s.status="rejected",s.reason=f,wE(s),s=s.next;while(s!==p)}o.action=null}function wE(o){o=o.listeners;for(var s=0;s<o.length;s++)(0,o[s])()}function xE(o,s){return s}function AE(o,s){if(Ge){var f=it.formState;if(f!==null){e:{var p=Re;if(Ge){if(lt){t:{for(var b=lt,S=_r;b.nodeType!==8;){if(!S){b=null;break t}if(b=Tr(b.nextSibling),b===null){b=null;break t}}S=b.data,b=S==="F!"||S==="F"?b:null}if(b){lt=Tr(b.nextSibling),p=b.data==="F!";break e}}Aa(p)}p=!1}p&&(s=f[0])}}return f=wn(),f.memoizedState=f.baseState=s,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xE,lastRenderedState:s},f.queue=p,f=GE.bind(null,Re,p),p.dispatch=f,p=rg(!1),S=cg.bind(null,Re,!1,p.queue),p=wn(),b={state:s,dispatch:null,action:o,pending:null},p.queue=b,f=Aj.bind(null,Re,b,S,f),b.dispatch=f,p.memoizedState=o,[s,f,!1]}function CE(o){var s=At();return ME(s,tt,o)}function ME(o,s,f){if(s=tg(o,s,xE)[0],o=Df(Mi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var p=cu(s)}catch(M){throw M===ws?Ef:M}else p=s;s=At();var b=s.queue,S=b.dispatch;return f!==s.memoizedState&&(Re.flags|=2048,Ps(9,{destroy:void 0},Cj.bind(null,b,f),null)),[p,S,o]}function Cj(o,s){o.action=s}function PE(o){var s=At(),f=tt;if(f!==null)return ME(s,f,o);At(),s=s.memoizedState,f=At();var p=f.queue.dispatch;return f.memoizedState=o,[s,p,!1]}function Ps(o,s,f,p){return o={tag:o,create:f,deps:p,inst:s,next:null},s=Re.updateQueue,s===null&&(s=Of(),Re.updateQueue=s),f=s.lastEffect,f===null?s.lastEffect=o.next=o:(p=f.next,f.next=o,o.next=p,s.lastEffect=o),o}function NE(){return At().memoizedState}function Rf(o,s,f,p){var b=wn();Re.flags|=o,b.memoizedState=Ps(1|s,{destroy:void 0},f,p===void 0?null:p)}function kf(o,s,f,p){var b=At();p=p===void 0?null:p;var S=b.memoizedState.inst;tt!==null&&p!==null&&Wm(p,tt.memoizedState.deps)?b.memoizedState=Ps(s,S,f,p):(Re.flags|=o,b.memoizedState=Ps(1|s,S,f,p))}function OE(o,s){Rf(8390656,8,o,s)}function ag(o,s){kf(2048,8,o,s)}function Mj(o){Re.flags|=4;var s=Re.updateQueue;if(s===null)s=Of(),Re.updateQueue=s,s.events=[o];else{var f=s.events;f===null?s.events=[o]:f.push(o)}}function IE(o){var s=At().memoizedState;return Mj({ref:s,nextImpl:o}),function(){if((Je&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function DE(o,s){return kf(4,2,o,s)}function RE(o,s){return kf(4,4,o,s)}function kE(o,s){if(typeof s=="function"){o=o();var f=s(o);return function(){typeof f=="function"?f():s(null)}}if(s!=null)return o=o(),s.current=o,function(){s.current=null}}function LE(o,s,f){f=f!=null?f.concat([o]):null,kf(4,4,kE.bind(null,s,o),f)}function og(){}function UE(o,s){var f=At();s=s===void 0?null:s;var p=f.memoizedState;return s!==null&&Wm(s,p[1])?p[0]:(f.memoizedState=[o,s],o)}function jE(o,s){var f=At();s=s===void 0?null:s;var p=f.memoizedState;if(s!==null&&Wm(s,p[1]))return p[0];if(p=o(),xo){hr(!0);try{o()}finally{hr(!1)}}return f.memoizedState=[p,s],p}function sg(o,s,f){return f===void 0||(Ci&1073741824)!==0&&(Be&261930)===0?o.memoizedState=s:(o.memoizedState=f,o=qw(),Re.lanes|=o,ka|=o,f)}function qE(o,s,f,p){return Zn(f,s)?f:As.current!==null?(o=sg(o,f,p),Zn(o,s)||(Dt=!0),o):(Ci&42)===0||(Ci&1073741824)!==0&&(Be&261930)===0?(Dt=!0,o.memoizedState=f):(o=qw(),Re.lanes|=o,ka|=o,s)}function zE(o,s,f,p,b){var S=ne.p;ne.p=S!==0&&8>S?S:8;var M=B.T,I={};B.T=I,cg(o,!1,s,f);try{var L=b(),K=B.S;if(K!==null&&K(I,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var te=Ej(L,p);fu(o,s,te,ar(o))}else fu(o,s,p,ar(o))}catch(ae){fu(o,s,{then:function(){},status:"rejected",reason:ae},ar())}finally{ne.p=S,M!==null&&I.types!==null&&(M.types=I.types),B.T=M}}function Pj(){}function lg(o,s,f,p){if(o.tag!==5)throw Error(r(476));var b=$E(o).queue;zE(o,b,s,le,f===null?Pj:function(){return BE(o),f(p)})}function $E(o){var s=o.memoizedState;if(s!==null)return s;s={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:le},next:null};var f={};return s.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:f},next:null},o.memoizedState=s,o=o.alternate,o!==null&&(o.memoizedState=s),s}function BE(o){var s=$E(o);s.next===null&&(s=o.alternate.memoizedState),fu(o,s.next.queue,{},ar())}function ug(){return rn(Mu)}function FE(){return At().memoizedState}function HE(){return At().memoizedState}function Nj(o){for(var s=o.return;s!==null;){switch(s.tag){case 24:case 3:var f=ar();o=Pa(f);var p=Na(s,o,f);p!==null&&(jn(p,s,f),ou(p,s,f)),s={cache:jm()},o.payload=s;return}s=s.return}}function Oj(o,s,f){var p=ar();f={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Lf(o)?VE(s,f):(f=Cm(o,s,f,p),f!==null&&(jn(f,o,p),KE(f,s,p)))}function GE(o,s,f){var p=ar();fu(o,s,f,p)}function fu(o,s,f,p){var b={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(Lf(o))VE(s,b);else{var S=o.alternate;if(o.lanes===0&&(S===null||S.lanes===0)&&(S=s.lastRenderedReducer,S!==null))try{var M=s.lastRenderedState,I=S(M,f);if(b.hasEagerState=!0,b.eagerState=I,Zn(I,M))return gf(o,s,b,0),it===null&&mf(),!1}catch{}finally{}if(f=Cm(o,s,b,p),f!==null)return jn(f,o,p),KE(f,s,p),!0}return!1}function cg(o,s,f,p){if(p={lane:2,revertLane:Bg(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Lf(o)){if(s)throw Error(r(479))}else s=Cm(o,f,p,2),s!==null&&jn(s,o,2)}function Lf(o){var s=o.alternate;return o===Re||s!==null&&s===Re}function VE(o,s){Cs=Pf=!0;var f=o.pending;f===null?s.next=s:(s.next=f.next,f.next=s),o.pending=s}function KE(o,s,f){if((f&4194048)!==0){var p=s.lanes;p&=o.pendingLanes,f|=p,s.lanes=f,zl(o,f)}}var du={readContext:rn,use:If,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};du.useEffectEvent=Tt;var YE={readContext:rn,use:If,useCallback:function(o,s){return wn().memoizedState=[o,s===void 0?null:s],o},useContext:rn,useEffect:OE,useImperativeHandle:function(o,s,f){f=f!=null?f.concat([o]):null,Rf(4194308,4,kE.bind(null,s,o),f)},useLayoutEffect:function(o,s){return Rf(4194308,4,o,s)},useInsertionEffect:function(o,s){Rf(4,2,o,s)},useMemo:function(o,s){var f=wn();s=s===void 0?null:s;var p=o();if(xo){hr(!0);try{o()}finally{hr(!1)}}return f.memoizedState=[p,s],p},useReducer:function(o,s,f){var p=wn();if(f!==void 0){var b=f(s);if(xo){hr(!0);try{f(s)}finally{hr(!1)}}}else b=s;return p.memoizedState=p.baseState=b,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:b},p.queue=o,o=o.dispatch=Oj.bind(null,Re,o),[p.memoizedState,o]},useRef:function(o){var s=wn();return o={current:o},s.memoizedState=o},useState:function(o){o=rg(o);var s=o.queue,f=GE.bind(null,Re,s);return s.dispatch=f,[o.memoizedState,f]},useDebugValue:og,useDeferredValue:function(o,s){var f=wn();return sg(f,o,s)},useTransition:function(){var o=rg(!1);return o=zE.bind(null,Re,o.queue,!0,!1),wn().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,s,f){var p=Re,b=wn();if(Ge){if(f===void 0)throw Error(r(407));f=f()}else{if(f=s(),it===null)throw Error(r(349));(Be&127)!==0||mE(p,s,f)}b.memoizedState=f;var S={value:f,getSnapshot:s};return b.queue=S,OE(yE.bind(null,p,S,o),[o]),p.flags|=2048,Ps(9,{destroy:void 0},gE.bind(null,p,S,f,s),null),f},useId:function(){var o=wn(),s=it.identifierPrefix;if(Ge){var f=ti,p=ei;f=(p&~(1<<32-Nt(p)-1)).toString(32)+f,s="_"+s+"R_"+f,f=Nf++,0<f&&(s+="H"+f.toString(32)),s+="_"}else f=wj++,s="_"+s+"r_"+f.toString(32)+"_";return o.memoizedState=s},useHostTransitionStatus:ug,useFormState:AE,useActionState:AE,useOptimistic:function(o){var s=wn();s.memoizedState=s.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=f,s=cg.bind(null,Re,!0,f),f.dispatch=s,[o,s]},useMemoCache:eg,useCacheRefresh:function(){return wn().memoizedState=Nj.bind(null,Re)},useEffectEvent:function(o){var s=wn(),f={impl:o};return s.memoizedState=f,function(){if((Je&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},fg={readContext:rn,use:If,useCallback:UE,useContext:rn,useEffect:ag,useImperativeHandle:LE,useInsertionEffect:DE,useLayoutEffect:RE,useMemo:jE,useReducer:Df,useRef:NE,useState:function(){return Df(Mi)},useDebugValue:og,useDeferredValue:function(o,s){var f=At();return qE(f,tt.memoizedState,o,s)},useTransition:function(){var o=Df(Mi)[0],s=At().memoizedState;return[typeof o=="boolean"?o:cu(o),s]},useSyncExternalStore:pE,useId:FE,useHostTransitionStatus:ug,useFormState:CE,useActionState:CE,useOptimistic:function(o,s){var f=At();return _E(f,tt,o,s)},useMemoCache:eg,useCacheRefresh:HE};fg.useEffectEvent=IE;var WE={readContext:rn,use:If,useCallback:UE,useContext:rn,useEffect:ag,useImperativeHandle:LE,useInsertionEffect:DE,useLayoutEffect:RE,useMemo:jE,useReducer:ng,useRef:NE,useState:function(){return ng(Mi)},useDebugValue:og,useDeferredValue:function(o,s){var f=At();return tt===null?sg(f,o,s):qE(f,tt.memoizedState,o,s)},useTransition:function(){var o=ng(Mi)[0],s=At().memoizedState;return[typeof o=="boolean"?o:cu(o),s]},useSyncExternalStore:pE,useId:FE,useHostTransitionStatus:ug,useFormState:PE,useActionState:PE,useOptimistic:function(o,s){var f=At();return tt!==null?_E(f,tt,o,s):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:eg,useCacheRefresh:HE};WE.useEffectEvent=IE;function dg(o,s,f,p){s=o.memoizedState,f=f(p,s),f=f==null?s:m({},s,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var hg={enqueueSetState:function(o,s,f){o=o._reactInternals;var p=ar(),b=Pa(p);b.payload=s,f!=null&&(b.callback=f),s=Na(o,b,p),s!==null&&(jn(s,o,p),ou(s,o,p))},enqueueReplaceState:function(o,s,f){o=o._reactInternals;var p=ar(),b=Pa(p);b.tag=1,b.payload=s,f!=null&&(b.callback=f),s=Na(o,b,p),s!==null&&(jn(s,o,p),ou(s,o,p))},enqueueForceUpdate:function(o,s){o=o._reactInternals;var f=ar(),p=Pa(f);p.tag=2,s!=null&&(p.callback=s),s=Na(o,p,f),s!==null&&(jn(s,o,f),ou(s,o,f))}};function JE(o,s,f,p,b,S,M){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,S,M):s.prototype&&s.prototype.isPureReactComponent?!Ql(f,p)||!Ql(b,S):!0}function XE(o,s,f,p){o=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(f,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(f,p),s.state!==o&&hg.enqueueReplaceState(s,s.state,null)}function Ao(o,s){var f=s;if("ref"in s){f={};for(var p in s)p!=="ref"&&(f[p]=s[p])}if(o=o.defaultProps){f===s&&(f=m({},f));for(var b in o)f[b]===void 0&&(f[b]=o[b])}return f}function QE(o){pf(o)}function ZE(o){console.error(o)}function ew(o){pf(o)}function Uf(o,s){try{var f=o.onUncaughtError;f(s.value,{componentStack:s.stack})}catch(p){setTimeout(function(){throw p})}}function tw(o,s,f){try{var p=o.onCaughtError;p(f.value,{componentStack:f.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function pg(o,s,f){return f=Pa(f),f.tag=3,f.payload={element:null},f.callback=function(){Uf(o,s)},f}function nw(o){return o=Pa(o),o.tag=3,o}function rw(o,s,f,p){var b=f.type.getDerivedStateFromError;if(typeof b=="function"){var S=p.value;o.payload=function(){return b(S)},o.callback=function(){tw(s,f,p)}}var M=f.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(o.callback=function(){tw(s,f,p),typeof b!="function"&&(La===null?La=new Set([this]):La.add(this));var I=p.stack;this.componentDidCatch(p.value,{componentStack:I!==null?I:""})})}function Ij(o,s,f,p,b){if(f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(s=f.alternate,s!==null&&Ss(s,f,b,!0),f=tr.current,f!==null){switch(f.tag){case 31:case 13:return Sr===null?Wf():f.alternate===null&&Et===0&&(Et=3),f.flags&=-257,f.flags|=65536,f.lanes=b,p===wf?f.flags|=16384:(s=f.updateQueue,s===null?f.updateQueue=new Set([p]):s.add(p),qg(o,p,b)),!1;case 22:return f.flags|=65536,p===wf?f.flags|=16384:(s=f.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([p])},f.updateQueue=s):(f=s.retryQueue,f===null?s.retryQueue=new Set([p]):f.add(p)),qg(o,p,b)),!1}throw Error(r(435,f.tag))}return qg(o,p,b),Wf(),!1}if(Ge)return s=tr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=b,p!==Dm&&(o=Error(r(422),{cause:p}),tu(yr(o,f)))):(p!==Dm&&(s=Error(r(423),{cause:p}),tu(yr(s,f))),o=o.current.alternate,o.flags|=65536,b&=-b,o.lanes|=b,p=yr(p,f),b=pg(o.stateNode,p,b),Hm(o,b),Et!==4&&(Et=2)),!1;var S=Error(r(520),{cause:p});if(S=yr(S,f),_u===null?_u=[S]:_u.push(S),Et!==4&&(Et=2),s===null)return!0;p=yr(p,f),f=s;do{switch(f.tag){case 3:return f.flags|=65536,o=b&-b,f.lanes|=o,o=pg(f.stateNode,p,o),Hm(f,o),!1;case 1:if(s=f.type,S=f.stateNode,(f.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(La===null||!La.has(S))))return f.flags|=65536,b&=-b,f.lanes|=b,b=nw(b),rw(b,o,f,p),Hm(f,b),!1}f=f.return}while(f!==null);return!1}var mg=Error(r(461)),Dt=!1;function an(o,s,f,p){s.child=o===null?sE(s,null,f,p):wo(s,o.child,f,p)}function iw(o,s,f,p,b){f=f.render;var S=s.ref;if("ref"in p){var M={};for(var I in p)I!=="ref"&&(M[I]=p[I])}else M=p;return _o(s),p=Jm(o,s,f,M,S,b),I=Xm(),o!==null&&!Dt?(Qm(o,s,b),Pi(o,s,b)):(Ge&&I&&Om(s),s.flags|=1,an(o,s,p,b),s.child)}function aw(o,s,f,p,b){if(o===null){var S=f.type;return typeof S=="function"&&!Mm(S)&&S.defaultProps===void 0&&f.compare===null?(s.tag=15,s.type=S,ow(o,s,S,p,b)):(o=vf(f.type,null,p,s,s.mode,b),o.ref=s.ref,o.return=s,s.child=o)}if(S=o.child,!Eg(o,b)){var M=S.memoizedProps;if(f=f.compare,f=f!==null?f:Ql,f(M,p)&&o.ref===s.ref)return Pi(o,s,b)}return s.flags|=1,o=Ei(S,p),o.ref=s.ref,o.return=s,s.child=o}function ow(o,s,f,p,b){if(o!==null){var S=o.memoizedProps;if(Ql(S,p)&&o.ref===s.ref)if(Dt=!1,s.pendingProps=p=S,Eg(o,b))(o.flags&131072)!==0&&(Dt=!0);else return s.lanes=o.lanes,Pi(o,s,b)}return gg(o,s,f,p,b)}function sw(o,s,f,p){var b=p.children,S=o!==null?o.memoizedState:null;if(o===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((s.flags&128)!==0){if(S=S!==null?S.baseLanes|f:f,o!==null){for(p=s.child=o.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;p=b&~S}else p=0,s.child=null;return lw(o,s,S,f,p)}if((f&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},o!==null&&Tf(s,S!==null?S.cachePool:null),S!==null?cE(s,S):Vm(),fE(s);else return p=s.lanes=536870912,lw(o,s,S!==null?S.baseLanes|f:f,f,p)}else S!==null?(Tf(s,S.cachePool),cE(s,S),Ia(),s.memoizedState=null):(o!==null&&Tf(s,null),Vm(),Ia());return an(o,s,b,f),s.child}function hu(o,s){return o!==null&&o.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function lw(o,s,f,p,b){var S=zm();return S=S===null?null:{parent:Ot._currentValue,pool:S},s.memoizedState={baseLanes:f,cachePool:S},o!==null&&Tf(s,null),Vm(),fE(s),o!==null&&Ss(o,s,p,!0),s.childLanes=b,null}function jf(o,s){return s=zf({mode:s.mode,children:s.children},o.mode),s.ref=o.ref,o.child=s,s.return=o,s}function uw(o,s,f){return wo(s,o.child,null,f),o=jf(s,s.pendingProps),o.flags|=2,nr(s),s.memoizedState=null,o}function Dj(o,s,f){var p=s.pendingProps,b=(s.flags&128)!==0;if(s.flags&=-129,o===null){if(Ge){if(p.mode==="hidden")return o=jf(s,p),s.lanes=536870912,hu(null,o);if(Ym(s),(o=lt)?(o=Sx(o,_r),o=o!==null&&o.data==="&"?o:null,o!==null&&(s.memoizedState={dehydrated:o,treeContext:wa!==null?{id:ei,overflow:ti}:null,retryLane:536870912,hydrationErrors:null},f=VT(o),f.return=s,s.child=f,nn=s,lt=null)):o=null,o===null)throw Aa(s);return s.lanes=536870912,null}return jf(s,p)}var S=o.memoizedState;if(S!==null){var M=S.dehydrated;if(Ym(s),b)if(s.flags&256)s.flags&=-257,s=uw(o,s,f);else if(s.memoizedState!==null)s.child=o.child,s.flags|=128,s=null;else throw Error(r(558));else if(Dt||Ss(o,s,f,!1),b=(f&o.childLanes)!==0,Dt||b){if(p=it,p!==null&&(M=$l(p,f),M!==0&&M!==S.retryLane))throw S.retryLane=M,go(o,M),jn(p,o,M),mg;Wf(),s=uw(o,s,f)}else o=S.treeContext,lt=Tr(M.nextSibling),nn=s,Ge=!0,xa=null,_r=!1,o!==null&&WT(s,o),s=jf(s,p),s.flags|=4096;return s}return o=Ei(o.child,{mode:p.mode,children:p.children}),o.ref=s.ref,s.child=o,o.return=s,o}function qf(o,s){var f=s.ref;if(f===null)o!==null&&o.ref!==null&&(s.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(o===null||o.ref!==f)&&(s.flags|=4194816)}}function gg(o,s,f,p,b){return _o(s),f=Jm(o,s,f,p,void 0,b),p=Xm(),o!==null&&!Dt?(Qm(o,s,b),Pi(o,s,b)):(Ge&&p&&Om(s),s.flags|=1,an(o,s,f,b),s.child)}function cw(o,s,f,p,b,S){return _o(s),s.updateQueue=null,f=hE(s,p,f,b),dE(o),p=Xm(),o!==null&&!Dt?(Qm(o,s,S),Pi(o,s,S)):(Ge&&p&&Om(s),s.flags|=1,an(o,s,f,S),s.child)}function fw(o,s,f,p,b){if(_o(s),s.stateNode===null){var S=ys,M=f.contextType;typeof M=="object"&&M!==null&&(S=rn(M)),S=new f(p,S),s.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=hg,s.stateNode=S,S._reactInternals=s,S=s.stateNode,S.props=p,S.state=s.memoizedState,S.refs={},Bm(s),M=f.contextType,S.context=typeof M=="object"&&M!==null?rn(M):ys,S.state=s.memoizedState,M=f.getDerivedStateFromProps,typeof M=="function"&&(dg(s,f,M,p),S.state=s.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(M=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),M!==S.state&&hg.enqueueReplaceState(S,S.state,null),lu(s,p,S,b),su(),S.state=s.memoizedState),typeof S.componentDidMount=="function"&&(s.flags|=4194308),p=!0}else if(o===null){S=s.stateNode;var I=s.memoizedProps,L=Ao(f,I);S.props=L;var K=S.context,te=f.contextType;M=ys,typeof te=="object"&&te!==null&&(M=rn(te));var ae=f.getDerivedStateFromProps;te=typeof ae=="function"||typeof S.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,te||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(I||K!==M)&&XE(s,S,p,M),Ma=!1;var Y=s.memoizedState;S.state=Y,lu(s,p,S,b),su(),K=s.memoizedState,I||Y!==K||Ma?(typeof ae=="function"&&(dg(s,f,ae,p),K=s.memoizedState),(L=Ma||JE(s,f,L,p,Y,K,M))?(te||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(s.flags|=4194308)):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=K),S.props=p,S.state=K,S.context=M,p=L):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{S=s.stateNode,Fm(o,s),M=s.memoizedProps,te=Ao(f,M),S.props=te,ae=s.pendingProps,Y=S.context,K=f.contextType,L=ys,typeof K=="object"&&K!==null&&(L=rn(K)),I=f.getDerivedStateFromProps,(K=typeof I=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==ae||Y!==L)&&XE(s,S,p,L),Ma=!1,Y=s.memoizedState,S.state=Y,lu(s,p,S,b),su();var J=s.memoizedState;M!==ae||Y!==J||Ma||o!==null&&o.dependencies!==null&&_f(o.dependencies)?(typeof I=="function"&&(dg(s,f,I,p),J=s.memoizedState),(te=Ma||JE(s,f,te,p,Y,J,L)||o!==null&&o.dependencies!==null&&_f(o.dependencies))?(K||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,J,L),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,J,L)),typeof S.componentDidUpdate=="function"&&(s.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof S.componentDidUpdate!="function"||M===o.memoizedProps&&Y===o.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===o.memoizedProps&&Y===o.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=J),S.props=p,S.state=J,S.context=L,p=te):(typeof S.componentDidUpdate!="function"||M===o.memoizedProps&&Y===o.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===o.memoizedProps&&Y===o.memoizedState||(s.flags|=1024),p=!1)}return S=p,qf(o,s),p=(s.flags&128)!==0,S||p?(S=s.stateNode,f=p&&typeof f.getDerivedStateFromError!="function"?null:S.render(),s.flags|=1,o!==null&&p?(s.child=wo(s,o.child,null,b),s.child=wo(s,null,f,b)):an(o,s,f,b),s.memoizedState=S.state,o=s.child):o=Pi(o,s,b),o}function dw(o,s,f,p){return vo(),s.flags|=256,an(o,s,f,p),s.child}var yg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vg(o){return{baseLanes:o,cachePool:tE()}}function bg(o,s,f){return o=o!==null?o.childLanes&~f:0,s&&(o|=ir),o}function hw(o,s,f){var p=s.pendingProps,b=!1,S=(s.flags&128)!==0,M;if((M=S)||(M=o!==null&&o.memoizedState===null?!1:(xt.current&2)!==0),M&&(b=!0,s.flags&=-129),M=(s.flags&32)!==0,s.flags&=-33,o===null){if(Ge){if(b?Oa(s):Ia(),(o=lt)?(o=Sx(o,_r),o=o!==null&&o.data!=="&"?o:null,o!==null&&(s.memoizedState={dehydrated:o,treeContext:wa!==null?{id:ei,overflow:ti}:null,retryLane:536870912,hydrationErrors:null},f=VT(o),f.return=s,s.child=f,nn=s,lt=null)):o=null,o===null)throw Aa(s);return ty(o)?s.lanes=32:s.lanes=536870912,null}var I=p.children;return p=p.fallback,b?(Ia(),b=s.mode,I=zf({mode:"hidden",children:I},b),p=yo(p,b,f,null),I.return=s,p.return=s,I.sibling=p,s.child=I,p=s.child,p.memoizedState=vg(f),p.childLanes=bg(o,M,f),s.memoizedState=yg,hu(null,p)):(Oa(s),_g(s,I))}var L=o.memoizedState;if(L!==null&&(I=L.dehydrated,I!==null)){if(S)s.flags&256?(Oa(s),s.flags&=-257,s=Sg(o,s,f)):s.memoizedState!==null?(Ia(),s.child=o.child,s.flags|=128,s=null):(Ia(),I=p.fallback,b=s.mode,p=zf({mode:"visible",children:p.children},b),I=yo(I,b,f,null),I.flags|=2,p.return=s,I.return=s,p.sibling=I,s.child=p,wo(s,o.child,null,f),p=s.child,p.memoizedState=vg(f),p.childLanes=bg(o,M,f),s.memoizedState=yg,s=hu(null,p));else if(Oa(s),ty(I)){if(M=I.nextSibling&&I.nextSibling.dataset,M)var K=M.dgst;M=K,p=Error(r(419)),p.stack="",p.digest=M,tu({value:p,source:null,stack:null}),s=Sg(o,s,f)}else if(Dt||Ss(o,s,f,!1),M=(f&o.childLanes)!==0,Dt||M){if(M=it,M!==null&&(p=$l(M,f),p!==0&&p!==L.retryLane))throw L.retryLane=p,go(o,p),jn(M,o,p),mg;ey(I)||Wf(),s=Sg(o,s,f)}else ey(I)?(s.flags|=192,s.child=o.child,s=null):(o=L.treeContext,lt=Tr(I.nextSibling),nn=s,Ge=!0,xa=null,_r=!1,o!==null&&WT(s,o),s=_g(s,p.children),s.flags|=4096);return s}return b?(Ia(),I=p.fallback,b=s.mode,L=o.child,K=L.sibling,p=Ei(L,{mode:"hidden",children:p.children}),p.subtreeFlags=L.subtreeFlags&65011712,K!==null?I=Ei(K,I):(I=yo(I,b,f,null),I.flags|=2),I.return=s,p.return=s,p.sibling=I,s.child=p,hu(null,p),p=s.child,I=o.child.memoizedState,I===null?I=vg(f):(b=I.cachePool,b!==null?(L=Ot._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=tE(),I={baseLanes:I.baseLanes|f,cachePool:b}),p.memoizedState=I,p.childLanes=bg(o,M,f),s.memoizedState=yg,hu(o.child,p)):(Oa(s),f=o.child,o=f.sibling,f=Ei(f,{mode:"visible",children:p.children}),f.return=s,f.sibling=null,o!==null&&(M=s.deletions,M===null?(s.deletions=[o],s.flags|=16):M.push(o)),s.child=f,s.memoizedState=null,f)}function _g(o,s){return s=zf({mode:"visible",children:s},o.mode),s.return=o,o.child=s}function zf(o,s){return o=er(22,o,null,s),o.lanes=0,o}function Sg(o,s,f){return wo(s,o.child,null,f),o=_g(s,s.pendingProps.children),o.flags|=2,s.memoizedState=null,o}function pw(o,s,f){o.lanes|=s;var p=o.alternate;p!==null&&(p.lanes|=s),Lm(o.return,s,f)}function Tg(o,s,f,p,b,S){var M=o.memoizedState;M===null?o.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:f,tailMode:b,treeForkCount:S}:(M.isBackwards=s,M.rendering=null,M.renderingStartTime=0,M.last=p,M.tail=f,M.tailMode=b,M.treeForkCount=S)}function mw(o,s,f){var p=s.pendingProps,b=p.revealOrder,S=p.tail;p=p.children;var M=xt.current,I=(M&2)!==0;if(I?(M=M&1|2,s.flags|=128):M&=1,se(xt,M),an(o,s,p,f),p=Ge?eu:0,!I&&o!==null&&(o.flags&128)!==0)e:for(o=s.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&pw(o,f,s);else if(o.tag===19)pw(o,f,s);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(b){case"forwards":for(f=s.child,b=null;f!==null;)o=f.alternate,o!==null&&Mf(o)===null&&(b=f),f=f.sibling;f=b,f===null?(b=s.child,s.child=null):(b=f.sibling,f.sibling=null),Tg(s,!1,b,f,S,p);break;case"backwards":case"unstable_legacy-backwards":for(f=null,b=s.child,s.child=null;b!==null;){if(o=b.alternate,o!==null&&Mf(o)===null){s.child=b;break}o=b.sibling,b.sibling=f,f=b,b=o}Tg(s,!0,f,null,S,p);break;case"together":Tg(s,!1,null,null,void 0,p);break;default:s.memoizedState=null}return s.child}function Pi(o,s,f){if(o!==null&&(s.dependencies=o.dependencies),ka|=s.lanes,(f&s.childLanes)===0)if(o!==null){if(Ss(o,s,f,!1),(f&s.childLanes)===0)return null}else return null;if(o!==null&&s.child!==o.child)throw Error(r(153));if(s.child!==null){for(o=s.child,f=Ei(o,o.pendingProps),s.child=f,f.return=s;o.sibling!==null;)o=o.sibling,f=f.sibling=Ei(o,o.pendingProps),f.return=s;f.sibling=null}return s.child}function Eg(o,s){return(o.lanes&s)!==0?!0:(o=o.dependencies,!!(o!==null&&_f(o)))}function Rj(o,s,f){switch(s.tag){case 3:Ie(s,s.stateNode.containerInfo),Ca(s,Ot,o.memoizedState.cache),vo();break;case 27:case 5:we(s);break;case 4:Ie(s,s.stateNode.containerInfo);break;case 10:Ca(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Ym(s),null;break;case 13:var p=s.memoizedState;if(p!==null)return p.dehydrated!==null?(Oa(s),s.flags|=128,null):(f&s.child.childLanes)!==0?hw(o,s,f):(Oa(s),o=Pi(o,s,f),o!==null?o.sibling:null);Oa(s);break;case 19:var b=(o.flags&128)!==0;if(p=(f&s.childLanes)!==0,p||(Ss(o,s,f,!1),p=(f&s.childLanes)!==0),b){if(p)return mw(o,s,f);s.flags|=128}if(b=s.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),se(xt,xt.current),p)break;return null;case 22:return s.lanes=0,sw(o,s,f,s.pendingProps);case 24:Ca(s,Ot,o.memoizedState.cache)}return Pi(o,s,f)}function gw(o,s,f){if(o!==null)if(o.memoizedProps!==s.pendingProps)Dt=!0;else{if(!Eg(o,f)&&(s.flags&128)===0)return Dt=!1,Rj(o,s,f);Dt=(o.flags&131072)!==0}else Dt=!1,Ge&&(s.flags&1048576)!==0&&YT(s,eu,s.index);switch(s.lanes=0,s.tag){case 16:e:{var p=s.pendingProps;if(o=To(s.elementType),s.type=o,typeof o=="function")Mm(o)?(p=Ao(o,p),s.tag=1,s=fw(null,s,o,p,f)):(s.tag=0,s=gg(null,s,o,p,f));else{if(o!=null){var b=o.$$typeof;if(b===D){s.tag=11,s=iw(null,s,o,p,f);break e}else if(b===k){s.tag=14,s=aw(null,s,o,p,f);break e}}throw s=me(o)||o,Error(r(306,s,""))}}return s;case 0:return gg(o,s,s.type,s.pendingProps,f);case 1:return p=s.type,b=Ao(p,s.pendingProps),fw(o,s,p,b,f);case 3:e:{if(Ie(s,s.stateNode.containerInfo),o===null)throw Error(r(387));p=s.pendingProps;var S=s.memoizedState;b=S.element,Fm(o,s),lu(s,p,null,f);var M=s.memoizedState;if(p=M.cache,Ca(s,Ot,p),p!==S.cache&&Um(s,[Ot],f,!0),su(),p=M.element,S.isDehydrated)if(S={element:p,isDehydrated:!1,cache:M.cache},s.updateQueue.baseState=S,s.memoizedState=S,s.flags&256){s=dw(o,s,p,f);break e}else if(p!==b){b=yr(Error(r(424)),s),tu(b),s=dw(o,s,p,f);break e}else{switch(o=s.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(lt=Tr(o.firstChild),nn=s,Ge=!0,xa=null,_r=!0,f=sE(s,null,p,f),s.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(vo(),p===b){s=Pi(o,s,f);break e}an(o,s,p,f)}s=s.child}return s;case 26:return qf(o,s),o===null?(f=Cx(s.type,null,s.pendingProps,null))?s.memoizedState=f:Ge||(f=s.type,o=s.pendingProps,p=nd(he.current).createElement(f),p[Te]=s,p[Pe]=o,on(p,f,o),Kt(p),s.stateNode=p):s.memoizedState=Cx(s.type,o.memoizedProps,s.pendingProps,o.memoizedState),null;case 27:return we(s),o===null&&Ge&&(p=s.stateNode=wx(s.type,s.pendingProps,he.current),nn=s,_r=!0,b=lt,za(s.type)?(ny=b,lt=Tr(p.firstChild)):lt=b),an(o,s,s.pendingProps.children,f),qf(o,s),o===null&&(s.flags|=4194304),s.child;case 5:return o===null&&Ge&&((b=p=lt)&&(p=cq(p,s.type,s.pendingProps,_r),p!==null?(s.stateNode=p,nn=s,lt=Tr(p.firstChild),_r=!1,b=!0):b=!1),b||Aa(s)),we(s),b=s.type,S=s.pendingProps,M=o!==null?o.memoizedProps:null,p=S.children,Xg(b,S)?p=null:M!==null&&Xg(b,M)&&(s.flags|=32),s.memoizedState!==null&&(b=Jm(o,s,xj,null,null,f),Mu._currentValue=b),qf(o,s),an(o,s,p,f),s.child;case 6:return o===null&&Ge&&((o=f=lt)&&(f=fq(f,s.pendingProps,_r),f!==null?(s.stateNode=f,nn=s,lt=null,o=!0):o=!1),o||Aa(s)),null;case 13:return hw(o,s,f);case 4:return Ie(s,s.stateNode.containerInfo),p=s.pendingProps,o===null?s.child=wo(s,null,p,f):an(o,s,p,f),s.child;case 11:return iw(o,s,s.type,s.pendingProps,f);case 7:return an(o,s,s.pendingProps,f),s.child;case 8:return an(o,s,s.pendingProps.children,f),s.child;case 12:return an(o,s,s.pendingProps.children,f),s.child;case 10:return p=s.pendingProps,Ca(s,s.type,p.value),an(o,s,p.children,f),s.child;case 9:return b=s.type._context,p=s.pendingProps.children,_o(s),b=rn(b),p=p(b),s.flags|=1,an(o,s,p,f),s.child;case 14:return aw(o,s,s.type,s.pendingProps,f);case 15:return ow(o,s,s.type,s.pendingProps,f);case 19:return mw(o,s,f);case 31:return Dj(o,s,f);case 22:return sw(o,s,f,s.pendingProps);case 24:return _o(s),p=rn(Ot),o===null?(b=zm(),b===null&&(b=it,S=jm(),b.pooledCache=S,S.refCount++,S!==null&&(b.pooledCacheLanes|=f),b=S),s.memoizedState={parent:p,cache:b},Bm(s),Ca(s,Ot,b)):((o.lanes&f)!==0&&(Fm(o,s),lu(s,null,null,f),su()),b=o.memoizedState,S=s.memoizedState,b.parent!==p?(b={parent:p,cache:p},s.memoizedState=b,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=b),Ca(s,Ot,p)):(p=S.cache,Ca(s,Ot,p),p!==b.cache&&Um(s,[Ot],f,!0))),an(o,s,s.pendingProps.children,f),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ni(o){o.flags|=4}function wg(o,s,f,p,b){if((s=(o.mode&32)!==0)&&(s=!1),s){if(o.flags|=16777216,(b&335544128)===b)if(o.stateNode.complete)o.flags|=8192;else if(Fw())o.flags|=8192;else throw Eo=wf,$m}else o.flags&=-16777217}function yw(o,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!Ix(s))if(Fw())o.flags|=8192;else throw Eo=wf,$m}function $f(o,s){s!==null&&(o.flags|=4),o.flags&16384&&(s=o.tag!==22?Xn():536870912,o.lanes|=s,Ds|=s)}function pu(o,s){if(!Ge)switch(o.tailMode){case"hidden":s=o.tail;for(var f=null;s!==null;)s.alternate!==null&&(f=s),s=s.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?s||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function ut(o){var s=o.alternate!==null&&o.alternate.child===o.child,f=0,p=0;if(s)for(var b=o.child;b!==null;)f|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=o,b=b.sibling;else for(b=o.child;b!==null;)f|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=o,b=b.sibling;return o.subtreeFlags|=p,o.childLanes=f,s}function kj(o,s,f){var p=s.pendingProps;switch(Im(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(s),null;case 1:return ut(s),null;case 3:return f=s.stateNode,p=null,o!==null&&(p=o.memoizedState.cache),s.memoizedState.cache!==p&&(s.flags|=2048),Ai(Ot),ee(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(_s(s)?Ni(s):o===null||o.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Rm())),ut(s),null;case 26:var b=s.type,S=s.memoizedState;return o===null?(Ni(s),S!==null?(ut(s),yw(s,S)):(ut(s),wg(s,b,null,p,f))):S?S!==o.memoizedState?(Ni(s),ut(s),yw(s,S)):(ut(s),s.flags&=-16777217):(o=o.memoizedProps,o!==p&&Ni(s),ut(s),wg(s,b,o,p,f)),null;case 27:if(De(s),f=he.current,b=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==p&&Ni(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return ut(s),null}o=ce.current,_s(s)?JT(s):(o=wx(b,p,f),s.stateNode=o,Ni(s))}return ut(s),null;case 5:if(De(s),b=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==p&&Ni(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return ut(s),null}if(S=ce.current,_s(s))JT(s);else{var M=nd(he.current);switch(S){case 1:S=M.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:S=M.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":S=M.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":S=M.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":S=M.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof p.is=="string"?M.createElement("select",{is:p.is}):M.createElement("select"),p.multiple?S.multiple=!0:p.size&&(S.size=p.size);break;default:S=typeof p.is=="string"?M.createElement(b,{is:p.is}):M.createElement(b)}}S[Te]=s,S[Pe]=p;e:for(M=s.child;M!==null;){if(M.tag===5||M.tag===6)S.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===s)break e;for(;M.sibling===null;){if(M.return===null||M.return===s)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}s.stateNode=S;e:switch(on(S,b,p),b){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Ni(s)}}return ut(s),wg(s,s.type,o===null?null:o.memoizedProps,s.pendingProps,f),null;case 6:if(o&&s.stateNode!=null)o.memoizedProps!==p&&Ni(s);else{if(typeof p!="string"&&s.stateNode===null)throw Error(r(166));if(o=he.current,_s(s)){if(o=s.stateNode,f=s.memoizedProps,p=null,b=nn,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}o[Te]=s,o=!!(o.nodeValue===f||p!==null&&p.suppressHydrationWarning===!0||hx(o.nodeValue,f)),o||Aa(s,!0)}else o=nd(o).createTextNode(p),o[Te]=s,s.stateNode=o}return ut(s),null;case 31:if(f=s.memoizedState,o===null||o.memoizedState!==null){if(p=_s(s),f!==null){if(o===null){if(!p)throw Error(r(318));if(o=s.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[Te]=s}else vo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ut(s),o=!1}else f=Rm(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=f),o=!0;if(!o)return s.flags&256?(nr(s),s):(nr(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ut(s),null;case 13:if(p=s.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(b=_s(s),p!==null&&p.dehydrated!==null){if(o===null){if(!b)throw Error(r(318));if(b=s.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[Te]=s}else vo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ut(s),b=!1}else b=Rm(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=b),b=!0;if(!b)return s.flags&256?(nr(s),s):(nr(s),null)}return nr(s),(s.flags&128)!==0?(s.lanes=f,s):(f=p!==null,o=o!==null&&o.memoizedState!==null,f&&(p=s.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool),S=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),S!==b&&(p.flags|=2048)),f!==o&&f&&(s.child.flags|=8192),$f(s,s.updateQueue),ut(s),null);case 4:return ee(),o===null&&Vg(s.stateNode.containerInfo),ut(s),null;case 10:return Ai(s.type),ut(s),null;case 19:if(X(xt),p=s.memoizedState,p===null)return ut(s),null;if(b=(s.flags&128)!==0,S=p.rendering,S===null)if(b)pu(p,!1);else{if(Et!==0||o!==null&&(o.flags&128)!==0)for(o=s.child;o!==null;){if(S=Mf(o),S!==null){for(s.flags|=128,pu(p,!1),o=S.updateQueue,s.updateQueue=o,$f(s,o),s.subtreeFlags=0,o=f,f=s.child;f!==null;)GT(f,o),f=f.sibling;return se(xt,xt.current&1|2),Ge&&wi(s,p.treeForkCount),s.child}o=o.sibling}p.tail!==null&&Ue()>Vf&&(s.flags|=128,b=!0,pu(p,!1),s.lanes=4194304)}else{if(!b)if(o=Mf(S),o!==null){if(s.flags|=128,b=!0,o=o.updateQueue,s.updateQueue=o,$f(s,o),pu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!S.alternate&&!Ge)return ut(s),null}else 2*Ue()-p.renderingStartTime>Vf&&f!==536870912&&(s.flags|=128,b=!0,pu(p,!1),s.lanes=4194304);p.isBackwards?(S.sibling=s.child,s.child=S):(o=p.last,o!==null?o.sibling=S:s.child=S,p.last=S)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=Ue(),o.sibling=null,f=xt.current,se(xt,b?f&1|2:f&1),Ge&&wi(s,p.treeForkCount),o):(ut(s),null);case 22:case 23:return nr(s),Km(),p=s.memoizedState!==null,o!==null?o.memoizedState!==null!==p&&(s.flags|=8192):p&&(s.flags|=8192),p?(f&536870912)!==0&&(s.flags&128)===0&&(ut(s),s.subtreeFlags&6&&(s.flags|=8192)):ut(s),f=s.updateQueue,f!==null&&$f(s,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==f&&(s.flags|=2048),o!==null&&X(So),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),Ai(Ot),ut(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Lj(o,s){switch(Im(s),s.tag){case 1:return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 3:return Ai(Ot),ee(),o=s.flags,(o&65536)!==0&&(o&128)===0?(s.flags=o&-65537|128,s):null;case 26:case 27:case 5:return De(s),null;case 31:if(s.memoizedState!==null){if(nr(s),s.alternate===null)throw Error(r(340));vo()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 13:if(nr(s),o=s.memoizedState,o!==null&&o.dehydrated!==null){if(s.alternate===null)throw Error(r(340));vo()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 19:return X(xt),null;case 4:return ee(),null;case 10:return Ai(s.type),null;case 22:case 23:return nr(s),Km(),o!==null&&X(So),o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 24:return Ai(Ot),null;case 25:return null;default:return null}}function vw(o,s){switch(Im(s),s.tag){case 3:Ai(Ot),ee();break;case 26:case 27:case 5:De(s);break;case 4:ee();break;case 31:s.memoizedState!==null&&nr(s);break;case 13:nr(s);break;case 19:X(xt);break;case 10:Ai(s.type);break;case 22:case 23:nr(s),Km(),o!==null&&X(So);break;case 24:Ai(Ot)}}function mu(o,s){try{var f=s.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var b=p.next;f=b;do{if((f.tag&o)===o){p=void 0;var S=f.create,M=f.inst;p=S(),M.destroy=p}f=f.next}while(f!==b)}}catch(I){Qe(s,s.return,I)}}function Da(o,s,f){try{var p=s.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var S=b.next;p=S;do{if((p.tag&o)===o){var M=p.inst,I=M.destroy;if(I!==void 0){M.destroy=void 0,b=s;var L=f,K=I;try{K()}catch(te){Qe(b,L,te)}}}p=p.next}while(p!==S)}}catch(te){Qe(s,s.return,te)}}function bw(o){var s=o.updateQueue;if(s!==null){var f=o.stateNode;try{uE(s,f)}catch(p){Qe(o,o.return,p)}}}function _w(o,s,f){f.props=Ao(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(p){Qe(o,s,p)}}function gu(o,s){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var p=o.stateNode;break;case 30:p=o.stateNode;break;default:p=o.stateNode}typeof f=="function"?o.refCleanup=f(p):f.current=p}}catch(b){Qe(o,s,b)}}function ni(o,s){var f=o.ref,p=o.refCleanup;if(f!==null)if(typeof p=="function")try{p()}catch(b){Qe(o,s,b)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(b){Qe(o,s,b)}else f.current=null}function Sw(o){var s=o.type,f=o.memoizedProps,p=o.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":f.autoFocus&&p.focus();break e;case"img":f.src?p.src=f.src:f.srcSet&&(p.srcset=f.srcSet)}}catch(b){Qe(o,o.return,b)}}function xg(o,s,f){try{var p=o.stateNode;iq(p,o.type,f,s),p[Pe]=s}catch(b){Qe(o,o.return,b)}}function Tw(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&za(o.type)||o.tag===4}function Ag(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Tw(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&za(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Cg(o,s,f){var p=o.tag;if(p===5||p===6)o=o.stateNode,s?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,s):(s=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,s.appendChild(o),f=f._reactRootContainer,f!=null||s.onclick!==null||(s.onclick=Si));else if(p!==4&&(p===27&&za(o.type)&&(f=o.stateNode,s=null),o=o.child,o!==null))for(Cg(o,s,f),o=o.sibling;o!==null;)Cg(o,s,f),o=o.sibling}function Bf(o,s,f){var p=o.tag;if(p===5||p===6)o=o.stateNode,s?f.insertBefore(o,s):f.appendChild(o);else if(p!==4&&(p===27&&za(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(Bf(o,s,f),o=o.sibling;o!==null;)Bf(o,s,f),o=o.sibling}function Ew(o){var s=o.stateNode,f=o.memoizedProps;try{for(var p=o.type,b=s.attributes;b.length;)s.removeAttributeNode(b[0]);on(s,p,f),s[Te]=o,s[Pe]=f}catch(S){Qe(o,o.return,S)}}var Oi=!1,Rt=!1,Mg=!1,ww=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function Uj(o,s){if(o=o.containerInfo,Wg=ud,o=LT(o),Sm(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var p=f.getSelection&&f.getSelection();if(p&&p.rangeCount!==0){f=p.anchorNode;var b=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var M=0,I=-1,L=-1,K=0,te=0,ae=o,Y=null;t:for(;;){for(var J;ae!==f||b!==0&&ae.nodeType!==3||(I=M+b),ae!==S||p!==0&&ae.nodeType!==3||(L=M+p),ae.nodeType===3&&(M+=ae.nodeValue.length),(J=ae.firstChild)!==null;)Y=ae,ae=J;for(;;){if(ae===o)break t;if(Y===f&&++K===b&&(I=M),Y===S&&++te===p&&(L=M),(J=ae.nextSibling)!==null)break;ae=Y,Y=ae.parentNode}ae=J}f=I===-1||L===-1?null:{start:I,end:L}}else f=null}f=f||{start:0,end:0}}else f=null;for(Jg={focusedElem:o,selectionRange:f},ud=!1,Yt=s;Yt!==null;)if(s=Yt,o=s.child,(s.subtreeFlags&1028)!==0&&o!==null)o.return=s,Yt=o;else for(;Yt!==null;){switch(s=Yt,S=s.alternate,o=s.flags,s.tag){case 0:if((o&4)!==0&&(o=s.updateQueue,o=o!==null?o.events:null,o!==null))for(f=0;f<o.length;f++)b=o[f],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&S!==null){o=void 0,f=s,b=S.memoizedProps,S=S.memoizedState,p=f.stateNode;try{var ye=Ao(f.type,b);o=p.getSnapshotBeforeUpdate(ye,S),p.__reactInternalSnapshotBeforeUpdate=o}catch(Ce){Qe(f,f.return,Ce)}}break;case 3:if((o&1024)!==0){if(o=s.stateNode.containerInfo,f=o.nodeType,f===9)Zg(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Zg(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=s.sibling,o!==null){o.return=s.return,Yt=o;break}Yt=s.return}}function xw(o,s,f){var p=f.flags;switch(f.tag){case 0:case 11:case 15:Di(o,f),p&4&&mu(5,f);break;case 1:if(Di(o,f),p&4)if(o=f.stateNode,s===null)try{o.componentDidMount()}catch(M){Qe(f,f.return,M)}else{var b=Ao(f.type,s.memoizedProps);s=s.memoizedState;try{o.componentDidUpdate(b,s,o.__reactInternalSnapshotBeforeUpdate)}catch(M){Qe(f,f.return,M)}}p&64&&bw(f),p&512&&gu(f,f.return);break;case 3:if(Di(o,f),p&64&&(o=f.updateQueue,o!==null)){if(s=null,f.child!==null)switch(f.child.tag){case 27:case 5:s=f.child.stateNode;break;case 1:s=f.child.stateNode}try{uE(o,s)}catch(M){Qe(f,f.return,M)}}break;case 27:s===null&&p&4&&Ew(f);case 26:case 5:Di(o,f),s===null&&p&4&&Sw(f),p&512&&gu(f,f.return);break;case 12:Di(o,f);break;case 31:Di(o,f),p&4&&Mw(o,f);break;case 13:Di(o,f),p&4&&Pw(o,f),p&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=Vj.bind(null,f),dq(o,f))));break;case 22:if(p=f.memoizedState!==null||Oi,!p){s=s!==null&&s.memoizedState!==null||Rt,b=Oi;var S=Rt;Oi=p,(Rt=s)&&!S?Ri(o,f,(f.subtreeFlags&8772)!==0):Di(o,f),Oi=b,Rt=S}break;case 30:break;default:Di(o,f)}}function Aw(o){var s=o.alternate;s!==null&&(o.alternate=null,Aw(s)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(s=o.stateNode,s!==null&&Ta(s)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var mt=null,Rn=!1;function Ii(o,s,f){for(f=f.child;f!==null;)Cw(o,s,f),f=f.sibling}function Cw(o,s,f){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(yi,f)}catch{}switch(f.tag){case 26:Rt||ni(f,s),Ii(o,s,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Rt||ni(f,s);var p=mt,b=Rn;za(f.type)&&(mt=f.stateNode,Rn=!1),Ii(o,s,f),xu(f.stateNode),mt=p,Rn=b;break;case 5:Rt||ni(f,s);case 6:if(p=mt,b=Rn,mt=null,Ii(o,s,f),mt=p,Rn=b,mt!==null)if(Rn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(f.stateNode)}catch(S){Qe(f,s,S)}else try{mt.removeChild(f.stateNode)}catch(S){Qe(f,s,S)}break;case 18:mt!==null&&(Rn?(o=mt,bx(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),$s(o)):bx(mt,f.stateNode));break;case 4:p=mt,b=Rn,mt=f.stateNode.containerInfo,Rn=!0,Ii(o,s,f),mt=p,Rn=b;break;case 0:case 11:case 14:case 15:Da(2,f,s),Rt||Da(4,f,s),Ii(o,s,f);break;case 1:Rt||(ni(f,s),p=f.stateNode,typeof p.componentWillUnmount=="function"&&_w(f,s,p)),Ii(o,s,f);break;case 21:Ii(o,s,f);break;case 22:Rt=(p=Rt)||f.memoizedState!==null,Ii(o,s,f),Rt=p;break;default:Ii(o,s,f)}}function Mw(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{$s(o)}catch(f){Qe(s,s.return,f)}}}function Pw(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{$s(o)}catch(f){Qe(s,s.return,f)}}function jj(o){switch(o.tag){case 31:case 13:case 19:var s=o.stateNode;return s===null&&(s=o.stateNode=new ww),s;case 22:return o=o.stateNode,s=o._retryCache,s===null&&(s=o._retryCache=new ww),s;default:throw Error(r(435,o.tag))}}function Ff(o,s){var f=jj(o);s.forEach(function(p){if(!f.has(p)){f.add(p);var b=Kj.bind(null,o,p);p.then(b,b)}})}function kn(o,s){var f=s.deletions;if(f!==null)for(var p=0;p<f.length;p++){var b=f[p],S=o,M=s,I=M;e:for(;I!==null;){switch(I.tag){case 27:if(za(I.type)){mt=I.stateNode,Rn=!1;break e}break;case 5:mt=I.stateNode,Rn=!1;break e;case 3:case 4:mt=I.stateNode.containerInfo,Rn=!0;break e}I=I.return}if(mt===null)throw Error(r(160));Cw(S,M,b),mt=null,Rn=!1,S=b.alternate,S!==null&&(S.return=null),b.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Nw(s,o),s=s.sibling}var zr=null;function Nw(o,s){var f=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:kn(s,o),Ln(o),p&4&&(Da(3,o,o.return),mu(3,o),Da(5,o,o.return));break;case 1:kn(s,o),Ln(o),p&512&&(Rt||f===null||ni(f,f.return)),p&64&&Oi&&(o=o.updateQueue,o!==null&&(p=o.callbacks,p!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?p:f.concat(p))));break;case 26:var b=zr;if(kn(s,o),Ln(o),p&512&&(Rt||f===null||ni(f,f.return)),p&4){var S=f!==null?f.memoizedState:null;if(p=o.memoizedState,f===null)if(p===null)if(o.stateNode===null){e:{p=o.type,f=o.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":S=b.getElementsByTagName("title")[0],(!S||S[Qn]||S[Te]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=b.createElement(p),b.head.insertBefore(S,b.querySelector("head > title"))),on(S,p,f),S[Te]=o,Kt(S),p=S;break e;case"link":var M=Nx("link","href",b).get(p+(f.href||""));if(M){for(var I=0;I<M.length;I++)if(S=M[I],S.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&S.getAttribute("rel")===(f.rel==null?null:f.rel)&&S.getAttribute("title")===(f.title==null?null:f.title)&&S.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){M.splice(I,1);break t}}S=b.createElement(p),on(S,p,f),b.head.appendChild(S);break;case"meta":if(M=Nx("meta","content",b).get(p+(f.content||""))){for(I=0;I<M.length;I++)if(S=M[I],S.getAttribute("content")===(f.content==null?null:""+f.content)&&S.getAttribute("name")===(f.name==null?null:f.name)&&S.getAttribute("property")===(f.property==null?null:f.property)&&S.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&S.getAttribute("charset")===(f.charSet==null?null:f.charSet)){M.splice(I,1);break t}}S=b.createElement(p),on(S,p,f),b.head.appendChild(S);break;default:throw Error(r(468,p))}S[Te]=o,Kt(S),p=S}o.stateNode=p}else Ox(b,o.type,o.stateNode);else o.stateNode=Px(b,p,o.memoizedProps);else S!==p?(S===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):S.count--,p===null?Ox(b,o.type,o.stateNode):Px(b,p,o.memoizedProps)):p===null&&o.stateNode!==null&&xg(o,o.memoizedProps,f.memoizedProps)}break;case 27:kn(s,o),Ln(o),p&512&&(Rt||f===null||ni(f,f.return)),f!==null&&p&4&&xg(o,o.memoizedProps,f.memoizedProps);break;case 5:if(kn(s,o),Ln(o),p&512&&(Rt||f===null||ni(f,f.return)),o.flags&32){b=o.stateNode;try{cs(b,"")}catch(ye){Qe(o,o.return,ye)}}p&4&&o.stateNode!=null&&(b=o.memoizedProps,xg(o,b,f!==null?f.memoizedProps:b)),p&1024&&(Mg=!0);break;case 6:if(kn(s,o),Ln(o),p&4){if(o.stateNode===null)throw Error(r(162));p=o.memoizedProps,f=o.stateNode;try{f.nodeValue=p}catch(ye){Qe(o,o.return,ye)}}break;case 3:if(ad=null,b=zr,zr=rd(s.containerInfo),kn(s,o),zr=b,Ln(o),p&4&&f!==null&&f.memoizedState.isDehydrated)try{$s(s.containerInfo)}catch(ye){Qe(o,o.return,ye)}Mg&&(Mg=!1,Ow(o));break;case 4:p=zr,zr=rd(o.stateNode.containerInfo),kn(s,o),Ln(o),zr=p;break;case 12:kn(s,o),Ln(o);break;case 31:kn(s,o),Ln(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Ff(o,p)));break;case 13:kn(s,o),Ln(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Gf=Ue()),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Ff(o,p)));break;case 22:b=o.memoizedState!==null;var L=f!==null&&f.memoizedState!==null,K=Oi,te=Rt;if(Oi=K||b,Rt=te||L,kn(s,o),Rt=te,Oi=K,Ln(o),p&8192)e:for(s=o.stateNode,s._visibility=b?s._visibility&-2:s._visibility|1,b&&(f===null||L||Oi||Rt||Co(o)),f=null,s=o;;){if(s.tag===5||s.tag===26){if(f===null){L=f=s;try{if(S=L.stateNode,b)M=S.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{I=L.stateNode;var ae=L.memoizedProps.style,Y=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;I.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ye){Qe(L,L.return,ye)}}}else if(s.tag===6){if(f===null){L=s;try{L.stateNode.nodeValue=b?"":L.memoizedProps}catch(ye){Qe(L,L.return,ye)}}}else if(s.tag===18){if(f===null){L=s;try{var J=L.stateNode;b?_x(J,!0):_x(L.stateNode,!1)}catch(ye){Qe(L,L.return,ye)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===o)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;f===s&&(f=null),s=s.return}f===s&&(f=null),s.sibling.return=s.return,s=s.sibling}p&4&&(p=o.updateQueue,p!==null&&(f=p.retryQueue,f!==null&&(p.retryQueue=null,Ff(o,f))));break;case 19:kn(s,o),Ln(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Ff(o,p)));break;case 30:break;case 21:break;default:kn(s,o),Ln(o)}}function Ln(o){var s=o.flags;if(s&2){try{for(var f,p=o.return;p!==null;){if(Tw(p)){f=p;break}p=p.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var b=f.stateNode,S=Ag(o);Bf(o,S,b);break;case 5:var M=f.stateNode;f.flags&32&&(cs(M,""),f.flags&=-33);var I=Ag(o);Bf(o,I,M);break;case 3:case 4:var L=f.stateNode.containerInfo,K=Ag(o);Cg(o,K,L);break;default:throw Error(r(161))}}catch(te){Qe(o,o.return,te)}o.flags&=-3}s&4096&&(o.flags&=-4097)}function Ow(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var s=o;Ow(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),o=o.sibling}}function Di(o,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)xw(o,s.alternate,s),s=s.sibling}function Co(o){for(o=o.child;o!==null;){var s=o;switch(s.tag){case 0:case 11:case 14:case 15:Da(4,s,s.return),Co(s);break;case 1:ni(s,s.return);var f=s.stateNode;typeof f.componentWillUnmount=="function"&&_w(s,s.return,f),Co(s);break;case 27:xu(s.stateNode);case 26:case 5:ni(s,s.return),Co(s);break;case 22:s.memoizedState===null&&Co(s);break;case 30:Co(s);break;default:Co(s)}o=o.sibling}}function Ri(o,s,f){for(f=f&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var p=s.alternate,b=o,S=s,M=S.flags;switch(S.tag){case 0:case 11:case 15:Ri(b,S,f),mu(4,S);break;case 1:if(Ri(b,S,f),p=S,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(K){Qe(p,p.return,K)}if(p=S,b=p.updateQueue,b!==null){var I=p.stateNode;try{var L=b.shared.hiddenCallbacks;if(L!==null)for(b.shared.hiddenCallbacks=null,b=0;b<L.length;b++)lE(L[b],I)}catch(K){Qe(p,p.return,K)}}f&&M&64&&bw(S),gu(S,S.return);break;case 27:Ew(S);case 26:case 5:Ri(b,S,f),f&&p===null&&M&4&&Sw(S),gu(S,S.return);break;case 12:Ri(b,S,f);break;case 31:Ri(b,S,f),f&&M&4&&Mw(b,S);break;case 13:Ri(b,S,f),f&&M&4&&Pw(b,S);break;case 22:S.memoizedState===null&&Ri(b,S,f),gu(S,S.return);break;case 30:break;default:Ri(b,S,f)}s=s.sibling}}function Pg(o,s){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&nu(f))}function Ng(o,s){o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&nu(o))}function $r(o,s,f,p){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Iw(o,s,f,p),s=s.sibling}function Iw(o,s,f,p){var b=s.flags;switch(s.tag){case 0:case 11:case 15:$r(o,s,f,p),b&2048&&mu(9,s);break;case 1:$r(o,s,f,p);break;case 3:$r(o,s,f,p),b&2048&&(o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&nu(o)));break;case 12:if(b&2048){$r(o,s,f,p),o=s.stateNode;try{var S=s.memoizedProps,M=S.id,I=S.onPostCommit;typeof I=="function"&&I(M,s.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(L){Qe(s,s.return,L)}}else $r(o,s,f,p);break;case 31:$r(o,s,f,p);break;case 13:$r(o,s,f,p);break;case 23:break;case 22:S=s.stateNode,M=s.alternate,s.memoizedState!==null?S._visibility&2?$r(o,s,f,p):yu(o,s):S._visibility&2?$r(o,s,f,p):(S._visibility|=2,Ns(o,s,f,p,(s.subtreeFlags&10256)!==0||!1)),b&2048&&Pg(M,s);break;case 24:$r(o,s,f,p),b&2048&&Ng(s.alternate,s);break;default:$r(o,s,f,p)}}function Ns(o,s,f,p,b){for(b=b&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var S=o,M=s,I=f,L=p,K=M.flags;switch(M.tag){case 0:case 11:case 15:Ns(S,M,I,L,b),mu(8,M);break;case 23:break;case 22:var te=M.stateNode;M.memoizedState!==null?te._visibility&2?Ns(S,M,I,L,b):yu(S,M):(te._visibility|=2,Ns(S,M,I,L,b)),b&&K&2048&&Pg(M.alternate,M);break;case 24:Ns(S,M,I,L,b),b&&K&2048&&Ng(M.alternate,M);break;default:Ns(S,M,I,L,b)}s=s.sibling}}function yu(o,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var f=o,p=s,b=p.flags;switch(p.tag){case 22:yu(f,p),b&2048&&Pg(p.alternate,p);break;case 24:yu(f,p),b&2048&&Ng(p.alternate,p);break;default:yu(f,p)}s=s.sibling}}var vu=8192;function Os(o,s,f){if(o.subtreeFlags&vu)for(o=o.child;o!==null;)Dw(o,s,f),o=o.sibling}function Dw(o,s,f){switch(o.tag){case 26:Os(o,s,f),o.flags&vu&&o.memoizedState!==null&&wq(f,zr,o.memoizedState,o.memoizedProps);break;case 5:Os(o,s,f);break;case 3:case 4:var p=zr;zr=rd(o.stateNode.containerInfo),Os(o,s,f),zr=p;break;case 22:o.memoizedState===null&&(p=o.alternate,p!==null&&p.memoizedState!==null?(p=vu,vu=16777216,Os(o,s,f),vu=p):Os(o,s,f));break;default:Os(o,s,f)}}function Rw(o){var s=o.alternate;if(s!==null&&(o=s.child,o!==null)){s.child=null;do s=o.sibling,o.sibling=null,o=s;while(o!==null)}}function bu(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var f=0;f<s.length;f++){var p=s[f];Yt=p,Lw(p,o)}Rw(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)kw(o),o=o.sibling}function kw(o){switch(o.tag){case 0:case 11:case 15:bu(o),o.flags&2048&&Da(9,o,o.return);break;case 3:bu(o);break;case 12:bu(o);break;case 22:var s=o.stateNode;o.memoizedState!==null&&s._visibility&2&&(o.return===null||o.return.tag!==13)?(s._visibility&=-3,Hf(o)):bu(o);break;default:bu(o)}}function Hf(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var f=0;f<s.length;f++){var p=s[f];Yt=p,Lw(p,o)}Rw(o)}for(o=o.child;o!==null;){switch(s=o,s.tag){case 0:case 11:case 15:Da(8,s,s.return),Hf(s);break;case 22:f=s.stateNode,f._visibility&2&&(f._visibility&=-3,Hf(s));break;default:Hf(s)}o=o.sibling}}function Lw(o,s){for(;Yt!==null;){var f=Yt;switch(f.tag){case 0:case 11:case 15:Da(8,f,s);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var p=f.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:nu(f.memoizedState.cache)}if(p=f.child,p!==null)p.return=f,Yt=p;else e:for(f=o;Yt!==null;){p=Yt;var b=p.sibling,S=p.return;if(Aw(p),p===f){Yt=null;break e}if(b!==null){b.return=S,Yt=b;break e}Yt=S}}}var qj={getCacheForType:function(o){var s=rn(Ot),f=s.data.get(o);return f===void 0&&(f=o(),s.data.set(o,f)),f},cacheSignal:function(){return rn(Ot).controller.signal}},zj=typeof WeakMap=="function"?WeakMap:Map,Je=0,it=null,qe=null,Be=0,Xe=0,rr=null,Ra=!1,Is=!1,Og=!1,ki=0,Et=0,ka=0,Mo=0,Ig=0,ir=0,Ds=0,_u=null,Un=null,Dg=!1,Gf=0,Uw=0,Vf=1/0,Kf=null,La=null,jt=0,Ua=null,Rs=null,Li=0,Rg=0,kg=null,jw=null,Su=0,Lg=null;function ar(){return(Je&2)!==0&&Be!==0?Be&-Be:B.T!==null?Bg():tf()}function qw(){if(ir===0)if((Be&536870912)===0||Ge){var o=Yn;Yn<<=1,(Yn&3932160)===0&&(Yn=262144),ir=o}else ir=536870912;return o=tr.current,o!==null&&(o.flags|=32),ir}function jn(o,s,f){(o===it&&(Xe===2||Xe===9)||o.cancelPendingCommit!==null)&&(ks(o,0),ja(o,Be,ir,!1)),bi(o,f),((Je&2)===0||o!==it)&&(o===it&&((Je&2)===0&&(Mo|=f),Et===4&&ja(o,Be,ir,!1)),ri(o))}function zw(o,s,f){if((Je&6)!==0)throw Error(r(327));var p=!f&&(s&127)===0&&(s&o.expiredLanes)===0||jr(o,s),b=p?Fj(o,s):jg(o,s,!0),S=p;do{if(b===0){Is&&!p&&ja(o,s,0,!1);break}else{if(f=o.current.alternate,S&&!$j(f)){b=jg(o,s,!1),S=!1;continue}if(b===2){if(S=s,o.errorRecoveryDisabledLanes&S)var M=0;else M=o.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){s=M;e:{var I=o;b=_u;var L=I.current.memoizedState.isDehydrated;if(L&&(ks(I,M).flags|=256),M=jg(I,M,!1),M!==2){if(Og&&!L){I.errorRecoveryDisabledLanes|=S,Mo|=S,b=4;break e}S=Un,Un=b,S!==null&&(Un===null?Un=S:Un.push.apply(Un,S))}b=M}if(S=!1,b!==2)continue}}if(b===1){ks(o,0),ja(o,s,0,!0);break}e:{switch(p=o,S=b,S){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ja(p,s,ir,!Ra);break e;case 2:Un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(b=Gf+300-Ue(),10<b)){if(ja(p,s,ir,!Ra),Jn(p,0,!0)!==0)break e;Li=s,p.timeoutHandle=yx($w.bind(null,p,f,Un,Kf,Dg,s,ir,Mo,Ds,Ra,S,"Throttled",-0,0),b);break e}$w(p,f,Un,Kf,Dg,s,ir,Mo,Ds,Ra,S,null,-0,0)}}break}while(!0);ri(o)}function $w(o,s,f,p,b,S,M,I,L,K,te,ae,Y,J){if(o.timeoutHandle=-1,ae=s.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Si},Dw(s,S,ae);var ye=(S&62914560)===S?Gf-Ue():(S&4194048)===S?Uw-Ue():0;if(ye=xq(ae,ye),ye!==null){Li=S,o.cancelPendingCommit=ye(Ww.bind(null,o,s,S,f,p,b,M,I,L,te,ae,null,Y,J)),ja(o,S,M,!K);return}}Ww(o,s,S,f,p,b,M,I,L)}function $j(o){for(var s=o;;){var f=s.tag;if((f===0||f===11||f===15)&&s.flags&16384&&(f=s.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var p=0;p<f.length;p++){var b=f[p],S=b.getSnapshot;b=b.value;try{if(!Zn(S(),b))return!1}catch{return!1}}if(f=s.child,s.subtreeFlags&16384&&f!==null)f.return=s,s=f;else{if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ja(o,s,f,p){s&=~Ig,s&=~Mo,o.suspendedLanes|=s,o.pingedLanes&=~s,p&&(o.warmLanes|=s),p=o.expirationTimes;for(var b=s;0<b;){var S=31-Nt(b),M=1<<S;p[S]=-1,b&=~M}f!==0&&Zc(o,f,s)}function Yf(){return(Je&6)===0?(Tu(0),!1):!0}function Ug(){if(qe!==null){if(Xe===0)var o=qe.return;else o=qe,xi=bo=null,Zm(o),xs=null,iu=0,o=qe;for(;o!==null;)vw(o.alternate,o),o=o.return;qe=null}}function ks(o,s){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,sq(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),Li=0,Ug(),it=o,qe=f=Ei(o.current,null),Be=s,Xe=0,rr=null,Ra=!1,Is=jr(o,s),Og=!1,Ds=ir=Ig=Mo=ka=Et=0,Un=_u=null,Dg=!1,(s&8)!==0&&(s|=s&32);var p=o.entangledLanes;if(p!==0)for(o=o.entanglements,p&=s;0<p;){var b=31-Nt(p),S=1<<b;s|=o[b],p&=~S}return ki=s,mf(),f}function Bw(o,s){Re=null,B.H=du,s===ws||s===Ef?(s=iE(),Xe=3):s===$m?(s=iE(),Xe=4):Xe=s===mg?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,rr=s,qe===null&&(Et=1,Uf(o,yr(s,o.current)))}function Fw(){var o=tr.current;return o===null?!0:(Be&4194048)===Be?Sr===null:(Be&62914560)===Be||(Be&536870912)!==0?o===Sr:!1}function Hw(){var o=B.H;return B.H=du,o===null?du:o}function Gw(){var o=B.A;return B.A=qj,o}function Wf(){Et=4,Ra||(Be&4194048)!==Be&&tr.current!==null||(Is=!0),(ka&134217727)===0&&(Mo&134217727)===0||it===null||ja(it,Be,ir,!1)}function jg(o,s,f){var p=Je;Je|=2;var b=Hw(),S=Gw();(it!==o||Be!==s)&&(Kf=null,ks(o,s)),s=!1;var M=Et;e:do try{if(Xe!==0&&qe!==null){var I=qe,L=rr;switch(Xe){case 8:Ug(),M=6;break e;case 3:case 2:case 9:case 6:tr.current===null&&(s=!0);var K=Xe;if(Xe=0,rr=null,Ls(o,I,L,K),f&&Is){M=0;break e}break;default:K=Xe,Xe=0,rr=null,Ls(o,I,L,K)}}Bj(),M=Et;break}catch(te){Bw(o,te)}while(!0);return s&&o.shellSuspendCounter++,xi=bo=null,Je=p,B.H=b,B.A=S,qe===null&&(it=null,Be=0,mf()),M}function Bj(){for(;qe!==null;)Vw(qe)}function Fj(o,s){var f=Je;Je|=2;var p=Hw(),b=Gw();it!==o||Be!==s?(Kf=null,Vf=Ue()+500,ks(o,s)):Is=jr(o,s);e:do try{if(Xe!==0&&qe!==null){s=qe;var S=rr;t:switch(Xe){case 1:Xe=0,rr=null,Ls(o,s,S,1);break;case 2:case 9:if(nE(S)){Xe=0,rr=null,Kw(s);break}s=function(){Xe!==2&&Xe!==9||it!==o||(Xe=7),ri(o)},S.then(s,s);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:nE(S)?(Xe=0,rr=null,Kw(s)):(Xe=0,rr=null,Ls(o,s,S,7));break;case 5:var M=null;switch(qe.tag){case 26:M=qe.memoizedState;case 5:case 27:var I=qe;if(M?Ix(M):I.stateNode.complete){Xe=0,rr=null;var L=I.sibling;if(L!==null)qe=L;else{var K=I.return;K!==null?(qe=K,Jf(K)):qe=null}break t}}Xe=0,rr=null,Ls(o,s,S,5);break;case 6:Xe=0,rr=null,Ls(o,s,S,6);break;case 8:Ug(),Et=6;break e;default:throw Error(r(462))}}Hj();break}catch(te){Bw(o,te)}while(!0);return xi=bo=null,B.H=p,B.A=b,Je=f,qe!==null?0:(it=null,Be=0,mf(),Et)}function Hj(){for(;qe!==null&&!Ll();)Vw(qe)}function Vw(o){var s=gw(o.alternate,o,ki);o.memoizedProps=o.pendingProps,s===null?Jf(o):qe=s}function Kw(o){var s=o,f=s.alternate;switch(s.tag){case 15:case 0:s=cw(f,s,s.pendingProps,s.type,void 0,Be);break;case 11:s=cw(f,s,s.pendingProps,s.type.render,s.ref,Be);break;case 5:Zm(s);default:vw(f,s),s=qe=GT(s,ki),s=gw(f,s,ki)}o.memoizedProps=o.pendingProps,s===null?Jf(o):qe=s}function Ls(o,s,f,p){xi=bo=null,Zm(s),xs=null,iu=0;var b=s.return;try{if(Ij(o,b,s,f,Be)){Et=1,Uf(o,yr(f,o.current)),qe=null;return}}catch(S){if(b!==null)throw qe=b,S;Et=1,Uf(o,yr(f,o.current)),qe=null;return}s.flags&32768?(Ge||p===1?o=!0:Is||(Be&536870912)!==0?o=!1:(Ra=o=!0,(p===2||p===9||p===3||p===6)&&(p=tr.current,p!==null&&p.tag===13&&(p.flags|=16384))),Yw(s,o)):Jf(s)}function Jf(o){var s=o;do{if((s.flags&32768)!==0){Yw(s,Ra);return}o=s.return;var f=kj(s.alternate,s,ki);if(f!==null){qe=f;return}if(s=s.sibling,s!==null){qe=s;return}qe=s=o}while(s!==null);Et===0&&(Et=5)}function Yw(o,s){do{var f=Lj(o.alternate,o);if(f!==null){f.flags&=32767,qe=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!s&&(o=o.sibling,o!==null)){qe=o;return}qe=o=f}while(o!==null);Et=6,qe=null}function Ww(o,s,f,p,b,S,M,I,L){o.cancelPendingCommit=null;do Xf();while(jt!==0);if((Je&6)!==0)throw Error(r(327));if(s!==null){if(s===o.current)throw Error(r(177));if(S=s.lanes|s.childLanes,S|=Am,ql(o,f,S,M,I,L),o===it&&(qe=it=null,Be=0),Rs=s,Ua=o,Li=f,Rg=S,kg=b,jw=p,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,Yj(Sa,function(){return ex(),null})):(o.callbackNode=null,o.callbackPriority=0),p=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||p){p=B.T,B.T=null,b=ne.p,ne.p=2,M=Je,Je|=4;try{Uj(o,s,f)}finally{Je=M,ne.p=b,B.T=p}}jt=1,Jw(),Xw(),Qw()}}function Jw(){if(jt===1){jt=0;var o=Ua,s=Rs,f=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||f){f=B.T,B.T=null;var p=ne.p;ne.p=2;var b=Je;Je|=4;try{Nw(s,o);var S=Jg,M=LT(o.containerInfo),I=S.focusedElem,L=S.selectionRange;if(M!==I&&I&&I.ownerDocument&&kT(I.ownerDocument.documentElement,I)){if(L!==null&&Sm(I)){var K=L.start,te=L.end;if(te===void 0&&(te=K),"selectionStart"in I)I.selectionStart=K,I.selectionEnd=Math.min(te,I.value.length);else{var ae=I.ownerDocument||document,Y=ae&&ae.defaultView||window;if(Y.getSelection){var J=Y.getSelection(),ye=I.textContent.length,Ce=Math.min(L.start,ye),rt=L.end===void 0?Ce:Math.min(L.end,ye);!J.extend&&Ce>rt&&(M=rt,rt=Ce,Ce=M);var z=RT(I,Ce),j=RT(I,rt);if(z&&j&&(J.rangeCount!==1||J.anchorNode!==z.node||J.anchorOffset!==z.offset||J.focusNode!==j.node||J.focusOffset!==j.offset)){var V=ae.createRange();V.setStart(z.node,z.offset),J.removeAllRanges(),Ce>rt?(J.addRange(V),J.extend(j.node,j.offset)):(V.setEnd(j.node,j.offset),J.addRange(V))}}}}for(ae=[],J=I;J=J.parentNode;)J.nodeType===1&&ae.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<ae.length;I++){var ie=ae[I];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}ud=!!Wg,Jg=Wg=null}finally{Je=b,ne.p=p,B.T=f}}o.current=s,jt=2}}function Xw(){if(jt===2){jt=0;var o=Ua,s=Rs,f=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||f){f=B.T,B.T=null;var p=ne.p;ne.p=2;var b=Je;Je|=4;try{xw(o,s.alternate,s)}finally{Je=b,ne.p=p,B.T=f}}jt=3}}function Qw(){if(jt===4||jt===3){jt=0,Nn();var o=Ua,s=Rs,f=Li,p=jw;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?jt=5:(jt=0,Rs=Ua=null,Zw(o,o.pendingLanes));var b=o.pendingLanes;if(b===0&&(La=null),ef(f),s=s.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(yi,s,void 0,(s.current.flags&128)===128)}catch{}if(p!==null){s=B.T,b=ne.p,ne.p=2,B.T=null;try{for(var S=o.onRecoverableError,M=0;M<p.length;M++){var I=p[M];S(I.value,{componentStack:I.stack})}}finally{B.T=s,ne.p=b}}(Li&3)!==0&&Xf(),ri(o),b=o.pendingLanes,(f&261930)!==0&&(b&42)!==0?o===Lg?Su++:(Su=0,Lg=o):Su=0,Tu(0)}}function Zw(o,s){(o.pooledCacheLanes&=s)===0&&(s=o.pooledCache,s!=null&&(o.pooledCache=null,nu(s)))}function Xf(){return Jw(),Xw(),Qw(),ex()}function ex(){if(jt!==5)return!1;var o=Ua,s=Rg;Rg=0;var f=ef(Li),p=B.T,b=ne.p;try{ne.p=32>f?32:f,B.T=null,f=kg,kg=null;var S=Ua,M=Li;if(jt=0,Rs=Ua=null,Li=0,(Je&6)!==0)throw Error(r(331));var I=Je;if(Je|=4,kw(S.current),Iw(S,S.current,M,f),Je=I,Tu(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(yi,S)}catch{}return!0}finally{ne.p=b,B.T=p,Zw(o,s)}}function tx(o,s,f){s=yr(f,s),s=pg(o.stateNode,s,2),o=Na(o,s,2),o!==null&&(bi(o,2),ri(o))}function Qe(o,s,f){if(o.tag===3)tx(o,o,f);else for(;s!==null;){if(s.tag===3){tx(s,o,f);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(La===null||!La.has(p))){o=yr(f,o),f=nw(2),p=Na(s,f,2),p!==null&&(rw(f,p,s,o),bi(p,2),ri(p));break}}s=s.return}}function qg(o,s,f){var p=o.pingCache;if(p===null){p=o.pingCache=new zj;var b=new Set;p.set(s,b)}else b=p.get(s),b===void 0&&(b=new Set,p.set(s,b));b.has(f)||(Og=!0,b.add(f),o=Gj.bind(null,o,s,f),s.then(o,o))}function Gj(o,s,f){var p=o.pingCache;p!==null&&p.delete(s),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,it===o&&(Be&f)===f&&(Et===4||Et===3&&(Be&62914560)===Be&&300>Ue()-Gf?(Je&2)===0&&ks(o,0):Ig|=f,Ds===Be&&(Ds=0)),ri(o)}function nx(o,s){s===0&&(s=Xn()),o=go(o,s),o!==null&&(bi(o,s),ri(o))}function Vj(o){var s=o.memoizedState,f=0;s!==null&&(f=s.retryLane),nx(o,f)}function Kj(o,s){var f=0;switch(o.tag){case 31:case 13:var p=o.stateNode,b=o.memoizedState;b!==null&&(f=b.retryLane);break;case 19:p=o.stateNode;break;case 22:p=o.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(s),nx(o,f)}function Yj(o,s){return Kn(o,s)}var Qf=null,Us=null,zg=!1,Zf=!1,$g=!1,qa=0;function ri(o){o!==Us&&o.next===null&&(Us===null?Qf=Us=o:Us=Us.next=o),Zf=!0,zg||(zg=!0,Jj())}function Tu(o,s){if(!$g&&Zf){$g=!0;do for(var f=!1,p=Qf;p!==null;){if(o!==0){var b=p.pendingLanes;if(b===0)var S=0;else{var M=p.suspendedLanes,I=p.pingedLanes;S=(1<<31-Nt(42|o)+1)-1,S&=b&~(M&~I),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(f=!0,ox(p,S))}else S=Be,S=Jn(p,p===it?S:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(S&3)===0||jr(p,S)||(f=!0,ox(p,S));p=p.next}while(f);$g=!1}}function Wj(){rx()}function rx(){Zf=zg=!1;var o=0;qa!==0&&oq()&&(o=qa);for(var s=Ue(),f=null,p=Qf;p!==null;){var b=p.next,S=ix(p,s);S===0?(p.next=null,f===null?Qf=b:f.next=b,b===null&&(Us=f)):(f=p,(o!==0||(S&3)!==0)&&(Zf=!0)),p=b}jt!==0&&jt!==5||Tu(o),qa!==0&&(qa=0)}function ix(o,s){for(var f=o.suspendedLanes,p=o.pingedLanes,b=o.expirationTimes,S=o.pendingLanes&-62914561;0<S;){var M=31-Nt(S),I=1<<M,L=b[M];L===-1?((I&f)===0||(I&p)!==0)&&(b[M]=mn(I,s)):L<=s&&(o.expiredLanes|=I),S&=~I}if(s=it,f=Be,f=Jn(o,o===s?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p=o.callbackNode,f===0||o===s&&(Xe===2||Xe===9)||o.cancelPendingCommit!==null)return p!==null&&p!==null&&_a(p),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||jr(o,f)){if(s=f&-f,s===o.callbackPriority)return s;switch(p!==null&&_a(p),ef(f)){case 2:case 8:f=On;break;case 32:f=Sa;break;case 268435456:f=Zr;break;default:f=Sa}return p=ax.bind(null,o),f=Kn(f,p),o.callbackPriority=s,o.callbackNode=f,s}return p!==null&&p!==null&&_a(p),o.callbackPriority=2,o.callbackNode=null,2}function ax(o,s){if(jt!==0&&jt!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(Xf()&&o.callbackNode!==f)return null;var p=Be;return p=Jn(o,o===it?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p===0?null:(zw(o,p,s),ix(o,Ue()),o.callbackNode!=null&&o.callbackNode===f?ax.bind(null,o):null)}function ox(o,s){if(Xf())return null;zw(o,s,!0)}function Jj(){lq(function(){(Je&6)!==0?Kn(rs,Wj):rx()})}function Bg(){if(qa===0){var o=Ts;o===0&&(o=In,In<<=1,(In&261888)===0&&(In=256)),qa=o}return qa}function sx(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:sf(""+o)}function lx(o,s){var f=s.ownerDocument.createElement("input");return f.name=s.name,f.value=s.value,o.id&&f.setAttribute("form",o.id),s.parentNode.insertBefore(f,s),o=new FormData(o),f.parentNode.removeChild(f),o}function Xj(o,s,f,p,b){if(s==="submit"&&f&&f.stateNode===b){var S=sx((b[Pe]||null).action),M=p.submitter;M&&(s=(s=M[Pe]||null)?sx(s.formAction):M.getAttribute("formAction"),s!==null&&(S=s,M=null));var I=new ff("action","action",null,p,b);o.push({event:I,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(qa!==0){var L=M?lx(b,M):new FormData(b);lg(f,{pending:!0,data:L,method:b.method,action:S},null,L)}}else typeof S=="function"&&(I.preventDefault(),L=M?lx(b,M):new FormData(b),lg(f,{pending:!0,data:L,method:b.method,action:S},S,L))},currentTarget:b}]})}}for(var Fg=0;Fg<xm.length;Fg++){var Hg=xm[Fg],Qj=Hg.toLowerCase(),Zj=Hg[0].toUpperCase()+Hg.slice(1);qr(Qj,"on"+Zj)}qr(qT,"onAnimationEnd"),qr(zT,"onAnimationIteration"),qr($T,"onAnimationStart"),qr("dblclick","onDoubleClick"),qr("focusin","onFocus"),qr("focusout","onBlur"),qr(mj,"onTransitionRun"),qr(gj,"onTransitionStart"),qr(yj,"onTransitionCancel"),qr(BT,"onTransitionEnd"),ls("onMouseEnter",["mouseout","mouseover"]),ls("onMouseLeave",["mouseout","mouseover"]),ls("onPointerEnter",["pointerout","pointerover"]),ls("onPointerLeave",["pointerout","pointerover"]),fo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fo("onBeforeInput",["compositionend","keypress","textInput","paste"]),fo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eq=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Eu));function ux(o,s){s=(s&4)!==0;for(var f=0;f<o.length;f++){var p=o[f],b=p.event;p=p.listeners;e:{var S=void 0;if(s)for(var M=p.length-1;0<=M;M--){var I=p[M],L=I.instance,K=I.currentTarget;if(I=I.listener,L!==S&&b.isPropagationStopped())break e;S=I,b.currentTarget=K;try{S(b)}catch(te){pf(te)}b.currentTarget=null,S=L}else for(M=0;M<p.length;M++){if(I=p[M],L=I.instance,K=I.currentTarget,I=I.listener,L!==S&&b.isPropagationStopped())break e;S=I,b.currentTarget=K;try{S(b)}catch(te){pf(te)}b.currentTarget=null,S=L}}}}function ze(o,s){var f=s[st];f===void 0&&(f=s[st]=new Set);var p=o+"__bubble";f.has(p)||(cx(s,o,2,!1),f.add(p))}function Gg(o,s,f){var p=0;s&&(p|=4),cx(f,o,p,s)}var ed="_reactListening"+Math.random().toString(36).slice(2);function Vg(o){if(!o[ed]){o[ed]=!0,rT.forEach(function(f){f!=="selectionchange"&&(eq.has(f)||Gg(f,!1,o),Gg(f,!0,o))});var s=o.nodeType===9?o:o.ownerDocument;s===null||s[ed]||(s[ed]=!0,Gg("selectionchange",!1,s))}}function cx(o,s,f,p){switch(qx(s)){case 2:var b=Mq;break;case 8:b=Pq;break;default:b=sy}f=b.bind(null,s,f,o),b=void 0,!dm||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(b=!0),p?b!==void 0?o.addEventListener(s,f,{capture:!0,passive:b}):o.addEventListener(s,f,!0):b!==void 0?o.addEventListener(s,f,{passive:b}):o.addEventListener(s,f,!1)}function Kg(o,s,f,p,b){var S=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var M=p.tag;if(M===3||M===4){var I=p.stateNode.containerInfo;if(I===b)break;if(M===4)for(M=p.return;M!==null;){var L=M.tag;if((L===3||L===4)&&M.stateNode.containerInfo===b)return;M=M.return}for(;I!==null;){if(M=as(I),M===null)return;if(L=M.tag,L===5||L===6||L===26||L===27){p=S=M;continue e}I=I.parentNode}}p=p.return}mT(function(){var K=S,te=cm(f),ae=[];e:{var Y=FT.get(o);if(Y!==void 0){var J=ff,ye=o;switch(o){case"keypress":if(uf(f)===0)break e;case"keydown":case"keyup":J=KU;break;case"focusin":ye="focus",J=gm;break;case"focusout":ye="blur",J=gm;break;case"beforeblur":case"afterblur":J=gm;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=vT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=kU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=JU;break;case qT:case zT:case $T:J=jU;break;case BT:J=QU;break;case"scroll":case"scrollend":J=DU;break;case"wheel":J=ej;break;case"copy":case"cut":case"paste":J=zU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=_T;break;case"toggle":case"beforetoggle":J=nj}var Ce=(s&4)!==0,rt=!Ce&&(o==="scroll"||o==="scrollend"),z=Ce?Y!==null?Y+"Capture":null:Y;Ce=[];for(var j=K,V;j!==null;){var ie=j;if(V=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||V===null||z===null||(ie=Gl(j,z),ie!=null&&Ce.push(wu(j,ie,V))),rt)break;j=j.return}0<Ce.length&&(Y=new J(Y,ye,null,f,te),ae.push({event:Y,listeners:Ce}))}}if((s&7)===0){e:{if(Y=o==="mouseover"||o==="pointerover",J=o==="mouseout"||o==="pointerout",Y&&f!==um&&(ye=f.relatedTarget||f.fromElement)&&(as(ye)||ye[Oe]))break e;if((J||Y)&&(Y=te.window===te?te:(Y=te.ownerDocument)?Y.defaultView||Y.parentWindow:window,J?(ye=f.relatedTarget||f.toElement,J=K,ye=ye?as(ye):null,ye!==null&&(rt=a(ye),Ce=ye.tag,ye!==rt||Ce!==5&&Ce!==27&&Ce!==6)&&(ye=null)):(J=null,ye=K),J!==ye)){if(Ce=vT,ie="onMouseLeave",z="onMouseEnter",j="mouse",(o==="pointerout"||o==="pointerover")&&(Ce=_T,ie="onPointerLeave",z="onPointerEnter",j="pointer"),rt=J==null?Y:Hl(J),V=ye==null?Y:Hl(ye),Y=new Ce(ie,j+"leave",J,f,te),Y.target=rt,Y.relatedTarget=V,ie=null,as(te)===K&&(Ce=new Ce(z,j+"enter",ye,f,te),Ce.target=V,Ce.relatedTarget=rt,ie=Ce),rt=ie,J&&ye)t:{for(Ce=tq,z=J,j=ye,V=0,ie=z;ie;ie=Ce(ie))V++;ie=0;for(var xe=j;xe;xe=Ce(xe))ie++;for(;0<V-ie;)z=Ce(z),V--;for(;0<ie-V;)j=Ce(j),ie--;for(;V--;){if(z===j||j!==null&&z===j.alternate){Ce=z;break t}z=Ce(z),j=Ce(j)}Ce=null}else Ce=null;J!==null&&fx(ae,Y,J,Ce,!1),ye!==null&&rt!==null&&fx(ae,rt,ye,Ce,!0)}}e:{if(Y=K?Hl(K):window,J=Y.nodeName&&Y.nodeName.toLowerCase(),J==="select"||J==="input"&&Y.type==="file")var Ve=MT;else if(AT(Y))if(PT)Ve=dj;else{Ve=cj;var ve=uj}else J=Y.nodeName,!J||J.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?K&&lm(K.elementType)&&(Ve=MT):Ve=fj;if(Ve&&(Ve=Ve(o,K))){CT(ae,Ve,f,te);break e}ve&&ve(o,Y,K),o==="focusout"&&K&&Y.type==="number"&&K.memoizedProps.value!=null&&sm(Y,"number",Y.value)}switch(ve=K?Hl(K):window,o){case"focusin":(AT(ve)||ve.contentEditable==="true")&&(ps=ve,Tm=K,Zl=null);break;case"focusout":Zl=Tm=ps=null;break;case"mousedown":Em=!0;break;case"contextmenu":case"mouseup":case"dragend":Em=!1,UT(ae,f,te);break;case"selectionchange":if(pj)break;case"keydown":case"keyup":UT(ae,f,te)}var ke;if(vm)e:{switch(o){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else hs?wT(o,f)&&(Fe="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(Fe="onCompositionStart");Fe&&(ST&&f.locale!=="ko"&&(hs||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&hs&&(ke=gT()):(Ea=te,hm="value"in Ea?Ea.value:Ea.textContent,hs=!0)),ve=td(K,Fe),0<ve.length&&(Fe=new bT(Fe,o,null,f,te),ae.push({event:Fe,listeners:ve}),ke?Fe.data=ke:(ke=xT(f),ke!==null&&(Fe.data=ke)))),(ke=ij?aj(o,f):oj(o,f))&&(Fe=td(K,"onBeforeInput"),0<Fe.length&&(ve=new bT("onBeforeInput","beforeinput",null,f,te),ae.push({event:ve,listeners:Fe}),ve.data=ke)),Xj(ae,o,K,f,te)}ux(ae,s)})}function wu(o,s,f){return{instance:o,listener:s,currentTarget:f}}function td(o,s){for(var f=s+"Capture",p=[];o!==null;){var b=o,S=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||S===null||(b=Gl(o,f),b!=null&&p.unshift(wu(o,b,S)),b=Gl(o,s),b!=null&&p.push(wu(o,b,S))),o.tag===3)return p;o=o.return}return[]}function tq(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function fx(o,s,f,p,b){for(var S=s._reactName,M=[];f!==null&&f!==p;){var I=f,L=I.alternate,K=I.stateNode;if(I=I.tag,L!==null&&L===p)break;I!==5&&I!==26&&I!==27||K===null||(L=K,b?(K=Gl(f,S),K!=null&&M.unshift(wu(f,K,L))):b||(K=Gl(f,S),K!=null&&M.push(wu(f,K,L)))),f=f.return}M.length!==0&&o.push({event:s,listeners:M})}var nq=/\r\n?/g,rq=/\u0000|\uFFFD/g;function dx(o){return(typeof o=="string"?o:""+o).replace(nq,`
`).replace(rq,"")}function hx(o,s){return s=dx(s),dx(o)===s}function nt(o,s,f,p,b,S){switch(f){case"children":typeof p=="string"?s==="body"||s==="textarea"&&p===""||cs(o,p):(typeof p=="number"||typeof p=="bigint")&&s!=="body"&&cs(o,""+p);break;case"className":af(o,"class",p);break;case"tabIndex":af(o,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":af(o,f,p);break;case"style":hT(o,p,S);break;case"data":if(s!=="object"){af(o,"data",p);break}case"src":case"href":if(p===""&&(s!=="a"||f!=="href")){o.removeAttribute(f);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(f);break}p=sf(""+p),o.setAttribute(f,p);break;case"action":case"formAction":if(typeof p=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(f==="formAction"?(s!=="input"&&nt(o,s,"name",b.name,b,null),nt(o,s,"formEncType",b.formEncType,b,null),nt(o,s,"formMethod",b.formMethod,b,null),nt(o,s,"formTarget",b.formTarget,b,null)):(nt(o,s,"encType",b.encType,b,null),nt(o,s,"method",b.method,b,null),nt(o,s,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(f);break}p=sf(""+p),o.setAttribute(f,p);break;case"onClick":p!=null&&(o.onclick=Si);break;case"onScroll":p!=null&&ze("scroll",o);break;case"onScrollEnd":p!=null&&ze("scrollend",o);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(f=p.__html,f!=null){if(b.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"multiple":o.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":o.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){o.removeAttribute("xlink:href");break}f=sf(""+p),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,""+p):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":p===!0?o.setAttribute(f,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,p):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?o.setAttribute(f,p):o.removeAttribute(f);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?o.removeAttribute(f):o.setAttribute(f,p);break;case"popover":ze("beforetoggle",o),ze("toggle",o),rf(o,"popover",p);break;case"xlinkActuate":_i(o,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":_i(o,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":_i(o,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":_i(o,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":_i(o,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":_i(o,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":_i(o,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":_i(o,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":_i(o,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":rf(o,"is",p);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=OU.get(f)||f,rf(o,f,p))}}function Yg(o,s,f,p,b,S){switch(f){case"style":hT(o,p,S);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(f=p.__html,f!=null){if(b.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"children":typeof p=="string"?cs(o,p):(typeof p=="number"||typeof p=="bigint")&&cs(o,""+p);break;case"onScroll":p!=null&&ze("scroll",o);break;case"onScrollEnd":p!=null&&ze("scrollend",o);break;case"onClick":p!=null&&(o.onclick=Si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!iT.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(b=f.endsWith("Capture"),s=f.slice(2,b?f.length-7:void 0),S=o[Pe]||null,S=S!=null?S[f]:null,typeof S=="function"&&o.removeEventListener(s,S,b),typeof p=="function")){typeof S!="function"&&S!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(s,p,b);break e}f in o?o[f]=p:p===!0?o.setAttribute(f,""):rf(o,f,p)}}}function on(o,s,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",o),ze("load",o);var p=!1,b=!1,S;for(S in f)if(f.hasOwnProperty(S)){var M=f[S];if(M!=null)switch(S){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:nt(o,s,S,M,f,null)}}b&&nt(o,s,"srcSet",f.srcSet,f,null),p&&nt(o,s,"src",f.src,f,null);return;case"input":ze("invalid",o);var I=S=M=b=null,L=null,K=null;for(p in f)if(f.hasOwnProperty(p)){var te=f[p];if(te!=null)switch(p){case"name":b=te;break;case"type":M=te;break;case"checked":L=te;break;case"defaultChecked":K=te;break;case"value":S=te;break;case"defaultValue":I=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,s));break;default:nt(o,s,p,te,f,null)}}uT(o,S,I,L,K,M,b,!1);return;case"select":ze("invalid",o),p=M=S=null;for(b in f)if(f.hasOwnProperty(b)&&(I=f[b],I!=null))switch(b){case"value":S=I;break;case"defaultValue":M=I;break;case"multiple":p=I;default:nt(o,s,b,I,f,null)}s=S,f=M,o.multiple=!!p,s!=null?us(o,!!p,s,!1):f!=null&&us(o,!!p,f,!0);return;case"textarea":ze("invalid",o),S=b=p=null;for(M in f)if(f.hasOwnProperty(M)&&(I=f[M],I!=null))switch(M){case"value":p=I;break;case"defaultValue":b=I;break;case"children":S=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:nt(o,s,M,I,f,null)}fT(o,p,b,S);return;case"option":for(L in f)if(f.hasOwnProperty(L)&&(p=f[L],p!=null))switch(L){case"selected":o.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:nt(o,s,L,p,f,null)}return;case"dialog":ze("beforetoggle",o),ze("toggle",o),ze("cancel",o),ze("close",o);break;case"iframe":case"object":ze("load",o);break;case"video":case"audio":for(p=0;p<Eu.length;p++)ze(Eu[p],o);break;case"image":ze("error",o),ze("load",o);break;case"details":ze("toggle",o);break;case"embed":case"source":case"link":ze("error",o),ze("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in f)if(f.hasOwnProperty(K)&&(p=f[K],p!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:nt(o,s,K,p,f,null)}return;default:if(lm(s)){for(te in f)f.hasOwnProperty(te)&&(p=f[te],p!==void 0&&Yg(o,s,te,p,f,void 0));return}}for(I in f)f.hasOwnProperty(I)&&(p=f[I],p!=null&&nt(o,s,I,p,f,null))}function iq(o,s,f,p){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,S=null,M=null,I=null,L=null,K=null,te=null;for(J in f){var ae=f[J];if(f.hasOwnProperty(J)&&ae!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":L=ae;default:p.hasOwnProperty(J)||nt(o,s,J,null,p,ae)}}for(var Y in p){var J=p[Y];if(ae=f[Y],p.hasOwnProperty(Y)&&(J!=null||ae!=null))switch(Y){case"type":S=J;break;case"name":b=J;break;case"checked":K=J;break;case"defaultChecked":te=J;break;case"value":M=J;break;case"defaultValue":I=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:J!==ae&&nt(o,s,Y,J,p,ae)}}om(o,M,I,L,K,te,S,b);return;case"select":J=M=I=Y=null;for(S in f)if(L=f[S],f.hasOwnProperty(S)&&L!=null)switch(S){case"value":break;case"multiple":J=L;default:p.hasOwnProperty(S)||nt(o,s,S,null,p,L)}for(b in p)if(S=p[b],L=f[b],p.hasOwnProperty(b)&&(S!=null||L!=null))switch(b){case"value":Y=S;break;case"defaultValue":I=S;break;case"multiple":M=S;default:S!==L&&nt(o,s,b,S,p,L)}s=I,f=M,p=J,Y!=null?us(o,!!f,Y,!1):!!p!=!!f&&(s!=null?us(o,!!f,s,!0):us(o,!!f,f?[]:"",!1));return;case"textarea":J=Y=null;for(I in f)if(b=f[I],f.hasOwnProperty(I)&&b!=null&&!p.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:nt(o,s,I,null,p,b)}for(M in p)if(b=p[M],S=f[M],p.hasOwnProperty(M)&&(b!=null||S!=null))switch(M){case"value":Y=b;break;case"defaultValue":J=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==S&&nt(o,s,M,b,p,S)}cT(o,Y,J);return;case"option":for(var ye in f)if(Y=f[ye],f.hasOwnProperty(ye)&&Y!=null&&!p.hasOwnProperty(ye))switch(ye){case"selected":o.selected=!1;break;default:nt(o,s,ye,null,p,Y)}for(L in p)if(Y=p[L],J=f[L],p.hasOwnProperty(L)&&Y!==J&&(Y!=null||J!=null))switch(L){case"selected":o.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:nt(o,s,L,Y,p,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in f)Y=f[Ce],f.hasOwnProperty(Ce)&&Y!=null&&!p.hasOwnProperty(Ce)&&nt(o,s,Ce,null,p,Y);for(K in p)if(Y=p[K],J=f[K],p.hasOwnProperty(K)&&Y!==J&&(Y!=null||J!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:nt(o,s,K,Y,p,J)}return;default:if(lm(s)){for(var rt in f)Y=f[rt],f.hasOwnProperty(rt)&&Y!==void 0&&!p.hasOwnProperty(rt)&&Yg(o,s,rt,void 0,p,Y);for(te in p)Y=p[te],J=f[te],!p.hasOwnProperty(te)||Y===J||Y===void 0&&J===void 0||Yg(o,s,te,Y,p,J);return}}for(var z in f)Y=f[z],f.hasOwnProperty(z)&&Y!=null&&!p.hasOwnProperty(z)&&nt(o,s,z,null,p,Y);for(ae in p)Y=p[ae],J=f[ae],!p.hasOwnProperty(ae)||Y===J||Y==null&&J==null||nt(o,s,ae,Y,p,J)}function px(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function aq(){if(typeof performance.getEntriesByType=="function"){for(var o=0,s=0,f=performance.getEntriesByType("resource"),p=0;p<f.length;p++){var b=f[p],S=b.transferSize,M=b.initiatorType,I=b.duration;if(S&&I&&px(M)){for(M=0,I=b.responseEnd,p+=1;p<f.length;p++){var L=f[p],K=L.startTime;if(K>I)break;var te=L.transferSize,ae=L.initiatorType;te&&px(ae)&&(L=L.responseEnd,M+=te*(L<I?1:(I-K)/(L-K)))}if(--p,s+=8*(S+M)/(b.duration/1e3),o++,10<o)break}}if(0<o)return s/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Wg=null,Jg=null;function nd(o){return o.nodeType===9?o:o.ownerDocument}function mx(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gx(o,s){if(o===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&s==="foreignObject"?0:o}function Xg(o,s){return o==="textarea"||o==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Qg=null;function oq(){var o=window.event;return o&&o.type==="popstate"?o===Qg?!1:(Qg=o,!0):(Qg=null,!1)}var yx=typeof setTimeout=="function"?setTimeout:void 0,sq=typeof clearTimeout=="function"?clearTimeout:void 0,vx=typeof Promise=="function"?Promise:void 0,lq=typeof queueMicrotask=="function"?queueMicrotask:typeof vx<"u"?function(o){return vx.resolve(null).then(o).catch(uq)}:yx;function uq(o){setTimeout(function(){throw o})}function za(o){return o==="head"}function bx(o,s){var f=s,p=0;do{var b=f.nextSibling;if(o.removeChild(f),b&&b.nodeType===8)if(f=b.data,f==="/$"||f==="/&"){if(p===0){o.removeChild(b),$s(s);return}p--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")p++;else if(f==="html")xu(o.ownerDocument.documentElement);else if(f==="head"){f=o.ownerDocument.head,xu(f);for(var S=f.firstChild;S;){var M=S.nextSibling,I=S.nodeName;S[Qn]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&S.rel.toLowerCase()==="stylesheet"||f.removeChild(S),S=M}}else f==="body"&&xu(o.ownerDocument.body);f=b}while(f);$s(s)}function _x(o,s){var f=o;o=0;do{var p=f.nextSibling;if(f.nodeType===1?s?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(s?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),p&&p.nodeType===8)if(f=p.data,f==="/$"){if(o===0)break;o--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||o++;f=p}while(f)}function Zg(o){var s=o.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var f=s;switch(s=s.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Zg(f),Ta(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function cq(o,s,f,p){for(;o.nodeType===1;){var b=f;if(o.nodeName.toLowerCase()!==s.toLowerCase()){if(!p&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(p){if(!o[Qn])switch(s){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(S=o.getAttribute("rel"),S==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(S!==b.rel||o.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||o.getAttribute("title")!==(b.title==null?null:b.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(S=o.getAttribute("src"),(S!==(b.src==null?null:b.src)||o.getAttribute("type")!==(b.type==null?null:b.type)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&S&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(s==="input"&&o.type==="hidden"){var S=b.name==null?null:""+b.name;if(b.type==="hidden"&&o.getAttribute("name")===S)return o}else return o;if(o=Tr(o.nextSibling),o===null)break}return null}function fq(o,s,f){if(s==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=Tr(o.nextSibling),o===null))return null;return o}function Sx(o,s){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!s||(o=Tr(o.nextSibling),o===null))return null;return o}function ey(o){return o.data==="$?"||o.data==="$~"}function ty(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function dq(o,s){var f=o.ownerDocument;if(o.data==="$~")o._reactRetry=s;else if(o.data!=="$?"||f.readyState!=="loading")s();else{var p=function(){s(),f.removeEventListener("DOMContentLoaded",p)};f.addEventListener("DOMContentLoaded",p),o._reactRetry=p}}function Tr(o){for(;o!=null;o=o.nextSibling){var s=o.nodeType;if(s===1||s===3)break;if(s===8){if(s=o.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return o}var ny=null;function Tx(o){o=o.nextSibling;for(var s=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"||f==="/&"){if(s===0)return Tr(o.nextSibling);s--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||s++}o=o.nextSibling}return null}function Ex(o){o=o.previousSibling;for(var s=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(s===0)return o;s--}else f!=="/$"&&f!=="/&"||s++}o=o.previousSibling}return null}function wx(o,s,f){switch(s=nd(f),o){case"html":if(o=s.documentElement,!o)throw Error(r(452));return o;case"head":if(o=s.head,!o)throw Error(r(453));return o;case"body":if(o=s.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function xu(o){for(var s=o.attributes;s.length;)o.removeAttributeNode(s[0]);Ta(o)}var Er=new Map,xx=new Set;function rd(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Ui=ne.d;ne.d={f:hq,r:pq,D:mq,C:gq,L:yq,m:vq,X:_q,S:bq,M:Sq};function hq(){var o=Ui.f(),s=Yf();return o||s}function pq(o){var s=os(o);s!==null&&s.tag===5&&s.type==="form"?BE(s):Ui.r(o)}var js=typeof document>"u"?null:document;function Ax(o,s,f){var p=js;if(p&&typeof s=="string"&&s){var b=mr(s);b='link[rel="'+o+'"][href="'+b+'"]',typeof f=="string"&&(b+='[crossorigin="'+f+'"]'),xx.has(b)||(xx.add(b),o={rel:o,crossOrigin:f,href:s},p.querySelector(b)===null&&(s=p.createElement("link"),on(s,"link",o),Kt(s),p.head.appendChild(s)))}}function mq(o){Ui.D(o),Ax("dns-prefetch",o,null)}function gq(o,s){Ui.C(o,s),Ax("preconnect",o,s)}function yq(o,s,f){Ui.L(o,s,f);var p=js;if(p&&o&&s){var b='link[rel="preload"][as="'+mr(s)+'"]';s==="image"&&f&&f.imageSrcSet?(b+='[imagesrcset="'+mr(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(b+='[imagesizes="'+mr(f.imageSizes)+'"]')):b+='[href="'+mr(o)+'"]';var S=b;switch(s){case"style":S=qs(o);break;case"script":S=zs(o)}Er.has(S)||(o=m({rel:"preload",href:s==="image"&&f&&f.imageSrcSet?void 0:o,as:s},f),Er.set(S,o),p.querySelector(b)!==null||s==="style"&&p.querySelector(Au(S))||s==="script"&&p.querySelector(Cu(S))||(s=p.createElement("link"),on(s,"link",o),Kt(s),p.head.appendChild(s)))}}function vq(o,s){Ui.m(o,s);var f=js;if(f&&o){var p=s&&typeof s.as=="string"?s.as:"script",b='link[rel="modulepreload"][as="'+mr(p)+'"][href="'+mr(o)+'"]',S=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=zs(o)}if(!Er.has(S)&&(o=m({rel:"modulepreload",href:o},s),Er.set(S,o),f.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Cu(S)))return}p=f.createElement("link"),on(p,"link",o),Kt(p),f.head.appendChild(p)}}}function bq(o,s,f){Ui.S(o,s,f);var p=js;if(p&&o){var b=ss(p).hoistableStyles,S=qs(o);s=s||"default";var M=b.get(S);if(!M){var I={loading:0,preload:null};if(M=p.querySelector(Au(S)))I.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":s},f),(f=Er.get(S))&&ry(o,f);var L=M=p.createElement("link");Kt(L),on(L,"link",o),L._p=new Promise(function(K,te){L.onload=K,L.onerror=te}),L.addEventListener("load",function(){I.loading|=1}),L.addEventListener("error",function(){I.loading|=2}),I.loading|=4,id(M,s,p)}M={type:"stylesheet",instance:M,count:1,state:I},b.set(S,M)}}}function _q(o,s){Ui.X(o,s);var f=js;if(f&&o){var p=ss(f).hoistableScripts,b=zs(o),S=p.get(b);S||(S=f.querySelector(Cu(b)),S||(o=m({src:o,async:!0},s),(s=Er.get(b))&&iy(o,s),S=f.createElement("script"),Kt(S),on(S,"link",o),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(b,S))}}function Sq(o,s){Ui.M(o,s);var f=js;if(f&&o){var p=ss(f).hoistableScripts,b=zs(o),S=p.get(b);S||(S=f.querySelector(Cu(b)),S||(o=m({src:o,async:!0,type:"module"},s),(s=Er.get(b))&&iy(o,s),S=f.createElement("script"),Kt(S),on(S,"link",o),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(b,S))}}function Cx(o,s,f,p){var b=(b=he.current)?rd(b):null;if(!b)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(s=qs(f.href),f=ss(b).hoistableStyles,p=f.get(s),p||(p={type:"style",instance:null,count:0,state:null},f.set(s,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=qs(f.href);var S=ss(b).hoistableStyles,M=S.get(o);if(M||(b=b.ownerDocument||b,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(o,M),(S=b.querySelector(Au(o)))&&!S._p&&(M.instance=S,M.state.loading=5),Er.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Er.set(o,f),S||Tq(b,o,f,M.state))),s&&p===null)throw Error(r(528,""));return M}if(s&&p!==null)throw Error(r(529,""));return null;case"script":return s=f.async,f=f.src,typeof f=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=zs(f),f=ss(b).hoistableScripts,p=f.get(s),p||(p={type:"script",instance:null,count:0,state:null},f.set(s,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function qs(o){return'href="'+mr(o)+'"'}function Au(o){return'link[rel="stylesheet"]['+o+"]"}function Mx(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function Tq(o,s,f,p){o.querySelector('link[rel="preload"][as="style"]['+s+"]")?p.loading=1:(s=o.createElement("link"),p.preload=s,s.addEventListener("load",function(){return p.loading|=1}),s.addEventListener("error",function(){return p.loading|=2}),on(s,"link",f),Kt(s),o.head.appendChild(s))}function zs(o){return'[src="'+mr(o)+'"]'}function Cu(o){return"script[async]"+o}function Px(o,s,f){if(s.count++,s.instance===null)switch(s.type){case"style":var p=o.querySelector('style[data-href~="'+mr(f.href)+'"]');if(p)return s.instance=p,Kt(p),p;var b=m({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return p=(o.ownerDocument||o).createElement("style"),Kt(p),on(p,"style",b),id(p,f.precedence,o),s.instance=p;case"stylesheet":b=qs(f.href);var S=o.querySelector(Au(b));if(S)return s.state.loading|=4,s.instance=S,Kt(S),S;p=Mx(f),(b=Er.get(b))&&ry(p,b),S=(o.ownerDocument||o).createElement("link"),Kt(S);var M=S;return M._p=new Promise(function(I,L){M.onload=I,M.onerror=L}),on(S,"link",p),s.state.loading|=4,id(S,f.precedence,o),s.instance=S;case"script":return S=zs(f.src),(b=o.querySelector(Cu(S)))?(s.instance=b,Kt(b),b):(p=f,(b=Er.get(S))&&(p=m({},f),iy(p,b)),o=o.ownerDocument||o,b=o.createElement("script"),Kt(b),on(b,"link",p),o.head.appendChild(b),s.instance=b);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(p=s.instance,s.state.loading|=4,id(p,f.precedence,o));return s.instance}function id(o,s,f){for(var p=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,S=b,M=0;M<p.length;M++){var I=p[M];if(I.dataset.precedence===s)S=I;else if(S!==b)break}S?S.parentNode.insertBefore(o,S.nextSibling):(s=f.nodeType===9?f.head:f,s.insertBefore(o,s.firstChild))}function ry(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.title==null&&(o.title=s.title)}function iy(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.integrity==null&&(o.integrity=s.integrity)}var ad=null;function Nx(o,s,f){if(ad===null){var p=new Map,b=ad=new Map;b.set(f,p)}else b=ad,p=b.get(f),p||(p=new Map,b.set(f,p));if(p.has(o))return p;for(p.set(o,null),f=f.getElementsByTagName(o),b=0;b<f.length;b++){var S=f[b];if(!(S[Qn]||S[Te]||o==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var M=S.getAttribute(s)||"";M=o+M;var I=p.get(M);I?I.push(S):p.set(M,[S])}}return p}function Ox(o,s,f){o=o.ownerDocument||o,o.head.insertBefore(f,s==="title"?o.querySelector("head > title"):null)}function Eq(o,s,f){if(f===1||s.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return o=s.disabled,typeof s.precedence=="string"&&o==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Ix(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function wq(o,s,f,p){if(f.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var b=qs(p.href),S=s.querySelector(Au(b));if(S){s=S._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(o.count++,o=od.bind(o),s.then(o,o)),f.state.loading|=4,f.instance=S,Kt(S);return}S=s.ownerDocument||s,p=Mx(p),(b=Er.get(b))&&ry(p,b),S=S.createElement("link"),Kt(S);var M=S;M._p=new Promise(function(I,L){M.onload=I,M.onerror=L}),on(S,"link",p),f.instance=S}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(f,s),(s=f.state.preload)&&(f.state.loading&3)===0&&(o.count++,f=od.bind(o),s.addEventListener("load",f),s.addEventListener("error",f))}}var ay=0;function xq(o,s){return o.stylesheets&&o.count===0&&ld(o,o.stylesheets),0<o.count||0<o.imgCount?function(f){var p=setTimeout(function(){if(o.stylesheets&&ld(o,o.stylesheets),o.unsuspend){var S=o.unsuspend;o.unsuspend=null,S()}},6e4+s);0<o.imgBytes&&ay===0&&(ay=62500*aq());var b=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&ld(o,o.stylesheets),o.unsuspend)){var S=o.unsuspend;o.unsuspend=null,S()}},(o.imgBytes>ay?50:800)+s);return o.unsuspend=f,function(){o.unsuspend=null,clearTimeout(p),clearTimeout(b)}}:null}function od(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ld(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var sd=null;function ld(o,s){o.stylesheets=null,o.unsuspend!==null&&(o.count++,sd=new Map,s.forEach(Aq,o),sd=null,od.call(o))}function Aq(o,s){if(!(s.state.loading&4)){var f=sd.get(o);if(f)var p=f.get(null);else{f=new Map,sd.set(o,f);for(var b=o.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<b.length;S++){var M=b[S];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(f.set(M.dataset.precedence,M),p=M)}p&&f.set(null,p)}b=s.instance,M=b.getAttribute("data-precedence"),S=f.get(M)||p,S===p&&f.set(null,b),f.set(M,b),this.count++,p=od.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),S?S.parentNode.insertBefore(b,S.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(b,o.firstChild)),s.state.loading|=4}}var Mu={$$typeof:P,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function Cq(o,s,f,p,b,S,M,I,L){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=uo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uo(0),this.hiddenUpdates=uo(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=S,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function Dx(o,s,f,p,b,S,M,I,L,K,te,ae){return o=new Cq(o,s,f,M,L,K,te,ae,I),s=1,S===!0&&(s|=24),S=er(3,null,null,s),o.current=S,S.stateNode=o,s=jm(),s.refCount++,o.pooledCache=s,s.refCount++,S.memoizedState={element:p,isDehydrated:f,cache:s},Bm(S),o}function Rx(o){return o?(o=ys,o):ys}function kx(o,s,f,p,b,S){b=Rx(b),p.context===null?p.context=b:p.pendingContext=b,p=Pa(s),p.payload={element:f},S=S===void 0?null:S,S!==null&&(p.callback=S),f=Na(o,p,s),f!==null&&(jn(f,o,s),ou(f,o,s))}function Lx(o,s){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<s?f:s}}function oy(o,s){Lx(o,s),(o=o.alternate)&&Lx(o,s)}function Ux(o){if(o.tag===13||o.tag===31){var s=go(o,67108864);s!==null&&jn(s,o,67108864),oy(o,67108864)}}function jx(o){if(o.tag===13||o.tag===31){var s=ar();s=Bl(s);var f=go(o,s);f!==null&&jn(f,o,s),oy(o,s)}}var ud=!0;function Mq(o,s,f,p){var b=B.T;B.T=null;var S=ne.p;try{ne.p=2,sy(o,s,f,p)}finally{ne.p=S,B.T=b}}function Pq(o,s,f,p){var b=B.T;B.T=null;var S=ne.p;try{ne.p=8,sy(o,s,f,p)}finally{ne.p=S,B.T=b}}function sy(o,s,f,p){if(ud){var b=ly(p);if(b===null)Kg(o,s,p,cd,f),zx(o,p);else if(Oq(b,o,s,f,p))p.stopPropagation();else if(zx(o,p),s&4&&-1<Nq.indexOf(o)){for(;b!==null;){var S=os(b);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var M=Wn(S.pendingLanes);if(M!==0){var I=S;for(I.pendingLanes|=2,I.entangledLanes|=2;M;){var L=1<<31-Nt(M);I.entanglements[1]|=L,M&=~L}ri(S),(Je&6)===0&&(Vf=Ue()+500,Tu(0))}}break;case 31:case 13:I=go(S,2),I!==null&&jn(I,S,2),Yf(),oy(S,2)}if(S=ly(p),S===null&&Kg(o,s,p,cd,f),S===b)break;b=S}b!==null&&p.stopPropagation()}else Kg(o,s,p,null,f)}}function ly(o){return o=cm(o),uy(o)}var cd=null;function uy(o){if(cd=null,o=as(o),o!==null){var s=a(o);if(s===null)o=null;else{var f=s.tag;if(f===13){if(o=l(s),o!==null)return o;o=null}else if(f===31){if(o=u(s),o!==null)return o;o=null}else if(f===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null)}}return cd=o,null}function qx(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ns()){case rs:return 2;case On:return 8;case Sa:case Ul:return 32;case Zr:return 268435456;default:return 32}default:return 32}}var cy=!1,$a=null,Ba=null,Fa=null,Pu=new Map,Nu=new Map,Ha=[],Nq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zx(o,s){switch(o){case"focusin":case"focusout":$a=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":Pu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nu.delete(s.pointerId)}}function Ou(o,s,f,p,b,S){return o===null||o.nativeEvent!==S?(o={blockedOn:s,domEventName:f,eventSystemFlags:p,nativeEvent:S,targetContainers:[b]},s!==null&&(s=os(s),s!==null&&Ux(s)),o):(o.eventSystemFlags|=p,s=o.targetContainers,b!==null&&s.indexOf(b)===-1&&s.push(b),o)}function Oq(o,s,f,p,b){switch(s){case"focusin":return $a=Ou($a,o,s,f,p,b),!0;case"dragenter":return Ba=Ou(Ba,o,s,f,p,b),!0;case"mouseover":return Fa=Ou(Fa,o,s,f,p,b),!0;case"pointerover":var S=b.pointerId;return Pu.set(S,Ou(Pu.get(S)||null,o,s,f,p,b)),!0;case"gotpointercapture":return S=b.pointerId,Nu.set(S,Ou(Nu.get(S)||null,o,s,f,p,b)),!0}return!1}function $x(o){var s=as(o.target);if(s!==null){var f=a(s);if(f!==null){if(s=f.tag,s===13){if(s=l(f),s!==null){o.blockedOn=s,W(o.priority,function(){jx(f)});return}}else if(s===31){if(s=u(f),s!==null){o.blockedOn=s,W(o.priority,function(){jx(f)});return}}else if(s===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function fd(o){if(o.blockedOn!==null)return!1;for(var s=o.targetContainers;0<s.length;){var f=ly(o.nativeEvent);if(f===null){f=o.nativeEvent;var p=new f.constructor(f.type,f);um=p,f.target.dispatchEvent(p),um=null}else return s=os(f),s!==null&&Ux(s),o.blockedOn=f,!1;s.shift()}return!0}function Bx(o,s,f){fd(o)&&f.delete(s)}function Iq(){cy=!1,$a!==null&&fd($a)&&($a=null),Ba!==null&&fd(Ba)&&(Ba=null),Fa!==null&&fd(Fa)&&(Fa=null),Pu.forEach(Bx),Nu.forEach(Bx)}function dd(o,s){o.blockedOn===s&&(o.blockedOn=null,cy||(cy=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Iq)))}var hd=null;function Fx(o){hd!==o&&(hd=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){hd===o&&(hd=null);for(var s=0;s<o.length;s+=3){var f=o[s],p=o[s+1],b=o[s+2];if(typeof p!="function"){if(uy(p||f)===null)continue;break}var S=os(f);S!==null&&(o.splice(s,3),s-=3,lg(S,{pending:!0,data:b,method:f.method,action:p},p,b))}}))}function $s(o){function s(L){return dd(L,o)}$a!==null&&dd($a,o),Ba!==null&&dd(Ba,o),Fa!==null&&dd(Fa,o),Pu.forEach(s),Nu.forEach(s);for(var f=0;f<Ha.length;f++){var p=Ha[f];p.blockedOn===o&&(p.blockedOn=null)}for(;0<Ha.length&&(f=Ha[0],f.blockedOn===null);)$x(f),f.blockedOn===null&&Ha.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(p=0;p<f.length;p+=3){var b=f[p],S=f[p+1],M=b[Pe]||null;if(typeof S=="function")M||Fx(f);else if(M){var I=null;if(S&&S.hasAttribute("formAction")){if(b=S,M=S[Pe]||null)I=M.formAction;else if(uy(b)!==null)continue}else I=M.action;typeof I=="function"?f[p+1]=I:(f.splice(p,3),p-=3),Fx(f)}}}function Hx(){function o(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(M){return b=M})},focusReset:"manual",scroll:"manual"})}function s(){b!==null&&(b(),b=null),p||setTimeout(f,20)}function f(){if(!p&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,b=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(f,100),function(){p=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),b!==null&&(b(),b=null)}}}function fy(o){this._internalRoot=o}pd.prototype.render=fy.prototype.render=function(o){var s=this._internalRoot;if(s===null)throw Error(r(409));var f=s.current,p=ar();kx(f,p,o,s,null,null)},pd.prototype.unmount=fy.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var s=o.containerInfo;kx(o.current,2,null,o,null,null),Yf(),s[Oe]=null}};function pd(o){this._internalRoot=o}pd.prototype.unstable_scheduleHydration=function(o){if(o){var s=tf();o={blockedOn:null,target:o,priority:s};for(var f=0;f<Ha.length&&s!==0&&s<Ha[f].priority;f++);Ha.splice(f,0,o),f===0&&$x(o)}};var Gx=t.version;if(Gx!=="19.2.0")throw Error(r(527,Gx,"19.2.0"));ne.findDOMNode=function(o){var s=o._reactInternals;if(s===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(s),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var Dq={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!md.isDisabled&&md.supportsFiber)try{yi=md.inject(Dq),Gt=md}catch{}}return Du.createRoot=function(o,s){if(!i(o))throw Error(r(299));var f=!1,p="",b=QE,S=ZE,M=ew;return s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(b=s.onUncaughtError),s.onCaughtError!==void 0&&(S=s.onCaughtError),s.onRecoverableError!==void 0&&(M=s.onRecoverableError)),s=Dx(o,1,!1,null,null,f,p,null,b,S,M,Hx),o[Oe]=s.current,Vg(o),new fy(s)},Du.hydrateRoot=function(o,s,f){if(!i(o))throw Error(r(299));var p=!1,b="",S=QE,M=ZE,I=ew,L=null;return f!=null&&(f.unstable_strictMode===!0&&(p=!0),f.identifierPrefix!==void 0&&(b=f.identifierPrefix),f.onUncaughtError!==void 0&&(S=f.onUncaughtError),f.onCaughtError!==void 0&&(M=f.onCaughtError),f.onRecoverableError!==void 0&&(I=f.onRecoverableError),f.formState!==void 0&&(L=f.formState)),s=Dx(o,1,!0,s,f??null,p,b,L,S,M,I,Hx),s.context=Rx(null),f=s.current,p=ar(),p=Bl(p),b=Pa(p),b.callback=null,Na(f,b,p),f=p,s.current.lanes=f,bi(s,f),ri(s),o[Oe]=s.current,Vg(o),new pd(s)},Du.version="19.2.0",Du}var tA;function Gq(){if(tA)return py.exports;tA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),py.exports=Hq(),py.exports}var Vq=Gq();var nA="popstate";function Kq(e={}){function t(r,i){let{pathname:a,search:l,hash:u}=r.location;return s0("",{pathname:a,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:uc(i)}return Wq(t,n,null,e)}function St(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ir(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Yq(){return Math.random().toString(36).substring(2,10)}function rA(e,t){return{usr:e.state,key:e.key,idx:t}}function s0(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?_l(t):t,state:n,key:t&&t.key||r||Yq()}}function uc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function _l(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Wq(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,u="POP",c=null,d=h();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function h(){return(l.state||{idx:null}).idx}function m(){u="POP";let E=h(),C=E==null?null:E-d;d=E,c&&c({action:u,location:w.location,delta:C})}function y(E,C){u="PUSH";let N=s0(w.location,E,C);d=h()+1;let P=rA(N,d),D=w.createHref(N);try{l.pushState(P,"",D)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(D)}a&&c&&c({action:u,location:w.location,delta:1})}function _(E,C){u="REPLACE";let N=s0(w.location,E,C);d=h();let P=rA(N,d),D=w.createHref(N);l.replaceState(P,"",D),a&&c&&c({action:u,location:w.location,delta:0})}function T(E){return Jq(E)}let w={get action(){return u},get location(){return e(i,l)},listen(E){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(nA,m),c=E,()=>{i.removeEventListener(nA,m),c=null}},createHref(E){return t(i,E)},createURL:T,encodeLocation(E){let C=T(E);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:y,replace:_,go(E){return l.go(E)}};return w}function Jq(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),St(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:uc(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function qO(e,t,n="/"){return Xq(e,t,n,!1)}function Xq(e,t,n,r){let i=typeof t=="string"?_l(t):t,a=ea(i.pathname||"/",n);if(a==null)return null;let l=zO(e);Qq(l);let u=null;for(let c=0;u==null&&c<l.length;++c){let d=uz(a);u=sz(l[c],d,r)}return u}function zO(e,t=[],n=[],r="",i=!1){let a=(l,u,c=i,d)=>{let h={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&c)return;St(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let m=Ji([r,h.relativePath]),y=n.concat(h);l.children&&l.children.length>0&&(St(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),zO(l.children,t,y,m,c)),!(l.path==null&&!l.index)&&t.push({path:m,score:az(m,l.index),routesMeta:y})};return e.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))a(l,u);else for(let c of $O(l.path))a(l,u,!0,c)}),t}function $O(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=$O(r.join("/")),u=[];return u.push(...l.map(c=>c===""?a:[a,c].join("/"))),i&&u.push(...l),u.map(c=>e.startsWith("/")&&c===""?"/":c)}function Qq(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:oz(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Zq=/^:[\w-]+$/,ez=3,tz=2,nz=1,rz=10,iz=-2,iA=e=>e==="*";function az(e,t){let n=e.split("/"),r=n.length;return n.some(iA)&&(r+=iz),t&&(r+=tz),n.filter(i=>!iA(i)).reduce((i,a)=>i+(Zq.test(a)?ez:a===""?nz:rz),r)}function oz(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function sz(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",l=[];for(let u=0;u<r.length;++u){let c=r[u],d=u===r.length-1,h=a==="/"?t:t.slice(a.length)||"/",m=Qd({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),y=c.route;if(!m&&d&&n&&!r[r.length-1].route.index&&(m=Qd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:Ji([a,m.pathname]),pathnameBase:pz(Ji([a,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(a=Ji([a,m.pathnameBase]))}return l}function Qd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=lz(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:m},y)=>{if(h==="*"){let T=u[y]||"";l=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}const _=u[y];return m&&!_?d[h]=void 0:d[h]=(_||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:l,pattern:e}}function lz(e,t=!1,n=!0){Ir(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function uz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ir(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ea(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var cz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fz=e=>cz.test(e);function dz(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?_l(e):e,a;if(n)if(fz(n))a=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Ir(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?a=aA(n.substring(1),"/"):a=aA(n,t)}else a=t;return{pathname:a,search:mz(r),hash:gz(i)}}function aA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function vy(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hz(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function BO(e){let t=hz(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function FO(e,t,n,r=!1){let i;typeof e=="string"?i=_l(e):(i={...e},St(!i.pathname||!i.pathname.includes("?"),vy("?","pathname","search",i)),St(!i.pathname||!i.pathname.includes("#"),vy("#","pathname","hash",i)),St(!i.search||!i.search.includes("#"),vy("#","search","hash",i)));let a=e===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=n;else{let m=t.length-1;if(!r&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),m-=1;i.pathname=y.join("/")}u=m>=0?t[m]:"/"}let c=dz(i,u),d=l&&l!=="/"&&l.endsWith("/"),h=(a||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}var Ji=e=>e.join("/").replace(/\/\/+/g,"/"),pz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mz=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,gz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function yz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var HO=["POST","PUT","PATCH","DELETE"];new Set(HO);var vz=["GET",...HO];new Set(vz);var Sl=x.createContext(null);Sl.displayName="DataRouter";var ap=x.createContext(null);ap.displayName="DataRouterState";x.createContext(!1);var GO=x.createContext({isTransitioning:!1});GO.displayName="ViewTransition";var bz=x.createContext(new Map);bz.displayName="Fetchers";var _z=x.createContext(null);_z.displayName="Await";var hi=x.createContext(null);hi.displayName="Navigation";var Cc=x.createContext(null);Cc.displayName="Location";var da=x.createContext({outlet:null,matches:[],isDataRoute:!1});da.displayName="Route";var Hb=x.createContext(null);Hb.displayName="RouteError";function Sz(e,{relative:t}={}){St(Mc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(hi),{hash:i,pathname:a,search:l}=Pc(e,{relative:t}),u=a;return n!=="/"&&(u=a==="/"?n:Ji([n,a])),r.createHref({pathname:u,search:l,hash:i})}function Mc(){return x.useContext(Cc)!=null}function ro(){return St(Mc(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Cc).location}var VO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function KO(e){x.useContext(hi).static||x.useLayoutEffect(e)}function op(){let{isDataRoute:e}=x.useContext(da);return e?Rz():Tz()}function Tz(){St(Mc(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(Sl),{basename:t,navigator:n}=x.useContext(hi),{matches:r}=x.useContext(da),{pathname:i}=ro(),a=JSON.stringify(BO(r)),l=x.useRef(!1);return KO(()=>{l.current=!0}),x.useCallback((c,d={})=>{if(Ir(l.current,VO),!l.current)return;if(typeof c=="number"){n.go(c);return}let h=FO(c,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ji([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,a,i,e])}x.createContext(null);function Pc(e,{relative:t}={}){let{matches:n}=x.useContext(da),{pathname:r}=ro(),i=JSON.stringify(BO(n));return x.useMemo(()=>FO(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function Ez(e,t){return YO(e,t)}function YO(e,t,n,r,i){St(Mc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=x.useContext(hi),{matches:l}=x.useContext(da),u=l[l.length-1],c=u?u.params:{},d=u?u.pathname:"/",h=u?u.pathnameBase:"/",m=u&&u.route;{let N=m&&m.path||"";WO(d,!m||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let y=ro(),_;if(t){let N=typeof t=="string"?_l(t):t;St(h==="/"||N.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${N.pathname}" was given in the \`location\` prop.`),_=N}else _=y;let T=_.pathname||"/",w=T;if(h!=="/"){let N=h.replace(/^\//,"").split("/");w="/"+T.replace(/^\//,"").split("/").slice(N.length).join("/")}let E=qO(e,{pathname:w});Ir(m||E!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Ir(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=Mz(E&&E.map(N=>Object.assign({},N,{params:Object.assign({},c,N.params),pathname:Ji([h,a.encodeLocation?a.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?h:Ji([h,a.encodeLocation?a.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),l,n,r,i);return t&&C?x.createElement(Cc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},C):C}function wz(){let e=Dz(),t=yz(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:a},"ErrorBoundary")," or"," ",x.createElement("code",{style:a},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:i},n):null,l)}var xz=x.createElement(wz,null),Az=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?x.createElement(da.Provider,{value:this.props.routeContext},x.createElement(Hb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Cz({routeContext:e,match:t,children:n}){let r=x.useContext(Sl);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(da.Provider,{value:e},n)}function Mz(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=n?.errors;if(l!=null){let h=a.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);St(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,c=-1;if(n)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=h),m.route.id){let{loaderData:y,errors:_}=n,T=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!_||_[m.route.id]===void 0);if(m.route.lazy||T){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}let d=n&&r?(h,m)=>{r(h,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:m})}:void 0;return a.reduceRight((h,m,y)=>{let _,T=!1,w=null,E=null;n&&(_=l&&m.route.id?l[m.route.id]:void 0,w=m.route.errorElement||xz,u&&(c<0&&y===0?(WO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,E=null):c===y&&(T=!0,E=m.route.hydrateFallbackElement||null)));let C=t.concat(a.slice(0,y+1)),N=()=>{let P;return _?P=w:T?P=E:m.route.Component?P=x.createElement(m.route.Component,null):m.route.element?P=m.route.element:P=h,x.createElement(Cz,{match:m,routeContext:{outlet:h,matches:C,isDataRoute:n!=null},children:P})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?x.createElement(Az,{location:n.location,revalidation:n.revalidation,component:w,error:_,children:N(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:d}):N()},null)}function Gb(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pz(e){let t=x.useContext(Sl);return St(t,Gb(e)),t}function Nz(e){let t=x.useContext(ap);return St(t,Gb(e)),t}function Oz(e){let t=x.useContext(da);return St(t,Gb(e)),t}function Vb(e){let t=Oz(e),n=t.matches[t.matches.length-1];return St(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Iz(){return Vb("useRouteId")}function Dz(){let e=x.useContext(Hb),t=Nz("useRouteError"),n=Vb("useRouteError");return e!==void 0?e:t.errors?.[n]}function Rz(){let{router:e}=Pz("useNavigate"),t=Vb("useNavigate"),n=x.useRef(!1);return KO(()=>{n.current=!0}),x.useCallback(async(i,a={})=>{Ir(n.current,VO),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var oA={};function WO(e,t,n){!t&&!oA[e]&&(oA[e]=!0,Ir(!1,n))}x.memo(kz);function kz({routes:e,future:t,state:n,unstable_onError:r}){return YO(e,void 0,n,r,t)}function Gs(e){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Lz({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){St(!Mc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof n=="string"&&(n=_l(n));let{pathname:c="/",search:d="",hash:h="",state:m=null,key:y="default"}=n,_=x.useMemo(()=>{let T=ea(c,l);return T==null?null:{location:{pathname:T,search:d,hash:h,state:m,key:y},navigationType:r}},[l,c,d,h,m,y,r]);return Ir(_!=null,`<Router basename="${l}"> is not able to match the URL "${c}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:x.createElement(hi.Provider,{value:u},x.createElement(Cc.Provider,{children:t,value:_}))}function Uz({children:e,location:t}){return Ez(l0(e),t)}function l0(e,t=[]){let n=[];return x.Children.forEach(e,(r,i)=>{if(!x.isValidElement(r))return;let a=[...t,i];if(r.type===x.Fragment){n.push.apply(n,l0(r.props.children,a));return}St(r.type===Gs,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=l0(r.props.children,a)),n.push(l)}),n}var jd="get",qd="application/x-www-form-urlencoded";function sp(e){return e!=null&&typeof e.tagName=="string"}function jz(e){return sp(e)&&e.tagName.toLowerCase()==="button"}function qz(e){return sp(e)&&e.tagName.toLowerCase()==="form"}function zz(e){return sp(e)&&e.tagName.toLowerCase()==="input"}function $z(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Bz(e,t){return e.button===0&&(!t||t==="_self")&&!$z(e)}function u0(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function Fz(e,t){let n=u0(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(a=>{n.append(i,a)})}),n}var gd=null;function Hz(){if(gd===null)try{new FormData(document.createElement("form"),0),gd=!1}catch{gd=!0}return gd}var Gz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function by(e){return e!=null&&!Gz.has(e)?(Ir(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qd}"`),null):e}function Vz(e,t){let n,r,i,a,l;if(qz(e)){let u=e.getAttribute("action");r=u?ea(u,t):null,n=e.getAttribute("method")||jd,i=by(e.getAttribute("enctype"))||qd,a=new FormData(e)}else if(jz(e)||zz(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||u.getAttribute("action");if(r=c?ea(c,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||jd,i=by(e.getAttribute("formenctype"))||by(u.getAttribute("enctype"))||qd,a=new FormData(u,e),!Hz()){let{name:d,type:h,value:m}=e;if(h==="image"){let y=d?`${d}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else d&&a.append(d,m)}}else{if(sp(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=jd,r=null,i=qd,l=e}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Kb(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Kz(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&ea(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Yz(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Wz(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Jz(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let l=await Yz(a,n);return l.links?l.links():[]}return[]}));return e$(r.flat(1).filter(Wz).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function sA(e,t,n,r,i,a){let l=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,u=(c,d)=>n[d].pathname!==c.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==c.params["*"];return a==="assets"?t.filter((c,d)=>l(c,d)||u(c,d)):a==="data"?t.filter((c,d)=>{let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(l(c,d)||u(c,d))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function Xz(e,t,{includeHydrateFallback:n}={}){return Qz(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function Qz(e){return[...new Set(e)]}function Zz(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function e$(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(Zz(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function JO(){let e=x.useContext(Sl);return Kb(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function t$(){let e=x.useContext(ap);return Kb(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Yb=x.createContext(void 0);Yb.displayName="FrameworkContext";function XO(){let e=x.useContext(Yb);return Kb(e,"You must render this element inside a <HydratedRouter> element"),e}function n$(e,t){let n=x.useContext(Yb),[r,i]=x.useState(!1),[a,l]=x.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:m}=t,y=x.useRef(null);x.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let w=C=>{C.forEach(N=>{l(N.isIntersecting)})},E=new IntersectionObserver(w,{threshold:.5});return y.current&&E.observe(y.current),()=>{E.disconnect()}}},[e]),x.useEffect(()=>{if(r){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[r]);let _=()=>{i(!0)},T=()=>{i(!1),l(!1)};return n?e!=="intent"?[a,y,{}]:[a,y,{onFocus:Ru(u,_),onBlur:Ru(c,T),onMouseEnter:Ru(d,_),onMouseLeave:Ru(h,T),onTouchStart:Ru(m,_)}]:[!1,y,{}]}function Ru(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function r$({page:e,...t}){let{router:n}=JO(),r=x.useMemo(()=>qO(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?x.createElement(a$,{page:e,matches:r,...t}):null}function i$(e){let{manifest:t,routeModules:n}=XO(),[r,i]=x.useState([]);return x.useEffect(()=>{let a=!1;return Jz(e,t,n).then(l=>{a||i(l)}),()=>{a=!0}},[e,t,n]),r}function a$({page:e,matches:t,...n}){let r=ro(),{manifest:i,routeModules:a}=XO(),{basename:l}=JO(),{loaderData:u,matches:c}=t$(),d=x.useMemo(()=>sA(e,t,c,i,r,"data"),[e,t,c,i,r]),h=x.useMemo(()=>sA(e,t,c,i,r,"assets"),[e,t,c,i,r]),m=x.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let T=new Set,w=!1;if(t.forEach(C=>{let N=i.routes[C.route.id];!N||!N.hasLoader||(!d.some(P=>P.route.id===C.route.id)&&C.route.id in u&&a[C.route.id]?.shouldRevalidate||N.hasClientLoader?w=!0:T.add(C.route.id))}),T.size===0)return[];let E=Kz(e,l,"data");return w&&T.size>0&&E.searchParams.set("_routes",t.filter(C=>T.has(C.route.id)).map(C=>C.route.id).join(",")),[E.pathname+E.search]},[l,u,r,i,d,t,e,a]),y=x.useMemo(()=>Xz(h,i),[h,i]),_=i$(h);return x.createElement(x.Fragment,null,m.map(T=>x.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),y.map(T=>x.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),_.map(({key:T,link:w})=>x.createElement("link",{key:T,nonce:n.nonce,...w})))}function o$(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var QO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{QO&&(window.__reactRouterVersion="7.9.6")}catch{}function s$({basename:e,children:t,window:n}){let r=x.useRef();r.current==null&&(r.current=Kq({window:n,v5Compat:!0}));let i=r.current,[a,l]=x.useState({action:i.action,location:i.location}),u=x.useCallback(c=>{x.startTransition(()=>l(c))},[l]);return x.useLayoutEffect(()=>i.listen(u),[i,u]),x.createElement(Lz,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}var ZO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eI=x.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:u,target:c,to:d,preventScrollReset:h,viewTransition:m,...y},_){let{basename:T}=x.useContext(hi),w=typeof d=="string"&&ZO.test(d),E,C=!1;if(typeof d=="string"&&w&&(E=d,QO))try{let G=new URL(window.location.href),H=d.startsWith("//")?new URL(G.protocol+d):new URL(d),$=ea(H.pathname,T);H.origin===G.origin&&$!=null?d=$+H.search+H.hash:C=!0}catch{Ir(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=Sz(d,{relative:i}),[P,D,O]=n$(r,y),R=c$(d,{replace:l,state:u,target:c,preventScrollReset:h,relative:i,viewTransition:m});function k(G){t&&t(G),G.defaultPrevented||R(G)}let q=x.createElement("a",{...y,...O,href:E||N,onClick:C||a?t:k,ref:o$(_,D),target:c,"data-discover":!w&&n==="render"?"true":void 0});return P&&!w?x.createElement(x.Fragment,null,q,x.createElement(r$,{page:N})):q});eI.displayName="Link";var tI=x.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:u,children:c,...d},h){let m=Pc(l,{relative:d.relative}),y=ro(),_=x.useContext(ap),{navigator:T,basename:w}=x.useContext(hi),E=_!=null&&g$(m)&&u===!0,C=T.encodeLocation?T.encodeLocation(m).pathname:m.pathname,N=y.pathname,P=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(N=N.toLowerCase(),P=P?P.toLowerCase():null,C=C.toLowerCase()),P&&w&&(P=ea(P,w)||P);const D=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let O=N===C||!i&&N.startsWith(C)&&N.charAt(D)==="/",R=P!=null&&(P===C||!i&&P.startsWith(C)&&P.charAt(C.length)==="/"),k={isActive:O,isPending:R,isTransitioning:E},q=O?t:void 0,G;typeof r=="function"?G=r(k):G=[r,O?"active":null,R?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let H=typeof a=="function"?a(k):a;return x.createElement(eI,{...d,"aria-current":q,className:G,ref:h,style:H,to:l,viewTransition:u},typeof c=="function"?c(k):c)});tI.displayName="NavLink";var l$=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:l=jd,action:u,onSubmit:c,relative:d,preventScrollReset:h,viewTransition:m,...y},_)=>{let T=p$(),w=m$(u,{relative:d}),E=l.toLowerCase()==="get"?"get":"post",C=typeof u=="string"&&ZO.test(u),N=P=>{if(c&&c(P),P.defaultPrevented)return;P.preventDefault();let D=P.nativeEvent.submitter,O=D?.getAttribute("formmethod")||l;T(D||P.currentTarget,{fetcherKey:t,method:O,navigate:n,replace:i,state:a,relative:d,preventScrollReset:h,viewTransition:m})};return x.createElement("form",{ref:_,method:E,action:w,onSubmit:r?c:N,...y,"data-discover":!C&&e==="render"?"true":void 0})});l$.displayName="Form";function u$(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nI(e){let t=x.useContext(Sl);return St(t,u$(e)),t}function c$(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let u=op(),c=ro(),d=Pc(e,{relative:a});return x.useCallback(h=>{if(Bz(h,t)){h.preventDefault();let m=n!==void 0?n:uc(c)===uc(d);u(e,{replace:m,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[c,u,d,n,r,t,e,i,a,l])}function f$(e){Ir(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=x.useRef(u0(e)),n=x.useRef(!1),r=ro(),i=x.useMemo(()=>Fz(r.search,n.current?null:t.current),[r.search]),a=op(),l=x.useCallback((u,c)=>{const d=u0(typeof u=="function"?u(new URLSearchParams(i)):u);n.current=!0,a("?"+d,c)},[a,i]);return[i,l]}var d$=0,h$=()=>`__${String(++d$)}__`;function p$(){let{router:e}=nI("useSubmit"),{basename:t}=x.useContext(hi),n=Iz();return x.useCallback(async(r,i={})=>{let{action:a,method:l,encType:u,formData:c,body:d}=Vz(r,t);if(i.navigate===!1){let h=i.fetcherKey||h$();await e.fetch(h,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function m$(e,{relative:t}={}){let{basename:n}=x.useContext(hi),r=x.useContext(da);St(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Pc(e||".",{relative:t})},l=ro();if(e==null){a.search=l.search;let u=new URLSearchParams(a.search),c=u.getAll("index");if(c.some(h=>h==="")){u.delete("index"),c.filter(m=>m).forEach(m=>u.append("index",m));let h=u.toString();a.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Ji([n,a.pathname])),uc(a)}function g$(e,{relative:t}={}){let n=x.useContext(GO);St(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=nI("useViewTransitionState"),i=Pc(e,{relative:t});if(!n.isTransitioning)return!1;let a=ea(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ea(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Qd(i.pathname,l)!=null||Qd(i.pathname,a)!=null}var Wb=jO();function un(e){if(typeof e=="number")return(Math.abs(e*2654435761)>>>0).toString(16);if(typeof e=="boolean")return e?"1":"0";if(e===null)return"null";if(e===void 0)return"undefined";if(typeof e=="string"){let t=2166136261;for(let n=0;n<e.length;n++)t^=e.charCodeAt(n),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24),t=t>>>0;return t.toString(16)}if(Array.isArray(e)){let t=2166136261;for(let n=0;n<e.length;n++){t^=(n+1)*2654435761;const r=un(e[n]);for(let i=0;i<r.length;i++)t^=r.charCodeAt(i),t*=16777619,t=t>>>0}return t.toString(16)}if(typeof e=="object"){let t=2166136261;const n=Object.keys(e).sort();for(let r=0;r<n.length;r++){const i=n[r],a=un(i);t^=parseInt(a,16),t*=16777619,t=t>>>0;const l=un(e[i]);t^=parseInt(l,16),t*=16777619,t=t>>>0}return t.toString(16)}return un(String(e))}const Mt={Remove:"remove",Replace:"replace",Add:"add"},rI=Symbol.for("__MUTATIVE_PROXY_DRAFT__"),y$=Symbol("__MUTATIVE_RAW_RETURN_SYMBOL__"),zd=Symbol.iterator,cr={mutable:"mutable",immutable:"immutable"},Jb={};function Qu(e,t){return e instanceof Map?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function lA(e,t){if(t in e){let n=Reflect.getPrototypeOf(e);for(;n;){const r=Reflect.getOwnPropertyDescriptor(n,t);if(r)return r;n=Reflect.getPrototypeOf(n)}}}function Xb(e){return Object.getPrototypeOf(e)===Set.prototype}function Qb(e){return Object.getPrototypeOf(e)===Map.prototype}function sr(e){var t;return(t=e.copy)!==null&&t!==void 0?t:e.original}function Qa(e){return!!He(e)}function He(e){return typeof e!="object"?null:e?.[rI]}function Zb(e){var t;const n=He(e);return n?(t=n.copy)!==null&&t!==void 0?t:n.original:e}function Yr(e,t){if(!e||typeof e!="object")return!1;let n;return Object.getPrototypeOf(e)===Object.prototype||Array.isArray(e)||e instanceof Map||e instanceof Set||!!t?.mark&&((n=t.mark(e,cr))===cr.immutable||typeof n=="function")}function iI(e,t=[]){if(Object.hasOwnProperty.call(e,"key")){const n=e.parent.copy,r=He(ta(n,e.key));if(r!==null&&r?.original!==e.original)return null;const i=e.parent.type===3,a=i?Array.from(e.parent.setMap.keys()).indexOf(e.key):e.key;if(!(i&&n.size>a||Qu(n,a)))return null;t.push(a)}if(e.parent)return iI(e.parent,t);t.reverse();try{v$(e.copy,t)}catch{return null}return t}function Qo(e){return Array.isArray(e)?1:e instanceof Map?2:e instanceof Set?3:0}function ta(e,t){return Qo(e)===2?e.get(t):e[t]}function Nc(e,t,n){Qo(e)===2?e.set(t,n):e[t]=n}function _y(e,t){const n=He(e);return(n?sr(n):e)[t]}function Xi(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function c0(e){if(e)for(;e.finalities.revoke.length>0;)e.finalities.revoke.pop()()}function jo(e,t){return t?e:[""].concat(e).map(n=>{const r=`${n}`;return r.indexOf("/")===-1&&r.indexOf("~")===-1?r:r.replace(/~/g,"~0").replace(/\//g,"~1")}).join("/")}function v$(e,t){for(let n=0;n<t.length-1;n+=1){const r=t[n];if(e=ta(Qo(e)===3?Array.from(e):e,r),typeof e!="object")throw new Error(`Cannot resolve patch at '${t.join("/")}'.`)}return e}function b$(e){const t=Object.create(Object.getPrototypeOf(e));return Reflect.ownKeys(e).forEach(n=>{let r=Reflect.getOwnPropertyDescriptor(e,n);if(r.enumerable&&r.configurable&&r.writable){t[n]=e[n];return}r.writable||(r.writable=!0,r.configurable=!0),(r.get||r.set)&&(r={configurable:!0,writable:!0,enumerable:r.enumerable,value:e[n]}),Reflect.defineProperty(t,n,r)}),t}const _$=Object.prototype.propertyIsEnumerable;function aI(e,t){let n;if(Array.isArray(e))return Array.prototype.concat.call(e);if(e instanceof Set){if(!Xb(e)){const r=Object.getPrototypeOf(e).constructor;return new r(e.values())}return Set.prototype.difference?Set.prototype.difference.call(e,new Set):new Set(e.values())}else if(e instanceof Map){if(!Qb(e)){const r=Object.getPrototypeOf(e).constructor;return new r(e)}return new Map(e)}else if(t?.mark&&(n=t.mark(e,cr),n!==void 0)&&n!==cr.mutable){if(n===cr.immutable)return b$(e);if(typeof n=="function"){if(t.enablePatches||t.enableAutoFreeze)throw new Error("You can't use mark and patches or auto freeze together.");return n()}throw new Error(`Unsupported mark result: ${n}`)}else if(typeof e=="object"&&Object.getPrototypeOf(e)===Object.prototype){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i]}),Object.getOwnPropertySymbols(e).forEach(i=>{_$.call(e,i)&&(r[i]=e[i])}),r}else throw new Error("Please check mark() to ensure that it is a stable marker draftable function.")}function xn(e){e.copy||(e.copy=aI(e.original,e.options))}function Gu(e){if(!Yr(e))return Zb(e);if(Array.isArray(e))return e.map(Gu);if(e instanceof Map){const n=Array.from(e.entries()).map(([r,i])=>[r,Gu(i)]);if(!Qb(e)){const r=Object.getPrototypeOf(e).constructor;return new r(n)}return new Map(n)}if(e instanceof Set){const n=Array.from(e).map(Gu);if(!Xb(e)){const r=Object.getPrototypeOf(e).constructor;return new r(n)}return new Set(n)}const t=Object.create(Object.getPrototypeOf(e));for(const n in e)t[n]=Gu(e[n]);return t}function $d(e){return Qa(e)?Gu(e):e}function si(e){var t;e.assignedMap=(t=e.assignedMap)!==null&&t!==void 0?t:new Map,e.operated||(e.operated=!0,e.parent&&si(e.parent))}function uA(){throw new Error("Cannot modify frozen object")}function Vs(e,t,n,r,i){{n=n??new WeakMap,r=r??[],i=i??[];const l=n.has(e)?n.get(e):e;if(r.length>0){const u=r.indexOf(l);if(l&&typeof l=="object"&&u!==-1)throw r[0]===l?new Error("Forbids circular reference"):new Error(`Forbids circular reference: ~/${i.slice(0,u).map((c,d)=>{if(typeof c=="symbol")return`[${c.toString()}]`;const h=r[d];return typeof c=="object"&&(h instanceof Map||h instanceof Set)?Array.from(h.keys()).indexOf(c):c}).join("/")}`);r.push(l),i.push(t)}else r.push(l)}if(Object.isFrozen(e)||Qa(e)){r.pop(),i.pop();return}switch(Qo(e)){case 2:for(const[u,c]of e)Vs(u,u,n,r,i),Vs(c,u,n,r,i);e.set=e.clear=e.delete=uA;break;case 3:for(const u of e)Vs(u,u,n,r,i);e.add=e.clear=e.delete=uA;break;case 1:Object.freeze(e);let l=0;for(const u of e)Vs(u,l,n,r,i),l+=1;break;default:Object.freeze(e),Object.keys(e).forEach(u=>{const c=e[u];Vs(c,u,n,r,i)})}r.pop(),i.pop()}function e_(e,t){const n=Qo(e);if(n===0)Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)});else if(n===1){let r=0;for(const i of e)t(r,i,e),r+=1}else e.forEach((r,i)=>t(i,r,e))}function oI(e,t,n){if(Qa(e)||!Yr(e,n)||t.has(e)||Object.isFrozen(e))return;const r=e instanceof Set,i=r?new Map:void 0;if(t.add(e),e_(e,(a,l)=>{var u;if(Qa(l)){const c=He(l);xn(c);const d=!((u=c.assignedMap)===null||u===void 0)&&u.size||c.operated?c.copy:c.original;Nc(r?i:e,a,d)}else oI(l,t,n)}),i){const a=e,l=Array.from(a);a.clear(),l.forEach(u=>{a.add(i.has(u)?i.get(u):u)})}}function S$(e,t){const n=e.type===3?e.setMap:e.copy;e.finalities.revoke.length>1&&e.assignedMap.get(t)&&n&&oI(ta(n,t),e.finalities.handledSet,e.options)}function f0(e){e.type===3&&e.copy&&(e.copy.clear(),e.setMap.forEach(t=>{e.copy.add(Zb(t))}))}function d0(e,t,n,r){if(e.operated&&e.assignedMap&&e.assignedMap.size>0&&!e.finalized){if(n&&r){const a=iI(e);a&&t(e,a,n,r)}e.finalized=!0}}function t_(e,t,n,r){const i=He(n);i&&(i.callbacks||(i.callbacks=[]),i.callbacks.push((a,l)=>{var u;const c=e.type===3?e.setMap:e.copy;if(Xi(ta(c,t),n)){let d=i.original;i.copy&&(d=i.copy),f0(e),d0(e,r,a,l),e.options.enableAutoFreeze&&(e.options.updatedValues=(u=e.options.updatedValues)!==null&&u!==void 0?u:new WeakMap,e.options.updatedValues.set(d,i.original)),Nc(c,t,d)}}),e.options.enableAutoFreeze&&i.finalities!==e.finalities&&(e.options.enableAutoFreeze=!1)),Yr(n,e.options)&&e.finalities.draft.push(()=>{const a=e.type===3?e.setMap:e.copy;Xi(ta(a,t),n)&&S$(e,t)})}function T$(e,t,n,r,i){let{original:a,assignedMap:l,options:u}=e,c=e.copy;c.length<a.length&&([a,c]=[c,a],[n,r]=[r,n]);for(let d=0;d<a.length;d+=1)if(l.get(d.toString())&&c[d]!==a[d]){const h=t.concat([d]),m=jo(h,i);n.push({op:Mt.Replace,path:m,value:$d(c[d])}),r.push({op:Mt.Replace,path:m,value:$d(a[d])})}for(let d=a.length;d<c.length;d+=1){const h=t.concat([d]),m=jo(h,i);n.push({op:Mt.Add,path:m,value:$d(c[d])})}if(a.length<c.length){const{arrayLengthAssignment:d=!0}=u.enablePatches;if(d){const h=t.concat(["length"]),m=jo(h,i);r.push({op:Mt.Replace,path:m,value:a.length})}else for(let h=c.length;a.length<h;h-=1){const m=t.concat([h-1]),y=jo(m,i);r.push({op:Mt.Remove,path:y})}}}function E$({original:e,copy:t,assignedMap:n},r,i,a,l){n.forEach((u,c)=>{const d=ta(e,c),h=$d(ta(t,c)),m=u?Qu(e,c)?Mt.Replace:Mt.Add:Mt.Remove;if(Xi(d,h)&&m===Mt.Replace)return;const y=r.concat(c),_=jo(y,l);i.push(m===Mt.Remove?{op:m,path:_}:{op:m,path:_,value:h}),a.push(m===Mt.Add?{op:Mt.Remove,path:_}:m===Mt.Remove?{op:Mt.Add,path:_,value:d}:{op:Mt.Replace,path:_,value:d})})}function w$({original:e,copy:t},n,r,i,a){let l=0;e.forEach(u=>{if(!t.has(u)){const c=n.concat([l]),d=jo(c,a);r.push({op:Mt.Remove,path:d,value:u}),i.unshift({op:Mt.Add,path:d,value:u})}l+=1}),l=0,t.forEach(u=>{if(!e.has(u)){const c=n.concat([l]),d=jo(c,a);r.push({op:Mt.Add,path:d,value:u}),i.unshift({op:Mt.Remove,path:d,value:u})}l+=1})}function cc(e,t,n,r){const{pathAsArray:i=!0}=e.options.enablePatches;switch(e.type){case 0:case 2:return E$(e,t,n,r,i);case 1:return T$(e,t,n,r,i);case 3:return w$(e,t,n,r,i)}}const Zd=(e,t,n=!1)=>{if(typeof e=="object"&&e!==null&&(!Yr(e,t)||n))throw new Error("Strict mode: Mutable data cannot be accessed directly, please use 'unsafe(callback)' wrap.")},h0={get size(){return sr(He(this)).size},has(e){return sr(He(this)).has(e)},set(e,t){const n=He(this),r=sr(n);return(!r.has(e)||!Xi(r.get(e),t))&&(xn(n),si(n),n.assignedMap.set(e,!0),n.copy.set(e,t),t_(n,e,t,cc)),this},delete(e){if(!this.has(e))return!1;const t=He(this);return xn(t),si(t),t.original.has(e)?t.assignedMap.set(e,!1):t.assignedMap.delete(e),t.copy.delete(e),!0},clear(){const e=He(this);if(this.size){xn(e),si(e),e.assignedMap=new Map;for(const[t]of e.original)e.assignedMap.set(t,!1);e.copy.clear()}},forEach(e,t){const n=He(this);sr(n).forEach((r,i)=>{e.call(t,this.get(i),i,this)})},get(e){var t,n;const r=He(this),i=sr(r).get(e),a=((n=(t=r.options).mark)===null||n===void 0?void 0:n.call(t,i,cr))===cr.mutable;if(r.options.strict&&Zd(i,r.options,a),a||r.finalized||!Yr(i,r.options)||i!==r.original.get(e))return i;const l=Jb.createDraft({original:i,parentDraft:r,key:e,finalities:r.finalities,options:r.options});return xn(r),r.copy.set(e,l),l},keys(){return sr(He(this)).keys()},values(){const e=this.keys();return{[zd]:()=>this.values(),next:()=>{const t=e.next();return t.done?t:{done:!1,value:this.get(t.value)}}}},entries(){const e=this.keys();return{[zd]:()=>this.entries(),next:()=>{const t=e.next();if(t.done)return t;const n=this.get(t.value);return{done:!1,value:[t.value,n]}}}},[zd](){return this.entries()}},x$=Reflect.ownKeys(h0),cA=(e,t,{isValuesIterator:n})=>()=>{var r,i;const a=t.next();if(a.done)return a;const l=a.value;let u=e.setMap.get(l);const c=He(u),d=((i=(r=e.options).mark)===null||i===void 0?void 0:i.call(r,u,cr))===cr.mutable;if(e.options.strict&&Zd(l,e.options,d),!d&&!c&&Yr(l,e.options)&&!e.finalized&&e.original.has(l)){const h=Jb.createDraft({original:l,parentDraft:e,key:l,finalities:e.finalities,options:e.options});e.setMap.set(l,h),u=h}else c&&(u=c.proxy);return{done:!1,value:n?u:[u,u]}},eh={get size(){return He(this).setMap.size},has(e){const t=He(this);if(t.setMap.has(e))return!0;xn(t);const n=He(e);return!!(n&&t.setMap.has(n.original))},add(e){const t=He(this);return this.has(e)||(xn(t),si(t),t.assignedMap.set(e,!0),t.setMap.set(e,e),t_(t,e,e,cc)),this},delete(e){if(!this.has(e))return!1;const t=He(this);xn(t),si(t);const n=He(e);return n&&t.setMap.has(n.original)?(t.assignedMap.set(n.original,!1),t.setMap.delete(n.original)):(!n&&t.setMap.has(e)?t.assignedMap.set(e,!1):t.assignedMap.delete(e),t.setMap.delete(e))},clear(){if(!this.size)return;const e=He(this);xn(e),si(e);for(const t of e.original)e.assignedMap.set(t,!1);e.setMap.clear()},values(){const e=He(this);xn(e);const t=e.setMap.keys();return{[Symbol.iterator]:()=>this.values(),next:cA(e,t,{isValuesIterator:!0})}},entries(){const e=He(this);xn(e);const t=e.setMap.keys();return{[Symbol.iterator]:()=>this.entries(),next:cA(e,t,{isValuesIterator:!1})}},keys(){return this.values()},[zd](){return this.values()},forEach(e,t){const n=this.values();let r=n.next();for(;!r.done;)e.call(t,r.value,r.value,this),r=n.next()}};Set.prototype.difference&&Object.assign(eh,{intersection(e){return Set.prototype.intersection.call(new Set(this.values()),e)},union(e){return Set.prototype.union.call(new Set(this.values()),e)},difference(e){return Set.prototype.difference.call(new Set(this.values()),e)},symmetricDifference(e){return Set.prototype.symmetricDifference.call(new Set(this.values()),e)},isSubsetOf(e){return Set.prototype.isSubsetOf.call(new Set(this.values()),e)},isSupersetOf(e){return Set.prototype.isSupersetOf.call(new Set(this.values()),e)},isDisjointFrom(e){return Set.prototype.isDisjointFrom.call(new Set(this.values()),e)}});const A$=Reflect.ownKeys(eh),sI={get(e,t,n){var r,i;const a=(r=e.copy)===null||r===void 0?void 0:r[t];if(a&&e.finalities.draftsCache.has(a))return a;if(t===rI)return e;let l;if(e.options.mark){const d=t==="size"&&(e.original instanceof Map||e.original instanceof Set)?Reflect.get(e.original,t):Reflect.get(e.original,t,n);if(l=e.options.mark(d,cr),l===cr.mutable)return e.options.strict&&Zd(d,e.options,!0),d}const u=sr(e);if(u instanceof Map&&x$.includes(t))return t==="size"?Object.getOwnPropertyDescriptor(h0,"size").get.call(e.proxy):h0[t].bind(e.proxy);if(u instanceof Set&&A$.includes(t))return t==="size"?Object.getOwnPropertyDescriptor(eh,"size").get.call(e.proxy):eh[t].bind(e.proxy);if(!Qu(u,t)){const d=lA(u,t);return d?"value"in d?d.value:(i=d.get)===null||i===void 0?void 0:i.call(e.proxy):void 0}const c=u[t];if(e.options.strict&&Zd(c,e.options),e.finalized||!Yr(c,e.options))return c;if(c===_y(e.original,t)){if(xn(e),e.copy[t]=n_({original:e.original[t],parentDraft:e,key:e.type===1?Number(t):t,finalities:e.finalities,options:e.options}),typeof l=="function"){const d=He(e.copy[t]);return xn(d),si(d),d.copy}return e.copy[t]}return Qa(c)&&e.finalities.draftsCache.add(c),c},set(e,t,n){var r;if(e.type===3||e.type===2)throw new Error("Map/Set draft does not support any property assignment.");let i;if(e.type===1&&t!=="length"&&!(Number.isInteger(i=Number(t))&&i>=0&&(t===0||i===0||String(i)===String(t))))throw new Error("Only supports setting array indices and the 'length' property.");const a=lA(sr(e),t);if(a?.set)return a.set.call(e.proxy,n),!0;const l=_y(sr(e),t),u=He(l);return u&&Xi(u.original,n)?(e.copy[t]=n,e.assignedMap=(r=e.assignedMap)!==null&&r!==void 0?r:new Map,e.assignedMap.set(t,!1),!0):(Xi(n,l)&&(n!==void 0||Qu(e.original,t))||(xn(e),si(e),Qu(e.original,t)&&Xi(n,e.original[t])?e.assignedMap.delete(t):e.assignedMap.set(t,!0),e.copy[t]=n,t_(e,t,n,cc)),!0)},has(e,t){return t in sr(e)},ownKeys(e){return Reflect.ownKeys(sr(e))},getOwnPropertyDescriptor(e,t){const n=sr(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},getPrototypeOf(e){return Reflect.getPrototypeOf(e.original)},setPrototypeOf(){throw new Error("Cannot call 'setPrototypeOf()' on drafts")},defineProperty(){throw new Error("Cannot call 'defineProperty()' on drafts")},deleteProperty(e,t){var n;return e.type===1?sI.set.call(this,e,t,void 0,e.proxy):(_y(e.original,t)!==void 0||t in e.original?(xn(e),si(e),e.assignedMap.set(t,!1)):(e.assignedMap=(n=e.assignedMap)!==null&&n!==void 0?n:new Map,e.assignedMap.delete(t)),e.copy&&delete e.copy[t],!0)}};function n_(e){const{original:t,parentDraft:n,key:r,finalities:i,options:a}=e,l=Qo(t),u={type:l,finalized:!1,parent:n,original:t,copy:null,proxy:null,finalities:i,options:a,setMap:l===3?new Map(t.entries()):void 0};(r||"key"in e)&&(u.key=r);const{proxy:c,revoke:d}=Proxy.revocable(l===1?Object.assign([],u):u,sI);if(i.revoke.push(d),u.proxy=c,n){const h=n;h.finalities.draft.push((m,y)=>{var _,T;const w=He(c);let E=h.type===3?h.setMap:h.copy;const C=ta(E,r),N=He(C);if(N){let P=N.original;N.operated&&(P=Zb(C)),f0(N),d0(N,cc,m,y),h.options.enableAutoFreeze&&(h.options.updatedValues=(_=h.options.updatedValues)!==null&&_!==void 0?_:new WeakMap,h.options.updatedValues.set(P,N.original)),Nc(E,r,P)}(T=w.callbacks)===null||T===void 0||T.forEach(P=>{P(m,y)})})}else{const h=He(c);h.finalities.draft.push((m,y)=>{f0(h),d0(h,cc,m,y)})}return c}Jb.createDraft=n_;function C$(e,t,n,r,i){var a;const l=He(e),u=(a=l?.original)!==null&&a!==void 0?a:e,c=!!t.length;if(l?.operated)for(;l.finalities.draft.length>0;)l.finalities.draft.pop()(n,r);const d=c?t[0]:l?l.operated?l.copy:l.original:e;return l&&c0(l),i&&Vs(d,d,l?.options.updatedValues),[d,n&&c?[{op:Mt.Replace,path:[],value:t[0]}]:n,r&&c?[{op:Mt.Replace,path:[],value:u}]:r]}function M$(e,t){var n;const r={draft:[],revoke:[],handledSet:new WeakSet,draftsCache:new WeakSet};let i,a;t.enablePatches&&(i=[],a=[]);const u=((n=t.mark)===null||n===void 0?void 0:n.call(t,e,cr))===cr.mutable||!Yr(e,t)?e:n_({original:e,parentDraft:null,finalities:r,options:t});return[u,(c=[])=>{const[d,h,m]=C$(u,c,i,a,t.enableAutoFreeze);return t.enablePatches?[d,h,m]:d}]}function p0(e){const{rootDraft:t,value:n,useRawReturn:r=!1,isRoot:i=!0}=e;e_(n,(a,l,u)=>{const c=He(l);if(c&&t&&c.finalities===t.finalities){e.isContainDraft=!0;const d=c.original;if(u instanceof Set){const h=Array.from(u);u.clear(),h.forEach(m=>u.add(a===m?d:m))}else Nc(u,a,d)}else typeof l=="object"&&l!==null&&(e.value=l,e.isRoot=!1,p0(e))}),i&&(e.isContainDraft||console.warn("The return value does not contain any draft, please use 'rawReturn()' to wrap the return value to improve performance."),r&&console.warn("The return value contains drafts, please don't use 'rawReturn()' to wrap the return value."))}function lI(e){var t;const n=He(e);if(!Yr(e,n?.options))return e;const r=Qo(e);if(n&&!n.operated)return n.original;let i;function a(){i=r===2?Qb(e)?new Map(e):new(Object.getPrototypeOf(e)).constructor(e):r===3?Array.from(n.setMap.values()):aI(e,n?.options)}if(n){n.finalized=!0;try{a()}finally{n.finalized=!1}}else i=e;if(e_(i,(l,u)=>{if(n&&Xi(ta(n.original,l),u))return;const c=lI(u);c!==u&&(i===e&&a(),Nc(i,l,c))}),r===3){const l=(t=n?.original)!==null&&t!==void 0?t:i;return Xb(l)?new Set(i):new(Object.getPrototypeOf(l)).constructor(i)}return i}function fA(e){if(!Qa(e))throw new Error(`current() is only used for Draft, parameter: ${e}`);return lI(e)}const P$=e=>function t(n,r,i){var a,l,u;if(typeof n=="function"&&typeof r!="function")return function(O,...R){return t(O,k=>n.call(this,k,...R),r)};const c=n,d=r;let h=i;if(typeof r!="function"&&(h=r),h!==void 0&&Object.prototype.toString.call(h)!=="[object Object]")throw new Error(`Invalid options: ${h}, 'options' should be an object.`);h=Object.assign(Object.assign({},e),h);const m=Qa(c)?fA(c):c,y=Array.isArray(h.mark)?((O,R)=>{for(const k of h.mark){if(typeof k!="function")throw new Error(`Invalid mark: ${k}, 'mark' should be a function.`);const q=k(O,R);if(q)return q}}):h.mark,_=(a=h.enablePatches)!==null&&a!==void 0?a:!1,T=(l=h.strict)!==null&&l!==void 0?l:!1,E={enableAutoFreeze:(u=h.enableAutoFreeze)!==null&&u!==void 0?u:!1,mark:y,strict:T,enablePatches:_};if(!Yr(m,E)&&typeof m=="object"&&m!==null)throw new Error("Invalid base state: create() only supports plain objects, arrays, Set, Map or using mark() to mark the state as immutable.");const[C,N]=M$(m,E);if(typeof r!="function"){if(!Yr(m,E))throw new Error("Invalid base state: create() only supports plain objects, arrays, Set, Map or using mark() to mark the state as immutable.");return[C,N]}let P;try{P=d(C)}catch(O){throw c0(He(C)),O}const D=O=>{const R=He(C);if(!Qa(O)){if(O!==void 0&&!Xi(O,C)&&R?.operated)throw new Error("Either the value is returned as a new non-draft value, or only the draft is modified without returning any value.");const q=O?.[y$];if(q){const G=q[0];return E.strict&&typeof O=="object"&&O!==null&&p0({rootDraft:R,value:O,useRawReturn:!0}),N([G])}if(O!==void 0)return typeof O=="object"&&O!==null&&p0({rootDraft:R,value:O}),N([O])}if(O===C||O===void 0)return N([]);const k=He(O);if(E===k.options){if(k.operated)throw new Error("Cannot return a modified child draft.");return N([fA(O)])}return N([O])};return P instanceof Promise?P.then(D,O=>{throw c0(He(C)),O}):D(P)},th=P$();Object.prototype.constructor.toString();function uI(e,t){const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&Object.keys(e).every(i=>t.hasOwnProperty(i))}function dA(e,t){return Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(n=>t.hasOwnProperty(n)&&e[n]===t[n])}function Bd(e,t){return typeof e!="object"||typeof t!="object"||e===null||t===null?e===t:uI(e,t)?Object.keys(e).every(n=>Bd(e[n],t[n])):!1}function r_(e){if(!Vu(e))return e;const t={};for(const[n,r]of Object.entries(e))r!==void 0&&(t[n]=r);return t}function cI(e,t){if(!Vu(e)||!Vu(t))return t;const n=Object.assign({},e);for(const r of Object.keys(t)){if(t[r]===void 0)continue;if(t[r]===null){delete n[r];continue}const i=Vu(e[r])&&Vu(t[r]);n[r]=i?cI(e[r],t[r]):t[r]}return n}function Vu(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function N$(e,t,n){if(!e||t.length===0)return;let r=e||{};for(let a=0;a<t.length-1;a++){const l=t[a];(!(l in r)||typeof r[l]!="object")&&(r[l]=typeof t[a+1]=="number"?[]:{}),r=r[l]}const i=t[t.length-1];Array.isArray(r)&&typeof i=="number"?r.splice(i,0,n):r[i]=n}function hA(e,t,n){if(!e||t.length===0)return;let r=e||{};for(let i=0;i<t.length-1;i++){const a=t[i];(!(a in r)||typeof r[a]!="object")&&(r[a]=typeof t[i+1]=="number"?[]:{}),r=r[a]}r[t[t.length-1]]=n}function fI(e,t){if(!e||t.length===0)return;const[n,...r]=t;if(n in e){if(r.length===0){Array.isArray(e)?e.splice(n,1):delete e[n];return}fI(e[n],r),O$(e[n])&&delete e[n]}}function O$(e){return e&&Object.keys(e).length===0}const pA=/ZULU|YEKT|YEKST|YAPT|YAKT|YAKST|XJT|WGT|WGST|WFT|WETDST|WET|WDT|WAT|WAST|WAKT|WADT|VUT|VOLT|VLAT|VLAST|VET|UZT|UZST|UYT|UYST|UTC|UT|ULAT|ULAST|UCT|TVT|TRUT|TOT|TMT|TKT|TJT|TFT|TAHT|SGT|SCT|SAST|SADT|RET|PYT|PYST|PWT|PST|PONT|PMST|PMDT|PKT|PKST|PHT|PGT|PETT|PETST|PET|PDT|OMST|OMSST|NZT|NZST|NZDT|NUT|NST|NPT|NOVT|NOVST|NFT|NDT|MYT|MVT|MUT|MUST|MST|MSK|MSD|MPT|MMT|MHT|MEZ|METDST|MET|MESZ|MEST|MDT|MAWT|MART|MAGT|MAGST|LKT|LINT|LIGT|LHST|LHDT|KST|KRAT|KRAST|KOST|KGT|KGST|KDT|JST|JAYT|IST|IRT|IRKT|IRKST|IOT|IDT|ICT|HST|HKT|GYT|GMT|GILT|GFT|GET|GEST|GAMT|GALT|FNT|FNST|FKT|FKST|FJT|FJST|FET|EST|EGT|EGST|EETDST|EET|EEST|EDT|EAT|EAST|EASST|DDUT|DAVT|CXT|CST|COT|CLT|CLST|CKT|CHUT|CHAST|CHADT|CETDST|CET|CEST|CDT|CCT|CAST|CADT|BTT|BST|BRT|BRST|BRA|BOT|BORT|BNT|BDT|BDST|AZT|AZST|AZOT|AZOST|AWST|AWSST|AST|ART|ARST|ANAT|ANAST|AMT|AMST|ALMT|ALMST|AKST|AKDT|AFT|AEST|AESST|AEDT|ADT|ACWST|ACT|ACST|ACSST|ACDT$/,I$={ZULU:0,YEKT:18e3,YEKST:21600,YAPT:36e3,YAKT:32400,YAKST:32400,XJT:21600,WGT:-10800,WGST:-7200,WFT:43200,WETDST:3600,WET:0,WDT:32400,WAT:3600,WAST:25200,WAKT:43200,WADT:28800,VUT:39600,VOLT:10800,VLAT:36e3,VLAST:36e3,VET:-14400,UZT:18e3,UZST:21600,UYT:-10800,UYST:-7200,UTC:0,UT:0,ULAT:28800,ULAST:32400,UCT:0,TVT:43200,TRUT:36e3,TOT:46800,TMT:18e3,TKT:46800,TJT:18e3,TFT:18e3,TAHT:-36e3,SGT:28800,SCT:14400,SAST:7200,SADT:37800,RET:14400,PYT:-14400,PYST:-10800,PWT:32400,PST:-28800,PONT:39600,PMST:-10800,PMDT:-7200,PKT:18e3,PKST:21600,PHT:28800,PGT:36e3,PETT:43200,PETST:43200,PET:-18e3,PDT:-25200,OMST:21600,OMSST:21600,NZT:43200,NZST:43200,NZDT:46800,NUT:-39600,NST:-12600,NPT:20700,NOVT:25200,NOVST:25200,NFT:-12600,NDT:-9e3,MYT:28800,MVT:18e3,MUT:14400,MUST:18e3,MST:-25200,MSK:10800,MSD:14400,MPT:36e3,MMT:23400,MHT:43200,MEZ:3600,METDST:7200,MET:3600,MESZ:7200,MEST:7200,MDT:-21600,MAWT:18e3,MART:-34200,MAGT:39600,MAGST:39600,LKT:19800,LINT:50400,LIGT:36e3,LHST:37800,LHDT:37800,KST:32400,KRAT:25200,KRAST:25200,KOST:39600,KGT:21600,KGST:21600,KDT:36e3,JST:32400,JAYT:32400,IST:7200,IRT:12600,IRKT:28800,IRKST:28800,IOT:21600,IDT:10800,ICT:25200,HST:-36e3,HKT:28800,GYT:-14400,GMT:0,GILT:43200,GFT:-10800,GET:14400,GEST:14400,GAMT:-32400,GALT:-21600,FNT:-7200,FNST:-3600,FKT:-10800,FKST:-10800,FJT:43200,FJST:46800,FET:10800,EST:-18e3,EGT:-3600,EGST:0,EETDST:10800,EET:7200,EEST:10800,EDT:-14400,EAT:10800,EAST:-21600,EASST:-21600,DDUT:36e3,DAVT:25200,CXT:25200,CST:-21600,COT:-18e3,CLT:-14400,CLST:-10800,CKT:-36e3,CHUT:36e3,CHAST:45900,CHADT:49500,CETDST:7200,CET:3600,CEST:7200,CDT:-18e3,CCT:28800,CAST:34200,CADT:37800,BTT:21600,BST:3600,BRT:-10800,BRST:-7200,BRA:-10800,BOT:-14400,BORT:28800,BNT:28800,BDT:21600,BDST:7200,AZT:14400,AZST:14400,AZOT:-3600,AZOST:0,AWST:28800,AWSST:32400,AST:-14400,ART:-10800,ARST:-10800,ANAT:43200,ANAST:43200,AMT:-14400,AMST:14400,ALMT:21600,ALMST:25200,AKST:-32400,AKDT:-28800,AFT:16200,AEST:36e3,AESST:39600,AEDT:39600,ADT:-10800,ACWST:31500,ACT:-18e3,ACST:34200,ACSST:37800,ACDT:37800};function D$(e){return new Date(e)}function R$(e){return new Date(e+"Z")}const k$=/^(\d+)[\./-](\d+)[\./-](\d+)$/;function L$(e){const t=e.match(k$);if(!t)return null;const[n,r,i,a]=t;return r<=0||i<=0||a<=0?null:r>999?new Date(Date.UTC(r,i-1,a,0,0,0,0)):new Date(Date.UTC(a,r-1,i,0,0,0,0))}function U$(e){const[t,n]=e.split(" ");return new Date(t+"T"+n+"Z")}function j$(e){const[t,n]=e.split(" ");return new Date(t+"T"+n+"Z")}function q$(e){return new Date(e)}function z$(e){const t=/^(\w{3}) (\w{3}) (\d{2}) (\d{4})$/;if(!e.match(t))throw new Error(`Unable to parse \`${e}\` as a date.`);const r=new Date(e+" UTC");return new Date(Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),0,0,0,0))}function $$(e){const t=/^(.+T.+)([+-])(\d{2})$/,n=e.match(t);if(n){const[,r,i,a]=n,l=`${r}${i}${a}:00`;return new Date(l)}return null}function B$(e){const[t,n]=e.split(", "),[r,i,a]=t.split("/").map(Number),l=n.match(/(\d{1,2}):(\d{2}):(\d{2}) (AM|PM)/);if(!l)throw new Error(`Unable to parse time from: ${e}`);let[,u,c,d,h]=l;return u=Number(u),c=Number(c),d=Number(d),h==="PM"&&u!==12?u+=12:h==="AM"&&u===12&&(u=0),new Date(Date.UTC(a,r-1,i,u,c,d))}function F$(e){switch(e){case"epoch":return new Date(0);case"infinity":case"-infinity":case"today":case"tomorrow":case"yesterday":return null}}function H$(e){const t=e.match(pA);if(!t)return null;const[n]=t,r=I$[n],i=new Date(e.replace(pA,"Z"));return new Date(i.getTime()-r*1e3)}const G$=[L$,j$,z$,B$,q$,R$,$$,U$,D$,F$,H$];function V$(e,t){try{const n=e(t);return n instanceof Date&&!isNaN(n.getTime())?n:null}catch{return null}}function m0(e){for(const t of G$){const n=V$(t,e);if(n)return n}return null}function K$(e){try{const t=JSON.parse(e);return typeof t=="string"?m0(t):null}catch{return null}}function lp(e){if(e!==void 0){if(e===null)return null;if(e instanceof Date)return e;if(typeof e=="string"){const t=m0(e)||K$(e)||m0(e.trim());if(!t)throw new Error(`Unable to parse \`${e}\` as a date.`);return t}else if(typeof e=="number")return new Date(e);throw new Error(`Invalid date value \`${e}\`. Expected a date, number, or string, got type ${typeof e}.`)}}function Y$(e){return e.cardinality==="one"}function i_(e){return e["value-type"]==="ref"}function a_(e){return e["value-type"]==="blob"}function Tl(e,t){return e[t]}function El(e,t){return t.reduce((n,r)=>n&&n.get(r),e)}function Fr(e,t){if(t.length===0)throw new Error("path must have at least one element");if(t.length===1){e.delete(t[0]);return}const[n,...r]=t;e.has(n)&&Fr(e.get(n),r)}function $n(e,t,n){if(t.length===0)throw new Error("path must have at least one element");if(t.length===1){e.set(t[0],n);return}const[r,...i]=t;let a=e.get(r);a||(a=new Map,e.set(r,a)),$n(a,i,n)}function dI(e,t,n){const r=new Map,i=new Map,a=new Map;for(const l of t){let[u,c,d,h]=l;const m=Tl(e,c);if(!m){console.warn("no such attr",u,e);continue}m["checked-data-type"]==="date"&&n&&(d=lp(d),l[2]=d),i_(m)&&$n(a,[d,c,u],l),$n(r,[u,c,d],l),$n(i,[c,u,d],l)}return{eav:r,aev:i,vae:a}}function hI(e){const t=new Map,n=new Map,r=new Map,i=new Map;for(const a of Object.values(e)){const l=a["forward-identity"],[u,c,d]=l,h=a["reverse-identity"];if($n(r,[c,d],a),a_(a)&&$n(t,[c,d],a),a["primary?"]&&$n(n,[c],a),h){const[m,y,_]=h;$n(i,[y,_],a)}}return{blobAttrs:t,primaryKeys:n,forwardIdents:r,revIdents:i}}function pI(e){return{__type:e.__type,attrs:e.attrs,triples:Fn(e.eav,3),cardinalityInference:e.cardinalityInference,linkIndex:e.linkIndex,useDateObjects:e.useDateObjects}}function mI(e){return Fd(e.attrs,e.triples,e.cardinalityInference,e.linkIndex,e.useDateObjects)}function W$(e,t){return El(e.eav,[t])!==void 0}function o_(e){e.attrIndexes=hI(e.attrs)}function Fd(e,t,n,r,i){const a=dI(e,t,i);return a.useDateObjects=i,a.attrs=e,a.attrIndexes=hI(e),a.cardinalityInference=n,a.linkIndex=r,a.__type="store",a}function Oc(e,t){var n,r;let i;if(Array.isArray(t[0])){const[l,u]=t[0],c=e.aev.get(l);if(!c)return null;i=(n=Fn(c,2).find(h=>h[2]===u))===null||n===void 0?void 0:n[0]}else i=t[0];if(!i)return null;const a=t[2];if(Array.isArray(a)&&a.length===2&&e.aev.get(a[0])){const[l,u]=a,c=e.aev.get(l);if(!c)return null;const h=(r=Fn(c,2).find(w=>w[2]===u))===null||r===void 0?void 0:r[0];if(!h)return null;const[m,y,_,...T]=t;return[i,y,h,...T]}else{const[l,...u]=t;return[i,...u]}}function gI(e,t){const n=Oc(e,t);if(!n)return;const[r,i,a]=n,l=Tl(e.attrs,i);l&&(Fr(e.eav,[r,i,a]),Fr(e.aev,[i,r,a]),i_(l)&&Fr(e.vae,[a,i,r]))}let J$=0;function yI(e,t,n){const[r,i,a]=n;let l;const u=El(e.ea,[r,i,a]);return u&&(l=u[3]),l||Date.now()*10+J$++}function vI(e,t){var n;const r=Oc(e,t);if(!r)return;let[i,a,l]=r;const u=Tl(e.attrs,a);if(!u)return;u["checked-data-type"]==="date"&&e.useDateObjects&&(l=lp(l));const c=El(e.eav,[i,a,l]),d=(n=c?.[3])!==null&&n!==void 0?n:yI(e,u,r),h=[i,a,l,d];Y$(u)?($n(e.eav,[i,a],new Map([[l,h]])),$n(e.aev,[a,i],new Map([[l,h]]))):($n(e.eav,[i,a,l],h),$n(e.aev,[a,i,l],h)),i_(u)&&$n(e.vae,[l,a,i],h)}function X$(e,t){var n;const r=Oc(e,t);if(!r)return;const[i,a,l]=r,u=Tl(e.attrs,a);if(!u)return;if(!a_(u))throw new Error("merge operation is not supported for links");const c=El(e.eav,[i,a]);if(!c)return;const d=(n=c.values().next())===null||n===void 0?void 0:n.value;if(!d)return;const h=d[2],m=cI(h,l),y=[i,a,m,yI(e,u,d)];$n(e.eav,[i,a],new Map([[m,y]]))}function g0(e,t){var n,r;const[i,a]=t,l=Oc(e,[i]);if(!l)return;const[u]=l,c=e.eav.get(u);if(c){for(const h of c.keys()){const m=e.attrs[h];m&&m["on-delete-reverse"]==="cascade"&&Fn(c.get(h),1).forEach(([y,_,T])=>{var w;return g0(e,[T,(w=m["reverse-identity"])===null||w===void 0?void 0:w[1]])}),(!a||!m||((n=m["forward-identity"])===null||n===void 0?void 0:n[1])===a)&&(Fr(e.aev,[h,u]),Fr(e.eav,[u,h]))}c.size===0&&Fr(e.eav,[u])}const d=e.vae.get(u)&&Fn(e.vae.get(u),2);d&&d.forEach(h=>{var m,y,_;const[T,w,E]=h,C=e.attrs[w];(!a||!C||((m=C["reverse-identity"])===null||m===void 0?void 0:m[1])===a)&&(Fr(e.eav,[T,w,E]),Fr(e.aev,[w,T,E]),Fr(e.vae,[E,w,T])),C&&C["on-delete"]==="cascade"&&((y=C["reverse-identity"])===null||y===void 0?void 0:y[1])===a&&g0(e,[T,(_=C["forward-identity"])===null||_===void 0?void 0:_[1]])}),((r=e.vae.get(u))===null||r===void 0?void 0:r.size)===0&&Fr(e.vae,[u])}function bI(e,t){const n=dI(e.attrs,t,e.useDateObjects);Object.keys(n).forEach(r=>{e[r]=n[r]})}function Q$(e,[t]){e.attrs[t.id]=t,o_(e)}function _I(e){return Fn(e.eav,3)}function Z$(e,[t]){if(!e.attrs[t])return;const n=_I(e).filter(([r,i])=>i!==t);delete e.attrs[t],o_(e),bI(e,n)}function eB(e,[t]){const n=e.attrs[t.id];n&&(e.attrs[t.id]=Object.assign(Object.assign({},n),t),o_(e),bI(e,_I(e)))}function tB(e,t){const[n,...r]=t;switch(n){case"add-triple":vI(e,r);break;case"deep-merge-triple":X$(e,r);break;case"retract-triple":gI(e,r);break;case"delete-entity":g0(e,r);break;case"add-attr":Q$(e,r);break;case"delete-attr":Z$(e,r);break;case"update-attr":eB(e,r);break;case"restore-attr":break;case"rule-params":break;default:throw new Error(`unhandled transaction action: ${n}`)}}function Fn(e,t,n=[]){if(!e||t===0)return n;if(t===1){for(const r of e.values())n.push(r);return n}for(const r of e.values())Fn(r,t-1,n);return n}function yd(e,t,n){var r,i;const a=[];if(n?.hasOwnProperty("$not")){for(const u of t.keys())n.$not!==u&&a.push(t.get(u));return a}if(n?.hasOwnProperty("$isNull")){const{attrId:u,isNull:c,reverse:d}=n.$isNull;if(d)for(const h of t.keys()){const m=e.vae.get(h),y=!m||((r=m.get(u))===null||r===void 0?void 0:r.get(null))||!m.get(u);(c?y:!y)&&a.push(t.get(h))}else{const h=e.aev.get(u);for(const m of t.keys()){const y=!h||((i=h.get(m))===null||i===void 0?void 0:i.get(null))||!h.get(m);(c?y:!y)&&a.push(t.get(m))}}return a}if(n?.$comparator)return Fn(t,1).filter(n.$op);const l=n.in||n.$in||[n];for(const u of l){const c=t.get(u);c&&a.push(c)}return a}function nB(e,t,n){let r="";return e!==void 0&&(r+="e"),t!==void 0&&(r+="a"),n!==void 0&&(r+="v"),r}function rB(e,[t,n,r]){var i,a;switch(nB(t,n,r)){case"e":{const u=e.eav.get(t);return Fn(u,2)}case"ea":{const u=(i=e.eav.get(t))===null||i===void 0?void 0:i.get(n);return Fn(u,1)}case"eav":{const u=(a=e.eav.get(t))===null||a===void 0?void 0:a.get(n);return u?yd(e,u,r):[]}case"ev":{const u=e.eav.get(t);if(!u)return[];const c=[];for(const d of u.values())c.push(...yd(e,d,r));return c}case"a":{const u=e.aev.get(n);return Fn(u,2)}case"av":{const u=e.aev.get(n);if(!u)return[];const c=[];for(const d of u.values())c.push(...yd(e,d,r));return c}case"v":{const u=[];for(const c of e.eav.values())for(const d of c.values())u.push(...yd(e,d,r));return u}default:return Fn(e.eav,3)}}function iB(e,t,n){var r;const i={};for(const[a,l]of t.entries()){const u=(r=e.eav.get(n))===null||r===void 0?void 0:r.get(l.id),c=Fn(u,1);for(const d of c)i[a]=d[2]}return i}function Za(e,t,n){var r;return(r=e.attrIndexes.forwardIdents.get(t))===null||r===void 0?void 0:r.get(n)}function SI(e,t,n){var r;return(r=e.attrIndexes.revIdents.get(t))===null||r===void 0?void 0:r.get(n)}function aB(e,t){return e.attrIndexes.blobAttrs.get(t)}function TI(e,t){var n;const r=e.attrIndexes.primaryKeys.get(t);return r||((n=e.attrIndexes.forwardIdents.get(t))===null||n===void 0?void 0:n.get("id"))}function oB(e,t){const n=Oc(e,t);if(!n)return;const[r,i,a]=n;if(Tl(e.attrs,i))return El(e.eav,[r,i])}function sB(e,t){const n=t.filter(([r,i,a,l,u])=>{if(r!=="add-triple"&&r!=="deep-merge-triple")return!0;const c=u?.mode;if(c!=="create"&&c!=="update")return!0;let d=!1;const h=Tl(e.attrs,a);if(h){const m=TI(e,h["forward-identity"][1]);d=!!oB(e,[i,m.id,i])}return!(c==="create"&&d||c==="update"&&!d)});return th(e,r=>{n.forEach(i=>{tB(r,i)})})}function lB(e){return typeof e=="string"&&e.startsWith("?")}function uB(e,t,n){if(n.hasOwnProperty(e)){const r=n[e];return EI(r,t,n)}return Object.assign(Object.assign({},n),{[e]:t})}function mA(e,t,n){return e===t?n:null}function cB(e){switch(typeof e){case"string":return e.startsWith("?")?uB:mA;default:return mA}}const fB=["in","$in","$not","$isNull","$comparator"];function dB(e){for(const t of fB)if(e.hasOwnProperty(t))return!0;return!1}function EI(e,t,n){return n?typeof e=="object"?dB(e)?n:null:cB(e)(e,t,n):null}function hB(e,t,n){return e.reduce((r,i,a)=>{const l=t[a];return EI(i,l,r)},n)}function pB(e,t,n){return yB(e,t,n).map(r=>hB(t,r,n)).filter(r=>r)}function mB(e,t,n){return t.or?t.or.patterns.flatMap(r=>y0(e,r,n)):t.and?t.and.patterns.reduce((r,i)=>y0(e,i,r),n):n.flatMap(r=>pB(e,t,r))}function y0(e,t,n=[{}]){return t.reduce((r,i)=>mB(e,i,r),n)}function s_(e,t){return Array.isArray(t)?t.map(n=>s_(e,n)):lB(t)?e[t]:t}function gB(e,{find:t,where:n}){return y0(e,n).map(i=>s_(i,t))}function yB(e,t,n){return rB(e,s_(n,t))}const vB=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function ll(e){return typeof e=="string"&&vB.test(e)}const sn=[];for(let e=0;e<256;++e)sn.push((e+256).toString(16).slice(1));function bB(e,t=0){return(sn[e[t+0]]+sn[e[t+1]]+sn[e[t+2]]+sn[e[t+3]]+"-"+sn[e[t+4]]+sn[e[t+5]]+"-"+sn[e[t+6]]+sn[e[t+7]]+"-"+sn[e[t+8]]+sn[e[t+9]]+"-"+sn[e[t+10]]+sn[e[t+11]]+sn[e[t+12]]+sn[e[t+13]]+sn[e[t+14]]+sn[e[t+15]]).toLowerCase()}let Sy;const _B=new Uint8Array(16);function SB(){if(!Sy){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Sy=crypto.getRandomValues.bind(crypto)}return Sy(_B)}const TB=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),gA={randomUUID:TB};function EB(e,t,n){if(gA.randomUUID&&!e)return gA.randomUUID();e=e||{};const r=e.random??e.rng?.()??SB();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,bB(r)}function yA(e){const t=e.replace(/-/g,""),n=[];for(let r=0;r<t.length;r+=2)n.push(parseInt(t.substring(r,r+2),16));return n}function wB(e,t){for(let n=0;n<e.length;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0}function xB(e,t){return wB(yA(e),yA(t))}function Qt(){return EB()}function AB(e,t){return e.localeCompare(t)}function CB(){let e=AB;if(typeof Intl=="object"&&Intl.hasOwnProperty("Collator"))try{e=Intl.Collator("en-US").compare}catch{}return e}const MB=CB();let PB=0;function Zu(e){return up(`_${e}`,PB++)}function up(e,t){return`?${e}-${t}`}class ul extends Error{constructor(t){super(t),this.name="AttrNotFoundError"}}function NB(e,t){const n=TI(e,t);if(!n)throw new ul(`Could not find id attr for ${t}`);return n}function vA(e,t,n,r){return[OB(e,t,n,r)]}function OB(e,t,n,r){return[e(n,r),NB(t,n).id,e(n,r),e("time",r)]}function IB(e,t,n){return e.map(r=>r===t?n:r)}function wI(e,t,n,r,i){const a=Za(t,n,i),l=SI(t,n,i),u=a||l;if(!u)throw new ul(`Could not find attr for ${[n,i]}`);if(u["value-type"]!=="ref")throw new Error(`Attr ${u.id} is not a ref`);const[c,d]=u["forward-identity"],[h,m]=u["reverse-identity"],y=r+1,_=a?[e(d,r),u.id,e(m,y),Zu("time")]:[e(d,y),u.id,e(m,r),Zu("time")];return[a?m:d,y,_,u,!!a]}function bA(e,t){if(typeof t!="string")return function(l){return!1};const r=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/%/g,".*").replace(/_/g,"."),i=new RegExp(`^${r}$`,e?void 0:"i");return function(l){return typeof l!="string"?!1:i.test(l)}}function DB(e,t){if(typeof t!="object"||t.hasOwnProperty("$in")||t.hasOwnProperty("in"))return t;const n=e["checked-data-type"]==="date";if(t.hasOwnProperty("$gt"))return{$comparator:!0,$op:n?function(i){return new Date(i[2])>new Date(t.$gt)}:function(i){return i[2]>t.$gt}};if(t.hasOwnProperty("$gte"))return{$comparator:!0,$op:n?function(i){return new Date(i[2])>=new Date(t.$gte)}:function(i){return i[2]>=t.$gte}};if(t.hasOwnProperty("$lt"))return{$comparator:!0,$op:n?function(i){return new Date(i[2])<new Date(t.$lt)}:function(i){return i[2]<t.$lt}};if(t.hasOwnProperty("$lte"))return{$comparator:!0,$op:n?function(i){return new Date(i[2])<=new Date(t.$lte)}:function(i){return i[2]<=t.$lte}};if(t.hasOwnProperty("$like")){const r=bA(!0,t.$like);return{$comparator:!0,$op:function(a){return r(a[2])}}}if(t.hasOwnProperty("$ilike")){const r=bA(!1,t.$ilike);return{$comparator:!0,$op:function(a){return r(a[2])}}}return t}function RB(e,t,n,r,i,a){const l=Za(t,n,i),u=SI(t,n,i),c=l||u;if(!c)throw new ul(`No attr for etype = ${n} label = ${i}`);if(a?.hasOwnProperty("$isNull")){const d=Za(t,n,"id");if(!d)throw new ul(`No attr for etype = ${n} label = id`);return[e(n,r),d.id,{$isNull:{attrId:c.id,isNull:a.$isNull,reverse:!l}},Zu("time")]}return l?[e(n,r),c.id,DB(c,a),Zu("time")]:[a,c.id,e(n,r),Zu("time")]}function kB(e,t,n,r,i){const[a,l,u]=i.reduce((c,d)=>{const[h,m,y]=c,[_,T,w]=wI(e,t,h,m,d);return[_,T,[...y,w]]},[n,r,[]]);return[a,l,u]}function v0(e,t,n,r,i,a){const l=i.slice(0,i.length-1),u=i[i.length-1],[c,d,h]=kB(e,t,n,r,l),m=RB(e,t,c,d,u,a);return h.concat([m])}function LB(e,t){return t?[t].concat(e):e}function UB([e,t]){return e==="or"&&Array.isArray(t)}function jB([e,t]){return e==="and"&&Array.isArray(t)}function qB(e,t,n){return(r,i)=>{const a=e(r,i);return t==a?a:`${a}-${n}`}}function _A(e,t,n,r,i,a){const l=e(r,i),u=a.map((c,d)=>{const h=qB(e,l,d);return xI(h,n,r,i,c)});return{[t]:{patterns:u,joinSym:l}}}function zB(e){const t=[];for(let n=1;n<=e.length;n++)t.push(e.slice(0,n));return t}function SA(e,t,n,r,i){return zB(i).map(a=>v0(e,t,n,r,a,{$isNull:!0}))}function xI(e,t,n,r,i){return Object.entries(i).flatMap(([a,l])=>{if(UB([a,l]))return _A(e,"or",t,n,r,l);if(jB([a,l]))return _A(e,"and",t,n,r,l);if(a==="$entityIdStartsWith")return[];const u=a.split(".");if(l?.hasOwnProperty("$ne")&&(l=Object.assign(Object.assign({},l),{$not:l.$ne}),delete l.$ne),l?.hasOwnProperty("$not")){const c=v0(e,t,n,r,u,l),d=SA(e,t,n,r,u);return[{or:{patterns:[c,...d],joinSym:e(n,r)}}]}return l?.hasOwnProperty("$isNull")&&l.$isNull===!0&&u.length>1?[{or:{patterns:SA(e,t,n,r,u),joinSym:e(n,r)}}]:v0(e,t,n,r,u,l)})}function $B(e,t,n,r){const i=up;return r?xI(i,e,t,n,r).concat(vA(i,e,t,n)):vA(i,e,t,n)}function BB(e,t,n){return[e(t,n),e("time",n)]}function FB(e,t,n,r,i,a){const[l,u,c,d,h]=wI(e,t,n,r,i),m=IB(c,e(n,r),a);return[l,u,m,d,h]}function HB(e,t,{etype:n,level:r,form:i},a){const l=Object.keys(i).filter(u=>u!=="$");return l.length?Object.entries(a).map(function([c,d]){return l.map(function(y){var _,T,w;const E=!!(t.cardinalityInference&&(!((w=(T=(_=t.linkIndex)===null||_===void 0?void 0:_[n])===null||T===void 0?void 0:T[y])===null||w===void 0)&&w.isSingular));try{const[C,N,P]=FB(e,t,n,r,y,c),D=CI(t,{etype:C,level:N,form:i[y],join:P}),O=E?D[0]:D;return{[y]:O}}catch(C){if(C instanceof ul)return{[y]:E?void 0:[]};throw C}}).reduce(function(y,_){return Object.assign(Object.assign({},y),_)},d)}):Object.values(a)}function GB(e,t,n){return n==="string"?MB(e,t):e>t?1:-1}function Ku(e,t,n,r,i){return t===r||t==null&&r==null?xB(e,n):r==null?1:t==null?-1:GB(t,r,i)}function nh([e,t],[n,r],i){return Ku(e,t,n,r,i)}function b0(e){return e==null?e:new Date(e).getTime()}function VB(e,t,n,r){var i;const[a,l,u,c]=e,d=n==="desc"?1:-1;if(((i=t["forward-identity"])===null||i===void 0?void 0:i[2])==="id")return nh(r,[a,c],null)===d;const[h,m]=r,y=t["checked-data-type"],_=y==="date"?b0(m):m,T=y==="date"?b0(u):u;return nh([h,_],[a,T],y)===d}function KB(e,t){const n=t[1];return e.attrs[n]}function YB(e,t,n){const r=Object.keys(n)[0];return Za(e,t,r)}function WB(e,t,n,r){if(n)return KB(e,n);if(r)return YB(e,t,r)}function JB(e,t,n){var r,i;if(!Array.isArray(n.fields))return aB(e,t);const a=new Map;for(const l of n.fields){const u=Za(e,t,l),c=(r=u?.["forward-identity"])===null||r===void 0?void 0:r[2];c&&a_(u)&&a.set(c,u)}if(!a.has("id")){const l=Za(e,t,"id"),u=(i=l?.["forward-identity"])===null||i===void 0?void 0:i[2];u&&a.set(u,l)}return a}function XB(e,{etype:t,pageInfo:n,dq:r,form:i}){var a,l;const u=(a=i?.$)===null||a===void 0?void 0:a.order,c=AI(i),d=QB(i);let h=gB(e,r);const m=n?.["start-cursor"],y=WB(e,t,m,u);if(y&&((l=y?.["forward-identity"])===null||l===void 0?void 0:l[2])!=="id"){const w=y["checked-data-type"]==="date",E=y.id;h=h.map(([C])=>{var N,P,D,O,R;let k=(R=(O=(D=(P=(N=e.eav.get(C))===null||N===void 0?void 0:N.get(E))===null||P===void 0?void 0:P.values())===null||D===void 0?void 0:D.next())===null||O===void 0?void 0:O.value)===null||R===void 0?void 0:R[2];return w&&(k=b0(k)),[C,k]})}h.sort(d==="asc"?function(E,C){return nh(E,C,y?.["checked-data-type"])}:function(E,C){return nh(C,E,y?.["checked-data-type"])});let _={};const T=JB(e,t,r);for(const w of h){const[E]=w;if(_[E]||!c&&m&&y&&VB(m,y,d,w))continue;const C=iB(e,T,E);C&&(_[E]=C)}return _}function QB(e){var t;const n=(t=e.$)===null||t===void 0?void 0:t.order;return n&&n[Object.keys(n)[0]]||"asc"}function AI(e){var t,n,r;const i=(t=e.$)===null||t===void 0?void 0:t.offset,a=(n=e.$)===null||n===void 0?void 0:n.before,l=(r=e.$)===null||r===void 0?void 0:r.after;return!i&&!a&&!l}function ZB(e,{etype:t,level:n,form:r,join:i,pageInfo:a}){var l,u,c,d,h;if(!AI(r)&&(!a||!a["start-cursor"]))return[];const m=LB($B(e,t,n,(l=r.$)===null||l===void 0?void 0:l.where),i),y=BB(up,t,n),_=(u=r.$)===null||u===void 0?void 0:u.fields,T=XB(e,{etype:t,pageInfo:a,form:r,dq:{where:m,find:y,fields:_}}),w=((c=r.$)===null||c===void 0?void 0:c.limit)||((d=r.$)===null||d===void 0?void 0:d.first)||((h=r.$)===null||h===void 0?void 0:h.last);if(w!=null){n>0&&console.warn("WARNING: Limits in child queries are only run client-side. Data returned from the server will not have a limit.");const E=Object.entries(T);return E.length<=w?T:Object.fromEntries(E.slice(0,w))}return T}function e3(e,t){try{return ZB(e,t)}catch(n){if(n instanceof ul)return{};throw n}}function CI(e,t){const n=e3(e,t);return HB(up,e,t,n)}function t3(e){const t={};for(const[n,r]of Object.entries(e))t[n]={startCursor:r["start-cursor"],endCursor:r["end-cursor"],hasNextPage:r["has-next-page?"],hasPreviousPage:r["has-previous-page?"]};return t}function MI({store:e,pageInfo:t,aggregate:n},r){const a={data:Object.keys(r).reduce(function(u,c){return n?.[c]||c==="$$ruleParams"||(u[c]=CI(e,{etype:c,form:r[c],level:0,pageInfo:t?.[c]})),u},{})};return t&&(a.pageInfo=t3(t)),n&&(a.aggregate=n),a}function n3(){const t={__etype:1,__ops:1,create:1,update:1,link:1,unlink:1,delete:1,merge:1,ruleParams:1};return new Set(Object.keys(t))}const r3=n3();function _0(e,t,n){const r={__etype:e,__ops:n};return new Proxy(r,{get:(i,a)=>{if(a==="__ops")return n;if(a==="__etype")return e;if(r3.has(a))return(l,u)=>_0(e,t,[...n,u?[a,e,t,l,u]:[a,e,t,l]])}})}function rh(e){return e.startsWith("lookup__")}function PI(e){const[t,n,...r]=e.split("__");return[n,JSON.parse(r.join("__"))]}function i3(e){return new Proxy({__etype:e},{get(t,n){if(n==="__etype")return e;const r=n;return rh(r)?_0(e,PI(r),[]):_0(e,r,[])}})}function l_(){return new Proxy({},{get(e,t){return i3(t)}})}l_();function a3(e){return e.__ops}function o3(e,t){const{attrIdMap:n,refSwapAttrIds:r}=e,i=[];for(const l of t){const u=n[l];if(u)i.push(u);else if(Array.isArray(l)&&l.length==2&&n[l[0]]){const[c,d]=l;i.push([n[c],d])}else i.push(l)}const[a]=t;if((a==="add-triple"||a==="retract-triple")&&r.has(t[2])){const l=i[1];i[1]=i[3],i[3]=l}return i}function cn(e,t,n){return Object.values(e).find(r=>{const[i,a,l]=r["forward-identity"];return a===t&&l===n})}function Bo(e,t,n){return Object.values(e).find(r=>{const i=r["reverse-identity"];if(!i)return!1;const[a,l,u]=i;return l===t&&u===n})}function s3(e){if(Array.isArray(e))return e;const t=Object.entries(e);if(t.length!==1)throw new Error("lookup must be an object with a single unique attr and value.");return t[0]}function S0(e,t,n){return n.indexOf(".")!==-1&&!cn(e,t,n)}function T0(e){const[t,n,...r]=e.split(".");if(r.length>0||n!=="id")throw new Error(`${e} is not a valid lookup attribute.`);return t}function l3(e,t,n){if(!S0(e,t,n))return cn(e,t,n);const r=T0(n),i=cn(e,t,r)||Bo(e,t,r);if(i&&i["value-type"]!=="ref")throw new Error(`${n} does not reference a valid link attribute.`);return i}function E0(e){return typeof e=="string"&&!rh(e)?null:typeof e=="string"&&rh(e)?PI(e):s3(e)}function Hn(e,t,n){const r=E0(n);if(r===null)return n;const[i,a]=r,l=l3(e,t,i);if(!l||!l["unique?"])throw new Error(`${i} is not a unique attribute.`);return[l.id,a]}function NI(e,t,n,r){const i=Hn(e,t,n);return Array.isArray(i)?[["add-triple",i,cn(e,t,"id").id,i]].concat(r):r}function u3({attrs:e},[t,n,r]){const i=Object.entries(r).flatMap(([a,l])=>{const u=Array.isArray(l)?l:[l],c=cn(e,t,a),d=Bo(e,t,a);return u.map(h=>c?["add-triple",Hn(e,t,n),c.id,Hn(e,c["reverse-identity"][1],h)]:["add-triple",Hn(e,d["forward-identity"][1],h),d.id,Hn(e,t,n)])});return NI(e,t,n,i)}function c3({attrs:e},[t,n,r]){const i=Object.entries(r).flatMap(([a,l])=>{const u=Array.isArray(l)?l:[l],c=cn(e,t,a),d=Bo(e,t,a);return u.map(h=>c?["retract-triple",Hn(e,t,n),c.id,Hn(e,c["reverse-identity"][1],h)]:["retract-triple",Hn(e,d["forward-identity"][1],h),d.id,Hn(e,t,n)])});return NI(e,t,n,i)}function f3(e,t,n){if(Array.isArray(n)){const[r,i]=n;for(const a of e||[]){const l=a?.aev.get(r);if(l){for(const[u,c,d]of Fn(l,2))if(d===i)return!0}}}else for(const r of e||[]){const i=r?.eav.get(n);if(i){for(const a of i.keys())if(r.attrs[a]["forward-identity"][1]==t)return!0}}return!1}function OI({stores:e,attrs:t},[n,r,i,a]){return a?.upsert===!1?{mode:"update"}:a?.upsert===!0?null:f3(e,n,r)?{mode:"update"}:null}function d3(e,t){const{stores:n,attrs:r}=e,[i,a,l,u]=t,c=r_(l),d=Hn(r,i,a);return[["id",d]].concat(Object.entries(c)).map(([m,y])=>{const _=cn(r,i,m);return _["checked-data-type"]==="date"&&e.useDateObjects&&(y=lp(y)),["add-triple",d,_.id,y,{mode:"create"}]})}function h3(e,t){const{stores:n,attrs:r}=e,[i,a,l,u]=t,c=r_(l),d=Hn(r,i,a),h=OI(e,[i,d,l,u]);return[["id",d]].concat(Object.entries(c)).map(([y,_])=>{const T=cn(r,i,y);return T["checked-data-type"]==="date"&&e.useDateObjects&&(_=lp(_)),["add-triple",d,T.id,_,...h?[h]:[]]})}function p3({attrs:e},[t,n]){return[["delete-entity",Hn(e,t,n),t]]}function m3(e,t){const{stores:n,attrs:r}=e,[i,a,l,u]=t,c=r_(l),d=Hn(r,i,a),h=OI(e,[i,d,l,u]),m=Object.entries(c).map(([_,T])=>{const w=cn(r,i,_);return["deep-merge-triple",d,w.id,T,...h?[h]:[]]});return[["add-triple",d,cn(r,i,"id").id,d,...h?[h]:[]]].concat(m)}function g3({attrs:e},[t,n,r]){return[["rule-params",Hn(e,t,n),t,r]]}function y3(e){const[t,n,r,i,a]=e;if(!i)return e;const l=Object.assign({},i);return delete l.id,[t,n,r,l,...a?[a]:[]]}function v3(e,t){const[n,...r]=y3(t);switch(n){case"merge":return m3(e,r);case"create":return d3(e,r);case"update":return h3(e,r);case"link":return u3(e,r);case"unlink":return c3(e,r);case"delete":return p3(e,r);case"ruleParams":return g3(e,r);default:throw new Error(`unsupported action ${n}`)}}function b3(e){switch(e){case"string":case"date":case"boolean":case"number":return e;default:return}}function _3(e,t,n){var r,i;const a=(i=(r=e.entities[t])===null||r===void 0?void 0:r.attrs)===null||i===void 0?void 0:i[n];if(n==="id")return null;if(!a)throw new Error(`${t}.${n} does not exist in your schema`);const{unique:l,indexed:u}=a?.config,c=b3(a?.valueType);return{"index?":u,"unique?":l,"checked-data-type":c}}function vd(e,t,n,r){const i=e?_3(e,t,n):null,a=Qt(),u=[Qt(),t,n];return Object.assign(Object.assign({id:a,"forward-identity":u,"value-type":"blob",cardinality:"one","unique?":!1,"index?":!1,isUnsynced:!0},i||{}),r||{})}function S3(e,t,n){return Object.values(e.links).find(i=>i.forward.on===t&&i.forward.label===n||i.reverse.on===t&&i.reverse.label===n)}function T3(e,t,n){const r=S3(e,t,n);if(!r)throw new Error(`Couldn't find the link ${t}.${n} in your schema`);const{forward:i,reverse:a}=r;return{"forward-identity":[Qt(),i.on,i.label],"reverse-identity":[Qt(),a.on,a.label],cardinality:i.has==="one"?"one":"many","unique?":a.has==="one","on-delete":i.onDelete,"on-delete-reverse":a.onDelete}}function TA(e,t,n,r){const i=e?T3(e,t,n):null,a=Qt(),l=[Qt(),t,n],u=[Qt(),n,t];return Object.assign(Object.assign({id:a,"forward-identity":l,"reverse-identity":u,"value-type":"ref",cardinality:"many","unique?":!1,"index?":!1,isUnsynced:!0},i||{}),r||{})}const E3=new Set(["create","update","merge","link","unlink"]),w3=new Set(["link","unlink"]),x3=new Set(["create","update","merge"]),A3=new Set(["link","unlink","create","update","merge","delete","ruleParams"]),w0={"unique?":!0,"index?":!0},C3=Object.assign(Object.assign({},w0),{cardinality:"one"});function M3(e){const t=[],[n,r,i,a]=e;if(!A3.has(n))return t;const l=E0(i);if(l&&t.push({etype:r,lookupPair:l}),n==="link")for(const[u,c]of Object.entries(a)){const d=Array.isArray(c)?c:[c];for(const h of d){const m=E0(h);m&&t.push({etype:r,lookupPair:m,linkLabel:u})}}return t}function P3({attrs:e,schema:t},n){var r,i;const[a,l,u]=[new Set,Object.assign({},e),[]];function c(m){l[m.id]=m,u.push(["add-attr",m]),a.add(m.id)}function d(m){m?.isUnsynced&&!a.has(m.id)&&(u.push(["add-attr",m]),a.add(m.id))}function h(m,y){const _=cn(l,m,y),T=Bo(l,m,y);d(_),d(T),!_&&!T&&c(TA(t,m,y,C3))}for(const m of n)for(const{etype:y,lookupPair:_,linkLabel:T}of M3(m)){const w=_[0];if(T){h(y,T);const E=cn(l,y,T),C=Bo(l,y,T);d(E),d(C);const N=((r=E?.["reverse-identity"])===null||r===void 0?void 0:r[1])||((i=C?.["forward-identity"])===null||i===void 0?void 0:i[1])||T;if(S0(l,N,w))h(N,T0(w));else{const P=cn(l,N,w);P||c(vd(t,N,w,w0)),d(P)}}else if(S0(l,y,w))h(y,T0(w));else{const E=cn(l,y,w);E||c(vd(t,y,w,w0)),d(E)}}for(const m of n){const[y,_,T,w]=m;if(E3.has(y)){const E=cn(l,_,"id");d(E),E||c(vd(t,_,"id",{"unique?":!0}));for(const C of Object.keys(w)){const N=cn(l,_,C);if(d(N),x3.has(y)&&(N||c(vd(t,_,C,C==="id"?{"unique?":!0}:null))),w3.has(y)){const P=Bo(l,_,C);!N&&!P&&c(TA(t,_,C)),d(P)}}}}return[l,u]}function N3(e,t){const r=(Array.isArray(t)?t:[t]).flatMap(c=>a3(c)),[i,a]=P3(e,r),l=Object.assign(Object.assign({},e),{attrs:i}),u=r.flatMap(c=>v3(l,c));return[...a,...u]}var ii=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};function EA(e,t){typeof requestIdleCallback>"u"?e():requestIdleCallback(e,{timeout:t})}const ec="__meta";class O3{constructor(t,n){}}class x0{constructor(t){var n,r;this._subs=[],this._nextSave=null,this._nextGc=null,this._pendingSaveKeys=new Set,this._loadedKeys=new Set,this._version=0,this._meta={isLoading:!0,onLoadCbs:[],value:null,error:null,attempts:0},this._persister=t.persister,this._merge=t.merge,this.serialize=t.serialize,this.parse=t.parse,this._objectSize=t.objectSize,this._log=t.logger,this._saveThrottleMs=(n=t.saveThrottleMs)!==null&&n!==void 0?n:100,this._idleCallbackMaxWaitMs=(r=t.idleCallbackMaxWaitMs)!==null&&r!==void 0?r:1e3,this._gcOpts=t.gc,this.currentValue={},this._loadedKeys=new Set,this._loadingKeys={},this._initMeta(),t.preloadEntryCount&&this._preloadEntries(t.preloadEntryCount)}_initMeta(){return ii(this,void 0,void 0,function*(){var t,n,r;this._meta.loadingPromise&&(yield this._meta.loadingPromise);try{const i=this._persister.getItem(ec);this._meta.loadingPromise=i;const a=yield i;this._meta.isLoading=!1,this._meta.error=null,this._meta.loadingPromise=null,this._meta.attempts=0;const l=(n=(t=this._meta.value)===null||t===void 0?void 0:t.objects)!==null&&n!==void 0?n:{},u=a??{},c=(r=u.objects)!==null&&r!==void 0?r:{};this._meta.value=Object.assign(Object.assign({},u),{objects:Object.assign(Object.assign({},l),c)})}catch(i){this._meta.error=i,this._meta.attempts++,this._meta.loadingPromise=null}})}_getMeta(){return ii(this,void 0,void 0,function*(){return this._meta.value?this._meta.value:this._meta.loadingPromise?(yield this._meta.loadingPromise,this._meta.value):(this._initMeta(),yield this._meta.loadingPromise,this._meta.value)})}_refreshMeta(){return ii(this,void 0,void 0,function*(){return yield this._initMeta(),this._meta.value})}_preloadEntries(t){return ii(this,void 0,void 0,function*(){const n=yield this.waitForMetaToLoad();if(!n)return;const r=Object.entries(n.objects);r.sort(([i,a],[l,u])=>u.updatedAt-a.updatedAt);for(const[i]of r.slice(0,t))this._loadKey(i)})}_getFromStorage(t){return ii(this,void 0,void 0,function*(){try{const n=yield this._persister.getItem(t);return n&&this.parse(t,n)}catch(n){return console.error(`Unable to read from storage for key=${t}`,n),null}})}waitForKeyToLoad(t){return ii(this,void 0,void 0,function*(){return this._loadedKeys.has(t)?this.currentValue[t]:(yield this._loadingKeys[t]||this._loadKey(t),this.currentValue[t])})}waitForMetaToLoad(){return ii(this,void 0,void 0,function*(){return this._getMeta()})}unloadKey(t){this._loadedKeys.delete(t),delete this._loadingKeys[t],delete this.currentValue[t]}_loadKey(t){return ii(this,void 0,void 0,function*(){if(this._loadedKeys.has(t)||t in this._loadingKeys)return;const n=this._getFromStorage(t);this._loadingKeys[t]=n;const r=yield n;if(delete this._loadingKeys[t],this._loadedKeys.add(t),r){const i=this._merge(t,r,this.currentValue[t]);i&&(this.currentValue[t]=i)}this.onKeyLoaded&&this.onKeyLoaded(t)})}_writeToStorage(t){var n,r;const i=[],a=t?.skipGc;if(this._meta.isLoading){const _=new Promise((T,w)=>{var E;setTimeout(()=>this._enqueuePersist(t?Object.assign(Object.assign({},t),{attempts:(t.attempts||0)+1}):{attempts:1}).then(T).catch(w),10+((E=t?.attempts)!==null&&E!==void 0?E:0)*1e3)});return i.push(_),Promise.all(i).then(T=>T.reduce((w,E)=>w+E,0))}const l=this._meta.value;if(!l)return Promise.resolve(0);const u=[],c=[];for(const _ of this._pendingSaveKeys)_ in this.currentValue?c.push(_):(u.push(_),delete l.objects[_]);for(const _ of u){const T=this._persister.removeItem(_);i.push(T.then(()=>1)),this._loadedKeys.delete(_),this._pendingSaveKeys.delete(_)}const d=[],h=[[ec,l]],m=(n=l.objects)!==null&&n!==void 0?n:{};l.objects=m;for(const _ of c)if(this._loadedKeys.has(_)){const T=this.serialize(_,this.currentValue[_]);h.push([_,T]);const w=this._objectSize(T),E=(r=m[_])!==null&&r!==void 0?r:{createdAt:Date.now(),updatedAt:Date.now(),size:w};E.updatedAt=Date.now(),E.size=w,m[_]=E,this._pendingSaveKeys.delete(_)}else d.push(_);const y=this._persister.multiSet(h);i.push(y.then(()=>1));for(const _ of d){const T=this._loadKey(_).then(()=>this._enqueuePersist(t));i.push(T)}return a||this.gc(),Promise.all(i).then(_=>_.reduce((T,w)=>T+w,0))}flush(){return ii(this,void 0,void 0,function*(){return this._nextSave?(clearTimeout(this._nextSave),this._nextSave=null,this._writeToStorage()):void 0})}_gc(){return ii(this,void 0,void 0,function*(){if(!this._gcOpts)return;const t=new Set(yield this._persister.getAllKeys());t.delete(ec);const n=new Set(Object.keys(this.currentValue));for(const y of Object.keys(this._loadingKeys))n.add(y);for(const y of this._loadedKeys)n.add(y);const r=yield this._refreshMeta();if(!r){this._log.info("Could not gc because we were not able to load meta");return}const i=[],a={gcOpts:this._gcOpts,keys:t,sacredKeys:n,removed:[],metaRemoved:[],removedMissingCount:0,removedOldCount:0,removedThresholdCount:0,removedSizeCount:0};for(const y of t)n.has(y)||y in r.objects||(this._log.info("Lost track of key in meta",y),i.push(this._persister.removeItem(y)),a.removed.push(y),a.removedMissingCount++);const l=Date.now();for(const[y,_]of Object.entries(r.objects))!n.has(y)&&_.updatedAt<l-this._gcOpts.maxAgeMs&&(i.push(this._persister.removeItem(y)),delete r.objects[y],a.removed.push(y),a.removedOldCount++);const u=Object.entries(r.objects);u.sort(([y,_],[T,w])=>_.updatedAt-w.updatedAt);const c=u.filter(([y])=>!n.has(y));if(u.length>this._gcOpts.maxEntries)for(const[y]of c.slice(0,u.length-this._gcOpts.maxEntries))i.push(this._persister.removeItem(y)),delete r.objects[y],a.removed.push(y),a.removedThresholdCount++;const d=Object.entries(r.objects);d.sort(([y,_],[T,w])=>_.updatedAt-w.updatedAt);const h=d.filter(([y])=>!n.has(y));let m=d.reduce((y,[_,T])=>y+T.size,0);for(;m>0&&m>this._gcOpts.maxSize&&h.length;){const[[y,_]]=h.splice(0,1);m-=_.size,i.push(this._persister.removeItem(y)),delete r.objects[y],a.removed.push(y),a.removedSizeCount++}for(const y of Object.keys(r.objects))!t.has(y)&&!n.has(y)&&delete r.objects[y];return(a.removed.length||a.metaRemoved.length)&&i.push(this._enqueuePersist({skipGc:!0})),this._log.info("Completed GC",a),yield Promise.all(i),a})}gc(){this._nextGc||(this._nextGc=setTimeout(()=>{EA(()=>{this._nextGc=null,this._gc()},30*1e3)},1e3*60+Math.random()*500))}_enqueuePersist(t){return new Promise((n,r)=>{if(this._nextSave){n(0);return}this._nextSave=setTimeout(()=>{EA(()=>{this._nextSave=null,this._writeToStorage(t).then(n).catch(r)},this._idleCallbackMaxWaitMs)},this._saveThrottleMs)})}version(){return this._version}updateInPlace(t){this._version++;const[n,r]=th(this.currentValue,t,{enablePatches:!0});for(const i of r){const a=i.path[0];a&&typeof a=="string"&&(this._pendingSaveKeys.add(a),this._loadedKeys.has(a)||this._loadKey(a))}for(const i of Object.keys(n))if(!n[i])debugger;this.currentValue=n,this._enqueuePersist();for(const i of this._subs)i(this.currentValue);return n}subscribe(t){return this._subs.push(t),t(this.currentValue),()=>{this._subs=this._subs.filter(n=>n!==t)}}}var Hi=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};const I3=6,D3=["kv","querySubs","syncSubs"];function R3(e){return function(n){console.error("Error in IndexedDB event",{source:e,event:n})}}function k3(e){return Hi(this,void 0,void 0,function*(){return new Promise(t=>{const n=indexedDB.open(e);n.onerror=r=>{t(null)},n.onsuccess=r=>{const a=r.target.result;t(a)},n.onupgradeneeded=r=>{var i;(i=r.target.transaction)===null||i===void 0||i.abort(),t(null)}})})}function L3(e,t,n){return Hi(this,void 0,void 0,function*(){const r=typeof t=="string"?JSON.parse(t):t;if(!r)return;const i=new Set;return new Promise((a,l)=>{var u,c,d,h;const m={};for(const[T,w]of Object.entries(r)){const E=typeof w=="string"?JSON.parse(w):w;if(E.lastAccessed){const N={createdAt:E.lastAccessed,updatedAt:E.lastAccessed,size:(h=(d=(c=(u=E.result)===null||u===void 0?void 0:u.store)===null||c===void 0?void 0:c.triples)===null||d===void 0?void 0:d.length)!==null&&h!==void 0?h:0};m[T]=N}const C=n.put(E,T);i.add(C)}const y={objects:m},_=n.put(y,ec);i.add(_);for(const T of i)T.onsuccess=()=>{i.delete(T),i.size===0&&a()},T.onerror=w=>{l(w)}})})}function wA(e,t,n){return Hi(this,void 0,void 0,function*(){const r=n.put(t,e);return new Promise((i,a)=>{r.onsuccess=()=>i(),r.onerror=l=>a(l)})})}function U3(e,t){return Hi(this,void 0,void 0,function*(){const n=yield k3(`instant_${e}_5`);if(!n)return;const r=yield new Promise((h,m)=>{const T=n.transaction(["kv"],"readonly").objectStore("kv").openCursor();T.onerror=E=>{m(E)};const w=[];T.onsuccess=()=>{const E=T.result;if(E){const C=E.key,N=E.value;w.push([C,N]),E.continue()}else h(w)},T.onerror=E=>{m(E)}}),i=t.transaction(["kv","querySubs"],"readwrite"),a=i.objectStore("kv"),l=i.objectStore("querySubs"),u=[],c={objects:{}};for(const[h,m]of r)switch(h){case"querySubs":{const y=L3(h,m,l);u.push(y);break}default:{const y=wA(h,m,a);u.push(y);const _={createdAt:Date.now(),updatedAt:Date.now(),size:0};c.objects[h]=_;break}}const d=wA(ec,c,a);u.push(d),yield Promise.all(u),yield new Promise((h,m)=>{i.oncomplete=y=>h(y),i.onerror=y=>m(y),i.onabort=y=>m(y)})})}const xA=new Map;class II extends O3{constructor(t,n){super(t,n),this.dbName=`instant_${t}_${I3}`,this._storeName=n,this._appId=t,this._dbPromise=this._init()}_init(){return new Promise((t,n)=>{let r=!1;const i=indexedDB.open(this.dbName,1);i.onerror=a=>{n(a)},i.onsuccess=a=>{const u=a.target.result;if(r){const c=U3(this._appId,u).catch(d=>{R3("Error upgrading store from version 5 to 6.")(d)});xA.set(this.dbName,c),c.then(()=>t(u)).catch(()=>t(u))}else{const c=xA.get(this.dbName);c?c.then(()=>t(u)).catch(()=>t(u)):t(u)}},i.onupgradeneeded=a=>{r=!0,this._upgradeStore(a)}})}_upgradeStore(t){const r=t.target.result;for(const i of D3)r.objectStoreNames.contains(i)||r.createObjectStore(i)}getItem(t){return Hi(this,void 0,void 0,function*(){const n=yield this._dbPromise;return new Promise((r,i)=>{const u=n.transaction([this._storeName],"readonly").objectStore(this._storeName).get(t);u.onerror=c=>{i(c)},u.onsuccess=c=>{u.result?r(u.result):r(null)}})})}setItem(t,n){return Hi(this,void 0,void 0,function*(){const r=yield this._dbPromise;return new Promise((i,a)=>{const c=r.transaction([this._storeName],"readwrite").objectStore(this._storeName).put(n,t);c.onerror=d=>{a(d)},c.onsuccess=d=>{i()}})})}multiSet(t){return Hi(this,void 0,void 0,function*(){const n=yield this._dbPromise;return new Promise((r,i)=>{const a=n.transaction([this._storeName],"readwrite"),l=a.objectStore(this._storeName),u=new Set;for(const[c,d]of t){const h=l.put(d,c);u.add(h)}for(const c of u)c.onerror=d=>{a.abort(),i(d)},c.onsuccess=d=>{u.delete(c),u.size===0&&r()}})})}removeItem(t){return Hi(this,void 0,void 0,function*(){const n=yield this._dbPromise;return new Promise((r,i)=>{const u=n.transaction([this._storeName],"readwrite").objectStore(this._storeName).delete(t);u.onerror=c=>{i(c)},u.onsuccess=c=>{r()}})})}getAllKeys(){return Hi(this,void 0,void 0,function*(){const t=yield this._dbPromise;return new Promise((n,r)=>{const l=t.transaction([this._storeName],"readonly").objectStore(this._storeName).getAllKeys();l.onerror=u=>{r(u)},l.onsuccess=u=>{n(l.result.filter(c=>typeof c=="string"))}})})}}var j3=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};class DI{static getIsOnline(){return j3(this,void 0,void 0,function*(){return navigator.onLine})}static listen(t){const n=()=>{t(!0)},r=()=>{t(!1)};return addEventListener("online",n),addEventListener("offline",r),()=>{removeEventListener("online",n),removeEventListener("offline",r)}}}class cl extends Error{constructor(t,n){super(t),this.hint=n;const r=new.target.prototype;Object.setPrototypeOf&&Object.setPrototypeOf(this,r),Error.captureStackTrace&&Error.captureStackTrace(this,cl),this.name="InstantError"}get[Symbol.toStringTag](){return"InstantError"}}var q3=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};class cp extends cl{constructor(t){var n;const r=((n=t.body)===null||n===void 0?void 0:n.message)||`API Error (${t.status})`;super(r,t.body.hint);const i=new.target.prototype;Object.setPrototypeOf&&Object.setPrototypeOf(this,i),Error.captureStackTrace&&Error.captureStackTrace(this,cp),this.name="InstantAPIError",this.status=t.status,this.body=t.body}get[Symbol.toStringTag](){return"InstantAPIError"}}function Wr(e,t){return q3(this,void 0,void 0,function*(){const n=yield fetch(e,t),r=yield n.json();return n.status===200?Promise.resolve(r):Promise.reject(new cp({status:n.status,body:r}))})}var wl=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};function z3({apiURI:e,appId:t,email:n}){return Wr(`${e}/runtime/auth/send_magic_code`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({"app-id":t,email:n})})}function $3(e){return wl(this,arguments,void 0,function*({apiURI:t,appId:n,email:r,code:i,refreshToken:a}){return yield Wr(`${t}/runtime/auth/verify_magic_code`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(Object.assign({"app-id":n,email:r,code:i},a?{"refresh-token":a}:{}))})})}function B3(e){return wl(this,arguments,void 0,function*({apiURI:t,appId:n,refreshToken:r}){return yield Wr(`${t}/runtime/auth/verify_refresh_token`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({"app-id":n,"refresh-token":r})})})}function F3(e){return wl(this,arguments,void 0,function*({apiURI:t,appId:n}){return yield Wr(`${t}/runtime/auth/sign_in_guest`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({"app-id":n})})})}function AA(e){return wl(this,arguments,void 0,function*({apiURI:t,appId:n,code:r,codeVerifier:i,refreshToken:a}){return yield Wr(`${t}/runtime/oauth/token`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({app_id:n,code:r,code_verifier:i,refresh_token:a})})})}function H3(e){return wl(this,arguments,void 0,function*({apiURI:t,appId:n,nonce:r,idToken:i,clientName:a,refreshToken:l}){return yield Wr(`${t}/runtime/oauth/id_token`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({app_id:n,nonce:r,id_token:i,client_name:a,refresh_token:l})})})}function G3(e){return wl(this,arguments,void 0,function*({apiURI:t,appId:n,refreshToken:r}){return yield Wr(`${t}/runtime/signout`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({app_id:n,refresh_token:r})})})}var Ic=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};function V3(e){return Ic(this,arguments,void 0,function*({apiURI:t,appId:n,path:r,file:i,refreshToken:a,contentType:l,contentDisposition:u}){const c={app_id:n,path:r,authorization:`Bearer ${a}`,"content-type":l||i.type};return u&&(c["content-disposition"]=u),yield Wr(`${t}/storage/upload`,{method:"PUT",headers:c,body:i})})}function K3(e){return Ic(this,arguments,void 0,function*({apiURI:t,appId:n,path:r,refreshToken:i}){const{data:a}=yield Wr(`${t}/storage/files?app_id=${n}&filename=${encodeURIComponent(r)}`,{method:"DELETE",headers:{"content-type":"application/json",authorization:`Bearer ${i}`}});return a})}function Y3(e){return Ic(this,arguments,void 0,function*({apiURI:t,appId:n,fileName:r,refreshToken:i,metadata:a={}}){const{data:l}=yield Wr(`${t}/storage/signed-upload-url`,{method:"POST",headers:{"content-type":"application/json",authorization:`Bearer ${i}`},body:JSON.stringify({app_id:n,filename:r})});return l})}function W3(e,t){return Ic(this,void 0,void 0,function*(){return(yield fetch(e,{method:"PUT",body:t,headers:{"Content-Type":t.type}})).ok})}function J3(e){return Ic(this,arguments,void 0,function*({apiURI:t,appId:n,path:r,refreshToken:i}){const{data:a}=yield Wr(`${t}/storage/signed-download-url?app_id=${n}&filename=${encodeURIComponent(r)}`,{method:"GET",headers:{"content-type":"application/json",authorization:`Bearer ${i}`}});return a})}let u_=!1,RI=!1,kI=!1;typeof window<"u"&&typeof window.localStorage<"u"&&(u_=!!window.localStorage.getItem("devBackend"),RI=!!window.localStorage.getItem("__instantLogging"),kI=!!window.localStorage.getItem("__devtoolLocalDash"));function CA(e,t){if(!t)return e;const n={};return t.forEach(r=>{n[r]=e[r]}),n}function X3(e,t,n){var r,i;const a={peers:{}};if(t&&"user"in t?t.user:!0){const u=CA((r=e.user)!==null&&r!==void 0?r:{},t?.keys);a.user=Object.assign(Object.assign({},u),{peerId:n})}for(const u of Object.keys((i=e.peers)!==null&&i!==void 0?i:{})){const c=t?.peers===void 0,d=Array.isArray(t?.peers)&&t?.peers.includes(u);if(c||d){const h=CA(e.peers[u],t?.keys);a.peers[u]=Object.assign(Object.assign({},h),{peerId:u})}}return a}function Q3(e,t){if(e.isLoading!==t.isLoading||e.error!==t.error||(e.user||t.user)&&(!e.user||!t.user||!dA(e.user,t.user))||!uI(e.peers,t.peers))return!0;for(const r of Object.keys(e.peers))if(!dA(e.peers[r],t.peers[r]))return!0;return!1}class MA{constructor(){this.promise=new Promise((t,n)=>{this._resolve=t,this._reject=n})}resolve(t){this._resolve(t)}reject(t){this._reject(t)}}function LI(e,t=[]){e.forEach(n=>{const{data:r}=n,{"datalog-result":i}=r,{"join-rows":a}=i;for(const l of a)for(const u of l)t.push(u);LI(n["child-nodes"],t)})}function PA(e){const t=[];return LI(e,t),t}function NA(e){return Object.values(e.links).reduce((t,n)=>{var r,i,a,l;return(r=t[a=n.forward.on])!==null&&r!==void 0||(t[a]={}),t[n.forward.on][n.forward.label]={isForward:!0,isSingular:n.forward.has==="one",link:n},(i=t[l=n.reverse.on])!==null&&i!==void 0||(t[l]={}),t[n.reverse.on][n.reverse.label]={isForward:!1,isSingular:n.reverse.has==="one",link:n},t},{})}const c_="v0.22.73";function Z3(e,t){return{info:e?(...n)=>console.info(...n,t()):()=>{},debug:e?(...n)=>console.debug(...n,t()):()=>{},error:e?(...n)=>console.error(...n,t()):()=>{}}}class Ki{constructor(t,n,r,i={indexed:!1,unique:!1}){this.valueType=t,this.required=n,this.isIndexed=r,this.config=i,this.metadata={}}clientRequired(){return new Ki(this.valueType,!1,this.isIndexed,this.config)}optional(){return new Ki(this.valueType,!1,this.isIndexed,this.config)}unique(){return new Ki(this.valueType,this.required,this.isIndexed,Object.assign(Object.assign({},this.config),{unique:!0}))}indexed(){return new Ki(this.valueType,this.required,!0,Object.assign(Object.assign({},this.config),{indexed:!0}))}}class dt extends Error{constructor(t,n){const r=n?`At path '${n}': ${t}`:t;super(r),this.name="QueryValidationError"}}const OA=["where","order","limit","last","first","offset","after","before","fields","aggregate"],eF=e=>e.valueType||"unknown",UI=(e,t,n=!1)=>{if(n||e==null)return!0;switch(t){case"string":return typeof e=="string";case"number":return typeof e=="number"&&!isNaN(e);case"boolean":return typeof e=="boolean";case"date":return e instanceof Date||typeof e=="string"||typeof e=="number";default:return!0}},tF=(e,t,n,r,i,a,l)=>{const u=a.valueType==="json",c=(d,h,m)=>{if(!UI(m,h,u))throw new dt(`Invalid value for operator '${d}' on attribute '${r}' in entity '${i}'. Expected ${h}, but received: ${typeof m}`,l)};switch(e){case"in":case"$in":if(!Array.isArray(t))throw new dt(`Operator '${e}' for attribute '${r}' in entity '${i}' must be an array, but received: ${typeof t}`,l);for(const d of t)c(e,n,d);break;case"$not":case"$ne":case"$gt":case"$lt":case"$gte":case"$lte":c(e,n,t);break;case"$like":case"$ilike":if(c(e,"string",t),e==="$ilike"&&!a.isIndexed)throw new dt(`Operator '${e}' can only be used with indexed attributes, but '${r}' in entity '${i}' is not indexed`,l);break;case"$isNull":c(e,"boolean",t);break;default:throw new dt(`Unknown operator '${e}' for attribute '${r}' in entity '${i}'`,l)}},tl=(e,t,n,r,i)=>{const a=eF(n),l=n.valueType==="json";if(typeof e=="object"&&e!==null&&!Array.isArray(e)){if(l)return;const c=e;for(const[d,h]of Object.entries(c))tF(d,h,a,t,r,n,`${i}.${d}`)}else if(!UI(e,a,l))throw new dt(`Invalid value for attribute '${t}' in entity '${r}'. Expected ${a}, but received: ${typeof e}`,i)},nF=(e,t,n,r,i)=>{const a=e.split(".");if(a.length<2)throw new dt(`Invalid dot notation path '${e}'. Must contain at least one dot.`,i);let l=n;for(let h=0;h<a.length-1;h++){const m=a[h],y=r.entities[l];if(!y)throw new dt(`Entity '${l}' does not exist in schema while traversing dot notation path '${e}'.`,i);const _=y.links[m];if(!_){const T=Object.keys(y.links);throw new dt(`Link '${m}' does not exist on entity '${l}' in dot notation path '${e}'. Available links: ${T.length>0?T.join(", "):"none"}`,i)}l=_.entityName}const u=a[a.length-1],c=r.entities[l];if(!c)throw new dt(`Target entity '${l}' does not exist in schema for dot notation path '${e}'.`,i);if(u==="id"){if(typeof t=="string"&&!ll(t))throw new dt(`Invalid value for id field in entity '${l}'. Expected a UUID, but received: ${t}`,i);tl(t,e,new Ki("string",!1,!0),n,i);return}const d=c.attrs[u];if(Object.keys(c.links).includes(u)){if(typeof t=="string"&&!ll(t))throw new dt(`Invalid value for link '${u}' in entity '${l}'. Expected a UUID, but received: ${t}`,i);tl(t,e,new Ki("string",!1,!0),n,i);return}if(!d){const h=Object.keys(c.attrs);throw new dt(`Attribute '${u}' does not exist on entity '${l}' in dot notation path '${e}'. Available attributes: ${h.length>0?h.join(", ")+", id":"id"}`,i)}tl(t,e,d,n,i)},jI=(e,t,n,r)=>{for(const[i,a]of Object.entries(e)){if(i==="or"||i==="and"){if(Array.isArray(a))for(const d of a)typeof d=="object"&&d!==null&&jI(d,t,n,`${r}.${i}[${d}]`);continue}if(i==="id"){tl(a,"id",new Ki("string",!1,!0),t,`${r}.id`);continue}if(i.includes(".")){nF(i,a,t,n,`${r}.${i}`);continue}const l=n.entities[t];if(!l)continue;const u=l.attrs[i],c=l.links[i];if(!u&&!c){const d=Object.keys(l.attrs),h=Object.keys(l.links);throw new dt(`Attribute or link '${i}' does not exist on entity '${t}'. Available attributes: ${d.length>0?d.join(", "):"none"}. Available links: ${h.length>0?h.join(", "):"none"}`,`${r}.${i}`)}if(u)tl(a,i,u,t,`${r}.${i}`);else if(c){if(typeof a=="string"&&!ll(a))throw new dt(`Invalid value for link '${i}' in entity '${t}'. Expected a UUID, but received: ${a}`,`${r}.${i}`);const d=new Ki("string",!1,!0);tl(a,i,d,t,`${r}.${i}`)}}},rF=(e,t,n,r,i=0)=>{for(const l of Object.keys(e))if(!OA.includes(l))throw new dt(`Invalid query parameter '${l}' in $ object. Valid parameters are: ${OA.join(", ")}. Found: ${l}`,r);const a=["offset","before","after","first","last"];for(const l of a)if(e[l]!==void 0&&i>0)throw new dt(`'${l}' can only be used on top-level namespaces. It cannot be used in nested queries.`,r);if(e.where&&n){if(typeof e.where!="object"||e.where===null)throw new dt(`'where' clause must be an object in entity '${t}', but received: ${typeof e.where}`,r?`${r}.where`:void 0);jI(e.where,t,n,r?`${r}.where`:"where")}},qI=(e,t,n,r,i=0)=>{var a;if(!e||typeof e!="object")throw new dt(`Query part for entity '${t}' must be an object, but received: ${typeof e}`,r);for(const l of Object.keys(e))if(l!=="$"){if(n&&!(l in n.entities[t].links)){const c=Object.keys(n.entities[t].links);throw new dt(`Link '${l}' does not exist on entity '${t}'. Available links: ${c.length>0?c.join(", "):"none"}`,`${r}.${l}`)}const u=e[l];if(typeof u=="object"&&u!==null){const c=(a=n?.entities[t].links[l])===null||a===void 0?void 0:a.entityName;c&&qI(u,c,n,`${r}.${l}`,i+1)}}else{const u=e[l];if(typeof u!="object"||u===null)throw new dt(`Query parameter '$' must be an object in entity '${t}', but received: ${typeof u}`,`${r}.$`);rF(u,t,n,`${r}.$`,i)}},IA=(e,t)=>{if(typeof e!="object"||e===null)throw new dt(`Query must be an object, but received: ${typeof e}${e===null?" (null)":""}`);if(Array.isArray(e))throw new dt(`Query must be an object, but received: ${typeof e}`);const n=e;for(const r of Object.keys(n)){if(Array.isArray(e[r]))throw new dt(`Query keys must be strings, but found key of type: ${typeof r}`,r);if(typeof r!="string")throw new dt(`Query keys must be strings, but found key of type: ${typeof r}`,r);if(r!=="$$ruleParams"){if(t&&!t.entities[r]){const i=Object.keys(t.entities);throw new dt(`Entity '${r}' does not exist in schema. Available entities: ${i.length>0?i.join(", "):"none"}`,r)}qI(n[r],r,t,r,0)}}},DA=e=>typeof e!="string"?!1:rh(e)?!0:ll(e);class Mr extends Error{constructor(t){super(t),this.name="TransactionValidationError"}}const zI=e=>e.length>0?e.join(", "):"none",iF=(e,t)=>new Mr(`Entity '${e}' does not exist in schema. Available entities: ${zI(t)}`),RA={string:e=>typeof e=="string",number:e=>typeof e=="number"&&!isNaN(e),boolean:e=>typeof e=="boolean",date:e=>e instanceof Date||typeof e=="string"||typeof e=="number",json:()=>!0},aF=(e,t)=>{var n,r;return e==null?!0:(r=(n=RA[t.valueType])===null||n===void 0?void 0:n.call(RA,e))!==null&&r!==void 0?r:!1},$I=(e,t)=>{const n=t.entities[e];if(!n)throw iF(e,Object.keys(t.entities));return n},Ty=(e,t,n)=>{const r=$I(e,n);if(typeof t!="object"||t===null)throw new Mr(`Arguments for data operation on entity '${e}' must be an object, but received: ${typeof t}`);for(const[i,a]of Object.entries(t)){if(i==="id")continue;const l=r.attrs[i];if(l&&!aF(a,l))throw new Mr(`Invalid value for attribute '${i}' in entity '${e}'. Expected ${l.valueType}, but received: ${typeof a}`)}},kA=(e,t,n)=>{const r=$I(e,n);if(typeof t!="object"||t===null)throw new Mr(`Arguments for link operation on entity '${e}' must be an object, but received: ${typeof t}`);for(const[i,a]of Object.entries(t)){if(!r.links[i]){const u=Object.keys(r.links);throw new Mr(`Link '${i}' does not exist on entity '${e}'. Available links: ${zI(u)}`)}if(a!=null){if(Array.isArray(a)){for(const u of a)if(!DA(u))throw new Mr(`Invalid entity ID in link '${i}' for entity '${e}'. Expected a UUID or a lookup, but received: ${u}`)}else if(!DA(a))throw new Mr(`Invalid UUID in link '${i}' for entity '${e}'. Expected a UUID, but received: ${a}`)}}},oF={create:Ty,update:Ty,merge:Ty,link:kA,unlink:kA,delete:()=>{}},sF=(e,t)=>{if(!t)return;const[n,r,i,a]=e;if(!Array.isArray(i)&&!ll(i))throw new Mr(`Invalid id for entity '${r}'. Expected a UUID, but received: ${i}`);if(typeof r!="string")throw new Mr(`Entity name must be a string, but received: ${typeof r}`);const l=oF[n];l&&a!==void 0&&l(r,a,t)},lF=(e,t)=>{const n=Array.isArray(e)?e:[e];for(const r of n){if(!r||typeof r!="object")throw new Mr(`Transaction chunk must be an object, but received: ${typeof r}`);if(!Array.isArray(r.__ops))throw new Mr(`Transaction chunk must have __ops array, but received: ${typeof r.__ops}`);for(const i of r.__ops){if(!Array.isArray(i))throw new Mr(`Transaction operation must be an array, but received: ${typeof i}`);sF(i,t)}}};var LA=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};let BI=0;class UA{constructor(t){this.type="ws",this.id=`${this.type}_${BI++}`,this.conn=new WebSocket(t),this.conn.onopen=n=>{this.onopen&&this.onopen({target:this})},this.conn.onmessage=n=>{this.onmessage&&this.onmessage({target:this,message:JSON.parse(n.data.toString())})},this.conn.onclose=n=>{this.onclose&&this.onclose({target:this})},this.conn.onerror=n=>{this.onerror&&this.onerror({target:this})}}close(){this.conn.close()}isOpen(){var t;return this.conn.readyState===((t=WebSocket.OPEN)!==null&&t!==void 0?t:1)}isConnecting(){var t;return this.conn.readyState===((t=WebSocket.CONNECTING)!==null&&t!==void 0?t:0)}send(t){return this.conn.send(JSON.stringify(t))}}class uF{constructor(t,n){this.type="sse",this.initParams=null,this.sendQueue=[],this.closeFired=!1,this.sseInitTimeout=void 0,this.id=`${this.type}_${BI++}`,this.url=n,this.ES=t,this.conn=new t(n),this.sseInitTimeout=setTimeout(()=>{this.initParams||this.handleError()},1e4),this.conn.onmessage=r=>{const i=JSON.parse(r.data);if(i.op==="sse-init"){this.initParams={machineId:i["machine-id"],sessionId:i["session-id"],sseToken:i["sse-token"]},this.onopen&&this.onopen({target:this}),clearTimeout(this.sseInitTimeout);return}this.onmessage&&this.onmessage({target:this,message:i})},this.conn.onerror=r=>{this.handleError()}}handleError(){try{this.onerror&&this.onerror({target:this})}finally{this.handleClose()}}handleClose(){this.conn.close(),this.onclose&&!this.closeFired&&(this.closeFired=!0,this.onclose({target:this}))}postMessages(t){return LA(this,void 0,void 0,function*(){var n,r,i;try{(yield fetch(this.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({machine_id:(n=this.initParams)===null||n===void 0?void 0:n.machineId,session_id:(r=this.initParams)===null||r===void 0?void 0:r.sessionId,sse_token:(i=this.initParams)===null||i===void 0?void 0:i.sseToken,messages:t})})).ok||this.handleError()}catch{this.handleError()}})}flushQueue(){return LA(this,void 0,void 0,function*(){if(this.sendPromise||!this.sendQueue.length)return;const t=this.sendQueue;this.sendQueue=[];const n=this.postMessages(t);this.sendPromise=n,n.then(()=>{this.sendPromise=null,this.flushQueue()})})}send(t){if(!this.isOpen()||!this.initParams)throw this.isConnecting()?new Error("Failed to execute 'send' on 'EventSource': Still in CONNECTING state."):this.conn.readyState===this.ES.CLOSED?new Error("EventSource is already in CLOSING or CLOSED state."):new Error("EventSource is in invalid state.");this.sendQueue.push(t),this.flushQueue()}isOpen(){return this.conn.readyState===this.ES.OPEN&&this.initParams!==null}isConnecting(){return this.conn.readyState===this.ES.CONNECTING||this.conn.readyState===this.ES.OPEN&&this.initParams===null}close(){this.handleClose()}}var jA=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};function cF(e,t){const n=e.values;if(n)for(const r of n.entities||[])r.store.useDateObjects=t,r.store.attrs=n.attrs,r.store=mI(r.store);return e}function fF(e,t){var n,r;if(!((n=t.values)===null||n===void 0)&&n.entities){const i=[];for(const a of(r=t.values)===null||r===void 0?void 0:r.entities){const l=pI(a.store);delete l.attrs,i.push(Object.assign(Object.assign({},a),{store:l}))}return Object.assign(Object.assign({},t),{values:Object.assign(Object.assign({},t.values),{entities:i})})}else return t}function dF(e,t,n){var r,i;const a=(r=t?.state)===null||r===void 0?void 0:r.txId,l=(i=n?.state)===null||i===void 0?void 0:i.txId;return a&&(!l||a>l)?t:l&&(!a||l>a)?n:t||n}function Ey(e,t){return MI({store:t,pageInfo:null,aggregate:null},e.query).data[e.table][0]}function qA(e,t,n){var r;const i=(r=Za(t,e.table,"id"))===null||r===void 0?void 0:r.id;if(!i)return-1;const a=El(t.eav,[n,i,n]);return a?a[3]:-1}function zA(e,t){for(const{action:n,triple:r}of t)switch(n){case"added":vI(e,r);break;case"removed":gI(e,r);break}}function hF(e,t){var n,r,i,a;const l={};for(const{action:u,triple:c}of t){const[d,h,m]=c,y=(r=(n=e.attrs[h])===null||n===void 0?void 0:n["forward-identity"])===null||r===void 0?void 0:r[2];if(!y)continue;const _=(i=l[d])!==null&&i!==void 0?i:{};l[d]=_;const T=(a=_[y])!==null&&a!==void 0?a:{};switch(_[y]=T,u){case"added":T.newValue=m;break;case"removed":T.oldValue===void 0&&(T.oldValue=m);break}}for(const u of Object.keys(l)){const{oldValue:c,newValue:d}=l[u];c===d&&delete l[u]}return l}function bd(e,t){return{[e.table]:t.map(n=>n.entity)}}function pF(e,t){var n;if(e.orderFieldType)return e.orderFieldType;const r=e.orderField==="serverCreatedAt"?"number":(n=Za(t([]),e.table,e.orderField))===null||n===void 0?void 0:n["checked-data-type"];return e.orderFieldType=r,r}function mF(e,t,n){const r=t;if(e.orderField==="serverCreatedAt"){n.sort(e.orderDirection==="asc"?function(l,u){return Ku(l.entity.id,l.serverCreatedAt,u.entity.id,u.serverCreatedAt,r)}:function(l,u){return Ku(u.entity.id,u.serverCreatedAt,l.entity.id,l.serverCreatedAt,r)});return}const i=e.orderField;n.sort(e.orderDirection==="asc"?function(l,u){return Ku(l.entity.id,l.entity[i],u.entity.id,u.entity[i],r)}:function(l,u){return Ku(u.entity.id,u.entity[i],l.entity.id,l.entity[i],r)})}var Do;(function(e){e.InitialSyncBatch="InitialSyncBatch",e.InitialSyncComplete="InitialSyncComplete",e.LoadFromStorage="LoadFromStorage",e.SyncTransaction="SyncTransaction",e.Error="Error"})(Do||(Do={}));class gF{constructor(t,n,r,i,a){this.callbacks={},this.idToHash={},this.trySend=t,this.config=r,this.log=i,this.createStore=a,this.subs=new x0({persister:n,merge:dF,serialize:fF,parse:(l,u)=>cF(u,this.config.useDateObjects),objectSize:l=>{var u;return((u=l.values)===null||u===void 0?void 0:u.entities.length)||0},logger:i,gc:{maxAgeMs:1e3*60*60*24*7*52,maxEntries:1e3,maxSize:1e6}})}beforeUnload(){this.subs.flush()}subscribe(t,n){const r=un(t);return this.callbacks[r]=this.callbacks[r]||[],this.callbacks[r].push(n),this.initSubscription(t,r,n),i=>{this.unsubscribe(r,n,i?.keepSubscription)}}unsubscribe(t,n,r){const i=(this.callbacks[t]||[]).filter(a=>a!==n);if(this.callbacks[t]=i,!i.length){delete this.callbacks[t];const a=this.subs.currentValue[t];a?.state&&this.clearSubscriptionData(a.state.subscriptionId,!!r),r||this.subs.updateInPlace(l=>{delete l[t]})}}sendStart(t){this.trySend(Qt(),{op:"start-sync",q:t})}sendResync(t,n,r){this.idToHash[n.subscriptionId]=t.hash,this.trySend(n.subscriptionId,{op:"resync-table","subscription-id":n.subscriptionId,"tx-id":r,token:n.token})}sendRemove(t,n){this.trySend(Qt(),{op:"remove-sync","subscription-id":t.subscriptionId,"keep-subscription":n})}initSubscription(t,n,r){return jA(this,void 0,void 0,function*(){var i,a,l,u;yield this.subs.waitForKeyToLoad(n);const c=this.subs.currentValue[n];if(c&&c.state&&c.state.txId){this.sendResync(c,c.state,c.state.txId),!((i=c.values)===null||i===void 0)&&i.entities&&r&&r({type:Do.LoadFromStorage,data:bd(c,(a=c.values)===null||a===void 0?void 0:a.entities)});return}const d=Object.keys(t)[0],h=((u=(l=t[d])===null||l===void 0?void 0:l.$)===null||u===void 0?void 0:u.order)||{serverCreatedAt:"asc"},[m,y]=Object.entries(h)[0];this.subs.updateInPlace(_=>{_[n]={query:t,hash:n,table:d,orderDirection:y,orderField:m,createdAt:Date.now(),updatedAt:Date.now()}}),this.sendStart(t)})}flushPending(){return jA(this,void 0,void 0,function*(){for(const t of Object.keys(this.callbacks)){yield this.subs.waitForKeyToLoad(t);const n=this.subs.currentValue[t];n?yield this.initSubscription(n.query,n.hash):this.log.error("Missing sub for hash in flushPending",t)}})}onStartSyncOk(t){const n=t["subscription-id"],r=t.q,i=un(r);this.idToHash[n]=i,this.subs.updateInPlace(a=>{const l=a[i];if(!l)return this.log.error("Missing sub for hash",i,"subscription-id",n,"query",r),a;l.state={subscriptionId:n,token:t.token}})}notifyCbs(t,n){for(const r of this.callbacks[t]||[])r(n)}onSyncLoadBatch(t){var n;const r=t["subscription-id"],i=t["join-rows"],a=this.idToHash[r];if(!a){this.log.error("Missing hash for subscription",t);return}const l=[],u=this.subs.currentValue[a];if(!u){this.log.error("Missing sub for hash",a,t);return}const c=(n=u.values)!==null&&n!==void 0?n:{entities:[],attrs:this.createStore([]).attrs};u.values=c;const d=c.entities;for(const h of i){const m=this.createStore(h);c.attrs=m.attrs;const y=Ey(u,m);d.push({store:m,entity:y,serverCreatedAt:qA(u,m,y.id)}),l.push(y)}this.subs.updateInPlace(h=>{h[a]=u,h[a].updatedAt=Date.now()}),u.values&&this.notifyCbs(a,{type:Do.InitialSyncBatch,data:bd(u,u.values.entities),batch:l})}onSyncInitFinish(t){var n;const r=t["subscription-id"],i=this.idToHash[r];if(!i){this.log.error("Missing hash for subscription",t);return}this.subs.updateInPlace(l=>{const u=l[i];if(!u){this.log.error("Missing sub for hash",i,t);return}const c=u.state;if(!c)return this.log.error("Sub never set init, missing result",u,t),l;c.txId=t["tx-id"],u.updatedAt=Date.now()});const a=this.subs.currentValue[i];a&&this.notifyCbs(i,{type:Do.InitialSyncComplete,data:bd(a,((n=a.values)===null||n===void 0?void 0:n.entities)||[])})}onSyncUpdateTriples(t){var n,r,i;const a=t["subscription-id"],l=this.idToHash[a];if(!l){this.log.error("Missing hash for subscription",t);return}const u=this.subs.currentValue[l];if(!u){this.log.error("Missing sub for hash",l,t);return}const c=u.state;if(!c){this.log.error("Missing state for sub",u,t);return}for(const d of t.txes){if(c.txId&&c.txId>=d["tx-id"])continue;c.txId=d["tx-id"];const h=[],m={};for(const N of d.changes){const P=(n=m[N.triple[0]])!==null&&n!==void 0?n:[];m[N.triple[0]]=P,P.push(N)}const y=(r=u.values)!==null&&r!==void 0?r:{entities:[],attrs:this.createStore([]).attrs},_=y.entities;u.values=y;const T=[];e:for(const[N,P]of Object.entries(m))for(let D=0;D<_.length;D++){const O=_[D];if(W$(O.store,N)){zA(O.store,P);const R=Ey(u,O.store),k=hF(O.store,P)[N];R?(T.push({oldEntity:O.entity,newEntity:R,changedFields:k||{}}),O.entity=R):h.push(D),delete m[N];continue e}}const w=[];for(const[N,P]of Object.entries(m)){const D=this.createStore([]);y.attrs=D.attrs,zA(D,P);const O=Ey(u,D);if(!O){this.log.error("No entity found after applying change",{sub:u,changes:P,store:D});continue}_.push({store:D,entity:O,serverCreatedAt:qA(u,D,O.id)}),w.push(O)}const E=[];for(const N of h.sort().reverse())E.push(_[N].entity),_.splice(N,1);const C=pF(u,this.createStore);mF(u,C,_),this.notifyCbs(l,{type:Do.SyncTransaction,data:bd(u,(i=u.values)===null||i===void 0?void 0:i.entities),added:w,removed:E,updated:T})}this.subs.updateInPlace(d=>{d[l]=u,d[l].updatedAt=Date.now()})}clearSubscriptionData(t,n){const r=this.idToHash[t];if(r){delete this.idToHash[t];const i=this.subs.currentValue[r];if(i.state&&this.sendRemove(i.state,n),n?this.subs.unloadKey(r):this.subs.updateInPlace(a=>{delete a[r]}),i)return i}}onStartSyncError(t){const n=un(t["original-event"].q),r={message:t.message||"Uh-oh, something went wrong. Ping Joe & Stopa.",status:t.status,type:t.type,hint:t.hint},i=Object.keys(t["original-event"].q)[0];this.notifyCbs(n,{type:Do.Error,data:{[i]:[]},error:r})}onResyncError(t){const n=t["original-event"]["subscription-id"],r=this.clearSubscriptionData(n,!1);r&&this.initSubscription(r.query,r.hash)}}var kt=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})},yF=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const ji={CONNECTING:"connecting",OPENED:"opened",AUTHENTICATED:"authenticated",CLOSED:"closed",ERRORED:"errored"},vF=3e4,bF=3e4,_F=200,SF={apiURI:"https://api.instantdb.com",websocketURI:"wss://api.instantdb.com/runtime/session"},wy="_instant_oauth_redirect",ku="currentUser";function TF({transportType:e,appId:t,apiURI:n,wsURI:r,EventSourceImpl:i}){if(!i)return new UA(`${r}?app_id=${t}`);switch(e){case"ws":return new UA(`${r}?app_id=${t}`);case"sse":return new uF(i,`${n}/runtime/sse?app_id=${t}`);default:throw new Error("Unknown transport type "+e)}}function EF(){return typeof window<"u"||typeof chrome<"u"}const $A={"set-presence":!0,"set-presence-ok":!0,"refresh-presence":!0,"patch-presence":!0};function wF(e,t){var n;const r=typeof e=="string"?JSON.parse(e):e;if(!((n=r?.result)===null||n===void 0)&&n.store){const i=r.result.store;r.result.store=mI(Object.assign(Object.assign({},i),{useDateObjects:t}))}return r}function xF(e,t){var n;const r=Object.assign({},t);return!((n=t.result)===null||n===void 0)&&n.store&&(r.result=Object.assign(Object.assign({},t.result),{store:pI(t.result.store)})),r}function AF(e,t){switch(e){case"pendingMutations":return new Map(typeof t=="string"?JSON.parse(t):t);default:return t}}function CF(e,t){switch(e){case"pendingMutations":return[...t.entries()];default:return t}}function MF(e,t,n){const r=t?.result,i=n?.result;return r&&!i&&n&&(n.result=r),n||t}function BA(e){return[...e].sort((t,n)=>{const[r,i]=t,[a,l]=n,u=i.order||0,c=l.order||0;return u==c?r<a?-1:r>a?1:0:u-c})}class PF{constructor(t,n=II,r=DI,i,a){var l,u,c;if(this._isOnline=!0,this._isShutdown=!1,this.status=ji.CONNECTING,this.queryCbs={},this.queryOnceDfds={},this.authCbs=[],this.attrsCbs=[],this.mutationErrorCbs=[],this.connectionStatusCbs=[],this.mutationDeferredStore=new Map,this._reconnectTimeoutId=null,this._reconnectTimeoutMs=0,this._transportType="ws",this._wsOk=null,this._localIdPromises={},this._errorMessage=null,this._oauthCallbackResponse=null,this._linkIndex=null,this._rooms={},this._roomsPendingLeave={},this._presence={},this._broadcastQueue=[],this._broadcastSubs={},this._currentUserCached={isLoading:!0,error:void 0,user:void 0},this._beforeUnloadCbs=[],this._dataForQueryCache={},this._inFlightMutationEventIds=new Set,this._onMergeKv=(d,h,m)=>{var y,_;switch(d){case"pendingMutations":{const T=(y=h?.entries())!==null&&y!==void 0?y:[],w=(_=m?.entries())!==null&&_!==void 0?_:[],E=new Map([...T,...w]);return(h?this._rewriteMutationsSorted(this.attrs,h):[]).forEach(([N,P])=>{var D;!(!((D=m?.pendingMutations)===null||D===void 0)&&D.has(N))&&!P["tx-id"]&&this._sendMutation(N,P)}),E}default:return m||h}},this.getPreviousResult=d=>{const h=un(d);return this.dataForQuery(h)},this.notifyOne=d=>{var h,m;const y=(h=this.queryCbs[d])!==null&&h!==void 0?h:[],_=(m=this._dataForQueryCache[d])===null||m===void 0?void 0:m.data,T=this.dataForQuery(d);T&&(Bd(T,_)||y.forEach(w=>w.cb(T)))},this.notifyOneQueryOnce=d=>{var h;const m=(h=this.queryOnceDfds[d])!==null&&h!==void 0?h:[],y=this.dataForQuery(d);m.forEach(_=>{this._completeQueryOnce(_.q,d,_.dfd),_.dfd.resolve(y)})},this.notifyQueryError=(d,h)=>{(this.queryCbs[d]||[]).forEach(y=>y.cb({error:h}))},this.pushTx=d=>{this.config.disableValidation||lF(d,this.config.schema);try{const h=N3({attrs:this.optimisticAttrs(),schema:this.config.schema,stores:Object.values(this.querySubs.currentValue).map(m=>{var y;return(y=m?.result)===null||y===void 0?void 0:y.store}),useDateObjects:this.config.useDateObjects},d);return this.pushOps(h)}catch(h){return this.pushOps([],h)}},this.pushOps=(d,h)=>{const m=Qt(),y=[...this._pendingMutations().values()],_=Math.max(0,...y.map(E=>E.order||0))+1,T={op:"transact","tx-steps":d,created:Date.now(),error:h,order:_};this._updatePendingMutations(E=>{E.set(m,T)});const w=new MA;return this.mutationDeferredStore.set(m,w),this._sendMutation(m,T),this.notifyAll(),w.promise},this._transportOnOpen=d=>{const h=d.target;if(this._transport!==h){this._log.info("[socket][open]",h.id,"skip; this is no longer the current transport");return}this._log.info("[socket][open]",this._transport.id),this._setStatus(ji.OPENED),this.getCurrentUser().then(m=>{var y;this._trySend(Qt(),{op:"init","app-id":this.config.appId,"refresh-token":(y=m.user)===null||y===void 0?void 0:y.refresh_token,versions:this.versions,"__admin-token":this.config.__adminToken})}).catch(m=>{this._log.error("[socket][error]",h.id,m)})},this._transportOnMessage=d=>{const h=d.target,m=d.message;if(this._transport!==h){this._log.info("[socket][message]",h.id,m,"skip; this is no longer the current transport");return}!this._wsOk&&h.type==="ws"&&(this._wsOk=!0),this._transportType="ws",this._handleReceive(h.id,d.message)},this._transportOnError=d=>{const h=d.target;if(this._transport!==h){this._log.info("[socket][error]",h.id,"skip; this is no longer the current transport");return}this._log.error("[socket][error]",h.id,d)},this._scheduleReconnect=()=>{!this._wsOk&&this._transportType!=="sse"&&(this._transportType="sse",this._reconnectTimeoutMs=0),setTimeout(()=>{if(this._reconnectTimeoutMs=Math.min(this._reconnectTimeoutMs+1e3,1e4),!this._isOnline){this._log.info("[socket][close]",this._transport.id,"we are offline, no need to start socket");return}this._startSocket()},this._reconnectTimeoutMs)},this._transportOnClose=d=>{const h=d.target;if(this._transport!==h){this._log.info("[socket][close]",h.id,"skip; this is no longer the current transport");return}this._setStatus(ji.CLOSED);for(const m of Object.values(this._rooms))m.isConnected=!1;if(this._isShutdown){this._log.info("[socket][close]",h.id,"Reactor has been shut down and will not reconnect");return}this._log.info("[socket][close]",h.id,"schedule reconnect, ms =",this._reconnectTimeoutMs),this._scheduleReconnect()},this._EventSource=a,this.config=Object.assign(Object.assign({},SF),t),this.queryCacheLimit=(l=this.config.queryCacheLimit)!==null&&l!==void 0?l:10,this._pendingTxCleanupTimeout=(u=this.config.pendingTxCleanupTimeout)!==null&&u!==void 0?u:bF,this._pendingMutationCleanupThreshold=(c=this.config.pendingMutationCleanupThreshold)!==null&&c!==void 0?c:_F,this._log=Z3(t.verbose||u_||RI,()=>this._reactorStats()),this.versions=Object.assign(Object.assign({},i||{}),{"@instantdb/core":c_}),this.config.schema&&(this._linkIndex=NA(this.config.schema)),!!EF()){if(!t.appId)throw new Error("Instant must be initialized with an appId.");if(!ll(t.appId))throw new Error(`Instant must be initialized with a valid appId. \`${t.appId}\` is not a valid uuid.`);typeof BroadcastChannel=="function"&&(this._broadcastChannel=new BroadcastChannel("@instantdb"),this._broadcastChannel.addEventListener("message",d=>kt(this,void 0,void 0,function*(){var h;try{if(((h=d.data)===null||h===void 0?void 0:h.type)==="auth"){const m=yield this.getCurrentUser();this.updateUser(m.user)}}catch(m){this._log.error("[error] handle broadcast channel",m)}}))),this._initStorage(n),this._syncTable=new gF(this._trySendAuthed.bind(this),new n(this.config.appId,"syncSubs"),{useDateObjects:this.config.useDateObjects},this._log,d=>Fd(this.attrs,d,this.config.enableCardinalityInference,this._linkIndex,this.config.useDateObjects)),this._oauthCallbackResponse=this._oauthLoginInit(),this.getCurrentUser(),r.getIsOnline().then(d=>{this._isOnline=d,this._startSocket(),r.listen(h=>{h!==this._isOnline&&(this._log.info("[network] online =",h),this._isOnline=h,this._isOnline?this._startSocket():(this._log.info("Changing status from",this.status,"to",ji.CLOSED),this._setStatus(ji.CLOSED)))})}),typeof addEventListener<"u"&&(this._beforeUnload=this._beforeUnload.bind(this),addEventListener("beforeunload",this._beforeUnload))}}updateSchema(t){this.config=Object.assign(Object.assign({},this.config),{schema:t,cardinalityInference:!!t}),this._linkIndex=t?NA(this.config.schema):null}_reactorStats(){return{inFlightMutationCount:this._inFlightMutationEventIds.size,pendingMutationCount:this._pendingMutations().size,transportType:this._transportType}}_onQuerySubLoaded(t){this.kv.waitForKeyToLoad("pendingMutations").then(()=>this.notifyOne(t))}_initStorage(t){this.querySubs=new x0({persister:new t(this.config.appId,"querySubs"),merge:MF,serialize:xF,parse:(n,r)=>wF(r,this.config.useDateObjects),objectSize:n=>{var r,i,a,l;return(l=(a=(i=(r=n.result)===null||r===void 0?void 0:r.store)===null||i===void 0?void 0:i.triples)===null||a===void 0?void 0:a.length)!==null&&l!==void 0?l:0},logger:this._log,preloadEntryCount:10,gc:{maxAgeMs:1e3*60*60*24*7*52,maxEntries:1e3,maxSize:1e6}}),this.querySubs.onKeyLoaded=n=>this._onQuerySubLoaded(n),this.kv=new x0({persister:new t(this.config.appId,"kv"),merge:this._onMergeKv,serialize:CF,parse:AF,objectSize:()=>0,logger:this._log,saveThrottleMs:100,idleCallbackMaxWaitMs:100,gc:null}),this.kv.onKeyLoaded=n=>{n==="pendingMutations"&&this.notifyAll()},this.kv.waitForKeyToLoad("pendingMutations"),this.kv.waitForKeyToLoad(ku),this._beforeUnloadCbs.push(()=>{this.kv.flush(),this.querySubs.flush()})}_beforeUnload(){for(const t of this._beforeUnloadCbs)t();this._syncTable.beforeUnload()}_finishTransaction(t,n,r){const i=this.mutationDeferredStore.get(n);this.mutationDeferredStore.delete(n);const a=t!=="error"&&t!=="timeout";if(!i&&!a&&console.error("Mutation failed",Object.assign({status:t,eventId:n},r)),!!i)if(a)i.resolve({status:t,eventId:n});else if(r?.type){const{status:l}=r,u=yF(r,["status"]);i.reject(new cp({body:u,status:l??0}))}else i.reject(new cl(r?.message||"Unknown error",r?.hint))}_setStatus(t,n){this.status=t,this._errorMessage=n,this.notifyConnectionStatusSubs(t)}_flushEnqueuedRoomData(t){var n,r;const i=(r=(n=this._presence[t])===null||n===void 0?void 0:n.result)===null||r===void 0?void 0:r.user,a=this._broadcastQueue[t];if(this._broadcastQueue[t]=[],i&&this._trySetPresence(t,i),a)for(const l of a){const{topic:u,roomType:c,data:d}=l;this._tryBroadcast(t,c,u,d)}}_handleReceive(t,n){var r,i,a,l,u,c;const d=!!this.config.schema&&("cardinalityInference"in this.config?!!this.config.cardinalityInference:!0);switch($A[n.op]||this._log.info("[receive]",t,n.op,n),n.op){case"init-ok":{this._setStatus(ji.AUTHENTICATED),this._reconnectTimeoutMs=0,this._setAttrs(n.attrs),this._flushPendingMessages(),this._sessionId=n["session-id"];for(const y of Object.keys(this._rooms)){const _=(i=(r=this._presence[y])===null||r===void 0?void 0:r.result)===null||i===void 0?void 0:i.user;this._tryJoinRoom(y,_)}break}case"add-query-exists":{this.notifyOneQueryOnce(un(n.q));break}case"add-query-ok":{const{q:y,result:_}=n,T=un(y);if(!this._hasQueryListeners()&&!this.querySubs.currentValue[T])break;const w=(l=(a=_?.[0])===null||a===void 0?void 0:a.data)===null||l===void 0?void 0:l["page-info"],E=(c=(u=_?.[0])===null||u===void 0?void 0:u.data)===null||c===void 0?void 0:c.aggregate,C=PA(_),N=Fd(this.attrs,C,d,this._linkIndex,this.config.useDateObjects);this.querySubs.updateInPlace(P=>{if(!P[T]){this._log.info("Missing value in querySubs",{hash:T,q:y});return}P[T].result={store:N,pageInfo:w,aggregate:E,processedTxId:n["processed-tx-id"]}}),this._cleanupPendingMutationsQueries(),this.notifyOne(T),this.notifyOneQueryOnce(T),this._cleanupPendingMutationsTimeout();break}case"start-sync-ok":{this._syncTable.onStartSyncOk(n);break}case"sync-load-batch":{this._syncTable.onSyncLoadBatch(n);break}case"sync-init-finish":{this._syncTable.onSyncInitFinish(n);break}case"sync-update-triples":{this._syncTable.onSyncUpdateTriples(n);break}case"refresh-ok":{const{computations:y,attrs:_}=n,T=n["processed-tx-id"];_&&this._setAttrs(_),this._cleanupPendingMutationsTimeout();const w=this._rewriteMutations(this.attrs,this._pendingMutations(),T);w!==this._pendingMutations()&&this.kv.updateInPlace(N=>{N.pendingMutations=w});const E=BA(w.entries()),C=y.map(N=>{var P,D,O,R;const k=N["instaql-query"],q=N["instaql-result"],G=un(k),H=PA(q),$=Fd(this.attrs,H,d,this._linkIndex,this.config.useDateObjects),F=this._applyOptimisticUpdates($,E,T),fe=(D=(P=q?.[0])===null||P===void 0?void 0:P.data)===null||D===void 0?void 0:D["page-info"],me=(R=(O=q?.[0])===null||O===void 0?void 0:O.data)===null||R===void 0?void 0:R.aggregate;return{q:k,hash:G,store:F,pageInfo:fe,aggregate:me}});C.forEach(({hash:N,q:P,store:D,pageInfo:O,aggregate:R})=>{this.querySubs.updateInPlace(k=>{if(!k[N]){this._log.error("Missing value in querySubs",{hash:N,q:P});return}k[N].result={store:D,pageInfo:O,aggregate:R,processedTxId:T}})}),this._cleanupPendingMutationsQueries(),C.forEach(({hash:N})=>{this.notifyOne(N)});break}case"transact-ok":{const{"client-event-id":y,"tx-id":_}=n;this._inFlightMutationEventIds.delete(y);const w=this._rewriteMutations(this.attrs,this._pendingMutations()).get(y);if(!w)break;this._updatePendingMutations(C=>{C.set(y,Object.assign(Object.assign({},C.get(y)),{"tx-id":_,confirmed:Date.now()}))});const E=w["tx-steps"].filter(([C,...N])=>C==="add-attr").map(([C,N])=>N).concat(Object.values(this.attrs));this._setAttrs(E),this._finishTransaction("synced",y),this._cleanupPendingMutationsTimeout();break}case"patch-presence":{const y=n["room-id"];this._trySetRoomConnected(y,!0),this._patchPresencePeers(y,n.edits),this._notifyPresenceSubs(y);break}case"refresh-presence":{const y=n["room-id"];this._trySetRoomConnected(y,!0),this._setPresencePeers(y,n.data),this._notifyPresenceSubs(y);break}case"server-broadcast":{const y=n["room-id"],_=n.topic;this._trySetRoomConnected(y,!0),this._notifyBroadcastSubs(y,_,n);break}case"join-room-ok":{const y=n["room-id"];if(!this._rooms[y]){this._roomsPendingLeave[y]&&(this._tryLeaveRoom(y),delete this._roomsPendingLeave[y]);break}this._trySetRoomConnected(y,!0),this._flushEnqueuedRoomData(y);break}case"leave-room-ok":{const y=n["room-id"];this._trySetRoomConnected(y,!1);break}case"join-room-error":const h=n["room-id"],m=this._rooms[h];m&&(m.error=n.error),this._notifyPresenceSubs(h);break;case"error":this._handleReceiveError(n);break;default:this._log.info("Uknown op",n.op,n);break}}_pendingMutations(){var t;return(t=this.kv.currentValue.pendingMutations)!==null&&t!==void 0?t:new Map}_updatePendingMutations(t){this.kv.updateInPlace(n=>{var r;const i=(r=n.pendingMutations)!==null&&r!==void 0?r:new Map;n.pendingMutations=i,t(i)})}_handleMutationError(t,n,r){const i=this._pendingMutations().get(n);if(i&&(t!=="timeout"||!i["tx-id"])){this._updatePendingMutations(l=>(l.delete(n),l)),this._inFlightMutationEventIds.delete(n);const a={message:r.message,hint:r.hint};this.notifyAll(),this.notifyAttrsSubs(),this.notifyMutationErrorSubs(a),this._finishTransaction(t,n,r)}}_handleReceiveError(t){var n,r,i,a,l,u,c;console.log("error",t);const d=t["client-event-id"];this._inFlightMutationEventIds.delete(d);const h=this._pendingMutations().get(d),m={message:t.message||"Uh-oh, something went wrong. Ping Joe & Stopa."};if(t.hint&&(m.hint=t.hint),h){this._handleMutationError("error",d,t);return}if(!((n=t["original-event"])===null||n===void 0)&&n.hasOwnProperty("q")&&((r=t["original-event"])===null||r===void 0?void 0:r.op)==="add-query"){const T=(i=t["original-event"])===null||i===void 0?void 0:i.q,w=un(T);this.notifyQueryError(un(T),m),this.notifyQueryOnceError(T,w,d,m);return}if(((a=t["original-event"])===null||a===void 0?void 0:a.op)==="init"){if(t.type==="record-not-found"&&((l=t.hint)===null||l===void 0?void 0:l["record-type"])==="app-user"){this.changeCurrentUser(null);return}this._setStatus(ji.ERRORED,m),this.notifyAll();return}if(((u=t["original-event"])===null||u===void 0?void 0:u.op)==="resync-table"){this._syncTable.onResyncError(t);return}if(((c=t["original-event"])===null||c===void 0?void 0:c.op)==="start-sync"){this._syncTable.onStartSyncError(t);return}const _=Object.assign({},t);delete _.message,delete _.hint,console.error(t.message,_),t.hint&&console.error(`This error comes with some debugging information. Here it is: 
`,t.hint)}notifyQueryOnceError(t,n,r,i){var a;const l=(a=this.queryOnceDfds[n])===null||a===void 0?void 0:a.find(u=>u.eventId===r);l&&(l.dfd.reject(i),this._completeQueryOnce(t,n,l.dfd))}_setAttrs(t){this.attrs=t.reduce((n,r)=>(n[r.id]=r,n),{}),this.notifyAttrsSubs()}_startQuerySub(t,n){const r=Qt();return this.querySubs.updateInPlace(i=>{i[n]=i[n]||{q:t,result:null,eventId:r},i[n].lastAccessed=Date.now()}),this._trySendAuthed(r,{op:"add-query",q:t}),r}subscribeTable(t,n){return this._syncTable.subscribe(t,n)}subscribeQuery(t,n,r){var i;this.config.disableValidation||IA(t,this.config.schema),r&&"ruleParams"in r&&(t=Object.assign({$$ruleParams:r.ruleParams},t));const a=un(t),l=this.getPreviousResult(t);return l&&n(l),this.queryCbs[a]=(i=this.queryCbs[a])!==null&&i!==void 0?i:[],this.queryCbs[a].push({q:t,cb:n}),this._startQuerySub(t,a),()=>{this._unsubQuery(t,a,n)}}queryOnce(t,n){var r;this.config.disableValidation||IA(t,this.config.schema),n&&"ruleParams"in n&&(t=Object.assign({$$ruleParams:n.ruleParams},t));const i=new MA;if(!this._isOnline)return i.reject(new Error("We can't run `queryOnce`, because the device is offline.")),i.promise;if(!this.querySubs)return i.reject(new Error("We can't run `queryOnce` on the backend. Use adminAPI.query instead: https://www.instantdb.com/docs/backend#query")),i.promise;const a=un(t),l=this._startQuerySub(t,a);return this.queryOnceDfds[a]=(r=this.queryOnceDfds[a])!==null&&r!==void 0?r:[],this.queryOnceDfds[a].push({q:t,dfd:i,eventId:l}),setTimeout(()=>i.reject(new Error("Query timed out")),vF),i.promise}_completeQueryOnce(t,n,r){this.queryOnceDfds[n]&&(this.queryOnceDfds[n]=this.queryOnceDfds[n].filter(i=>i.dfd!==r),this._cleanupQuery(t,n))}_unsubQuery(t,n,r){this.queryCbs[n]&&(this.queryCbs[n]=this.queryCbs[n].filter(i=>i.cb!==r),this._cleanupQuery(t,n))}_hasQueryListeners(t){var n,r;return!!(!((n=this.queryCbs[t])===null||n===void 0)&&n.length||!((r=this.queryOnceDfds[t])===null||r===void 0)&&r.length)}_cleanupQuery(t,n){this._hasQueryListeners(n)||(delete this.queryCbs[n],delete this.queryOnceDfds[n],delete this._dataForQueryCache[n],this.querySubs.unloadKey(n),this._trySendAuthed(Qt(),{op:"remove-query",q:t}))}_rewriteMutations(t,n,r){if(!t)return n;if(!n)return new Map;const i=h=>{const[m,y,_]=h["forward-identity"];return cn(t,y,_)},a=h=>{const[m,y,_]=h["forward-identity"];return Bo(t,y,_)},l={attrIdMap:{},refSwapAttrIds:new Set};let u=!1;const c=(h,m)=>{const y=[];for(const _ of h){const[T]=_;if(T==="add-attr"){const[E,C]=_,N=i(C);if(N&&C.id!==N.id){l.attrIdMap[C.id]=N.id,u=!0;continue}if(C["value-type"]==="ref"){const P=a(C);if(P){l.attrIdMap[C.id]=P.id,l.refSwapAttrIds.add(C.id),u=!0;continue}}}if(r&&m&&r>=m&&T==="add-attr"||T==="update-attr"||T==="delete-attr"){u=!0;continue}const w=u?o3(l,_):_;y.push(w)}return u?y:h},d=new Map;for(const[h,m]of n.entries())d.set(h,Object.assign(Object.assign({},m),{"tx-steps":c(m["tx-steps"],m["tx-id"])}));return u?d:n}_rewriteMutationsSorted(t,n){return BA(this._rewriteMutations(t,n).entries())}optimisticAttrs(){var t;const n=[...this._pendingMutations().values()].flatMap(u=>u["tx-steps"]),r=new Set(n.filter(([u,c])=>u==="delete-attr").map(([u,c])=>c)),i=[];for(const[u,c]of n)if(u==="add-attr")i.push(c);else if(u==="update-attr"&&c.id&&(!((t=this.attrs)===null||t===void 0)&&t[c.id])){const d=Object.assign(Object.assign({},this.attrs[c.id]),c);i.push(d)}const a=[...Object.values(this.attrs||{}),...i].filter(u=>!r.has(u.id));return Object.fromEntries(a.map(u=>[u.id,u]))}dataForQuery(t){const n=this._errorMessage;if(n)return{error:n};if(!this.querySubs||!this.kv.currentValue.pendingMutations)return;const r=this.querySubs.version(),i=this.querySubs.currentValue,a=this.kv.version(),l=this._pendingMutations(),{q:u,result:c}=i[t]||{};if(!c)return;const d=this._dataForQueryCache[t];if(d&&r===d.querySubVersion&&a===d.pendingMutationsVersion)return d.data;const{store:h,pageInfo:m,aggregate:y,processedTxId:_}=c,T=this._rewriteMutationsSorted(h.attrs,l),w=this._applyOptimisticUpdates(h,T,_),E=MI({store:w,pageInfo:m,aggregate:y},u);return this._dataForQueryCache[t]={querySubVersion:r,pendingMutationsVersion:a,data:E},E}_applyOptimisticUpdates(t,n,r){for(const[i,a]of n)(!a["tx-id"]||r&&a["tx-id"]>r)&&(t=sB(t,a["tx-steps"]));return t}notifyAll(){Object.keys(this.queryCbs).forEach(t=>{this.querySubs.waitForKeyToLoad(t).then(()=>this.notifyOne(t)).catch(()=>this.notifyOne(t))})}loadedNotifyAll(){this.kv.waitForKeyToLoad("pendingMutations").then(()=>this.notifyAll()).catch(()=>this.notifyAll())}shutdown(){var t;this._log.info("[shutdown]",this.config.appId),this._isShutdown=!0,(t=this._transport)===null||t===void 0||t.close()}_sendMutation(t,n){if(n.error){this._handleMutationError("error",t,{message:n.error.message});return}if(this.status!==ji.AUTHENTICATED){this._finishTransaction("enqueued",t);return}const r=Math.max(6e3,Math.min(this._inFlightMutationEventIds.size+1,this._pendingMutations().size+1)*6e3);this._isOnline?(this._trySend(t,n),setTimeout(()=>{this._isOnline&&this._handleMutationError("timeout",t,{message:"transaction timed out"})},r)):this._finishTransaction("enqueued",t)}_flushPendingMessages(){Object.keys(this.queryCbs).map(i=>this.querySubs.currentValue[i]).filter(i=>i).forEach(({eventId:i,q:a})=>{this._trySendAuthed(i,{op:"add-query",q:a})}),Object.values(this.queryOnceDfds).flat().forEach(({eventId:i,q:a})=>{this._trySendAuthed(i,{op:"add-query",q:a})}),this._rewriteMutationsSorted(this.attrs,this._pendingMutations()).forEach(([i,a])=>{a["tx-id"]||this._sendMutation(i,a)}),this._syncTable.flushPending()}_cleanupPendingMutationsQueries(){let t=Number.MAX_SAFE_INTEGER;for(const{result:n}of Object.values(this.querySubs.currentValue))n?.processedTxId&&(t=Math.min(t,n?.processedTxId));this._updatePendingMutations(n=>{for(const[r,i]of Array.from(n.entries()))i["tx-id"]&&i["tx-id"]<=t&&n.delete(r)})}_cleanupPendingMutationsTimeout(){if(this._pendingMutations().size<this._pendingMutationCleanupThreshold)return;const t=Date.now();this._updatePendingMutations(n=>{for(const[r,i]of Array.from(n.entries()))i.confirmed&&i.confirmed+this._pendingTxCleanupTimeout<t&&n.delete(r)})}_trySendAuthed(...t){this.status===ji.AUTHENTICATED&&this._trySend(...t)}_trySend(t,n,r){if(this._transport.isOpen()){switch($A[n.op]||this._log.info("[send]",this._transport.id,n.op,n),n.op){case"transact":{this._inFlightMutationEventIds.add(t);break}case"init":this._inFlightMutationEventIds.clear()}this._transport.send(Object.assign({"client-event-id":t},n))}}_startSocket(){if(this._wsOk=null,this._isShutdown){this._log.info("[socket][start]",this.config.appId,"Reactor has been shut down and will not start a new socket");return}if(this._transport&&this._transport.isConnecting()){this._log.info("[socket][start]",this._transport.id,"maintained as current transport, we were still in a connecting state");return}const t=this._transport;this._transport=TF({transportType:this._transportType,appId:this.config.appId,apiURI:this.config.apiURI,wsURI:this.config.websocketURI,EventSourceImpl:this._EventSource}),this._transport.onopen=this._transportOnOpen,this._transport.onmessage=this._transportOnMessage,this._transport.onclose=this._transportOnClose,this._transport.onerror=this._transportOnError,this._log.info("[socket][start]",this._transport.id),t?.isOpen()&&(this._log.info("[socket][start]",this._transport.id,"close previous transport id = ",t.id),t.close())}getLocalId(t){return kt(this,void 0,void 0,function*(){const n=`localToken_${t}`;if(this.kv.currentValue[n])return this.kv.currentValue[n];const r=yield this.kv.waitForKeyToLoad(n);if(r)return r;const i=Qt();return this.kv.updateInPlace(a=>{a[n]||(a[n]=i)}),yield this.kv.waitForKeyToLoad(n)})}_replaceUrlAfterOAuth(){if(typeof URL>"u")return;const t=new URL(window.location.href);if(t.searchParams.get(wy)){const n=t.toString();t.searchParams.delete(wy),t.searchParams.delete("code"),t.searchParams.delete("error");const r=t.pathname+(t.searchParams.size?"?"+t.searchParams:"")+t.hash;if(history.replaceState(history.state,"",r),typeof navigation=="object"&&typeof navigation.addEventListener=="function"&&typeof navigation.removeEventListener=="function"){let i=!1;const a=l=>{var u;i||(i=!0,navigation.removeEventListener("navigate",a),!l.userInitiated&&l.navigationType==="replace"&&((u=l.destination)===null||u===void 0?void 0:u.url)===n&&history.replaceState(history.state,"",r))};navigation.addEventListener("navigate",a)}}}_oauthLoginInit(){return kt(this,void 0,void 0,function*(){var t,n,r,i;if(typeof window>"u"||typeof window.location>"u"||typeof URLSearchParams>"u")return null;const a=new URLSearchParams(window.location.search);if(!a.get(wy))return null;const l=a.get("error");if(l)return this._replaceUrlAfterOAuth(),{error:{message:l}};const u=a.get("code");if(!u)return null;this._replaceUrlAfterOAuth();try{const c=yield this._getCurrentUser(),d=c?.type==="guest",{user:h}=yield AA({apiURI:this.config.apiURI,appId:this.config.appId,code:u,refreshToken:d?c.refresh_token:void 0});return this.setCurrentUser(h),null}catch(c){return((t=c?.body)===null||t===void 0?void 0:t.type)==="record-not-found"&&((r=(n=c?.body)===null||n===void 0?void 0:n.hint)===null||r===void 0?void 0:r["record-type"])==="app-oauth-code"&&(yield this._hasCurrentUser())?null:{error:{message:((i=c?.body)===null||i===void 0?void 0:i.message)||"Error logging in."}}}})}_waitForOAuthCallbackResponse(){return kt(this,void 0,void 0,function*(){return yield this._oauthCallbackResponse})}__subscribeMutationErrors(t){return this.mutationErrorCbs.push(t),()=>{this.mutationErrorCbs=this.mutationErrorCbs.filter(n=>n!==t)}}subscribeAuth(t){this.authCbs.push(t);const n=this._currentUserCached;n.isLoading||t(this._currentUserCached);let r=!1;return this.getCurrentUser().then(i=>{r||Bd(i,n)||t(i)}),()=>{r=!0,this.authCbs=this.authCbs.filter(i=>i!==t)}}getAuth(){return kt(this,void 0,void 0,function*(){const{user:t,error:n}=yield this.getCurrentUser();if(n)throw new cl("Could not get current user: "+n.message);return t})}subscribeConnectionStatus(t){return this.connectionStatusCbs.push(t),()=>{this.connectionStatusCbs=this.connectionStatusCbs.filter(n=>n!==t)}}subscribeAttrs(t){return this.attrsCbs.push(t),this.attrs&&t(this.attrs),()=>{this.attrsCbs=this.attrsCbs.filter(n=>n!==t)}}notifyAuthSubs(t){this.authCbs.forEach(n=>n(t))}notifyMutationErrorSubs(t){this.mutationErrorCbs.forEach(n=>n(t))}notifyAttrsSubs(){if(!this.attrs)return;const t=this.optimisticAttrs();this.attrsCbs.forEach(n=>n(t))}notifyConnectionStatusSubs(t){this.connectionStatusCbs.forEach(n=>n(t))}setCurrentUser(t){return kt(this,void 0,void 0,function*(){this.kv.updateInPlace(n=>{n[ku]=t}),yield this.kv.waitForKeyToLoad(ku)})}getCurrentUserCached(){return this._currentUserCached}_getCurrentUser(){return kt(this,void 0,void 0,function*(){const t=yield this.kv.waitForKeyToLoad(ku);return typeof t=="string"?JSON.parse(t):t})}getCurrentUser(){return kt(this,void 0,void 0,function*(){const t=yield this._waitForOAuthCallbackResponse();if(t?.error){const n={error:t.error,user:void 0};return this._currentUserCached=Object.assign({isLoading:!1},n),n}try{const r={user:yield this._getCurrentUser(),error:void 0};return this._currentUserCached=Object.assign({isLoading:!1},r),r}catch(n){return{user:void 0,isLoading:!1,error:{message:n?.message||"Error loading user"}}}})}_hasCurrentUser(){return kt(this,void 0,void 0,function*(){const t=yield this.kv.waitForKeyToLoad(ku);return typeof t=="string"?JSON.parse(t)!=null:t!=null})}changeCurrentUser(t){return kt(this,void 0,void 0,function*(){var n;const{user:r}=yield this.getCurrentUser();if(!Bd(r,t)){yield this.setCurrentUser(t),this.updateUser(t);try{(n=this._broadcastChannel)===null||n===void 0||n.postMessage({type:"auth"})}catch(i){console.error("Error posting message to broadcast channel",i)}}})}updateUser(t){const n={error:void 0,user:t};this._currentUserCached=Object.assign({isLoading:!1},n),this._dataForQueryCache={},this.querySubs.updateInPlace(r=>{Object.keys(r).forEach(i=>{delete r[i].result})}),this._reconnectTimeoutMs=0,this._transport.close(),this._oauthCallbackResponse=null,this.notifyAuthSubs(n)}sendMagicCode({email:t}){return z3({apiURI:this.config.apiURI,appId:this.config.appId,email:t})}signInWithMagicCode(t){return kt(this,arguments,void 0,function*({email:n,code:r}){var i;const a=yield this.getCurrentUser(),l=((i=a?.user)===null||i===void 0?void 0:i.type)==="guest",u=yield $3({apiURI:this.config.apiURI,appId:this.config.appId,email:n,code:r,refreshToken:l?a.user.refresh_token:void 0});return yield this.changeCurrentUser(u.user),u})}signInWithCustomToken(t){return kt(this,void 0,void 0,function*(){const n=yield B3({apiURI:this.config.apiURI,appId:this.config.appId,refreshToken:t});return yield this.changeCurrentUser(n.user),n})}signInAsGuest(){return kt(this,void 0,void 0,function*(){const t=yield F3({apiURI:this.config.apiURI,appId:this.config.appId});return yield this.changeCurrentUser(t.user),t})}potentiallyInvalidateToken(t,n){var r;const i=(r=t?.user)===null||r===void 0?void 0:r.refresh_token;if(!i)return;if(n.invalidateToken===!1){this._log.info("[auth-invalidate] skipped invalidateToken");return}G3({apiURI:this.config.apiURI,appId:this.config.appId,refreshToken:i}).then(()=>{this._log.info("[auth-invalidate] completed invalidateToken")}).catch(l=>{})}signOut(t){return kt(this,void 0,void 0,function*(){const n=yield this.getCurrentUser();this.potentiallyInvalidateToken(n,t),yield this.changeCurrentUser(null)})}createAuthorizationURL({clientName:t,redirectURL:n}){const{apiURI:r,appId:i}=this.config;return`${r}/runtime/oauth/start?app_id=${i}&client_name=${t}&redirect_uri=${n}`}exchangeCodeForToken(t){return kt(this,arguments,void 0,function*({code:n,codeVerifier:r}){var i;const a=yield this.getCurrentUser(),l=((i=a?.user)===null||i===void 0?void 0:i.type)==="guest",u=yield AA({apiURI:this.config.apiURI,appId:this.config.appId,code:n,codeVerifier:r,refreshToken:l?a.user.refresh_token:void 0});return yield this.changeCurrentUser(u.user),u})}issuerURI(){const{apiURI:t,appId:n}=this.config;return`${t}/runtime/${n}`}signInWithIdToken(t){return kt(this,arguments,void 0,function*({idToken:n,clientName:r,nonce:i}){var a;const l=yield this.getCurrentUser(),u=(a=l?.user)===null||a===void 0?void 0:a.refresh_token,c=yield H3({apiURI:this.config.apiURI,appId:this.config.appId,idToken:n,clientName:r,nonce:i,refreshToken:u});return yield this.changeCurrentUser(c.user),c})}joinRoom(t,n){let r=!1;this._rooms[t]||(r=!0,this._rooms[t]={isConnected:!1,error:void 0}),this._presence[t]=this._presence[t]||{};const i=this._presence[t].result;return n&&!i&&(this._presence[t].result=this._presence[t].result||{},this._presence[t].result.user=n,this._notifyPresenceSubs(t)),r&&this._tryJoinRoom(t,n),()=>{this._cleanupRoom(t)}}_cleanupRoom(t){var n,r,i,a;if(!(!((r=(n=this._presence[t])===null||n===void 0?void 0:n.handlers)===null||r===void 0)&&r.length)&&!Object.keys((i=this._broadcastSubs[t])!==null&&i!==void 0?i:{}).length){const l=(a=this._rooms[t])===null||a===void 0?void 0:a.isConnected;delete this._rooms[t],delete this._presence[t],delete this._broadcastSubs[t],l?this._tryLeaveRoom(t):this._roomsPendingLeave[t]=!0}}getPresence(t,n,r={}){const i=this._rooms[n],a=this._presence[n];return!i||!a||!a.result?null:Object.assign(Object.assign({},X3(a.result,r,this._sessionId)),{isLoading:!i.isConnected,error:i.error})}publishPresence(t,n,r){const i=this._rooms[n],a=this._presence[n];if(!i||!a)return;a.result=a.result||{};const l=Object.assign(Object.assign({},a.result.user),r);a.result.user=l,i.isConnected&&(this._trySetPresence(n,l),this._notifyPresenceSubs(n))}_trySetPresence(t,n){this._trySendAuthed(Qt(),{op:"set-presence","room-id":t,data:n})}_tryJoinRoom(t,n){this._trySendAuthed(Qt(),{op:"join-room","room-id":t,data:n}),delete this._roomsPendingLeave[t]}_tryLeaveRoom(t){this._trySendAuthed(Qt(),{op:"leave-room","room-id":t})}_trySetRoomConnected(t,n){const r=this._rooms[t];r&&(r.isConnected=n)}subscribePresence(t,n,r,i){const a=this.joinRoom(n,r.initialPresence||r.initialData),l=Object.assign(Object.assign({},r),{roomId:n,cb:i,prev:null});return this._presence[n]=this._presence[n]||{},this._presence[n].handlers=this._presence[n].handlers||[],this._presence[n].handlers.push(l),this._notifyPresenceSub(n,l),()=>{var u,c,d;this._presence[n].handlers=(d=(c=(u=this._presence[n])===null||u===void 0?void 0:u.handlers)===null||c===void 0?void 0:c.filter(h=>h!==l))!==null&&d!==void 0?d:[],a()}}_notifyPresenceSubs(t){var n,r;(r=(n=this._presence[t])===null||n===void 0?void 0:n.handlers)===null||r===void 0||r.forEach(i=>{this._notifyPresenceSub(t,i)})}_notifyPresenceSub(t,n){const r=this.getPresence("",t,n);r&&(n.prev&&!Q3(r,n.prev)||(n.prev=r,n.cb(r)))}_patchPresencePeers(t,n){var r,i,a;const l=((i=(r=this._presence[t])===null||r===void 0?void 0:r.result)===null||i===void 0?void 0:i.peers)||{};let u=Object.fromEntries(Object.entries(l).map(([d,h])=>[d,{data:h}]));(a=this._presence[t])===null||a===void 0||a.result;const c=th(u,d=>{for(let[h,m,y]of n)switch(m){case"+":N$(d,h,y);break;case"r":hA(d,h,y);break;case"-":fI(d,h);break}delete d[this._sessionId]});this._setPresencePeers(t,c)}_setPresencePeers(t,n){const r=Object.assign({},n);delete r[this._sessionId];const i=Object.fromEntries(Object.entries(r).map(([a,l])=>[a,l.data]));this._presence=th(this._presence,a=>{hA(a,[t,"result","peers"],i)})}publishTopic({roomType:t,roomId:n,topic:r,data:i}){var a;const l=this._rooms[n];if(l){if(!l.isConnected){this._broadcastQueue[n]=(a=this._broadcastQueue[n])!==null&&a!==void 0?a:[],this._broadcastQueue[n].push({topic:r,roomType:t,data:i});return}this._tryBroadcast(n,t,r,i)}}_tryBroadcast(t,n,r,i){this._trySendAuthed(Qt(),{op:"client-broadcast","room-id":t,roomType:n,topic:r,data:i})}subscribeTopic(t,n,r){const i=this.joinRoom(t);return this._broadcastSubs[t]=this._broadcastSubs[t]||{},this._broadcastSubs[t][n]=this._broadcastSubs[t][n]||[],this._broadcastSubs[t][n].push(r),this._presence[t]=this._presence[t]||{},()=>{this._broadcastSubs[t][n]=this._broadcastSubs[t][n].filter(a=>a!==r),this._broadcastSubs[t][n].length||delete this._broadcastSubs[t][n],i()}}_notifyBroadcastSubs(t,n,r){var i,a,l;(l=(a=(i=this._broadcastSubs)===null||i===void 0?void 0:i[t])===null||a===void 0?void 0:a[n])===null||l===void 0||l.forEach(u=>{var c,d,h,m,y,_;const T=(c=r.data)===null||c===void 0?void 0:c.data,w=r.data["peer-id"]===this._sessionId?(h=(d=this._presence[t])===null||d===void 0?void 0:d.result)===null||h===void 0?void 0:h.user:(_=(y=(m=this._presence[t])===null||m===void 0?void 0:m.result)===null||y===void 0?void 0:y.peers)===null||_===void 0?void 0:_[r.data["peer-id"]];return u(T,w)})}uploadFile(t,n,r){return kt(this,void 0,void 0,function*(){var i;const a=yield this.getCurrentUser(),l=(i=a?.user)===null||i===void 0?void 0:i.refresh_token;return V3(Object.assign(Object.assign({},r),{apiURI:this.config.apiURI,appId:this.config.appId,path:t,file:n,refreshToken:l}))})}deleteFile(t){return kt(this,void 0,void 0,function*(){var n;const r=yield this.getCurrentUser(),i=(n=r?.user)===null||n===void 0?void 0:n.refresh_token;return yield K3({apiURI:this.config.apiURI,appId:this.config.appId,path:t,refreshToken:i})})}upload(t,n){return kt(this,void 0,void 0,function*(){var r;const i=yield this.getCurrentUser(),a=(r=i?.user)===null||r===void 0?void 0:r.refresh_token,l=t||n.name,u=yield Y3({apiURI:this.config.apiURI,appId:this.config.appId,fileName:l,refreshToken:a});return yield W3(u,n)})}getDownloadUrl(t){return kt(this,void 0,void 0,function*(){var n;const r=yield this.getCurrentUser(),i=(n=r?.user)===null||n===void 0?void 0:n.refresh_token;return yield J3({apiURI:this.config.apiURI,appId:this.config.appId,path:t,refreshToken:i})})}}let _d;function NF(e,t){_d?.dispose();const n=LF(t),r=DF(t,u),i=IF(OF(e));function a(h){var m;h.source===i.element.contentWindow&&((m=h.data)===null||m===void 0?void 0:m.type)==="close"&&n.isVisible()&&u()}function l(h){const m=h.shiftKey&&h.ctrlKey&&h.key==="0",y=h.key==="Escape"||h.key==="Esc";(m||y&&n.isVisible())&&u()}function u(){n.isVisible()?n.element.style.display="none":(n.element.style.display="block",n.element.contains(i.element)||n.element.appendChild(i.element))}function c(){n.element.remove(),r.element.remove(),removeEventListener("keydown",l),removeEventListener("message",a)}function d(){document.body.appendChild(n.element),document.body.appendChild(r.element),addEventListener("keydown",l),addEventListener("message",a),_d={dispose:c}}return d()}function OF(e){return`${u_||kI?"http://localhost:3000":"https://instantdb.com"}/_devtool?appId=${e}`}function IF(e){const t=document.createElement("iframe");return t.src=e,t.className="instant-devtool-iframe",Object.assign(t.style,{width:"100%",height:"100%",backgroundColor:"white",border:"none"}),{element:t}}function DF(e,t){const n=`
    <svg width="32" height="32" viewBox="0 0 512 512" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="512" height="512" fill="black"/>
      <rect x="97.0973" y="91.3297" width="140" height="330" fill="white"/>
    </svg>
  `,r=document.createElement("button");return r.innerHTML=n,r.className="instant-devtool-toggler",Object.assign(r.style,Object.assign(Object.assign({position:"fixed"},RF(e.position)),{height:"32px",width:"32px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:"9010",padding:"0",margin:"0",border:"none",cursor:"pointer"})),r.addEventListener("click",t),{element:r}}function RF(e){switch(e){case"bottom-left":return{bottom:"24px",left:"24px"};case"bottom-right":return{bottom:"24px",right:"24px"};case"top-right":return{top:"24px",right:"24px"};case"top-left":return{top:"24px",left:"24px"}}}function kF(e){switch(e){case"bottom-left":return{bottom:"24px",right:"24px",left:"60px",top:"72px"};case"bottom-right":return{bottom:"24px",left:"24px",right:"60px",top:"72px"};case"top-right":return{top:"24px",left:"24px",right:"60px",bottom:"72px"};case"top-left":return{top:"24px",right:"24px",left:"60px",bottom:"72px"}}}function LF(e){const t=document.createElement("div");Object.assign(t.style,Object.assign(Object.assign({position:"fixed"},kF(e.position)),{display:"block",borderRadius:"4px",border:"1px #ccc solid",boxShadow:"0px 0px 8px #00000044",backgroundColor:"#eee",zIndex:"999990"})),t.style.display="none",t.className="instant-devtool-container";function n(){return t.style.display!=="none"}return{element:t,isVisible:n}}const UF={apiURI:"https://api.instantdb.com",websocketURI:"wss://api.instantdb.com/runtime/session"};function jF(){var e;return globalThis.__instantDbSchemaHashStore=(e=globalThis.__instantDbSchemaHashStore)!==null&&e!==void 0?e:new WeakMap,globalThis.__instantDbSchemaHashStore}function qF(){var e;return globalThis.__instantDbStore=(e=globalThis.__instantDbStore)!==null&&e!==void 0?e:{},globalThis.__instantDbStore}function A0(e){const t=e.__adminToken;return e.appId+"_"+(e.websocketURI||"default_ws_uri")+"_"+(e.apiURI||"default_api_uri")+"_"+(t||"client_only")+"_"+e.useDateObjects}const C0=qF(),FA=jF();class zF{constructor(t){this.db=t,this.sendMagicCode=n=>this.db.sendMagicCode(n),this.signInWithMagicCode=n=>this.db.signInWithMagicCode(n),this.signInWithToken=n=>this.db.signInWithCustomToken(n),this.signInAsGuest=()=>this.db.signInAsGuest(),this.createAuthorizationURL=n=>this.db.createAuthorizationURL(n),this.signInWithIdToken=n=>this.db.signInWithIdToken(n),this.exchangeOAuthCode=n=>this.db.exchangeCodeForToken(n),this.issuerURI=()=>this.db.issuerURI(),this.signOut=(n={invalidateToken:!0})=>this.db.signOut(n)}}class $F{constructor(t){this.db=t,this.uploadFile=(n,r,i={})=>this.db.uploadFile(n,r,i),this.delete=n=>this.db.deleteFile(n),this.upload=(n,r)=>this.db.upload(n,r),this.put=this.upload,this.getDownloadUrl=n=>this.db.getDownloadUrl(n)}}function BF(e){return JSON.parse(JSON.stringify(e))}class FF{constructor(t){this.tx=l_(),this._reactor=t,this.auth=new zF(this._reactor),this.storage=new $F(this._reactor)}transact(t){return this._reactor.pushTx(t)}getLocalId(t){return this._reactor.getLocalId(t)}subscribeQuery(t,n,r){return this._reactor.subscribeQuery(t,n,r)}subscribeAuth(t){return this._reactor.subscribeAuth(t)}getAuth(){return this._reactor.getAuth()}subscribeConnectionStatus(t){return this._reactor.subscribeConnectionStatus(t)}joinRoom(t="_defaultRoomType",n="_defaultRoomId",r){return{leaveRoom:this._reactor.joinRoom(n,r?.initialPresence),subscribeTopic:(a,l)=>this._reactor.subscribeTopic(n,a,l),subscribePresence:(a,l)=>this._reactor.subscribePresence(t,n,a,l),publishTopic:(a,l)=>this._reactor.publishTopic({roomType:t,roomId:n,topic:a,data:l}),publishPresence:a=>this._reactor.publishPresence(t,n,a),getPresence:a=>this._reactor.getPresence(t,n,a)}}shutdown(){delete C0[A0(this._reactor.config)],this._reactor.shutdown()}queryOnce(t,n){return this._reactor.queryOnce(t,n)}_syncTableExperimental(t,n){return this._reactor.subscribeTable(t,n)}}function HA(e){if(!e)return"0";const t=FA.get(e);if(t)return t;const n=un(e);return FA.set(e,n),n}function HF(e,t){return HA(e._reactor.config.schema)!==HA(t)}function GF(e,t,n,r,i){const a=C0[A0(e)];if(a)return HF(a,e.schema)&&a._reactor.updateSchema(e.schema),a;const l=new PF(Object.assign(Object.assign(Object.assign({},UF),e),{cardinalityInference:!!e.schema}),t||II,n||DI,Object.assign(Object.assign({},r||{}),{"@instantdb/core":c_}),i),u=new FF(l);return C0[A0(e)]=u,VF(e.appId,e.devtool),u}function VF(e,t){if(typeof window>"u"||typeof window.location>"u"||typeof document>"u"||typeof t=="boolean"&&!t)return;const n=Object.assign({position:"bottom-right",allowedHosts:["localhost"]},typeof t=="object"?t:{});n.allowedHosts.includes(window.location.hostname)&&NF(e,n)}const KF={isLoading:!0,data:void 0,pageInfo:void 0,error:void 0};function GA(e){return Object.assign({isLoading:!e,data:void 0,pageInfo:void 0,error:void 0},e||{})}function YF(e,t,n){t&&n&&"ruleParams"in n&&(t=Object.assign({$$ruleParams:n.ruleParams},t));const r=t?BF(t):null,i=un(r),a=x.useRef(GA(e._reactor.getPreviousResult(r))),l=x.useCallback(c=>(a.current=GA(e._reactor.getPreviousResult(r)),r?e.subscribeQuery(r,h=>{a.current=Object.assign({isLoading:!h,data:void 0,pageInfo:void 0,error:void 0},h),c()}):()=>{}),[i]);return{state:x.useSyncExternalStore(l,()=>a.current,()=>KF),query:r}}function WF(){const e=x.useRef(null);x.useEffect(()=>{n()},[]);function t(r,i){clearTimeout(e.current),e.current=setTimeout(i,r)}function n(){clearTimeout(e.current)}return{set:t,clear:n}}const JF=1e3;function XF(e,t,n){const r=x.useRef(n);r.current=n,x.useEffect(()=>e.core._reactor.subscribeTopic(e.id,t,(a,l)=>{r.current(a,l)}),[e.id,t])}function QF(e,t){return x.useEffect(()=>e.core._reactor.joinRoom(e.id),[e.id]),x.useCallback(r=>{e.core._reactor.publishTopic({roomType:e.type,roomId:e.id,topic:t,data:r})},[e.id,t])}function ZF(e,t={}){var n,r;const[i,a]=x.useState(()=>{var c;return(c=e.core._reactor.getPresence(e.type,e.id,t))!==null&&c!==void 0?c:{peers:{},isLoading:!0}});x.useEffect(()=>e.core._reactor.subscribePresence(e.type,e.id,t,d=>{a(d)}),[e.id,t.user,(n=t.peers)===null||n===void 0?void 0:n.join(),(r=t.keys)===null||r===void 0?void 0:r.join()]);const l=x.useCallback(c=>{e.core._reactor.publishPresence(e.type,e.id,c)},[e.type,e.id]);return x.useMemo(()=>Object.assign(Object.assign({},i),{publishPresence:l}),[i,l])}function eH(e,t,n){x.useEffect(()=>e.core._reactor.joinRoom(e.id,t),[e.id]),x.useEffect(()=>e.core._reactor.publishPresence(e.type,e.id,t),[e.type,e.id,n??JSON.stringify(t)])}function tH(e,t,n={}){const r=WF(),i=Ro.usePresence(e,{keys:[t]}),a=x.useMemo(()=>{var h;const m=e._core._reactor.getPresence(e.type,e.id);return n?.writeOnly?[]:Object.values((h=m?.peers)!==null&&h!==void 0?h:{}).filter(y=>y[t]===!0)},[n?.writeOnly,i]),l=x.useCallback(h=>{var m;e.core._reactor.publishPresence(e.type,e.id,{[t]:h}),h&&(n?.timeout===null||n?.timeout===0||r.set((m=n?.timeout)!==null&&m!==void 0?m:JF,()=>{e.core._reactor.publishPresence(e.type,e.id,{[t]:null})}))},[e.type,e.id,t,n?.timeout,r]),u=x.useCallback(h=>{const y=!(n?.stopOnEnter&&h.key==="Enter");l(y)},[n.stopOnEnter,l]),c=x.useCallback(()=>{l(!1)},[l]),d=x.useMemo(()=>({onKeyDown:u,onBlur:c}),[u,c]);return{active:a,setActive:l,inputProps:d}}const Ro={useTopicEffect:XF,usePublishTopic:QF,usePresence:ZF,useSyncPresence:eH,useTypingIndicator:tH};class nH{constructor(t,n,r){this.useTopicEffect=(i,a)=>{Ro.useTopicEffect(this,i,a)},this.usePublishTopic=i=>Ro.usePublishTopic(this,i),this.usePresence=(i={})=>Ro.usePresence(this,i),this.useSyncPresence=(i,a)=>Ro.useSyncPresence(this,i,a),this.useTypingIndicator=(i,a={})=>Ro.useTypingIndicator(this,i,a),this.core=t,this._core=this.core,this.type=n,this.id=r}}var rH=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};const iH={isLoading:!0,user:void 0,error:void 0};class aH{constructor(t,n){this.tx=l_(),this.getLocalId=r=>this.core.getLocalId(r),this.useLocalId=r=>{const[i,a]=x.useState(null);return x.useEffect(()=>{rH(this,void 0,void 0,function*(){const u=yield this.getLocalId(r);a(u)})},[r]),i},this.rooms=Ro,this.transact=r=>this.core.transact(r),this.useQuery=(r,i)=>YF(this.core,r,i).state,this.useAuth=()=>{const r=x.useRef(this.core._reactor._currentUserCached),i=x.useCallback(l=>this.core.subscribeAuth(c=>{r.current=Object.assign({isLoading:!1},c),l()}),[]);return x.useSyncExternalStore(i,()=>r.current,()=>iH)},this.useUser=()=>{const{user:r}=this.useAuth();if(!r)throw new cl("useUser must be used within an auth-protected route");return r},this.useConnectionStatus=()=>{const r=x.useRef(this.core._reactor.status),i=x.useCallback(l=>this.core.subscribeConnectionStatus(c=>{c!==r.current&&(r.current=c,l())}),[]);return x.useSyncExternalStore(i,()=>r.current,()=>"connecting")},this.queryOnce=(r,i)=>this.core.queryOnce(r,i),this.SignedIn=({children:r})=>{const i=this.useAuth();return i.isLoading||i.error||!i.user?null:A.jsx(A.Fragment,{children:r})},this.SignedOut=({children:r})=>{const i=this.useAuth();return i.isLoading||i.error||i.user?null:A.jsx(A.Fragment,{children:r})},this.core=GF(t,this.constructor.Storage,this.constructor.NetworkListener,n,this.constructor.EventSourceImpl),this._core=this.core,this.auth=this.core.auth,this.storage=this.core.storage}room(t="_defaultRoomType",n="_defaultRoomId"){return new nH(this.core,t,n)}getAuth(){return this.core.getAuth()}}class VA extends Error{constructor(t,n){super(t),this.name="ParseError",this.type=n.type,this.field=n.field,this.value=n.value,this.line=n.line}}function xy(e){}function oH(e){if(typeof e=="function")throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent:t=xy,onError:n=xy,onRetry:r=xy,onComment:i}=e;let a="",l=!0,u,c="",d="";function h(w){const E=l?w.replace(/^\xEF\xBB\xBF/,""):w,[C,N]=sH(`${a}${E}`);for(const P of C)m(P);a=N,l=!1}function m(w){if(w===""){_();return}if(w.startsWith(":")){i&&i(w.slice(w.startsWith(": ")?2:1));return}const E=w.indexOf(":");if(E!==-1){const C=w.slice(0,E),N=w[E+1]===" "?2:1,P=w.slice(E+N);y(C,P,w);return}y(w,"",w)}function y(w,E,C){switch(w){case"event":d=E;break;case"data":c=`${c}${E}
`;break;case"id":u=E.includes("\0")?void 0:E;break;case"retry":/^\d+$/.test(E)?r(parseInt(E,10)):n(new VA(`Invalid \`retry\` value: "${E}"`,{type:"invalid-retry",value:E,line:C}));break;default:n(new VA(`Unknown field "${w.length>20?`${w.slice(0,20)}`:w}"`,{type:"unknown-field",field:w,value:E,line:C}));break}}function _(){c.length>0&&t({id:u,event:d||void 0,data:c.endsWith(`
`)?c.slice(0,-1):c}),u=void 0,c="",d=""}function T(w={}){a&&w.consume&&m(a),l=!0,u=void 0,c="",d="",a=""}return{feed:h,reset:T}}function sH(e){const t=[];let n="",r=0;for(;r<e.length;){const i=e.indexOf("\r",r),a=e.indexOf(`
`,r);let l=-1;if(i!==-1&&a!==-1?l=Math.min(i,a):i!==-1?i===e.length-1?l=-1:l=i:a!==-1&&(l=a),l===-1){n=e.slice(r);break}else{const u=e.slice(r,l);t.push(u),r=l+1,e[r-1]==="\r"&&e[r]===`
`&&r++}}return[t,n]}class KA extends Event{constructor(t,n){var r,i;super(t),this.code=(r=n?.code)!=null?r:void 0,this.message=(i=n?.message)!=null?i:void 0}[Symbol.for("nodejs.util.inspect.custom")](t,n,r){return r(YA(this),n)}[Symbol.for("Deno.customInspect")](t,n){return t(YA(this),n)}}function lH(e){const t=globalThis.DOMException;return typeof t=="function"?new t(e,"SyntaxError"):new SyntaxError(e)}function M0(e){return e instanceof Error?"errors"in e&&Array.isArray(e.errors)?e.errors.map(M0).join(", "):"cause"in e&&e.cause instanceof Error?`${e}: ${M0(e.cause)}`:e.message:`${e}`}function YA(e){return{type:e.type,message:e.message,code:e.code,defaultPrevented:e.defaultPrevented,cancelable:e.cancelable,timeStamp:e.timeStamp}}var FI=e=>{throw TypeError(e)},f_=(e,t,n)=>t.has(e)||FI("Cannot "+n),$e=(e,t,n)=>(f_(e,t,"read from private field"),n?n.call(e):t.get(e)),qt=(e,t,n)=>t.has(e)?FI("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),gt=(e,t,n,r)=>(f_(e,t,"write to private field"),t.set(e,n),n),$i=(e,t,n)=>(f_(e,t,"access private method"),n),zn,ko,Ks,Hd,ih,tc,Xs,nc,Ya,Ys,nl,Ws,Yu,Br,P0,N0,O0,WA,I0,D0,Wu,R0,k0;class rc extends EventTarget{constructor(t,n){var r,i;super(),qt(this,Br),this.CONNECTING=0,this.OPEN=1,this.CLOSED=2,qt(this,zn),qt(this,ko),qt(this,Ks),qt(this,Hd),qt(this,ih),qt(this,tc),qt(this,Xs),qt(this,nc,null),qt(this,Ya),qt(this,Ys),qt(this,nl,null),qt(this,Ws,null),qt(this,Yu,null),qt(this,N0,async a=>{var l;$e(this,Ys).reset();const{body:u,redirected:c,status:d,headers:h}=a;if(d===204){$i(this,Br,Wu).call(this,"Server sent HTTP 204, not reconnecting",204),this.close();return}if(c?gt(this,Ks,new URL(a.url)):gt(this,Ks,void 0),d!==200){$i(this,Br,Wu).call(this,`Non-200 status code (${d})`,d);return}if(!(h.get("content-type")||"").startsWith("text/event-stream")){$i(this,Br,Wu).call(this,'Invalid content type, expected "text/event-stream"',d);return}if($e(this,zn)===this.CLOSED)return;gt(this,zn,this.OPEN);const m=new Event("open");if((l=$e(this,Yu))==null||l.call(this,m),this.dispatchEvent(m),typeof u!="object"||!u||!("getReader"in u)){$i(this,Br,Wu).call(this,"Invalid response body, expected a web ReadableStream",d),this.close();return}const y=new TextDecoder,_=u.getReader();let T=!0;do{const{done:w,value:E}=await _.read();E&&$e(this,Ys).feed(y.decode(E,{stream:!w})),w&&(T=!1,$e(this,Ys).reset(),$i(this,Br,R0).call(this))}while(T)}),qt(this,O0,a=>{gt(this,Ya,void 0),!(a.name==="AbortError"||a.type==="aborted")&&$i(this,Br,R0).call(this,M0(a))}),qt(this,I0,a=>{typeof a.id=="string"&&gt(this,nc,a.id);const l=new MessageEvent(a.event||"message",{data:a.data,origin:$e(this,Ks)?$e(this,Ks).origin:$e(this,ko).origin,lastEventId:a.id||""});$e(this,Ws)&&(!a.event||a.event==="message")&&$e(this,Ws).call(this,l),this.dispatchEvent(l)}),qt(this,D0,a=>{gt(this,tc,a)}),qt(this,k0,()=>{gt(this,Xs,void 0),$e(this,zn)===this.CONNECTING&&$i(this,Br,P0).call(this)});try{if(t instanceof URL)gt(this,ko,t);else if(typeof t=="string")gt(this,ko,new URL(t,uH()));else throw new Error("Invalid URL")}catch{throw lH("An invalid or illegal string was specified")}gt(this,Ys,oH({onEvent:$e(this,I0),onRetry:$e(this,D0)})),gt(this,zn,this.CONNECTING),gt(this,tc,3e3),gt(this,ih,(r=n?.fetch)!=null?r:globalThis.fetch),gt(this,Hd,(i=n?.withCredentials)!=null?i:!1),$i(this,Br,P0).call(this)}get readyState(){return $e(this,zn)}get url(){return $e(this,ko).href}get withCredentials(){return $e(this,Hd)}get onerror(){return $e(this,nl)}set onerror(t){gt(this,nl,t)}get onmessage(){return $e(this,Ws)}set onmessage(t){gt(this,Ws,t)}get onopen(){return $e(this,Yu)}set onopen(t){gt(this,Yu,t)}addEventListener(t,n,r){const i=n;super.addEventListener(t,i,r)}removeEventListener(t,n,r){const i=n;super.removeEventListener(t,i,r)}close(){$e(this,Xs)&&clearTimeout($e(this,Xs)),$e(this,zn)!==this.CLOSED&&($e(this,Ya)&&$e(this,Ya).abort(),gt(this,zn,this.CLOSED),gt(this,Ya,void 0))}}zn=new WeakMap,ko=new WeakMap,Ks=new WeakMap,Hd=new WeakMap,ih=new WeakMap,tc=new WeakMap,Xs=new WeakMap,nc=new WeakMap,Ya=new WeakMap,Ys=new WeakMap,nl=new WeakMap,Ws=new WeakMap,Yu=new WeakMap,Br=new WeakSet,P0=function(){gt(this,zn,this.CONNECTING),gt(this,Ya,new AbortController),$e(this,ih)($e(this,ko),$i(this,Br,WA).call(this)).then($e(this,N0)).catch($e(this,O0))},N0=new WeakMap,O0=new WeakMap,WA=function(){var e;const t={mode:"cors",redirect:"follow",headers:{Accept:"text/event-stream",...$e(this,nc)?{"Last-Event-ID":$e(this,nc)}:void 0},cache:"no-store",signal:(e=$e(this,Ya))==null?void 0:e.signal};return"window"in globalThis&&(t.credentials=this.withCredentials?"include":"same-origin"),t},I0=new WeakMap,D0=new WeakMap,Wu=function(e,t){var n;$e(this,zn)!==this.CLOSED&&gt(this,zn,this.CLOSED);const r=new KA("error",{code:t,message:e});(n=$e(this,nl))==null||n.call(this,r),this.dispatchEvent(r)},R0=function(e,t){var n;if($e(this,zn)===this.CLOSED)return;gt(this,zn,this.CONNECTING);const r=new KA("error",{code:t,message:e});(n=$e(this,nl))==null||n.call(this,r),this.dispatchEvent(r),gt(this,Xs,setTimeout($e(this,k0),$e(this,tc)))},k0=new WeakMap,rc.CONNECTING=0,rc.OPEN=1,rc.CLOSED=2;Object.defineProperty(rc,Symbol.for("eventsource.supports-fetch-override"),{value:!0,writable:!1,configurable:!1,enumerable:!1});function uH(){const e="document"in globalThis?globalThis.document:void 0;return e&&typeof e=="object"&&"baseURI"in e&&typeof e.baseURI=="string"?e.baseURI:void 0}class HI extends aH{}HI.EventSourceImpl=rc;function cH(e){return new HI(e,{"@instantdb/react":c_})}const fH="fb13a3d0-35ab-493b-9aa6-64a77363fe93",be=cH({appId:fH}),ah={calories_min:1600,calories_max:2e3,purines_min:0,purines_max:400,protein_target:50,carbs_target:250,fat_target:65,fiber_target:25,sodium_max:2300,sugar_max:50,hydration_target:2e3},Bi={calories:{icon:"",unit:"kcal",label:"Calories"},purines:{icon:"",unit:"mg",label:"Purines"},protein:{icon:"",unit:"g",label:"Protein"},carbs:{icon:"",unit:"g",label:"Carbs"},fat:{icon:"",unit:"g",label:"Fat"},fiber:{icon:"",unit:"g",label:"Fiber"},sodium:{icon:"",unit:"mg",label:"Sodium"},sugar:{icon:"",unit:"g",label:"Sugar"},hydration:{icon:"",unit:"ml",label:"Water"}};function dH(e,t,n,r){const i=10*e+6.25*t-5*n;return r==="male"?i+5:i-161}const hH={sedentary:1.2,light:1.375,moderate:1.55,active:1.725,very_active:1.9};function pH(e,t,n,r,i){const a=dH(e,t,n,r),l=hH[i]||1.55;return Math.round(a*l)}function mH(e=[]){return e.includes("kidney_disease")?150:e.includes("gout")?200:400}function gH(e,t){const n=e*30;return Math.round(n+({sedentary:0,light:200,moderate:400,active:600,very_active:800}[t]||0))}function yH(e){const{weight_kg:t,height_cm:n,age:r,sex:i,activity_level:a,dietary_conditions:l=[]}=e,u=pH(t,n,r,i,a),c=mH(l),d=gH(t,a),m=Math.round(t*({sedentary:.8,light:.9,moderate:1,active:1.2,very_active:1.4}[a]||1));let y=.5;l.includes("diabetes")&&(y=.4);const _=Math.round(u*y/4),T=Math.round(u*.275/9);let w=i==="female"?25:38;r>50&&(w=i==="female"?21:30);let E=2300;l.includes("kidney_disease")&&(E=1500);let C=i==="female"?25:36;return(l.includes("diabetes")||l.includes("gout"))&&(C=Math.round(C*.6)),{calories_min:Math.round(u*.85),calories_max:u,purines_min:0,purines_max:c,protein_target:m,carbs_target:_,fat_target:T,fiber_target:w,sodium_max:E,sugar_max:C,hydration_target:d}}function vH(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function L0(){return vH(new Date)}function bH(e){e=e.replace(/^#/,"");const t=parseInt(e.substring(0,2),16)/255,n=parseInt(e.substring(2,4),16)/255,r=parseInt(e.substring(4,6),16)/255,i=Math.max(t,n,r),a=Math.min(t,n,r);let l,u,c=(i+a)/2;if(i===a)l=u=0;else{const d=i-a;switch(u=c>.5?d/(2-i-a):d/(i+a),i){case t:l=((n-r)/d+(n<r?6:0))/6;break;case n:l=((r-t)/d+2)/6;break;case r:l=((t-n)/d+4)/6;break}}return{h:Math.round(l*360),s:Math.round(u*100),l:Math.round(c*100)}}function Wt(e,t,n){t/=100,n/=100;const r=(1-Math.abs(2*n-1))*t,i=r*(1-Math.abs(e/60%2-1)),a=n-r/2;let l=0,u=0,c=0;return 0<=e&&e<60?(l=r,u=i,c=0):60<=e&&e<120?(l=i,u=r,c=0):120<=e&&e<180?(l=0,u=r,c=i):180<=e&&e<240?(l=0,u=i,c=r):240<=e&&e<300?(l=i,u=0,c=r):300<=e&&e<360&&(l=r,u=0,c=i),l=Math.round((l+a)*255).toString(16).padStart(2,"0"),u=Math.round((u+a)*255).toString(16).padStart(2,"0"),c=Math.round((c+a)*255).toString(16).padStart(2,"0"),`#${l}${u}${c}`}function Lo(e,t=!1){const n=bH(e);return t?{primary:e,primaryLight:Wt(n.h,n.s*.8,Math.min(n.l+15,80)),primaryDark:Wt(n.h,n.s,Math.max(n.l-15,20)),background:Wt(n.h,n.s*.2,12),surface:Wt(n.h,n.s*.15,18),surfaceVariant:Wt(n.h,n.s*.2,25),secondary:Wt((n.h+180)%360,n.s*.7,60),text:Wt(n.h,n.s*.1,95),textSecondary:Wt(n.h,n.s*.15,70),border:Wt(n.h,n.s*.2,30),success:"#66BB6A",warning:"#FFA726",danger:"#EF5350"}:{primary:e,primaryLight:Wt(n.h,n.s*.6,Math.min(n.l+20,90)),primaryDark:Wt(n.h,n.s,Math.max(n.l-20,30)),background:Wt(n.h,n.s*.3,97),surface:Wt(n.h,n.s*.1,100),surfaceVariant:Wt(n.h,n.s*.2,95),secondary:Wt((n.h+180)%360,n.s*.7,n.l),text:Wt(n.h,n.s*.5,15),textSecondary:Wt(n.h,n.s*.3,40),border:Wt(n.h,n.s*.2,85),success:"#66BB6A",warning:"#FFA726",danger:"#EF5350"}}const ic={emerald:{name:"Emerald Dragon",description:"Bright, cheerful, default",seedColor:"#66BB6A",isDark:!1},midnight:{name:"Midnight Dragon",description:"Sleek, easy on eyes",seedColor:"#7B2CBF",isDark:!0},crystal:{name:"Crystal Dragon",description:"High contrast, accessible",seedColor:"#2196F3",isDark:!1}};function Uo(e){const t=document.documentElement;Object.entries(e).forEach(([n,r])=>{const i=`--color-${n.replace(/([A-Z])/g,"-$1").toLowerCase()}`;t.style.setProperty(i,r)})}function _H(e,t,n){return e>n?"danger":e>n*.8||t&&e<t*.8?"warning":"success"}const GI=x.createContext(null),Lu={id:"local-user",name:"Dragon Keeper",profile:{sex:"male",age:30,weight_kg:75,height_cm:175,activity_level:"moderate",dietary_conditions:[]},thresholds:ah,theme:{preset:"emerald",seed_color_hex:"#66BB6A"},badges:[],stats:{total_meals_logged:0,current_streak_days:0,longest_streak_days:0,meals_saved_to_stash:0}};function SH({children:e}){const[t,n]=x.useState(null),[r,i]=x.useState(!0),[a,l]=x.useState(!1),{isLoading:u,error:c,data:d}=be.useQuery({users:{}});x.useEffect(()=>{if(!u){if(d?.users&&d.users.length>0){const N=d.users[0];if(n({...Lu,...N,profile:{...Lu.profile,...N.profile},thresholds:{...Lu.thresholds,...N.thresholds},theme:{...Lu.theme,...N.theme}}),l(!0),N.theme?.preset){const P=ic[N.theme.preset];if(P){const D=Lo(P.seedColor,P.isDark);Uo(D)}else if(N.theme.seed_color_hex){const D=Lo(N.theme.seed_color_hex,!1);Uo(D)}}h(N.id)}else{n(Lu),l(!1);const N=ic.emerald,P=Lo(N.seedColor,N.isDark);Uo(P)}i(!1)}},[u,d]);const h=async N=>{if(!(!N||N==="local-user"))try{const P=await be.queryOnce({meals:{$:{where:{user_id:"local-user"}}},hydration:{$:{where:{user_id:"local-user"}}},customItems:{$:{where:{user_id:"local-user"}}},ingredientLibrary:{$:{where:{user_id:"local-user"}}}}),D=[];if(P.data?.meals?.length>0){for(const O of P.data.meals)D.push(be.tx.meals[O.id].update({user_id:N}));console.log(` Migrating ${P.data.meals.length} orphaned meals`)}if(P.data?.hydration?.length>0){for(const O of P.data.hydration)D.push(be.tx.hydration[O.id].update({user_id:N}));console.log(` Migrating ${P.data.hydration.length} orphaned hydration records`)}if(P.data?.customItems?.length>0){for(const O of P.data.customItems)D.push(be.tx.customItems[O.id].update({user_id:N}));console.log(` Migrating ${P.data.customItems.length} orphaned stash items`)}if(P.data?.ingredientLibrary?.length>0){for(const O of P.data.ingredientLibrary)O.id&&D.push(be.tx.ingredientLibrary[O.id].update({user_id:N}));console.log(` Migrating ${P.data.ingredientLibrary.length} orphaned cached ingredients`)}D.length>0&&(await be.transact(D),console.log(` Migration complete! Moved ${D.length} records to user ${N}`))}catch(P){console.error("Migration failed:",P)}},m=async N=>{const P={...t,profile:{...t.profile,...N}};n(P),t.id&&t.id!=="local-user"&&await be.transact([be.tx.users[t.id].update({profile:P.profile})])},y=async N=>{const P={...t,thresholds:{...t.thresholds,...N}};n(P),t.id&&t.id!=="local-user"&&await be.transact([be.tx.users[t.id].update({thresholds:P.thresholds})])},_=async N=>{const P={...t.stats,...N},D={...t,stats:P};n(D),t.id&&t.id!=="local-user"&&await be.transact([be.tx.users[t.id].update({stats:P})])},C={user:t,isLoading:r||u,isAuthenticated:a,error:c,updateProfile:m,updateThresholds:y,updateStats:_,incrementStat:async(N,P=1)=>{const D=t.stats?.[N]||0;await _({[N]:D+P})},updateTheme:async(N,P=null)=>{const D={preset:N,seed_color_hex:P||t.theme.seed_color_hex},O={...t,theme:D};if(n(O),N==="custom"&&P){const R=Lo(P,!1);Uo(R)}else{const R=ic[N];if(R){const k=Lo(R.seedColor,R.isDark);Uo(k)}}t.id&&t.id!=="local-user"&&await be.transact([be.tx.users[t.id].update({theme:D})])},saveUser:async(N=null)=>{const P=N||t;if(t.id==="local-user"){const D=crypto.randomUUID(),O={...P,id:D},R=await be.queryOnce({meals:{$:{where:{user_id:"local-user"}}},hydration:{$:{where:{user_id:"local-user"}}},customItems:{$:{where:{user_id:"local-user"}}},ingredientLibrary:{$:{where:{user_id:"local-user"}}}}),k=[be.tx.users[D].update({id:D,name:O.name,profile:O.profile,thresholds:O.thresholds,theme:O.theme,badges:O.badges||[],stats:O.stats||{},created_at:Date.now()})];if(R.data?.meals){for(const q of R.data.meals)k.push(be.tx.meals[q.id].update({user_id:D}));console.log(`Migrating ${R.data.meals.length} meals to user ${D}`)}if(R.data?.hydration){for(const q of R.data.hydration)k.push(be.tx.hydration[q.id].update({user_id:D}));console.log(`Migrating ${R.data.hydration.length} hydration records to user ${D}`)}if(R.data?.customItems){for(const q of R.data.customItems)k.push(be.tx.customItems[q.id].update({user_id:D}));console.log(`Migrating ${R.data.customItems.length} stash items to user ${D}`)}if(R.data?.ingredientLibrary){for(const q of R.data.ingredientLibrary)k.push(be.tx.ingredientLibrary[q.id].update({user_id:D}));console.log(`Migrating ${R.data.ingredientLibrary.length} cached ingredients to user ${D}`)}return await be.transact(k),n(O),l(!0),D}else return await be.transact([be.tx.users[t.id].update({name:P.name,profile:P.profile,thresholds:P.thresholds,theme:P.theme,updated_at:Date.now()})]),t.id},setUser:n};return A.jsx(GI.Provider,{value:C,children:e})}function ha(){const e=x.useContext(GI);if(!e)throw new Error("useUser must be used within a UserProvider");return e}const TH=[{path:"/",icon:"",label:"Diary"},{path:"/charts",icon:"",label:"Scroll"},{path:"/oracle",icon:"",label:"Oracle"},{path:"/settings",icon:"",label:"Lair"}];function EH(){return A.jsx("nav",{className:"nav-bar",children:TH.map(e=>A.jsxs(tI,{to:e.path,className:({isActive:t})=>`nav-item ${t?"active":""}`,children:[A.jsx("span",{className:"nav-icon",children:e.icon}),A.jsx("span",{className:"nav-label",children:e.label})]},e.path))})}function na({title:e,subtitle:t,action:n,showBack:r,onBack:i}){return A.jsx("header",{className:"header",children:A.jsxs("div",{className:"header-content",children:[r&&A.jsx("button",{className:"header-back",onClick:i,"aria-label":"Go back",children:""}),A.jsxs("div",{className:"header-title-group",children:[A.jsxs("h1",{className:"header-title",children:[A.jsx("span",{className:"header-dragon",children:""})," ",e]}),t&&A.jsx("p",{className:"header-subtitle",children:t})]}),n&&A.jsx("div",{className:"header-action",children:n})]})})}function qi({nutrient:e,value:t,target:n,min:r=0,max:i,showLabel:a=!0,compact:l=!1}){const u=Bi[e]||{icon:"",unit:"",label:e},c=i||n,d=Math.min(t/c*100,100),h=_H(t,r,c);return A.jsxs("div",{className:`nutrient-progress ${l?"compact":""}`,children:[a&&A.jsxs("div",{className:"nutrient-header",children:[A.jsxs("span",{className:"nutrient-label",children:[A.jsx("span",{className:"nutrient-icon",children:u.icon}),A.jsx("span",{className:"nutrient-name",children:u.label})]}),A.jsxs("span",{className:"nutrient-value",children:[A.jsx("span",{className:"current",children:Math.round(t)}),A.jsx("span",{className:"separator",children:"/"}),A.jsx("span",{className:"target",children:Math.round(c)}),A.jsx("span",{className:"unit",children:u.unit})]})]}),A.jsx("div",{className:"progress-bar",children:A.jsx("div",{className:`progress-bar-fill ${h}`,style:{width:`${d}%`}})}),!l&&A.jsxs("div",{className:"nutrient-footer",children:[A.jsxs("span",{className:`status-indicator ${h}`,children:[h==="success"&&"",h==="warning"&&"",h==="danger"&&""]}),A.jsxs("span",{className:"percentage",children:[Math.round(d),"%"]})]})]})}const JA={curious:{emoji:"",animation:"sniff",message:"Your dragon is looking for food..."},happy:{emoji:"",animation:"bounce",message:"Your dragon is happy!"},satisfied:{emoji:"",animation:"pulse",message:"Your dragon is satisfied and content."},stuffed:{emoji:"",animation:"wobble",message:"Your dragon ate too much!"},sick:{emoji:"",animation:"shake",message:"Your dragon isn't feeling well..."},celebrating:{emoji:"",animation:"celebrate",message:"Your dragon is celebrating! "},hoarding:{emoji:"",animation:"hoard",message:"Saved to your dragon's hoard!"}};function oh({state:e="happy",showMessage:t=!0,size:n="medium"}){const r=JA[e]||JA.happy;return A.jsxs("div",{className:`ember-mascot ${n}`,children:[A.jsxs("div",{className:`ember-emoji ${r.animation}`,children:[r.emoji,e==="sick"&&A.jsx("span",{className:"ember-effect",children:""}),e==="celebrating"&&A.jsx("span",{className:"ember-effect",children:""}),e==="happy"&&A.jsx("span",{className:"ember-effect",children:""})]}),t&&A.jsx("p",{className:"ember-message",children:r.message})]})}function wH(e,t){if(!e||!t)return"curious";const n=e.calories/t.calories_max,r=e.purines/t.purines_max;return r>1?"sick":n>1?"stuffed":r>.8||n>.8?"satisfied":e.calories===0?"curious":"happy"}const sh=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`},XA={breakfast:1,lunch:2,dinner:3,snack:4,hydration:5};function fp(e=null){const{user:t}=ha(),n=t?.id,{isLoading:r,error:i,data:a}=be.useQuery(n?{meals:{}}:null),u=(a?.meals||[]).filter(w=>!(w.user_id!==n||e&&w.date!==e));return{meals:x.useMemo(()=>[...u].sort((w,E)=>{const C=XA[w.meal_type]||99,N=XA[E.meal_type]||99;return C-N}),[u]),isLoading:r,error:i,addMeal:async w=>{if(!n)return null;const E=crypto.randomUUID(),C={id:E,user_id:n,date:w.date||sh(),timestamp:Date.now(),meal_type:w.meal_type||"snack",meal_name:w.meal_name||"Unnamed Meal",ingredients:w.ingredients||[],total_nutrients:w.total_nutrients||{},hydration_ml:w.hydration_ml||0,image_urls:w.image_urls||[],analysis_method:w.analysis_method||"manual"};return await be.transact([be.tx.meals[E].update(C)]),E},updateMeal:async(w,E)=>{await be.transact([be.tx.meals[w].update({...E,updated_at:Date.now()})])},deleteMeal:async w=>{await be.transact([be.tx.meals[w].delete()])},getDailyTotals:(w=e||sh())=>u.filter(N=>N.date===w).reduce((N,P)=>(P.total_nutrients&&Object.keys(P.total_nutrients).forEach(D=>{N[D]=(N[D]||0)+(P.total_nutrients[D]||0)}),N.hydration=(N.hydration||0)+(P.hydration_ml||0),N),{}),getMealCount:()=>u.length,getUniqueDates:()=>{const w=new Set(u.map(E=>E.date));return Array.from(w).sort()}}}function dp(){const{user:e}=ha(),t=e?.id,{isLoading:n,data:r}=be.useQuery({meals:{}}),a=(r?.meals||[]).filter(u=>u.user_id===t),l=()=>{if(a.length===0)return 0;const u=[...new Set(a.map(y=>y.date))].sort().reverse();if(u.length===0)return 0;const c=sh(),d=(()=>{const y=new Date;return y.setDate(y.getDate()-1),`${y.getFullYear()}-${String(y.getMonth()+1).padStart(2,"0")}-${String(y.getDate()).padStart(2,"0")}`})();if(u[0]!==c&&u[0]!==d)return 0;let h=0,m=new Date(u[0]+"T00:00:00");for(const y of u){const _=new Date(y+"T00:00:00");if(Math.round((m-_)/(1e3*60*60*24))===0)h++,m.setDate(m.getDate()-1);else break}return h};return{meals:a,isLoading:n,totalMeals:a.length,calculateStreak:l}}function VI(e=sh()){const{user:t}=ha(),n=t?.id,{isLoading:r,data:i}=be.useQuery(n?{hydration:{$:{where:{user_id:n,date:e}}}}:null),l=(i?.hydration||[])[0],u=l?.amount_ml||0,c=async h=>{if(n)if(l)await be.transact([be.tx.hydration[l.id].update({amount_ml:Math.max(0,h),updated_at:Date.now()})]);else{const m=crypto.randomUUID();await be.transact([be.tx.hydration[m].update({id:m,user_id:n,date:e,amount_ml:Math.max(0,h),created_at:Date.now(),updated_at:Date.now()})])}};return{totalHydration:u,isLoading:r,setHydration:c,adjustHydration:async h=>{if(!n)return;const m=Math.max(0,u+h);await c(m)}}}function d_(){const{user:e}=ha(),t=e?.id,{isLoading:n,error:r,data:i}=be.useQuery(t?{customItems:{$:{where:{user_id:t}}}}:null),a=i?.customItems||[],l=a.filter(y=>y.type==="meal"),u=a.filter(y=>y.type==="ingredient"),c=a.filter(y=>y.type==="container");return{savedMeals:l,customIngredients:u,bottles:c,items:a,isLoading:n,error:r,addToStash:async y=>{if(!t)return null;const _=crypto.randomUUID();return await be.transact([be.tx.customItems[_].update({id:_,user_id:t,type:y.type,name:y.name,icon:y.icon||null,ingredients:y.ingredients||[],total_nutrients:y.total_nutrients||{},capacity_ml:y.capacity_ml||0,use_count:y.use_count||0,created_at:Date.now()})]),_},removeFromStash:async y=>{await be.transact([be.tx.customItems[y].delete()])},updateStashItem:async(y,_)=>{await be.transact([be.tx.customItems[y].update({..._,updated_at:Date.now()})])}}}function h_(){const{user:e}=ha(),t=e?.id,{isLoading:n,data:r}=be.useQuery({ingredientLibrary:{},meals:{}}),i=(r?.ingredientLibrary||[]).filter(E=>!E.user_id||E.user_id===t),a=(r?.meals||[]).filter(E=>E.user_id===t),l=E=>{const C=Po(E);return i.find(N=>N.normalized_name===C)},u=async E=>{const C=Po(E.name),N=i.find(D=>D.normalized_name===C);if(N)return await be.transact([be.tx.ingredientLibrary[N.id].update({nutrients_per_100g:E.nutrients_per_100g,use_count:(N.use_count||0)+1,last_used:Date.now()})]),C;const P=crypto.randomUUID();return await be.transact([be.tx.ingredientLibrary[P].update({normalized_name:C,display_name:E.name,nutrients_per_100g:E.nutrients_per_100g,user_id:t,use_count:1,last_used:Date.now(),source:E.source||"manual"})]),C},c=async E=>{const C=i.find(N=>N.normalized_name===E);C&&C.id&&await be.transact([be.tx.ingredientLibrary[C.id].update({use_count:(C.use_count||0)+1,last_used:Date.now()})])},d=async(E,C)=>{const N=i.find(P=>P.normalized_name===E);if(!N||!N.id){console.warn(`Ingredient not found: ${E}`);return}await be.transact([be.tx.ingredientLibrary[N.id].update({...C,updated_at:Date.now()})])},h=async E=>{const C=i.find(N=>N.normalized_name===E);if(!C||!C.id){console.warn(`Ingredient not found for deletion: ${E}`);return}await be.transact([be.tx.ingredientLibrary[C.id].delete()])},m=(E,C=null)=>a.filter(N=>{if(C){const P=new Date(N.date),D=new Date;if(C==="week"){const O=new Date(D);if(O.setDate(O.getDate()-7),P<O)return!1}else if(C==="month"){const O=new Date(D);if(O.setMonth(O.getMonth()-1),P<O)return!1}}return!N.ingredients||!Array.isArray(N.ingredients)?!1:N.ingredients.some(P=>Po(P.name||"")===E)});return{ingredients:i,allMeals:a,isLoading:n,lookupIngredient:l,addIngredient:u,recordUsage:c,updateIngredient:d,deleteIngredient:h,findMealsWithIngredient:m,propagateToMeals:async(E,C,N=null)=>{const P=m(E,N);if(P.length===0)return{updated:0};const D=[];for(const O of P){const R=O.ingredients.map(q=>{if(Po(q.name||"")===E){const $=(q.grams||q.quantity_g||100)/100;return{...q,nutrients_per_100g:C,nutrients:{calories:Math.round((C.calories||0)*$),purines:Math.round((C.purines||0)*$),protein:Math.round((C.protein||0)*$*10)/10,carbs:Math.round((C.carbs||0)*$*10)/10,fat:Math.round((C.fat||0)*$*10)/10,fiber:Math.round((C.fiber||0)*$*10)/10,sodium:Math.round((C.sodium||0)*$),sugar:Math.round((C.sugar||0)*$*10)/10}}}return q}),k=R.reduce((q,G)=>(G.nutrients&&Object.keys(G.nutrients).forEach(H=>{q[H]=(q[H]||0)+(G.nutrients[H]||0)}),q),{});D.push(be.tx.meals[O.id].update({ingredients:R,total_nutrients:k,updated_at:Date.now()}))}return await be.transact(D),{updated:P.length}},getIngredientUsageCount:E=>m(E).length,backfillFromMeals:async()=>{const E=new Set(i.map(N=>N.normalized_name)),C=new Map;for(const N of a){const P=N.ingredients||[];for(const D of P){if(!D.nutrients_per_100g)continue;const O=Po(D.name||D.display_name);!O||E.has(O)||(C.has(O)?C.get(O).count++:C.set(O,{displayName:D.name||D.display_name,nutrients:D.nutrients_per_100g,count:1}))}}if(C.size>0){const N=[];for(const[P,D]of C){const O=crypto.randomUUID();N.push(be.tx.ingredientLibrary[O].update({normalized_name:P,display_name:D.displayName,nutrients_per_100g:D.nutrients,user_id:t,use_count:D.count,last_used:Date.now(),source:"backfill"}))}await be.transact(N),console.log(` Backfilled ${C.size} ingredients from ${a.length} meals`)}return{added:C.size}},renameIngredientInMeals:async(E,C,N)=>{const P=m(E);if(P.length===0)return{updated:0};const D=Po(C),O=[];for(const R of P){const k=R.ingredients.map(G=>{if(Po(G.name||"")===E){const F=(G.grams||G.quantity_g||100)/100;return{...G,name:C,normalized_name:D,nutrients_per_100g:N,nutrients:{calories:Math.round((N.calories||0)*F),purines:Math.round((N.purines||0)*F),protein:Math.round((N.protein||0)*F*10)/10,carbs:Math.round((N.carbs||0)*F*10)/10,fat:Math.round((N.fat||0)*F*10)/10,fiber:Math.round((N.fiber||0)*F*10)/10,sodium:Math.round((N.sodium||0)*F),sugar:Math.round((N.sugar||0)*F*10)/10}}}return G}),q=k.reduce((G,H)=>(H.nutrients&&Object.keys(H.nutrients).forEach($=>{G[$]=(G[$]||0)+(H.nutrients[$]||0)}),G),{});O.push(be.tx.meals[R.id].update({ingredients:k,total_nutrients:q,updated_at:Date.now()}))}return await be.transact(O),{updated:P.length}}}}function Po(e){return(e||"").toLowerCase().trim().replace(/s$/,"").replace(/ies$/,"y").replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"_")}let xH,AH;function CH(){return{geminiUrl:xH,vertexUrl:AH}}function MH(e,t,n,r){var i,a;if(!e?.baseUrl){const l=CH();return t?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(a=l.geminiUrl)!==null&&a!==void 0?a:r}return e.baseUrl}class pa{}function pe(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const a=t[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function v(e,t,n){for(let a=0;a<t.length-1;a++){const l=t[a];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[u])){const c=e[u];if(Array.isArray(n))for(let d=0;d<c.length;d++){const h=c[d];v(h,t.slice(a+1),n[d])}else for(const d of c)v(d,t.slice(a+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in e||(e[u]=[{}]);const c=e[u];v(c[0],t.slice(a+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function g(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const i=t[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in e){const l=e[a];return Array.isArray(l)?l.map(u=>g(u,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function PH(e,t){for(const[n,r]of Object.entries(t)){const i=n.split("."),a=r.split("."),l=new Set;let u=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){u=c;break}if(u!==-1&&a.length>u)for(let c=u;c<a.length;c++){const d=a[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}U0(e,i,a,0,l)}}function U0(e,t,n,r,i){if(r>=t.length||typeof e!="object"||e===null)return;const a=t[r];if(a.endsWith("[]")){const l=a.slice(0,-2),u=e;if(l in u&&Array.isArray(u[l]))for(const c of u[l])U0(c,t,n,r+1,i)}else if(a==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,u=Object.keys(l).filter(d=>!d.startsWith("_")&&!i.has(d)),c={};for(const d of u)c[d]=l[d];for(const[d,h]of Object.entries(c)){const m=[];for(const y of n.slice(r))y==="*"?m.push(d):m.push(y);v(l,m,h)}for(const d of u)delete l[d]}}else{const l=e;a in l&&U0(l[a],t,n,r+1,i)}}function p_(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function NH(e){const t={},n=g(e,["operationName"]);n!=null&&v(t,["operationName"],n);const r=g(e,["resourceName"]);return r!=null&&v(t,["_url","resourceName"],r),t}function OH(e){const t={},n=g(e,["name"]);n!=null&&v(t,["name"],n);const r=g(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=g(e,["done"]);i!=null&&v(t,["done"],i);const a=g(e,["error"]);a!=null&&v(t,["error"],a);const l=g(e,["response","generateVideoResponse"]);return l!=null&&v(t,["response"],DH(l)),t}function IH(e){const t={},n=g(e,["name"]);n!=null&&v(t,["name"],n);const r=g(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=g(e,["done"]);i!=null&&v(t,["done"],i);const a=g(e,["error"]);a!=null&&v(t,["error"],a);const l=g(e,["response"]);return l!=null&&v(t,["response"],RH(l)),t}function DH(e){const t={},n=g(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>kH(l))),v(t,["generatedVideos"],a)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&v(t,["raiMediaFilteredCount"],r);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&v(t,["raiMediaFilteredReasons"],i),t}function RH(e){const t={},n=g(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>LH(l))),v(t,["generatedVideos"],a)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&v(t,["raiMediaFilteredCount"],r);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&v(t,["raiMediaFilteredReasons"],i),t}function kH(e){const t={},n=g(e,["video"]);return n!=null&&v(t,["video"],BH(n)),t}function LH(e){const t={},n=g(e,["_self"]);return n!=null&&v(t,["video"],FH(n)),t}function UH(e){const t={},n=g(e,["operationName"]);return n!=null&&v(t,["_url","operationName"],n),t}function jH(e){const t={},n=g(e,["operationName"]);return n!=null&&v(t,["_url","operationName"],n),t}function qH(e){const t={},n=g(e,["name"]);n!=null&&v(t,["name"],n);const r=g(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=g(e,["done"]);i!=null&&v(t,["done"],i);const a=g(e,["error"]);a!=null&&v(t,["error"],a);const l=g(e,["response"]);return l!=null&&v(t,["response"],zH(l)),t}function zH(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["parent"]);r!=null&&v(t,["parent"],r);const i=g(e,["documentName"]);return i!=null&&v(t,["documentName"],i),t}function KI(e){const t={},n=g(e,["name"]);n!=null&&v(t,["name"],n);const r=g(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=g(e,["done"]);i!=null&&v(t,["done"],i);const a=g(e,["error"]);a!=null&&v(t,["error"],a);const l=g(e,["response"]);return l!=null&&v(t,["response"],$H(l)),t}function $H(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["parent"]);r!=null&&v(t,["parent"],r);const i=g(e,["documentName"]);return i!=null&&v(t,["documentName"],i),t}function BH(e){const t={},n=g(e,["uri"]);n!=null&&v(t,["uri"],n);const r=g(e,["encodedVideo"]);r!=null&&v(t,["videoBytes"],p_(r));const i=g(e,["encoding"]);return i!=null&&v(t,["mimeType"],i),t}function FH(e){const t={},n=g(e,["gcsUri"]);n!=null&&v(t,["uri"],n);const r=g(e,["bytesBase64Encoded"]);r!=null&&v(t,["videoBytes"],p_(r));const i=g(e,["mimeType"]);return i!=null&&v(t,["mimeType"],i),t}var QA;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(QA||(QA={}));var ZA;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(ZA||(ZA={}));var eC;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(eC||(eC={}));var Ja;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Ja||(Ja={}));var tC;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(tC||(tC={}));var nC;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(nC||(nC={}));var rC;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(rC||(rC={}));var iC;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(iC||(iC={}));var aC;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(aC||(aC={}));var oC;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.HIGH="HIGH"})(oC||(oC={}));var sC;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(sC||(sC={}));var lC;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(lC||(lC={}));var uC;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(uC||(uC={}));var cC;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(cC||(cC={}));var fC;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(fC||(fC={}));var dC;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(dC||(dC={}));var hC;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(hC||(hC={}));var pC;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(pC||(pC={}));var mC;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(mC||(mC={}));var lh;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(lh||(lh={}));var gC;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(gC||(gC={}));var yC;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(yC||(yC={}));var vC;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(vC||(vC={}));var j0;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(j0||(j0={}));var bC;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(bC||(bC={}));var _C;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(_C||(_C={}));var SC;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(SC||(SC={}));var TC;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(TC||(TC={}));var EC;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(EC||(EC={}));var wC;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(wC||(wC={}));var xC;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(xC||(xC={}));var AC;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(AC||(AC={}));var CC;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(CC||(CC={}));var MC;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(MC||(MC={}));var PC;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(PC||(PC={}));var NC;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(NC||(NC={}));var OC;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(OC||(OC={}));var IC;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(IC||(IC={}));var DC;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(DC||(DC={}));var RC;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(RC||(RC={}));var kC;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(kC||(kC={}));var LC;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(LC||(LC={}));var UC;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(UC||(UC={}));var jC;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(jC||(jC={}));var qC;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(qC||(qC={}));var zC;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(zC||(zC={}));var $C;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})($C||($C={}));var BC;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(BC||(BC={}));var FC;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(FC||(FC={}));var HC;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(HC||(HC={}));var GC;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(GC||(GC={}));var VC;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(VC||(VC={}));var KC;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(KC||(KC={}));var YC;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(YC||(YC={}));var Qs;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Qs||(Qs={}));class q0{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Uu{get text(){var t,n,r,i,a,l,u,c;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const m=[];for(const y of(c=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[_,T]of Object.entries(y))_!=="text"&&_!=="thought"&&_!=="thoughtSignature"&&(T!==null||T!==void 0)&&m.push(_);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;h=!0,d+=y.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var t,n,r,i,a,l,u,c;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const m of(c=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[y,_]of Object.entries(m))y!=="inlineData"&&(_!==null||_!==void 0)&&h.push(y);m.inlineData&&typeof m.inlineData.data=="string"&&(d+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var t,n,r,i,a,l,u,c;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if(d?.length!==0)return d}get executableCode(){var t,n,r,i,a,l,u,c,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if(h?.length!==0)return(d=h?.[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var t,n,r,i,a,l,u,c,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if(h?.length!==0)return(d=h?.[0])===null||d===void 0?void 0:d.output}}class WC{}class JC{}class HH{}class GH{}class VH{}class KH{}class XC{}class QC{}class ZC{}class YH{}class uh{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new uh;let i;const a=t;return n?i=IH(a):i=OH(a),Object.assign(r,i),r}}class e1{}class t1{}class n1{}class WH{}class JH{}class XH{}class m_{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new m_,a=qH(t);return Object.assign(r,a),r}}class QH{}class ZH{}class eG{}class r1{}class tG{get text(){var t,n,r;let i="",a=!1;const l=[];for(const u of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,d]of Object.entries(u))c!=="text"&&c!=="thought"&&d!==null&&l.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;a=!0,i+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var t,n,r;let i="";const a=[];for(const l of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(l))u!=="inlineData"&&c!==null&&a.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class nG{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class g_{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new g_,a=KI(t);return Object.assign(r,a),r}}function Ye(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function YI(e,t){const n=Ye(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function WI(e){return Array.isArray(e)?e.map(t=>ch(t)):[ch(e)]}function ch(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function JI(e){const t=ch(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function XI(e){const t=ch(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function i1(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function QI(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>i1(t)):[i1(e)]}function z0(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function a1(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function o1(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function bn(e){if(e==null)throw new Error("ContentUnion is required");return z0(e)?e:{role:"user",parts:QI(e)}}function y_(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=bn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=bn(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>bn(n)):[bn(t)]}function Or(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(a1(e)||o1(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[bn(e)]}const t=[],n=[],r=z0(e[0]);for(const i of e){const a=z0(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)t.push(i);else{if(a1(i)||o1(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:QI(n)}),t}function rG(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(Ja).includes(n[0].toUpperCase())?n[0].toUpperCase():Ja.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(Ja).includes(r.toUpperCase())?r.toUpperCase():Ja.TYPE_UNSPECIFIED})}}function rl(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=e.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(t.nullable=!0,e=a[1]):a[1].type==="null"&&(t.nullable=!0,e=a[0])),e.type instanceof Array&&rG(e.type,t);for(const[l,u]of Object.entries(e))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(Ja).includes(u.toUpperCase())?u.toUpperCase():Ja.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=rl(u);else if(r.includes(l)){const c=[];for(const d of u){if(d.type=="null"){t.nullable=!0;continue}c.push(rl(d))}t[l]=c}else if(i.includes(l)){const c={};for(const[d,h]of Object.entries(u))c[d]=rl(h);t[l]=c}else{if(l==="additionalProperties")continue;t[l]=u}return t}function v_(e){return rl(e)}function b_(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function __(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function xl(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=rl(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=rl(t.response));return e}function Al(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function iG(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function ma(e,t){if(typeof t!="string")throw new Error("name must be a string");return iG(e,t,"cachedContents")}function ZI(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function io(e){return p_(e)}function aG(e){return e!=null&&typeof e=="object"&&"name"in e}function oG(e){return e!=null&&typeof e=="object"&&"video"in e}function sG(e){return e!=null&&typeof e=="object"&&"uri"in e}function eD(e){var t;let n;if(aG(e)&&(n=e.name),!(sG(e)&&(n=e.uri,n===void 0))&&!(oG(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function tD(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function nD(e){for(const t of["models","tunedModels","publisherModels"])if(lG(e,t))return e[t];return[]}function lG(e,t){return e!==null&&typeof e=="object"&&t in e}function uG(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function cG(e,t={}){const n=[],r=new Set;for(const i of e){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const l=uG(i,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function rD(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function fG(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function iD(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let a=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const c=l.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){a=!0;break}}return a&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Cl(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function aD(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}function dG(e){const t={},n=g(e,["responsesFile"]);n!=null&&v(t,["fileName"],n);const r=g(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>VG(l))),v(t,["inlinedResponses"],a)}const i=g(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),v(t,["inlinedEmbedContentResponses"],a)}return t}function hG(e){const t={},n=g(e,["predictionsFormat"]);n!=null&&v(t,["format"],n);const r=g(e,["gcsDestination","outputUriPrefix"]);r!=null&&v(t,["gcsUri"],r);const i=g(e,["bigqueryDestination","outputUri"]);return i!=null&&v(t,["bigqueryUri"],i),t}function pG(e){const t={},n=g(e,["format"]);n!=null&&v(t,["predictionsFormat"],n);const r=g(e,["gcsUri"]);r!=null&&v(t,["gcsDestination","outputUriPrefix"],r);const i=g(e,["bigqueryUri"]);if(i!=null&&v(t,["bigqueryDestination","outputUri"],i),g(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(g(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Gd(e){const t={},n=g(e,["name"]);n!=null&&v(t,["name"],n);const r=g(e,["metadata","displayName"]);r!=null&&v(t,["displayName"],r);const i=g(e,["metadata","state"]);i!=null&&v(t,["state"],aD(i));const a=g(e,["metadata","createTime"]);a!=null&&v(t,["createTime"],a);const l=g(e,["metadata","endTime"]);l!=null&&v(t,["endTime"],l);const u=g(e,["metadata","updateTime"]);u!=null&&v(t,["updateTime"],u);const c=g(e,["metadata","model"]);c!=null&&v(t,["model"],c);const d=g(e,["metadata","output"]);return d!=null&&v(t,["dest"],dG(iD(d))),t}function $0(e){const t={},n=g(e,["name"]);n!=null&&v(t,["name"],n);const r=g(e,["displayName"]);r!=null&&v(t,["displayName"],r);const i=g(e,["state"]);i!=null&&v(t,["state"],aD(i));const a=g(e,["error"]);a!=null&&v(t,["error"],a);const l=g(e,["createTime"]);l!=null&&v(t,["createTime"],l);const u=g(e,["startTime"]);u!=null&&v(t,["startTime"],u);const c=g(e,["endTime"]);c!=null&&v(t,["endTime"],c);const d=g(e,["updateTime"]);d!=null&&v(t,["updateTime"],d);const h=g(e,["model"]);h!=null&&v(t,["model"],h);const m=g(e,["inputConfig"]);m!=null&&v(t,["src"],mG(m));const y=g(e,["outputConfig"]);y!=null&&v(t,["dest"],hG(iD(y)));const _=g(e,["completionStats"]);return _!=null&&v(t,["completionStats"],_),t}function mG(e){const t={},n=g(e,["instancesFormat"]);n!=null&&v(t,["format"],n);const r=g(e,["gcsSource","uris"]);r!=null&&v(t,["gcsUri"],r);const i=g(e,["bigquerySource","inputUri"]);return i!=null&&v(t,["bigqueryUri"],i),t}function gG(e,t){const n={};if(g(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=g(t,["fileName"]);r!=null&&v(n,["fileName"],r);const i=g(t,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>GG(e,l))),v(n,["requests","requests"],a)}return n}function yG(e){const t={},n=g(e,["format"]);n!=null&&v(t,["instancesFormat"],n);const r=g(e,["gcsUri"]);r!=null&&v(t,["gcsSource","uris"],r);const i=g(e,["bigqueryUri"]);if(i!=null&&v(t,["bigquerySource","inputUri"],i),g(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function vG(e){const t={},n=g(e,["data"]);if(n!=null&&v(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function bG(e,t){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],Cl(e,r)),n}function _G(e,t){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],Cl(e,r)),n}function SG(e){const t={},n=g(e,["content"]);n!=null&&v(t,["content"],n);const r=g(e,["citationMetadata"]);r!=null&&v(t,["citationMetadata"],TG(r));const i=g(e,["tokenCount"]);i!=null&&v(t,["tokenCount"],i);const a=g(e,["finishReason"]);a!=null&&v(t,["finishReason"],a);const l=g(e,["avgLogprobs"]);l!=null&&v(t,["avgLogprobs"],l);const u=g(e,["groundingMetadata"]);u!=null&&v(t,["groundingMetadata"],u);const c=g(e,["index"]);c!=null&&v(t,["index"],c);const d=g(e,["logprobsResult"]);d!=null&&v(t,["logprobsResult"],d);const h=g(e,["safetyRatings"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(_=>_)),v(t,["safetyRatings"],y)}const m=g(e,["urlContextMetadata"]);return m!=null&&v(t,["urlContextMetadata"],m),t}function TG(e){const t={},n=g(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(t,["citations"],r)}return t}function oD(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>ZG(a))),v(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&v(t,["role"],r),t}function EG(e,t){const n={},r=g(e,["displayName"]);if(t!==void 0&&r!=null&&v(t,["batch","displayName"],r),g(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function wG(e,t){const n={},r=g(e,["displayName"]);t!==void 0&&r!=null&&v(t,["displayName"],r);const i=g(e,["dest"]);return t!==void 0&&i!=null&&v(t,["outputConfig"],pG(fG(i))),n}function s1(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],Ye(e,r));const i=g(t,["src"]);i!=null&&v(n,["batch","inputConfig"],gG(e,rD(e,i)));const a=g(t,["config"]);return a!=null&&EG(a,n),n}function xG(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["model"],Ye(e,r));const i=g(t,["src"]);i!=null&&v(n,["inputConfig"],yG(rD(e,i)));const a=g(t,["config"]);return a!=null&&wG(a,n),n}function AG(e,t){const n={},r=g(e,["displayName"]);return t!==void 0&&r!=null&&v(t,["batch","displayName"],r),n}function CG(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],Ye(e,r));const i=g(t,["src"]);i!=null&&v(n,["batch","inputConfig"],RG(e,i));const a=g(t,["config"]);return a!=null&&AG(a,n),n}function MG(e,t){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],Cl(e,r)),n}function PG(e,t){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],Cl(e,r)),n}function NG(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["name"]);r!=null&&v(t,["name"],r);const i=g(e,["done"]);i!=null&&v(t,["done"],i);const a=g(e,["error"]);return a!=null&&v(t,["error"],a),t}function OG(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["name"]);r!=null&&v(t,["name"],r);const i=g(e,["done"]);i!=null&&v(t,["done"],i);const a=g(e,["error"]);return a!=null&&v(t,["error"],a),t}function IG(e,t){const n={},r=g(t,["contents"]);if(r!=null){let a=y_(e,r);Array.isArray(a)&&(a=a.map(l=>l)),v(n,["requests[]","request","content"],a)}const i=g(t,["config"]);return i!=null&&(v(n,["_self"],DG(i,n)),PH(n,{"requests[].*":"requests[].request.*"})),n}function DG(e,t){const n={},r=g(e,["taskType"]);t!==void 0&&r!=null&&v(t,["requests[]","taskType"],r);const i=g(e,["title"]);t!==void 0&&i!=null&&v(t,["requests[]","title"],i);const a=g(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&v(t,["requests[]","outputDimensionality"],a),g(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function RG(e,t){const n={},r=g(t,["fileName"]);r!=null&&v(n,["file_name"],r);const i=g(t,["inlinedRequests"]);return i!=null&&v(n,["requests"],IG(e,i)),n}function kG(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&v(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function LG(e){const t={},n=g(e,["id"]);n!=null&&v(t,["id"],n);const r=g(e,["args"]);r!=null&&v(t,["args"],r);const i=g(e,["name"]);if(i!=null&&v(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function UG(e){const t={},n=g(e,["mode"]);n!=null&&v(t,["mode"],n);const r=g(e,["allowedFunctionNames"]);if(r!=null&&v(t,["allowedFunctionNames"],r),g(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function jG(e,t,n){const r={},i=g(t,["systemInstruction"]);n!==void 0&&i!=null&&v(n,["systemInstruction"],oD(bn(i)));const a=g(t,["temperature"]);a!=null&&v(r,["temperature"],a);const l=g(t,["topP"]);l!=null&&v(r,["topP"],l);const u=g(t,["topK"]);u!=null&&v(r,["topK"],u);const c=g(t,["candidateCount"]);c!=null&&v(r,["candidateCount"],c);const d=g(t,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const h=g(t,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const m=g(t,["responseLogprobs"]);m!=null&&v(r,["responseLogprobs"],m);const y=g(t,["logprobs"]);y!=null&&v(r,["logprobs"],y);const _=g(t,["presencePenalty"]);_!=null&&v(r,["presencePenalty"],_);const T=g(t,["frequencyPenalty"]);T!=null&&v(r,["frequencyPenalty"],T);const w=g(t,["seed"]);w!=null&&v(r,["seed"],w);const E=g(t,["responseMimeType"]);E!=null&&v(r,["responseMimeType"],E);const C=g(t,["responseSchema"]);C!=null&&v(r,["responseSchema"],v_(C));const N=g(t,["responseJsonSchema"]);if(N!=null&&v(r,["responseJsonSchema"],N),g(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=g(t,["safetySettings"]);if(n!==void 0&&P!=null){let F=P;Array.isArray(F)&&(F=F.map(fe=>eV(fe))),v(n,["safetySettings"],F)}const D=g(t,["tools"]);if(n!==void 0&&D!=null){let F=Al(D);Array.isArray(F)&&(F=F.map(fe=>nV(xl(fe)))),v(n,["tools"],F)}const O=g(t,["toolConfig"]);if(n!==void 0&&O!=null&&v(n,["toolConfig"],tV(O)),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=g(t,["cachedContent"]);n!==void 0&&R!=null&&v(n,["cachedContent"],ma(e,R));const k=g(t,["responseModalities"]);k!=null&&v(r,["responseModalities"],k);const q=g(t,["mediaResolution"]);q!=null&&v(r,["mediaResolution"],q);const G=g(t,["speechConfig"]);if(G!=null&&v(r,["speechConfig"],b_(G)),g(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const H=g(t,["thinkingConfig"]);H!=null&&v(r,["thinkingConfig"],H);const $=g(t,["imageConfig"]);return $!=null&&v(r,["imageConfig"],HG($)),r}function qG(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>SG(d))),v(t,["candidates"],c)}const i=g(e,["modelVersion"]);i!=null&&v(t,["modelVersion"],i);const a=g(e,["promptFeedback"]);a!=null&&v(t,["promptFeedback"],a);const l=g(e,["responseId"]);l!=null&&v(t,["responseId"],l);const u=g(e,["usageMetadata"]);return u!=null&&v(t,["usageMetadata"],u),t}function zG(e,t){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],Cl(e,r)),n}function $G(e,t){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],Cl(e,r)),n}function BG(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&v(t,["enableWidget"],n),t}function FG(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&v(t,["timeRangeFilter"],n),t}function HG(e){const t={},n=g(e,["aspectRatio"]);n!=null&&v(t,["aspectRatio"],n);const r=g(e,["imageSize"]);if(r!=null&&v(t,["imageSize"],r),g(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function GG(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["request","model"],Ye(e,r));const i=g(t,["contents"]);if(i!=null){let u=Or(i);Array.isArray(u)&&(u=u.map(c=>oD(c))),v(n,["request","contents"],u)}const a=g(t,["metadata"]);a!=null&&v(n,["metadata"],a);const l=g(t,["config"]);return l!=null&&v(n,["request","generationConfig"],jG(e,l,g(n,["request"],{}))),n}function VG(e){const t={},n=g(e,["response"]);n!=null&&v(t,["response"],qG(n));const r=g(e,["error"]);return r!=null&&v(t,["error"],r),t}function KG(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);if(t!==void 0&&i!=null&&v(t,["_query","pageToken"],i),g(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function YG(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);t!==void 0&&i!=null&&v(t,["_query","pageToken"],i);const a=g(e,["filter"]);return t!==void 0&&a!=null&&v(t,["_query","filter"],a),n}function WG(e){const t={},n=g(e,["config"]);return n!=null&&KG(n,t),t}function JG(e){const t={},n=g(e,["config"]);return n!=null&&YG(n,t),t}function XG(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=g(e,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Gd(l))),v(t,["batchJobs"],a)}return t}function QG(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=g(e,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>$0(l))),v(t,["batchJobs"],a)}return t}function ZG(e){const t={},n=g(e,["mediaResolution"]);n!=null&&v(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&v(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&v(t,["executableCode"],i);const a=g(e,["fileData"]);a!=null&&v(t,["fileData"],kG(a));const l=g(e,["functionCall"]);l!=null&&v(t,["functionCall"],LG(l));const u=g(e,["functionResponse"]);u!=null&&v(t,["functionResponse"],u);const c=g(e,["inlineData"]);c!=null&&v(t,["inlineData"],vG(c));const d=g(e,["text"]);d!=null&&v(t,["text"],d);const h=g(e,["thought"]);h!=null&&v(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&v(t,["thoughtSignature"],m);const y=g(e,["videoMetadata"]);return y!=null&&v(t,["videoMetadata"],y),t}function eV(e){const t={},n=g(e,["category"]);if(n!=null&&v(t,["category"],n),g(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(e,["threshold"]);return r!=null&&v(t,["threshold"],r),t}function tV(e){const t={},n=g(e,["functionCallingConfig"]);n!=null&&v(t,["functionCallingConfig"],UG(n));const r=g(e,["retrievalConfig"]);return r!=null&&v(t,["retrievalConfig"],r),t}function nV(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),v(t,["functionDeclarations"],h)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["googleSearchRetrieval"]);r!=null&&v(t,["googleSearchRetrieval"],r);const i=g(e,["computerUse"]);i!=null&&v(t,["computerUse"],i);const a=g(e,["fileSearch"]);a!=null&&v(t,["fileSearch"],a);const l=g(e,["codeExecution"]);if(l!=null&&v(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(e,["googleMaps"]);u!=null&&v(t,["googleMaps"],BG(u));const c=g(e,["googleSearch"]);c!=null&&v(t,["googleSearch"],FG(c));const d=g(e,["urlContext"]);return d!=null&&v(t,["urlContext"],d),t}var ra;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(ra||(ra={}));class Zo{constructor(t,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,a;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(a=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}class rV extends pa{constructor(t){super(),this.apiClient=t,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new Zo(ra.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(t){const n=s1(this.apiClient,t),r=n._url,i=pe("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,c=u.requests,d=[];for(const h of c){const m=Object.assign({},h);if(m.systemInstruction){const y=m.systemInstruction;delete m.systemInstruction;const _=m.request;_.systemInstruction=y,m.request=_}d.push(m)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(t),l=this.getBigqueryUri(t);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=xG(this.apiClient,t);return u=pe("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>$0(h))}else{const d=s1(this.apiClient,t);return u=pe("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>Gd(h))}}async createEmbeddingsInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=CG(this.apiClient,t);return a=pe("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>Gd(c))}}async get(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=$G(this.apiClient,t);return u=pe("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>$0(h))}else{const d=zG(this.apiClient,t);return u=pe("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>Gd(h))}}async cancel(t){var n,r,i,a;let l="",u={};if(this.apiClient.isVertexAI()){const c=_G(this.apiClient,t);l=pe("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=bG(this.apiClient,t);l=pe("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=JG(t);return u=pe("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=QG(h),y=new r1;return Object.assign(y,m),y})}else{const d=WG(t);return u=pe("batches",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=XG(h),y=new r1;return Object.assign(y,m),y})}}async delete(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=PG(this.apiClient,t);return u=pe("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>OG(h))}else{const d=MG(this.apiClient,t);return u=pe("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>NG(h))}}}function iV(e){const t={},n=g(e,["data"]);if(n!=null&&v(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function l1(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>CV(a))),v(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&v(t,["role"],r),t}function aV(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&v(t,["ttl"],r);const i=g(e,["expireTime"]);t!==void 0&&i!=null&&v(t,["expireTime"],i);const a=g(e,["displayName"]);t!==void 0&&a!=null&&v(t,["displayName"],a);const l=g(e,["contents"]);if(t!==void 0&&l!=null){let h=Or(l);Array.isArray(h)&&(h=h.map(m=>l1(m))),v(t,["contents"],h)}const u=g(e,["systemInstruction"]);t!==void 0&&u!=null&&v(t,["systemInstruction"],l1(bn(u)));const c=g(e,["tools"]);if(t!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>PV(m))),v(t,["tools"],h)}const d=g(e,["toolConfig"]);if(t!==void 0&&d!=null&&v(t,["toolConfig"],MV(d)),g(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function oV(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&v(t,["ttl"],r);const i=g(e,["expireTime"]);t!==void 0&&i!=null&&v(t,["expireTime"],i);const a=g(e,["displayName"]);t!==void 0&&a!=null&&v(t,["displayName"],a);const l=g(e,["contents"]);if(t!==void 0&&l!=null){let m=Or(l);Array.isArray(m)&&(m=m.map(y=>y)),v(t,["contents"],m)}const u=g(e,["systemInstruction"]);t!==void 0&&u!=null&&v(t,["systemInstruction"],bn(u));const c=g(e,["tools"]);if(t!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(y=>NV(y))),v(t,["tools"],m)}const d=g(e,["toolConfig"]);t!==void 0&&d!=null&&v(t,["toolConfig"],d);const h=g(e,["kmsKeyName"]);return t!==void 0&&h!=null&&v(t,["encryption_spec","kmsKeyName"],h),n}function sV(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["model"],YI(e,r));const i=g(t,["config"]);return i!=null&&aV(i,n),n}function lV(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["model"],YI(e,r));const i=g(t,["config"]);return i!=null&&oV(i,n),n}function uV(e,t){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],ma(e,r)),n}function cV(e,t){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],ma(e,r)),n}function fV(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}function dV(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}function hV(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&v(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function pV(e){const t={},n=g(e,["id"]);n!=null&&v(t,["id"],n);const r=g(e,["args"]);r!=null&&v(t,["args"],r);const i=g(e,["name"]);if(i!=null&&v(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function mV(e){const t={},n=g(e,["mode"]);n!=null&&v(t,["mode"],n);const r=g(e,["allowedFunctionNames"]);if(r!=null&&v(t,["allowedFunctionNames"],r),g(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function gV(e){const t={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(e,["description"]);n!=null&&v(t,["description"],n);const r=g(e,["name"]);r!=null&&v(t,["name"],r);const i=g(e,["parameters"]);i!=null&&v(t,["parameters"],i);const a=g(e,["parametersJsonSchema"]);a!=null&&v(t,["parametersJsonSchema"],a);const l=g(e,["response"]);l!=null&&v(t,["response"],l);const u=g(e,["responseJsonSchema"]);return u!=null&&v(t,["responseJsonSchema"],u),t}function yV(e,t){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],ma(e,r)),n}function vV(e,t){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],ma(e,r)),n}function bV(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&v(t,["enableWidget"],n),t}function _V(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&v(t,["timeRangeFilter"],n),t}function SV(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&v(t,["_query","pageToken"],i),n}function TV(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&v(t,["_query","pageToken"],i),n}function EV(e){const t={},n=g(e,["config"]);return n!=null&&SV(n,t),t}function wV(e){const t={},n=g(e,["config"]);return n!=null&&TV(n,t),t}function xV(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=g(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),v(t,["cachedContents"],a)}return t}function AV(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=g(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),v(t,["cachedContents"],a)}return t}function CV(e){const t={},n=g(e,["mediaResolution"]);n!=null&&v(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&v(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&v(t,["executableCode"],i);const a=g(e,["fileData"]);a!=null&&v(t,["fileData"],hV(a));const l=g(e,["functionCall"]);l!=null&&v(t,["functionCall"],pV(l));const u=g(e,["functionResponse"]);u!=null&&v(t,["functionResponse"],u);const c=g(e,["inlineData"]);c!=null&&v(t,["inlineData"],iV(c));const d=g(e,["text"]);d!=null&&v(t,["text"],d);const h=g(e,["thought"]);h!=null&&v(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&v(t,["thoughtSignature"],m);const y=g(e,["videoMetadata"]);return y!=null&&v(t,["videoMetadata"],y),t}function MV(e){const t={},n=g(e,["functionCallingConfig"]);n!=null&&v(t,["functionCallingConfig"],mV(n));const r=g(e,["retrievalConfig"]);return r!=null&&v(t,["retrievalConfig"],r),t}function PV(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),v(t,["functionDeclarations"],h)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["googleSearchRetrieval"]);r!=null&&v(t,["googleSearchRetrieval"],r);const i=g(e,["computerUse"]);i!=null&&v(t,["computerUse"],i);const a=g(e,["fileSearch"]);a!=null&&v(t,["fileSearch"],a);const l=g(e,["codeExecution"]);if(l!=null&&v(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(e,["googleMaps"]);u!=null&&v(t,["googleMaps"],bV(u));const c=g(e,["googleSearch"]);c!=null&&v(t,["googleSearch"],_V(c));const d=g(e,["urlContext"]);return d!=null&&v(t,["urlContext"],d),t}function NV(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>gV(y))),v(t,["functionDeclarations"],m)}const r=g(e,["retrieval"]);r!=null&&v(t,["retrieval"],r);const i=g(e,["googleSearchRetrieval"]);i!=null&&v(t,["googleSearchRetrieval"],i);const a=g(e,["computerUse"]);if(a!=null&&v(t,["computerUse"],a),g(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(e,["codeExecution"]);l!=null&&v(t,["codeExecution"],l);const u=g(e,["enterpriseWebSearch"]);u!=null&&v(t,["enterpriseWebSearch"],u);const c=g(e,["googleMaps"]);c!=null&&v(t,["googleMaps"],c);const d=g(e,["googleSearch"]);d!=null&&v(t,["googleSearch"],d);const h=g(e,["urlContext"]);return h!=null&&v(t,["urlContext"],h),t}function OV(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&v(t,["ttl"],r);const i=g(e,["expireTime"]);return t!==void 0&&i!=null&&v(t,["expireTime"],i),n}function IV(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&v(t,["ttl"],r);const i=g(e,["expireTime"]);return t!==void 0&&i!=null&&v(t,["expireTime"],i),n}function DV(e,t){const n={},r=g(t,["name"]);r!=null&&v(n,["_url","name"],ma(e,r));const i=g(t,["config"]);return i!=null&&OV(i,n),n}function RV(e,t){const n={},r=g(t,["name"]);r!=null&&v(n,["_url","name"],ma(e,r));const i=g(t,["config"]);return i!=null&&IV(i,n),n}class kV extends pa{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Zo(ra.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=lV(this.apiClient,t);return u=pe("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=sV(this.apiClient,t);return u=pe("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async get(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=vV(this.apiClient,t);return u=pe("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=yV(this.apiClient,t);return u=pe("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async delete(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=cV(this.apiClient,t);return u=pe("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=dV(h),y=new t1;return Object.assign(y,m),y})}else{const d=uV(this.apiClient,t);return u=pe("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=fV(h),y=new t1;return Object.assign(y,m),y})}}async update(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=RV(this.apiClient,t);return u=pe("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=DV(this.apiClient,t);return u=pe("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async listInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=wV(t);return u=pe("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=AV(h),y=new n1;return Object.assign(y,m),y})}else{const d=EV(t);return u=pe("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=xV(h),y=new n1;return Object.assign(y,m),y})}}}function u1(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ct(e){return this instanceof ct?(this.v=e,this):new ct(e)}function il(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(_){return function(T){return Promise.resolve(T).then(_,m)}}function u(_,T){r[_]&&(i[_]=function(w){return new Promise(function(E,C){a.push([_,w,E,C])>1||c(_,w)})},T&&(i[_]=T(i[_])))}function c(_,T){try{d(r[_](T))}catch(w){y(a[0][3],w)}}function d(_){_.value instanceof ct?Promise.resolve(_.value.v).then(h,m):y(a[0][2],_)}function h(_){c("next",_)}function m(_){c("throw",_)}function y(_,T){_(T),a.shift(),a.length&&c(a[0][0],a[0][1])}}function ac(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof u1=="function"?u1(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(l){return new Promise(function(u,c){l=e[a](l),i(u,c,l.done,l.value)})}}function i(a,l,u,c){Promise.resolve(c).then(function(d){a({value:d,done:u})},l)}}function LV(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:sD(n)}function sD(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function UV(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function c1(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const i=[];let a=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),a&&!sD(e[r])&&(a=!1),r++;a?t.push(...i):t.pop()}return t}class jV{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new qV(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class qV{constructor(t,n,r,i={},a=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),UV(a)}async sendMessage(t){var n;await this.sendPromise;const r=bn(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,l,u;const c=await i,d=(l=(a=c.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content,h=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let y=[];h!=null&&(y=(u=h.slice(m))!==null&&u!==void 0?u:[]);const _=d?[d]:[];this.recordHistory(r,_,y)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const r=bn(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(t=!1){const n=t?c1(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var r,i;return il(this,arguments,function*(){var l,u,c,d;const h=[];try{for(var m=!0,y=ac(t),_;_=yield ct(y.next()),l=_.done,!l;m=!0){d=_.value,m=!1;const T=d;if(LV(T)){const w=(i=(r=T.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;w!==void 0&&h.push(w)}yield yield ct(T)}}catch(T){u={error:T}}finally{try{!m&&!l&&(c=y.return)&&(yield ct(c.call(y)))}finally{if(u)throw u.error}}this.recordHistory(n,h)})}recordHistory(t,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...c1(r)):this.history.push(t),this.history.push(...i)}}class hp extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,hp.prototype)}}function zV(e){const t={},n=g(e,["file"]);return n!=null&&v(t,["file"],n),t}function $V(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}function BV(e){const t={},n=g(e,["name"]);return n!=null&&v(t,["_url","file"],eD(n)),t}function FV(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}function HV(e){const t={},n=g(e,["name"]);return n!=null&&v(t,["_url","file"],eD(n)),t}function GV(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&v(t,["_query","pageToken"],i),n}function VV(e){const t={},n=g(e,["config"]);return n!=null&&GV(n,t),t}function KV(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=g(e,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),v(t,["files"],a)}return t}class YV extends pa{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Zo(ra.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=VV(t);return a=pe("files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=KV(c),h=new QH;return Object.assign(h,d),h})}}async createInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=zV(t);return a=pe("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=$V(c),h=new ZH;return Object.assign(h,d),h})}}async get(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=HV(t);return a=pe("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=BV(t);return a=pe("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=FV(c),h=new eG;return Object.assign(h,d),h})}}}function Vd(e){const t={},n=g(e,["data"]);if(n!=null&&v(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function WV(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>f6(a))),v(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&v(t,["role"],r),t}function JV(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&v(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function XV(e){const t={},n=g(e,["id"]);n!=null&&v(t,["id"],n);const r=g(e,["args"]);r!=null&&v(t,["args"],r);const i=g(e,["name"]);if(i!=null&&v(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function QV(e){const t={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(e,["description"]);n!=null&&v(t,["description"],n);const r=g(e,["name"]);r!=null&&v(t,["name"],r);const i=g(e,["parameters"]);i!=null&&v(t,["parameters"],i);const a=g(e,["parametersJsonSchema"]);a!=null&&v(t,["parametersJsonSchema"],a);const l=g(e,["response"]);l!=null&&v(t,["response"],l);const u=g(e,["responseJsonSchema"]);return u!=null&&v(t,["responseJsonSchema"],u),t}function ZV(e){const t={},n=g(e,["modelSelectionConfig"]);n!=null&&v(t,["modelConfig"],n);const r=g(e,["responseJsonSchema"]);r!=null&&v(t,["responseJsonSchema"],r);const i=g(e,["audioTimestamp"]);i!=null&&v(t,["audioTimestamp"],i);const a=g(e,["candidateCount"]);a!=null&&v(t,["candidateCount"],a);const l=g(e,["enableAffectiveDialog"]);l!=null&&v(t,["enableAffectiveDialog"],l);const u=g(e,["frequencyPenalty"]);u!=null&&v(t,["frequencyPenalty"],u);const c=g(e,["logprobs"]);c!=null&&v(t,["logprobs"],c);const d=g(e,["maxOutputTokens"]);d!=null&&v(t,["maxOutputTokens"],d);const h=g(e,["mediaResolution"]);h!=null&&v(t,["mediaResolution"],h);const m=g(e,["presencePenalty"]);m!=null&&v(t,["presencePenalty"],m);const y=g(e,["responseLogprobs"]);y!=null&&v(t,["responseLogprobs"],y);const _=g(e,["responseMimeType"]);_!=null&&v(t,["responseMimeType"],_);const T=g(e,["responseModalities"]);T!=null&&v(t,["responseModalities"],T);const w=g(e,["responseSchema"]);w!=null&&v(t,["responseSchema"],w);const E=g(e,["routingConfig"]);E!=null&&v(t,["routingConfig"],E);const C=g(e,["seed"]);C!=null&&v(t,["seed"],C);const N=g(e,["speechConfig"]);N!=null&&v(t,["speechConfig"],lD(N));const P=g(e,["stopSequences"]);P!=null&&v(t,["stopSequences"],P);const D=g(e,["temperature"]);D!=null&&v(t,["temperature"],D);const O=g(e,["thinkingConfig"]);O!=null&&v(t,["thinkingConfig"],O);const R=g(e,["topK"]);R!=null&&v(t,["topK"],R);const k=g(e,["topP"]);if(k!=null&&v(t,["topP"],k),g(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function e6(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&v(t,["enableWidget"],n),t}function t6(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&v(t,["timeRangeFilter"],n),t}function n6(e,t){const n={},r=g(e,["generationConfig"]);t!==void 0&&r!=null&&v(t,["setup","generationConfig"],r);const i=g(e,["responseModalities"]);t!==void 0&&i!=null&&v(t,["setup","generationConfig","responseModalities"],i);const a=g(e,["temperature"]);t!==void 0&&a!=null&&v(t,["setup","generationConfig","temperature"],a);const l=g(e,["topP"]);t!==void 0&&l!=null&&v(t,["setup","generationConfig","topP"],l);const u=g(e,["topK"]);t!==void 0&&u!=null&&v(t,["setup","generationConfig","topK"],u);const c=g(e,["maxOutputTokens"]);t!==void 0&&c!=null&&v(t,["setup","generationConfig","maxOutputTokens"],c);const d=g(e,["mediaResolution"]);t!==void 0&&d!=null&&v(t,["setup","generationConfig","mediaResolution"],d);const h=g(e,["seed"]);t!==void 0&&h!=null&&v(t,["setup","generationConfig","seed"],h);const m=g(e,["speechConfig"]);t!==void 0&&m!=null&&v(t,["setup","generationConfig","speechConfig"],__(m));const y=g(e,["thinkingConfig"]);t!==void 0&&y!=null&&v(t,["setup","generationConfig","thinkingConfig"],y);const _=g(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&v(t,["setup","generationConfig","enableAffectiveDialog"],_);const T=g(e,["systemInstruction"]);t!==void 0&&T!=null&&v(t,["setup","systemInstruction"],WV(bn(T)));const w=g(e,["tools"]);if(t!==void 0&&w!=null){let R=Al(w);Array.isArray(R)&&(R=R.map(k=>h6(xl(k)))),v(t,["setup","tools"],R)}const E=g(e,["sessionResumption"]);t!==void 0&&E!=null&&v(t,["setup","sessionResumption"],d6(E));const C=g(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&v(t,["setup","inputAudioTranscription"],C);const N=g(e,["outputAudioTranscription"]);t!==void 0&&N!=null&&v(t,["setup","outputAudioTranscription"],N);const P=g(e,["realtimeInputConfig"]);t!==void 0&&P!=null&&v(t,["setup","realtimeInputConfig"],P);const D=g(e,["contextWindowCompression"]);t!==void 0&&D!=null&&v(t,["setup","contextWindowCompression"],D);const O=g(e,["proactivity"]);return t!==void 0&&O!=null&&v(t,["setup","proactivity"],O),n}function r6(e,t){const n={},r=g(e,["generationConfig"]);t!==void 0&&r!=null&&v(t,["setup","generationConfig"],ZV(r));const i=g(e,["responseModalities"]);t!==void 0&&i!=null&&v(t,["setup","generationConfig","responseModalities"],i);const a=g(e,["temperature"]);t!==void 0&&a!=null&&v(t,["setup","generationConfig","temperature"],a);const l=g(e,["topP"]);t!==void 0&&l!=null&&v(t,["setup","generationConfig","topP"],l);const u=g(e,["topK"]);t!==void 0&&u!=null&&v(t,["setup","generationConfig","topK"],u);const c=g(e,["maxOutputTokens"]);t!==void 0&&c!=null&&v(t,["setup","generationConfig","maxOutputTokens"],c);const d=g(e,["mediaResolution"]);t!==void 0&&d!=null&&v(t,["setup","generationConfig","mediaResolution"],d);const h=g(e,["seed"]);t!==void 0&&h!=null&&v(t,["setup","generationConfig","seed"],h);const m=g(e,["speechConfig"]);t!==void 0&&m!=null&&v(t,["setup","generationConfig","speechConfig"],lD(__(m)));const y=g(e,["thinkingConfig"]);t!==void 0&&y!=null&&v(t,["setup","generationConfig","thinkingConfig"],y);const _=g(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&v(t,["setup","generationConfig","enableAffectiveDialog"],_);const T=g(e,["systemInstruction"]);t!==void 0&&T!=null&&v(t,["setup","systemInstruction"],bn(T));const w=g(e,["tools"]);if(t!==void 0&&w!=null){let R=Al(w);Array.isArray(R)&&(R=R.map(k=>p6(xl(k)))),v(t,["setup","tools"],R)}const E=g(e,["sessionResumption"]);t!==void 0&&E!=null&&v(t,["setup","sessionResumption"],E);const C=g(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&v(t,["setup","inputAudioTranscription"],C);const N=g(e,["outputAudioTranscription"]);t!==void 0&&N!=null&&v(t,["setup","outputAudioTranscription"],N);const P=g(e,["realtimeInputConfig"]);t!==void 0&&P!=null&&v(t,["setup","realtimeInputConfig"],P);const D=g(e,["contextWindowCompression"]);t!==void 0&&D!=null&&v(t,["setup","contextWindowCompression"],D);const O=g(e,["proactivity"]);return t!==void 0&&O!=null&&v(t,["setup","proactivity"],O),n}function i6(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["setup","model"],Ye(e,r));const i=g(t,["config"]);return i!=null&&v(n,["config"],n6(i,n)),n}function a6(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["setup","model"],Ye(e,r));const i=g(t,["config"]);return i!=null&&v(n,["config"],r6(i,n)),n}function o6(e){const t={},n=g(e,["musicGenerationConfig"]);return n!=null&&v(t,["musicGenerationConfig"],n),t}function s6(e){const t={},n=g(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(t,["weightedPrompts"],r)}return t}function l6(e){const t={},n=g(e,["media"]);if(n!=null){let d=WI(n);Array.isArray(d)&&(d=d.map(h=>Vd(h))),v(t,["mediaChunks"],d)}const r=g(e,["audio"]);r!=null&&v(t,["audio"],Vd(XI(r)));const i=g(e,["audioStreamEnd"]);i!=null&&v(t,["audioStreamEnd"],i);const a=g(e,["video"]);a!=null&&v(t,["video"],Vd(JI(a)));const l=g(e,["text"]);l!=null&&v(t,["text"],l);const u=g(e,["activityStart"]);u!=null&&v(t,["activityStart"],u);const c=g(e,["activityEnd"]);return c!=null&&v(t,["activityEnd"],c),t}function u6(e){const t={},n=g(e,["media"]);if(n!=null){let d=WI(n);Array.isArray(d)&&(d=d.map(h=>h)),v(t,["mediaChunks"],d)}const r=g(e,["audio"]);r!=null&&v(t,["audio"],XI(r));const i=g(e,["audioStreamEnd"]);i!=null&&v(t,["audioStreamEnd"],i);const a=g(e,["video"]);a!=null&&v(t,["video"],JI(a));const l=g(e,["text"]);l!=null&&v(t,["text"],l);const u=g(e,["activityStart"]);u!=null&&v(t,["activityStart"],u);const c=g(e,["activityEnd"]);return c!=null&&v(t,["activityEnd"],c),t}function c6(e){const t={},n=g(e,["setupComplete"]);n!=null&&v(t,["setupComplete"],n);const r=g(e,["serverContent"]);r!=null&&v(t,["serverContent"],r);const i=g(e,["toolCall"]);i!=null&&v(t,["toolCall"],i);const a=g(e,["toolCallCancellation"]);a!=null&&v(t,["toolCallCancellation"],a);const l=g(e,["usageMetadata"]);l!=null&&v(t,["usageMetadata"],m6(l));const u=g(e,["goAway"]);u!=null&&v(t,["goAway"],u);const c=g(e,["sessionResumptionUpdate"]);return c!=null&&v(t,["sessionResumptionUpdate"],c),t}function f6(e){const t={},n=g(e,["mediaResolution"]);n!=null&&v(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&v(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&v(t,["executableCode"],i);const a=g(e,["fileData"]);a!=null&&v(t,["fileData"],JV(a));const l=g(e,["functionCall"]);l!=null&&v(t,["functionCall"],XV(l));const u=g(e,["functionResponse"]);u!=null&&v(t,["functionResponse"],u);const c=g(e,["inlineData"]);c!=null&&v(t,["inlineData"],Vd(c));const d=g(e,["text"]);d!=null&&v(t,["text"],d);const h=g(e,["thought"]);h!=null&&v(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&v(t,["thoughtSignature"],m);const y=g(e,["videoMetadata"]);return y!=null&&v(t,["videoMetadata"],y),t}function d6(e){const t={},n=g(e,["handle"]);if(n!=null&&v(t,["handle"],n),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function lD(e){const t={},n=g(e,["languageCode"]);n!=null&&v(t,["languageCode"],n);const r=g(e,["voiceConfig"]);if(r!=null&&v(t,["voiceConfig"],r),g(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function h6(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),v(t,["functionDeclarations"],h)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["googleSearchRetrieval"]);r!=null&&v(t,["googleSearchRetrieval"],r);const i=g(e,["computerUse"]);i!=null&&v(t,["computerUse"],i);const a=g(e,["fileSearch"]);a!=null&&v(t,["fileSearch"],a);const l=g(e,["codeExecution"]);if(l!=null&&v(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(e,["googleMaps"]);u!=null&&v(t,["googleMaps"],e6(u));const c=g(e,["googleSearch"]);c!=null&&v(t,["googleSearch"],t6(c));const d=g(e,["urlContext"]);return d!=null&&v(t,["urlContext"],d),t}function p6(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>QV(y))),v(t,["functionDeclarations"],m)}const r=g(e,["retrieval"]);r!=null&&v(t,["retrieval"],r);const i=g(e,["googleSearchRetrieval"]);i!=null&&v(t,["googleSearchRetrieval"],i);const a=g(e,["computerUse"]);if(a!=null&&v(t,["computerUse"],a),g(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(e,["codeExecution"]);l!=null&&v(t,["codeExecution"],l);const u=g(e,["enterpriseWebSearch"]);u!=null&&v(t,["enterpriseWebSearch"],u);const c=g(e,["googleMaps"]);c!=null&&v(t,["googleMaps"],c);const d=g(e,["googleSearch"]);d!=null&&v(t,["googleSearch"],d);const h=g(e,["urlContext"]);return h!=null&&v(t,["urlContext"],h),t}function m6(e){const t={},n=g(e,["promptTokenCount"]);n!=null&&v(t,["promptTokenCount"],n);const r=g(e,["cachedContentTokenCount"]);r!=null&&v(t,["cachedContentTokenCount"],r);const i=g(e,["candidatesTokenCount"]);i!=null&&v(t,["responseTokenCount"],i);const a=g(e,["toolUsePromptTokenCount"]);a!=null&&v(t,["toolUsePromptTokenCount"],a);const l=g(e,["thoughtsTokenCount"]);l!=null&&v(t,["thoughtsTokenCount"],l);const u=g(e,["totalTokenCount"]);u!=null&&v(t,["totalTokenCount"],u);const c=g(e,["promptTokensDetails"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(T=>T)),v(t,["promptTokensDetails"],_)}const d=g(e,["cacheTokensDetails"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(T=>T)),v(t,["cacheTokensDetails"],_)}const h=g(e,["candidatesTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(T=>T)),v(t,["responseTokensDetails"],_)}const m=g(e,["toolUsePromptTokensDetails"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(T=>T)),v(t,["toolUsePromptTokensDetails"],_)}const y=g(e,["trafficType"]);return y!=null&&v(t,["trafficType"],y),t}function g6(e){const t={},n=g(e,["data"]);if(n!=null&&v(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function y6(e){const t={},n=g(e,["content"]);n!=null&&v(t,["content"],n);const r=g(e,["citationMetadata"]);r!=null&&v(t,["citationMetadata"],v6(r));const i=g(e,["tokenCount"]);i!=null&&v(t,["tokenCount"],i);const a=g(e,["finishReason"]);a!=null&&v(t,["finishReason"],a);const l=g(e,["avgLogprobs"]);l!=null&&v(t,["avgLogprobs"],l);const u=g(e,["groundingMetadata"]);u!=null&&v(t,["groundingMetadata"],u);const c=g(e,["index"]);c!=null&&v(t,["index"],c);const d=g(e,["logprobsResult"]);d!=null&&v(t,["logprobsResult"],d);const h=g(e,["safetyRatings"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(_=>_)),v(t,["safetyRatings"],y)}const m=g(e,["urlContextMetadata"]);return m!=null&&v(t,["urlContextMetadata"],m),t}function v6(e){const t={},n=g(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(t,["citations"],r)}return t}function b6(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],Ye(e,r));const i=g(t,["contents"]);if(i!=null){let a=Or(i);Array.isArray(a)&&(a=a.map(l=>l)),v(n,["contents"],a)}return n}function _6(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),v(t,["tokensInfo"],i)}return t}function S6(e){const t={},n=g(e,["values"]);n!=null&&v(t,["values"],n);const r=g(e,["statistics"]);return r!=null&&v(t,["statistics"],T6(r)),t}function T6(e){const t={},n=g(e,["truncated"]);n!=null&&v(t,["truncated"],n);const r=g(e,["token_count"]);return r!=null&&v(t,["tokenCount"],r),t}function pp(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>O4(a))),v(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&v(t,["role"],r),t}function E6(e){const t={},n=g(e,["controlType"]);n!=null&&v(t,["controlType"],n);const r=g(e,["enableControlImageComputation"]);return r!=null&&v(t,["computeControl"],r),t}function w6(e){const t={};if(g(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function x6(e,t){const n={},r=g(e,["systemInstruction"]);t!==void 0&&r!=null&&v(t,["systemInstruction"],bn(r));const i=g(e,["tools"]);if(t!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>hD(u))),v(t,["tools"],l)}const a=g(e,["generationConfig"]);return t!==void 0&&a!=null&&v(t,["generationConfig"],g4(a)),n}function A6(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],Ye(e,r));const i=g(t,["contents"]);if(i!=null){let l=Or(i);Array.isArray(l)&&(l=l.map(u=>pp(u))),v(n,["contents"],l)}const a=g(t,["config"]);return a!=null&&w6(a),n}function C6(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],Ye(e,r));const i=g(t,["contents"]);if(i!=null){let l=Or(i);Array.isArray(l)&&(l=l.map(u=>u)),v(n,["contents"],l)}const a=g(t,["config"]);return a!=null&&x6(a,n),n}function M6(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["totalTokens"]);r!=null&&v(t,["totalTokens"],r);const i=g(e,["cachedContentTokenCount"]);return i!=null&&v(t,["cachedContentTokenCount"],i),t}function P6(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["totalTokens"]);return r!=null&&v(t,["totalTokens"],r),t}function N6(e,t){const n={},r=g(t,["model"]);return r!=null&&v(n,["_url","name"],Ye(e,r)),n}function O6(e,t){const n={},r=g(t,["model"]);return r!=null&&v(n,["_url","name"],Ye(e,r)),n}function I6(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}function D6(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}function R6(e,t){const n={},r=g(e,["outputGcsUri"]);t!==void 0&&r!=null&&v(t,["parameters","storageUri"],r);const i=g(e,["negativePrompt"]);t!==void 0&&i!=null&&v(t,["parameters","negativePrompt"],i);const a=g(e,["numberOfImages"]);t!==void 0&&a!=null&&v(t,["parameters","sampleCount"],a);const l=g(e,["aspectRatio"]);t!==void 0&&l!=null&&v(t,["parameters","aspectRatio"],l);const u=g(e,["guidanceScale"]);t!==void 0&&u!=null&&v(t,["parameters","guidanceScale"],u);const c=g(e,["seed"]);t!==void 0&&c!=null&&v(t,["parameters","seed"],c);const d=g(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&v(t,["parameters","safetySetting"],d);const h=g(e,["personGeneration"]);t!==void 0&&h!=null&&v(t,["parameters","personGeneration"],h);const m=g(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&v(t,["parameters","includeSafetyAttributes"],m);const y=g(e,["includeRaiReason"]);t!==void 0&&y!=null&&v(t,["parameters","includeRaiReason"],y);const _=g(e,["language"]);t!==void 0&&_!=null&&v(t,["parameters","language"],_);const T=g(e,["outputMimeType"]);t!==void 0&&T!=null&&v(t,["parameters","outputOptions","mimeType"],T);const w=g(e,["outputCompressionQuality"]);t!==void 0&&w!=null&&v(t,["parameters","outputOptions","compressionQuality"],w);const E=g(e,["addWatermark"]);t!==void 0&&E!=null&&v(t,["parameters","addWatermark"],E);const C=g(e,["labels"]);t!==void 0&&C!=null&&v(t,["labels"],C);const N=g(e,["editMode"]);t!==void 0&&N!=null&&v(t,["parameters","editMode"],N);const P=g(e,["baseSteps"]);return t!==void 0&&P!=null&&v(t,["parameters","editConfig","baseSteps"],P),n}function k6(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],Ye(e,r));const i=g(t,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const a=g(t,["referenceImages"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>U4(c))),v(n,["instances[0]","referenceImages"],u)}const l=g(t,["config"]);return l!=null&&R6(l,n),n}function L6(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>mp(a))),v(t,["generatedImages"],i)}return t}function U6(e,t){const n={},r=g(e,["taskType"]);t!==void 0&&r!=null&&v(t,["requests[]","taskType"],r);const i=g(e,["title"]);t!==void 0&&i!=null&&v(t,["requests[]","title"],i);const a=g(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&v(t,["requests[]","outputDimensionality"],a),g(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function j6(e,t){const n={},r=g(e,["taskType"]);t!==void 0&&r!=null&&v(t,["instances[]","task_type"],r);const i=g(e,["title"]);t!==void 0&&i!=null&&v(t,["instances[]","title"],i);const a=g(e,["outputDimensionality"]);t!==void 0&&a!=null&&v(t,["parameters","outputDimensionality"],a);const l=g(e,["mimeType"]);t!==void 0&&l!=null&&v(t,["instances[]","mimeType"],l);const u=g(e,["autoTruncate"]);return t!==void 0&&u!=null&&v(t,["parameters","autoTruncate"],u),n}function q6(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],Ye(e,r));const i=g(t,["contents"]);if(i!=null){let u=y_(e,i);Array.isArray(u)&&(u=u.map(c=>c)),v(n,["requests[]","content"],u)}const a=g(t,["config"]);a!=null&&U6(a,n);const l=g(t,["model"]);return l!==void 0&&v(n,["requests[]","model"],Ye(e,l)),n}function z6(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],Ye(e,r));const i=g(t,["contents"]);if(i!=null){let l=y_(e,i);Array.isArray(l)&&(l=l.map(u=>u)),v(n,["instances[]","content"],l)}const a=g(t,["config"]);return a!=null&&j6(a,n),n}function $6(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),v(t,["embeddings"],a)}const i=g(e,["metadata"]);return i!=null&&v(t,["metadata"],i),t}function B6(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>S6(l))),v(t,["embeddings"],a)}const i=g(e,["metadata"]);return i!=null&&v(t,["metadata"],i),t}function F6(e){const t={},n=g(e,["endpoint"]);n!=null&&v(t,["name"],n);const r=g(e,["deployedModelId"]);return r!=null&&v(t,["deployedModelId"],r),t}function H6(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&v(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function G6(e){const t={},n=g(e,["id"]);n!=null&&v(t,["id"],n);const r=g(e,["args"]);r!=null&&v(t,["args"],r);const i=g(e,["name"]);if(i!=null&&v(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function V6(e){const t={},n=g(e,["mode"]);n!=null&&v(t,["mode"],n);const r=g(e,["allowedFunctionNames"]);if(r!=null&&v(t,["allowedFunctionNames"],r),g(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function K6(e){const t={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(e,["description"]);n!=null&&v(t,["description"],n);const r=g(e,["name"]);r!=null&&v(t,["name"],r);const i=g(e,["parameters"]);i!=null&&v(t,["parameters"],i);const a=g(e,["parametersJsonSchema"]);a!=null&&v(t,["parametersJsonSchema"],a);const l=g(e,["response"]);l!=null&&v(t,["response"],l);const u=g(e,["responseJsonSchema"]);return u!=null&&v(t,["responseJsonSchema"],u),t}function Y6(e,t,n){const r={},i=g(t,["systemInstruction"]);n!==void 0&&i!=null&&v(n,["systemInstruction"],pp(bn(i)));const a=g(t,["temperature"]);a!=null&&v(r,["temperature"],a);const l=g(t,["topP"]);l!=null&&v(r,["topP"],l);const u=g(t,["topK"]);u!=null&&v(r,["topK"],u);const c=g(t,["candidateCount"]);c!=null&&v(r,["candidateCount"],c);const d=g(t,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const h=g(t,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const m=g(t,["responseLogprobs"]);m!=null&&v(r,["responseLogprobs"],m);const y=g(t,["logprobs"]);y!=null&&v(r,["logprobs"],y);const _=g(t,["presencePenalty"]);_!=null&&v(r,["presencePenalty"],_);const T=g(t,["frequencyPenalty"]);T!=null&&v(r,["frequencyPenalty"],T);const w=g(t,["seed"]);w!=null&&v(r,["seed"],w);const E=g(t,["responseMimeType"]);E!=null&&v(r,["responseMimeType"],E);const C=g(t,["responseSchema"]);C!=null&&v(r,["responseSchema"],v_(C));const N=g(t,["responseJsonSchema"]);if(N!=null&&v(r,["responseJsonSchema"],N),g(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=g(t,["safetySettings"]);if(n!==void 0&&P!=null){let F=P;Array.isArray(F)&&(F=F.map(fe=>j4(fe))),v(n,["safetySettings"],F)}const D=g(t,["tools"]);if(n!==void 0&&D!=null){let F=Al(D);Array.isArray(F)&&(F=F.map(fe=>G4(xl(fe)))),v(n,["tools"],F)}const O=g(t,["toolConfig"]);if(n!==void 0&&O!=null&&v(n,["toolConfig"],H4(O)),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=g(t,["cachedContent"]);n!==void 0&&R!=null&&v(n,["cachedContent"],ma(e,R));const k=g(t,["responseModalities"]);k!=null&&v(r,["responseModalities"],k);const q=g(t,["mediaResolution"]);q!=null&&v(r,["mediaResolution"],q);const G=g(t,["speechConfig"]);if(G!=null&&v(r,["speechConfig"],b_(G)),g(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const H=g(t,["thinkingConfig"]);H!=null&&v(r,["thinkingConfig"],H);const $=g(t,["imageConfig"]);return $!=null&&v(r,["imageConfig"],S4($)),r}function W6(e,t,n){const r={},i=g(t,["systemInstruction"]);n!==void 0&&i!=null&&v(n,["systemInstruction"],bn(i));const a=g(t,["temperature"]);a!=null&&v(r,["temperature"],a);const l=g(t,["topP"]);l!=null&&v(r,["topP"],l);const u=g(t,["topK"]);u!=null&&v(r,["topK"],u);const c=g(t,["candidateCount"]);c!=null&&v(r,["candidateCount"],c);const d=g(t,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const h=g(t,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const m=g(t,["responseLogprobs"]);m!=null&&v(r,["responseLogprobs"],m);const y=g(t,["logprobs"]);y!=null&&v(r,["logprobs"],y);const _=g(t,["presencePenalty"]);_!=null&&v(r,["presencePenalty"],_);const T=g(t,["frequencyPenalty"]);T!=null&&v(r,["frequencyPenalty"],T);const w=g(t,["seed"]);w!=null&&v(r,["seed"],w);const E=g(t,["responseMimeType"]);E!=null&&v(r,["responseMimeType"],E);const C=g(t,["responseSchema"]);C!=null&&v(r,["responseSchema"],v_(C));const N=g(t,["responseJsonSchema"]);N!=null&&v(r,["responseJsonSchema"],N);const P=g(t,["routingConfig"]);P!=null&&v(r,["routingConfig"],P);const D=g(t,["modelSelectionConfig"]);D!=null&&v(r,["modelConfig"],D);const O=g(t,["safetySettings"]);if(n!==void 0&&O!=null){let B=O;Array.isArray(B)&&(B=B.map(ne=>ne)),v(n,["safetySettings"],B)}const R=g(t,["tools"]);if(n!==void 0&&R!=null){let B=Al(R);Array.isArray(B)&&(B=B.map(ne=>hD(xl(ne)))),v(n,["tools"],B)}const k=g(t,["toolConfig"]);n!==void 0&&k!=null&&v(n,["toolConfig"],k);const q=g(t,["labels"]);n!==void 0&&q!=null&&v(n,["labels"],q);const G=g(t,["cachedContent"]);n!==void 0&&G!=null&&v(n,["cachedContent"],ma(e,G));const H=g(t,["responseModalities"]);H!=null&&v(r,["responseModalities"],H);const $=g(t,["mediaResolution"]);$!=null&&v(r,["mediaResolution"],$);const F=g(t,["speechConfig"]);F!=null&&v(r,["speechConfig"],dD(b_(F)));const fe=g(t,["audioTimestamp"]);fe!=null&&v(r,["audioTimestamp"],fe);const me=g(t,["thinkingConfig"]);me!=null&&v(r,["thinkingConfig"],me);const Se=g(t,["imageConfig"]);return Se!=null&&v(r,["imageConfig"],T4(Se)),r}function f1(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],Ye(e,r));const i=g(t,["contents"]);if(i!=null){let l=Or(i);Array.isArray(l)&&(l=l.map(u=>pp(u))),v(n,["contents"],l)}const a=g(t,["config"]);return a!=null&&v(n,["generationConfig"],Y6(e,a,n)),n}function d1(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],Ye(e,r));const i=g(t,["contents"]);if(i!=null){let l=Or(i);Array.isArray(l)&&(l=l.map(u=>u)),v(n,["contents"],l)}const a=g(t,["config"]);return a!=null&&v(n,["generationConfig"],W6(e,a,n)),n}function h1(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>y6(d))),v(t,["candidates"],c)}const i=g(e,["modelVersion"]);i!=null&&v(t,["modelVersion"],i);const a=g(e,["promptFeedback"]);a!=null&&v(t,["promptFeedback"],a);const l=g(e,["responseId"]);l!=null&&v(t,["responseId"],l);const u=g(e,["usageMetadata"]);return u!=null&&v(t,["usageMetadata"],u),t}function p1(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),v(t,["candidates"],d)}const i=g(e,["createTime"]);i!=null&&v(t,["createTime"],i);const a=g(e,["modelVersion"]);a!=null&&v(t,["modelVersion"],a);const l=g(e,["promptFeedback"]);l!=null&&v(t,["promptFeedback"],l);const u=g(e,["responseId"]);u!=null&&v(t,["responseId"],u);const c=g(e,["usageMetadata"]);return c!=null&&v(t,["usageMetadata"],c),t}function J6(e,t){const n={};if(g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=g(e,["numberOfImages"]);t!==void 0&&r!=null&&v(t,["parameters","sampleCount"],r);const i=g(e,["aspectRatio"]);t!==void 0&&i!=null&&v(t,["parameters","aspectRatio"],i);const a=g(e,["guidanceScale"]);if(t!==void 0&&a!=null&&v(t,["parameters","guidanceScale"],a),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=g(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&v(t,["parameters","safetySetting"],l);const u=g(e,["personGeneration"]);t!==void 0&&u!=null&&v(t,["parameters","personGeneration"],u);const c=g(e,["includeSafetyAttributes"]);t!==void 0&&c!=null&&v(t,["parameters","includeSafetyAttributes"],c);const d=g(e,["includeRaiReason"]);t!==void 0&&d!=null&&v(t,["parameters","includeRaiReason"],d);const h=g(e,["language"]);t!==void 0&&h!=null&&v(t,["parameters","language"],h);const m=g(e,["outputMimeType"]);t!==void 0&&m!=null&&v(t,["parameters","outputOptions","mimeType"],m);const y=g(e,["outputCompressionQuality"]);if(t!==void 0&&y!=null&&v(t,["parameters","outputOptions","compressionQuality"],y),g(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=g(e,["imageSize"]);if(t!==void 0&&_!=null&&v(t,["parameters","sampleImageSize"],_),g(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function X6(e,t){const n={},r=g(e,["outputGcsUri"]);t!==void 0&&r!=null&&v(t,["parameters","storageUri"],r);const i=g(e,["negativePrompt"]);t!==void 0&&i!=null&&v(t,["parameters","negativePrompt"],i);const a=g(e,["numberOfImages"]);t!==void 0&&a!=null&&v(t,["parameters","sampleCount"],a);const l=g(e,["aspectRatio"]);t!==void 0&&l!=null&&v(t,["parameters","aspectRatio"],l);const u=g(e,["guidanceScale"]);t!==void 0&&u!=null&&v(t,["parameters","guidanceScale"],u);const c=g(e,["seed"]);t!==void 0&&c!=null&&v(t,["parameters","seed"],c);const d=g(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&v(t,["parameters","safetySetting"],d);const h=g(e,["personGeneration"]);t!==void 0&&h!=null&&v(t,["parameters","personGeneration"],h);const m=g(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&v(t,["parameters","includeSafetyAttributes"],m);const y=g(e,["includeRaiReason"]);t!==void 0&&y!=null&&v(t,["parameters","includeRaiReason"],y);const _=g(e,["language"]);t!==void 0&&_!=null&&v(t,["parameters","language"],_);const T=g(e,["outputMimeType"]);t!==void 0&&T!=null&&v(t,["parameters","outputOptions","mimeType"],T);const w=g(e,["outputCompressionQuality"]);t!==void 0&&w!=null&&v(t,["parameters","outputOptions","compressionQuality"],w);const E=g(e,["addWatermark"]);t!==void 0&&E!=null&&v(t,["parameters","addWatermark"],E);const C=g(e,["labels"]);t!==void 0&&C!=null&&v(t,["labels"],C);const N=g(e,["imageSize"]);t!==void 0&&N!=null&&v(t,["parameters","sampleImageSize"],N);const P=g(e,["enhancePrompt"]);return t!==void 0&&P!=null&&v(t,["parameters","enhancePrompt"],P),n}function Q6(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],Ye(e,r));const i=g(t,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const a=g(t,["config"]);return a!=null&&J6(a,n),n}function Z6(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],Ye(e,r));const i=g(t,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const a=g(t,["config"]);return a!=null&&X6(a,n),n}function e4(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>d4(l))),v(t,["generatedImages"],a)}const i=g(e,["positivePromptSafetyAttributes"]);return i!=null&&v(t,["positivePromptSafetyAttributes"],cD(i)),t}function t4(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>mp(l))),v(t,["generatedImages"],a)}const i=g(e,["positivePromptSafetyAttributes"]);return i!=null&&v(t,["positivePromptSafetyAttributes"],fD(i)),t}function n4(e,t){const n={},r=g(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&v(t,["parameters","sampleCount"],r),g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=g(e,["durationSeconds"]);if(t!==void 0&&i!=null&&v(t,["parameters","durationSeconds"],i),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=g(e,["aspectRatio"]);t!==void 0&&a!=null&&v(t,["parameters","aspectRatio"],a);const l=g(e,["resolution"]);t!==void 0&&l!=null&&v(t,["parameters","resolution"],l);const u=g(e,["personGeneration"]);if(t!==void 0&&u!=null&&v(t,["parameters","personGeneration"],u),g(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=g(e,["negativePrompt"]);t!==void 0&&c!=null&&v(t,["parameters","negativePrompt"],c);const d=g(e,["enhancePrompt"]);if(t!==void 0&&d!=null&&v(t,["parameters","enhancePrompt"],d),g(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=g(e,["lastFrame"]);t!==void 0&&h!=null&&v(t,["instances[0]","lastFrame"],gp(h));const m=g(e,["referenceImages"]);if(t!==void 0&&m!=null){let y=m;Array.isArray(y)&&(y=y.map(_=>i5(_))),v(t,["instances[0]","referenceImages"],y)}if(g(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(g(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function r4(e,t){const n={},r=g(e,["numberOfVideos"]);t!==void 0&&r!=null&&v(t,["parameters","sampleCount"],r);const i=g(e,["outputGcsUri"]);t!==void 0&&i!=null&&v(t,["parameters","storageUri"],i);const a=g(e,["fps"]);t!==void 0&&a!=null&&v(t,["parameters","fps"],a);const l=g(e,["durationSeconds"]);t!==void 0&&l!=null&&v(t,["parameters","durationSeconds"],l);const u=g(e,["seed"]);t!==void 0&&u!=null&&v(t,["parameters","seed"],u);const c=g(e,["aspectRatio"]);t!==void 0&&c!=null&&v(t,["parameters","aspectRatio"],c);const d=g(e,["resolution"]);t!==void 0&&d!=null&&v(t,["parameters","resolution"],d);const h=g(e,["personGeneration"]);t!==void 0&&h!=null&&v(t,["parameters","personGeneration"],h);const m=g(e,["pubsubTopic"]);t!==void 0&&m!=null&&v(t,["parameters","pubsubTopic"],m);const y=g(e,["negativePrompt"]);t!==void 0&&y!=null&&v(t,["parameters","negativePrompt"],y);const _=g(e,["enhancePrompt"]);t!==void 0&&_!=null&&v(t,["parameters","enhancePrompt"],_);const T=g(e,["generateAudio"]);t!==void 0&&T!=null&&v(t,["parameters","generateAudio"],T);const w=g(e,["lastFrame"]);t!==void 0&&w!=null&&v(t,["instances[0]","lastFrame"],Jr(w));const E=g(e,["referenceImages"]);if(t!==void 0&&E!=null){let P=E;Array.isArray(P)&&(P=P.map(D=>a5(D))),v(t,["instances[0]","referenceImages"],P)}const C=g(e,["mask"]);t!==void 0&&C!=null&&v(t,["instances[0]","mask"],r5(C));const N=g(e,["compressionQuality"]);return t!==void 0&&N!=null&&v(t,["parameters","compressionQuality"],N),n}function i4(e){const t={},n=g(e,["name"]);n!=null&&v(t,["name"],n);const r=g(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=g(e,["done"]);i!=null&&v(t,["done"],i);const a=g(e,["error"]);a!=null&&v(t,["error"],a);const l=g(e,["response","generateVideoResponse"]);return l!=null&&v(t,["response"],l4(l)),t}function a4(e){const t={},n=g(e,["name"]);n!=null&&v(t,["name"],n);const r=g(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=g(e,["done"]);i!=null&&v(t,["done"],i);const a=g(e,["error"]);a!=null&&v(t,["error"],a);const l=g(e,["response"]);return l!=null&&v(t,["response"],u4(l)),t}function o4(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],Ye(e,r));const i=g(t,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const a=g(t,["image"]);a!=null&&v(n,["instances[0]","image"],gp(a));const l=g(t,["video"]);l!=null&&v(n,["instances[0]","video"],pD(l));const u=g(t,["source"]);u!=null&&c4(u,n);const c=g(t,["config"]);return c!=null&&n4(c,n),n}function s4(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],Ye(e,r));const i=g(t,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const a=g(t,["image"]);a!=null&&v(n,["instances[0]","image"],Jr(a));const l=g(t,["video"]);l!=null&&v(n,["instances[0]","video"],mD(l));const u=g(t,["source"]);u!=null&&f4(u,n);const c=g(t,["config"]);return c!=null&&r4(c,n),n}function l4(e){const t={},n=g(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>p4(l))),v(t,["generatedVideos"],a)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&v(t,["raiMediaFilteredCount"],r);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&v(t,["raiMediaFilteredReasons"],i),t}function u4(e){const t={},n=g(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>m4(l))),v(t,["generatedVideos"],a)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&v(t,["raiMediaFilteredCount"],r);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&v(t,["raiMediaFilteredReasons"],i),t}function c4(e,t){const n={},r=g(e,["prompt"]);t!==void 0&&r!=null&&v(t,["instances[0]","prompt"],r);const i=g(e,["image"]);t!==void 0&&i!=null&&v(t,["instances[0]","image"],gp(i));const a=g(e,["video"]);return t!==void 0&&a!=null&&v(t,["instances[0]","video"],pD(a)),n}function f4(e,t){const n={},r=g(e,["prompt"]);t!==void 0&&r!=null&&v(t,["instances[0]","prompt"],r);const i=g(e,["image"]);t!==void 0&&i!=null&&v(t,["instances[0]","image"],Jr(i));const a=g(e,["video"]);return t!==void 0&&a!=null&&v(t,["instances[0]","video"],mD(a)),n}function d4(e){const t={},n=g(e,["_self"]);n!=null&&v(t,["image"],E4(n));const r=g(e,["raiFilteredReason"]);r!=null&&v(t,["raiFilteredReason"],r);const i=g(e,["_self"]);return i!=null&&v(t,["safetyAttributes"],cD(i)),t}function mp(e){const t={},n=g(e,["_self"]);n!=null&&v(t,["image"],uD(n));const r=g(e,["raiFilteredReason"]);r!=null&&v(t,["raiFilteredReason"],r);const i=g(e,["_self"]);i!=null&&v(t,["safetyAttributes"],fD(i));const a=g(e,["prompt"]);return a!=null&&v(t,["enhancedPrompt"],a),t}function h4(e){const t={},n=g(e,["_self"]);n!=null&&v(t,["mask"],uD(n));const r=g(e,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),v(t,["labels"],i)}return t}function p4(e){const t={},n=g(e,["video"]);return n!=null&&v(t,["video"],t5(n)),t}function m4(e){const t={},n=g(e,["_self"]);return n!=null&&v(t,["video"],n5(n)),t}function g4(e){const t={},n=g(e,["modelSelectionConfig"]);n!=null&&v(t,["modelConfig"],n);const r=g(e,["responseJsonSchema"]);r!=null&&v(t,["responseJsonSchema"],r);const i=g(e,["audioTimestamp"]);i!=null&&v(t,["audioTimestamp"],i);const a=g(e,["candidateCount"]);a!=null&&v(t,["candidateCount"],a);const l=g(e,["enableAffectiveDialog"]);l!=null&&v(t,["enableAffectiveDialog"],l);const u=g(e,["frequencyPenalty"]);u!=null&&v(t,["frequencyPenalty"],u);const c=g(e,["logprobs"]);c!=null&&v(t,["logprobs"],c);const d=g(e,["maxOutputTokens"]);d!=null&&v(t,["maxOutputTokens"],d);const h=g(e,["mediaResolution"]);h!=null&&v(t,["mediaResolution"],h);const m=g(e,["presencePenalty"]);m!=null&&v(t,["presencePenalty"],m);const y=g(e,["responseLogprobs"]);y!=null&&v(t,["responseLogprobs"],y);const _=g(e,["responseMimeType"]);_!=null&&v(t,["responseMimeType"],_);const T=g(e,["responseModalities"]);T!=null&&v(t,["responseModalities"],T);const w=g(e,["responseSchema"]);w!=null&&v(t,["responseSchema"],w);const E=g(e,["routingConfig"]);E!=null&&v(t,["routingConfig"],E);const C=g(e,["seed"]);C!=null&&v(t,["seed"],C);const N=g(e,["speechConfig"]);N!=null&&v(t,["speechConfig"],dD(N));const P=g(e,["stopSequences"]);P!=null&&v(t,["stopSequences"],P);const D=g(e,["temperature"]);D!=null&&v(t,["temperature"],D);const O=g(e,["thinkingConfig"]);O!=null&&v(t,["thinkingConfig"],O);const R=g(e,["topK"]);R!=null&&v(t,["topK"],R);const k=g(e,["topP"]);if(k!=null&&v(t,["topP"],k),g(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function y4(e,t){const n={},r=g(t,["model"]);return r!=null&&v(n,["_url","name"],Ye(e,r)),n}function v4(e,t){const n={},r=g(t,["model"]);return r!=null&&v(n,["_url","name"],Ye(e,r)),n}function b4(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&v(t,["enableWidget"],n),t}function _4(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&v(t,["timeRangeFilter"],n),t}function S4(e){const t={},n=g(e,["aspectRatio"]);n!=null&&v(t,["aspectRatio"],n);const r=g(e,["imageSize"]);if(r!=null&&v(t,["imageSize"],r),g(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function T4(e){const t={},n=g(e,["aspectRatio"]);n!=null&&v(t,["aspectRatio"],n);const r=g(e,["imageSize"]);r!=null&&v(t,["imageSize"],r);const i=g(e,["outputMimeType"]);i!=null&&v(t,["imageOutputOptions","mimeType"],i);const a=g(e,["outputCompressionQuality"]);return a!=null&&v(t,["imageOutputOptions","compressionQuality"],a),t}function E4(e){const t={},n=g(e,["bytesBase64Encoded"]);n!=null&&v(t,["imageBytes"],io(n));const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function uD(e){const t={},n=g(e,["gcsUri"]);n!=null&&v(t,["gcsUri"],n);const r=g(e,["bytesBase64Encoded"]);r!=null&&v(t,["imageBytes"],io(r));const i=g(e,["mimeType"]);return i!=null&&v(t,["mimeType"],i),t}function gp(e){const t={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=g(e,["imageBytes"]);n!=null&&v(t,["bytesBase64Encoded"],io(n));const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function Jr(e){const t={},n=g(e,["gcsUri"]);n!=null&&v(t,["gcsUri"],n);const r=g(e,["imageBytes"]);r!=null&&v(t,["bytesBase64Encoded"],io(r));const i=g(e,["mimeType"]);return i!=null&&v(t,["mimeType"],i),t}function w4(e,t,n){const r={},i=g(t,["pageSize"]);n!==void 0&&i!=null&&v(n,["_query","pageSize"],i);const a=g(t,["pageToken"]);n!==void 0&&a!=null&&v(n,["_query","pageToken"],a);const l=g(t,["filter"]);n!==void 0&&l!=null&&v(n,["_query","filter"],l);const u=g(t,["queryBase"]);return n!==void 0&&u!=null&&v(n,["_url","models_url"],tD(e,u)),r}function x4(e,t,n){const r={},i=g(t,["pageSize"]);n!==void 0&&i!=null&&v(n,["_query","pageSize"],i);const a=g(t,["pageToken"]);n!==void 0&&a!=null&&v(n,["_query","pageToken"],a);const l=g(t,["filter"]);n!==void 0&&l!=null&&v(n,["_query","filter"],l);const u=g(t,["queryBase"]);return n!==void 0&&u!=null&&v(n,["_url","models_url"],tD(e,u)),r}function A4(e,t){const n={},r=g(t,["config"]);return r!=null&&w4(e,r,n),n}function C4(e,t){const n={},r=g(t,["config"]);return r!=null&&x4(e,r,n),n}function M4(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=g(e,["_self"]);if(i!=null){let a=nD(i);Array.isArray(a)&&(a=a.map(l=>B0(l))),v(t,["models"],a)}return t}function P4(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=g(e,["_self"]);if(i!=null){let a=nD(i);Array.isArray(a)&&(a=a.map(l=>F0(l))),v(t,["models"],a)}return t}function N4(e){const t={},n=g(e,["maskMode"]);n!=null&&v(t,["maskMode"],n);const r=g(e,["segmentationClasses"]);r!=null&&v(t,["maskClasses"],r);const i=g(e,["maskDilation"]);return i!=null&&v(t,["dilation"],i),t}function B0(e){const t={},n=g(e,["name"]);n!=null&&v(t,["name"],n);const r=g(e,["displayName"]);r!=null&&v(t,["displayName"],r);const i=g(e,["description"]);i!=null&&v(t,["description"],i);const a=g(e,["version"]);a!=null&&v(t,["version"],a);const l=g(e,["_self"]);l!=null&&v(t,["tunedModelInfo"],V4(l));const u=g(e,["inputTokenLimit"]);u!=null&&v(t,["inputTokenLimit"],u);const c=g(e,["outputTokenLimit"]);c!=null&&v(t,["outputTokenLimit"],c);const d=g(e,["supportedGenerationMethods"]);d!=null&&v(t,["supportedActions"],d);const h=g(e,["temperature"]);h!=null&&v(t,["temperature"],h);const m=g(e,["maxTemperature"]);m!=null&&v(t,["maxTemperature"],m);const y=g(e,["topP"]);y!=null&&v(t,["topP"],y);const _=g(e,["topK"]);_!=null&&v(t,["topK"],_);const T=g(e,["thinking"]);return T!=null&&v(t,["thinking"],T),t}function F0(e){const t={},n=g(e,["name"]);n!=null&&v(t,["name"],n);const r=g(e,["displayName"]);r!=null&&v(t,["displayName"],r);const i=g(e,["description"]);i!=null&&v(t,["description"],i);const a=g(e,["versionId"]);a!=null&&v(t,["version"],a);const l=g(e,["deployedModels"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(y=>F6(y))),v(t,["endpoints"],m)}const u=g(e,["labels"]);u!=null&&v(t,["labels"],u);const c=g(e,["_self"]);c!=null&&v(t,["tunedModelInfo"],K4(c));const d=g(e,["defaultCheckpointId"]);d!=null&&v(t,["defaultCheckpointId"],d);const h=g(e,["checkpoints"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(y=>y)),v(t,["checkpoints"],m)}return t}function O4(e){const t={},n=g(e,["mediaResolution"]);n!=null&&v(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&v(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&v(t,["executableCode"],i);const a=g(e,["fileData"]);a!=null&&v(t,["fileData"],H6(a));const l=g(e,["functionCall"]);l!=null&&v(t,["functionCall"],G6(l));const u=g(e,["functionResponse"]);u!=null&&v(t,["functionResponse"],u);const c=g(e,["inlineData"]);c!=null&&v(t,["inlineData"],g6(c));const d=g(e,["text"]);d!=null&&v(t,["text"],d);const h=g(e,["thought"]);h!=null&&v(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&v(t,["thoughtSignature"],m);const y=g(e,["videoMetadata"]);return y!=null&&v(t,["videoMetadata"],y),t}function I4(e){const t={},n=g(e,["productImage"]);return n!=null&&v(t,["image"],Jr(n)),t}function D4(e,t){const n={},r=g(e,["numberOfImages"]);t!==void 0&&r!=null&&v(t,["parameters","sampleCount"],r);const i=g(e,["baseSteps"]);t!==void 0&&i!=null&&v(t,["parameters","baseSteps"],i);const a=g(e,["outputGcsUri"]);t!==void 0&&a!=null&&v(t,["parameters","storageUri"],a);const l=g(e,["seed"]);t!==void 0&&l!=null&&v(t,["parameters","seed"],l);const u=g(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&v(t,["parameters","safetySetting"],u);const c=g(e,["personGeneration"]);t!==void 0&&c!=null&&v(t,["parameters","personGeneration"],c);const d=g(e,["addWatermark"]);t!==void 0&&d!=null&&v(t,["parameters","addWatermark"],d);const h=g(e,["outputMimeType"]);t!==void 0&&h!=null&&v(t,["parameters","outputOptions","mimeType"],h);const m=g(e,["outputCompressionQuality"]);t!==void 0&&m!=null&&v(t,["parameters","outputOptions","compressionQuality"],m);const y=g(e,["enhancePrompt"]);t!==void 0&&y!=null&&v(t,["parameters","enhancePrompt"],y);const _=g(e,["labels"]);return t!==void 0&&_!=null&&v(t,["labels"],_),n}function R4(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],Ye(e,r));const i=g(t,["source"]);i!=null&&L4(i,n);const a=g(t,["config"]);return a!=null&&D4(a,n),n}function k4(e){const t={},n=g(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>mp(i))),v(t,["generatedImages"],r)}return t}function L4(e,t){const n={},r=g(e,["prompt"]);t!==void 0&&r!=null&&v(t,["instances[0]","prompt"],r);const i=g(e,["personImage"]);t!==void 0&&i!=null&&v(t,["instances[0]","personImage","image"],Jr(i));const a=g(e,["productImages"]);if(t!==void 0&&a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>I4(u))),v(t,["instances[0]","productImages"],l)}return n}function U4(e){const t={},n=g(e,["referenceImage"]);n!=null&&v(t,["referenceImage"],Jr(n));const r=g(e,["referenceId"]);r!=null&&v(t,["referenceId"],r);const i=g(e,["referenceType"]);i!=null&&v(t,["referenceType"],i);const a=g(e,["maskImageConfig"]);a!=null&&v(t,["maskImageConfig"],N4(a));const l=g(e,["controlImageConfig"]);l!=null&&v(t,["controlImageConfig"],E6(l));const u=g(e,["styleImageConfig"]);u!=null&&v(t,["styleImageConfig"],u);const c=g(e,["subjectImageConfig"]);return c!=null&&v(t,["subjectImageConfig"],c),t}function cD(e){const t={},n=g(e,["safetyAttributes","categories"]);n!=null&&v(t,["categories"],n);const r=g(e,["safetyAttributes","scores"]);r!=null&&v(t,["scores"],r);const i=g(e,["contentType"]);return i!=null&&v(t,["contentType"],i),t}function fD(e){const t={},n=g(e,["safetyAttributes","categories"]);n!=null&&v(t,["categories"],n);const r=g(e,["safetyAttributes","scores"]);r!=null&&v(t,["scores"],r);const i=g(e,["contentType"]);return i!=null&&v(t,["contentType"],i),t}function j4(e){const t={},n=g(e,["category"]);if(n!=null&&v(t,["category"],n),g(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(e,["threshold"]);return r!=null&&v(t,["threshold"],r),t}function q4(e){const t={},n=g(e,["image"]);return n!=null&&v(t,["image"],Jr(n)),t}function z4(e,t){const n={},r=g(e,["mode"]);t!==void 0&&r!=null&&v(t,["parameters","mode"],r);const i=g(e,["maxPredictions"]);t!==void 0&&i!=null&&v(t,["parameters","maxPredictions"],i);const a=g(e,["confidenceThreshold"]);t!==void 0&&a!=null&&v(t,["parameters","confidenceThreshold"],a);const l=g(e,["maskDilation"]);t!==void 0&&l!=null&&v(t,["parameters","maskDilation"],l);const u=g(e,["binaryColorThreshold"]);t!==void 0&&u!=null&&v(t,["parameters","binaryColorThreshold"],u);const c=g(e,["labels"]);return t!==void 0&&c!=null&&v(t,["labels"],c),n}function $4(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],Ye(e,r));const i=g(t,["source"]);i!=null&&F4(i,n);const a=g(t,["config"]);return a!=null&&z4(a,n),n}function B4(e){const t={},n=g(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>h4(i))),v(t,["generatedMasks"],r)}return t}function F4(e,t){const n={},r=g(e,["prompt"]);t!==void 0&&r!=null&&v(t,["instances[0]","prompt"],r);const i=g(e,["image"]);t!==void 0&&i!=null&&v(t,["instances[0]","image"],Jr(i));const a=g(e,["scribbleImage"]);return t!==void 0&&a!=null&&v(t,["instances[0]","scribble"],q4(a)),n}function dD(e){const t={},n=g(e,["languageCode"]);n!=null&&v(t,["languageCode"],n);const r=g(e,["voiceConfig"]);if(r!=null&&v(t,["voiceConfig"],r),g(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function H4(e){const t={},n=g(e,["functionCallingConfig"]);n!=null&&v(t,["functionCallingConfig"],V6(n));const r=g(e,["retrievalConfig"]);return r!=null&&v(t,["retrievalConfig"],r),t}function G4(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),v(t,["functionDeclarations"],h)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["googleSearchRetrieval"]);r!=null&&v(t,["googleSearchRetrieval"],r);const i=g(e,["computerUse"]);i!=null&&v(t,["computerUse"],i);const a=g(e,["fileSearch"]);a!=null&&v(t,["fileSearch"],a);const l=g(e,["codeExecution"]);if(l!=null&&v(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(e,["googleMaps"]);u!=null&&v(t,["googleMaps"],b4(u));const c=g(e,["googleSearch"]);c!=null&&v(t,["googleSearch"],_4(c));const d=g(e,["urlContext"]);return d!=null&&v(t,["urlContext"],d),t}function hD(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>K6(y))),v(t,["functionDeclarations"],m)}const r=g(e,["retrieval"]);r!=null&&v(t,["retrieval"],r);const i=g(e,["googleSearchRetrieval"]);i!=null&&v(t,["googleSearchRetrieval"],i);const a=g(e,["computerUse"]);if(a!=null&&v(t,["computerUse"],a),g(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(e,["codeExecution"]);l!=null&&v(t,["codeExecution"],l);const u=g(e,["enterpriseWebSearch"]);u!=null&&v(t,["enterpriseWebSearch"],u);const c=g(e,["googleMaps"]);c!=null&&v(t,["googleMaps"],c);const d=g(e,["googleSearch"]);d!=null&&v(t,["googleSearch"],d);const h=g(e,["urlContext"]);return h!=null&&v(t,["urlContext"],h),t}function V4(e){const t={},n=g(e,["baseModel"]);n!=null&&v(t,["baseModel"],n);const r=g(e,["createTime"]);r!=null&&v(t,["createTime"],r);const i=g(e,["updateTime"]);return i!=null&&v(t,["updateTime"],i),t}function K4(e){const t={},n=g(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&v(t,["baseModel"],n);const r=g(e,["createTime"]);r!=null&&v(t,["createTime"],r);const i=g(e,["updateTime"]);return i!=null&&v(t,["updateTime"],i),t}function Y4(e,t){const n={},r=g(e,["displayName"]);t!==void 0&&r!=null&&v(t,["displayName"],r);const i=g(e,["description"]);t!==void 0&&i!=null&&v(t,["description"],i);const a=g(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&v(t,["defaultCheckpointId"],a),n}function W4(e,t){const n={},r=g(e,["displayName"]);t!==void 0&&r!=null&&v(t,["displayName"],r);const i=g(e,["description"]);t!==void 0&&i!=null&&v(t,["description"],i);const a=g(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&v(t,["defaultCheckpointId"],a),n}function J4(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","name"],Ye(e,r));const i=g(t,["config"]);return i!=null&&Y4(i,n),n}function X4(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],Ye(e,r));const i=g(t,["config"]);return i!=null&&W4(i,n),n}function Q4(e,t){const n={},r=g(e,["outputGcsUri"]);t!==void 0&&r!=null&&v(t,["parameters","storageUri"],r);const i=g(e,["safetyFilterLevel"]);t!==void 0&&i!=null&&v(t,["parameters","safetySetting"],i);const a=g(e,["personGeneration"]);t!==void 0&&a!=null&&v(t,["parameters","personGeneration"],a);const l=g(e,["includeRaiReason"]);t!==void 0&&l!=null&&v(t,["parameters","includeRaiReason"],l);const u=g(e,["outputMimeType"]);t!==void 0&&u!=null&&v(t,["parameters","outputOptions","mimeType"],u);const c=g(e,["outputCompressionQuality"]);t!==void 0&&c!=null&&v(t,["parameters","outputOptions","compressionQuality"],c);const d=g(e,["enhanceInputImage"]);t!==void 0&&d!=null&&v(t,["parameters","upscaleConfig","enhanceInputImage"],d);const h=g(e,["imagePreservationFactor"]);t!==void 0&&h!=null&&v(t,["parameters","upscaleConfig","imagePreservationFactor"],h);const m=g(e,["labels"]);t!==void 0&&m!=null&&v(t,["labels"],m);const y=g(e,["numberOfImages"]);t!==void 0&&y!=null&&v(t,["parameters","sampleCount"],y);const _=g(e,["mode"]);return t!==void 0&&_!=null&&v(t,["parameters","mode"],_),n}function Z4(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],Ye(e,r));const i=g(t,["image"]);i!=null&&v(n,["instances[0]","image"],Jr(i));const a=g(t,["upscaleFactor"]);a!=null&&v(n,["parameters","upscaleConfig","upscaleFactor"],a);const l=g(t,["config"]);return l!=null&&Q4(l,n),n}function e5(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>mp(a))),v(t,["generatedImages"],i)}return t}function t5(e){const t={},n=g(e,["uri"]);n!=null&&v(t,["uri"],n);const r=g(e,["encodedVideo"]);r!=null&&v(t,["videoBytes"],io(r));const i=g(e,["encoding"]);return i!=null&&v(t,["mimeType"],i),t}function n5(e){const t={},n=g(e,["gcsUri"]);n!=null&&v(t,["uri"],n);const r=g(e,["bytesBase64Encoded"]);r!=null&&v(t,["videoBytes"],io(r));const i=g(e,["mimeType"]);return i!=null&&v(t,["mimeType"],i),t}function r5(e){const t={},n=g(e,["image"]);n!=null&&v(t,["_self"],Jr(n));const r=g(e,["maskMode"]);return r!=null&&v(t,["maskMode"],r),t}function i5(e){const t={},n=g(e,["image"]);n!=null&&v(t,["image"],gp(n));const r=g(e,["referenceType"]);return r!=null&&v(t,["referenceType"],r),t}function a5(e){const t={},n=g(e,["image"]);n!=null&&v(t,["image"],Jr(n));const r=g(e,["referenceType"]);return r!=null&&v(t,["referenceType"],r),t}function pD(e){const t={},n=g(e,["uri"]);n!=null&&v(t,["uri"],n);const r=g(e,["videoBytes"]);r!=null&&v(t,["encodedVideo"],io(r));const i=g(e,["mimeType"]);return i!=null&&v(t,["encoding"],i),t}function mD(e){const t={},n=g(e,["uri"]);n!=null&&v(t,["gcsUri"],n);const r=g(e,["videoBytes"]);r!=null&&v(t,["bytesBase64Encoded"],io(r));const i=g(e,["mimeType"]);return i!=null&&v(t,["mimeType"],i),t}const o5="Content-Type",s5="X-Server-Timeout",l5="User-Agent",H0="x-goog-api-client",u5="1.30.0",c5=`google-genai-sdk/${u5}`,f5="v1beta1",d5="v1beta",m1=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class h5{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:f5,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:d5,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[l,u]of Object.entries(t.queryParams))i.searchParams.append(l,String(u));let a={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=t.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),t.abortSignal),this.unaryApiCall(i,a,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=t.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),t.abortSignal),this.streamApiCall(i,a,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,i){if(n&&n.timeout||i){const a=new AbortController,l=a.signal;if(n.timeout&&n?.timeout>0){const u=setTimeout(()=>a.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),t.signal=l}return n&&n.extraBody!==null&&p5(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await g1(i),new q0(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await g1(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){var n;return il(this,arguments,function*(){const i=(n=t?.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";for(;;){const{done:u,value:c}=yield ct(i.read());if(u){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=a.decode(c,{stream:!0});try{const m=JSON.parse(d);if("error"in m){const y=JSON.parse(JSON.stringify(m.error)),_=y.status,T=y.code,w=`got status: ${_}. ${JSON.stringify(m)}`;if(T>=400&&T<600)throw new hp({message:w,status:T})}}catch(m){if(m.name==="ApiError")throw m}l+=d;let h=l.match(m1);for(;h;){const m=h[1];try{const y=new Response(m,{headers:t?.headers,status:t?.status,statusText:t?.statusText});yield yield ct(new q0(y)),l=l.slice(h[0].length),h=l.match(m1)}catch(y){throw new Error(`exception parsing stream chunk ${m}. ${y}`)}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=c5+" "+this.clientOptions.userAgentExtra;return t[l5]=n,t[H0]=n,t[o5]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[i,a]of Object.entries(t.headers))r.append(i,a);t.timeout&&t.timeout>0&&r.append(s5,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,l=await a.stat(t);i.sizeBytes=String(l.size);const u=(r=n?.mimeType)!==null&&r!==void 0?r:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c={file:i},d=this.getFileName(t),h=pe("upload/v1beta/files",c._url),m=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,d,c,n?.httpOptions);return a.upload(t,m,this)}async uploadFileToFileSearchStore(t,n,r){var i;const a=this.clientOptions.uploader,l=await a.stat(n),u=String(l.size),c=(i=r?.mimeType)!==null&&i!==void 0?i:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${t}:uploadToFileSearchStore`,h=this.getFileName(n),m={};r?.customMetadata&&(m.customMetadata=r.customMetadata),r?.chunkingConfig&&(m.chunkingConfig=r.chunkingConfig);const y=await this.fetchUploadUrl(d,u,c,h,m,r?.httpOptions);return a.uploadToFileSearchStore(n,y,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,i,a,l){var u;let c={};l?c=l:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:t,body:JSON.stringify(a),httpMethod:"POST",httpOptions:c});if(!d||!d?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=d?.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function g1(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new hp({message:i,status:n}):new Error(i)}}function p5(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const a=JSON.parse(e.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,l){const u=Object.assign({},a);for(const c in l)if(Object.prototype.hasOwnProperty.call(l,c)){const d=l[c],h=u[c];d&&typeof d=="object"&&!Array.isArray(d)&&h&&typeof h=="object"&&!Array.isArray(h)?u[c]=r(h,d):(h&&d&&typeof h!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof d}. Overwriting.`),u[c]=d)}return u}const i=r(n,t);e.body=JSON.stringify(i)}const m5="mcp_used/unknown";let g5=!1;function gD(e){for(const t of e)if(y5(t)||typeof t=="object"&&"inputSchema"in t)return!0;return g5}function yD(e){var t;const n=(t=e[H0])!==null&&t!==void 0?t:"";e[H0]=(n+` ${m5}`).trimStart()}function y5(e){return e!==null&&typeof e=="object"&&e instanceof S_}function v5(e,t=100){return il(this,arguments,function*(){let r,i=0;for(;i<t;){const a=yield ct(e.listTools({cursor:r}));for(const l of a.tools)yield yield ct(l),i++;if(!a.nextCursor)break;r=a.nextCursor}})}class S_{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new S_(t,n)}async initialize(){var t,n,r,i;if(this.mcpTools.length>0)return;const a={},l=[];for(const h of this.mcpClients)try{for(var u=!0,c=(n=void 0,ac(v5(h))),d;d=await c.next(),t=d.done,!t;u=!0){i=d.value,u=!1;const m=i;l.push(m);const y=m.name;if(a[y])throw new Error(`Duplicate function name ${y} found in MCP tools. Please ensure function names are unique.`);a[y]=h}}catch(m){n={error:m}}finally{try{!u&&!t&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),cG(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}async function b5(e,t,n){const r=new nG;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),t(r)}class _5{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),l=E5(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const h=new Promise(P=>{d=P}),m=t.callbacks,y=function(){d({})},_=this.apiClient,T={onopen:y,onmessage:P=>{b5(_,m.onmessage,P)},onerror:(n=m?.onerror)!==null&&n!==void 0?n:function(P){},onclose:(r=m?.onclose)!==null&&r!==void 0?r:function(P){}},w=this.webSocketFactory.create(c,T5(l),T);w.connect(),await h;const N={setup:{model:Ye(this.apiClient,t.model)}};return w.send(JSON.stringify(N)),new S5(w,this.apiClient)}}class S5{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=s6(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=o6(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Qs.PLAY)}pause(){this.sendPlaybackControl(Qs.PAUSE)}stop(){this.sendPlaybackControl(Qs.STOP)}resetContext(){this.sendPlaybackControl(Qs.RESET_CONTEXT)}close(){this.conn.close()}}function T5(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function E5(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}const w5="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function x5(e,t,n){const r=new tG;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(e.isVertexAI()){const l=c6(a);Object.assign(r,l)}else Object.assign(r,a);t(r)}class A5{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new _5(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,i,a,l,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const m=this.apiClient.getHeaders();t.config&&t.config.tools&&gD(t.config.tools)&&yD(m);const y=N5(m);if(this.apiClient.isVertexAI())h=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(y,h);else{const G=this.apiClient.getApiKey();let H="BidiGenerateContent",$="key";G?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),H="BidiGenerateContentConstrained",$="access_token"),h=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${H}?${$}=${G}`}let _=()=>{};const T=new Promise(G=>{_=G}),w=t.callbacks,E=function(){var G;(G=w?.onopen)===null||G===void 0||G.call(w),_({})},C=this.apiClient,N={onopen:E,onmessage:G=>{x5(C,w.onmessage,G)},onerror:(n=w?.onerror)!==null&&n!==void 0?n:function(G){},onclose:(r=w?.onclose)!==null&&r!==void 0?r:function(G){}},P=this.webSocketFactory.create(h,P5(y),N);P.connect(),await T;let D=Ye(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const G=this.apiClient.getProject(),H=this.apiClient.getLocation();D=`projects/${G}/locations/${H}/`+D}let O={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[lh.AUDIO]}:t.config.responseModalities=[lh.AUDIO]),!((a=t.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const R=(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],k=[];for(const G of R)if(this.isCallableTool(G)){const H=G;k.push(await H.tool())}else k.push(G);k.length>0&&(t.config.tools=k);const q={model:D,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?O=a6(this.apiClient,q):O=i6(this.apiClient,q),delete O.config,P.send(JSON.stringify(O)),new M5(P,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const C5={turnComplete:!0};class M5{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Or(n.turns),t.isVertexAI()||(r=r.map(i=>pp(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!t.isVertexAI()&&!("id"in a))throw new Error(w5)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},C5),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:u6(t)}:n={realtimeInput:l6(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function P5(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function N5(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}const y1=10;function v1(e){var t,n,r;if(!((t=e?.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const l of(n=e?.tools)!==null&&n!==void 0?n:[])if(al(l)){i=!0;break}if(!i)return!0;const a=(r=e?.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function al(e){return"callTool"in e&&typeof e.callTool=="function"}function O5(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>al(i)))!==null&&r!==void 0?r:!1}function b1(e){var t;const n=[];return!((t=e?.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,i)=>{if(al(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function _1(e){var t;return!(!((t=e?.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}class I5 extends pa{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,i,a,l,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!O5(n)||v1(n.config))return await this.generateContentInternal(c);const d=b1(n);if(d.length>0){const w=d.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let h,m;const y=Or(c.contents),_=(a=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:y1;let T=0;for(;T<_&&(h=await this.generateContentInternal(c),!(!h.functionCalls||h.functionCalls.length===0));){const w=h.candidates[0].content,E=[];for(const C of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(al(C)){const P=await C.callTool(h.functionCalls);E.push(...P)}T++,m={role:"user",parts:E},c.contents=Or(c.contents),c.contents.push(w),c.contents.push(m),_1(c.config)&&(y.push(w),y.push(m))}return _1(c.config)&&(h.automaticFunctionCallingHistory=y),h},this.generateContentStream=async n=>{var r,i,a,l,u;if(this.maybeMoveToResponseJsonSchem(n),v1(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const c=b1(n);if(c.length>0){const m=c.map(y=>`tools[${y}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(a=(i=(r=n?.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,h=(u=(l=n?.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const l=[];if(r?.generatedImages)for(const c of r.generatedImages)c&&c?.safetyAttributes&&((i=c?.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=c?.safetyAttributes:l.push(c);let u;return a?u={generatedImages:l,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Zo(ra.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,l,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,i;const a=(n=t.config)===null||n===void 0?void 0:n.tools;if(!a)return t;const l=await Promise.all(a.map(async c=>al(c)?await c.tool():c)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(u.config.tools=l,t.config&&t.config.tools&&gD(t.config.tools)){const c=(i=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),yD(d),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(t){var n,r,i;const a=new Map;for(const l of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(al(l)){const u=l,c=await u.tool();for(const d of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(a.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);a.set(d.name,u)}}return a}async processAfcStream(t){var n,r,i;const a=(i=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:y1;let l=!1,u=0;const c=await this.initAfcToolsMap(t);return(function(d,h,m){var y,_;return il(this,arguments,function*(){for(var T,w,E,C;u<a;){l&&(u++,l=!1);const O=yield ct(d.processParamsMaybeAddMcpUsage(m)),R=yield ct(d.generateContentStreamInternal(O)),k=[],q=[];try{for(var N=!0,P=(w=void 0,ac(R)),D;D=yield ct(P.next()),T=D.done,!T;N=!0){C=D.value,N=!1;const G=C;if(yield yield ct(G),G.candidates&&(!((y=G.candidates[0])===null||y===void 0)&&y.content)){q.push(G.candidates[0].content);for(const H of(_=G.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(u<a&&H.functionCall){if(!H.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(H.functionCall.name)){const $=yield ct(h.get(H.functionCall.name).callTool([H.functionCall]));k.push(...$)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${H.functionCall.name}`)}}}}catch(G){w={error:G}}finally{try{!N&&!T&&(E=P.return)&&(yield ct(E.call(P)))}finally{if(w)throw w.error}}if(k.length>0){l=!0;const G=new Uu;G.candidates=[{content:{role:"user",parts:k}}],yield yield ct(G);const H=[];H.push(...q),H.push({role:"user",parts:k});const $=Or(m.contents).concat(H);m.contents=$}else break}})})(this,c,t)}async generateContentInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=d1(this.apiClient,t);return u=pe("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=p1(h),y=new Uu;return Object.assign(y,m),y})}else{const d=f1(this.apiClient,t);return u=pe("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=h1(h),y=new Uu;return Object.assign(y,m),y})}}async generateContentStreamInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=d1(this.apiClient,t);return u=pe("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(m){return il(this,arguments,function*(){var y,_,T,w;try{for(var E=!0,C=ac(m),N;N=yield ct(C.next()),y=N.done,!y;E=!0){w=N.value,E=!1;const P=w,D=p1(yield ct(P.json()));D.sdkHttpResponse={headers:P.headers};const O=new Uu;Object.assign(O,D),yield yield ct(O)}}catch(P){_={error:P}}finally{try{!E&&!y&&(T=C.return)&&(yield ct(T.call(C)))}finally{if(_)throw _.error}}})})}else{const d=f1(this.apiClient,t);return u=pe("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),l.then(function(m){return il(this,arguments,function*(){var y,_,T,w;try{for(var E=!0,C=ac(m),N;N=yield ct(C.next()),y=N.done,!y;E=!0){w=N.value,E=!1;const P=w,D=h1(yield ct(P.json()));D.sdkHttpResponse={headers:P.headers};const O=new Uu;Object.assign(O,D),yield yield ct(O)}}catch(P){_={error:P}}finally{try{!E&&!y&&(T=C.return)&&(yield ct(T.call(C)))}finally{if(_)throw _.error}}})})}}async embedContent(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=z6(this.apiClient,t);return u=pe("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=B6(h),y=new WC;return Object.assign(y,m),y})}else{const d=q6(this.apiClient,t);return u=pe("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=$6(h),y=new WC;return Object.assign(y,m),y})}}async generateImagesInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Z6(this.apiClient,t);return u=pe("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=t4(h),y=new JC;return Object.assign(y,m),y})}else{const d=Q6(this.apiClient,t);return u=pe("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=e4(h),y=new JC;return Object.assign(y,m),y})}}async editImageInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=k6(this.apiClient,t);return a=pe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=L6(c),h=new HH;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=Z4(this.apiClient,t);return a=pe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=e5(c),h=new GH;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=R4(this.apiClient,t);return a=pe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=k4(c),h=new VH;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=$4(this.apiClient,t);return a=pe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=B4(c),h=new KH;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=v4(this.apiClient,t);return u=pe("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>F0(h))}else{const d=y4(this.apiClient,t);return u=pe("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>B0(h))}}async listInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=C4(this.apiClient,t);return u=pe("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=P4(h),y=new XC;return Object.assign(y,m),y})}else{const d=A4(this.apiClient,t);return u=pe("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=M4(h),y=new XC;return Object.assign(y,m),y})}}async update(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=X4(this.apiClient,t);return u=pe("{model}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>F0(h))}else{const d=J4(this.apiClient,t);return u=pe("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>B0(h))}}async delete(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=O6(this.apiClient,t);return u=pe("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=D6(h),y=new QC;return Object.assign(y,m),y})}else{const d=N6(this.apiClient,t);return u=pe("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=I6(h),y=new QC;return Object.assign(y,m),y})}}async countTokens(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=C6(this.apiClient,t);return u=pe("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=P6(h),y=new ZC;return Object.assign(y,m),y})}else{const d=A6(this.apiClient,t);return u=pe("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=M6(h),y=new ZC;return Object.assign(y,m),y})}}async computeTokens(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=b6(this.apiClient,t);return a=pe("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=_6(c),h=new YH;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=s4(this.apiClient,t);return u=pe("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>{const m=a4(h),y=new uh;return Object.assign(y,m),y})}else{const d=o4(this.apiClient,t);return u=pe("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>{const m=i4(h),y=new uh;return Object.assign(y,m),y})}}}class D5 extends pa{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=jH(t);return u=pe("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l}else{const d=UH(t);return u=pe("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l}}async fetchPredictVideosOperationInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=NH(t);return a=pe("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}function R5(e){const t={},n=g(e,["data"]);if(n!=null&&v(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function k5(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>H5(a))),v(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&v(t,["role"],r),t}function L5(e,t,n){const r={},i=g(t,["expireTime"]);n!==void 0&&i!=null&&v(n,["expireTime"],i);const a=g(t,["newSessionExpireTime"]);n!==void 0&&a!=null&&v(n,["newSessionExpireTime"],a);const l=g(t,["uses"]);n!==void 0&&l!=null&&v(n,["uses"],l);const u=g(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&v(n,["bidiGenerateContentSetup"],F5(e,u));const c=g(t,["lockAdditionalFields"]);return n!==void 0&&c!=null&&v(n,["fieldMask"],c),r}function U5(e,t){const n={},r=g(t,["config"]);return r!=null&&v(n,["config"],L5(e,r,n)),n}function j5(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&v(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function q5(e){const t={},n=g(e,["id"]);n!=null&&v(t,["id"],n);const r=g(e,["args"]);r!=null&&v(t,["args"],r);const i=g(e,["name"]);if(i!=null&&v(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function z5(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&v(t,["enableWidget"],n),t}function $5(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&v(t,["timeRangeFilter"],n),t}function B5(e,t){const n={},r=g(e,["generationConfig"]);t!==void 0&&r!=null&&v(t,["setup","generationConfig"],r);const i=g(e,["responseModalities"]);t!==void 0&&i!=null&&v(t,["setup","generationConfig","responseModalities"],i);const a=g(e,["temperature"]);t!==void 0&&a!=null&&v(t,["setup","generationConfig","temperature"],a);const l=g(e,["topP"]);t!==void 0&&l!=null&&v(t,["setup","generationConfig","topP"],l);const u=g(e,["topK"]);t!==void 0&&u!=null&&v(t,["setup","generationConfig","topK"],u);const c=g(e,["maxOutputTokens"]);t!==void 0&&c!=null&&v(t,["setup","generationConfig","maxOutputTokens"],c);const d=g(e,["mediaResolution"]);t!==void 0&&d!=null&&v(t,["setup","generationConfig","mediaResolution"],d);const h=g(e,["seed"]);t!==void 0&&h!=null&&v(t,["setup","generationConfig","seed"],h);const m=g(e,["speechConfig"]);t!==void 0&&m!=null&&v(t,["setup","generationConfig","speechConfig"],__(m));const y=g(e,["thinkingConfig"]);t!==void 0&&y!=null&&v(t,["setup","generationConfig","thinkingConfig"],y);const _=g(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&v(t,["setup","generationConfig","enableAffectiveDialog"],_);const T=g(e,["systemInstruction"]);t!==void 0&&T!=null&&v(t,["setup","systemInstruction"],k5(bn(T)));const w=g(e,["tools"]);if(t!==void 0&&w!=null){let R=Al(w);Array.isArray(R)&&(R=R.map(k=>V5(xl(k)))),v(t,["setup","tools"],R)}const E=g(e,["sessionResumption"]);t!==void 0&&E!=null&&v(t,["setup","sessionResumption"],G5(E));const C=g(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&v(t,["setup","inputAudioTranscription"],C);const N=g(e,["outputAudioTranscription"]);t!==void 0&&N!=null&&v(t,["setup","outputAudioTranscription"],N);const P=g(e,["realtimeInputConfig"]);t!==void 0&&P!=null&&v(t,["setup","realtimeInputConfig"],P);const D=g(e,["contextWindowCompression"]);t!==void 0&&D!=null&&v(t,["setup","contextWindowCompression"],D);const O=g(e,["proactivity"]);return t!==void 0&&O!=null&&v(t,["setup","proactivity"],O),n}function F5(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["setup","model"],Ye(e,r));const i=g(t,["config"]);return i!=null&&v(n,["config"],B5(i,n)),n}function H5(e){const t={},n=g(e,["mediaResolution"]);n!=null&&v(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&v(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&v(t,["executableCode"],i);const a=g(e,["fileData"]);a!=null&&v(t,["fileData"],j5(a));const l=g(e,["functionCall"]);l!=null&&v(t,["functionCall"],q5(l));const u=g(e,["functionResponse"]);u!=null&&v(t,["functionResponse"],u);const c=g(e,["inlineData"]);c!=null&&v(t,["inlineData"],R5(c));const d=g(e,["text"]);d!=null&&v(t,["text"],d);const h=g(e,["thought"]);h!=null&&v(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&v(t,["thoughtSignature"],m);const y=g(e,["videoMetadata"]);return y!=null&&v(t,["videoMetadata"],y),t}function G5(e){const t={},n=g(e,["handle"]);if(n!=null&&v(t,["handle"],n),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function V5(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),v(t,["functionDeclarations"],h)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["googleSearchRetrieval"]);r!=null&&v(t,["googleSearchRetrieval"],r);const i=g(e,["computerUse"]);i!=null&&v(t,["computerUse"],i);const a=g(e,["fileSearch"]);a!=null&&v(t,["fileSearch"],a);const l=g(e,["codeExecution"]);if(l!=null&&v(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(e,["googleMaps"]);u!=null&&v(t,["googleMaps"],z5(u));const c=g(e,["googleSearch"]);c!=null&&v(t,["googleSearch"],$5(c));const d=g(e,["urlContext"]);return d!=null&&v(t,["urlContext"],d),t}function K5(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);t.push(...i)}else t.push(n)}return t.join(",")}function Y5(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(e.bidiGenerateContentSetup=a,n=a):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const a=K5(n);if(Array.isArray(t?.lockAdditionalFields)&&t?.lockAdditionalFields.length===0)a?e.fieldMask=a:delete e.fieldMask;else if(t?.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(d=>l.includes(d)?`generationConfig.${d}`:d));const c=[];a&&c.push(a),u.length>0&&c.push(...u),c.length>0?e.fieldMask=c.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class W5 extends pa{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=U5(this.apiClient,t);a=pe("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const c=Y5(u,t.config);return i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}function J5(e,t){const n={},r=g(e,["displayName"]);return t!==void 0&&r!=null&&v(t,["displayName"],r),n}function X5(e){const t={},n=g(e,["config"]);return n!=null&&J5(n,t),t}function Q5(e,t){const n={},r=g(e,["force"]);return t!==void 0&&r!=null&&v(t,["_query","force"],r),n}function Z5(e){const t={},n=g(e,["name"]);n!=null&&v(t,["_url","name"],n);const r=g(e,["config"]);return r!=null&&Q5(r,t),t}function e8(e){const t={},n=g(e,["name"]);return n!=null&&v(t,["_url","name"],n),t}function t8(e,t){const n={},r=g(e,["customMetadata"]);if(t!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),v(t,["customMetadata"],a)}const i=g(e,["chunkingConfig"]);return t!==void 0&&i!=null&&v(t,["chunkingConfig"],i),n}function n8(e){const t={},n=g(e,["name"]);n!=null&&v(t,["name"],n);const r=g(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=g(e,["done"]);i!=null&&v(t,["done"],i);const a=g(e,["error"]);a!=null&&v(t,["error"],a);const l=g(e,["response"]);return l!=null&&v(t,["response"],i8(l)),t}function r8(e){const t={},n=g(e,["fileSearchStoreName"]);n!=null&&v(t,["_url","file_search_store_name"],n);const r=g(e,["fileName"]);r!=null&&v(t,["fileName"],r);const i=g(e,["config"]);return i!=null&&t8(i,t),t}function i8(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["parent"]);r!=null&&v(t,["parent"],r);const i=g(e,["documentName"]);return i!=null&&v(t,["documentName"],i),t}function a8(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&v(t,["_query","pageToken"],i),n}function o8(e){const t={},n=g(e,["config"]);return n!=null&&a8(n,t),t}function s8(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=g(e,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),v(t,["fileSearchStores"],a)}return t}function l8(e,t){const n={},r=g(e,["mimeType"]);t!==void 0&&r!=null&&v(t,["mimeType"],r);const i=g(e,["displayName"]);t!==void 0&&i!=null&&v(t,["displayName"],i);const a=g(e,["customMetadata"]);if(t!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>c)),v(t,["customMetadata"],u)}const l=g(e,["chunkingConfig"]);return t!==void 0&&l!=null&&v(t,["chunkingConfig"],l),n}function u8(e){const t={},n=g(e,["fileSearchStoreName"]);n!=null&&v(t,["_url","file_search_store_name"],n);const r=g(e,["config"]);return r!=null&&l8(r,t),t}function c8(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}function f8(e,t){const n={},r=g(e,["force"]);return t!==void 0&&r!=null&&v(t,["_query","force"],r),n}function d8(e){const t={},n=g(e,["name"]);n!=null&&v(t,["_url","name"],n);const r=g(e,["config"]);return r!=null&&f8(r,t),t}function h8(e){const t={},n=g(e,["name"]);return n!=null&&v(t,["_url","name"],n),t}function p8(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&v(t,["_query","pageToken"],i),n}function m8(e){const t={},n=g(e,["parent"]);n!=null&&v(t,["_url","parent"],n);const r=g(e,["config"]);return r!=null&&p8(r,t),t}function g8(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=g(e,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),v(t,["documents"],a)}return t}class y8 extends pa{constructor(t){super(),this.apiClient=t,this.list=async n=>new Zo(ra.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=h8(t);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(t){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=d8(t);i=pe("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=m8(t);return a=pe("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=g8(c),h=new WH;return Object.assign(h,d),h})}}}class v8 extends pa{constructor(t,n=new y8(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new Zo(ra.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=X5(t);return a=pe("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=e8(t);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(t){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Z5(t);i=pe("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=o8(t);return a=pe("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=s8(c),h=new JH;return Object.assign(h,d),h})}}async uploadToFileSearchStoreInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=u8(t);return a=pe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=c8(c),h=new XH;return Object.assign(h,d),h})}}async importFile(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=r8(t);return a=pe("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=n8(c),h=new m_;return Object.assign(h,d),h})}}}function b8(e,t){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],r),n}function _8(e,t){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],r),n}function S8(e,t,n){const r={};if(g(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=g(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&v(t,["displayName"],i),g(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=g(e,["epochCount"]);t!==void 0&&a!=null&&v(t,["tuningTask","hyperparameters","epochCount"],a);const l=g(e,["learningRateMultiplier"]);if(l!=null&&v(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),g(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(g(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(g(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=g(e,["batchSize"]);t!==void 0&&u!=null&&v(t,["tuningTask","hyperparameters","batchSize"],u);const c=g(e,["learningRate"]);if(t!==void 0&&c!=null&&v(t,["tuningTask","hyperparameters","learningRate"],c),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(g(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function T8(e,t,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const _=g(e,["validationDataset"]);t!==void 0&&_!=null&&v(t,["supervisedTuningSpec"],S1(_))}else if(i==="PREFERENCE_TUNING"){const _=g(e,["validationDataset"]);t!==void 0&&_!=null&&v(t,["preferenceOptimizationSpec"],S1(_))}const a=g(e,["tunedModelDisplayName"]);t!==void 0&&a!=null&&v(t,["tunedModelDisplayName"],a);const l=g(e,["description"]);t!==void 0&&l!=null&&v(t,["description"],l);let u=g(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const _=g(e,["epochCount"]);t!==void 0&&_!=null&&v(t,["supervisedTuningSpec","hyperParameters","epochCount"],_)}else if(u==="PREFERENCE_TUNING"){const _=g(e,["epochCount"]);t!==void 0&&_!=null&&v(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],_)}let c=g(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const _=g(e,["learningRateMultiplier"]);t!==void 0&&_!=null&&v(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],_)}else if(c==="PREFERENCE_TUNING"){const _=g(e,["learningRateMultiplier"]);t!==void 0&&_!=null&&v(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],_)}let d=g(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const _=g(e,["exportLastCheckpointOnly"]);t!==void 0&&_!=null&&v(t,["supervisedTuningSpec","exportLastCheckpointOnly"],_)}else if(d==="PREFERENCE_TUNING"){const _=g(e,["exportLastCheckpointOnly"]);t!==void 0&&_!=null&&v(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],_)}let h=g(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const _=g(e,["adapterSize"]);t!==void 0&&_!=null&&v(t,["supervisedTuningSpec","hyperParameters","adapterSize"],_)}else if(h==="PREFERENCE_TUNING"){const _=g(e,["adapterSize"]);t!==void 0&&_!=null&&v(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],_)}if(g(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(g(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=g(e,["labels"]);t!==void 0&&m!=null&&v(t,["labels"],m);const y=g(e,["beta"]);return t!==void 0&&y!=null&&v(t,["preferenceOptimizationSpec","hyperParameters","beta"],y),r}function E8(e,t){const n={},r=g(e,["baseModel"]);r!=null&&v(n,["baseModel"],r);const i=g(e,["preTunedModel"]);i!=null&&v(n,["preTunedModel"],i);const a=g(e,["trainingDataset"]);a!=null&&R8(a);const l=g(e,["config"]);return l!=null&&S8(l,n),n}function w8(e,t){const n={},r=g(e,["baseModel"]);r!=null&&v(n,["baseModel"],r);const i=g(e,["preTunedModel"]);i!=null&&v(n,["preTunedModel"],i);const a=g(e,["trainingDataset"]);a!=null&&k8(a,n,t);const l=g(e,["config"]);return l!=null&&T8(l,n,t),n}function x8(e,t){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],r),n}function A8(e,t){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],r),n}function C8(e,t,n){const r={},i=g(e,["pageSize"]);t!==void 0&&i!=null&&v(t,["_query","pageSize"],i);const a=g(e,["pageToken"]);t!==void 0&&a!=null&&v(t,["_query","pageToken"],a);const l=g(e,["filter"]);return t!==void 0&&l!=null&&v(t,["_query","filter"],l),r}function M8(e,t,n){const r={},i=g(e,["pageSize"]);t!==void 0&&i!=null&&v(t,["_query","pageSize"],i);const a=g(e,["pageToken"]);t!==void 0&&a!=null&&v(t,["_query","pageToken"],a);const l=g(e,["filter"]);return t!==void 0&&l!=null&&v(t,["_query","filter"],l),r}function P8(e,t){const n={},r=g(e,["config"]);return r!=null&&C8(r,n),n}function N8(e,t){const n={},r=g(e,["config"]);return r!=null&&M8(r,n),n}function O8(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=g(e,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const a=g(e,["tunedModels"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>vD(u))),v(n,["tuningJobs"],l)}return n}function I8(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=g(e,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const a=g(e,["tuningJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>G0(u))),v(n,["tuningJobs"],l)}return n}function D8(e,t){const n={},r=g(e,["name"]);r!=null&&v(n,["model"],r);const i=g(e,["name"]);return i!=null&&v(n,["endpoint"],i),n}function R8(e,t){const n={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=g(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),v(n,["examples","examples"],i)}return n}function k8(e,t,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=g(e,["gcsUri"]);t!==void 0&&l!=null&&v(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=g(e,["gcsUri"]);t!==void 0&&l!=null&&v(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let a=g(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const l=g(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&v(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(a==="PREFERENCE_TUNING"){const l=g(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&v(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(g(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function vD(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=g(e,["name"]);i!=null&&v(n,["name"],i);const a=g(e,["state"]);a!=null&&v(n,["state"],ZI(a));const l=g(e,["createTime"]);l!=null&&v(n,["createTime"],l);const u=g(e,["tuningTask","startTime"]);u!=null&&v(n,["startTime"],u);const c=g(e,["tuningTask","completeTime"]);c!=null&&v(n,["endTime"],c);const d=g(e,["updateTime"]);d!=null&&v(n,["updateTime"],d);const h=g(e,["description"]);h!=null&&v(n,["description"],h);const m=g(e,["baseModel"]);m!=null&&v(n,["baseModel"],m);const y=g(e,["_self"]);return y!=null&&v(n,["tunedModel"],D8(y)),n}function G0(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=g(e,["name"]);i!=null&&v(n,["name"],i);const a=g(e,["state"]);a!=null&&v(n,["state"],ZI(a));const l=g(e,["createTime"]);l!=null&&v(n,["createTime"],l);const u=g(e,["startTime"]);u!=null&&v(n,["startTime"],u);const c=g(e,["endTime"]);c!=null&&v(n,["endTime"],c);const d=g(e,["updateTime"]);d!=null&&v(n,["updateTime"],d);const h=g(e,["error"]);h!=null&&v(n,["error"],h);const m=g(e,["description"]);m!=null&&v(n,["description"],m);const y=g(e,["baseModel"]);y!=null&&v(n,["baseModel"],y);const _=g(e,["tunedModel"]);_!=null&&v(n,["tunedModel"],_);const T=g(e,["preTunedModel"]);T!=null&&v(n,["preTunedModel"],T);const w=g(e,["supervisedTuningSpec"]);w!=null&&v(n,["supervisedTuningSpec"],w);const E=g(e,["preferenceOptimizationSpec"]);E!=null&&v(n,["preferenceOptimizationSpec"],E);const C=g(e,["tuningDataStats"]);C!=null&&v(n,["tuningDataStats"],C);const N=g(e,["encryptionSpec"]);N!=null&&v(n,["encryptionSpec"],N);const P=g(e,["partnerModelTuningSpec"]);P!=null&&v(n,["partnerModelTuningSpec"],P);const D=g(e,["customBaseModel"]);D!=null&&v(n,["customBaseModel"],D);const O=g(e,["experiment"]);O!=null&&v(n,["experiment"],O);const R=g(e,["labels"]);R!=null&&v(n,["labels"],R);const k=g(e,["outputUri"]);k!=null&&v(n,["outputUri"],k);const q=g(e,["pipelineJob"]);q!=null&&v(n,["pipelineJob"],q);const G=g(e,["serviceAccount"]);G!=null&&v(n,["serviceAccount"],G);const H=g(e,["tunedModelDisplayName"]);H!=null&&v(n,["tunedModelDisplayName"],H);const $=g(e,["veoTuningSpec"]);return $!=null&&v(n,["veoTuningSpec"],$),n}function L8(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=g(e,["name"]);i!=null&&v(n,["name"],i);const a=g(e,["metadata"]);a!=null&&v(n,["metadata"],a);const l=g(e,["done"]);l!=null&&v(n,["done"],l);const u=g(e,["error"]);return u!=null&&v(n,["error"],u),n}function S1(e,t){const n={},r=g(e,["gcsUri"]);r!=null&&v(n,["validationDatasetUri"],r);const i=g(e,["vertexDatasetResource"]);return i!=null&&v(n,["validationDatasetUri"],i),n}class U8 extends pa{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Zo(ra.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let l="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?l=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(l=a.name.split("/operations/")[0]),{name:l,state:j0.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=A8(t);return u=pe("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>G0(h))}else{const d=x8(t);return u=pe("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>vD(h))}}async listInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=N8(t);return u=pe("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=I8(h),y=new e1;return Object.assign(y,m),y})}else{const d=P8(t);return u=pe("tunedModels",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=O8(h),y=new e1;return Object.assign(y,m),y})}}async cancel(t){var n,r,i,a;let l="",u={};if(this.apiClient.isVertexAI()){const c=_8(t);l=pe("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=b8(t);l=pe("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async tuneInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=w8(t,t);return a=pe("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>G0(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=E8(t);return a=pe("tunedModels",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>L8(c))}}}class j8{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const q8=1024*1024*8,z8=3,$8=1e3,B8=2,fh="x-goog-upload-status";async function F8(e,t,n){var r;const i=await bD(e,t,n),a=await i?.json();if(((r=i?.headers)===null||r===void 0?void 0:r[fh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function H8(e,t,n){var r;const i=await bD(e,t,n),a=await i?.json();if(((r=i?.headers)===null||r===void 0?void 0:r[fh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=KI(a),u=new g_;return Object.assign(u,l),u}async function bD(e,t,n){var r,i;let a=0,l=0,u=new q0(new Response),c="upload";for(a=e.size;l<a;){const d=Math.min(q8,a-l),h=e.slice(l,l+d);l+d>=a&&(c+=", finalize");let m=0,y=$8;for(;m<z8&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(l),"Content-Length":String(d)}}}),!(!((r=u?.headers)===null||r===void 0)&&r[fh]));)m++,await V8(y),y=y*B8;if(l+=d,((i=u?.headers)===null||i===void 0?void 0:i[fh])!=="active")break;if(a<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function G8(e){return{size:e.size,type:e.type}}function V8(e){return new Promise(t=>setTimeout(t,e))}class K8{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await F8(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await H8(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await G8(t)}}class Y8{create(t,n,r){return new W8(t,n,r)}}class W8{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const T1="x-goog-api-key";class J8{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(T1)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(T1,this.apiKey)}}}const X8="gl-node/";class _D{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=MH(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion;const i=new J8(this.apiKey);this.apiClient=new h5({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:X8+"web",uploader:new K8,downloader:new j8}),this.models=new I5(this.apiClient),this.live=new A5(this.apiClient,i,new Y8),this.batches=new rV(this.apiClient),this.chats=new jV(this.models,this.apiClient),this.caches=new kV(this.apiClient),this.files=new YV(this.apiClient),this.operations=new D5(this.apiClient),this.authTokens=new W5(this.apiClient),this.tunings=new U8(this.apiClient),this.fileSearchStores=new v8(this.apiClient)}}let oc=null;function Q8(e){localStorage.setItem("gemini_api_key",e),oc=new _D({apiKey:e})}function SD(){return localStorage.getItem("gemini_api_key")}function sc(){return!!SD()}function Z8(){oc=null,localStorage.removeItem("gemini_api_key")}function yp(){if(!oc){const e=SD();if(!e)throw new Error("Gemini API key not set. Add your key in Settings.");oc=new _D({apiKey:e})}return oc}function vp(e){return e.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim()}async function eK(e,t=[]){const n=yp(),r=t&&t.length>0,i=e&&e.trim().length>0;let a="";i&&r?a=`The user provided a text description AND ${t.length} image(s). Use ALL information together - the text gives context, images show the actual food and/or nutrition labels.`:r?a=`The user provided ${t.length} image(s) of their meal. These may include food photos and/or nutrition labels.`:a="The user provided a text description of their meal.";const l=`Analyze this meal and provide complete nutritional breakdown.

${a}

${i?`Text description: "${e}"`:""}

Instructions:
- If you see a NUTRITION LABEL in any image, use those EXACT values for that product
- If you see FOOD in an image, identify items and estimate portions
- Combine information from text AND images to build the complete meal
- If text mentions something not visible in images, include it anyway
- IMPORTANT: Always return ingredient names in SPANISH (e.g., "Pechuga de pollo" not "Chicken breast")

Return ONLY valid JSON with no markdown formatting:
{
  "meal_name": "short descriptive name (max 50 chars)",
  "ingredients": [
    {
      "name": "ingredient name",
      "quantity": number,
      "unit": "g" | "ml" | "cup" | "tbsp" | "tsp" | "oz" | "slice" | "piece",
      "grams": number,
      "nutrients": {
        "calories": number,
        "purines": number,
        "protein": number,
        "carbs": number,
        "fat": number,
        "fiber": number,
        "sodium": number,
        "sugar": number
      }
    }
  ],
  "total_nutrients": {
    "calories": number,
    "purines": number,
    "protein": number,
    "carbs": number,
    "fat": number,
    "fiber": number,
    "sodium": number,
    "sugar": number
  }
}

Rules:
- Make reasonable portion estimates if not specified (e.g., "an egg" = 50g, "a glass of juice" = 250ml)
- "grams" is the converted weight in grams for the specified quantity
- "nutrients" are the values for THAT ingredient's quantity (not per 100g)
- "total_nutrients" is the sum of all ingredients
- Use USDA database for calories, protein, carbs, fat, fiber, sodium, sugar
- Use USDA and medical literature for purine values, these need to be as precise as possible
- All values: calories=kcal, purines/sodium=mg, all others=grams

Calculate purines by: (grams / 100)  purine_per_100g`;try{const u=[{text:l}];if(r)for(const h of t)u.push({inlineData:{data:h.base64,mimeType:h.mimeType||"image/jpeg"}});const d=(await n.models.generateContent({model:"gemini-2.5-flash",contents:u})).text;return JSON.parse(vp(d))}catch(u){throw console.error("Failed to analyze meal:",u),new Error(`Failed to analyze meal: ${u.message}`)}}async function tK(e){const t=yp(),n=`Parse this meal description into structured ingredient data:

"${e}"

IMPORTANT: Always return ingredient names in SPANISH (e.g., "Pechuga de pollo" not "Chicken breast").

Return ONLY valid JSON with no markdown formatting:
{
  "meal_name": "short descriptive name (max 50 chars)",
  "ingredients": [
    {
      "name": "ingredient name",
      "quantity": number,
      "unit": "g" | "ml" | "cup" | "tbsp" | "tsp" | "oz" | "slice" | "piece",
      "grams": number
    }
  ]
}

Rules:
- Make reasonable portion estimates if not specified
- "grams" is the TOTAL weight in grams for the specified quantity
- Use realistic weights when estimating portions
- If ambiguous, choose the most common interpretation`;try{const i=(await t.models.generateContent({model:"gemini-2.5-flash",contents:n})).text;return JSON.parse(vp(i))}catch(r){throw console.error("Failed to parse meal:",r),new Error(`Failed to parse meal: ${r.message}`)}}async function nK(e){const t=yp(),n=`Estimate complete nutritional information per 100g for this ingredient:

"${e}"

Return ONLY valid JSON with no markdown formatting:
{
  "calories": number,
  "purines": number,
  "protein": number,
  "carbs": number,
  "fat": number,
  "fiber": number,
  "sodium": number,
  "sugar": number
}

All values in standard units:
- calories: kcal
- purines: mg (CRITICAL - see reference below)
- all others: grams (g) except sodium (mg)

Use USDA database for calories, protein, carbs, fat, fiber, sodium, sugar.
Use USDA and medical literature for purine values. When conflicting purine data exists, average the result.`;try{const i=(await t.models.generateContent({model:"gemini-2.5-flash",contents:n})).text;return JSON.parse(vp(i))}catch(r){throw console.error("Failed to get nutrition:",r),new Error(`Failed to get nutrition data: ${r.message}`)}}async function rK({mealType:e,dietaryConditions:t=[],remainingCalories:n,remainingPurines:r,frequentIngredients:i=[],todaysMeals:a=[]}){const l=yp(),u=`Generate 3 ${e} meal recommendations for a user tracking purines and calories.

User Context:
- Dietary conditions: ${t.join(", ")||"none"}
- Remaining daily budget: ${n} kcal, ${r} mg purines
- Frequently eaten ingredients: ${i.join(", ")||"none specified"}
- Recent meals: ${a.map(c=>c.meal_name).join(", ")||"none yet"}

IMPORTANT: Return ingredient names in SPANISH.

Return ONLY valid JSON array with no markdown formatting:
[
  {
    "type": "familiar",
    "name": "Meal Name (short, appetizing)",
    "description": "2-3 sentence description of this dish and why it's good for the user",
    "ingredients": [
      {"name": "ingredient in Spanish", "quantity": 100, "unit": "g", "grams": 100}
    ],
    "estimated_nutrients": {
      "calories": number,
      "purines": number,
      "protein": number,
      "carbs": number,
      "fat": number
    }
  },
  { "type": "twist", ... },
  { "type": "wild", ... }
]

Requirements:
- "familiar": Uses user's frequent ingredients, comfort food, safe choice
- "twist": Takes a familiar concept but with different cuisine or preparation style
- "wild": Creative, adventurous, unexpected flavors or combinations
- ALL meals must stay within the remaining budget (${n} cal, ${r}mg purines)
- Focus on LOW PURINE options (avoid organ meats, shellfish, sardines, anchovies, beer)
- Provide realistic portion sizes`;try{const d=(await l.models.generateContent({model:"gemini-2.5-flash",contents:u})).text;return JSON.parse(vp(d))}catch(c){throw console.error("Failed to generate recommendations:",c),new Error(`Failed to generate recommendations: ${c.message}`)}}async function TD(e,t=[],n=null){const r=await eK(e,t),i=r.ingredients.map(a=>{const l=a.grams||100,u=100/l,c=dh(a.nutrients,u);return n&&n({name:a.name,nutrients_per_100g:c,source:"ai"}),{name:a.name,normalized_name:ED(a.name),quantity:a.quantity,unit:a.unit,grams:l,nutrients_per_100g:c,nutrients:a.nutrients}});return{meal_name:r.meal_name,ingredients:i,total_nutrients:r.total_nutrients}}async function E1(e,t=[],n=null){if(!n)return TD(e,t);const{lookup:r,add:i,recordUsage:a}=n,l=await tK(e),u=[],c=[],d=[];for(const m of l.ingredients){const y=ED(m.name),_=r?r(y):null;_&&_.nutrients_per_100g?(d.push({...m,normalizedName:y,cached:_}),a&&a(y)):c.push({...m,normalizedName:y})}if(c.length>0)for(const m of c)try{const y=await nK(m.name),_=m.grams||Ay(m.quantity,m.unit),T=_/100,w=dh(y,T);u.push({name:m.name,normalized_name:m.normalizedName,quantity:m.quantity,unit:m.unit,grams:_,nutrients_per_100g:y,nutrients:w}),i&&await i({name:m.name,nutrients_per_100g:y,source:"ai"})}catch(y){console.error(`Failed to get nutrition for ${m.name}:`,y),u.push({name:m.name,normalized_name:m.normalizedName,quantity:m.quantity,unit:m.unit,grams:m.grams||Ay(m.quantity,m.unit),nutrients_per_100g:{calories:0,purines:0,protein:0,carbs:0,fat:0,fiber:0,sodium:0,sugar:0},nutrients:{calories:0,purines:0,protein:0,carbs:0,fat:0,fiber:0,sodium:0,sugar:0}})}for(const m of d){const y=m.grams||Ay(m.quantity,m.unit),_=y/100,T=dh(m.cached.nutrients_per_100g,_);u.push({name:m.name,normalized_name:m.normalizedName,quantity:m.quantity,unit:m.unit,grams:y,nutrients_per_100g:m.cached.nutrients_per_100g,nutrients:T})}const h=wD(u);return{meal_name:l.meal_name,ingredients:u,total_nutrients:h,cache_stats:{hits:d.length,misses:c.length}}}function ED(e){return e.toLowerCase().trim().replace(/s$/,"").replace(/ies$/,"y").replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"_")}const iK={g:1,gram:1,grams:1,kg:1e3,oz:28.35,ounce:28.35,ounces:28.35,lb:453.6,pound:453.6,pounds:453.6,cup:240,cups:240,tbsp:15,tablespoon:15,tablespoons:15,tsp:5,teaspoon:5,teaspoons:5,ml:1,slice:30,slices:30,piece:50,pieces:50};function Ay(e,t){const n=t.toLowerCase().trim(),r=iK[n]||1;return e*r}function dh(e,t){const n={};return Object.keys(e).forEach(r=>{n[r]=Math.round(e[r]*t*10)/10}),n}function w1(e,t){const n=e.quantity||1,r=t/n,i=(e.grams||100)*r,a=e.nutrients||e.nutrients_per_unit||{};return{...e,quantity:t,grams:i,nutrients:dh(a,r)}}function wD(e){return e.reduce((t,n)=>{const r=n.nutrients||n.nutrients_per_unit||{};return Object.keys(r).forEach(i=>{t[i]=(t[i]||0)+r[i]}),t},{})}const aK=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const i=r.result.split(",")[1];t({base64:i,mimeType:e.type||"image/jpeg",preview:r.result,name:e.name})},r.onerror=n,r.readAsDataURL(e)}),Cy=[{key:"breakfast",icon:"",label:"Brekkie"},{key:"lunch",icon:"",label:"Lunch"},{key:"dinner",icon:"",label:"Dinner"},{key:"snack",icon:"",label:"Snack"}],My=e=>{const t=new Date(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`},oK=e=>{const t=[];for(let n=-3;n<=3;n++){const r=new Date(e);r.setDate(r.getDate()+n),t.push({date:r,dateKey:My(r),dayName:r.toLocaleDateString("en-US",{weekday:"short"}).charAt(0),dayNum:r.getDate(),isToday:My(r)===My(new Date)})}return t};function sK(){const{user:e,isLoading:t}=ha(),[n,r]=x.useState(L0()),[i,a]=x.useState(new Date),[l,u]=x.useState("breakfast"),[c,d]=x.useState(""),[h,m]=x.useState(!1),[y,_]=x.useState(!1),[T,w]=x.useState(null),[E,C]=x.useState([]),N=x.useRef(null),P=x.useRef(null),[D,O]=x.useState(null),[R,k]=x.useState(""),[q,G]=x.useState("snack"),[H,$]=x.useState(""),[F,fe]=x.useState(null),[me,Se]=x.useState(""),[B,ne]=x.useState(null),[le,ue]=x.useState({}),[Me,U]=x.useState(!1),[X,se]=x.useState(-1),{meals:ce,isLoading:re,addMeal:he,updateMeal:Ee,deleteMeal:Ie,getDailyTotals:ee}=fp(n),{totalHydration:we,adjustHydration:De,isLoading:oe}=VI(n),{addToStash:pt,bottles:Le,savedMeals:bt}=d_(),{lookupIngredient:_t,addIngredient:En,recordUsage:pn,ingredients:Qr}=h_(),{meals:Kn}=dp(),Ll=[...[{id:"quick-250",name:"+250ml",capacity_ml:250,icon:null},{id:"quick-500",name:"+500ml",capacity_ml:500,icon:null}],...Le],Nn=oK(i),Ue=e?.thresholds||{},ns=ce.filter(W=>W.meal_type!=="hydration"),On={...ee(n)},Sa=wH(On,Ue),Ul=t||re||oe,Zr=x.useMemo(()=>{const W=c.trim().toLowerCase();if(W.length<2)return[];const de=[],Te=[];(bt||[]).forEach(Oe=>{const st=Oe.meal_name||Oe.name;st?.toLowerCase().includes(W)&&de.push({type:"stash",label:st,sublabel:` Favorite  ${Math.round(Oe.total_nutrients?.calories||0)} cal`,data:{...Oe,meal_name:st}})});const Pe=new Set(de.map(Oe=>Oe.label.toLowerCase()));return(Kn||[]).forEach(Oe=>{const st=Oe.meal_name?.toLowerCase();Oe.meal_type!=="hydration"&&st&&st.includes(W)&&!Pe.has(st)&&(Pe.add(st),de.push({type:"history",label:Oe.meal_name,sublabel:` ${Oe.date}  ${Math.round(Oe.total_nutrients?.calories||0)} cal`,data:Oe}))}),(Qr||[]).forEach(Oe=>{Oe.display_name?.toLowerCase().includes(W)&&Te.push({type:"ingredient",label:Oe.display_name,sublabel:` Ingredient  ${Math.round(Oe.nutrients_per_100g?.purines||0)}mg purines/100g`,data:Oe})}),[...de,...Te].slice(0,8)},[c,bt,Kn,Qr]),is=W=>{W.type==="stash"||W.type==="history"?jl(W.data):W.type==="ingredient"&&(d(`100g ${W.label}`),setTimeout(()=>{const de=document.querySelector(".input-row input");de&&(de.focus(),de.setSelectionRange(0,4))},50)),U(!1),se(-1)},jl=async W=>{try{await he({date:n,meal_type:l,meal_name:W.meal_name,ingredients:W.ingredients||[],total_nutrients:W.total_nutrients||{}}),d(""),U(!1)}catch(de){console.error("Failed to log meal:",de),w("Failed to log meal. Please try again.")}},yi=W=>{!Me||Zr.length===0||(W.key==="ArrowDown"?(W.preventDefault(),se(de=>de<Zr.length-1?de+1:de)):W.key==="ArrowUp"?(W.preventDefault(),se(de=>de>0?de-1:-1)):W.key==="Enter"&&X>=0?(W.preventDefault(),is(Zr[X])):W.key==="Escape"&&(U(!1),se(-1)))},Gt=async W=>{await De(W)},hr=W=>{r(W)},Nt=W=>{const de=new Date(i);de.setDate(de.getDate()+(W==="next"?7:-7)),a(de)},Q=async W=>{const de=Array.from(W.target.files||[]);if(de.length!==0){try{const Te=await Promise.all(de.map(aK));C(Pe=>[...Pe,...Te])}catch(Te){console.error("Failed to read image:",Te),w("Failed to read image. Please try again.")}W.target.value=""}},je=W=>{C(de=>de.filter((Te,Pe)=>Pe!==W))},Vt=async W=>{W.preventDefault();const de=c.trim().length>0,Te=E.length>0;if(!(!de&&!Te)){if(w(null),!sc()){await he({date:n,meal_type:l,meal_name:de?c:"Meal with photos",ingredients:[],total_nutrients:{calories:0,purines:0,protein:0,carbs:0,fat:0,fiber:0,sodium:0,sugar:0},hydration_ml:0,analysis_method:"manual"}),d(""),C([]);return}_(!0);try{const Pe=E.map(Qn=>({base64:Qn.base64,mimeType:Qn.mimeType}));let Oe,st,Fl,co;if(Te){const Qn=await TD(c,Pe,En);Oe=Qn.meal_name,st=Qn.ingredients,Fl=Qn.total_nutrients,co={hits:0,misses:st.length}}else{const Ta=await E1(c,[],{lookup:_t,add:En,recordUsage:pn});Oe=Ta.meal_name,st=Ta.ingredients,Fl=Ta.total_nutrients,co=Ta.cache_stats,co&&console.log(` Ingredient cache: ${co.hits} hits, ${co.misses} AI calls`)}const nf={date:n,meal_type:l,meal_name:Oe,description:c,ingredients:st,total_nutrients:Fl,hydration_ml:0,analysis_method:Te?"ai-vision":"ai",image_count:E.length};await he(nf),d(""),C([])}catch(Pe){console.error("AI parsing failed:",Pe),w(Pe.message||"Failed to analyze meal. Try again or check your API key.")}finally{_(!1)}}},In=async W=>{confirm("Delete this meal?")&&await Ie(W)},Yn=W=>{O(W),k(W.meal_name),G(W.meal_type),$(W.date)},vi=async()=>{D&&(await Ee(D.id,{meal_name:R,meal_type:q,date:H}),O(null))},Wn=()=>{O(null),k(""),G("snack"),$("")},Jn=W=>{fe(W),Se(L0())},jr=async()=>{if(!F||!me)return;const W={date:me,meal_type:F.meal_type,meal_name:F.meal_name,description:F.description,ingredients:F.ingredients,total_nutrients:F.total_nutrients,hydration_ml:0,analysis_method:"copy"};await he(W),fe(null),alert(`Meal copied to ${me}! `)},mn=W=>{ne({mealId:W.id,originalIngredients:W.ingredients,ingredients:[...W.ingredients]}),ue({})},Xn=(W,de)=>{const Te=parseFloat(de)||0;ue(Pe=>({...Pe,[W]:Te}))},uo=async()=>{if(!B)return;const W=B.ingredients.map((Te,Pe)=>le[Pe]!==void 0&&le[Pe]!==Te.quantity?w1(Te,le[Pe]):Te),de=wD(W);await Ee(B.mealId,{ingredients:W,total_nutrients:de}),ne(null),ue({})},bi=async W=>{if(!B)return;const de=B.ingredients.filter((Oe,st)=>st!==W);ne(Oe=>({...Oe,ingredients:de}));const Te={...le};delete Te[W];const Pe={};Object.keys(Te).forEach(Oe=>{const st=parseInt(Oe);st>W?Pe[st-1]=Te[Oe]:Pe[st]=Te[Oe]}),ue(Pe)},ql=()=>{ne(null),ue({})},Zc=async W=>{await pt({type:"meal",name:W.meal_name,ingredients:W.ingredients||[],total_nutrients:W.total_nutrients||{},use_count:0});const de=e?.stats?.meals_saved_to_stash||0;await updateStats({meals_saved_to_stash:de+1}),alert(`"${W.meal_name}" saved to your Dragon's Hoard! `)},[zl,$l]=x.useState(null),Bl=async W=>{if(!sc()){w("Please set your Gemini API key in Settings to use AI re-analysis.");return}const de=`Re-analyze "${W.meal_name}" with AI?

This will update the nutrient information based on the original description.`;if(confirm(de)){$l(W.id),w("");try{const Te=W.description||W.meal_name,Pe=await E1(Te,[],_t,En);if(Pe.ingredients?.length>0)for(const Oe of Pe.ingredients)await pn(Oe.name);await Ee(W.id,{ingredients:Pe.ingredients,total_nutrients:Pe.total_nutrients,analysis_method:"ai-reanalyzed",last_reanalyzed:new Date().toISOString()}),alert(` "${W.meal_name}" has been re-analyzed!`)}catch(Te){console.error("Re-analysis failed:",Te),w(Te.message||"Failed to re-analyze meal. Try again later.")}finally{$l(null)}}},tf=(W=>{const[de,Te,Pe]=W.split("-").map(Number);return new Date(de,Te-1,Pe)})(n).toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"});return Ul?A.jsxs("div",{className:"page diary-page",children:[A.jsx(na,{title:"Dragon Keeper",subtitle:"Loading..."}),A.jsxs("div",{className:"loading-state card",children:[A.jsx("div",{className:"spinner"}),A.jsx("p",{children:"Waking up the dragon..."})]})]}):A.jsxs("div",{className:"page diary-page",children:[A.jsx(na,{title:"Dragon Keeper",subtitle:`Feeding log for ${tf}`}),A.jsxs("div",{className:"calendar-ribbon card",children:[A.jsx("button",{className:"cal-nav",onClick:()=>Nt("prev"),"aria-label":"Previous week",children:""}),A.jsx("div",{className:"cal-days",children:Nn.map(W=>{const de=W.dateKey===n;return A.jsxs("button",{className:`cal-day ${de?"active":""} ${W.isToday?"today":""}`,onClick:()=>hr(W.dateKey),children:[A.jsx("span",{className:"cal-day-name",children:W.dayName}),A.jsx("span",{className:"cal-day-num",children:W.dayNum}),W.isToday&&A.jsx("span",{className:"cal-day-indicator",children:""})]},W.dateKey)})}),A.jsx("button",{className:"cal-nav",onClick:()=>Nt("next"),"aria-label":"Next week",children:""})]}),A.jsx("div",{className:"meal-type-selector",children:Cy.map(W=>A.jsxs("button",{className:`meal-type-btn ${l===W.key?"active":""}`,onClick:()=>u(W.key),children:[A.jsx("span",{className:"meal-icon",children:W.icon}),A.jsx("span",{className:"meal-label",children:W.label})]},W.key))}),A.jsxs("form",{className:"meal-input-section card",onSubmit:Vt,children:[A.jsx("label",{className:"input-label",children:"What did your dragon eat? "}),A.jsxs("div",{className:"input-row-wrapper",children:[A.jsx("div",{className:"input-row",children:A.jsx("input",{type:"text",placeholder:E.length>0?"Add context or just tap Log It!":"e.g., grilled chicken with rice...",value:c,onChange:W=>{d(W.target.value),U(!0),se(-1)},onKeyDown:yi,onFocus:()=>U(!0),onBlur:()=>{setTimeout(()=>U(!1),150)},disabled:y})}),Me&&Zr.length>0&&A.jsx("div",{className:"suggestions-dropdown",children:Zr.map((W,de)=>A.jsxs("button",{type:"button",className:`suggestion-item ${de===X?"selected":""}`,onClick:()=>is(W),onMouseEnter:()=>se(de),children:[A.jsx("span",{className:"suggestion-label",children:W.label}),A.jsx("span",{className:"suggestion-sublabel",children:W.sublabel})]},`${W.type}-${W.label}-${de}`))})]}),E.length>0&&A.jsx("div",{className:"attached-images",children:E.map((W,de)=>A.jsxs("div",{className:"attached-image",children:[A.jsx("img",{src:W.preview,alt:`Attached ${de+1}`}),A.jsx("button",{type:"button",className:"remove-image-btn",onClick:()=>je(de),"aria-label":"Remove image",children:""})]},de))}),T&&A.jsx("div",{className:"ai-error",children:A.jsxs("span",{children:[" ",T]})}),A.jsx("input",{type:"file",ref:N,accept:"image/*",capture:"environment",onChange:Q,style:{display:"none"}}),A.jsx("input",{type:"file",ref:P,accept:"image/*",multiple:!0,onChange:Q,style:{display:"none"}}),A.jsxs("div",{className:"input-actions",children:[A.jsx("button",{type:"button",className:"btn btn-secondary",disabled:y,children:""}),A.jsx("button",{type:"button",className:"btn btn-secondary",disabled:y,onClick:()=>N.current?.click(),title:"Take a photo",children:""}),A.jsx("button",{type:"button",className:"btn btn-secondary",disabled:y,onClick:()=>P.current?.click(),title:"Choose from gallery",children:""}),A.jsx("button",{type:"submit",className:"btn btn-primary btn-lg",disabled:y||!c.trim()&&E.length===0,children:y?A.jsx(A.Fragment,{children:" Analyzing..."}):A.jsx(A.Fragment,{children:"Log It! "})})]}),!sc()&&A.jsx("p",{className:"no-api-hint text-muted text-sm",children:" Set up AI in Settings  Dragon's Intelligence to auto-analyze meals!"})]}),A.jsxs("div",{className:"hydration-section card",children:[A.jsxs("div",{className:"hydration-header",children:[A.jsx("span",{className:"hydration-title",children:" Dragon's Hydration"}),A.jsxs("span",{className:"hydration-value",children:[we,"/",Ue.hydration_target||2e3,"ml"]})]}),A.jsx("div",{className:"progress-bar",children:A.jsx("div",{className:`progress-bar-fill ${we>=(Ue.hydration_target||2e3)?"success":"warning"}`,style:{width:`${Math.min(we/(Ue.hydration_target||2e3)*100,100)}%`}})}),A.jsxs("div",{className:"hydration-buttons",children:[A.jsx("button",{className:"btn btn-secondary btn-danger-outline",onClick:()=>Gt(-250),children:"250"}),Ll.map(W=>A.jsxs("button",{className:"btn btn-secondary",onClick:()=>Gt(W.capacity_ml),children:[W.icon||"",W.icon?" ":"",W.name||`+${W.capacity_ml}ml`]},W.id))]})]}),A.jsxs("section",{className:"meals-section",children:[A.jsx("h2",{className:"section-title",children:"Today's Feast"}),ns.length===0?A.jsxs("div",{className:"empty-state card",children:[A.jsx(oh,{state:"curious"}),A.jsx("p",{children:"No meals logged yet today!"}),A.jsx("p",{className:"text-muted",children:"Feed your dragon to get started."})]}):A.jsx("div",{className:"meals-list",children:ns.map(W=>A.jsxs("div",{className:"meal-card card",children:[A.jsxs("div",{className:"meal-header",children:[A.jsx("span",{className:"meal-type-badge",children:Cy.find(de=>de.key===W.meal_type)?.icon||""}),A.jsx("h3",{className:"meal-name",children:W.meal_name})]}),W.ingredients&&W.ingredients.length>0&&A.jsx("div",{className:"meal-ingredients-section",children:B?.mealId===W.id?A.jsxs("div",{className:"ingredients-edit-mode",children:[A.jsx("ul",{className:"meal-ingredients editing",children:B.ingredients.map((de,Te)=>{const Pe=le[Te]!==void 0?le[Te]:de.quantity,Oe=le[Te]!==void 0?w1(de,le[Te]):de;return A.jsxs("li",{className:"ingredient-edit-row",children:[A.jsxs("span",{className:"ing-name",children:[" ",de.name]}),A.jsx("input",{type:"number",className:"ing-qty-input",value:Pe,onChange:st=>Xn(Te,st.target.value),min:"0",step:"0.1"}),A.jsx("span",{className:"ing-unit",children:de.unit}),A.jsxs("span",{className:"ing-nutrients",children:["",Math.round((Oe.nutrients||Oe.nutrients_per_unit)?.calories||0),"  ",Math.round((Oe.nutrients||Oe.nutrients_per_unit)?.purines||0)]}),A.jsx("button",{className:"btn-icon btn-delete-ing",onClick:()=>bi(Te),title:"Remove ingredient",children:""})]},Te)})}),A.jsxs("div",{className:"ingredient-edit-actions",children:[A.jsx("button",{className:"btn btn-secondary btn-sm",onClick:ql,children:"Cancel"}),A.jsx("button",{className:"btn btn-primary btn-sm",onClick:uo,children:" Save Changes"})]})]}):A.jsxs(A.Fragment,{children:[A.jsx("ul",{className:"meal-ingredients",children:W.ingredients.map((de,Te)=>A.jsxs("li",{children:[A.jsxs("span",{className:"ing-name",children:[" ",de.name]}),A.jsxs("span",{className:"ing-qty",children:["(",de.quantity||"?",de.unit||"g",")"]}),A.jsxs("span",{className:"ing-nutrients",children:["",Math.round((de.nutrients||de.nutrients_per_unit)?.calories||0),"  ",Math.round((de.nutrients||de.nutrients_per_unit)?.purines||0)]})]},Te))}),A.jsx("button",{type:"button",className:"btn btn-secondary btn-sm btn-edit-ingredients",onClick:de=>{de.preventDefault(),de.stopPropagation(),mn(W)},children:" Edit quantities"})]})}),A.jsxs("div",{className:"meal-nutrients meal-totals",children:[A.jsx("span",{className:"total-label",children:"Total:"}),A.jsxs("span",{children:[" ",Math.round(W.total_nutrients?.calories||0)," cal"]}),A.jsxs("span",{children:[" ",Math.round(W.total_nutrients?.purines||0),"mg"]})]}),A.jsxs("div",{className:"meal-actions",children:[A.jsx("button",{className:"btn btn-secondary",onClick:()=>Yn(W),children:" Edit"}),A.jsx("button",{className:"btn btn-secondary",onClick:()=>Jn(W),children:" Copy"}),A.jsxs("button",{className:"btn btn-secondary",onClick:()=>Bl(W),disabled:zl===W.id,title:"Re-analyze nutrients with AI",children:[zl===W.id?"":""," AI"]}),A.jsx("button",{className:"btn btn-secondary",onClick:()=>In(W.id),children:""}),A.jsx("button",{className:"btn btn-secondary",onClick:()=>Zc(W),children:" Stash"})]})]},W.id))})]}),A.jsxs("section",{className:"daily-status card",children:[A.jsxs("div",{className:"status-header",onClick:()=>m(!h),children:[A.jsx("h3",{children:" Dragon's Daily Status"}),A.jsx(oh,{state:Sa,showMessage:!1,size:"small"}),A.jsx("span",{className:"toggle-hint",children:h?"":""})]}),A.jsx(qi,{nutrient:"calories",value:On.calories||0,target:Ue.calories_max||2e3,min:Ue.calories_min||1500,max:Ue.calories_max||2e3}),A.jsx(qi,{nutrient:"purines",value:On.purines||0,target:Ue.purines_max||400,max:Ue.purines_max||400}),h&&A.jsxs("div",{className:"all-nutrients animate-fade-in",children:[A.jsx(qi,{nutrient:"protein",value:On.protein||0,target:Ue.protein_target||60,compact:!0}),A.jsx(qi,{nutrient:"carbs",value:On.carbs||0,target:Ue.carbs_target||250,compact:!0}),A.jsx(qi,{nutrient:"fat",value:On.fat||0,target:Ue.fat_target||65,compact:!0}),A.jsx(qi,{nutrient:"fiber",value:On.fiber||0,target:Ue.fiber_target||30,compact:!0}),A.jsx(qi,{nutrient:"sodium",value:On.sodium||0,target:Ue.sodium_max||2300,max:Ue.sodium_max||2300,compact:!0}),A.jsx(qi,{nutrient:"sugar",value:On.sugar||0,target:Ue.sugar_max||50,max:Ue.sugar_max||50,compact:!0}),A.jsx(qi,{nutrient:"hydration",value:we,target:Ue.hydration_target||2e3,compact:!0})]})]}),D&&A.jsx("div",{className:"modal-overlay",onClick:Wn,children:A.jsxs("div",{className:"modal-content card",onClick:W=>W.stopPropagation(),children:[A.jsx("h2",{children:" Edit Meal"}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Meal Name"}),A.jsx("input",{type:"text",value:R,onChange:W=>k(W.target.value),placeholder:"e.g., Grilled Chicken"})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Meal Type"}),A.jsx("select",{value:q,onChange:W=>G(W.target.value),children:Cy.map(W=>A.jsxs("option",{value:W.key,children:[W.icon," ",W.label]},W.key))})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Date (move to different day)"}),A.jsx("input",{type:"date",value:H,onChange:W=>$(W.target.value)})]}),A.jsxs("div",{className:"modal-actions",children:[A.jsx("button",{className:"btn btn-secondary",onClick:Wn,children:"Cancel"}),A.jsx("button",{className:"btn btn-primary",onClick:vi,children:" Save"})]})]})}),F&&A.jsx("div",{className:"modal-overlay",onClick:()=>fe(null),children:A.jsxs("div",{className:"modal-content card",onClick:W=>W.stopPropagation(),children:[A.jsx("h2",{children:" Copy Meal"}),A.jsxs("p",{children:['Copy "',F.meal_name,'" to another date:']}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Target Date"}),A.jsx("input",{type:"date",value:me,onChange:W=>Se(W.target.value)})]}),A.jsxs("div",{className:"modal-actions",children:[A.jsx("button",{className:"btn btn-secondary",onClick:()=>fe(null),children:"Cancel"}),A.jsx("button",{className:"btn btn-primary",onClick:jr,children:" Copy Meal"})]})]})})]})}function xD(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=xD(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function et(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=xD(e))&&(r&&(r+=" "),r+=t);return r}var lK=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function T_(e){if(typeof e!="string")return!1;var t=lK;return t.includes(e)}var uK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],cK=new Set(uK);function AD(e){return typeof e!="string"?!1:cK.has(e)}function CD(e){return typeof e=="string"&&e.startsWith("data-")}function ui(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(AD(n)||CD(n))&&(t[n]=e[n]);return t}function bp(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ui(t)}return typeof e=="object"&&!Array.isArray(e)?ui(e):null}function Tn(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(AD(n)||CD(n)||T_(n))&&(t[n]=e[n]);return t}function fK(e){return e==null?null:x.isValidElement(e)?Tn(e.props):typeof e=="object"&&!Array.isArray(e)?Tn(e):null}var dK=["children","width","height","viewBox","className","style","title","desc"];function V0(){return V0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V0.apply(null,arguments)}function hK(e,t){if(e==null)return{};var n,r,i=pK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var E_=x.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:l,style:u,title:c,desc:d}=e,h=hK(e,dK),m=a||{width:r,height:i,x:0,y:0},y=et("recharts-surface",l);return x.createElement("svg",V0({},Tn(h),{className:y,width:r,height:i,style:u,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),x.createElement("title",null,c),x.createElement("desc",null,d),n)}),mK=["children","className"];function K0(){return K0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K0.apply(null,arguments)}function gK(e,t){if(e==null)return{};var n,r,i=yK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ia=x.forwardRef((e,t)=>{var{children:n,className:r}=e,i=gK(e,mK),a=et("recharts-layer",r);return x.createElement("g",K0({className:a},Tn(i),{ref:t}),n)}),MD=x.createContext(null),vK=()=>x.useContext(MD);function ot(e){return function(){return e}}const PD=Math.cos,hh=Math.sin,Xr=Math.sqrt,ph=Math.PI,_p=2*ph,Y0=Math.PI,W0=2*Y0,No=1e-6,bK=W0-No;function ND(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function _K(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ND;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class SK{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ND:_K(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,u=this._y1,c=r-t,d=i-n,h=l-t,m=u-n,y=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(y>No)if(!(Math.abs(m*c-d*h)>No)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let _=r-l,T=i-u,w=c*c+d*d,E=_*_+T*T,C=Math.sqrt(w),N=Math.sqrt(y),P=a*Math.tan((Y0-Math.acos((w+y-E)/(2*C*N)))/2),D=P/N,O=P/C;Math.abs(D-1)>No&&this._append`L${t+D*h},${n+D*m}`,this._append`A${a},${a},0,0,${+(m*_>h*T)},${this._x1=t+O*c},${this._y1=n+O*d}`}}arc(t,n,r,i,a,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),c=r*Math.sin(i),d=t+u,h=n+c,m=1^l,y=l?i-a:a-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>No||Math.abs(this._y1-h)>No)&&this._append`L${d},${h}`,r&&(y<0&&(y=y%W0+W0),y>bK?this._append`A${r},${r},0,1,${m},${t-u},${n-c}A${r},${r},0,1,${m},${this._x1=d},${this._y1=h}`:y>No&&this._append`A${r},${r},0,${+(y>=Y0)},${m},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function w_(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new SK(t)}function x_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function OD(e){this._context=e}OD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Sp(e){return new OD(e)}function ID(e){return e[0]}function DD(e){return e[1]}function RD(e,t){var n=ot(!0),r=null,i=Sp,a=null,l=w_(u);e=typeof e=="function"?e:e===void 0?ID:ot(e),t=typeof t=="function"?t:t===void 0?DD:ot(t);function u(c){var d,h=(c=x_(c)).length,m,y=!1,_;for(r==null&&(a=i(_=l())),d=0;d<=h;++d)!(d<h&&n(m=c[d],d,c))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+e(m,d,c),+t(m,d,c));if(_)return a=null,_+""||null}return u.x=function(c){return arguments.length?(e=typeof c=="function"?c:ot(+c),u):e},u.y=function(c){return arguments.length?(t=typeof c=="function"?c:ot(+c),u):t},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:ot(!!c),u):n},u.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),u):i},u.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),u):r},u}function Sd(e,t,n){var r=null,i=ot(!0),a=null,l=Sp,u=null,c=w_(d);e=typeof e=="function"?e:e===void 0?ID:ot(+e),t=typeof t=="function"?t:ot(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?DD:ot(+n);function d(m){var y,_,T,w=(m=x_(m)).length,E,C=!1,N,P=new Array(w),D=new Array(w);for(a==null&&(u=l(N=c())),y=0;y<=w;++y){if(!(y<w&&i(E=m[y],y,m))===C)if(C=!C)_=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),T=y-1;T>=_;--T)u.point(P[T],D[T]);u.lineEnd(),u.areaEnd()}C&&(P[y]=+e(E,y,m),D[y]=+t(E,y,m),u.point(r?+r(E,y,m):P[y],n?+n(E,y,m):D[y]))}if(N)return u=null,N+""||null}function h(){return RD().defined(i).curve(l).context(a)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:ot(+m),r=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:ot(+m),d):e},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:ot(+m),d):r},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:ot(+m),n=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:ot(+m),d):t},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:ot(+m),d):n},d.lineX0=d.lineY0=function(){return h().x(e).y(t)},d.lineY1=function(){return h().x(e).y(n)},d.lineX1=function(){return h().x(r).y(t)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:ot(!!m),d):i},d.curve=function(m){return arguments.length?(l=m,a!=null&&(u=l(a)),d):l},d.context=function(m){return arguments.length?(m==null?a=u=null:u=l(a=m),d):a},d}class kD{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function TK(e){return new kD(e,!0)}function EK(e){return new kD(e,!1)}const A_={draw(e,t){const n=Xr(t/ph);e.moveTo(n,0),e.arc(0,0,n,0,_p)}},wK={draw(e,t){const n=Xr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},LD=Xr(1/3),xK=LD*2,AK={draw(e,t){const n=Xr(t/xK),r=n*LD;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},CK={draw(e,t){const n=Xr(t),r=-n/2;e.rect(r,r,n,n)}},MK=.8908130915292852,UD=hh(ph/10)/hh(7*ph/10),PK=hh(_p/10)*UD,NK=-PD(_p/10)*UD,OK={draw(e,t){const n=Xr(t*MK),r=PK*n,i=NK*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const l=_p*a/5,u=PD(l),c=hh(l);e.lineTo(c*n,-u*n),e.lineTo(u*r-c*i,c*r+u*i)}e.closePath()}},Py=Xr(3),IK={draw(e,t){const n=-Xr(t/(Py*3));e.moveTo(0,n*2),e.lineTo(-Py*n,-n),e.lineTo(Py*n,-n),e.closePath()}},wr=-.5,xr=Xr(3)/2,J0=1/Xr(12),DK=(J0/2+1)*3,RK={draw(e,t){const n=Xr(t/DK),r=n/2,i=n*J0,a=r,l=n*J0+n,u=-a,c=l;e.moveTo(r,i),e.lineTo(a,l),e.lineTo(u,c),e.lineTo(wr*r-xr*i,xr*r+wr*i),e.lineTo(wr*a-xr*l,xr*a+wr*l),e.lineTo(wr*u-xr*c,xr*u+wr*c),e.lineTo(wr*r+xr*i,wr*i-xr*r),e.lineTo(wr*a+xr*l,wr*l-xr*a),e.lineTo(wr*u+xr*c,wr*c-xr*u),e.closePath()}};function kK(e,t){let n=null,r=w_(i);e=typeof e=="function"?e:ot(e||A_),t=typeof t=="function"?t:ot(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:ot(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:ot(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function mh(){}function gh(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function jD(e){this._context=e}jD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:gh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:gh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function LK(e){return new jD(e)}function qD(e){this._context=e}qD.prototype={areaStart:mh,areaEnd:mh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:gh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function UK(e){return new qD(e)}function zD(e){this._context=e}zD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:gh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jK(e){return new zD(e)}function $D(e){this._context=e}$D.prototype={areaStart:mh,areaEnd:mh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function qK(e){return new $D(e)}function x1(e){return e<0?-1:1}function A1(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),u=(a*i+l*r)/(r+i);return(x1(a)+x1(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(u))||0}function C1(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Ny(e,t,n){var r=e._x0,i=e._y0,a=e._x1,l=e._y1,u=(a-r)/3;e._context.bezierCurveTo(r+u,i+u*t,a-u,l-u*n,a,l)}function yh(e){this._context=e}yh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ny(this,this._t0,C1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ny(this,C1(this,n=A1(this,e,t)),n);break;default:Ny(this,this._t0,n=A1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function BD(e){this._context=new FD(e)}(BD.prototype=Object.create(yh.prototype)).point=function(e,t){yh.prototype.point.call(this,t,e)};function FD(e){this._context=e}FD.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function zK(e){return new yh(e)}function $K(e){return new BD(e)}function HD(e){this._context=e}HD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=M1(e),i=M1(t),a=0,l=1;l<n;++a,++l)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function M1(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),l=new Array(n);for(i[0]=0,a[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,l[t]-=r*l[t-1];for(i[n-1]=l[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(l[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function BK(e){return new HD(e)}function Tp(e,t){this._context=e,this._t=t}Tp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function FK(e){return new Tp(e,.5)}function HK(e){return new Tp(e,0)}function GK(e){return new Tp(e,1)}function fl(e,t){if((l=e.length)>1)for(var n=1,r,i,a=e[t[0]],l,u=a.length;n<l;++n)for(i=a,a=e[t[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function X0(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function VK(e,t){return e[t]}function KK(e){const t=[];return t.key=e,t}function YK(){var e=ot([]),t=X0,n=fl,r=VK;function i(a){var l=Array.from(e.apply(this,arguments),KK),u,c=l.length,d=-1,h;for(const m of a)for(u=0,++d;u<c;++u)(l[u][d]=[0,+r(m,l[u].key,d,a)]).data=m;for(u=0,h=x_(t(l));u<c;++u)l[h[u]].index=u;return n(l,h),l}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:ot(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:ot(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?X0:typeof a=="function"?a:ot(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??fl,i):n},i}function WK(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,l;i<a;++i){for(l=n=0;n<r;++n)l+=e[n][i][1]||0;if(l)for(n=0;n<r;++n)e[n][i][1]/=l}fl(e,t)}}function JK(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var l=0,u=0;l<i;++l)u+=e[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}fl(e,t)}}function XK(e,t){if(!(!((l=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,l;r<a;++r){for(var u=0,c=0,d=0;u<l;++u){for(var h=e[t[u]],m=h[r][1]||0,y=h[r-1][1]||0,_=(m-y)/2,T=0;T<u;++T){var w=e[t[T]],E=w[r][1]||0,C=w[r-1][1]||0;_+=E-C}c+=m,d+=_*m}i[r-1][1]+=i[r-1][0]=n,c&&(n-=d/c)}i[r-1][1]+=i[r-1][0]=n,fl(e,t)}}var Oy={},Iy={},P1;function QK(){return P1||(P1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Iy)),Iy}var Dy={},N1;function GD(){return N1||(N1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Dy)),Dy}var Ry={},O1;function C_(){return O1||(O1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(Ry)),Ry}var ky={},Ly={},I1;function ZK(){return I1||(I1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(Ly)),Ly}var D1;function M_(){return D1||(D1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZK(),n=C_();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],l=i.length;if(l===0)return a;let u=0,c="",d="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),u++);u<l;){const m=i[u];d?m==="\\"&&u+1<l?(u++,c+=i[u]):m===d?d="":c+=m:h?m==='"'||m==="'"?d=m:m==="]"?(h=!1,a.push(c),c=""):c+=m:m==="["?(h=!0,c&&(a.push(c),c="")):m==="."?c&&(a.push(c),c=""):c+=m,u++}return c&&a.push(c),a}e.toPath=r})(ky)),ky}var R1;function P_(){return R1||(R1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QK(),n=GD(),r=C_(),i=M_();function a(u,c,d){if(u==null)return d;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return d;const h=u[c];return h===void 0?n.isDeepKey(c)?a(u,i.toPath(c),d):d:h}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const h=u[c];return h===void 0?d:h}default:{if(Array.isArray(c))return l(u,c,d);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return d;const h=u[c];return h===void 0?d:h}}}function l(u,c,d){if(c.length===0)return d;let h=u;for(let m=0;m<c.length;m++){if(h==null||t.isUnsafeProperty(c[m]))return d;h=h[c[m]]}return h===void 0?d:h}e.get=a})(Oy)),Oy}var Uy,k1;function eY(){return k1||(k1=1,Uy=P_().get),Uy}var tY=eY();const Ep=fa(tY);var Pr=e=>e===0?0:e>0?1:-1,Dr=e=>typeof e=="number"&&e!=+e,aa=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ae=e=>(typeof e=="number"||e instanceof Number)&&!Dr(e),Rr=e=>Ae(e)||typeof e=="string",nY=0,fc=e=>{var t=++nY;return"".concat(e||"").concat(t)},eo=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ae(t)&&typeof t!="string")return r;var a;if(aa(t)){if(n==null)return r;var l=t.indexOf("%");a=n*parseFloat(t.slice(0,l))/100}else a=+t;return Dr(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},VD=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function Bn(e,t,n){return Ae(e)&&Ae(t)?e+n*(t-e):t}function KD(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Ep(r,t))===n)}var en=e=>e===null||typeof e>"u",Dc=e=>en(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function rY(e){return e!=null}function Rc(){}var iY=["type","size","sizeType"];function Q0(){return Q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q0.apply(null,arguments)}function L1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function U1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L1(Object(n),!0).forEach(function(r){aY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aY(e,t,n){return(t=oY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oY(e){var t=sY(e,"string");return typeof t=="symbol"?t:t+""}function sY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lY(e,t){if(e==null)return{};var n,r,i=uY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function uY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var YD={symbolCircle:A_,symbolCross:wK,symbolDiamond:AK,symbolSquare:CK,symbolStar:OK,symbolTriangle:IK,symbolWye:RK},cY=Math.PI/180,fY=e=>{var t="symbol".concat(Dc(e));return YD[t]||A_},dY=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*cY;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},hY=(e,t)=>{YD["symbol".concat(Dc(e))]=t},N_=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=lY(e,iY),a=U1(U1({},i),{},{type:t,size:n,sizeType:r}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var y=fY(l),_=kK().type(y).size(dY(n,r,l)),T=_();if(T!==null)return T},{className:c,cx:d,cy:h}=a,m=Tn(a);return Ae(d)&&Ae(h)&&Ae(n)?x.createElement("path",Q0({},m,{className:et("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(h,")"),d:u()})):null};N_.registerSymbol=hY;var WD=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,O_=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{T_(i)&&(r[i]=(a=>n[i](n,a)))}),r},pY=(e,t,n)=>r=>(e(t,n,r),null),JD=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];T_(i)&&typeof a=="function"&&(r||(r={}),r[i]=pY(a,t,n))}),r};function j1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j1(Object(n),!0).forEach(function(r){gY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gY(e,t,n){return(t=yY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yY(e){var t=vY(e,"string");return typeof t=="symbol"?t:t+""}function vY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dn(e,t){var n=mY({},e),r=t,i=Object.keys(t),a=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return a}function vh(){return vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vh.apply(null,arguments)}function q1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q1(Object(n),!0).forEach(function(r){_Y(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _Y(e,t,n){return(t=SY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SY(e){var t=TY(e,"string");return typeof t=="symbol"?t:t+""}function TY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cr=32,EY={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function wY(e){var{data:t,iconType:n,inactiveColor:r}=e,i=Cr/2,a=Cr/6,l=Cr/3,u=t.inactive?r:t.color,c=n??t.type;if(c==="none")return null;if(c==="plainline"){var d;return x.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(d=t.payload)===null||d===void 0?void 0:d.strokeDasharray,x1:0,y1:i,x2:Cr,y2:i,className:"recharts-legend-icon"})}if(c==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Cr,"M").concat(2*l,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return x.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Cr/8,"h").concat(Cr,"v").concat(Cr*3/4,"h").concat(-Cr,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var h=bY({},t);return delete h.legendIcon,x.cloneElement(t.legendIcon,h)}return x.createElement(N_,{fill:u,cx:i,cy:i,size:Cr,sizeType:"diameter",type:c})}function xY(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:l}=e,u={x:0,y:0,width:Cr,height:Cr},c={display:r==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,m)=>{var y=h.formatter||i,_=et({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:h.inactive});if(h.type==="none")return null;var T=h.inactive?a:h.color,w=y?y(h.value,h,m):h.value;return x.createElement("li",vh({className:_,style:c,key:"legend-item-".concat(m)},JD(e,h,m)),x.createElement(E_,{width:n,height:n,viewBox:u,style:d,"aria-label":"".concat(w," legend icon")},x.createElement(wY,{data:h,iconType:l,inactiveColor:a})),x.createElement("span",{className:"recharts-legend-item-text",style:{color:T}},w))})}var AY=e=>{var t=dn(e,EY),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:a},x.createElement(xY,vh({},t,{payload:n})))},jy={},qy={},z1;function CY(){return z1||(z1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const l=n[a],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}e.uniqBy=t})(qy)),qy}var zy={},$1;function XD(){return $1||($1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(zy)),zy}var $y={},By={},Fy={},B1;function MY(){return B1||(B1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Fy)),Fy}var F1;function I_(){return F1||(F1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MY();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(By)),By}var Hy={},H1;function PY(){return H1||(H1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(Hy)),Hy}var G1;function NY(){return G1||(G1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I_(),n=PY();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})($y)),$y}var Gy={},Vy={},V1;function OY(){return V1||(V1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P_();function n(r){return function(i){return t.get(i,r)}}e.property=n})(Vy)),Vy}var Ky={},Yy={},Wy={},Jy={},K1;function QD(){return K1||(K1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Jy)),Jy}var Xy={},Y1;function ZD(){return Y1||(Y1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Xy)),Xy}var Qy={},W1;function eR(){return W1||(W1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(Qy)),Qy}var J1;function IY(){return J1||(J1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QD(),n=ZD(),r=eR();function i(h,m,y){return typeof y!="function"?i(h,m,()=>{}):a(h,m,function _(T,w,E,C,N,P){const D=y(T,w,E,C,N,P);return D!==void 0?!!D:a(T,w,_,P)},new Map)}function a(h,m,y,_){if(m===h)return!0;switch(typeof m){case"object":return l(h,m,y,_);case"function":return Object.keys(m).length>0?a(h,{...m},y,_):r.eq(h,m);default:return t.isObject(h)?typeof m=="string"?m==="":!0:r.eq(h,m)}}function l(h,m,y,_){if(m==null)return!0;if(Array.isArray(m))return c(h,m,y,_);if(m instanceof Map)return u(h,m,y,_);if(m instanceof Set)return d(h,m,y,_);const T=Object.keys(m);if(h==null)return T.length===0;if(T.length===0)return!0;if(_?.has(m))return _.get(m)===h;_?.set(m,h);try{for(let w=0;w<T.length;w++){const E=T[w];if(!n.isPrimitive(h)&&!(E in h)||m[E]===void 0&&h[E]!==void 0||m[E]===null&&h[E]!==null||!y(h[E],m[E],E,h,m,_))return!1}return!0}finally{_?.delete(m)}}function u(h,m,y,_){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[T,w]of m.entries()){const E=h.get(T);if(y(E,w,T,h,m,_)===!1)return!1}return!0}function c(h,m,y,_){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const T=new Set;for(let w=0;w<m.length;w++){const E=m[w];let C=!1;for(let N=0;N<h.length;N++){if(T.has(N))continue;const P=h[N];let D=!1;if(y(P,E,w,h,m,_)&&(D=!0),D){T.add(N),C=!0;break}}if(!C)return!1}return!0}function d(h,m,y,_){return m.size===0?!0:h instanceof Set?c([...h],[...m],y,_):!1}e.isMatchWith=i,e.isSetMatch=d})(Wy)),Wy}var X1;function tR(){return X1||(X1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IY();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(Yy)),Yy}var Zy={},ev={},tv={},Q1;function DY(){return Q1||(Q1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(tv)),tv}var nv={},Z1;function nR(){return Z1||(Z1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(nv)),nv}var rv={},eM;function rR(){return eM||(eM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",l="[object Symbol]",u="[object Date]",c="[object Map]",d="[object Set]",h="[object Array]",m="[object Function]",y="[object ArrayBuffer]",_="[object Object]",T="[object Error]",w="[object DataView]",E="[object Uint8Array]",C="[object Uint8ClampedArray]",N="[object Uint16Array]",P="[object Uint32Array]",D="[object BigUint64Array]",O="[object Int8Array]",R="[object Int16Array]",k="[object Int32Array]",q="[object BigInt64Array]",G="[object Float32Array]",H="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=y,e.arrayTag=h,e.bigInt64ArrayTag=q,e.bigUint64ArrayTag=D,e.booleanTag=i,e.dataViewTag=w,e.dateTag=u,e.errorTag=T,e.float32ArrayTag=G,e.float64ArrayTag=H,e.functionTag=m,e.int16ArrayTag=R,e.int32ArrayTag=k,e.int8ArrayTag=O,e.mapTag=c,e.numberTag=r,e.objectTag=_,e.regexpTag=t,e.setTag=d,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=N,e.uint32ArrayTag=P,e.uint8ArrayTag=E,e.uint8ClampedArrayTag=C})(rv)),rv}var iv={},tM;function RY(){return tM||(tM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(iv)),iv}var nM;function iR(){return nM||(nM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DY(),n=nR(),r=rR(),i=ZD(),a=RY();function l(h,m){return u(h,void 0,h,new Map,m)}function u(h,m,y,_=new Map,T=void 0){const w=T?.(h,m,y,_);if(w!==void 0)return w;if(i.isPrimitive(h))return h;if(_.has(h))return _.get(h);if(Array.isArray(h)){const E=new Array(h.length);_.set(h,E);for(let C=0;C<h.length;C++)E[C]=u(h[C],C,y,_,T);return Object.hasOwn(h,"index")&&(E.index=h.index),Object.hasOwn(h,"input")&&(E.input=h.input),E}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const E=new RegExp(h.source,h.flags);return E.lastIndex=h.lastIndex,E}if(h instanceof Map){const E=new Map;_.set(h,E);for(const[C,N]of h)E.set(C,u(N,C,y,_,T));return E}if(h instanceof Set){const E=new Set;_.set(h,E);for(const C of h)E.add(u(C,void 0,y,_,T));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const E=new(Object.getPrototypeOf(h)).constructor(h.length);_.set(h,E);for(let C=0;C<h.length;C++)E[C]=u(h[C],C,y,_,T);return E}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const E=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return _.set(h,E),c(E,h,y,_,T),E}if(typeof File<"u"&&h instanceof File){const E=new File([h],h.name,{type:h.type});return _.set(h,E),c(E,h,y,_,T),E}if(typeof Blob<"u"&&h instanceof Blob){const E=new Blob([h],{type:h.type});return _.set(h,E),c(E,h,y,_,T),E}if(h instanceof Error){const E=new h.constructor;return _.set(h,E),E.message=h.message,E.name=h.name,E.stack=h.stack,E.cause=h.cause,c(E,h,y,_,T),E}if(h instanceof Boolean){const E=new Boolean(h.valueOf());return _.set(h,E),c(E,h,y,_,T),E}if(h instanceof Number){const E=new Number(h.valueOf());return _.set(h,E),c(E,h,y,_,T),E}if(h instanceof String){const E=new String(h.valueOf());return _.set(h,E),c(E,h,y,_,T),E}if(typeof h=="object"&&d(h)){const E=Object.create(Object.getPrototypeOf(h));return _.set(h,E),c(E,h,y,_,T),E}return h}function c(h,m,y=h,_,T){const w=[...Object.keys(m),...t.getSymbols(m)];for(let E=0;E<w.length;E++){const C=w[E],N=Object.getOwnPropertyDescriptor(h,C);(N==null||N.writable)&&(h[C]=u(m[C],C,y,_,T))}}function d(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=c})(ev)),ev}var rM;function kY(){return rM||(rM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iR();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(Zy)),Zy}var iM;function LY(){return iM||(iM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tR(),n=kY();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(Ky)),Ky}var av={},ov={},sv={},aM;function UY(){return aM||(aM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iR(),n=rR();function r(i,a){return t.cloneDeepWith(i,(l,u,c,d)=>{const h=a?.(l,u,c,d);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i?.valueOf());return t.copyProperties(m,i),m}case n.argumentsTag:{const m={};return t.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}e.cloneDeepWith=r})(sv)),sv}var oM;function jY(){return oM||(oM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UY();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(ov)),ov}var lv={},uv={},sM;function aR(){return sM||(sM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(uv)),uv}var cv={},lM;function qY(){return lM||(lM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nR();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(cv)),cv}var uM;function zY(){return uM||(uM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GD(),n=aR(),r=qY(),i=M_();function a(l,u){let c;if(Array.isArray(u)?c=u:typeof u=="string"&&t.isDeepKey(u)&&l?.[u]==null?c=i.toPath(u):c=[u],c.length===0)return!1;let d=l;for(let h=0;h<c.length;h++){const m=c[h];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}e.has=a})(lv)),lv}var cM;function $Y(){return cM||(cM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tR(),n=C_(),r=jY(),i=P_(),a=zY();function l(u,c){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return c=r.cloneDeep(c),function(d){const h=i.get(d,u);return h===void 0?a.has(d,u):c===void 0?h===void 0:t.isMatch(h,c)}}e.matchesProperty=l})(av)),av}var fM;function BY(){return fM||(fM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XD(),n=OY(),r=LY(),i=$Y();function a(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=a})(Gy)),Gy}var dM;function FY(){return dM||(dM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CY(),n=XD(),r=NY(),i=BY();function a(l,u=n.identity){return r.isArrayLikeObject(l)?t.uniqBy(Array.from(l),i.iteratee(u)):[]}e.uniqBy=a})(jy)),jy}var fv,hM;function HY(){return hM||(hM=1,fv=FY().uniqBy),fv}var GY=HY();const pM=fa(GY);function oR(e,t,n){return t===!0?pM(e,n):typeof t=="function"?pM(e,t):e}var dv={exports:{}},hv={},pv={exports:{}},mv={};var mM;function VY(){if(mM)return mv;mM=1;var e=bl();function t(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,l=e.useDebugValue;function u(m,y){var _=y(),T=r({inst:{value:_,getSnapshot:y}}),w=T[0].inst,E=T[1];return a(function(){w.value=_,w.getSnapshot=y,c(w)&&E({inst:w})},[m,_,y]),i(function(){return c(w)&&E({inst:w}),m(function(){c(w)&&E({inst:w})})},[m]),l(_),_}function c(m){var y=m.getSnapshot;m=m.value;try{var _=y();return!n(m,_)}catch{return!0}}function d(m,y){return y()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return mv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,mv}var gM;function KY(){return gM||(gM=1,pv.exports=VY()),pv.exports}var yM;function YY(){if(yM)return hv;yM=1;var e=bl(),t=KY();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,l=e.useEffect,u=e.useMemo,c=e.useDebugValue;return hv.useSyncExternalStoreWithSelector=function(d,h,m,y,_){var T=a(null);if(T.current===null){var w={hasValue:!1,value:null};T.current=w}else w=T.current;T=u(function(){function C(R){if(!N){if(N=!0,P=R,R=y(R),_!==void 0&&w.hasValue){var k=w.value;if(_(k,R))return D=k}return D=R}if(k=D,r(P,R))return k;var q=y(R);return _!==void 0&&_(k,q)?(P=R,k):(P=R,D=q)}var N=!1,P,D,O=m===void 0?null:m;return[function(){return C(h())},O===null?void 0:function(){return C(O())}]},[h,m,y,_]);var E=i(d,T[0],T[1]);return l(function(){w.hasValue=!0,w.value=E},[E]),c(E),E},hv}var vM;function WY(){return vM||(vM=1,dv.exports=YY()),dv.exports}var JY=WY(),D_=x.createContext(null),XY=e=>e,Pt=()=>{var e=x.useContext(D_);return e?e.store.dispatch:XY},Kd=()=>{},QY=()=>Kd,ZY=(e,t)=>e===t;function _e(e){var t=x.useContext(D_);return JY.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:QY,t?t.store.getState:Kd,t?t.store.getState:Kd,t?e:Kd,ZY)}function e9(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function t9(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function n9(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var bM=e=>Array.isArray(e)?e:[e];function r9(e){const t=Array.isArray(e[0])?e[0]:e;return n9(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function i9(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var a9=class{constructor(e){this.value=e}deref(){return this.value}},o9=typeof WeakRef<"u"?WeakRef:a9,s9=0,_M=1;function Td(){return{s:s9,v:void 0,o:null,p:null}}function sR(e,t={}){let n=Td();const{resultEqualityCheck:r}=t;let i,a=0;function l(){let u=n;const{length:c}=arguments;for(let m=0,y=c;m<y;m++){const _=arguments[m];if(typeof _=="function"||typeof _=="object"&&_!==null){let T=u.o;T===null&&(u.o=T=new WeakMap);const w=T.get(_);w===void 0?(u=Td(),T.set(_,u)):u=w}else{let T=u.p;T===null&&(u.p=T=new Map);const w=T.get(_);w===void 0?(u=Td(),T.set(_,u)):u=w}}const d=u;let h;if(u.s===_M)h=u.v;else if(h=e.apply(null,arguments),a++,r){const m=i?.deref?.()??i;m!=null&&r(m,h)&&(h=m,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new o9(h):h}return d.s=_M,d.v=h,h}return l.clearCache=()=>{n=Td(),l.resetResultsCount()},l.resultsCount=()=>a,l.resetResultsCount=()=>{a=0},l}function l9(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,l=0,u,c={},d=i.pop();typeof d=="object"&&(c=d,d=i.pop()),e9(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...c},{memoize:m,memoizeOptions:y=[],argsMemoize:_=sR,argsMemoizeOptions:T=[]}=h,w=bM(y),E=bM(T),C=r9(i),N=m(function(){return a++,d.apply(null,arguments)},...w),P=_(function(){l++;const O=i9(C,arguments);return u=N.apply(null,O),u},...E);return Object.assign(P,{resultFunc:d,memoizedResultFunc:N,dependencies:C,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:m,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var Z=l9(sR),u9=Object.assign((e,t=Z)=>{t9(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((l,u,c)=>(l[n[c]]=u,l),{}))},{withTypes:()=>u9}),gv={},yv={},vv={},SM;function c9(){return SM||(SM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const l=t(r),u=t(i);if(l===u&&l===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?u-l:l-u}return 0};e.compareValues=n})(vv)),vv}var bv={},_v={},TM;function lR(){return TM||(TM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(_v)),_v}var EM;function f9(){return EM||(EM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lR(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,l){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||l!=null&&Object.hasOwn(l,a)}e.isKey=i})(bv)),bv}var wM;function d9(){return wM||(wM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c9(),n=f9(),r=M_();function i(a,l,u,c){if(a==null)return[];u=c?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(_=>String(_));const d=(_,T)=>{let w=_;for(let E=0;E<T.length&&w!=null;++E)w=w[T[E]];return w},h=(_,T)=>T==null||_==null?T:typeof _=="object"&&"key"in _?Object.hasOwn(T,_.key)?T[_.key]:d(T,_.path):typeof _=="function"?_(T):Array.isArray(_)?d(T,_):typeof T=="object"?T[_]:T,m=l.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return a.map(_=>({original:_,criteria:m.map(T=>h(T,_))})).slice().sort((_,T)=>{for(let w=0;w<m.length;w++){const E=t.compareValues(_.criteria[w],T.criteria[w],u[w]);if(E!==0)return E}return 0}).map(_=>_.original)}e.orderBy=i})(yv)),yv}var Sv={},xM;function h9(){return xM||(xM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),l=(u,c)=>{for(let d=0;d<u.length;d++){const h=u[d];Array.isArray(h)&&c<a?l(h,c+1):i.push(h)}};return l(n,0),i}e.flatten=t})(Sv)),Sv}var Tv={},AM;function uR(){return AM||(AM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aR(),n=I_(),r=QD(),i=eR();function a(l,u,c){return r.isObject(c)&&(typeof u=="number"&&n.isArrayLike(c)&&t.isIndex(u)&&u<c.length||typeof u=="string"&&u in c)?i.eq(c[u],l):!1}e.isIterateeCall=a})(Tv)),Tv}var CM;function p9(){return CM||(CM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d9(),n=h9(),r=uR();function i(a,...l){const u=l.length;return u>1&&r.isIterateeCall(a,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(a,n.flatten(l),["asc"])}e.sortBy=i})(gv)),gv}var Ev,MM;function m9(){return MM||(MM=1,Ev=p9().sortBy),Ev}var g9=m9();const wp=fa(g9);var cR=e=>e.legend.settings,y9=e=>e.legend.size,v9=e=>e.legend.payload,b9=Z([v9,cR],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?wp(r,n):r});function _9(){return _e(b9)}var Ed=1;function fR(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),l={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(l.height-t.height)>Ed||Math.abs(l.left-t.left)>Ed||Math.abs(l.top-t.top)>Ed||Math.abs(l.width-t.width)>Ed)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function ln(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var S9=typeof Symbol=="function"&&Symbol.observable||"@@observable",PM=S9,wv=()=>Math.random().toString(36).substring(7).split("").join("."),T9={INIT:`@@redux/INIT${wv()}`,REPLACE:`@@redux/REPLACE${wv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${wv()}`},bh=T9;function R_(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function dR(e,t,n){if(typeof e!="function")throw new Error(ln(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ln(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ln(1));return n(dR)(e,t)}let r=e,i=t,a=new Map,l=a,u=0,c=!1;function d(){l===a&&(l=new Map,a.forEach((E,C)=>{l.set(C,E)}))}function h(){if(c)throw new Error(ln(3));return i}function m(E){if(typeof E!="function")throw new Error(ln(4));if(c)throw new Error(ln(5));let C=!0;d();const N=u++;return l.set(N,E),function(){if(C){if(c)throw new Error(ln(6));C=!1,d(),l.delete(N),a=null}}}function y(E){if(!R_(E))throw new Error(ln(7));if(typeof E.type>"u")throw new Error(ln(8));if(typeof E.type!="string")throw new Error(ln(17));if(c)throw new Error(ln(9));try{c=!0,i=r(i,E)}finally{c=!1}return(a=l).forEach(N=>{N()}),E}function _(E){if(typeof E!="function")throw new Error(ln(10));r=E,y({type:bh.REPLACE})}function T(){const E=m;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(ln(11));function N(){const D=C;D.next&&D.next(h())}return N(),{unsubscribe:E(N)}},[PM](){return this}}}return y({type:bh.INIT}),{dispatch:y,subscribe:m,getState:h,replaceReducer:_,[PM]:T}}function E9(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:bh.INIT})>"u")throw new Error(ln(12));if(typeof n(void 0,{type:bh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ln(13))})}function hR(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const l=t[a];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let i;try{E9(n)}catch(a){i=a}return function(l={},u){if(i)throw i;let c=!1;const d={};for(let h=0;h<r.length;h++){const m=r[h],y=n[m],_=l[m],T=y(_,u);if(typeof T>"u")throw u&&u.type,new Error(ln(14));d[m]=T,c=c||T!==_}return c=c||r.length!==Object.keys(l).length,c?d:l}}function _h(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function w9(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(ln(15))};const l={getState:i.getState,dispatch:(c,...d)=>a(c,...d)},u=e.map(c=>c(l));return a=_h(...u)(i.dispatch),{...i,dispatch:a}}}function pR(e){return R_(e)&&"type"in e&&typeof e.type=="string"}var mR=Symbol.for("immer-nothing"),NM=Symbol.for("immer-draftable"),Cn=Symbol.for("immer-state");function Hr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ur=Object,dl=ur.getPrototypeOf,Sh="constructor",xp="prototype",Z0="configurable",Th="enumerable",Yd="writable",dc="value",oa=e=>!!e&&!!e[Cn];function ci(e){return e?gR(e)||Ap(e)||!!e[NM]||!!e[Sh]?.[NM]||Cp(e)||Mp(e):!1}var x9=ur[xp][Sh].toString(),OM=new WeakMap;function gR(e){if(!e||!k_(e))return!1;const t=dl(e);if(t===null||t===ur[xp])return!0;const n=ur.hasOwnProperty.call(t,Sh)&&t[Sh];if(n===Object)return!0;if(!Js(n))return!1;let r=OM.get(n);return r===void 0&&(r=Function.toString.call(n),OM.set(n,r)),r===x9}function kc(e,t,n=!0){Lc(e)===0?(n?Reflect.ownKeys(e):ur.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Lc(e){const t=e[Cn];return t?t.type_:Ap(e)?1:Cp(e)?2:Mp(e)?3:0}var IM=(e,t,n=Lc(e))=>n===2?e.has(t):ur[xp].hasOwnProperty.call(e,t),eb=(e,t,n=Lc(e))=>n===2?e.get(t):e[t],Eh=(e,t,n,r=Lc(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function A9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Ap=Array.isArray,Cp=e=>e instanceof Map,Mp=e=>e instanceof Set,k_=e=>typeof e=="object",Js=e=>typeof e=="function",xv=e=>typeof e=="boolean",Fi=e=>e.copy_||e.base_,L_=e=>e.modified_?e.copy_:e.base_;function tb(e,t){if(Cp(e))return new Map(e);if(Mp(e))return new Set(e);if(Ap(e))return Array[xp].slice.call(e);const n=gR(e);if(t===!0||t==="class_only"&&!n){const r=ur.getOwnPropertyDescriptors(e);delete r[Cn];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],u=r[l];u[Yd]===!1&&(u[Yd]=!0,u[Z0]=!0),(u.get||u.set)&&(r[l]={[Z0]:!0,[Yd]:!0,[Th]:u[Th],[dc]:e[l]})}return ur.create(dl(e),r)}else{const r=dl(e);if(r!==null&&n)return{...e};const i=ur.create(r);return ur.assign(i,e)}}function U_(e,t=!1){return Pp(e)||oa(e)||(Lc(e)>1&&ur.defineProperties(e,{set:wd,add:wd,clear:wd,delete:wd}),ur.freeze(e),t&&kc(e,(n,r)=>{U_(r,!0)},!1)),e}function C9(){Hr(2)}var wd={[dc]:C9};function Pp(e){return e===null||!k_(e)?!0:ur.isFrozen(e)}var wh="MapSet",nb="Patches",yR={};function hl(e){const t=yR[e];return t||Hr(0,e),t}var M9=e=>!!yR[e],hc,vR=()=>hc,P9=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:M9(wh)?hl(wh):void 0});function DM(e,t){t&&(e.patchPlugin_=hl(nb),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function rb(e){ib(e),e.drafts_.forEach(N9),e.drafts_=null}function ib(e){e===hc&&(hc=e.parent_)}var RM=e=>hc=P9(hc,e);function N9(e){const t=e[Cn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function kM(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Cn].modified_&&(rb(t),Hr(4)),ci(e)&&(e=LM(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Cn].base_,e,t)}else e=LM(t,n);return O9(t,e,!0),rb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==mR?e:void 0}function LM(e,t){if(Pp(t))return t;const n=t[Cn];if(!n)return j_(t,e.handledSet_,e);if(!Np(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);SR(n,e)}return n.copy_}function O9(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&U_(t,n)}function bR(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Np=(e,t)=>e.scope_===t,I9=[];function _R(e,t,n,r){const i=Fi(e),a=e.type_;if(r!==void 0&&eb(i,r,a)===t){Eh(i,r,n,a);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;kc(i,(c,d)=>{if(oa(d)){const h=u.get(d)||[];h.push(c),u.set(d,h)}})}const l=e.draftLocations_.get(t)??I9;for(const u of l)Eh(i,u,n,a)}function D9(e,t,n){e.callbacks_.push(function(i){const a=t;if(!a||!Np(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const l=L_(a);_R(e,a.draft_??a,l,n),SR(a,i)})}function SR(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}bR(e)}}function R9(e,t,n){const{scope_:r}=e;if(oa(n)){const i=n[Cn];Np(i,r)&&i.callbacks_.push(function(){Wd(e);const l=L_(i);_R(e,n,l,t)})}else ci(n)&&e.callbacks_.push(function(){const a=Fi(e);eb(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&j_(eb(e.copy_,t,e.type_),r.handledSet_,r)})}function j_(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||oa(e)||t.has(e)||!ci(e)||Pp(e)||(t.add(e),kc(e,(r,i)=>{if(oa(i)){const a=i[Cn];if(Np(a,n)){const l=L_(a);Eh(e,r,l,e.type_),bR(a)}}else ci(i)&&j_(i,t,n)})),e}function k9(e,t){const n=Ap(e),r={type_:n?1:0,scope_:t?t.scope_:vR(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=q_;n&&(i=[r],a=pc);const{revoke:l,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=l,[u,r]}var q_={get(e,t){if(t===Cn)return e;const n=Fi(e);if(!IM(n,t,e.type_))return L9(e,n,t);const r=n[t];if(e.finalized_||!ci(r))return r;if(r===Av(e.base_,t)){Wd(e);const i=e.type_===1?+t:t,a=ob(e.scope_,r,e,i);return e.copy_[i]=a}return r},has(e,t){return t in Fi(e)},ownKeys(e){return Reflect.ownKeys(Fi(e))},set(e,t,n){const r=TR(Fi(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Av(Fi(e),t),a=i?.[Cn];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(A9(n,i)&&(n!==void 0||IM(e.base_,t,e.type_)))return!0;Wd(e),ab(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),R9(e,t,n)),!0},deleteProperty(e,t){return Wd(e),Av(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),ab(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Fi(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Yd]:!0,[Z0]:e.type_!==1||t!=="length",[Th]:r[Th],[dc]:n[t]}},defineProperty(){Hr(11)},getPrototypeOf(e){return dl(e.base_)},setPrototypeOf(){Hr(12)}},pc={};kc(q_,(e,t)=>{pc[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});pc.deleteProperty=function(e,t){return pc.set.call(this,e,t,void 0)};pc.set=function(e,t,n){return q_.set.call(this,e[0],t,n,e[0])};function Av(e,t){const n=e[Cn];return(n?Fi(n):e)[t]}function L9(e,t,n){const r=TR(t,n);return r?dc in r?r[dc]:r.get?.call(e.draft_):void 0}function TR(e,t){if(!(t in e))return;let n=dl(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=dl(n)}}function ab(e){e.modified_||(e.modified_=!0,e.parent_&&ab(e.parent_))}function Wd(e){e.copy_||(e.assigned_=new Map,e.copy_=tb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var U9=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Js(n)&&!Js(r)){const l=r;r=n;const u=this;return function(d=l,...h){return u.produce(d,m=>r.call(this,m,...h))}}Js(r)||Hr(6),i!==void 0&&!Js(i)&&Hr(7);let a;if(ci(n)){const l=RM(this),u=ob(l,n,void 0);let c=!0;try{a=r(u),c=!1}finally{c?rb(l):ib(l)}return DM(l,i),kM(a,l)}else if(!n||!k_(n)){if(a=r(n),a===void 0&&(a=n),a===mR&&(a=void 0),this.autoFreeze_&&U_(a,!0),i){const l=[],u=[];hl(nb).generateReplacementPatches_(n,a,{patches_:l,inversePatches_:u}),i(l,u)}return a}else Hr(1,n)},this.produceWithPatches=(n,r)=>{if(Js(n))return(u,...c)=>this.produceWithPatches(u,d=>n(d,...c));let i,a;return[this.produce(n,r,(u,c)=>{i=u,a=c}),i,a]},xv(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),xv(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),xv(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ci(t)||Hr(8),oa(t)&&(t=Kr(t));const n=RM(this),r=ob(n,t,void 0);return r[Cn].isManual_=!0,ib(n),r}finishDraft(t,n){const r=t&&t[Cn];(!r||!r.isManual_)&&Hr(9);const{scope_:i}=r;return DM(i,n),kM(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=hl(nb).applyPatches_;return oa(t)?i(t,n):this.produce(t,a=>i(a,n))}};function ob(e,t,n,r){const[i,a]=Cp(t)?hl(wh).proxyMap_(t,n):Mp(t)?hl(wh).proxySet_(t,n):k9(t,n);return(n?.scope_??vR()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?D9(n,a,r):a.callbacks_.push(function(c){c.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:d}=c;a.modified_&&d&&d.generatePatches_(a,[],c)}),i}function Kr(e){return oa(e)||Hr(10,e),ER(e)}function ER(e){if(!ci(e)||Pp(e))return e;const t=e[Cn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=tb(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=tb(e,!0);return kc(n,(i,a)=>{Eh(n,i,ER(a))},r),t&&(t.finalized_=!1),n}var j9=new U9,wR=j9.produce;function xR(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var q9=xR(),z9=xR,$9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?_h:_h.apply(null,arguments)};function kr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(fr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>pR(r)&&r.type===e,n}var AR=class Ju extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ju.prototype)}static get[Symbol.species](){return Ju}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ju(...t[0].concat(this)):new Ju(...t.concat(this))}};function UM(e){return ci(e)?wR(e,()=>{}):e}function xd(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function B9(e){return typeof e=="boolean"}var F9=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let l=new AR;return n&&(B9(n)?l.push(q9):l.push(z9(n.extraArgument))),l},CR="RTK_autoBatch",yt=()=>e=>({payload:e,meta:{[CR]:!0}}),jM=e=>t=>{setTimeout(t,e)},MR=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,l=!1;const u=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:jM(10):e.type==="callback"?e.queueNotification:jM(e.timeout),d=()=>{l=!1,a&&(a=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const m=()=>i&&h(),y=r.subscribe(m);return u.add(h),()=>{y(),u.delete(h)}},dispatch(h){try{return i=!h?.meta?.[CR],a=!i,a&&(l||(l=!0,c(d))),r.dispatch(h)}finally{i=!0}}})},H9=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new AR(e);return r&&i.push(MR(typeof r=="object"?r:void 0)),i};function G9(e){const t=F9(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:l=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(R_(n))u=hR(n);else throw new Error(fr(1));let c;typeof r=="function"?c=r(t):c=t();let d=_h;i&&(d=$9({trace:!1,...typeof i=="object"&&i}));const h=w9(...c),m=H9(h);let y=typeof l=="function"?l(m):m();const _=d(...y);return dR(u,a,_)}function PR(e){const t={},n=[];let r;const i={addCase(a,l){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(fr(28));if(u in t)throw new Error(fr(29));return t[u]=l,i},addAsyncThunk(a,l){return l.pending&&(t[a.pending.type]=l.pending),l.rejected&&(t[a.rejected.type]=l.rejected),l.fulfilled&&(t[a.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:a.settled,reducer:l.settled}),i},addMatcher(a,l){return n.push({matcher:a,reducer:l}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function V9(e){return typeof e=="function"}function K9(e,t){let[n,r,i]=PR(t),a;if(V9(e))a=()=>UM(e());else{const u=UM(e);a=()=>u}function l(u=a(),c){let d=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,m)=>{if(m)if(oa(h)){const _=m(h,c);return _===void 0?h:_}else{if(ci(h))return wR(h,y=>m(y,c));{const y=m(h,c);if(y===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return h},u)}return l.getInitialState=a,l}var Y9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",W9=(e=21)=>{let t="",n=e;for(;n--;)t+=Y9[Math.random()*64|0];return t},J9=Symbol.for("rtk-slice-createasyncthunk");function X9(e,t){return`${e}/${t}`}function Q9({creators:e}={}){const t=e?.asyncThunk?.[J9];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(fr(11));const l=(typeof r.reducers=="function"?r.reducers(e7()):r.reducers)||{},u=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(P,D){const O=typeof P=="string"?P:P.type;if(!O)throw new Error(fr(12));if(O in c.sliceCaseReducersByType)throw new Error(fr(13));return c.sliceCaseReducersByType[O]=D,d},addMatcher(P,D){return c.sliceMatchers.push({matcher:P,reducer:D}),d},exposeAction(P,D){return c.actionCreators[P]=D,d},exposeCaseReducer(P,D){return c.sliceCaseReducersByName[P]=D,d}};u.forEach(P=>{const D=l[P],O={reducerName:P,type:X9(i,P),createNotation:typeof r.reducers=="function"};n7(D)?i7(O,D,d,t):t7(O,D,d)});function h(){const[P={},D=[],O=void 0]=typeof r.extraReducers=="function"?PR(r.extraReducers):[r.extraReducers],R={...P,...c.sliceCaseReducersByType};return K9(r.initialState,k=>{for(let q in R)k.addCase(q,R[q]);for(let q of c.sliceMatchers)k.addMatcher(q.matcher,q.reducer);for(let q of D)k.addMatcher(q.matcher,q.reducer);O&&k.addDefaultCase(O)})}const m=P=>P,y=new Map,_=new WeakMap;let T;function w(P,D){return T||(T=h()),T(P,D)}function E(){return T||(T=h()),T.getInitialState()}function C(P,D=!1){function O(k){let q=k[P];return typeof q>"u"&&D&&(q=xd(_,O,E)),q}function R(k=m){const q=xd(y,D,()=>new WeakMap);return xd(q,k,()=>{const G={};for(const[H,$]of Object.entries(r.selectors??{}))G[H]=Z9($,k,()=>xd(_,k,E),D);return G})}return{reducerPath:P,getSelectors:R,get selectors(){return R(O)},selectSlice:O}}const N={name:i,reducer:w,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:E,...C(a),injectInto(P,{reducerPath:D,...O}={}){const R=D??a;return P.inject({reducerPath:R,reducer:w},O),{...N,...C(R,!0)}}};return N}}function Z9(e,t,n,r){function i(a,...l){let u=t(a);return typeof u>"u"&&r&&(u=n()),e(u,...l)}return i.unwrapped=e,i}var Vn=Q9();function e7(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function t7({type:e,reducerName:t,createNotation:n},r,i){let a,l;if("reducer"in r){if(n&&!r7(r))throw new Error(fr(17));a=r.reducer,l=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,l?kr(e,l):kr(e))}function n7(e){return e._reducerDefinitionType==="asyncThunk"}function r7(e){return e._reducerDefinitionType==="reducerWithPrepare"}function i7({type:e,reducerName:t},n,r,i){if(!i)throw new Error(fr(18));const{payloadCreator:a,fulfilled:l,pending:u,rejected:c,settled:d,options:h}=n,m=i(e,a,h);r.exposeAction(t,m),l&&r.addCase(m.fulfilled,l),u&&r.addCase(m.pending,u),c&&r.addCase(m.rejected,c),d&&r.addMatcher(m.settled,d),r.exposeCaseReducer(t,{fulfilled:l||Ad,pending:u||Ad,rejected:c||Ad,settled:d||Ad})}function Ad(){}var a7="task",NR="listener",OR="completed",z_="cancelled",o7=`task-${z_}`,s7=`task-${OR}`,sb=`${NR}-${z_}`,l7=`${NR}-${OR}`,Op=class{constructor(e){this.code=e,this.message=`${a7} ${z_} (reason: ${e})`}name="TaskAbortError";message},$_=(e,t)=>{if(typeof e!="function")throw new TypeError(fr(32))},xh=()=>{},IR=(e,t=xh)=>(e.catch(t),e),DR=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Fo=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ho=e=>{if(e.aborted){const{reason:t}=e;throw new Op(t)}};function RR(e,t){let n=xh;return new Promise((r,i)=>{const a=()=>i(new Op(e.reason));if(e.aborted){a();return}n=DR(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=xh})}var u7=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Op?"cancelled":"rejected",error:n}}finally{t?.()}},Ah=e=>t=>IR(RR(e,t).then(n=>(Ho(e),n))),kR=e=>{const t=Ah(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:ol}=Object,qM={},Ip="listenerMiddleware",c7=(e,t)=>{const n=r=>DR(e,()=>Fo(r,e.reason));return(r,i)=>{$_(r);const a=new AbortController;n(a);const l=u7(async()=>{Ho(e),Ho(a.signal);const u=await r({pause:Ah(a.signal),delay:kR(a.signal),signal:a.signal});return Ho(a.signal),u},()=>Fo(a,s7));return i?.autoJoin&&t.push(l.catch(xh)),{result:Ah(e)(l),cancel(){Fo(a,o7)}}}},f7=(e,t)=>{const n=async(r,i)=>{Ho(t);let a=()=>{};const u=[new Promise((c,d)=>{let h=e({predicate:r,effect:(m,y)=>{y.unsubscribe(),c([m,y.getState(),y.getOriginalState()])}});a=()=>{h(),d()}})];i!=null&&u.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await RR(t,Promise.race(u));return Ho(t),c}finally{a()}};return(r,i)=>IR(n(r,i))},LR=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=kr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(fr(21));return $_(a),{predicate:i,type:t,effect:a}},UR=ol(e=>{const{type:t,predicate:n,effect:r}=LR(e);return{id:W9(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(fr(22))}}},{withTypes:()=>UR}),zM=(e,t)=>{const{type:n,effect:r,predicate:i}=LR(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},lb=e=>{e.pending.forEach(t=>{Fo(t,sb)})},d7=(e,t)=>()=>{for(const n of t.keys())lb(n);e.clear()},$M=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},jR=ol(kr(`${Ip}/add`),{withTypes:()=>jR}),h7=kr(`${Ip}/removeAll`),qR=ol(kr(`${Ip}/remove`),{withTypes:()=>qR}),p7=(...e)=>{console.error(`${Ip}/error`,...e)},Uc=(e={})=>{const t=new Map,n=new Map,r=_=>{const T=n.get(_)??0;n.set(_,T+1)},i=_=>{const T=n.get(_)??1;T===1?n.delete(_):n.set(_,T-1)},{extra:a,onError:l=p7}=e;$_(l);const u=_=>(_.unsubscribe=()=>t.delete(_.id),t.set(_.id,_),T=>{_.unsubscribe(),T?.cancelActive&&lb(_)}),c=_=>{const T=zM(t,_)??UR(_);return u(T)};ol(c,{withTypes:()=>c});const d=_=>{const T=zM(t,_);return T&&(T.unsubscribe(),_.cancelActive&&lb(T)),!!T};ol(d,{withTypes:()=>d});const h=async(_,T,w,E)=>{const C=new AbortController,N=f7(c,C.signal),P=[];try{_.pending.add(C),r(_),await Promise.resolve(_.effect(T,ol({},w,{getOriginalState:E,condition:(D,O)=>N(D,O).then(Boolean),take:N,delay:kR(C.signal),pause:Ah(C.signal),extra:a,signal:C.signal,fork:c7(C.signal,P),unsubscribe:_.unsubscribe,subscribe:()=>{t.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach((D,O,R)=>{D!==C&&(Fo(D,sb),R.delete(D))})},cancel:()=>{Fo(C,sb),_.pending.delete(C)},throwIfCancelled:()=>{Ho(C.signal)}})))}catch(D){D instanceof Op||$M(l,D,{raisedBy:"effect"})}finally{await Promise.all(P),Fo(C,l7),i(_),_.pending.delete(C)}},m=d7(t,n);return{middleware:_=>T=>w=>{if(!pR(w))return T(w);if(jR.match(w))return c(w.payload);if(h7.match(w)){m();return}if(qR.match(w))return d(w.payload);let E=_.getState();const C=()=>{if(E===qM)throw new Error(fr(23));return E};let N;try{if(N=T(w),t.size>0){const P=_.getState(),D=Array.from(t.values());for(const O of D){let R=!1;try{R=O.predicate(w,P,E)}catch(k){R=!1,$M(l,k,{raisedBy:"predicate"})}R&&h(O,w,_,C)}}}finally{E=qM}return N},startListening:c,stopListening:d,clearListeners:m}};function fr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var m7={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},zR=Vn({name:"chartLayout",initialState:m7,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:g7,setLayout:y7,setChartSize:v7,setScale:b7}=zR.actions,_7=zR.reducer;function $R(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function BM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BM(Object(n),!0).forEach(function(r){S7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function S7(e,t,n){return(t=T7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T7(e){var t=E7(e,"string");return typeof t=="symbol"?t:t+""}function E7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sn(e,t,n){return en(e)||en(t)?n:Rr(t)?Ep(e,t,n):typeof t=="function"?t(e):n}var w7=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&a!=="center"&&Ae(e[a]))return Zs(Zs({},e),{},{[a]:e[a]+(r||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&l!=="middle"&&Ae(e[l]))return Zs(Zs({},e),{},{[l]:e[l]+(i||0)})}return e},ao=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",BR=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var i,a,l=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===n&&(a=!0),u.coordinate));return i||l.push(t),a||l.push(n),l},FR=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:l,realScaleType:u,isCategorical:c,categoricalDomain:d,tickCount:h,ticks:m,niceTicks:y,axisType:_}=e;if(!l)return null;var T=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,w=i==="category"&&l.bandwidth?l.bandwidth()/T:0;if(w=_==="angleAxis"&&a&&a.length>=2?Pr(a[0]-a[1])*2*w:w,m||y){var E=(m||y||[]).map((C,N)=>{var P=r?r.indexOf(C):C;return{coordinate:l(P)+w,value:C,offset:w,index:N}});return E.filter(C=>!Dr(C.coordinate))}return c&&d?d.map((C,N)=>({coordinate:l(C)+w,value:C,index:N,offset:w})):l.ticks&&h!=null?l.ticks(h).map((C,N)=>({coordinate:l(C)+w,value:C,offset:w,index:N})):l.domain().map((C,N)=>({coordinate:l(C)+w,value:r?r[C]:C,index:N,offset:w}))},FM=1e-4,x7=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-FM,a=Math.max(r[0],r[1])+FM,l=e(t[0]),u=e(t[n-1]);(l<i||l>a||u<i||u>a)&&e.domain([t[0],t[n-1]])}},A7=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,l=0;l<t;++l){var u=Dr(e[l][n][1])?e[l][n][0]:e[l][n][1];u>=0?(e[l][n][0]=i,e[l][n][1]=i+u,i=e[l][n][1]):(e[l][n][0]=a,e[l][n][1]=a+u,a=e[l][n][1])}},C7=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var l=Dr(e[a][n][1])?e[a][n][0]:e[a][n][1];l>=0?(e[a][n][0]=i,e[a][n][1]=i+l,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},M7={sign:A7,expand:WK,none:fl,silhouette:JK,wiggle:XK,positive:C7},P7=(e,t,n)=>{var r=M7[n],i=YK().keys(t).value((a,l)=>Number(Sn(a,l,0))).order(X0).offset(r);return i(e)};function HM(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!en(i[t.dataKey])){var u=KD(n,"value",i[t.dataKey]);if(u)return u.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=Sn(i,en(l)?t.dataKey:l);return en(c)?null:t.scale(c)}var N7=e=>{var t=e.flat(2).filter(Ae);return[Math.min(...t),Math.max(...t)]},O7=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],I7=(e,t,n)=>{if(e!=null)return O7(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:l}=a,u=l.reduce((c,d)=>{var h=$R(d,t,n),m=N7(h);return[Math.min(c[0],m[0]),Math.max(c[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},GM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,VM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ch=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=wp(t,h=>h.coordinate),a=1/0,l=1,u=i.length;l<u;l++){var c=i[l],d=i[l-1];a=Math.min((c.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function KM(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Zs(Zs({},t),{},{dataKey:n,payload:r,value:i,name:a})}function HR(e,t){if(e)return String(e);if(typeof t=="string")return t}var D7=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},R7=(e,t)=>t==="centric"?e.angle:e.radius,ga=e=>e.layout.width,ya=e=>e.layout.height,k7=e=>e.layout.scale,GR=e=>e.layout.margin,Dp=Z(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Rp=Z(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),L7="data-recharts-item-index",U7="data-recharts-item-data-key",jc=60;function YM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YM(Object(n),!0).forEach(function(r){j7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j7(e,t,n){return(t=q7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q7(e){var t=z7(e,"string");return typeof t=="symbol"?t:t+""}function z7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $7=e=>e.brush.height;function B7(e){var t=Rp(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:jc;return n+i}return n},0)}function F7(e){var t=Rp(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:jc;return n+i}return n},0)}function H7(e){var t=Dp(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function G7(e){var t=Dp(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var hn=Z([ga,ya,GR,$7,B7,F7,H7,G7,cR,y9],(e,t,n,r,i,a,l,u,c,d)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},m={top:(n.top||0)+l,bottom:(n.bottom||0)+u},y=Cd(Cd({},m),h),_=y.bottom;y.bottom+=r,y=w7(y,c,d);var T=e-y.left-y.right,w=t-y.top-y.bottom;return Cd(Cd({brushBottom:_},y),{},{width:Math.max(T,0),height:Math.max(w,0)})}),V7=Z(hn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),VR=Z(ga,ya,(e,t)=>({x:0,y:0,width:e,height:t})),K7=x.createContext(null),Mn=()=>x.useContext(K7)!=null,kp=e=>e.brush,Lp=Z([kp,hn,GR],(e,t,n)=>({height:e.height,x:Ae(e.x)?e.x:t.left,y:Ae(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:Ae(e.width)?e.width:t.width})),Cv={},Mv={},Pv={},WM;function Y7(){return WM||(WM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let l,u=null;const c=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),h=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},m=()=>{d&&h(),w()};let y=null;const _=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,m()},r)},T=()=>{y!==null&&(clearTimeout(y),y=null)},w=()=>{T(),l=void 0,u=null},E=()=>{h()},C=function(...N){if(i?.aborted)return;l=this,u=N;const P=y==null;_(),c&&P&&h()};return C.schedule=_,C.cancel=w,C.flush=E,i?.addEventListener("abort",w,{once:!0}),C}e.debounce=t})(Pv)),Pv}var JM;function W7(){return JM||(JM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y7();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:l=!1,trailing:u=!0,maxWait:c}=a,d=Array(2);l&&(d[0]="leading"),u&&(d[1]="trailing");let h,m=null;const y=t.debounce(function(...w){h=r.apply(this,w),m=null},i,{edges:d}),_=function(...w){return c!=null&&(m===null&&(m=Date.now()),Date.now()-m>=c)?(h=r.apply(this,w),m=Date.now(),y.cancel(),y.schedule(),h):(y.apply(this,w),h)},T=()=>(y.flush(),h);return _.cancel=y.cancel,_.flush=T,_}e.debounce=n})(Mv)),Mv}var XM;function J7(){return XM||(XM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W7();function n(r,i=0,a={}){const{leading:l=!0,trailing:u=!0}=a;return t.debounce(r,i,{leading:l,maxWait:i,trailing:u})}e.throttle=n})(Cv)),Cv}var Nv,QM;function X7(){return QM||(QM=1,Nv=J7().throttle),Nv}var Q7=X7();const Z7=fa(Q7);var Mh=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},KR=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:l}=n,u=aa(r)?e:Number(r),c=aa(i)?t:Number(i);return a&&a>0&&(u?c=u/a:c&&(u=c*a),l&&c!=null&&c>l&&(c=l)),{calculatedWidth:u,calculatedHeight:c}},eW={width:0,height:0,overflow:"visible"},tW={width:0,overflowX:"visible"},nW={height:0,overflowY:"visible"},rW={},iW=e=>{var{width:t,height:n}=e,r=aa(t),i=aa(n);return r&&i?eW:r?tW:i?nW:rW};function aW(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function wt(e){return Number.isFinite(e)}function fi(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function ub(){return ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ub.apply(null,arguments)}function ZM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZM(Object(n),!0).forEach(function(r){oW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oW(e,t,n){return(t=sW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sW(e){var t=lW(e,"string");return typeof t=="symbol"?t:t+""}function lW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YR=x.createContext({width:-1,height:-1});function uW(e){return fi(e.width)&&fi(e.height)}function WR(e){var{children:t,width:n,height:r}=e,i=x.useMemo(()=>({width:n,height:r}),[n,r]);return uW(i)?x.createElement(YR.Provider,{value:i},t):null}var B_=()=>x.useContext(YR),cW=x.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:l=0,minHeight:u,maxHeight:c,children:d,debounce:h=0,id:m,className:y,onResize:_,style:T={}}=e,w=x.useRef(null),E=x.useRef();E.current=_,x.useImperativeHandle(t,()=>w.current);var[C,N]=x.useState({containerWidth:r.width,containerHeight:r.height}),P=x.useCallback((q,G)=>{N(H=>{var $=Math.round(q),F=Math.round(G);return H.containerWidth===$&&H.containerHeight===F?H:{containerWidth:$,containerHeight:F}})},[]);x.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return Rc;var q=F=>{var fe,{width:me,height:Se}=F[0].contentRect;P(me,Se),(fe=E.current)===null||fe===void 0||fe.call(E,me,Se)};h>0&&(q=Z7(q,h,{trailing:!0,leading:!1}));var G=new ResizeObserver(q),{width:H,height:$}=w.current.getBoundingClientRect();return P(H,$),G.observe(w.current),()=>{G.disconnect()}},[P,h]);var{containerWidth:D,containerHeight:O}=C;Mh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:R,calculatedHeight:k}=KR(D,O,{width:i,height:a,aspect:n,maxHeight:c});return Mh(R!=null&&R>0||k!=null&&k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,k,i,a,l,u,n),x.createElement("div",{id:m?"".concat(m):void 0,className:et("recharts-responsive-container",y),style:eP(eP({},T),{},{width:i,height:a,minWidth:l,minHeight:u,maxHeight:c}),ref:w},x.createElement("div",{style:iW({width:i,height:a})},x.createElement(WR,{width:R,height:k},d)))}),fW=x.forwardRef((e,t)=>{var n=B_();if(fi(n.width)&&fi(n.height))return e.children;var{width:r,height:i}=aW({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:l}=KR(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Ae(a)&&Ae(l)?x.createElement(WR,{width:a,height:l},e.children):x.createElement(cW,ub({},e,{width:r,height:i,ref:t}))});function JR(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var qc=()=>{var e,t=Mn(),n=_e(V7),r=_e(Lp),i=(e=_e(kp))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},dW={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},XR=()=>{var e;return(e=_e(hn))!==null&&e!==void 0?e:dW},F_=()=>_e(ga),H_=()=>_e(ya),hW=()=>_e(e=>e.layout.margin),ht=e=>e.layout.layoutType,Up=()=>_e(ht),pW=()=>{var e=Up();return e!==void 0},jp=e=>{var t=Pt(),n=Mn(),{width:r,height:i}=e,a=B_(),l=r,u=i;return a&&(l=a.width>0?a.width:r,u=a.height>0?a.height:i),x.useEffect(()=>{!n&&fi(l)&&fi(u)&&t(v7({width:l,height:u}))},[t,n,l,u]),null},QR=Symbol.for("immer-nothing"),tP=Symbol.for("immer-draftable"),dr=Symbol.for("immer-state");function Gr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var mc=Object.getPrototypeOf;function pl(e){return!!e&&!!e[dr]}function Ko(e){return e?ZR(e)||Array.isArray(e)||!!e[tP]||!!e.constructor?.[tP]||zc(e)||zp(e):!1}var mW=Object.prototype.constructor.toString(),nP=new WeakMap;function ZR(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=nP.get(n);return r===void 0&&(r=Function.toString.call(n),nP.set(n,r)),r===mW}function Ph(e,t,n=!0){qp(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function qp(e){const t=e[dr];return t?t.type_:Array.isArray(e)?1:zc(e)?2:zp(e)?3:0}function cb(e,t){return qp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ek(e,t,n){const r=qp(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function gW(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function zc(e){return e instanceof Map}function zp(e){return e instanceof Set}function Oo(e){return e.copy_||e.base_}function fb(e,t){if(zc(e))return new Map(e);if(zp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=ZR(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[dr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(mc(e),r)}else{const r=mc(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function G_(e,t=!1){return $p(e)||pl(e)||!Ko(e)||(qp(e)>1&&Object.defineProperties(e,{set:Md,add:Md,clear:Md,delete:Md}),Object.freeze(e),t&&Object.values(e).forEach(n=>G_(n,!0))),e}function yW(){Gr(2)}var Md={value:yW};function $p(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var vW={};function Yo(e){const t=vW[e];return t||Gr(0,e),t}var gc;function tk(){return gc}function bW(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function rP(e,t){t&&(Yo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function db(e){hb(e),e.drafts_.forEach(_W),e.drafts_=null}function hb(e){e===gc&&(gc=e.parent_)}function iP(e){return gc=bW(gc,e)}function _W(e){const t=e[dr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function aP(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[dr].modified_&&(db(t),Gr(4)),Ko(e)&&(e=Nh(t,e),t.parent_||Oh(t,e)),t.patches_&&Yo("Patches").generateReplacementPatches_(n[dr].base_,e,t.patches_,t.inversePatches_)):e=Nh(t,n,[]),db(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==QR?e:void 0}function Nh(e,t,n){if($p(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[dr];if(!i)return Ph(t,(a,l)=>oP(e,i,t,a,l,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return Oh(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let l=a,u=!1;i.type_===3&&(l=new Set(a),a.clear(),u=!0),Ph(l,(c,d)=>oP(e,i,a,c,d,n,u),r),Oh(e,a,!1),n&&e.patches_&&Yo("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function oP(e,t,n,r,i,a,l){if(i==null||typeof i!="object"&&!l)return;const u=$p(i);if(!(u&&!l)){if(pl(i)){const c=a&&t&&t.type_!==3&&!cb(t.assigned_,r)?a.concat(r):void 0,d=Nh(e,i,c);if(ek(n,r,d),pl(d))e.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Ko(i)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&u)return;Nh(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(zc(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Oh(e,i)}}}function Oh(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&G_(t,n)}function SW(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:tk(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=V_;n&&(i=[r],a=yc);const{revoke:l,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=l,u}var V_={get(e,t){if(t===dr)return e;const n=Oo(e);if(!cb(n,t))return TW(e,n,t);const r=n[t];return e.finalized_||!Ko(r)?r:r===Ov(e.base_,t)?(Iv(e),e.copy_[t]=mb(r,e)):r},has(e,t){return t in Oo(e)},ownKeys(e){return Reflect.ownKeys(Oo(e))},set(e,t,n){const r=nk(Oo(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Ov(Oo(e),t),a=i?.[dr];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(gW(n,i)&&(n!==void 0||cb(e.base_,t)))return!0;Iv(e),pb(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ov(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Iv(e),pb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Oo(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Gr(11)},getPrototypeOf(e){return mc(e.base_)},setPrototypeOf(){Gr(12)}},yc={};Ph(V_,(e,t)=>{yc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});yc.deleteProperty=function(e,t){return yc.set.call(this,e,t,void 0)};yc.set=function(e,t,n){return V_.set.call(this,e[0],t,n,e[0])};function Ov(e,t){const n=e[dr];return(n?Oo(n):e)[t]}function TW(e,t,n){const r=nk(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function nk(e,t){if(!(t in e))return;let n=mc(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=mc(n)}}function pb(e){e.modified_||(e.modified_=!0,e.parent_&&pb(e.parent_))}function Iv(e){e.copy_||(e.copy_=fb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var EW=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const l=this;return function(c=a,...d){return l.produce(c,h=>n.call(this,h,...d))}}typeof n!="function"&&Gr(6),r!==void 0&&typeof r!="function"&&Gr(7);let i;if(Ko(t)){const a=iP(this),l=mb(t,void 0);let u=!0;try{i=n(l),u=!1}finally{u?db(a):hb(a)}return rP(a,r),aP(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===QR&&(i=void 0),this.autoFreeze_&&G_(i,!0),r){const a=[],l=[];Yo("Patches").generateReplacementPatches_(t,i,a,l),r(a,l)}return i}else Gr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,c=>t(c,...u));let r,i;return[this.produce(t,n,(l,u)=>{r=l,i=u}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ko(e)||Gr(8),pl(e)&&(e=wW(e));const t=iP(this),n=mb(e,void 0);return n[dr].isManual_=!0,hb(t),n}finishDraft(e,t){const n=e&&e[dr];(!n||!n.isManual_)&&Gr(9);const{scope_:r}=n;return rP(r,t),aP(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Yo("Patches").applyPatches_;return pl(e)?r(e,t):this.produce(e,i=>r(i,t))}};function mb(e,t){const n=zc(e)?Yo("MapSet").proxyMap_(e,t):zp(e)?Yo("MapSet").proxySet_(e,t):SW(e,t);return(t?t.scope_:tk()).drafts_.push(n),n}function wW(e){return pl(e)||Gr(10,e),rk(e)}function rk(e){if(!Ko(e)||$p(e))return e;const t=e[dr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=fb(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=fb(e,!0);return Ph(n,(i,a)=>{ek(n,i,rk(a))},r),t&&(t.finalized_=!1),n}var xW=new EW;xW.produce;var AW={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},ik=Vn({name:"legend",initialState:AW,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:yt()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Kr(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:yt()},removeLegendPayload:{reducer(e,t){var n=Kr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:yt()}}}),{setLegendSize:sP,setLegendSettings:CW,addLegendPayload:MW,replaceLegendPayload:PW,removeLegendPayload:NW}=ik.actions,OW=ik.reducer,IW=["contextPayload"];function gb(){return gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gb.apply(null,arguments)}function lP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ml(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lP(Object(n),!0).forEach(function(r){DW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DW(e,t,n){return(t=RW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RW(e){var t=kW(e,"string");return typeof t=="symbol"?t:t+""}function kW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LW(e,t){if(e==null)return{};var n,r,i=UW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function UW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function jW(e){return e.value}function qW(e){var{contextPayload:t}=e,n=LW(e,IW),r=oR(t,e.payloadUniqBy,jW),i=ml(ml({},n),{},{payload:r});return x.isValidElement(e.content)?x.cloneElement(e.content,i):typeof e.content=="function"?x.createElement(e.content,i):x.createElement(AY,i)}function zW(e,t,n,r,i,a){var{layout:l,align:u,verticalAlign:c}=t,d,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&l==="vertical"?d={left:((r||0)-a.width)/2}:d=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?h={top:((i||0)-a.height)/2}:h=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),ml(ml({},d),h)}function $W(e){var t=Pt();return x.useEffect(()=>{t(CW(e))},[t,e]),null}function BW(e){var t=Pt();return x.useEffect(()=>(t(sP(e)),()=>{t(sP({width:0,height:0}))}),[t,e]),null}function FW(e,t,n,r){return e==="vertical"&&Ae(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var HW={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function ak(e){var t=dn(e,HW),n=_9(),r=vK(),i=hW(),{width:a,height:l,wrapperStyle:u,portal:c}=t,[d,h]=fR([n]),m=F_(),y=H_();if(m==null||y==null)return null;var _=m-(i?.left||0)-(i?.right||0),T=FW(t.layout,l,a,_),w=c?u:ml(ml({position:"absolute",width:T?.width||a||"auto",height:T?.height||l||"auto"},zW(u,t,i,m,y,d)),u),E=c??r;if(E==null||n==null)return null;var C=x.createElement("div",{className:"recharts-legend-wrapper",style:w,ref:h},x.createElement($W,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&x.createElement(BW,{width:d.width,height:d.height}),x.createElement(qW,gb({},t,T,{margin:i,chartWidth:m,chartHeight:y,contextPayload:n})));return Wb.createPortal(C,E)}ak.displayName="Legend";function yb(){return yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yb.apply(null,arguments)}function uP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uP(Object(n),!0).forEach(function(r){GW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GW(e,t,n){return(t=VW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VW(e){var t=KW(e,"string");return typeof t=="symbol"?t:t+""}function KW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YW(e){return Array.isArray(e)&&Rr(e[0])&&Rr(e[1])?e.join(" ~ "):e}var WW=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:l,itemSorter:u,wrapperClassName:c,labelClassName:d,label:h,labelFormatter:m,accessibilityLayer:y=!1}=e,_=()=>{if(a&&a.length){var O={padding:0,margin:0},R=(u?wp(a,u):a).map((k,q)=>{if(k.type==="none")return null;var G=k.formatter||l||YW,{value:H,name:$}=k,F=H,fe=$;if(G){var me=G(H,$,k,q,a);if(Array.isArray(me))[F,fe]=me;else if(me!=null)F=me;else return null}var Se=Dv({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:Se},Rr(fe)?x.createElement("span",{className:"recharts-tooltip-item-name"},fe):null,Rr(fe)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},F),x.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:O},R)}return null},T=Dv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=Dv({margin:0},i),E=!en(h),C=E?h:"",N=et("recharts-default-tooltip",c),P=et("recharts-tooltip-label",d);E&&m&&a!==void 0&&a!==null&&(C=m(h,a));var D=y?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",yb({className:N,style:T},D),x.createElement("p",{className:P,style:w},x.isValidElement(C)?C:"".concat(C)),_())},ju="recharts-tooltip-wrapper",JW={visibility:"hidden"};function XW(e){var{coordinate:t,translateX:n,translateY:r}=e;return et(ju,{["".concat(ju,"-right")]:Ae(n)&&t&&Ae(t.x)&&n>=t.x,["".concat(ju,"-left")]:Ae(n)&&t&&Ae(t.x)&&n<t.x,["".concat(ju,"-bottom")]:Ae(r)&&t&&Ae(t.y)&&r>=t.y,["".concat(ju,"-top")]:Ae(r)&&t&&Ae(t.y)&&r<t.y})}function cP(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:l,tooltipDimension:u,viewBox:c,viewBoxDimension:d}=e;if(a&&Ae(a[r]))return a[r];var h=n[r]-u-(i>0?i:0),m=n[r]+i;if(t[r])return l[r]?h:m;var y=c[r];if(y==null)return 0;if(l[r]){var _=h,T=y;return _<T?Math.max(m,y):Math.max(h,y)}if(d==null)return 0;var w=m+u,E=y+d;return w>E?Math.max(h,y):Math.max(m,y)}function QW(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function ZW(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:l,useTranslate3d:u,viewBox:c}=e,d,h,m;return l.height>0&&l.width>0&&n?(h=cP({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),m=cP({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),d=QW({translateX:h,translateY:m,useTranslate3d:u})):d=JW,{cssProperties:d,cssClasses:XW({translateX:h,translateY:m,coordinate:n})}}function fP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fP(Object(n),!0).forEach(function(r){vb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vb(e,t,n){return(t=eJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eJ(e){var t=tJ(e,"string");return typeof t=="symbol"?t:t+""}function tJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class nJ extends x.PureComponent{constructor(){super(...arguments),vb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),vb(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:l,hasPayload:u,isAnimationActive:c,offset:d,position:h,reverseDirection:m,useTranslate3d:y,viewBox:_,wrapperStyle:T,lastBoundingBox:w,innerRef:E,hasPortalFromProps:C}=this.props,{cssClasses:N,cssProperties:P}=ZW({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:d,position:h,reverseDirection:m,tooltipBox:{height:w.height,width:w.width},useTranslate3d:y,viewBox:_}),D=C?{}:Pd(Pd({transition:c&&t?"transform ".concat(r,"ms ").concat(i):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),O=Pd(Pd({},D),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},T);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:O,ref:E},a)}}var rJ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ml={devToolsEnabled:!1,isSsr:rJ()},ok=()=>{var e;return(e=_e(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function bb(){return bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bb.apply(null,arguments)}function dP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(n),!0).forEach(function(r){iJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iJ(e,t,n){return(t=aJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aJ(e){var t=oJ(e,"string");return typeof t=="symbol"?t:t+""}function oJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pP={curveBasisClosed:UK,curveBasisOpen:jK,curveBasis:LK,curveBumpX:TK,curveBumpY:EK,curveLinearClosed:qK,curveLinear:Sp,curveMonotoneX:zK,curveMonotoneY:$K,curveNatural:BK,curveStep:FK,curveStepAfter:GK,curveStepBefore:HK},Ih=e=>wt(e.x)&&wt(e.y),mP=e=>e.base!=null&&Ih(e.base)&&Ih(e),qu=e=>e.x,zu=e=>e.y,sJ=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Dc(e));return(n==="curveMonotone"||n==="curveBump")&&t?pP["".concat(n).concat(t==="vertical"?"Y":"X")]:pP[n]||Sp},lJ=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,l=sJ(t,i),u=a?n.filter(Ih):n,c;if(Array.isArray(r)){var d=n.map((_,T)=>hP(hP({},_),{},{base:r[T]}));i==="vertical"?c=Sd().y(zu).x1(qu).x0(_=>_.base.x):c=Sd().x(qu).y1(zu).y0(_=>_.base.y);var h=c.defined(mP).curve(l),m=a?d.filter(mP):d;return h(m)}i==="vertical"&&Ae(r)?c=Sd().y(zu).x1(qu).x0(r):Ae(r)?c=Sd().x(qu).y1(zu).y0(r):c=RD().x(qu).y(zu);var y=c.defined(Ih).curve(l);return y(u)},sk=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?lJ(e):r;return x.createElement("path",bb({},ui(e),O_(e),{className:et("recharts-curve",t),d:a===null?void 0:a,ref:i}))},uJ=["x","y","top","left","width","height","className"];function _b(){return _b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_b.apply(null,arguments)}function gP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(n),!0).forEach(function(r){fJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fJ(e,t,n){return(t=dJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dJ(e){var t=hJ(e,"string");return typeof t=="symbol"?t:t+""}function hJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pJ(e,t){if(e==null)return{};var n,r,i=mJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var gJ=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),yJ=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:l=0,className:u}=e,c=pJ(e,uJ),d=cJ({x:t,y:n,top:r,left:i,width:a,height:l},c);return!Ae(t)||!Ae(n)||!Ae(a)||!Ae(l)||!Ae(r)||!Ae(i)?null:x.createElement("path",_b({},Tn(d),{className:et("recharts-cross",u),d:gJ(t,n,a,l,r,i)}))};function vJ(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function yP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(n),!0).forEach(function(r){bJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bJ(e,t,n){return(t=_J(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _J(e){var t=SJ(e,"string");return typeof t=="symbol"?t:t+""}function SJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TJ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),lk=(e,t,n)=>e.map(r=>"".concat(TJ(r)," ").concat(t,"ms ").concat(n)).join(","),EJ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),vc=(e,t)=>Object.keys(t).reduce((n,r)=>vP(vP({},n),{},{[r]:e(r,t[r])}),{});function bP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(n),!0).forEach(function(r){wJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wJ(e,t,n){return(t=xJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xJ(e){var t=AJ(e,"string");return typeof t=="symbol"?t:t+""}function AJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dh=(e,t,n)=>e+(t-e)*n,Sb=e=>{var{from:t,to:n}=e;return t!==n},uk=(e,t,n)=>{var r=vc((i,a)=>{if(Sb(a)){var[l,u]=e(a.from,a.to,a.velocity);return zt(zt({},a),{},{from:l,velocity:u})}return a},t);return n<1?vc((i,a)=>Sb(a)?zt(zt({},a),{},{velocity:Dh(a.velocity,r[i].velocity,n),from:Dh(a.from,r[i].from,n)}):a,t):uk(e,r,n-1)};function CJ(e,t,n,r,i,a){var l,u=r.reduce((y,_)=>zt(zt({},y),{},{[_]:{from:e[_],velocity:0,to:t[_]}}),{}),c=()=>vc((y,_)=>_.from,u),d=()=>!Object.values(u).filter(Sb).length,h=null,m=y=>{l||(l=y);var _=y-l,T=_/n.dt;u=uk(n,u,T),i(zt(zt(zt({},e),t),c())),l=y,d()||(h=a.setTimeout(m))};return()=>(h=a.setTimeout(m),()=>{var y;(y=h)===null||y===void 0||y()})}function MJ(e,t,n,r,i,a,l){var u=null,c=i.reduce((m,y)=>zt(zt({},m),{},{[y]:[e[y],t[y]]}),{}),d,h=m=>{d||(d=m);var y=(m-d)/r,_=vc((w,E)=>Dh(...E,n(y)),c);if(a(zt(zt(zt({},e),t),_)),y<1)u=l.setTimeout(h);else{var T=vc((w,E)=>Dh(...E,n(1)),c);a(zt(zt(zt({},e),t),T))}};return()=>(u=l.setTimeout(h),()=>{var m;(m=u)===null||m===void 0||m()})}const PJ=(e,t,n,r,i,a)=>{var l=EJ(e,t);return n==null?()=>(i(zt(zt({},e),t)),()=>{}):n.isStepper===!0?CJ(e,t,n,l,i,a):MJ(e,t,n,r,l,i,a)};var Rh=1e-4,ck=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],fk=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),_P=(e,t)=>n=>{var r=ck(e,t);return fk(r,n)},NJ=(e,t)=>n=>{var r=ck(e,t),i=[...r.map((a,l)=>a*l).slice(1),0];return fk(i,n)},OJ=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var l=a[1].split(")")[0].split(",").map(u=>parseFloat(u));return[l[0],l[1],l[2],l[3]]}}}return n.length===4?n:[0,0,1,1]},IJ=(e,t,n,r)=>{var i=_P(e,n),a=_P(t,r),l=NJ(e,n),u=d=>d>1?1:d<0?0:d,c=d=>{for(var h=d>1?1:d,m=h,y=0;y<8;++y){var _=i(m)-h,T=l(m);if(Math.abs(_-h)<Rh||T<Rh)return a(m);m=u(m-_/T)}return a(m)};return c.isStepper=!1,c},SP=function(){return IJ(...OJ(...arguments))},DJ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(l,u,c)=>{var d=-(l-u)*n,h=c*r,m=c+(d-h)*i/1e3,y=c*i/1e3+l;return Math.abs(y-u)<Rh&&Math.abs(m)<Rh?[u,0]:[y,m]};return a.isStepper=!0,a.dt=i,a},RJ=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return SP(e);case"spring":return DJ();default:if(e.split("(")[0]==="cubic-bezier")return SP(e)}return typeof e=="function"?e:null};function kJ(e){var t,n=()=>null,r=!1,i=null,a=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[c,...d]=u;if(typeof c=="number"){i=e.setTimeout(a.bind(null,d),c);return}a(c),i=e.setTimeout(a.bind(null,d));return}typeof l=="string"&&(t=l,n(t)),typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),a(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}class LJ{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=l=>{l-r>=n?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function UJ(){return kJ(new LJ)}var jJ=x.createContext(UJ);function qJ(e,t){var n=x.useContext(jJ);return x.useMemo(()=>t??n(e),[e,t,n])}var zJ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},TP={t:0},Rv={t:1};function K_(e){var t=dn(e,zJ),{isActive:n,canBegin:r,duration:i,easing:a,begin:l,onAnimationEnd:u,onAnimationStart:c,children:d}=t,h=n==="auto"?!Ml.isSsr:n,m=qJ(t.animationId,t.animationManager),[y,_]=x.useState(h?TP:Rv),T=x.useRef(null);return x.useEffect(()=>{h||_(Rv)},[h]),x.useEffect(()=>{if(!h||!r)return Rc;var w=PJ(TP,Rv,RJ(a),i,_,m.getTimeoutController()),E=()=>{T.current=w()};return m.start([c,l,E,i,u]),()=>{m.stop(),T.current&&T.current(),u()}},[h,r,i,a,l,c,u,m]),d(y.t)}function Y_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=x.useRef(fc(t)),r=x.useRef(e);return r.current!==e&&(n.current=fc(t),r.current=e),n.current}var $J=["radius"],BJ=["radius"];function EP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(n),!0).forEach(function(r){FJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FJ(e,t,n){return(t=HJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HJ(e){var t=GJ(e,"string");return typeof t=="symbol"?t:t+""}function GJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kh(){return kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kh.apply(null,arguments)}function xP(e,t){if(e==null)return{};var n,r,i=VJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function VJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var AP=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,u=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0,d;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,y=4;m<y;m++)h[m]=i[m]>a?a:i[m];d="M".concat(e,",").concat(t+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(e+u*h[0],",").concat(t)),d+="L ".concat(e+n-u*h[1],",").concat(t),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(t+l*h[1])),d+="L ".concat(e+n,",").concat(t+r-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(e+n-u*h[2],",").concat(t+r)),d+="L ".concat(e+u*h[3],",").concat(t+r),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+r-l*h[3])),d+="Z"}else if(a>0&&i===+i&&i>0){var _=Math.min(a,i);d="M ".concat(e,",").concat(t+l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(c,",").concat(e+u*_,",").concat(t,`
            L `).concat(e+n-u*_,",").concat(t,`
            A `).concat(_,",").concat(_,",0,0,").concat(c,",").concat(e+n,",").concat(t+l*_,`
            L `).concat(e+n,",").concat(t+r-l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(c,",").concat(e+n-u*_,",").concat(t+r,`
            L `).concat(e+u*_,",").concat(t+r,`
            A `).concat(_,",").concat(_,",0,0,").concat(c,",").concat(e,",").concat(t+r-l*_," Z")}else d="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},CP={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dk=e=>{var t=dn(e,CP),n=x.useRef(null),[r,i]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ne=n.current.getTotalLength();ne&&i(ne)}catch{}},[]);var{x:a,y:l,width:u,height:c,radius:d,className:h}=t,{animationEasing:m,animationDuration:y,animationBegin:_,isAnimationActive:T,isUpdateAnimationActive:w}=t,E=x.useRef(u),C=x.useRef(c),N=x.useRef(a),P=x.useRef(l),D=x.useMemo(()=>({x:a,y:l,width:u,height:c,radius:d}),[a,l,u,c,d]),O=Y_(D,"rectangle-");if(a!==+a||l!==+l||u!==+u||c!==+c||u===0||c===0)return null;var R=et("recharts-rectangle",h);if(!w){var k=Tn(t),{radius:q}=k,G=xP(k,$J);return x.createElement("path",kh({},G,{radius:typeof d=="number"?d:void 0,className:R,d:AP(a,l,u,c,d)}))}var H=E.current,$=C.current,F=N.current,fe=P.current,me="0px ".concat(r===-1?1:r,"px"),Se="".concat(r,"px 0px"),B=lk(["strokeDasharray"],y,typeof m=="string"?m:CP.animationEasing);return x.createElement(K_,{animationId:O,key:O,canBegin:r>0,duration:y,easing:m,isActive:w,begin:_},ne=>{var le=Bn(H,u,ne),ue=Bn($,c,ne),Me=Bn(F,a,ne),U=Bn(fe,l,ne);n.current&&(E.current=le,C.current=ue,N.current=Me,P.current=U);var X;T?ne>0?X={transition:B,strokeDasharray:Se}:X={strokeDasharray:me}:X={strokeDasharray:Se};var se=Tn(t),{radius:ce}=se,re=xP(se,BJ);return x.createElement("path",kh({},re,{radius:typeof d=="number"?d:void 0,className:R,d:AP(Me,U,le,ue,d),ref:n,style:wP(wP({},X),t.style)}))})};function MP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(n),!0).forEach(function(r){KJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KJ(e,t,n){return(t=YJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YJ(e){var t=WJ(e,"string");return typeof t=="symbol"?t:t+""}function WJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lh=Math.PI/180,JJ=e=>e*180/Math.PI,fn=(e,t,n,r)=>({x:e+Math.cos(-Lh*r)*n,y:t+Math.sin(-Lh*r)*n}),XJ=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},QJ=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},ZJ=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,l=QJ({x:n,y:r},{x:i,y:a});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,c=Math.acos(u);return r>a&&(c=2*Math.PI-c),{radius:l,angle:JJ(c),angleInRadian:c}},eX=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},tX=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),l=Math.min(i,a);return e+l*360},nX=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=ZJ({x:n,y:r},t),{innerRadius:l,outerRadius:u}=t;if(i<l||i>u||i===0)return null;var{startAngle:c,endAngle:d}=eX(t),h=a,m;if(c<=d){for(;h>d;)h-=360;for(;h<c;)h+=360;m=h>=c&&h<=d}else{for(;h>c;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=c}return m?PP(PP({},t),{},{radius:i,angle:tX(h,t)}):null};function hk(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,l=fn(t,n,r,i),u=fn(t,n,r,a);return{points:[l,u],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function Tb(){return Tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tb.apply(null,arguments)}var rX=(e,t)=>{var n=Pr(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Nd=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:l,cornerRadius:u,cornerIsExternal:c}=e,d=u*(l?1:-1)+r,h=Math.asin(u/d)/Lh,m=c?i:i+a*h,y=fn(t,n,d,m),_=fn(t,n,r,m),T=c?i-a*h:i,w=fn(t,n,d*Math.cos(h*Lh),T);return{center:y,circleTangency:_,lineTangency:w,theta:h}},pk=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:l}=e,u=rX(a,l),c=a+u,d=fn(t,n,i,a),h=fn(t,n,i,c),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(a>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var y=fn(t,n,r,a),_=fn(t,n,r,c);m+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(a<=c),`,
            `).concat(y.x,",").concat(y.y," Z")}else m+="L ".concat(t,",").concat(n," Z");return m},iX=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}=e,h=Pr(d-c),{circleTangency:m,lineTangency:y,theta:_}=Nd({cx:t,cy:n,radius:i,angle:c,sign:h,cornerRadius:a,cornerIsExternal:u}),{circleTangency:T,lineTangency:w,theta:E}=Nd({cx:t,cy:n,radius:i,angle:d,sign:-h,cornerRadius:a,cornerIsExternal:u}),C=u?Math.abs(c-d):Math.abs(c-d)-_-E;if(C<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):pk({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:d});var N="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(h<0),",").concat(T.x,",").concat(T.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var{circleTangency:P,lineTangency:D,theta:O}=Nd({cx:t,cy:n,radius:r,angle:c,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),{circleTangency:R,lineTangency:k,theta:q}=Nd({cx:t,cy:n,radius:r,angle:d,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),G=u?Math.abs(c-d):Math.abs(c-d)-O-q;if(G<0&&a===0)return"".concat(N,"L").concat(t,",").concat(n,"Z");N+="L".concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(G>180),",").concat(+(h>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(D.x,",").concat(D.y,"Z")}else N+="L".concat(t,",").concat(n,"Z");return N},aX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},mk=e=>{var t=dn(e,aX),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:c,startAngle:d,endAngle:h,className:m}=t;if(a<i||d===h)return null;var y=et("recharts-sector",m),_=a-i,T=eo(l,_,0,!0),w;return T>0&&Math.abs(d-h)<360?w=iX({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(T,_/2),forceCornerRadius:u,cornerIsExternal:c,startAngle:d,endAngle:h}):w=pk({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:h}),x.createElement("path",Tb({},Tn(t),{className:y,d:w}))};function oX(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(WD(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:l,angle:u}=t,c=fn(r,i,a,u),d=fn(r,i,l,u);return[{x:c.x,y:c.y},{x:d.x,y:d.y}]}return hk(t)}}var kv={},Lv={},Uv={},NP;function sX(){return NP||(NP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lR();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Uv)),Uv}var OP;function lX(){return OP||(OP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sX();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(Lv)),Lv}var IP;function uX(){return IP||(IP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uR(),n=lX();function r(i,a,l){l&&typeof l!="number"&&t.isIterateeCall(i,a,l)&&(a=l=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),l=l===void 0?i<a?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((a-i)/(l||1)),0),c=new Array(u);for(let d=0;d<u;d++)c[d]=i,i+=l;return c}e.range=r})(kv)),kv}var jv,DP;function cX(){return DP||(DP=1,jv=uX().range),jv}var fX=cX();const gk=fa(fX);function Xa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function dX(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function W_(e){let t,n,r;e.length!==2?(t=Xa,n=(u,c)=>Xa(e(u),c),r=(u,c)=>e(u)-c):(t=e===Xa||e===dX?e:hX,n=e,r=e);function i(u,c,d=0,h=u.length){if(d<h){if(t(c,c)!==0)return h;do{const m=d+h>>>1;n(u[m],c)<0?d=m+1:h=m}while(d<h)}return d}function a(u,c,d=0,h=u.length){if(d<h){if(t(c,c)!==0)return h;do{const m=d+h>>>1;n(u[m],c)<=0?d=m+1:h=m}while(d<h)}return d}function l(u,c,d=0,h=u.length){const m=i(u,c,d,h-1);return m>d&&r(u[m-1],c)>-r(u[m],c)?m-1:m}return{left:i,center:l,right:a}}function hX(){return 0}function yk(e){return e===null?NaN:+e}function*pX(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const mX=W_(Xa),$c=mX.right;W_(yk).center;class RP extends Map{constructor(t,n=vX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(kP(this,t))}has(t){return super.has(kP(this,t))}set(t,n){return super.set(gX(this,t),n)}delete(t){return super.delete(yX(this,t))}}function kP({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function gX({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function yX({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function vX(e){return e!==null&&typeof e=="object"?e.valueOf():e}function bX(e=Xa){if(e===Xa)return vk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function vk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const _X=Math.sqrt(50),SX=Math.sqrt(10),TX=Math.sqrt(2);function Uh(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),l=a>=_X?10:a>=SX?5:a>=TX?2:1;let u,c,d;return i<0?(d=Math.pow(10,-i)/l,u=Math.round(e*d),c=Math.round(t*d),u/d<e&&++u,c/d>t&&--c,d=-d):(d=Math.pow(10,i)*l,u=Math.round(e/d),c=Math.round(t/d),u*d<e&&++u,c*d>t&&--c),c<u&&.5<=n&&n<2?Uh(e,t,n*2):[u,c,d]}function Eb(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,l]=r?Uh(t,e,n):Uh(e,t,n);if(!(a>=i))return[];const u=a-i+1,c=new Array(u);if(r)if(l<0)for(let d=0;d<u;++d)c[d]=(a-d)/-l;else for(let d=0;d<u;++d)c[d]=(a-d)*l;else if(l<0)for(let d=0;d<u;++d)c[d]=(i+d)/-l;else for(let d=0;d<u;++d)c[d]=(i+d)*l;return c}function wb(e,t,n){return t=+t,e=+e,n=+n,Uh(e,t,n)[2]}function xb(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?wb(t,e,n):wb(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function LP(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function UP(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function bk(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?vk:bX(i);r>n;){if(r-n>600){const c=r-n+1,d=t-n+1,h=Math.log(c),m=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*m*(c-m)/c)*(d-c/2<0?-1:1),_=Math.max(n,Math.floor(t-d*m/c+y)),T=Math.min(r,Math.floor(t+(c-d)*m/c+y));bk(e,t,_,T,i)}const a=e[t];let l=n,u=r;for($u(e,n,t),i(e[r],a)>0&&$u(e,n,r);l<u;){for($u(e,l,u),++l,--u;i(e[l],a)<0;)++l;for(;i(e[u],a)>0;)--u}i(e[n],a)===0?$u(e,n,u):(++u,$u(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function $u(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function EX(e,t,n){if(e=Float64Array.from(pX(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return UP(e);if(t>=1)return LP(e);var r,i=(r-1)*t,a=Math.floor(i),l=LP(bk(e,a).subarray(0,a+1)),u=UP(e.subarray(a+1));return l+(u-l)*(i-a)}}function wX(e,t,n=yk){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),l=+n(e[a],a,e),u=+n(e[a+1],a+1,e);return l+(u-l)*(i-a)}}function xX(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Ur(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function va(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ab=Symbol("implicit");function J_(){var e=new RP,t=[],n=[],r=Ab;function i(a){let l=e.get(a);if(l===void 0){if(r!==Ab)return r;e.set(a,l=t.push(a)-1)}return n[l%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new RP;for(const l of a)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return J_(t,n).unknown(r)},Ur.apply(i,arguments),i}function X_(){var e=J_().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,l,u=!1,c=0,d=0,h=.5;delete e.unknown;function m(){var y=t().length,_=i<r,T=_?i:r,w=_?r:i;a=(w-T)/Math.max(1,y-c+d*2),u&&(a=Math.floor(a)),T+=(w-T-a*(y-c))*h,l=a*(1-c),u&&(T=Math.round(T),l=Math.round(l));var E=xX(y).map(function(C){return T+a*C});return n(_?E.reverse():E)}return e.domain=function(y){return arguments.length?(t(y),m()):t()},e.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,m()):[r,i]},e.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,u=!0,m()},e.bandwidth=function(){return l},e.step=function(){return a},e.round=function(y){return arguments.length?(u=!!y,m()):u},e.padding=function(y){return arguments.length?(c=Math.min(1,d=+y),m()):c},e.paddingInner=function(y){return arguments.length?(c=Math.min(1,y),m()):c},e.paddingOuter=function(y){return arguments.length?(d=+y,m()):d},e.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),m()):h},e.copy=function(){return X_(t(),[r,i]).round(u).paddingInner(c).paddingOuter(d).align(h)},Ur.apply(m(),arguments)}function _k(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return _k(t())},e}function AX(){return _k(X_.apply(null,arguments).paddingInner(1))}function Q_(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Sk(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Bc(){}var bc=.7,jh=1/bc,sl="\\s*([+-]?\\d+)\\s*",_c="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",li="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",CX=/^#([0-9a-f]{3,8})$/,MX=new RegExp(`^rgb\\(${sl},${sl},${sl}\\)$`),PX=new RegExp(`^rgb\\(${li},${li},${li}\\)$`),NX=new RegExp(`^rgba\\(${sl},${sl},${sl},${_c}\\)$`),OX=new RegExp(`^rgba\\(${li},${li},${li},${_c}\\)$`),IX=new RegExp(`^hsl\\(${_c},${li},${li}\\)$`),DX=new RegExp(`^hsla\\(${_c},${li},${li},${_c}\\)$`),jP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Q_(Bc,Sc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:qP,formatHex:qP,formatHex8:RX,formatHsl:kX,formatRgb:zP,toString:zP});function qP(){return this.rgb().formatHex()}function RX(){return this.rgb().formatHex8()}function kX(){return Tk(this).formatHsl()}function zP(){return this.rgb().formatRgb()}function Sc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=CX.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?$P(t):n===3?new Gn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Od(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Od(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=MX.exec(e))?new Gn(t[1],t[2],t[3],1):(t=PX.exec(e))?new Gn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=NX.exec(e))?Od(t[1],t[2],t[3],t[4]):(t=OX.exec(e))?Od(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=IX.exec(e))?HP(t[1],t[2]/100,t[3]/100,1):(t=DX.exec(e))?HP(t[1],t[2]/100,t[3]/100,t[4]):jP.hasOwnProperty(e)?$P(jP[e]):e==="transparent"?new Gn(NaN,NaN,NaN,0):null}function $P(e){return new Gn(e>>16&255,e>>8&255,e&255,1)}function Od(e,t,n,r){return r<=0&&(e=t=n=NaN),new Gn(e,t,n,r)}function LX(e){return e instanceof Bc||(e=Sc(e)),e?(e=e.rgb(),new Gn(e.r,e.g,e.b,e.opacity)):new Gn}function Cb(e,t,n,r){return arguments.length===1?LX(e):new Gn(e,t,n,r??1)}function Gn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Q_(Gn,Cb,Sk(Bc,{brighter(e){return e=e==null?jh:Math.pow(jh,e),new Gn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?bc:Math.pow(bc,e),new Gn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Gn(Go(this.r),Go(this.g),Go(this.b),qh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:BP,formatHex:BP,formatHex8:UX,formatRgb:FP,toString:FP}));function BP(){return`#${qo(this.r)}${qo(this.g)}${qo(this.b)}`}function UX(){return`#${qo(this.r)}${qo(this.g)}${qo(this.b)}${qo((isNaN(this.opacity)?1:this.opacity)*255)}`}function FP(){const e=qh(this.opacity);return`${e===1?"rgb(":"rgba("}${Go(this.r)}, ${Go(this.g)}, ${Go(this.b)}${e===1?")":`, ${e})`}`}function qh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Go(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function qo(e){return e=Go(e),(e<16?"0":"")+e.toString(16)}function HP(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Vr(e,t,n,r)}function Tk(e){if(e instanceof Vr)return new Vr(e.h,e.s,e.l,e.opacity);if(e instanceof Bc||(e=Sc(e)),!e)return new Vr;if(e instanceof Vr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),l=NaN,u=a-i,c=(a+i)/2;return u?(t===a?l=(n-r)/u+(n<r)*6:n===a?l=(r-t)/u+2:l=(t-n)/u+4,u/=c<.5?a+i:2-a-i,l*=60):u=c>0&&c<1?0:l,new Vr(l,u,c,e.opacity)}function jX(e,t,n,r){return arguments.length===1?Tk(e):new Vr(e,t,n,r??1)}function Vr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Q_(Vr,jX,Sk(Bc,{brighter(e){return e=e==null?jh:Math.pow(jh,e),new Vr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?bc:Math.pow(bc,e),new Vr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Gn(qv(e>=240?e-240:e+120,i,r),qv(e,i,r),qv(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Vr(GP(this.h),Id(this.s),Id(this.l),qh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=qh(this.opacity);return`${e===1?"hsl(":"hsla("}${GP(this.h)}, ${Id(this.s)*100}%, ${Id(this.l)*100}%${e===1?")":`, ${e})`}`}}));function GP(e){return e=(e||0)%360,e<0?e+360:e}function Id(e){return Math.max(0,Math.min(1,e||0))}function qv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Z_=e=>()=>e;function qX(e,t){return function(n){return e+n*t}}function zX(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function $X(e){return(e=+e)==1?Ek:function(t,n){return n-t?zX(t,n,e):Z_(isNaN(t)?n:t)}}function Ek(e,t){var n=t-e;return n?qX(e,n):Z_(isNaN(e)?t:e)}const VP=(function e(t){var n=$X(t);function r(i,a){var l=n((i=Cb(i)).r,(a=Cb(a)).r),u=n(i.g,a.g),c=n(i.b,a.b),d=Ek(i.opacity,a.opacity);return function(h){return i.r=l(h),i.g=u(h),i.b=c(h),i.opacity=d(h),i+""}}return r.gamma=e,r})(1);function BX(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function FX(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function HX(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),l;for(l=0;l<r;++l)i[l]=Pl(e[l],t[l]);for(;l<n;++l)a[l]=t[l];return function(u){for(l=0;l<r;++l)a[l]=i[l](u);return a}}function GX(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function zh(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function VX(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Pl(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Mb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zv=new RegExp(Mb.source,"g");function KX(e){return function(){return e}}function YX(e){return function(t){return e(t)+""}}function WX(e,t){var n=Mb.lastIndex=zv.lastIndex=0,r,i,a,l=-1,u=[],c=[];for(e=e+"",t=t+"";(r=Mb.exec(e))&&(i=zv.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),u[l]?u[l]+=a:u[++l]=a),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,c.push({i:l,x:zh(r,i)})),n=zv.lastIndex;return n<t.length&&(a=t.slice(n),u[l]?u[l]+=a:u[++l]=a),u.length<2?c[0]?YX(c[0].x):KX(t):(t=c.length,function(d){for(var h=0,m;h<t;++h)u[(m=c[h]).i]=m.x(d);return u.join("")})}function Pl(e,t){var n=typeof t,r;return t==null||n==="boolean"?Z_(t):(n==="number"?zh:n==="string"?(r=Sc(t))?(t=r,VP):WX:t instanceof Sc?VP:t instanceof Date?GX:FX(t)?BX:Array.isArray(t)?HX:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?VX:zh)(e,t)}function eS(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function JX(e,t){t===void 0&&(t=e,e=Pl);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return a[u](l-u)}}function XX(e){return function(){return e}}function $h(e){return+e}var KP=[0,1];function An(e){return e}function Pb(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:XX(isNaN(t)?NaN:.5)}function QX(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function ZX(e,t,n){var r=e[0],i=e[1],a=t[0],l=t[1];return i<r?(r=Pb(i,r),a=n(l,a)):(r=Pb(r,i),a=n(a,l)),function(u){return a(r(u))}}function eQ(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=Pb(e[l],e[l+1]),a[l]=n(t[l],t[l+1]);return function(u){var c=$c(e,u,1,r)-1;return a[c](i[c](u))}}function Fc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Bp(){var e=KP,t=KP,n=Pl,r,i,a,l=An,u,c,d;function h(){var y=Math.min(e.length,t.length);return l!==An&&(l=QX(e[0],e[y-1])),u=y>2?eQ:ZX,c=d=null,m}function m(y){return y==null||isNaN(y=+y)?a:(c||(c=u(e.map(r),t,n)))(r(l(y)))}return m.invert=function(y){return l(i((d||(d=u(t,e.map(r),zh)))(y)))},m.domain=function(y){return arguments.length?(e=Array.from(y,$h),h()):e.slice()},m.range=function(y){return arguments.length?(t=Array.from(y),h()):t.slice()},m.rangeRound=function(y){return t=Array.from(y),n=eS,h()},m.clamp=function(y){return arguments.length?(l=y?!0:An,h()):l!==An},m.interpolate=function(y){return arguments.length?(n=y,h()):n},m.unknown=function(y){return arguments.length?(a=y,m):a},function(y,_){return r=y,i=_,h()}}function tS(){return Bp()(An,An)}function tQ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Bh(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function gl(e){return e=Bh(Math.abs(e)),e?e[1]:NaN}function nQ(e,t){return function(n,r){for(var i=n.length,a=[],l=0,u=e[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),a.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=e[l=(l+1)%e.length];return a.reverse().join(t)}}function rQ(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var iQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Tc(e){if(!(t=iQ.exec(e)))throw new Error("invalid format: "+e);var t;return new nS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Tc.prototype=nS.prototype;function nS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}nS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function aQ(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var wk;function oQ(e,t){var n=Bh(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(wk=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return a===l?r:a>l?r+new Array(a-l+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Bh(e,Math.max(0,t+a-1))[0]}function YP(e,t){var n=Bh(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const WP={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:tQ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>YP(e*100,t),r:YP,s:oQ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function JP(e){return e}var XP=Array.prototype.map,QP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function sQ(e){var t=e.grouping===void 0||e.thousands===void 0?JP:nQ(XP.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?JP:rQ(XP.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(m){m=Tc(m);var y=m.fill,_=m.align,T=m.sign,w=m.symbol,E=m.zero,C=m.width,N=m.comma,P=m.precision,D=m.trim,O=m.type;O==="n"?(N=!0,O="g"):WP[O]||(P===void 0&&(P=12),D=!0,O="g"),(E||y==="0"&&_==="=")&&(E=!0,y="0",_="=");var R=w==="$"?n:w==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",k=w==="$"?r:/[%p]/.test(O)?l:"",q=WP[O],G=/[defgprs%]/.test(O);P=P===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function H($){var F=R,fe=k,me,Se,B;if(O==="c")fe=q($)+fe,$="";else{$=+$;var ne=$<0||1/$<0;if($=isNaN($)?c:q(Math.abs($),P),D&&($=aQ($)),ne&&+$==0&&T!=="+"&&(ne=!1),F=(ne?T==="("?T:u:T==="-"||T==="("?"":T)+F,fe=(O==="s"?QP[8+wk/3]:"")+fe+(ne&&T==="("?")":""),G){for(me=-1,Se=$.length;++me<Se;)if(B=$.charCodeAt(me),48>B||B>57){fe=(B===46?i+$.slice(me+1):$.slice(me))+fe,$=$.slice(0,me);break}}}N&&!E&&($=t($,1/0));var le=F.length+$.length+fe.length,ue=le<C?new Array(C-le+1).join(y):"";switch(N&&E&&($=t(ue+$,ue.length?C-fe.length:1/0),ue=""),_){case"<":$=F+$+fe+ue;break;case"=":$=F+ue+$+fe;break;case"^":$=ue.slice(0,le=ue.length>>1)+F+$+fe+ue.slice(le);break;default:$=ue+F+$+fe;break}return a($)}return H.toString=function(){return m+""},H}function h(m,y){var _=d((m=Tc(m),m.type="f",m)),T=Math.max(-8,Math.min(8,Math.floor(gl(y)/3)))*3,w=Math.pow(10,-T),E=QP[8+T/3];return function(C){return _(w*C)+E}}return{format:d,formatPrefix:h}}var Dd,rS,xk;lQ({thousands:",",grouping:[3],currency:["$",""]});function lQ(e){return Dd=sQ(e),rS=Dd.format,xk=Dd.formatPrefix,Dd}function uQ(e){return Math.max(0,-gl(Math.abs(e)))}function cQ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gl(t)/3)))*3-gl(Math.abs(e)))}function fQ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,gl(t)-gl(e))+1}function Ak(e,t,n,r){var i=xb(e,t,n),a;switch(r=Tc(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=cQ(i,l))&&(r.precision=a),xk(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=fQ(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=uQ(i))&&(r.precision=a-(r.type==="%")*2);break}}return rS(r)}function oo(e){var t=e.domain;return e.ticks=function(n){var r=t();return Eb(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Ak(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,l=r[i],u=r[a],c,d,h=10;for(u<l&&(d=l,l=u,u=d,d=i,i=a,a=d);h-- >0;){if(d=wb(l,u,n),d===c)return r[i]=l,r[a]=u,t(r);if(d>0)l=Math.floor(l/d)*d,u=Math.ceil(u/d)*d;else if(d<0)l=Math.ceil(l*d)/d,u=Math.floor(u*d)/d;else break;c=d}return e},e}function Ck(){var e=tS();return e.copy=function(){return Fc(e,Ck())},Ur.apply(e,arguments),oo(e)}function Mk(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,$h),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Mk(e).unknown(t)},e=arguments.length?Array.from(e,$h):[0,1],oo(n)}function Pk(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],l;return a<i&&(l=n,n=r,r=l,l=i,i=a,a=l),e[n]=t.floor(i),e[r]=t.ceil(a),e}function ZP(e){return Math.log(e)}function eN(e){return Math.exp(e)}function dQ(e){return-Math.log(-e)}function hQ(e){return-Math.exp(-e)}function pQ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function mQ(e){return e===10?pQ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function gQ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function tN(e){return(t,n)=>-e(-t,n)}function iS(e){const t=e(ZP,eN),n=t.domain;let r=10,i,a;function l(){return i=gQ(r),a=mQ(r),n()[0]<0?(i=tN(i),a=tN(a),e(dQ,hQ)):e(ZP,eN),t}return t.base=function(u){return arguments.length?(r=+u,l()):r},t.domain=function(u){return arguments.length?(n(u),l()):n()},t.ticks=u=>{const c=n();let d=c[0],h=c[c.length-1];const m=h<d;m&&([d,h]=[h,d]);let y=i(d),_=i(h),T,w;const E=u==null?10:+u;let C=[];if(!(r%1)&&_-y<E){if(y=Math.floor(y),_=Math.ceil(_),d>0){for(;y<=_;++y)for(T=1;T<r;++T)if(w=y<0?T/a(-y):T*a(y),!(w<d)){if(w>h)break;C.push(w)}}else for(;y<=_;++y)for(T=r-1;T>=1;--T)if(w=y>0?T/a(-y):T*a(y),!(w<d)){if(w>h)break;C.push(w)}C.length*2<E&&(C=Eb(d,h,E))}else C=Eb(y,_,Math.min(_-y,E)).map(a);return m?C.reverse():C},t.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Tc(c)).precision==null&&(c.trim=!0),c=rS(c)),u===1/0)return c;const d=Math.max(1,r*u/t.ticks().length);return h=>{let m=h/a(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=d?c(h):""}},t.nice=()=>n(Pk(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),t}function Nk(){const e=iS(Bp()).domain([1,10]);return e.copy=()=>Fc(e,Nk()).base(e.base()),Ur.apply(e,arguments),e}function nN(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function rN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function aS(e){var t=1,n=e(nN(t),rN(t));return n.constant=function(r){return arguments.length?e(nN(t=+r),rN(t)):t},oo(n)}function Ok(){var e=aS(Bp());return e.copy=function(){return Fc(e,Ok()).constant(e.constant())},Ur.apply(e,arguments)}function iN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function yQ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function vQ(e){return e<0?-e*e:e*e}function oS(e){var t=e(An,An),n=1;function r(){return n===1?e(An,An):n===.5?e(yQ,vQ):e(iN(n),iN(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},oo(t)}function sS(){var e=oS(Bp());return e.copy=function(){return Fc(e,sS()).exponent(e.exponent())},Ur.apply(e,arguments),e}function bQ(){return sS.apply(null,arguments).exponent(.5)}function aN(e){return Math.sign(e)*e*e}function _Q(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Ik(){var e=tS(),t=[0,1],n=!1,r;function i(a){var l=_Q(e(a));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(a){return e.invert(aN(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,$h)).map(aN)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Ik(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Ur.apply(i,arguments),oo(i)}function Dk(){var e=[],t=[],n=[],r;function i(){var l=0,u=Math.max(1,t.length);for(n=new Array(u-1);++l<u;)n[l-1]=wX(e,l/u);return a}function a(l){return l==null||isNaN(l=+l)?r:t[$c(n,l)]}return a.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},a.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Xa),i()},a.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Dk().domain(e).range(t).unknown(r)},Ur.apply(a,arguments)}function Rk(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function l(c){return c!=null&&c<=c?i[$c(r,c,0,n)]:a}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return l}return l.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,u()):[e,t]},l.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,u()):i.slice()},l.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},l.unknown=function(c){return arguments.length&&(a=c),l},l.thresholds=function(){return r.slice()},l.copy=function(){return Rk().domain([e,t]).range(i).unknown(a)},Ur.apply(oo(l),arguments)}function kk(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[$c(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var l=t.indexOf(a);return[e[l-1],e[l]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return kk().domain(e).range(t).unknown(n)},Ur.apply(i,arguments)}const $v=new Date,Bv=new Date;function $t(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const l=i(a),u=i.ceil(a);return a-l<u-a?l:u},i.offset=(a,l)=>(t(a=new Date(+a),l==null?1:Math.floor(l)),a),i.range=(a,l,u)=>{const c=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<l)||!(u>0))return c;let d;do c.push(d=new Date(+a)),t(a,u),e(a);while(d<a&&a<l);return c},i.filter=a=>$t(l=>{if(l>=l)for(;e(l),!a(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!a(l););else for(;--u>=0;)for(;t(l,1),!a(l););}),n&&(i.count=(a,l)=>($v.setTime(+a),Bv.setTime(+l),e($v),e(Bv),Math.floor(n($v,Bv))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?l=>r(l)%a===0:l=>i.count(0,l)%a===0):i)),i}const Fh=$t(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Fh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?$t(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Fh);Fh.range;const Yi=1e3,Nr=Yi*60,Wi=Nr*60,sa=Wi*24,lS=sa*7,oN=sa*30,Fv=sa*365,zo=$t(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Yi)},(e,t)=>(t-e)/Yi,e=>e.getUTCSeconds());zo.range;const uS=$t(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Yi)},(e,t)=>{e.setTime(+e+t*Nr)},(e,t)=>(t-e)/Nr,e=>e.getMinutes());uS.range;const cS=$t(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Nr)},(e,t)=>(t-e)/Nr,e=>e.getUTCMinutes());cS.range;const fS=$t(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Yi-e.getMinutes()*Nr)},(e,t)=>{e.setTime(+e+t*Wi)},(e,t)=>(t-e)/Wi,e=>e.getHours());fS.range;const dS=$t(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Wi)},(e,t)=>(t-e)/Wi,e=>e.getUTCHours());dS.range;const Hc=$t(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Nr)/sa,e=>e.getDate()-1);Hc.range;const Fp=$t(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/sa,e=>e.getUTCDate()-1);Fp.range;const Lk=$t(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/sa,e=>Math.floor(e/sa));Lk.range;function es(e){return $t(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Nr)/lS)}const Hp=es(0),Hh=es(1),SQ=es(2),TQ=es(3),yl=es(4),EQ=es(5),wQ=es(6);Hp.range;Hh.range;SQ.range;TQ.range;yl.range;EQ.range;wQ.range;function ts(e){return $t(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/lS)}const Gp=ts(0),Gh=ts(1),xQ=ts(2),AQ=ts(3),vl=ts(4),CQ=ts(5),MQ=ts(6);Gp.range;Gh.range;xQ.range;AQ.range;vl.range;CQ.range;MQ.range;const hS=$t(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());hS.range;const pS=$t(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());pS.range;const la=$t(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());la.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$t(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});la.range;const ua=$t(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ua.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$t(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ua.range;function Uk(e,t,n,r,i,a){const l=[[zo,1,Yi],[zo,5,5*Yi],[zo,15,15*Yi],[zo,30,30*Yi],[a,1,Nr],[a,5,5*Nr],[a,15,15*Nr],[a,30,30*Nr],[i,1,Wi],[i,3,3*Wi],[i,6,6*Wi],[i,12,12*Wi],[r,1,sa],[r,2,2*sa],[n,1,lS],[t,1,oN],[t,3,3*oN],[e,1,Fv]];function u(d,h,m){const y=h<d;y&&([d,h]=[h,d]);const _=m&&typeof m.range=="function"?m:c(d,h,m),T=_?_.range(d,+h+1):[];return y?T.reverse():T}function c(d,h,m){const y=Math.abs(h-d)/m,_=W_(([,,E])=>E).right(l,y);if(_===l.length)return e.every(xb(d/Fv,h/Fv,m));if(_===0)return Fh.every(Math.max(xb(d,h,m),1));const[T,w]=l[y/l[_-1][2]<l[_][2]/y?_-1:_];return T.every(w)}return[u,c]}const[PQ,NQ]=Uk(ua,pS,Gp,Lk,dS,cS),[OQ,IQ]=Uk(la,hS,Hp,Hc,fS,uS);function Hv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Gv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Bu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function DQ(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,l=e.shortDays,u=e.months,c=e.shortMonths,d=Fu(i),h=Hu(i),m=Fu(a),y=Hu(a),_=Fu(l),T=Hu(l),w=Fu(u),E=Hu(u),C=Fu(c),N=Hu(c),P={a:ne,A:le,b:ue,B:Me,c:null,d:dN,e:dN,f:nZ,g:dZ,G:pZ,H:ZQ,I:eZ,j:tZ,L:jk,m:rZ,M:iZ,p:U,q:X,Q:mN,s:gN,S:aZ,u:oZ,U:sZ,V:lZ,w:uZ,W:cZ,x:null,X:null,y:fZ,Y:hZ,Z:mZ,"%":pN},D={a:se,A:ce,b:re,B:he,c:null,d:hN,e:hN,f:bZ,g:PZ,G:OZ,H:gZ,I:yZ,j:vZ,L:zk,m:_Z,M:SZ,p:Ee,q:Ie,Q:mN,s:gN,S:TZ,u:EZ,U:wZ,V:xZ,w:AZ,W:CZ,x:null,X:null,y:MZ,Y:NZ,Z:IZ,"%":pN},O={a:H,A:$,b:F,B:fe,c:me,d:cN,e:cN,f:WQ,g:uN,G:lN,H:fN,I:fN,j:GQ,L:YQ,m:HQ,M:VQ,p:G,q:FQ,Q:XQ,s:QQ,S:KQ,u:jQ,U:qQ,V:zQ,w:UQ,W:$Q,x:Se,X:B,y:uN,Y:lN,Z:BQ,"%":JQ};P.x=R(n,P),P.X=R(r,P),P.c=R(t,P),D.x=R(n,D),D.X=R(r,D),D.c=R(t,D);function R(ee,we){return function(De){var oe=[],pt=-1,Le=0,bt=ee.length,_t,En,pn;for(De instanceof Date||(De=new Date(+De));++pt<bt;)ee.charCodeAt(pt)===37&&(oe.push(ee.slice(Le,pt)),(En=sN[_t=ee.charAt(++pt)])!=null?_t=ee.charAt(++pt):En=_t==="e"?" ":"0",(pn=we[_t])&&(_t=pn(De,En)),oe.push(_t),Le=pt+1);return oe.push(ee.slice(Le,pt)),oe.join("")}}function k(ee,we){return function(De){var oe=Bu(1900,void 0,1),pt=q(oe,ee,De+="",0),Le,bt;if(pt!=De.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(we&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(Le=Gv(Bu(oe.y,0,1)),bt=Le.getUTCDay(),Le=bt>4||bt===0?Gh.ceil(Le):Gh(Le),Le=Fp.offset(Le,(oe.V-1)*7),oe.y=Le.getUTCFullYear(),oe.m=Le.getUTCMonth(),oe.d=Le.getUTCDate()+(oe.w+6)%7):(Le=Hv(Bu(oe.y,0,1)),bt=Le.getDay(),Le=bt>4||bt===0?Hh.ceil(Le):Hh(Le),Le=Hc.offset(Le,(oe.V-1)*7),oe.y=Le.getFullYear(),oe.m=Le.getMonth(),oe.d=Le.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),bt="Z"in oe?Gv(Bu(oe.y,0,1)).getUTCDay():Hv(Bu(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(bt+5)%7:oe.w+oe.U*7-(bt+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,Gv(oe)):Hv(oe)}}function q(ee,we,De,oe){for(var pt=0,Le=we.length,bt=De.length,_t,En;pt<Le;){if(oe>=bt)return-1;if(_t=we.charCodeAt(pt++),_t===37){if(_t=we.charAt(pt++),En=O[_t in sN?we.charAt(pt++):_t],!En||(oe=En(ee,De,oe))<0)return-1}else if(_t!=De.charCodeAt(oe++))return-1}return oe}function G(ee,we,De){var oe=d.exec(we.slice(De));return oe?(ee.p=h.get(oe[0].toLowerCase()),De+oe[0].length):-1}function H(ee,we,De){var oe=_.exec(we.slice(De));return oe?(ee.w=T.get(oe[0].toLowerCase()),De+oe[0].length):-1}function $(ee,we,De){var oe=m.exec(we.slice(De));return oe?(ee.w=y.get(oe[0].toLowerCase()),De+oe[0].length):-1}function F(ee,we,De){var oe=C.exec(we.slice(De));return oe?(ee.m=N.get(oe[0].toLowerCase()),De+oe[0].length):-1}function fe(ee,we,De){var oe=w.exec(we.slice(De));return oe?(ee.m=E.get(oe[0].toLowerCase()),De+oe[0].length):-1}function me(ee,we,De){return q(ee,t,we,De)}function Se(ee,we,De){return q(ee,n,we,De)}function B(ee,we,De){return q(ee,r,we,De)}function ne(ee){return l[ee.getDay()]}function le(ee){return a[ee.getDay()]}function ue(ee){return c[ee.getMonth()]}function Me(ee){return u[ee.getMonth()]}function U(ee){return i[+(ee.getHours()>=12)]}function X(ee){return 1+~~(ee.getMonth()/3)}function se(ee){return l[ee.getUTCDay()]}function ce(ee){return a[ee.getUTCDay()]}function re(ee){return c[ee.getUTCMonth()]}function he(ee){return u[ee.getUTCMonth()]}function Ee(ee){return i[+(ee.getUTCHours()>=12)]}function Ie(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var we=R(ee+="",P);return we.toString=function(){return ee},we},parse:function(ee){var we=k(ee+="",!1);return we.toString=function(){return ee},we},utcFormat:function(ee){var we=R(ee+="",D);return we.toString=function(){return ee},we},utcParse:function(ee){var we=k(ee+="",!0);return we.toString=function(){return ee},we}}}var sN={"-":"",_:" ",0:"0"},tn=/^\s*\d+/,RQ=/^%/,kQ=/[\\^$*+?|[\]().{}]/g;function We(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function LQ(e){return e.replace(kQ,"\\$&")}function Fu(e){return new RegExp("^(?:"+e.map(LQ).join("|")+")","i")}function Hu(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function UQ(e,t,n){var r=tn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function jQ(e,t,n){var r=tn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function qQ(e,t,n){var r=tn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function zQ(e,t,n){var r=tn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function $Q(e,t,n){var r=tn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function lN(e,t,n){var r=tn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function uN(e,t,n){var r=tn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function BQ(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function FQ(e,t,n){var r=tn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function HQ(e,t,n){var r=tn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function cN(e,t,n){var r=tn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function GQ(e,t,n){var r=tn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function fN(e,t,n){var r=tn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function VQ(e,t,n){var r=tn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function KQ(e,t,n){var r=tn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function YQ(e,t,n){var r=tn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function WQ(e,t,n){var r=tn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function JQ(e,t,n){var r=RQ.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function XQ(e,t,n){var r=tn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function QQ(e,t,n){var r=tn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function dN(e,t){return We(e.getDate(),t,2)}function ZQ(e,t){return We(e.getHours(),t,2)}function eZ(e,t){return We(e.getHours()%12||12,t,2)}function tZ(e,t){return We(1+Hc.count(la(e),e),t,3)}function jk(e,t){return We(e.getMilliseconds(),t,3)}function nZ(e,t){return jk(e,t)+"000"}function rZ(e,t){return We(e.getMonth()+1,t,2)}function iZ(e,t){return We(e.getMinutes(),t,2)}function aZ(e,t){return We(e.getSeconds(),t,2)}function oZ(e){var t=e.getDay();return t===0?7:t}function sZ(e,t){return We(Hp.count(la(e)-1,e),t,2)}function qk(e){var t=e.getDay();return t>=4||t===0?yl(e):yl.ceil(e)}function lZ(e,t){return e=qk(e),We(yl.count(la(e),e)+(la(e).getDay()===4),t,2)}function uZ(e){return e.getDay()}function cZ(e,t){return We(Hh.count(la(e)-1,e),t,2)}function fZ(e,t){return We(e.getFullYear()%100,t,2)}function dZ(e,t){return e=qk(e),We(e.getFullYear()%100,t,2)}function hZ(e,t){return We(e.getFullYear()%1e4,t,4)}function pZ(e,t){var n=e.getDay();return e=n>=4||n===0?yl(e):yl.ceil(e),We(e.getFullYear()%1e4,t,4)}function mZ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+We(t/60|0,"0",2)+We(t%60,"0",2)}function hN(e,t){return We(e.getUTCDate(),t,2)}function gZ(e,t){return We(e.getUTCHours(),t,2)}function yZ(e,t){return We(e.getUTCHours()%12||12,t,2)}function vZ(e,t){return We(1+Fp.count(ua(e),e),t,3)}function zk(e,t){return We(e.getUTCMilliseconds(),t,3)}function bZ(e,t){return zk(e,t)+"000"}function _Z(e,t){return We(e.getUTCMonth()+1,t,2)}function SZ(e,t){return We(e.getUTCMinutes(),t,2)}function TZ(e,t){return We(e.getUTCSeconds(),t,2)}function EZ(e){var t=e.getUTCDay();return t===0?7:t}function wZ(e,t){return We(Gp.count(ua(e)-1,e),t,2)}function $k(e){var t=e.getUTCDay();return t>=4||t===0?vl(e):vl.ceil(e)}function xZ(e,t){return e=$k(e),We(vl.count(ua(e),e)+(ua(e).getUTCDay()===4),t,2)}function AZ(e){return e.getUTCDay()}function CZ(e,t){return We(Gh.count(ua(e)-1,e),t,2)}function MZ(e,t){return We(e.getUTCFullYear()%100,t,2)}function PZ(e,t){return e=$k(e),We(e.getUTCFullYear()%100,t,2)}function NZ(e,t){return We(e.getUTCFullYear()%1e4,t,4)}function OZ(e,t){var n=e.getUTCDay();return e=n>=4||n===0?vl(e):vl.ceil(e),We(e.getUTCFullYear()%1e4,t,4)}function IZ(){return"+0000"}function pN(){return"%"}function mN(e){return+e}function gN(e){return Math.floor(+e/1e3)}var Bs,Bk,Fk;DZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function DZ(e){return Bs=DQ(e),Bk=Bs.format,Bs.parse,Fk=Bs.utcFormat,Bs.utcParse,Bs}function RZ(e){return new Date(e)}function kZ(e){return e instanceof Date?+e:+new Date(+e)}function mS(e,t,n,r,i,a,l,u,c,d){var h=tS(),m=h.invert,y=h.domain,_=d(".%L"),T=d(":%S"),w=d("%I:%M"),E=d("%I %p"),C=d("%a %d"),N=d("%b %d"),P=d("%B"),D=d("%Y");function O(R){return(c(R)<R?_:u(R)<R?T:l(R)<R?w:a(R)<R?E:r(R)<R?i(R)<R?C:N:n(R)<R?P:D)(R)}return h.invert=function(R){return new Date(m(R))},h.domain=function(R){return arguments.length?y(Array.from(R,kZ)):y().map(RZ)},h.ticks=function(R){var k=y();return e(k[0],k[k.length-1],R??10)},h.tickFormat=function(R,k){return k==null?O:d(k)},h.nice=function(R){var k=y();return(!R||typeof R.range!="function")&&(R=t(k[0],k[k.length-1],R??10)),R?y(Pk(k,R)):h},h.copy=function(){return Fc(h,mS(e,t,n,r,i,a,l,u,c,d))},h}function LZ(){return Ur.apply(mS(OQ,IQ,la,hS,Hp,Hc,fS,uS,zo,Bk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function UZ(){return Ur.apply(mS(PQ,NQ,ua,pS,Gp,Fp,dS,cS,zo,Fk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Vp(){var e=0,t=1,n,r,i,a,l=An,u=!1,c;function d(m){return m==null||isNaN(m=+m)?c:l(i===0?.5:(m=(a(m)-n)*i,u?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(m){return arguments.length?(u=!!m,d):u},d.interpolator=function(m){return arguments.length?(l=m,d):l};function h(m){return function(y){var _,T;return arguments.length?([_,T]=y,l=m(_,T),d):[l(0),l(1)]}}return d.range=h(Pl),d.rangeRound=h(eS),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return a=m,n=m(e),r=m(t),i=n===r?0:1/(r-n),d}}function so(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Hk(){var e=oo(Vp()(An));return e.copy=function(){return so(e,Hk())},va.apply(e,arguments)}function Gk(){var e=iS(Vp()).domain([1,10]);return e.copy=function(){return so(e,Gk()).base(e.base())},va.apply(e,arguments)}function Vk(){var e=aS(Vp());return e.copy=function(){return so(e,Vk()).constant(e.constant())},va.apply(e,arguments)}function gS(){var e=oS(Vp());return e.copy=function(){return so(e,gS()).exponent(e.exponent())},va.apply(e,arguments)}function jZ(){return gS.apply(null,arguments).exponent(.5)}function Kk(){var e=[],t=An;function n(r){if(r!=null&&!isNaN(r=+r))return t(($c(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Xa),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>EX(e,a/r))},n.copy=function(){return Kk(t).domain(e)},va.apply(n,arguments)}function Kp(){var e=0,t=.5,n=1,r=1,i,a,l,u,c,d=An,h,m=!1,y;function _(w){return isNaN(w=+w)?y:(w=.5+((w=+h(w))-a)*(r*w<r*a?u:c),d(m?Math.max(0,Math.min(1,w)):w))}_.domain=function(w){return arguments.length?([e,t,n]=w,i=h(e=+e),a=h(t=+t),l=h(n=+n),u=i===a?0:.5/(a-i),c=a===l?0:.5/(l-a),r=a<i?-1:1,_):[e,t,n]},_.clamp=function(w){return arguments.length?(m=!!w,_):m},_.interpolator=function(w){return arguments.length?(d=w,_):d};function T(w){return function(E){var C,N,P;return arguments.length?([C,N,P]=E,d=JX(w,[C,N,P]),_):[d(0),d(.5),d(1)]}}return _.range=T(Pl),_.rangeRound=T(eS),_.unknown=function(w){return arguments.length?(y=w,_):y},function(w){return h=w,i=w(e),a=w(t),l=w(n),u=i===a?0:.5/(a-i),c=a===l?0:.5/(l-a),r=a<i?-1:1,_}}function Yk(){var e=oo(Kp()(An));return e.copy=function(){return so(e,Yk())},va.apply(e,arguments)}function Wk(){var e=iS(Kp()).domain([.1,1,10]);return e.copy=function(){return so(e,Wk()).base(e.base())},va.apply(e,arguments)}function Jk(){var e=aS(Kp());return e.copy=function(){return so(e,Jk()).constant(e.constant())},va.apply(e,arguments)}function yS(){var e=oS(Kp());return e.copy=function(){return so(e,yS()).exponent(e.exponent())},va.apply(e,arguments)}function qZ(){return yS.apply(null,arguments).exponent(.5)}const Xu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:X_,scaleDiverging:Yk,scaleDivergingLog:Wk,scaleDivergingPow:yS,scaleDivergingSqrt:qZ,scaleDivergingSymlog:Jk,scaleIdentity:Mk,scaleImplicit:Ab,scaleLinear:Ck,scaleLog:Nk,scaleOrdinal:J_,scalePoint:AX,scalePow:sS,scaleQuantile:Dk,scaleQuantize:Rk,scaleRadial:Ik,scaleSequential:Hk,scaleSequentialLog:Gk,scaleSequentialPow:gS,scaleSequentialQuantile:Kk,scaleSequentialSqrt:jZ,scaleSequentialSymlog:Vk,scaleSqrt:bQ,scaleSymlog:Ok,scaleThreshold:kk,scaleTime:LZ,scaleUtc:UZ,tickFormat:Ak},Symbol.toStringTag,{value:"Module"}));var lo=e=>e.chartData,zZ=Z([lo],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),vS=(e,t,n,r)=>r?zZ(e):lo(e);function to(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(wt(t)&&wt(n))return!0}return!1}function yN(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Xk(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(wt(n))i=n;else if(typeof n=="function")return;if(wt(r))a=r;else if(typeof r=="function")return;var l=[i,a];if(to(l))return l}}function $Z(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(to(r))return yN(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,l,u;if(i==="auto")t!=null&&(l=Math.min(...t));else if(Ae(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t?.[0]))}catch{}else if(typeof i=="string"&&GM.test(i)){var c=GM.exec(i);if(c==null||t==null)l=void 0;else{var d=+c[1];l=t[0]-d}}else l=t?.[0];if(a==="auto")t!=null&&(u=Math.max(...t));else if(Ae(a))u=a;else if(typeof a=="function")try{t!=null&&(u=a(t?.[1]))}catch{}else if(typeof a=="string"&&VM.test(a)){var h=VM.exec(a);if(h==null||t==null)u=void 0;else{var m=+h[1];u=t[1]+m}}else u=t?.[1];var y=[l,u];if(to(y))return t==null?y:yN(y,t,n)}}}var Nl=1e9,BZ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},_S,vt=!0,Lr="[DecimalError] ",Vo=Lr+"Invalid argument: ",bS=Lr+"Exponent out of range: ",Ol=Math.floor,Io=Math.pow,FZ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,lr,Zt=1e7,ft=7,Qk=9007199254740991,Vh=Ol(Qk/ft),ge={};ge.absoluteValue=ge.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ge.comparedTo=ge.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ge.decimalPlaces=ge.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*ft;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ge.dividedBy=ge.div=function(e){return Qi(this,new this.constructor(e))};ge.dividedToIntegerBy=ge.idiv=function(e){var t=this,n=t.constructor;return at(Qi(t,new n(e),0,1),n.precision)};ge.equals=ge.eq=function(e){return!this.cmp(e)};ge.exponent=function(){return Ut(this)};ge.greaterThan=ge.gt=function(e){return this.cmp(e)>0};ge.greaterThanOrEqualTo=ge.gte=function(e){return this.cmp(e)>=0};ge.isInteger=ge.isint=function(){return this.e>this.d.length-2};ge.isNegative=ge.isneg=function(){return this.s<0};ge.isPositive=ge.ispos=function(){return this.s>0};ge.isZero=function(){return this.s===0};ge.lessThan=ge.lt=function(e){return this.cmp(e)<0};ge.lessThanOrEqualTo=ge.lte=function(e){return this.cmp(e)<1};ge.logarithm=ge.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(lr))throw Error(Lr+"NaN");if(n.s<1)throw Error(Lr+(n.s?"NaN":"-Infinity"));return n.eq(lr)?new r(0):(vt=!1,t=Qi(Ec(n,a),Ec(e,a),a),vt=!0,at(t,i))};ge.minus=ge.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?t2(t,e):Zk(t,(e.s=-e.s,e))};ge.modulo=ge.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Lr+"NaN");return n.s?(vt=!1,t=Qi(n,e,0,1).times(e),vt=!0,n.minus(t)):at(new r(n),i)};ge.naturalExponential=ge.exp=function(){return e2(this)};ge.naturalLogarithm=ge.ln=function(){return Ec(this)};ge.negated=ge.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ge.plus=ge.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Zk(t,e):t2(t,(e.s=-e.s,e))};ge.precision=ge.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Vo+e);if(t=Ut(i)+1,r=i.d.length-1,n=r*ft+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ge.squareRoot=ge.sqrt=function(){var e,t,n,r,i,a,l,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(Lr+"NaN")}for(e=Ut(u),vt=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=oi(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Ol((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(i.toString()),n=c.precision,i=l=n+3;;)if(a=r,r=a.plus(Qi(u,a,l+2)).times(.5),oi(a.d).slice(0,l)===(t=oi(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(at(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(t!="9999")break;l+=4}return vt=!0,at(r,n)};ge.times=ge.mul=function(e){var t,n,r,i,a,l,u,c,d,h=this,m=h.constructor,y=h.d,_=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,n=h.e+e.e,c=y.length,d=_.length,c<d&&(a=y,y=_,_=a,l=c,c=d,d=l),a=[],l=c+d,r=l;r--;)a.push(0);for(r=d;--r>=0;){for(t=0,i=c+r;i>r;)u=a[i]+_[r]*y[i-r-1]+t,a[i--]=u%Zt|0,t=u/Zt|0;a[i]=(a[i]+t)%Zt|0}for(;!a[--l];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,vt?at(e,m.precision):e};ge.toDecimalPlaces=ge.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(di(e,0,Nl),t===void 0?t=r.rounding:di(t,0,8),at(n,e+Ut(n)+1,t))};ge.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Wo(r,!0):(di(e,0,Nl),t===void 0?t=i.rounding:di(t,0,8),r=at(new i(r),e+1,t),n=Wo(r,!0,e+1)),n};ge.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?Wo(i):(di(e,0,Nl),t===void 0?t=a.rounding:di(t,0,8),r=at(new a(i),e+Ut(i)+1,t),n=Wo(r.abs(),!1,e+Ut(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ge.toInteger=ge.toint=function(){var e=this,t=e.constructor;return at(new t(e),Ut(e)+1,t.rounding)};ge.toNumber=function(){return+this};ge.toPower=ge.pow=function(e){var t,n,r,i,a,l,u=this,c=u.constructor,d=12,h=+(e=new c(e));if(!e.s)return new c(lr);if(u=new c(u),!u.s){if(e.s<1)throw Error(Lr+"Infinity");return u}if(u.eq(lr))return u;if(r=c.precision,e.eq(lr))return at(u,r);if(t=e.e,n=e.d.length-1,l=t>=n,a=u.s,l){if((n=h<0?-h:h)<=Qk){for(i=new c(lr),t=Math.ceil(r/ft+4),vt=!1;n%2&&(i=i.times(u),bN(i.d,t)),n=Ol(n/2),n!==0;)u=u.times(u),bN(u.d,t);return vt=!0,e.s<0?new c(lr).div(i):at(i,r)}}else if(a<0)throw Error(Lr+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,vt=!1,i=e.times(Ec(u,r+d)),vt=!0,i=e2(i),i.s=a,i};ge.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Ut(i),r=Wo(i,n<=a.toExpNeg||n>=a.toExpPos)):(di(e,1,Nl),t===void 0?t=a.rounding:di(t,0,8),i=at(new a(i),e,t),n=Ut(i),r=Wo(i,e<=n||n<=a.toExpNeg,e)),r};ge.toSignificantDigits=ge.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(di(e,1,Nl),t===void 0?t=r.rounding:di(t,0,8)),at(new r(n),e,t)};ge.toString=ge.valueOf=ge.val=ge.toJSON=ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ut(e),n=e.constructor;return Wo(e,t<=n.toExpNeg||t>=n.toExpPos)};function Zk(e,t){var n,r,i,a,l,u,c,d,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),vt?at(t,m):t;if(c=e.d,d=t.d,l=e.e,i=t.e,c=c.slice(),a=l-i,a){for(a<0?(r=c,a=-a,u=d.length):(r=d,i=l,u=c.length),l=Math.ceil(m/ft),u=l>u?l+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=c.length,a=d.length,u-a<0&&(a=u,r=d,d=c,c=r),n=0;a;)n=(c[--a]=c[a]+d[a]+n)/Zt|0,c[a]%=Zt;for(n&&(c.unshift(n),++i),u=c.length;c[--u]==0;)c.pop();return t.d=c,t.e=i,vt?at(t,m):t}function di(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Vo+e)}function oi(e){var t,n,r,i=e.length-1,a="",l=e[0];if(i>0){for(a+=l,t=1;t<i;t++)r=e[t]+"",n=ft-r.length,n&&(a+=Va(n)),a+=r;l=e[t],r=l+"",n=ft-r.length,n&&(a+=Va(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}var Qi=(function(){function e(r,i){var a,l=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+l,r[u]=a%Zt|0,l=a/Zt|0;return l&&r.unshift(l),r}function t(r,i,a,l){var u,c;if(a!=l)c=a>l?1:-1;else for(u=c=0;u<a;u++)if(r[u]!=i[u]){c=r[u]>i[u]?1:-1;break}return c}function n(r,i,a){for(var l=0;a--;)r[a]-=l,l=r[a]<i[a]?1:0,r[a]=l*Zt+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,l){var u,c,d,h,m,y,_,T,w,E,C,N,P,D,O,R,k,q,G=r.constructor,H=r.s==i.s?1:-1,$=r.d,F=i.d;if(!r.s)return new G(r);if(!i.s)throw Error(Lr+"Division by zero");for(c=r.e-i.e,k=F.length,O=$.length,_=new G(H),T=_.d=[],d=0;F[d]==($[d]||0);)++d;if(F[d]>($[d]||0)&&--c,a==null?N=a=G.precision:l?N=a+(Ut(r)-Ut(i))+1:N=a,N<0)return new G(0);if(N=N/ft+2|0,d=0,k==1)for(h=0,F=F[0],N++;(d<O||h)&&N--;d++)P=h*Zt+($[d]||0),T[d]=P/F|0,h=P%F|0;else{for(h=Zt/(F[0]+1)|0,h>1&&(F=e(F,h),$=e($,h),k=F.length,O=$.length),D=k,w=$.slice(0,k),E=w.length;E<k;)w[E++]=0;q=F.slice(),q.unshift(0),R=F[0],F[1]>=Zt/2&&++R;do h=0,u=t(F,w,k,E),u<0?(C=w[0],k!=E&&(C=C*Zt+(w[1]||0)),h=C/R|0,h>1?(h>=Zt&&(h=Zt-1),m=e(F,h),y=m.length,E=w.length,u=t(m,w,y,E),u==1&&(h--,n(m,k<y?q:F,y))):(h==0&&(u=h=1),m=F.slice()),y=m.length,y<E&&m.unshift(0),n(w,m,E),u==-1&&(E=w.length,u=t(F,w,k,E),u<1&&(h++,n(w,k<E?q:F,E))),E=w.length):u===0&&(h++,w=[0]),T[d++]=h,u&&w[0]?w[E++]=$[D]||0:(w=[$[D]],E=1);while((D++<O||w[0]!==void 0)&&N--)}return T[0]||T.shift(),_.e=c,at(_,l?a+Ut(_)+1:a)}})();function e2(e,t){var n,r,i,a,l,u,c=0,d=0,h=e.constructor,m=h.precision;if(Ut(e)>16)throw Error(bS+Ut(e));if(!e.s)return new h(lr);for(vt=!1,u=m,l=new h(.03125);e.abs().gte(.1);)e=e.times(l),d+=5;for(r=Math.log(Io(2,d))/Math.LN10*2+5|0,u+=r,n=i=a=new h(lr),h.precision=u;;){if(i=at(i.times(e),u),n=n.times(++c),l=a.plus(Qi(i,n,u)),oi(l.d).slice(0,u)===oi(a.d).slice(0,u)){for(;d--;)a=at(a.times(a),u);return h.precision=m,t==null?(vt=!0,at(a,m)):a}a=l}}function Ut(e){for(var t=e.e*ft,n=e.d[0];n>=10;n/=10)t++;return t}function Vv(e,t,n){if(t>e.LN10.sd())throw vt=!0,n&&(e.precision=n),Error(Lr+"LN10 precision limit exceeded");return at(new e(e.LN10),t)}function Va(e){for(var t="";e--;)t+="0";return t}function Ec(e,t){var n,r,i,a,l,u,c,d,h,m=1,y=10,_=e,T=_.d,w=_.constructor,E=w.precision;if(_.s<1)throw Error(Lr+(_.s?"NaN":"-Infinity"));if(_.eq(lr))return new w(0);if(t==null?(vt=!1,d=E):d=t,_.eq(10))return t==null&&(vt=!0),Vv(w,d);if(d+=y,w.precision=d,n=oi(T),r=n.charAt(0),a=Ut(_),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(e),n=oi(_.d),r=n.charAt(0),m++;a=Ut(_),r>1?(_=new w("0."+n),a++):_=new w(r+"."+n.slice(1))}else return c=Vv(w,d+2,E).times(a+""),_=Ec(new w(r+"."+n.slice(1)),d-y).plus(c),w.precision=E,t==null?(vt=!0,at(_,E)):_;for(u=l=_=Qi(_.minus(lr),_.plus(lr),d),h=at(_.times(_),d),i=3;;){if(l=at(l.times(h),d),c=u.plus(Qi(l,new w(i),d)),oi(c.d).slice(0,d)===oi(u.d).slice(0,d))return u=u.times(2),a!==0&&(u=u.plus(Vv(w,d+2,E).times(a+""))),u=Qi(u,new w(m),d),w.precision=E,t==null?(vt=!0,at(u,E)):u;u=c,i+=2}}function vN(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Ol(n/ft),e.d=[],r=(n+1)%ft,n<0&&(r+=ft),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=ft;r<i;)e.d.push(+t.slice(r,r+=ft));t=t.slice(r),r=ft-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),vt&&(e.e>Vh||e.e<-Vh))throw Error(bS+n)}else e.s=0,e.e=0,e.d=[0];return e}function at(e,t,n){var r,i,a,l,u,c,d,h,m=e.d;for(l=1,a=m[0];a>=10;a/=10)l++;if(r=t-l,r<0)r+=ft,i=t,d=m[h=0];else{if(h=Math.ceil((r+1)/ft),a=m.length,h>=a)return e;for(d=a=m[h],l=1;a>=10;a/=10)l++;r%=ft,i=r-ft+l}if(n!==void 0&&(a=Io(10,l-i-1),u=d/a%10|0,c=t<0||m[h+1]!==void 0||d%a,c=n<4?(u||c)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(r>0?i>0?d/Io(10,l-i):0:m[h-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return c?(a=Ut(e),m.length=1,t=t-a-1,m[0]=Io(10,(ft-t%ft)%ft),e.e=Ol(-t/ft)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=h,a=1,h--):(m.length=h+1,a=Io(10,ft-r),m[h]=i>0?(d/Io(10,l-i)%Io(10,i)|0)*a:0),c)for(;;)if(h==0){(m[0]+=a)==Zt&&(m[0]=1,++e.e);break}else{if(m[h]+=a,m[h]!=Zt)break;m[h--]=0,a=1}for(r=m.length;m[--r]===0;)m.pop();if(vt&&(e.e>Vh||e.e<-Vh))throw Error(bS+Ut(e));return e}function t2(e,t){var n,r,i,a,l,u,c,d,h,m,y=e.constructor,_=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),vt?at(t,_):t;if(c=e.d,m=t.d,r=t.e,d=e.e,c=c.slice(),l=d-r,l){for(h=l<0,h?(n=c,l=-l,u=m.length):(n=m,r=d,u=c.length),i=Math.max(Math.ceil(_/ft),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=c.length,u=m.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=m[i]){h=c[i]<m[i];break}l=0}for(h&&(n=c,c=m,m=n,t.s=-t.s),u=c.length,i=m.length-u;i>0;--i)c[u++]=0;for(i=m.length;i>l;){if(c[--i]<m[i]){for(a=i;a&&c[--a]===0;)c[a]=Zt-1;--c[a],c[i]+=Zt}c[i]-=m[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,vt?at(t,_):t):new y(0)}function Wo(e,t,n){var r,i=Ut(e),a=oi(e.d),l=a.length;return t?(n&&(r=n-l)>0?a=a.charAt(0)+"."+a.slice(1)+Va(r):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Va(-i-1)+a,n&&(r=n-l)>0&&(a+=Va(r))):i>=l?(a+=Va(i+1-l),n&&(r=n-i-1)>0&&(a=a+"."+Va(r))):((r=i+1)<l&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(a+="."),a+=Va(r))),e.s<0?"-"+a:a}function bN(e,t){if(e.length>t)return e.length=t,!0}function n2(e){var t,n,r;function i(a){var l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,a instanceof i){l.s=a.s,l.e=a.e,l.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Vo+a);if(a>0)l.s=1;else if(a<0)a=-a,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(a===~~a&&a<1e7){l.e=0,l.d=[a];return}return vN(l,a.toString())}else if(typeof a!="string")throw Error(Vo+a);if(a.charCodeAt(0)===45?(a=a.slice(1),l.s=-1):l.s=1,FZ.test(a))vN(l,a);else throw Error(Vo+a)}if(i.prototype=ge,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=n2,i.config=i.set=HZ,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function HZ(e){if(!e||typeof e!="object")throw Error(Lr+"Object expected");var t,n,r,i=["precision",1,Nl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Ol(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Vo+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Vo+n+": "+r);return this}var _S=n2(BZ);lr=new _S(1);const Ze=_S;var GZ=e=>e,r2={},i2=e=>e===r2,_N=e=>function t(){return arguments.length===0||arguments.length===1&&i2(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},a2=(e,t)=>e===1?t:_N(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(l=>l!==r2).length;return a>=e?t(...r):a2(e-a,_N(function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];var d=r.map(h=>i2(h)?u.shift():h);return t(...d,...u)}))}),VZ=e=>a2(e.length,e),Nb=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},KZ=VZ((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),YZ=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return GZ;var i=n.reverse(),a=i[0],l=i.slice(1);return function(){return l.reduce((u,c)=>c(u),a(...arguments))}},Ob=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function o2(e){var t;return e===0?t=1:t=Math.floor(new Ze(e).abs().log(10).toNumber())+1,t}function s2(e,t,n){for(var r=new Ze(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var l2=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},u2=(e,t,n)=>{if(e.lte(0))return new Ze(0);var r=o2(e.toNumber()),i=new Ze(10).pow(r),a=e.div(i),l=r!==1?.05:.1,u=new Ze(Math.ceil(a.div(l).toNumber())).add(n).mul(l),c=u.mul(i);return t?new Ze(c.toNumber()):new Ze(Math.ceil(c.toNumber()))},WZ=(e,t,n)=>{var r=new Ze(1),i=new Ze(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Ze(10).pow(o2(e)-1),i=new Ze(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Ze(Math.floor(e)))}else e===0?i=new Ze(Math.floor((t-1)/2)):n||(i=new Ze(Math.floor(e)));var l=Math.floor((t-1)/2),u=YZ(KZ(c=>i.add(new Ze(c-l).mul(r)).toNumber()),Nb);return u(0,t)},c2=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Ze(0),tickMin:new Ze(0),tickMax:new Ze(0)};var l=u2(new Ze(n).sub(t).div(r-1),i,a),u;t<=0&&n>=0?u=new Ze(0):(u=new Ze(t).add(n).div(2),u=u.sub(new Ze(u).mod(l)));var c=Math.ceil(u.sub(t).div(l).toNumber()),d=Math.ceil(new Ze(n).sub(u).div(l).toNumber()),h=c+d+1;return h>r?c2(t,n,r,i,a+1):(h<r&&(d=n>0?d+(r-h):d,c=n>0?c:c+(r-h)),{step:l,tickMin:u.sub(new Ze(c).mul(l)),tickMax:u.add(new Ze(d).mul(l))})},JZ=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[u,c]=l2([n,r]);if(u===-1/0||c===1/0){var d=c===1/0?[u,...Nb(0,i-1).map(()=>1/0)]:[...Nb(0,i-1).map(()=>-1/0),c];return n>r?Ob(d):d}if(u===c)return WZ(u,i,a);var{step:h,tickMin:m,tickMax:y}=c2(u,c,l,a,0),_=s2(m,y.add(new Ze(.1).mul(h)),h);return n>r?Ob(_):_},XZ=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=l2([r,i]);if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(n,2),d=u2(new Ze(u).sub(l).div(c-1),a,0),h=[...s2(new Ze(l),new Ze(u),d),u];return a===!1&&(h=h.map(m=>Math.round(m))),r>i?Ob(h):h},QZ=e=>e.rootProps.barCategoryGap,Yp=e=>e.rootProps.stackOffset,f2=e=>e.rootProps.reverseStackOrder,SS=e=>e.options.chartName,TS=e=>e.rootProps.syncId,d2=e=>e.rootProps.syncMethod,ES=e=>e.options.eventEmitter,_n={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Gi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},or={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Wp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},ZZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Gi.angleAxisId,includeHidden:!1,name:void 0,reversed:Gi.reversed,scale:Gi.scale,tick:Gi.tick,tickCount:void 0,ticks:void 0,type:Gi.type,unit:void 0},eee={allowDataOverflow:or.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:or.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:or.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:or.scale,tick:or.tick,tickCount:or.tickCount,ticks:void 0,type:or.type,unit:void 0},tee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Gi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Gi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Gi.scale,tick:Gi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},nee={allowDataOverflow:or.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:or.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:or.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:or.scale,tick:or.tick,tickCount:or.tickCount,ticks:void 0,type:"category",unit:void 0},wS=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?tee:ZZ,xS=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?nee:eee,Jp=e=>e.polarOptions,AS=Z([ga,ya,hn],XJ),h2=Z([Jp,AS],(e,t)=>{if(e!=null)return eo(e.innerRadius,t,0)}),p2=Z([Jp,AS],(e,t)=>{if(e!=null)return eo(e.outerRadius,t,t*.8)}),ree=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},m2=Z([Jp],ree);Z([wS,m2],Wp);var g2=Z([AS,h2,p2],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});Z([xS,g2],Wp);var y2=Z([ht,Jp,h2,p2,ga,ya],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:l,cy:u,startAngle:c,endAngle:d}=t;return{cx:eo(l,i,i/2),cy:eo(u,a,a/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:d,clockWise:!1}}}),Bt=(e,t)=>t,Xp=(e,t,n)=>n;function v2(e){return e?.id}function b2(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,l=new Map;return e.forEach(u=>{var c,d=(c=u.data)!==null&&c!==void 0?c:r;if(!(d==null||d.length===0)){var h=v2(u);d.forEach((m,y)=>{var _=a==null||i?y:String(Sn(m,a,null)),T=Sn(m,u.dataKey,0),w;l.has(_)?w=l.get(_):w={},Object.assign(w,{[h]:T}),l.set(_,w)})}}),Array.from(l.values())}function CS(e){return e.stackId!=null&&e.dataKey!=null}var Qp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Zp(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function iee(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Ft=e=>{var t=ht(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Il=e=>e.tooltip.settings.axisId;function SN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SN(Object(n),!0).forEach(function(r){aee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aee(e,t,n){return(t=oee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oee(e){var t=see(e,"string");return typeof t=="symbol"?t:t+""}function see(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ib=[0,"auto"],Jt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},_2=(e,t)=>e.cartesianAxis.xAxis[t],pi=(e,t)=>{var n=_2(e,t);return n??Jt},Xt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Ib,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:jc},S2=(e,t)=>e.cartesianAxis.yAxis[t],mi=(e,t)=>{var n=S2(e,t);return n??Xt},lee={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},MS=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??lee},Pn=(e,t,n)=>{switch(t){case"xAxis":return pi(e,n);case"yAxis":return mi(e,n);case"zAxis":return MS(e,n);case"angleAxis":return wS(e,n);case"radiusAxis":return xS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},uee=(e,t,n)=>{switch(t){case"xAxis":return pi(e,n);case"yAxis":return mi(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Gc=(e,t,n)=>{switch(t){case"xAxis":return pi(e,n);case"yAxis":return mi(e,n);case"angleAxis":return wS(e,n);case"radiusAxis":return xS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},T2=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function E2(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var w2=e=>e.graphicalItems.cartesianItems,cee=Z([Bt,Xp],E2),x2=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),Vc=Z([w2,Pn,cee],x2,{memoizeOptions:{resultEqualityCheck:Zp}}),A2=Z([Vc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(CS)),C2=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),fee=Z([Vc],C2),M2=e=>e.map(t=>t.data).filter(Boolean).flat(1),dee=Z([Vc],M2,{memoizeOptions:{resultEqualityCheck:Zp}}),P2=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},PS=Z([dee,vS],P2),N2=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:Sn(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Sn(i,r)}))):e.map(r=>({value:r})),em=Z([PS,Pn,Vc],N2);function O2(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Jd(e){if(Rr(e)||e instanceof Date){var t=Number(e);if(wt(t))return t}}function TN(e){if(Array.isArray(e)){var t=[Jd(e[0]),Jd(e[1])];return to(t)?t:void 0}var n=Jd(e);if(n!=null)return[n,n]}function ca(e){return e.map(Jd).filter(rY)}function hee(e,t,n){return!n||typeof t!="number"||Dr(t)?[]:n.length?ca(n.flatMap(r=>{var i=Sn(e,r.dataKey),a,l;if(Array.isArray(i)?[a,l]=i:a=l=i,!(!wt(a)||!wt(l)))return[t-a,t+l]})):[]}var Ht=e=>{var t=Ft(e),n=Il(e);return Gc(e,t,n)},Kc=Z([Ht],e=>e?.dataKey),pee=Z([A2,vS,Ht],b2),I2=(e,t,n,r)=>{var i={},a=t.reduce((l,u)=>(u.stackId==null||(l[u.stackId]==null&&(l[u.stackId]=[]),l[u.stackId].push(u)),l),i);return Object.fromEntries(Object.entries(a).map(l=>{var[u,c]=l,d=r?[...c].reverse():c,h=d.map(v2);return[u,{stackedData:P7(e,h,n),graphicalItems:d}]}))},mee=Z([pee,A2,Yp,f2],I2),D2=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var l=I7(e,i,a);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},gee=Z([Pn],e=>e.allowDataOverflow),NS=e=>{var t;if(e==null||!("domain"in e))return Ib;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=ca(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Ib},R2=Z([Pn],NS),k2=Z([R2,gee],Xk),yee=Z([mee,lo,Bt,k2],D2,{memoizeOptions:{resultEqualityCheck:Qp}}),OS=e=>e.errorBars,vee=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>O2(n,r)),Yh=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),l=Math.min(...a),u=Math.max(...a);return[l,u]}},L2=(e,t,n,r,i)=>{var a,l;if(n.length>0&&e.forEach(u=>{n.forEach(c=>{var d,h,m=(d=r[c.id])===null||d===void 0?void 0:d.filter(C=>O2(i,C)),y=Sn(u,(h=t.dataKey)!==null&&h!==void 0?h:c.dataKey),_=hee(u,y,m);if(_.length>=2){var T=Math.min(..._),w=Math.max(..._);(a==null||T<a)&&(a=T),(l==null||w>l)&&(l=w)}var E=TN(y);E!=null&&(a=a==null?E[0]:Math.min(a,E[0]),l=l==null?E[1]:Math.max(l,E[1]))})}),t?.dataKey!=null&&e.forEach(u=>{var c=TN(Sn(u,t.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),l=l==null?c[1]:Math.max(l,c[1]))}),wt(a)&&wt(l))return[a,l]},bee=Z([PS,Pn,fee,OS,Bt],L2,{memoizeOptions:{resultEqualityCheck:Qp}});function _ee(e){var{value:t}=e;if(Rr(t)||t instanceof Date)return t}var See=(e,t,n)=>{var r=e.map(_ee).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&VD(r))?gk(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},U2=e=>e.referenceElements.dots,Dl=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),Tee=Z([U2,Bt,Xp],Dl),j2=e=>e.referenceElements.areas,Eee=Z([j2,Bt,Xp],Dl),q2=e=>e.referenceElements.lines,wee=Z([q2,Bt,Xp],Dl),z2=(e,t)=>{var n=ca(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},xee=Z(Tee,Bt,z2),$2=(e,t)=>{var n=ca(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Aee=Z([Eee,Bt],$2);function Cee(e){var t;if(e.x!=null)return ca([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:ca(n)}function Mee(e){var t;if(e.y!=null)return ca([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:ca(n)}var B2=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?Cee(r):Mee(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Pee=Z([wee,Bt],B2),Nee=Z(xee,Pee,Aee,(e,t,n)=>Yh(e,n,t)),F2=(e,t,n,r,i,a,l,u)=>{if(n!=null)return n;var c=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",d=c?Yh(r,a,i):Yh(a,i);return $Z(t,d,e.allowDataOverflow)},Oee=Z([Pn,R2,k2,yee,bee,Nee,ht,Bt],F2,{memoizeOptions:{resultEqualityCheck:Qp}}),Iee=[0,1],H2=(e,t,n,r,i,a,l)=>{if(!((e==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:c}=e,d=ao(t,a);if(d&&u==null){var h;return gk(0,(h=n?.length)!==null&&h!==void 0?h:0)}return c==="category"?See(r,e,d):i==="expand"?Iee:l}},IS=Z([Pn,ht,PS,em,Yp,Bt,Oee],H2),G2=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:l}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof a=="string"){var u="scale".concat(Dc(a));return u in Xu?u:"point"}}},Yc=Z([Pn,ht,T2,SS,Bt],G2);function Dee(e){if(e!=null){if(e in Xu)return Xu[e]();var t="scale".concat(Dc(e));if(t in Xu)return Xu[t]()}}function DS(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=Dee(t);if(i!=null){var a=i.domain(n).range(r);return x7(a),a}}}var V2=(e,t,n)=>{var r=NS(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&to(e))return JZ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&to(e))return XZ(e,t.tickCount,t.allowDecimals)}},RS=Z([IS,Gc,Yc],V2),K2=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&to(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],l=t[1],u=n[n.length-1];return[Math.min(i,a),Math.max(l,u)]}return t},Ree=Z([Pn,IS,RS,Bt],K2),kee=Z(em,Pn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(ca(e.map(u=>u.value))).sort((u,c)=>u-c);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var l=r[a+1]-r[a];n=Math.min(n,l)}return n/i}}),Y2=Z(kee,ht,QZ,hn,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!wt(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var l=eo(n,e*a),u=e*a/2;return u-l-(u-l)/a*l}return 0}),Lee=(e,t)=>{var n=pi(e,t);return n==null||typeof n.padding!="string"?0:Y2(e,"xAxis",t,n.padding)},Uee=(e,t)=>{var n=mi(e,t);return n==null||typeof n.padding!="string"?0:Y2(e,"yAxis",t,n.padding)},jee=Z(pi,Lee,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),qee=Z(mi,Uee,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),zee=Z([hn,jee,Lp,kp,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),$ee=Z([hn,ht,qee,Lp,kp,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:l}=i;return a?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Wc=(e,t,n,r)=>{var i;switch(t){case"xAxis":return zee(e,n,r);case"yAxis":return $ee(e,n,r);case"zAxis":return(i=MS(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return m2(e);case"radiusAxis":return g2(e,n);default:return}},W2=Z([Pn,Wc],Wp),no=Z([Pn,Yc,Ree,W2],DS);Z([Vc,OS,Bt],vee);function J2(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var tm=(e,t)=>t,nm=(e,t,n)=>n,Bee=Z(Dp,tm,nm,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(J2)),Fee=Z(Rp,tm,nm,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(J2)),X2=(e,t)=>({width:e.width,height:t.height}),Hee=(e,t)=>{var n=typeof t.width=="number"?t.width:jc;return{width:n,height:e.height}},Gee=Z(hn,pi,X2),Vee=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Kee=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Yee=Z(ya,hn,Bee,tm,nm,(e,t,n,r,i)=>{var a={},l;return n.forEach(u=>{var c=X2(t,u);l==null&&(l=Vee(t,r,e));var d=r==="top"&&!i||r==="bottom"&&i;a[u.id]=l-Number(d)*c.height,l+=(d?-1:1)*c.height}),a}),Wee=Z(ga,hn,Fee,tm,nm,(e,t,n,r,i)=>{var a={},l;return n.forEach(u=>{var c=Hee(t,u);l==null&&(l=Kee(t,r,e));var d=r==="left"&&!i||r==="right"&&i;a[u.id]=l-Number(d)*c.width,l+=(d?-1:1)*c.width}),a}),Jee=(e,t)=>{var n=pi(e,t);if(n!=null)return Yee(e,n.orientation,n.mirror)},Xee=Z([hn,pi,Jee,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),Qee=(e,t)=>{var n=mi(e,t);if(n!=null)return Wee(e,n.orientation,n.mirror)},Zee=Z([hn,mi,Qee,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),ete=Z(hn,mi,(e,t)=>{var n=typeof t.width=="number"?t.width:jc;return{width:n,height:e.height}}),Q2=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:l}=n,u=ao(e,r),c=t.map(d=>d.value);if(l&&u&&a==="category"&&i&&VD(c))return c}},kS=Z([ht,em,Pn,Bt],Q2),Z2=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,l=ao(e,r);if(l&&(i==="number"||a!=="auto"))return t.map(u=>u.value)}},LS=Z([ht,em,Gc,Bt],Z2),EN=Z([ht,uee,Yc,no,kS,LS,Wc,RS,Bt],(e,t,n,r,i,a,l,u,c)=>{if(t!=null){var d=ao(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:u,range:l,realScaleType:n,scale:r}}}),tte=(e,t,n,r,i,a,l,u,c)=>{if(!(t==null||r==null)){var d=ao(e,c),{type:h,ticks:m,tickCount:y}=t,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,T=h==="category"&&r.bandwidth?r.bandwidth()/_:0;T=c==="angleAxis"&&a!=null&&a.length>=2?Pr(a[0]-a[1])*2*T:T;var w=m||i;if(w){var E=w.map((C,N)=>{var P=l?l.indexOf(C):C;return{index:N,coordinate:r(P)+T,value:C,offset:T}});return E.filter(C=>wt(C.coordinate))}return d&&u?u.map((C,N)=>({coordinate:r(C)+T,value:C,index:N,offset:T})).filter(C=>wt(C.coordinate)):r.ticks?r.ticks(y).map(C=>({coordinate:r(C)+T,value:C,offset:T})):r.domain().map((C,N)=>({coordinate:r(C)+T,value:l?l[C]:C,index:N,offset:T}))}},eL=Z([ht,Gc,Yc,no,RS,Wc,kS,LS,Bt],tte),nte=(e,t,n,r,i,a,l)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=ao(e,l),{tickCount:c}=t,d=0;return d=l==="angleAxis"&&r?.length>=2?Pr(r[0]-r[1])*2*d:d,u&&a?a.map((h,m)=>({coordinate:n(h)+d,value:h,index:m,offset:d})):n.ticks?n.ticks(c).map(h=>({coordinate:n(h)+d,value:h,offset:d})):n.domain().map((h,m)=>({coordinate:n(h)+d,value:i?i[h]:h,index:m,offset:d}))}},tL=Z([ht,Gc,no,Wc,kS,LS,Bt],nte),nL=Z(Pn,no,(e,t)=>{if(!(e==null||t==null))return Kh(Kh({},e),{},{scale:t})}),rte=Z([Pn,Yc,IS,W2],DS);Z((e,t,n)=>MS(e,n),rte,(e,t)=>{if(!(e==null||t==null))return Kh(Kh({},e),{},{scale:t})});var ite=Z([ht,Dp,Rp],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),rL=e=>e.options.defaultTooltipEventType,iL=e=>e.options.validateTooltipEventTypes;function aL(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function US(e,t){var n=rL(e),r=iL(e);return aL(t,n,r)}function ate(e){return _e(t=>US(t,e))}var oL=(e,t)=>{var n,r=Number(t);if(!(Dr(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},ote=e=>e.tooltip.settings,Wa={active:!1,index:null,dataKey:void 0,coordinate:void 0},ste={itemInteraction:{click:Wa,hover:Wa},axisInteraction:{click:Wa,hover:Wa},keyboardInteraction:Wa,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},sL=Vn({name:"tooltip",initialState:ste,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:yt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Kr(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:yt()},removeTooltipEntrySettings:{reducer(e,t){var n=Kr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:yt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:lte,replaceTooltipEntrySettings:ute,removeTooltipEntrySettings:cte,setTooltipSettingsState:fte,setActiveMouseOverItemIndex:dte,mouseLeaveItem:iue,mouseLeaveChart:lL,setActiveClickItemIndex:aue,setMouseOverAxisIndex:uL,setMouseClickAxisIndex:hte,setSyncInteraction:Db,setKeyboardInteraction:Rb}=sL.actions,pte=sL.reducer;function wN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wN(Object(n),!0).forEach(function(r){mte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mte(e,t,n){return(t=gte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gte(e){var t=yte(e,"string");return typeof t=="symbol"?t:t+""}function yte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vte(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function bte(e){return e.index!=null}var cL=(e,t,n,r)=>{if(t==null)return Wa;var i=vte(e,t,n);if(i==null)return Wa;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(bte(i)){if(a)return Rd(Rd({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Rd(Rd({},Wa),{},{coordinate:i.coordinate})};function _te(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function Ste(e,t){var n=_te(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),l=Math.max(r,i);return n>=a&&n<=l}function Tte(e,t,n){if(n==null||t==null)return!0;var r=Sn(e,t);return r==null||!to(n)?!0:Ste(r,n)}var jS=(e,t,n,r)=>{var i=e?.index;if(i==null)return null;var a=Number(i);if(!wt(a))return i;var l=0,u=1/0;t.length>0&&(u=t.length-1);var c=Math.max(l,Math.min(a,u)),d=t[c];return d==null||Tte(d,n,r)?String(c):null},fL=(e,t,n,r,i,a,l,u)=>{if(!(a==null||u==null)){var c=l[0],d=c==null?void 0:u(c.positions,a);if(d!=null)return d;var h=i?.[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},dL=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var l;return((l=a.settings)===null||l===void 0?void 0:l.dataKey)===i})},Jc=e=>e.options.tooltipPayloadSearcher,Rl=e=>e.tooltip;function xN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function AN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(n),!0).forEach(function(r){Ete(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ete(e,t,n){return(t=wte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wte(e){var t=xte(e,"string");return typeof t=="symbol"?t:t+""}function xte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ate(e,t){return e??t}var hL=(e,t,n,r,i,a,l)=>{if(!(t==null||a==null)){var{chartData:u,computedData:c,dataStartIndex:d,dataEndIndex:h}=n,m=[];return e.reduce((y,_)=>{var T,{dataDefinedOnItem:w,settings:E}=_,C=Ate(w,u),N=Array.isArray(C)?$R(C,d,h):C,P=(T=E?.dataKey)!==null&&T!==void 0?T:r,D=E?.nameKey,O;if(r&&Array.isArray(N)&&!Array.isArray(N[0])&&l==="axis"?O=KD(N,r,i):O=a(N,t,c,D),Array.isArray(O))O.forEach(k=>{var q=AN(AN({},E),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});y.push(KM({tooltipEntrySettings:q,dataKey:k.dataKey,payload:k.payload,value:Sn(k.payload,k.dataKey),name:k.name}))});else{var R;y.push(KM({tooltipEntrySettings:E,dataKey:P,payload:O,value:Sn(O,P),name:(R=Sn(O,D))!==null&&R!==void 0?R:E?.name}))}return y},m)}},qS=Z([Ht,ht,T2,SS,Ft],G2),Cte=Z([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Mte=Z([Ft,Il],E2),Xc=Z([Cte,Ht,Mte],x2,{memoizeOptions:{resultEqualityCheck:Zp}}),Pte=Z([Xc],e=>e.filter(CS)),Nte=Z([Xc],M2,{memoizeOptions:{resultEqualityCheck:Zp}}),kl=Z([Nte,lo],P2),Ote=Z([Pte,lo,Ht],b2),zS=Z([kl,Ht,Xc],N2),pL=Z([Ht],NS),Ite=Z([Ht],e=>e.allowDataOverflow),mL=Z([pL,Ite],Xk),Dte=Z([Xc],e=>e.filter(CS)),Rte=Z([Ote,Dte,Yp,f2],I2),kte=Z([Rte,lo,Ft,mL],D2),Lte=Z([Xc],C2),Ute=Z([kl,Ht,Lte,OS,Ft],L2,{memoizeOptions:{resultEqualityCheck:Qp}}),jte=Z([U2,Ft,Il],Dl),qte=Z([jte,Ft],z2),zte=Z([j2,Ft,Il],Dl),$te=Z([zte,Ft],$2),Bte=Z([q2,Ft,Il],Dl),Fte=Z([Bte,Ft],B2),Hte=Z([qte,Fte,$te],Yh),Gte=Z([Ht,pL,mL,kte,Ute,Hte,ht,Ft],F2),Qc=Z([Ht,ht,kl,zS,Yp,Ft,Gte],H2),Vte=Z([Qc,Ht,qS],V2),Kte=Z([Ht,Qc,Vte,Ft],K2),gL=e=>{var t=Ft(e),n=Il(e),r=!1;return Wc(e,t,n,r)},yL=Z([Ht,gL],Wp),vL=Z([Ht,qS,Kte,yL],DS),Yte=Z([ht,zS,Ht,Ft],Q2),Wte=Z([ht,zS,Ht,Ft],Z2),Jte=(e,t,n,r,i,a,l,u)=>{if(t){var{type:c}=t,d=ao(e,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=c==="category"&&r.bandwidth?r.bandwidth()/h:0;return m=u==="angleAxis"&&i!=null&&i?.length>=2?Pr(i[0]-i[1])*2*m:m,d&&l?l.map((y,_)=>({coordinate:r(y)+m,value:y,index:_,offset:m})):r.domain().map((y,_)=>({coordinate:r(y)+m,value:a?a[y]:y,index:_,offset:m}))}}},ba=Z([ht,Ht,qS,vL,gL,Yte,Wte,Ft],Jte),$S=Z([rL,iL,ote],(e,t,n)=>aL(n.shared,e,t)),bL=e=>e.tooltip.settings.trigger,BS=e=>e.tooltip.settings.defaultIndex,rm=Z([Rl,$S,bL,BS],cL),wc=Z([rm,kl,Kc,Qc],jS),_L=Z([ba,wc],oL),Xte=Z([rm],e=>{if(e)return e.dataKey}),SL=Z([Rl,$S,bL,BS],dL),Qte=Z([ga,ya,ht,hn,ba,BS,SL,Jc],fL),Zte=Z([rm,Qte],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),ene=Z([rm],e=>e.active),tne=Z([SL,wc,lo,Kc,_L,Jc,$S],hL),nne=Z([tne],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function CN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CN(Object(n),!0).forEach(function(r){rne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rne(e,t,n){return(t=ine(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ine(e){var t=ane(e,"string");return typeof t=="symbol"?t:t+""}function ane(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var one=()=>_e(Ht),sne=()=>{var e=one(),t=_e(ba),n=_e(vL);return Ch(!e||!n?void 0:MN(MN({},e),{},{scale:n}),t)};function PN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PN(Object(n),!0).forEach(function(r){lne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lne(e,t,n){return(t=une(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function une(e){var t=cne(e,"string");return typeof t=="symbol"?t:t+""}function cne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fne=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},dne=(e,t,n,r)=>{var i=t.find(d=>d&&d.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:l}=r;return Fs(Fs(Fs({},r),fn(r.cx,r.cy,l,a)),{},{angle:a,radius:l})}var u=i.coordinate,{angle:c}=r;return Fs(Fs(Fs({},r),fn(r.cx,r.cy,u,c)),{},{angle:c,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function hne(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var TL=(e,t,n,r,i)=>{var a,l=-1,u=(a=t?.length)!==null&&a!==void 0?a:0;if(u<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<u;c++){var d=c>0?n[c-1].coordinate:n[u-1].coordinate,h=n[c].coordinate,m=c>=u-1?n[0].coordinate:n[c+1].coordinate,y=void 0;if(Pr(h-d)!==Pr(m-h)){var _=[];if(Pr(m-h)===Pr(i[1]-i[0])){y=m;var T=h+i[1]-i[0];_[0]=Math.min(T,(T+d)/2),_[1]=Math.max(T,(T+d)/2)}else{y=d;var w=m+i[1]-i[0];_[0]=Math.min(h,(w+h)/2),_[1]=Math.max(h,(w+h)/2)}var E=[Math.min(h,(y+h)/2),Math.max(h,(y+h)/2)];if(e>E[0]&&e<=E[1]||e>=_[0]&&e<=_[1]){({index:l}=n[c]);break}}else{var C=Math.min(d,m),N=Math.max(d,m);if(e>(C+h)/2&&e<=(N+h)/2){({index:l}=n[c]);break}}}else if(t){for(var P=0;P<u;P++)if(P===0&&e<=(t[P].coordinate+t[P+1].coordinate)/2||P>0&&P<u-1&&e>(t[P].coordinate+t[P-1].coordinate)/2&&e<=(t[P].coordinate+t[P+1].coordinate)/2||P===u-1&&e>(t[P].coordinate+t[P-1].coordinate)/2){({index:l}=t[P]);break}}return l},pne=()=>_e(SS),FS=(e,t)=>t,EL=(e,t,n)=>n,HS=(e,t,n,r)=>r,mne=Z(ba,e=>wp(e,t=>t.coordinate)),GS=Z([Rl,FS,EL,HS],cL),VS=Z([GS,kl,Kc,Qc],jS),gne=(e,t,n)=>{if(t!=null){var r=Rl(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},wL=Z([Rl,FS,EL,HS],dL),Wh=Z([ga,ya,ht,hn,ba,HS,wL,Jc],fL),yne=Z([GS,Wh],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),xL=Z([ba,VS],oL),vne=Z([wL,VS,lo,Kc,xL,Jc,FS],hL),bne=Z([GS,VS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),_ne=(e,t,n,r,i,a,l)=>{if(!(!e||!n||!r||!i)&&hne(e,l)){var u=D7(e,t),c=TL(u,a,i,n,r),d=fne(t,i,c,e);return{activeIndex:String(c),activeCoordinate:d}}},Sne=(e,t,n,r,i,a,l)=>{if(!(!e||!r||!i||!a||!n)){var u=nX(e,n);if(u){var c=R7(u,t),d=TL(c,l,a,r,i),h=dne(t,a,d,u);return{activeIndex:String(d),activeCoordinate:h}}}},Tne=(e,t,n,r,i,a,l,u)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?_ne(e,t,r,i,a,l,u):Sne(e,t,n,r,i,a,l)},Ene=Z(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),wne=Z(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(_n)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:iee}});function NN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ON(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NN(Object(n),!0).forEach(function(r){xne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xne(e,t,n){return(t=Ane(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ane(e){var t=Cne(e,"string");return typeof t=="symbol"?t:t+""}function Cne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mne={},Pne={zIndexMap:Object.values(_n).reduce((e,t)=>ON(ON({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Mne)},Nne=new Set(Object.values(_n));function One(e){return Nne.has(e)}var AL=Vn({name:"zIndex",initialState:Pne,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:yt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!One(n)&&delete e.zIndexMap[n])},prepare:yt()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:yt()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:yt()}}}),{registerZIndexPortal:Ine,unregisterZIndexPortal:Dne,registerZIndexPortalId:Rne,unregisterZIndexPortalId:kne}=AL.actions,Lne=AL.reducer;function gi(e){var{zIndex:t,children:n}=e,r=pW(),i=r&&t!==void 0&&t!==0,a=Mn(),l=Pt();x.useLayoutEffect(()=>i?(l(Ine({zIndex:t})),()=>{l(Dne({zIndex:t}))}):Rc,[l,t,i]);var u=_e(d=>Ene(d,t,a));if(!i)return n;if(!u)return null;var c=document.getElementById(u);return c?Wb.createPortal(n,c):null}function kb(){return kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kb.apply(null,arguments)}function IN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(n),!0).forEach(function(r){Une(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Une(e,t,n){return(t=jne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jne(e){var t=qne(e,"string");return typeof t=="symbol"?t:t+""}function qne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zne(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return x.isValidElement(t)?x.cloneElement(t,r):x.createElement(n,r)}function $ne(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:l,layout:u,cursor:c,tooltipEventType:d,chartName:h}=e,m=n,y=r,_=i;if(!c||!m||h!=="ScatterChart"&&d!=="axis")return null;var T,w,E;if(h==="ScatterChart")T=m,w=yJ,E=_n.cursorLine;else if(h==="BarChart")T=vJ(u,m,a,l),w=dk,E=_n.cursorRectangle;else if(u==="radial"&&WD(m)){var{cx:C,cy:N,radius:P,startAngle:D,endAngle:O}=hk(m);T={cx:C,cy:N,startAngle:D,endAngle:O,innerRadius:P,outerRadius:P},w=mk,E=_n.cursorLine}else T={points:oX(u,m,a)},w=sk,E=_n.cursorLine;var R=typeof c=="object"&&"className"in c?c.className:void 0,k=kd(kd(kd(kd({stroke:"#ccc",pointerEvents:"none"},a),T),bp(c)),{},{payload:y,payloadIndex:_,className:et("recharts-tooltip-cursor",R)});return x.createElement(gi,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:E},x.createElement(zne,{cursor:c,cursorComp:w,cursorProps:k}))}function Bne(e){var t=sne(),n=XR(),r=Up(),i=pne();return t==null||n==null||r==null||i==null?null:x.createElement($ne,kb({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var CL=x.createContext(null),Fne=()=>x.useContext(CL),Kv={exports:{}},DN;function Hne(){return DN||(DN=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function a(c,d,h,m,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var _=new i(h,m||c,y),T=n?n+d:d;return c._events[T]?c._events[T].fn?c._events[T]=[c._events[T],_]:c._events[T].push(_):(c._events[T]=_,c._eventsCount++),c}function l(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)t.call(h,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},u.prototype.listeners=function(d){var h=n?n+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,_=m.length,T=new Array(_);y<_;y++)T[y]=m[y].fn;return T},u.prototype.listenerCount=function(d){var h=n?n+d:d,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(d,h,m,y,_,T){var w=n?n+d:d;if(!this._events[w])return!1;var E=this._events[w],C=arguments.length,N,P;if(E.fn){switch(E.once&&this.removeListener(d,E.fn,void 0,!0),C){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,h),!0;case 3:return E.fn.call(E.context,h,m),!0;case 4:return E.fn.call(E.context,h,m,y),!0;case 5:return E.fn.call(E.context,h,m,y,_),!0;case 6:return E.fn.call(E.context,h,m,y,_,T),!0}for(P=1,N=new Array(C-1);P<C;P++)N[P-1]=arguments[P];E.fn.apply(E.context,N)}else{var D=E.length,O;for(P=0;P<D;P++)switch(E[P].once&&this.removeListener(d,E[P].fn,void 0,!0),C){case 1:E[P].fn.call(E[P].context);break;case 2:E[P].fn.call(E[P].context,h);break;case 3:E[P].fn.call(E[P].context,h,m);break;case 4:E[P].fn.call(E[P].context,h,m,y);break;default:if(!N)for(O=1,N=new Array(C-1);O<C;O++)N[O-1]=arguments[O];E[P].fn.apply(E[P].context,N)}}return!0},u.prototype.on=function(d,h,m){return a(this,d,h,m,!1)},u.prototype.once=function(d,h,m){return a(this,d,h,m,!0)},u.prototype.removeListener=function(d,h,m,y){var _=n?n+d:d;if(!this._events[_])return this;if(!h)return l(this,_),this;var T=this._events[_];if(T.fn)T.fn===h&&(!y||T.once)&&(!m||T.context===m)&&l(this,_);else{for(var w=0,E=[],C=T.length;w<C;w++)(T[w].fn!==h||y&&!T[w].once||m&&T[w].context!==m)&&E.push(T[w]);E.length?this._events[_]=E.length===1?E[0]:E:l(this,_)}return this},u.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&l(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(Kv)),Kv.exports}var Gne=Hne();const Vne=fa(Gne);var xc=new Vne,Lb="recharts.syncEvent.tooltip",RN="recharts.syncEvent.brush";function Kne(e,t){if(t){var n=Number.parseInt(t,10);if(!Dr(n))return e?.[n]}}var Yne={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},ML=Vn({name:"options",initialState:Yne,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Wne=ML.reducer,{createEventEmitter:Jne}=ML.actions;function Xne(e){return e.tooltip.syncInteraction}var Qne={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},PL=Vn({name:"chartData",initialState:Qne,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:kN,setDataStartEndIndexes:Zne,setComputedData:oue}=PL.actions,ere=PL.reducer,tre=["x","y"];function LN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LN(Object(n),!0).forEach(function(r){nre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nre(e,t,n){return(t=rre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rre(e){var t=ire(e,"string");return typeof t=="symbol"?t:t+""}function ire(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function are(e,t){if(e==null)return{};var n,r,i=ore(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ore(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function sre(){var e=_e(TS),t=_e(ES),n=Pt(),r=_e(d2),i=_e(ba),a=Up(),l=qc(),u=_e(c=>c.rootProps.className);x.useEffect(()=>{if(e==null)return Rc;var c=(d,h,m)=>{if(t!==m&&e===d){if(r==="index"){var y;if(l&&h!==null&&h!==void 0&&(y=h.payload)!==null&&y!==void 0&&y.coordinate&&h.payload.sourceViewBox){var _=h.payload.coordinate,{x:T,y:w}=_,E=are(_,tre),{x:C,y:N,width:P,height:D}=h.payload.sourceViewBox,O=Hs(Hs({},E),{},{x:l.x+(P?(T-C)/P:0)*l.width,y:l.y+(D?(w-N)/D:0)*l.height});n(Hs(Hs({},h),{},{payload:Hs(Hs({},h.payload),{},{coordinate:O})}))}else n(h);return}if(i!=null){var R;if(typeof r=="function"){var k={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},q=r(i,k);R=i[q]}else r==="value"&&(R=i.find(B=>String(B.value)===h.payload.label));var{coordinate:G}=h.payload;if(R==null||h.payload.active===!1||G==null||l==null){n(Db({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:H,y:$}=G,F=Math.min(H,l.x+l.width),fe=Math.min($,l.y+l.height),me={x:a==="horizontal"?R.coordinate:F,y:a==="horizontal"?fe:R.coordinate},Se=Db({active:h.payload.active,coordinate:me,dataKey:h.payload.dataKey,index:String(R.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox});n(Se)}}};return xc.on(Lb,c),()=>{xc.off(Lb,c)}},[u,n,t,e,r,i,a,l])}function lre(){var e=_e(TS),t=_e(ES),n=Pt();x.useEffect(()=>{if(e==null)return Rc;var r=(i,a,l)=>{t!==l&&e===i&&n(Zne(a))};return xc.on(RN,r),()=>{xc.off(RN,r)}},[n,t,e])}function ure(){var e=Pt();x.useEffect(()=>{e(Jne())},[e]),sre(),lre()}function cre(e,t,n,r,i,a){var l=_e(_=>gne(_,e,t)),u=_e(ES),c=_e(TS),d=_e(d2),h=_e(Xne),m=h?.active,y=qc();x.useEffect(()=>{if(!m&&c!=null&&u!=null){var _=Db({active:a,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:y});xc.emit(Lb,c,_,u)}},[m,n,l,i,r,u,c,d,a,y])}function UN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UN(Object(n),!0).forEach(function(r){fre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fre(e,t,n){return(t=dre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dre(e){var t=hre(e,"string");return typeof t=="symbol"?t:t+""}function hre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pre(e){return e.dataKey}function mre(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(WW,t)}var qN=[],gre={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ml.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function yre(e){var t,n,r=dn(e,gre),{active:i,allowEscapeViewBox:a,animationDuration:l,animationEasing:u,content:c,filterNull:d,isAnimationActive:h,offset:m,payloadUniqBy:y,position:_,reverseDirection:T,useTranslate3d:w,wrapperStyle:E,cursor:C,shared:N,trigger:P,defaultIndex:D,portal:O,axisId:R}=r,k=Pt(),q=typeof D=="number"?String(D):D;x.useEffect(()=>{k(fte({shared:N,trigger:P,axisId:R,active:i,defaultIndex:q}))},[k,N,P,R,i,q]);var G=qc(),H=ok(),$=ate(N),{activeIndex:F,isActive:fe}=(t=_e(Ee=>bne(Ee,$,P,q)))!==null&&t!==void 0?t:{},me=_e(Ee=>vne(Ee,$,P,q)),Se=_e(Ee=>xL(Ee,$,P,q)),B=_e(Ee=>yne(Ee,$,P,q)),ne=me,le=Fne(),ue=(n=i??fe)!==null&&n!==void 0?n:!1,[Me,U]=fR([ne,ue]),X=$==="axis"?Se:void 0;cre($,P,B,X,F,ue);var se=O??le;if(se==null||G==null||$==null)return null;var ce=ne??qN;ue||(ce=qN),d&&ce.length&&(ce=oR(ce.filter(Ee=>Ee.value!=null&&(Ee.hide!==!0||r.includeHidden)),y,pre));var re=ce.length>0,he=x.createElement(nJ,{allowEscapeViewBox:a,animationDuration:l,animationEasing:u,isAnimationActive:h,active:ue,coordinate:B,hasPayload:re,offset:m,position:_,reverseDirection:T,useTranslate3d:w,viewBox:G,wrapperStyle:E,lastBoundingBox:Me,innerRef:U,hasPortalFromProps:!!O},mre(c,jN(jN({},r),{},{payload:ce,label:X,active:ue,activeIndex:F,coordinate:B,accessibilityLayer:H})));return x.createElement(x.Fragment,null,Wb.createPortal(he,se),ue&&x.createElement(Bne,{cursor:C,tooltipEventType:$,coordinate:B,payload:ce,index:F}))}function vre(e,t,n){return(t=bre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bre(e){var t=_re(e,"string");return typeof t=="symbol"?t:t+""}function _re(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Sre{constructor(t){vre(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function zN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tre(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zN(Object(n),!0).forEach(function(r){Ere(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ere(e,t,n){return(t=wre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wre(e){var t=xre(e,"string");return typeof t=="symbol"?t:t+""}function xre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Are={cacheSize:2e3,enableCache:!0},NL=Tre({},Are),$N=new Sre(NL.cacheSize),Cre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},BN="recharts_measurement_span";function Mre(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(l,"|").concat(u)}var FN=(e,t)=>{try{var n=document.getElementById(BN);n||(n=document.createElement("span"),n.setAttribute("id",BN),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Cre,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},lc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ml.isSsr)return{width:0,height:0};if(!NL.enableCache)return FN(t,n);var r=Mre(t,n),i=$N.get(r);if(i)return i;var a=FN(t,n);return $N.set(r,a),a},HN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Pre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Nre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,OL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ore=Object.keys(OL),el="NaN";function Ire(e,t){return e*OL[t]}class qn{static parse(t){var n,[,r,i]=(n=Nre.exec(t))!==null&&n!==void 0?n:[];return new qn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Dr(t)&&(this.unit=""),n!==""&&!Pre.test(n)&&(this.num=NaN,this.unit=""),Ore.includes(n)&&(this.num=Ire(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new qn(NaN,""):new qn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new qn(NaN,""):new qn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new qn(NaN,""):new qn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new qn(NaN,""):new qn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Dr(this.num)}}function IL(e){if(e.includes(el))return el;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=HN.exec(t))!==null&&n!==void 0?n:[],l=qn.parse(r??""),u=qn.parse(a??""),c=i==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return el;t=t.replace(HN,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,h,m,y]=(d=GN.exec(t))!==null&&d!==void 0?d:[],_=qn.parse(h??""),T=qn.parse(y??""),w=m==="+"?_.add(T):_.subtract(T);if(w.isNaN())return el;t=t.replace(GN,w.toString())}return t}var VN=/\(([^()]*)\)/;function Dre(e){for(var t=e,n;(n=VN.exec(t))!=null;){var[,r]=n;t=t.replace(VN,IL(r))}return t}function Rre(e){var t=e.replace(/\s+/g,"");return t=Dre(t),t=IL(t),t}function kre(e){try{return Rre(e)}catch{return el}}function Yv(e){var t=kre(e.slice(5,-1));return t===el?"":t}var Lre=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Ure=["dx","dy","angle","className","breakAll"];function Ub(){return Ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ub.apply(null,arguments)}function KN(e,t){if(e==null)return{};var n,r,i=jre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var DL=/[ \f\n\r\t\v\u2028\u2029]+/,RL=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];en(t)||(n?i=t.toString().split(""):i=t.toString().split(DL));var a=i.map(u=>({word:u,width:lc(u,r).width})),l=n?0:lc("",r).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}};function qre(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var kL=(e,t,n,r)=>e.reduce((i,a)=>{var{word:l,width:u}=a,c=i[i.length-1];if(c&&u!=null&&(t==null||r||c.width+u+n<Number(t)))c.words.push(l),c.width+=u+n;else{var d={words:[l],width:u};i.push(d)}return i},[]),LL=e=>e.reduce((t,n)=>t.width>n.width?t:n),zre="",YN=(e,t,n,r,i,a,l,u)=>{var c=e.slice(0,t),d=RL({breakAll:n,style:r,children:c+zre});if(!d)return[!1,[]];var h=kL(d.wordsWithComputedWidth,a,l,u),m=h.length>i||LL(h).width>Number(a);return[m,h]},$re=(e,t,n,r,i)=>{var{maxLines:a,children:l,style:u,breakAll:c}=e,d=Ae(a),h=String(l),m=kL(t,r,n,i);if(!d||i)return m;var y=m.length>a||LL(m).width>Number(r);if(!y)return m;for(var _=0,T=h.length-1,w=0,E;_<=T&&w<=h.length-1;){var C=Math.floor((_+T)/2),N=C-1,[P,D]=YN(h,N,c,u,a,r,n,i),[O]=YN(h,C,c,u,a,r,n,i);if(!P&&!O&&(_=C+1),P&&O&&(T=C-1),!P&&O){E=D;break}w++}return E||m},WN=e=>{var t=en(e)?[]:e.toString().split(DL);return[{words:t,width:void 0}]},Bre=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:l}=e;if((t||n)&&!Ml.isSsr){var u,c,d=RL({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:h,spaceWidth:m}=d;u=h,c=m}else return WN(r);return $re({breakAll:a,children:r,maxLines:l,style:i},u,c,t,!!n)}return WN(r)},UL="#808080",Fre={angle:0,breakAll:!1,capHeight:"0.71em",fill:UL,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},KS=x.forwardRef((e,t)=>{var n=dn(e,Fre),{x:r,y:i,lineHeight:a,capHeight:l,fill:u,scaleToFit:c,textAnchor:d,verticalAnchor:h}=n,m=KN(n,Lre),y=x.useMemo(()=>Bre({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:c,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,c,m.style,m.width]),{dx:_,dy:T,angle:w,className:E,breakAll:C}=m,N=KN(m,Ure);if(!Rr(r)||!Rr(i)||y.length===0)return null;var P=Number(r)+(Ae(_)?_:0),D=Number(i)+(Ae(T)?T:0);if(!wt(P)||!wt(D))return null;var O;switch(h){case"start":O=Yv("calc(".concat(l,")"));break;case"middle":O=Yv("calc(".concat((y.length-1)/2," * -").concat(a," + (").concat(l," / 2))"));break;default:O=Yv("calc(".concat(y.length-1," * -").concat(a,")"));break}var R=[];if(c){var k=y[0].width,{width:q}=m;R.push("scale(".concat(Ae(q)&&Ae(k)?q/k:1,")"))}return w&&R.push("rotate(".concat(w,", ").concat(P,", ").concat(D,")")),R.length&&(N.transform=R.join(" ")),x.createElement("text",Ub({},Tn(N),{ref:t,x:P,y:D,className:et("recharts-text",E),textAnchor:d,fill:u.includes("url")?UL:u}),y.map((G,H)=>{var $=G.words.join(C?"":" ");return x.createElement("tspan",{x:P,dy:H===0?O:a,key:"".concat($,"-").concat(H)},$)}))});KS.displayName="Text";var Hre=["labelRef"];function Gre(e,t){if(e==null)return{};var n,r,i=Vre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Vre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function JN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JN(Object(n),!0).forEach(function(r){Kre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kre(e,t,n){return(t=Yre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yre(e){var t=Wre(e,"string");return typeof t=="symbol"?t:t+""}function Wre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vi(){return Vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vi.apply(null,arguments)}var jL=x.createContext(null),qL=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:l,children:u}=e,c=x.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:l}),[t,n,r,i,a,l]);return x.createElement(jL.Provider,{value:c},u)},zL=()=>{var e=x.useContext(jL),t=qc();return e||JR(t)},Jre=x.createContext(null),Xre=()=>{var e=x.useContext(Jre),t=_e(y2);return e||t},Qre=e=>{var{value:t,formatter:n}=e,r=en(e.children)?t:e.children;return typeof n=="function"?n(r):r},YS=e=>e!=null&&typeof e=="function",Zre=(e,t)=>{var n=Pr(t-e),r=Math.min(Math.abs(t-e),360);return n*r},eie=(e,t,n,r,i)=>{var{offset:a,className:l}=e,{cx:u,cy:c,innerRadius:d,outerRadius:h,startAngle:m,endAngle:y,clockWise:_}=i,T=(d+h)/2,w=Zre(m,y),E=w>=0?1:-1,C,N;switch(t){case"insideStart":C=m+E*a,N=_;break;case"insideEnd":C=y-E*a,N=!_;break;case"end":C=y+E*a,N=_;break;default:throw new Error("Unsupported position ".concat(t))}N=w<=0?N:!N;var P=fn(u,c,T,C),D=fn(u,c,T,C+(N?1:-1)*359),O="M".concat(P.x,",").concat(P.y,`
    A`).concat(T,",").concat(T,",0,1,").concat(N?0:1,`,
    `).concat(D.x,",").concat(D.y),R=en(e.id)?fc("recharts-radial-line-"):e.id;return x.createElement("text",Vi({},r,{dominantBaseline:"central",className:et("recharts-radial-bar-label",l)}),x.createElement("defs",null,x.createElement("path",{id:R,d:O})),x.createElement("textPath",{xlinkHref:"#".concat(R)},n))},tie=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:l,startAngle:u,endAngle:c}=e,d=(u+c)/2;if(n==="outside"){var{x:h,y:m}=fn(r,i,l+t,d);return{x:h,y:m,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(a+l)/2,{x:_,y:T}=fn(r,i,y,d);return{x:_,y:T,textAnchor:"middle",verticalAnchor:"middle"}},jb=e=>"cx"in e&&Ae(e.cx),nie=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!jb(n)&&(a=n);var{x:l,y:u,upperWidth:c,lowerWidth:d,height:h}=t,m=l,y=l+(c-d)/2,_=(m+y)/2,T=(c+d)/2,w=m+c/2,E=h>=0?1:-1,C=E*r,N=E>0?"end":"start",P=E>0?"start":"end",D=c>=0?1:-1,O=D*r,R=D>0?"end":"start",k=D>0?"start":"end";if(i==="top"){var q={x:m+c/2,y:u-C,textAnchor:"middle",verticalAnchor:N};return Ct(Ct({},q),a?{height:Math.max(u-a.y,0),width:c}:{})}if(i==="bottom"){var G={x:y+d/2,y:u+h+C,textAnchor:"middle",verticalAnchor:P};return Ct(Ct({},G),a?{height:Math.max(a.y+a.height-(u+h),0),width:d}:{})}if(i==="left"){var H={x:_-O,y:u+h/2,textAnchor:R,verticalAnchor:"middle"};return Ct(Ct({},H),a?{width:Math.max(H.x-a.x,0),height:h}:{})}if(i==="right"){var $={x:_+T+O,y:u+h/2,textAnchor:k,verticalAnchor:"middle"};return Ct(Ct({},$),a?{width:Math.max(a.x+a.width-$.x,0),height:h}:{})}var F=a?{width:T,height:h}:{};return i==="insideLeft"?Ct({x:_+O,y:u+h/2,textAnchor:k,verticalAnchor:"middle"},F):i==="insideRight"?Ct({x:_+T-O,y:u+h/2,textAnchor:R,verticalAnchor:"middle"},F):i==="insideTop"?Ct({x:m+c/2,y:u+C,textAnchor:"middle",verticalAnchor:P},F):i==="insideBottom"?Ct({x:y+d/2,y:u+h-C,textAnchor:"middle",verticalAnchor:N},F):i==="insideTopLeft"?Ct({x:m+O,y:u+C,textAnchor:k,verticalAnchor:P},F):i==="insideTopRight"?Ct({x:m+c-O,y:u+C,textAnchor:R,verticalAnchor:P},F):i==="insideBottomLeft"?Ct({x:y+O,y:u+h-C,textAnchor:k,verticalAnchor:N},F):i==="insideBottomRight"?Ct({x:y+d-O,y:u+h-C,textAnchor:R,verticalAnchor:N},F):i&&typeof i=="object"&&(Ae(i.x)||aa(i.x))&&(Ae(i.y)||aa(i.y))?Ct({x:l+eo(i.x,T),y:u+eo(i.y,h),textAnchor:"end",verticalAnchor:"end"},F):Ct({x:w,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},F)},rie={angle:0,offset:5,zIndex:_n.label,position:"middle",textBreakAll:!1};function Ka(e){var t=dn(e,rie),{viewBox:n,position:r,value:i,children:a,content:l,className:u="",textBreakAll:c,labelRef:d}=t,h=Xre(),m=zL(),y=r==="center"?m:h??m,_,T,w;if(n==null?_=y:jb(n)?_=n:_=JR(n),!_||en(i)&&en(a)&&!x.isValidElement(l)&&typeof l!="function")return null;var E=Ct(Ct({},t),{},{viewBox:_});if(x.isValidElement(l)){var{labelRef:C}=E,N=Gre(E,Hre);return x.cloneElement(l,N)}if(typeof l=="function"){if(T=x.createElement(l,E),x.isValidElement(T))return T}else T=Qre(t);var P=Tn(t);if(jb(_)){if(r==="insideStart"||r==="insideEnd"||r==="end")return eie(t,r,T,P,_);w=tie(_,t.offset,t.position)}else w=nie(t,_);return x.createElement(gi,{zIndex:t.zIndex},x.createElement(KS,Vi({ref:d,className:et("recharts-label",u)},P,w,{textAnchor:qre(P.textAnchor)?P.textAnchor:w.textAnchor,breakAll:c}),T))}Ka.displayName="Label";var iie=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?x.createElement(Ka,Vi({key:"label-implicit"},r)):Rr(e)?x.createElement(Ka,Vi({key:"label-implicit",value:e},r)):x.isValidElement(e)?e.type===Ka?x.cloneElement(e,Ct({key:"label-implicit"},r)):x.createElement(Ka,Vi({key:"label-implicit",content:e},r)):YS(e)?x.createElement(Ka,Vi({key:"label-implicit",content:e},r)):e&&typeof e=="object"?x.createElement(Ka,Vi({},e,{key:"label-implicit"},r)):null};function $L(e){var{label:t,labelRef:n}=e,r=zL();return iie(t,r,n)||null}var Wv={},Jv={},XN;function aie(){return XN||(XN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(Jv)),Jv}var Xv={},QN;function oie(){return QN||(QN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(Xv)),Xv}var ZN;function sie(){return ZN||(ZN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aie(),n=oie(),r=I_();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(Wv)),Wv}var Qv,eO;function lie(){return eO||(eO=1,Qv=sie().last),Qv}var uie=lie();const cie=fa(uie);var fie=["valueAccessor"],die=["dataKey","clockWise","id","textBreakAll","zIndex"];function Jh(){return Jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jh.apply(null,arguments)}function tO(e,t){if(e==null)return{};var n,r,i=hie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var pie=e=>Array.isArray(e.value)?cie(e.value):e.value,BL=x.createContext(void 0),mie=BL.Provider,FL=x.createContext(void 0);FL.Provider;function gie(){return x.useContext(BL)}function yie(){return x.useContext(FL)}function Xd(e){var{valueAccessor:t=pie}=e,n=tO(e,fie),{dataKey:r,clockWise:i,id:a,textBreakAll:l,zIndex:u}=n,c=tO(n,die),d=gie(),h=yie(),m=d||h;return!m||!m.length?null:x.createElement(gi,{zIndex:u??_n.label},x.createElement(ia,{className:"recharts-label-list"},m.map((y,_)=>{var T,w=en(r)?t(y,_):Sn(y&&y.payload,r),E=en(a)?{}:{id:"".concat(a,"-").concat(_)};return x.createElement(Ka,Jh({key:"label-".concat(_)},Tn(y),c,E,{fill:(T=n.fill)!==null&&T!==void 0?T:y.fill,parentViewBox:y.parentViewBox,value:w,textBreakAll:l,viewBox:y.viewBox,index:_,zIndex:0}))})))}Xd.displayName="LabelList";function vie(e){var{label:t}=e;return t?t===!0?x.createElement(Xd,{key:"labelList-implicit"}):x.isValidElement(t)||YS(t)?x.createElement(Xd,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(Xd,Jh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function qb(){return qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qb.apply(null,arguments)}var HL=e=>{var{cx:t,cy:n,r,className:i}=e,a=et("recharts-dot",i);return Ae(t)&&Ae(n)&&Ae(r)?x.createElement("circle",qb({},ui(e),O_(e),{className:a,cx:t,cy:n,r})):null},bie={radiusAxis:{},angleAxis:{}},GL=Vn({name:"polarAxis",initialState:bie,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:sue,removeRadiusAxis:lue,addAngleAxis:uue,removeAngleAxis:cue}=GL.actions,_ie=GL.reducer,VL=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Zv={},nO;function Sie(){return nO||(nO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(Zv)),Zv}var e0,rO;function Tie(){return rO||(rO=1,e0=Sie().isPlainObject),e0}var Eie=Tie();const wie=fa(Eie);function iO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iO(Object(n),!0).forEach(function(r){xie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xie(e,t,n){return(t=Aie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aie(e){var t=Cie(e,"string");return typeof t=="symbol"?t:t+""}function Cie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xh(){return Xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xh.apply(null,arguments)}var oO=(e,t,n,r,i)=>{var a=n-r,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+n,",").concat(t),l+="L ".concat(e+n-a/2,",").concat(t+i),l+="L ".concat(e+n-a/2-r,",").concat(t+i),l+="L ".concat(e,",").concat(t," Z"),l},Mie={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Pie=e=>{var t=dn(e,Mie),{x:n,y:r,upperWidth:i,lowerWidth:a,height:l,className:u}=t,{animationEasing:c,animationDuration:d,animationBegin:h,isUpdateAnimationActive:m}=t,y=x.useRef(null),[_,T]=x.useState(-1),w=x.useRef(i),E=x.useRef(a),C=x.useRef(l),N=x.useRef(n),P=x.useRef(r),D=Y_(e,"trapezoid-");if(x.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var me=y.current.getTotalLength();me&&T(me)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||l!==+l||i===0&&a===0||l===0)return null;var O=et("recharts-trapezoid",u);if(!m)return x.createElement("g",null,x.createElement("path",Xh({},Tn(t),{className:O,d:oO(n,r,i,a,l)})));var R=w.current,k=E.current,q=C.current,G=N.current,H=P.current,$="0px ".concat(_===-1?1:_,"px"),F="".concat(_,"px 0px"),fe=lk(["strokeDasharray"],d,c);return x.createElement(K_,{animationId:D,key:D,canBegin:_>0,duration:d,easing:c,isActive:m,begin:h},me=>{var Se=Bn(R,i,me),B=Bn(k,a,me),ne=Bn(q,l,me),le=Bn(G,n,me),ue=Bn(H,r,me);y.current&&(w.current=Se,E.current=B,C.current=ne,N.current=le,P.current=ue);var Me=me>0?{transition:fe,strokeDasharray:F}:{strokeDasharray:$};return x.createElement("path",Xh({},Tn(t),{className:O,d:oO(le,ue,Se,B,ne),ref:y,style:aO(aO({},Me),t.style)}))})},Nie=["option","shapeType","propTransformer","activeClassName"];function Oie(e,t){if(e==null)return{};var n,r,i=Iie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Iie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function sO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sO(Object(n),!0).forEach(function(r){Die(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Die(e,t,n){return(t=Rie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rie(e){var t=kie(e,"string");return typeof t=="symbol"?t:t+""}function kie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lie(e,t){return Qh(Qh({},t),e)}function Uie(e,t){return e==="symbols"}function lO(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return x.createElement(dk,n);case"trapezoid":return x.createElement(Pie,n);case"sector":return x.createElement(mk,n);case"symbols":if(Uie(t))return x.createElement(N_,n);break;case"curve":return x.createElement(sk,n);default:return null}}function jie(e){return x.isValidElement(e)?e.props:e}function qie(e){var{option:t,shapeType:n,propTransformer:r=Lie,activeClassName:i="recharts-active-shape"}=e,a=Oie(e,Nie),l;if(x.isValidElement(t))l=x.cloneElement(t,Qh(Qh({},a),jie(t)));else if(typeof t=="function")l=t(a);else if(wie(t)&&typeof t!="boolean"){var u=r(t,a);l=x.createElement(lO,{shapeType:n,elementProps:u})}else{var c=a;l=x.createElement(lO,{shapeType:n,elementProps:c})}return a.isActive?x.createElement(ia,{className:i},l):l}function zie(e){var{tooltipEntrySettings:t}=e,n=Pt(),r=Mn(),i=x.useRef(null);return x.useLayoutEffect(()=>{r||(i.current===null?n(lte(t)):i.current!==t&&n(ute({prev:i.current,next:t})),i.current=t)},[t,n,r]),x.useLayoutEffect(()=>()=>{i.current&&(n(cte(i.current)),i.current=null)},[n]),null}function $ie(e){var{legendPayload:t}=e,n=Pt(),r=Mn(),i=x.useRef(null);return x.useLayoutEffect(()=>{r||(i.current===null?n(MW(t)):i.current!==t&&n(PW({prev:i.current,next:t})),i.current=t)},[n,r,t]),x.useLayoutEffect(()=>()=>{i.current&&(n(NW(i.current)),i.current=null)},[n]),null}var t0,Bie=()=>{var[e]=x.useState(()=>fc("uid-"));return e},Fie=(t0=zq.useId)!==null&&t0!==void 0?t0:Bie;function KL(e,t){var n=Fie();return t||(e?"".concat(e,"-").concat(n):n)}var Hie=x.createContext(void 0),Gie=e=>{var{id:t,type:n,children:r}=e,i=KL("recharts-".concat(n),t);return x.createElement(Hie.Provider,{value:i},r(i))},Vie={cartesianItems:[],polarItems:[]},YL=Vn({name:"graphicalItems",initialState:Vie,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:yt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Kr(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:yt()},removeCartesianGraphicalItem:{reducer(e,t){var n=Kr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:yt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:yt()},removePolarGraphicalItem:{reducer(e,t){var n=Kr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:yt()}}}),{addCartesianGraphicalItem:Kie,replaceCartesianGraphicalItem:Yie,removeCartesianGraphicalItem:Wie,addPolarGraphicalItem:fue,removePolarGraphicalItem:due}=YL.actions,Jie=YL.reducer,Xie=e=>{var t=Pt(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?t(Kie(e)):n.current!==e&&t(Yie({prev:n.current,next:e})),n.current=e},[t,e]),x.useLayoutEffect(()=>()=>{n.current&&(t(Wie(n.current)),n.current=null)},[t]),null},Qie=x.memo(Xie),Zie=["points"];function uO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function n0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(n),!0).forEach(function(r){eae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eae(e,t,n){return(t=tae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tae(e){var t=nae(e,"string");return typeof t=="symbol"?t:t+""}function nae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zh(){return Zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zh.apply(null,arguments)}function rae(e,t){if(e==null)return{};var n,r,i=iae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function aae(e){var{option:t,dotProps:n,className:r}=e;if(x.isValidElement(t))return x.cloneElement(t,n);if(typeof t=="function")return t(n);var i=et(r,typeof t!="boolean"?t.className:""),a=n??{},{points:l}=a,u=rae(a,Zie);return x.createElement(HL,Zh({},u,{className:i}))}function oae(e,t){return e==null?!1:t?!0:e.length===1}function sae(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:l,needClip:u,clipPathId:c,zIndex:d=_n.scatter}=e;if(!oae(t,n))return null;var h=VL(n),m=fK(n),y=t.map((T,w)=>{var E,C,N=n0(n0(n0({r:3},l),m),{},{index:w,cx:(E=T.x)!==null&&E!==void 0?E:void 0,cy:(C=T.y)!==null&&C!==void 0?C:void 0,dataKey:a,value:T.value,payload:T.payload,points:t});return x.createElement(aae,{key:"dot-".concat(w),option:n,dotProps:N,className:i})}),_={};return u&&c!=null&&(_.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(c,")")),x.createElement(gi,{zIndex:d},x.createElement(ia,Zh({className:r},_),y))}function cO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cO(Object(n),!0).forEach(function(r){lae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lae(e,t,n){return(t=uae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uae(e){var t=cae(e,"string");return typeof t=="symbol"?t:t+""}function cae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fae={xAxis:{},yAxis:{},zAxis:{}},WL=Vn({name:"cartesianAxis",initialState:fae,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:yt()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:yt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:yt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:yt()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:yt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:yt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:yt()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:yt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:yt()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var l=[...a,r].slice(-3);e.yAxis[n]=fO(fO({},e.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:dae,replaceXAxis:hae,removeXAxis:pae,addYAxis:mae,replaceYAxis:gae,removeYAxis:yae,addZAxis:hue,replaceZAxis:pue,removeZAxis:mue,updateYAxisWidth:vae}=WL.actions,bae=WL.reducer,_ae=Z([hn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Sae=Z([_ae,ga,ya],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),WS=()=>_e(Sae),Tae=()=>_e(nne);function dO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function r0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dO(Object(n),!0).forEach(function(r){Eae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Eae(e,t,n){return(t=wae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wae(e){var t=xae(e,"string");return typeof t=="symbol"?t:t+""}function xae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Aae=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:l}=e;if(i===!1||t.x==null||t.y==null)return null;var u={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=r0(r0(r0({},u),bp(i)),O_(i)),d;return x.isValidElement(i)?d=x.cloneElement(i,c):typeof i=="function"?d=i(c):d=x.createElement(HL,c),x.createElement(ia,{className:"recharts-active-dot",clipPath:l},d)};function Cae(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:l=_n.activeDot}=e,u=_e(wc),c=Tae();if(t==null||c==null)return null;var d=t.find(h=>c.includes(h.payload));return en(d)?null:x.createElement(gi,{zIndex:l},x.createElement(Aae,{point:d,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var Mae={},JL=Vn({name:"errorBars",initialState:Mae,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:gue,replaceErrorBar:yue,removeErrorBar:vue}=JL.actions,Pae=JL.reducer,Nae=["children"];function Oae(e,t){if(e==null)return{};var n,r,i=Iae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Iae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Dae={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Rae=x.createContext(Dae);function kae(e){var{children:t}=e,n=Oae(e,Nae);return x.createElement(Rae.Provider,{value:n},t)}function XL(e,t){var n,r,i=_e(d=>pi(d,e)),a=_e(d=>mi(d,t)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Jt.allowDataOverflow,u=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Xt.allowDataOverflow,c=l||u;return{needClip:c,needClipX:l,needClipY:u}}function Lae(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=WS(),{needClipX:a,needClipY:l,needClip:u}=XL(t,n);if(!u||!i)return null;var{x:c,y:d,width:h,height:m}=i;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:a?c:c-h/2,y:l?d:d-m/2,width:a?h:h*2,height:l?m:m*2}))}var i0={exports:{}},a0={};var hO;function Uae(){if(hO)return a0;hO=1;var e=bl();function t(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,l=e.useMemo,u=e.useDebugValue;return a0.useSyncExternalStoreWithSelector=function(c,d,h,m,y){var _=i(null);if(_.current===null){var T={hasValue:!1,value:null};_.current=T}else T=_.current;_=l(function(){function E(O){if(!C){if(C=!0,N=O,O=m(O),y!==void 0&&T.hasValue){var R=T.value;if(y(R,O))return P=R}return P=O}if(R=P,n(N,O))return R;var k=m(O);return y!==void 0&&y(R,k)?(N=O,R):(N=O,P=k)}var C=!1,N,P,D=h===void 0?null:h;return[function(){return E(d())},D===null?void 0:function(){return E(D())}]},[d,h,m,y]);var w=r(c,_[0],_[1]);return a(function(){T.hasValue=!0,T.value=w},[w]),u(w),w},a0}var pO;function jae(){return pO||(pO=1,i0.exports=Uae()),i0.exports}jae();function qae(e){e()}function zae(){let e=null,t=null;return{clear(){e=null,t=null},notify(){qae(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var mO={notify(){},get:()=>[]};function $ae(e,t){let n,r=mO,i=0,a=!1;function l(w){h();const E=r.subscribe(w);let C=!1;return()=>{C||(C=!0,E(),m())}}function u(){r.notify()}function c(){T.onStateChange&&T.onStateChange()}function d(){return a}function h(){i++,n||(n=e.subscribe(c),r=zae())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=mO)}function y(){a||(a=!0,h())}function _(){a&&(a=!1,m())}const T={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:c,isSubscribed:d,trySubscribe:y,tryUnsubscribe:_,getListeners:()=>r};return T}var Bae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Fae=Bae(),Hae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Gae=Hae(),Vae=()=>Fae||Gae?x.useLayoutEffect:x.useEffect,Kae=Vae();function gO(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Yae(e,t){if(gO(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!gO(e[n[i]],t[n[i]]))return!1;return!0}var Wae=Symbol.for("react-redux-context"),Jae=typeof globalThis<"u"?globalThis:{};function Xae(){if(!x.createContext)return{};const e=Jae[Wae]??=new Map;let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var Qae=Xae();function Zae(e){const{children:t,context:n,serverState:r,store:i}=e,a=x.useMemo(()=>{const c=$ae(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),l=x.useMemo(()=>i.getState(),[i]);Kae(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,l]);const u=n||Qae;return x.createElement(u.Provider,{value:a},t)}var eoe=Zae,toe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function noe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function JS(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(toe.has(r)){if(e[r]==null&&t[r]==null)continue;if(!Yae(e[r],t[r]))return!1}else if(!noe(e[r],t[r]))return!1;return!0}var roe=e=>{var{chartData:t}=e,n=Pt(),r=Mn();return x.useEffect(()=>r?()=>{}:(n(kN(t)),()=>{n(kN(void 0))}),[t,n,r]),null},yO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},QL=Vn({name:"brush",initialState:yO,reducers:{setBrushSettings(e,t){return t.payload==null?yO:t.payload}}}),{setBrushSettings:bue}=QL.actions,ioe=QL.reducer;function vO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ld(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vO(Object(n),!0).forEach(function(r){ZL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZL(e,t,n){return(t=aoe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aoe(e){var t=ooe(e,"string");return typeof t=="symbol"?t:t+""}function ooe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var soe=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return{x:Math.min(n,i),y:Math.min(r,a),width:Math.abs(i-n),height:Math.abs(a-r)}},loe=e=>{var{x1:t,y1:n,x2:r,y2:i}=e;return soe({x:t,y:n},{x:r,y:i})};class im{static create(t){return new im(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}ZL(im,"EPS",1e-4);var uoe=e=>{var t=Object.keys(e).reduce((n,r)=>Ld(Ld({},n),{},{[r]:im.create(e[r])}),{});return Ld(Ld({},t),{},{apply(n){var{bandAware:r,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(n).map(a=>{var[l,u]=a;return[l,t[l].apply(u,{bandAware:r,position:i})]}))},isInRange(n){return Object.keys(n).every(r=>t[r].isInRange(n[r]))}})};function coe(e){return(e%180+180)%180}var foe=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=coe(i),l=a*Math.PI/180,u=Math.atan(r/n),c=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(c)},doe={dots:[],areas:[],lines:[]},eU=Vn({name:"referenceElements",initialState:doe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Kr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Kr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Kr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:_ue,removeDot:Sue,addArea:Tue,removeArea:Eue,addLine:hoe,removeLine:poe}=eU.actions,moe=eU.reducer,tU=x.createContext(void 0),goe=e=>{var{children:t}=e,[n]=x.useState("".concat(fc("recharts"),"-clip")),r=WS();if(r==null)return null;var{x:i,y:a,width:l,height:u}=r;return x.createElement(tU.Provider,{value:n},x.createElement("defs",null,x.createElement("clipPath",{id:n},x.createElement("rect",{x:i,y:a,height:u,width:l}))),t)},yoe=()=>x.useContext(tU);function bO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _O(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bO(Object(n),!0).forEach(function(r){voe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function voe(e,t,n){return(t=boe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function boe(e){var t=_oe(e,"string");return typeof t=="symbol"?t:t+""}function _oe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ep(){return ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ep.apply(null,arguments)}var Soe=(e,t)=>{var n;if(x.isValidElement(e))n=x.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{if(!wt(t.x1)||!wt(t.y1)||!wt(t.x2)||!wt(t.y2))return null;n=x.createElement("line",ep({},t,{className:"recharts-reference-line-line"}))}return n},Toe=(e,t,n,r,i,a)=>{var{x:l,width:u}=a,c=i.y.apply(e,{position:n});if(Dr(c)||t==="discard"&&!i.y.isInRange(c))return null;var d=[{x:l+u,y:c},{x:l,y:c}];return r==="left"?d.reverse():d},Eoe=(e,t,n,r,i,a)=>{var{y:l,height:u}=a,c=i.x.apply(e,{position:n});if(Dr(c)||t==="discard"&&!i.x.isInRange(c))return null;var d=[{x:c,y:l+u},{x:c,y:l}];return r==="top"?d.reverse():d},woe=(e,t,n,r)=>{var i=e.map(a=>r.apply(a,{position:n}));return t==="discard"&&i.some(a=>!r.isInRange(a))?null:i},xoe=(e,t,n,r,i,a)=>{var{x:l,y:u,segment:c,ifOverflow:d}=a,h=Rr(l),m=Rr(u);return m?Toe(u,d,n,i,e,t):h?Eoe(l,d,n,r,e,t):c!=null&&c.length===2?woe(c,d,n,e):null};function Aoe(e){var t=Pt();return x.useEffect(()=>(t(hoe(e)),()=>{t(poe(e))})),null}function Coe(e){var{xAxisId:t,yAxisId:n,shape:r,className:i,ifOverflow:a}=e,l=Mn(),u=yoe(),c=_e(R=>pi(R,t)),d=_e(R=>mi(R,n)),h=_e(R=>no(R,"xAxis",t,l)),m=_e(R=>no(R,"yAxis",n,l)),y=qc();if(!u||!y||c==null||d==null||h==null||m==null)return null;var _=uoe({x:h,y:m}),T=xoe(_,y,e.position,c.orientation,d.orientation,e);if(!T)return null;var[{x:w,y:E},{x:C,y:N}]=T,P=a==="hidden"?"url(#".concat(u,")"):void 0,D=_O(_O({clipPath:P},Tn(e)),{},{x1:w,y1:E,x2:C,y2:N}),O=loe({x1:w,y1:E,x2:C,y2:N});return x.createElement(gi,{zIndex:e.zIndex},x.createElement(ia,{className:et("recharts-reference-line",i)},Soe(r,D),x.createElement(qL,ep({},O,{lowerWidth:O.width,upperWidth:O.width}),x.createElement($L,{label:e.label}),e.children)))}var Moe={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:_n.line};function nU(e){var t=dn(e,Moe);return x.createElement(x.Fragment,null,x.createElement(Aoe,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),x.createElement(Coe,t))}nU.displayName="ReferenceLine";function rU(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function Poe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return foe(r,n)}function Noe(e,t,n){var r=n==="width",{x:i,y:a,width:l,height:u}=e;return t===1?{start:r?i:a,end:r?i+l:a+u}:{start:r?i+l:a+u,end:r?i:a}}function tp(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function Ooe(e,t){return rU(e,t+1)}function Ioe(e,t,n,r,i){for(var a=(r||[]).slice(),{start:l,end:u}=t,c=0,d=1,h=l,m=function(){var T=r?.[c];if(T===void 0)return{v:rU(r,d)};var w=c,E,C=()=>(E===void 0&&(E=n(T,w)),E),N=T.coordinate,P=c===0||tp(e,N,C,h,u);P||(c=0,h=l,d+=1),P&&(h=N+e*(C()/2+i),c+=d)},y;d<=a.length;)if(y=m(),y)return y.v;return[]}function SO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SO(Object(n),!0).forEach(function(r){Doe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Doe(e,t,n){return(t=Roe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Roe(e){var t=koe(e,"string");return typeof t=="symbol"?t:t+""}function koe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Loe(e,t,n,r,i){for(var a=(r||[]).slice(),l=a.length,{start:u}=t,{end:c}=t,d=function(y){var _=a[y],T,w=()=>(T===void 0&&(T=n(_,y)),T);if(y===l-1){var E=e*(_.coordinate+e*w()/2-c);a[y]=_=yn(yn({},_),{},{tickCoord:E>0?_.coordinate-E*e:_.coordinate})}else a[y]=_=yn(yn({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var C=tp(e,_.tickCoord,w,u,c);C&&(c=_.tickCoord-e*(w()/2+i),a[y]=yn(yn({},_),{},{isShow:!0}))}},h=l-1;h>=0;h--)d(h);return a}function Uoe(e,t,n,r,i,a){var l=(r||[]).slice(),u=l.length,{start:c,end:d}=t;if(a){var h=r[u-1],m=n(h,u-1),y=e*(h.coordinate+e*m/2-d);if(l[u-1]=h=yn(yn({},h),{},{tickCoord:y>0?h.coordinate-y*e:h.coordinate}),h.tickCoord!=null){var _=tp(e,h.tickCoord,()=>m,c,d);_&&(d=h.tickCoord-e*(m/2+i),l[u-1]=yn(yn({},h),{},{isShow:!0}))}}for(var T=a?u-1:u,w=function(N){var P=l[N],D,O=()=>(D===void 0&&(D=n(P,N)),D);if(N===0){var R=e*(P.coordinate-e*O()/2-c);l[N]=P=yn(yn({},P),{},{tickCoord:R<0?P.coordinate-R*e:P.coordinate})}else l[N]=P=yn(yn({},P),{},{tickCoord:P.coordinate});if(P.tickCoord!=null){var k=tp(e,P.tickCoord,O,c,d);k&&(c=P.tickCoord+e*(O()/2+i),l[N]=yn(yn({},P),{},{isShow:!0}))}},E=0;E<T;E++)w(E);return l}function XS(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:l,orientation:u,interval:c,tickFormatter:d,unit:h,angle:m}=e;if(!i||!i.length||!r)return[];if(Ae(c)||Ml.isSsr){var y;return(y=Ooe(i,Ae(c)?c:0))!==null&&y!==void 0?y:[]}var _=[],T=u==="top"||u==="bottom"?"width":"height",w=h&&T==="width"?lc(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},E=(P,D)=>{var O=typeof d=="function"?d(P.value,D):P.value;return T==="width"?Poe(lc(O,{fontSize:t,letterSpacing:n}),w,m):lc(O,{fontSize:t,letterSpacing:n})[T]},C=i.length>=2?Pr(i[1].coordinate-i[0].coordinate):1,N=Noe(a,C,T);return c==="equidistantPreserveStart"?Ioe(C,N,E,i,l):(c==="preserveStart"||c==="preserveStartEnd"?_=Uoe(C,N,E,i,l,c==="preserveStartEnd"):_=Loe(C,N,E,i,l),_.filter(P=>P.isShow))}var joe=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,l=0;if(t){Array.from(t).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>l&&(l=m.width)}});var u=n?n.getBoundingClientRect().width:0,c=i+a,d=l+c+u+(n?r:0);return Math.round(d)}return 0},qoe=["axisLine","width","height","className","hide","ticks","axisType"];function zoe(e,t){if(e==null)return{};var n,r,i=$oe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $oe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Jo(){return Jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jo.apply(null,arguments)}function TO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TO(Object(n),!0).forEach(function(r){Boe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Boe(e,t,n){return(t=Foe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Foe(e){var t=Hoe(e,"string");return typeof t=="symbol"?t:t+""}function Hoe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zi={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:_n.axis};function Goe(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:l,axisLine:u,otherSvgProps:c}=e;if(!u)return null;var d=Lt(Lt(Lt({},c),ui(u)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!l||a==="bottom"&&l);d=Lt(Lt({},d),{},{x1:t,y1:n+h*i,x2:t+r,y2:n+h*i})}else{var m=+(a==="left"&&!l||a==="right"&&l);d=Lt(Lt({},d),{},{x1:t+m*r,y1:n,x2:t+m*r,y2:n+i})}return x.createElement("line",Jo({},d,{className:et("recharts-cartesian-axis-line",Ep(u,"className"))}))}function Voe(e,t,n,r,i,a,l,u,c){var d,h,m,y,_,T,w=u?-1:1,E=e.tickSize||l,C=Ae(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":d=h=e.coordinate,y=n+ +!u*i,m=y-w*E,T=m-w*c,_=C;break;case"left":m=y=e.coordinate,h=t+ +!u*r,d=h-w*E,_=d-w*c,T=C;break;case"right":m=y=e.coordinate,h=t+ +u*r,d=h+w*E,_=d+w*c,T=C;break;default:d=h=e.coordinate,y=n+ +u*i,m=y+w*E,T=m+w*c,_=C;break}return{line:{x1:d,y1:m,x2:h,y2:y},tick:{x:_,y:T}}}function Koe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Yoe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Woe(e){var{option:t,tickProps:n,value:r}=e,i,a=et(n.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))i=x.cloneElement(t,Lt(Lt({},n),{},{className:a}));else if(typeof t=="function")i=t(Lt(Lt({},n),{},{className:a}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=et(l,t?.className)),i=x.createElement(KS,Jo({},n,{className:l}),r)}return i}var Joe=x.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:l,unit:u,padding:c,tickTextProps:d,orientation:h,mirror:m,x:y,y:_,width:T,height:w,tickSize:E,tickMargin:C,fontSize:N,letterSpacing:P,getTicksConfig:D,events:O,axisType:R}=e,k=XS(Lt(Lt({},D),{},{ticks:n}),N,P),q=Koe(h,m),G=Yoe(h,m),H=ui(D),$=bp(r),F={};typeof i=="object"&&(F=i);var fe=Lt(Lt({},H),{},{fill:"none"},F),me=k.map(ne=>Lt({entry:ne},Voe(ne,y,_,T,w,h,E,m,C))),Se=me.map(ne=>{var{entry:le,line:ue}=ne;return x.createElement(ia,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(le.value,"-").concat(le.coordinate,"-").concat(le.tickCoord)},i&&x.createElement("line",Jo({},fe,ue,{className:et("recharts-cartesian-axis-tick-line",Ep(i,"className"))})))}),B=me.map((ne,le)=>{var{entry:ue,tick:Me}=ne,U=Lt(Lt(Lt(Lt({textAnchor:q,verticalAnchor:G},H),{},{stroke:"none",fill:a},$),Me),{},{index:le,payload:ue,visibleTicksCount:k.length,tickFormatter:l,padding:c},d);return x.createElement(ia,Jo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ue.value,"-").concat(ue.coordinate,"-").concat(ue.tickCoord)},JD(O,ue,le)),r&&x.createElement(Woe,{option:r,tickProps:U,value:"".concat(typeof l=="function"?l(ue.value,le):ue.value).concat(u||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(R,"-ticks")},B.length>0&&x.createElement(gi,{zIndex:_n.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(R,"-tick-labels"),ref:t},B)),Se.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(R,"-tick-lines")},Se))}),Xoe=x.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:l,ticks:u,axisType:c}=e,d=zoe(e,qoe),[h,m]=x.useState(""),[y,_]=x.useState(""),T=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var E;return joe({ticks:T.current,label:(E=e.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=x.useCallback(E=>{if(E){var C=E.getElementsByClassName("recharts-cartesian-axis-tick-value");T.current=C;var N=C[0];if(N){var P=window.getComputedStyle(N),D=P.fontSize,O=P.letterSpacing;(D!==h||O!==y)&&(m(D),_(O))}}},[h,y]);return l||r!=null&&r<=0||i!=null&&i<=0?null:x.createElement(gi,{zIndex:e.zIndex},x.createElement(ia,{className:et("recharts-cartesian-axis",a)},x.createElement(Goe,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:ui(e)}),x.createElement(Joe,{ref:w,axisType:c,events:d,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:y,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),x.createElement(qL,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},x.createElement($L,{label:e.label,labelRef:e.labelRef}),e.children)))}),QS=x.forwardRef((e,t)=>{var n=dn(e,Zi);return x.createElement(Xoe,Jo({},n,{ref:t}))});QS.displayName="CartesianAxis";var Qoe=["x1","y1","x2","y2","key"],Zoe=["offset"],ese=["xAxisId","yAxisId"],tse=["xAxisId","yAxisId"];function EO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EO(Object(n),!0).forEach(function(r){nse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nse(e,t,n){return(t=rse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rse(e){var t=ise(e,"string");return typeof t=="symbol"?t:t+""}function ise(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $o(){return $o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$o.apply(null,arguments)}function np(e,t){if(e==null)return{};var n,r,i=ase(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ase(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ose=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:l,ry:u}=e;return x.createElement("rect",{x:r,y:i,ry:u,width:a,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function iU(e){var{option:t,lineItemProps:n}=e,r;if(x.isValidElement(t))r=x.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:l,x2:u,y2:c,key:d}=n,h=np(n,Qoe),m=(i=ui(h))!==null&&i!==void 0?i:{},{offset:y}=m,_=np(m,Zoe);r=x.createElement("line",$o({},_,{x1:a,y1:l,x2:u,y2:c,fill:"none",key:d}))}return r}function sse(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=e,u=np(e,ese),c=i.map((d,h)=>{var m=vn(vn({},u),{},{x1:t,y1:d,x2:t+n,y2:d,key:"line-".concat(h),index:h});return x.createElement(iU,{key:"line-".concat(h),option:r,lineItemProps:m})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function lse(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=e,u=np(e,tse),c=i.map((d,h)=>{var m=vn(vn({},u),{},{x1:d,y1:t,x2:d,y2:t+n,key:"line-".concat(h),index:h});return x.createElement(iU,{option:r,lineItemProps:m,key:"line-".concat(h)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function use(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:l,horizontalPoints:u,horizontal:c=!0}=e;if(!c||!t||!t.length||u==null)return null;var d=u.map(m=>Math.round(m+i-i)).sort((m,y)=>m-y);i!==d[0]&&d.unshift(0);var h=d.map((m,y)=>{var _=!d[y+1],T=_?i+l-m:d[y+1]-m;if(T<=0)return null;var w=y%t.length;return x.createElement("rect",{key:"react-".concat(y),y:m,x:r,height:T,width:a,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function cse(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:l,height:u,verticalPoints:c}=e;if(!t||!n||!n.length)return null;var d=c.map(m=>Math.round(m+i-i)).sort((m,y)=>m-y);i!==d[0]&&d.unshift(0);var h=d.map((m,y)=>{var _=!d[y+1],T=_?i+l-m:d[y+1]-m;if(T<=0)return null;var w=y%n.length;return x.createElement("rect",{key:"react-".concat(y),x:m,y:a,width:T,height:u,stroke:"none",fill:n[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var fse=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return BR(XS(vn(vn(vn({},Zi),n),{},{ticks:FR(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},dse=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return BR(XS(vn(vn(vn({},Zi),n),{},{ticks:FR(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},hse={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:_n.grid};function aU(e){var t=F_(),n=H_(),r=XR(),i=vn(vn({},dn(e,hse)),{},{x:Ae(e.x)?e.x:r.left,y:Ae(e.y)?e.y:r.top,width:Ae(e.width)?e.width:r.width,height:Ae(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:l,x:u,y:c,width:d,height:h,syncWithTicks:m,horizontalValues:y,verticalValues:_}=i,T=Mn(),w=_e(G=>EN(G,"xAxis",a,T)),E=_e(G=>EN(G,"yAxis",l,T));if(!fi(d)||!fi(h)||!Ae(u)||!Ae(c))return null;var C=i.verticalCoordinatesGenerator||fse,N=i.horizontalCoordinatesGenerator||dse,{horizontalPoints:P,verticalPoints:D}=i;if((!P||!P.length)&&typeof N=="function"){var O=y&&y.length,R=N({yAxis:E?vn(vn({},E),{},{ticks:O?y:E.ticks}):void 0,width:t??d,height:n??h,offset:r},O?!0:m);Mh(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(P=R)}if((!D||!D.length)&&typeof C=="function"){var k=_&&_.length,q=C({xAxis:w?vn(vn({},w),{},{ticks:k?_:w.ticks}):void 0,width:t??d,height:n??h,offset:r},k?!0:m);Mh(Array.isArray(q),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof q,"]")),Array.isArray(q)&&(D=q)}return x.createElement(gi,{zIndex:i.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(ose,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(use,$o({},i,{horizontalPoints:P})),x.createElement(cse,$o({},i,{verticalPoints:D})),x.createElement(sse,$o({},i,{offset:r,horizontalPoints:P,xAxis:w,yAxis:E})),x.createElement(lse,$o({},i,{offset:r,verticalPoints:D,xAxis:w,yAxis:E}))))}aU.displayName="CartesianGrid";var oU=(e,t,n,r)=>nL(e,"xAxis",t,r),sU=(e,t,n,r)=>tL(e,"xAxis",t,r),lU=(e,t,n,r)=>nL(e,"yAxis",n,r),uU=(e,t,n,r)=>tL(e,"yAxis",n,r),pse=Z([ht,oU,lU,sU,uU],(e,t,n,r,i)=>ao(e,"xAxis")?Ch(t,r,!1):Ch(n,i,!1)),mse=(e,t,n,r,i)=>i;function gse(e){return e.type==="line"}var yse=Z([w2,mse],(e,t)=>e.filter(gse).find(n=>n.id===t)),vse=Z([ht,oU,lU,sU,uU,yse,pse,vS],(e,t,n,r,i,a,l,u)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:h}=u;if(!(a==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:m,data:y}=a,_;if(y!=null&&y.length>0?_=y:_=c?.slice(d,h+1),_!=null)return qse({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:m,bandSize:l,displayedData:_})}});function bse(e){var t=bp(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,l=Number(i),u=Number(a);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(u)||u<0)&&(u=r),{r:l,strokeWidth:u}}return{r:n,strokeWidth:r}}var _se=["id"],Sse=["type","layout","connectNulls","needClip","shape"],Tse=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Ac(){return Ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ac.apply(null,arguments)}function wO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ai(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wO(Object(n),!0).forEach(function(r){Ese(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ese(e,t,n){return(t=wse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wse(e){var t=xse(e,"string");return typeof t=="symbol"?t:t+""}function xse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZS(e,t){if(e==null)return{};var n,r,i=Ase(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ase(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Cse=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:HR(n,t),payload:e}]},Mse=x.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:l,hide:u,unit:c,tooltipType:d}=e,h={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:HR(l,t),hide:u,type:d,color:r,unit:c}};return x.createElement(zie,{tooltipEntrySettings:h})}),cU=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Pse(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var Nse=(e,t,n)=>{var r=n.reduce((m,y)=>m+y);if(!r)return cU(t,e);for(var i=Math.floor(e/r),a=e%r,l=t-e,u=[],c=0,d=0;c<n.length;d+=n[c],++c)if(d+n[c]>a){u=[...n.slice(0,c),a-d];break}var h=u.length%2===0?[0,l]:[l];return[...Pse(n,i),...u,...h].map(m=>"".concat(m,"px")).join(", ")};function Ose(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:a,needClip:l}=r,{id:u}=r,c=ZS(r,_se),d=ui(c);return x.createElement(sae,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:d,needClip:l,clipPathId:t})}function Ise(e){var{showLabels:t,children:n,points:r}=e,i=x.useMemo(()=>r?.map(a=>{var l,u,c={x:(l=a.x)!==null&&l!==void 0?l:0,y:(u=a.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ai(ai({},c),{},{value:a.value,payload:a.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[r]);return x.createElement(mie,{value:t?i:void 0},n)}function xO(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:a}=e,{type:l,layout:u,connectNulls:c,needClip:d,shape:h}=a,m=ZS(a,Sse),y=ai(ai({},Tn(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:r,type:l,layout:u,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return x.createElement(x.Fragment,null,r?.length>1&&x.createElement(qie,Ac({shapeType:"curve",option:h},y,{pathRef:n})),x.createElement(Ose,{points:r,clipPathId:t,props:a}))}function Dse(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Rse(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:l,strokeDasharray:u,isAnimationActive:c,animationBegin:d,animationDuration:h,animationEasing:m,animateNewValues:y,width:_,height:T,onAnimationEnd:w,onAnimationStart:E}=n,C=i.current,N=Y_(l,"recharts-line-"),P=x.useRef(N),[D,O]=x.useState(!1),R=!D,k=x.useCallback(()=>{typeof w=="function"&&w(),O(!1)},[w]),q=x.useCallback(()=>{typeof E=="function"&&E(),O(!0)},[E]),G=Dse(r.current),H=x.useRef(0);P.current!==N&&(H.current=a.current,P.current=N);var $=H.current;return x.createElement(Ise,{points:l,showLabels:R},n.children,x.createElement(K_,{animationId:N,begin:d,duration:h,isActive:c,easing:m,onAnimationEnd:k,onAnimationStart:q,key:N},F=>{var fe=Bn($,G+$,F),me=Math.min(fe,G),Se;if(c)if(u){var B="".concat(u).split(/[,\s]+/gim).map(ue=>parseFloat(ue));Se=Nse(me,G,B)}else Se=cU(G,me);else Se=u==null?void 0:String(u);if(F>0&&G>0&&(i.current=l,a.current=Math.max(a.current,me)),C){var ne=C.length/l.length,le=F===1?l:l.map((ue,Me)=>{var U=Math.floor(Me*ne);if(C[U]){var X=C[U];return ai(ai({},ue),{},{x:Bn(X.x,ue.x,F),y:Bn(X.y,ue.y,F)})}return y?ai(ai({},ue),{},{x:Bn(_*2,ue.x,F),y:Bn(T/2,ue.y,F)}):ai(ai({},ue),{},{x:ue.x,y:ue.y})});return i.current=le,x.createElement(xO,{props:n,points:le,clipPathId:t,pathRef:r,strokeDasharray:Se})}return x.createElement(xO,{props:n,points:l,clipPathId:t,pathRef:r,strokeDasharray:Se})}),x.createElement(vie,{label:n.label}))}function kse(e){var{clipPathId:t,props:n}=e,r=x.useRef(null),i=x.useRef(0),a=x.useRef(null);return x.createElement(Rse,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var Lse=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:Sn(e.payload,t)}};class Use extends x.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:a,yAxisId:l,top:u,left:c,width:d,height:h,id:m,needClip:y,zIndex:_}=this.props;if(t)return null;var T=et("recharts-line",i),w=m,{r:E,strokeWidth:C}=bse(n),N=VL(n),P=E*2+C,D=y?"url(#clipPath-".concat(N?"":"dots-").concat(w,")"):void 0;return x.createElement(gi,{zIndex:_},x.createElement(ia,{className:T},y&&x.createElement("defs",null,x.createElement(Lae,{clipPathId:w,xAxisId:a,yAxisId:l}),!N&&x.createElement("clipPath",{id:"clipPath-dots-".concat(w)},x.createElement("rect",{x:c-P/2,y:u-P/2,width:d+P,height:h+P}))),x.createElement(kae,{xAxisId:a,yAxisId:l,data:r,dataPointFormatter:Lse,errorBarOffset:0},x.createElement(kse,{props:this.props,clipPathId:w}))),x.createElement(Cae,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:D}))}}var fU={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:_n.line,type:"linear"};function jse(e){var t=dn(e,fU),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,connectNulls:u,dot:c,hide:d,isAnimationActive:h,label:m,legendType:y,xAxisId:_,yAxisId:T,id:w}=t,E=ZS(t,Tse),{needClip:C}=XL(_,T),N=WS(),P=Up(),D=Mn(),O=_e(H=>vse(H,_,T,D,w));if(P!=="horizontal"&&P!=="vertical"||O==null||N==null)return null;var{height:R,width:k,x:q,y:G}=N;return x.createElement(Use,Ac({},E,{id:w,connectNulls:u,dot:c,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,isAnimationActive:h,hide:d,label:m,legendType:y,xAxisId:_,yAxisId:T,points:O,layout:P,height:R,width:k,left:q,top:G,needClip:C}))}function qse(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:l,bandSize:u,displayedData:c}=e;return c.map((d,h)=>{var m=Sn(d,l);if(t==="horizontal"){var y=HM({axis:n,ticks:i,bandSize:u,entry:d,index:h}),_=en(m)?null:r.scale(m);return{x:y,y:_,value:m,payload:d}}var T=en(m)?null:n.scale(m),w=HM({axis:r,ticks:a,bandSize:u,entry:d,index:h});return T==null||w==null?null:{x:T,y:w,value:m,payload:d}}).filter(Boolean)}function zse(e){var t=dn(e,fU),n=Mn();return x.createElement(Gie,{id:t.id,type:"line"},r=>x.createElement(x.Fragment,null,x.createElement($ie,{legendPayload:Cse(t)}),x.createElement(Mse,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),x.createElement(Qie,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),x.createElement(jse,Ac({},t,{id:r}))))}var dU=x.memo(zse,JS);dU.displayName="Line";var $se=["domain","range"],Bse=["domain","range"];function AO(e,t){if(e==null)return{};var n,r,i=Fse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function CO(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function hU(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=AO(e,$se),{domain:a,range:l}=t,u=AO(t,Bse);return!CO(n,a)||!CO(r,l)?!1:JS(i,u)}var Hse=["dangerouslySetInnerHTML","ticks"],Gse=["id"];function zb(){return zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zb.apply(null,arguments)}function MO(e,t){if(e==null)return{};var n,r,i=Vse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Vse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Kse(e){var t=Pt(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?t(dae(e)):n.current!==e&&t(hae({prev:n.current,next:e})),n.current=e},[e,t]),x.useLayoutEffect(()=>()=>{n.current&&(t(pae(n.current)),n.current=null)},[t]),null}var Yse=e=>{var{xAxisId:t,className:n}=e,r=_e(VR),i=Mn(),a="xAxis",l=_e(E=>no(E,a,t,i)),u=_e(E=>eL(E,a,t,i)),c=_e(E=>Gee(E,t)),d=_e(E=>Xee(E,t)),h=_e(E=>_2(E,t));if(c==null||d==null||h==null)return null;var{dangerouslySetInnerHTML:m,ticks:y}=e,_=MO(e,Hse),{id:T}=h,w=MO(h,Gse);return x.createElement(QS,zb({},_,w,{scale:l,x:d.x,y:d.y,width:c.width,height:c.height,className:et("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:u,axisType:a}))},Wse={allowDataOverflow:Jt.allowDataOverflow,allowDecimals:Jt.allowDecimals,allowDuplicatedCategory:Jt.allowDuplicatedCategory,angle:Jt.angle,axisLine:Zi.axisLine,height:Jt.height,hide:!1,includeHidden:Jt.includeHidden,interval:Jt.interval,minTickGap:Jt.minTickGap,mirror:Jt.mirror,orientation:Jt.orientation,padding:Jt.padding,reversed:Jt.reversed,scale:Jt.scale,tick:Jt.tick,tickCount:Jt.tickCount,tickLine:Zi.tickLine,tickSize:Zi.tickSize,type:Jt.type,xAxisId:0},Jse=e=>{var t=dn(e,Wse);return x.createElement(x.Fragment,null,x.createElement(Kse,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),x.createElement(Yse,t))},pU=x.memo(Jse,hU);pU.displayName="XAxis";var Xse=["dangerouslySetInnerHTML","ticks"],Qse=["id"];function $b(){return $b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$b.apply(null,arguments)}function PO(e,t){if(e==null)return{};var n,r,i=Zse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ele(e){var t=Pt(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?t(mae(e)):n.current!==e&&t(gae({prev:n.current,next:e})),n.current=e},[e,t]),x.useLayoutEffect(()=>()=>{n.current&&(t(yae(n.current)),n.current=null)},[t]),null}var tle=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=x.useRef(null),l=x.useRef(null),u=_e(VR),c=Mn(),d=Pt(),h="yAxis",m=_e(O=>no(O,h,t,c)),y=_e(O=>ete(O,t)),_=_e(O=>Zee(O,t)),T=_e(O=>eL(O,h,t,c)),w=_e(O=>S2(O,t));if(x.useLayoutEffect(()=>{if(!(r!=="auto"||!y||YS(i)||x.isValidElement(i)||w==null)){var O=a.current;if(O){var R=O.getCalculatedWidth();Math.round(y.width)!==Math.round(R)&&d(vae({id:t,width:R}))}}},[T,y,d,i,t,r,w]),y==null||_==null||w==null)return null;var{dangerouslySetInnerHTML:E,ticks:C}=e,N=PO(e,Xse),{id:P}=w,D=PO(w,Qse);return x.createElement(QS,$b({},N,D,{ref:a,labelRef:l,scale:m,x:_.x,y:_.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:y.width,height:y.height,className:et("recharts-".concat(h," ").concat(h),n),viewBox:u,ticks:T,axisType:h}))},nle={allowDataOverflow:Xt.allowDataOverflow,allowDecimals:Xt.allowDecimals,allowDuplicatedCategory:Xt.allowDuplicatedCategory,angle:Xt.angle,axisLine:Zi.axisLine,hide:!1,includeHidden:Xt.includeHidden,interval:Xt.interval,minTickGap:Xt.minTickGap,mirror:Xt.mirror,orientation:Xt.orientation,padding:Xt.padding,reversed:Xt.reversed,scale:Xt.scale,tick:Xt.tick,tickCount:Xt.tickCount,tickLine:Zi.tickLine,tickSize:Zi.tickSize,type:Xt.type,width:Xt.width,yAxisId:0},rle=e=>{var t=dn(e,nle);return x.createElement(x.Fragment,null,x.createElement(ele,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),x.createElement(tle,t))},mU=x.memo(rle,hU);mU.displayName="YAxis";var ile=(e,t)=>t,eT=Z([ile,ht,y2,Ft,yL,ba,mne,hn],Tne),tT=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},gU=kr("mouseClick"),yU=Uc();yU.startListening({actionCreator:gU,effect:(e,t)=>{var n=e.payload,r=eT(t.getState(),tT(n));r?.activeIndex!=null&&t.dispatch(hte({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Bb=kr("mouseMove"),vU=Uc(),Ud=null;vU.startListening({actionCreator:Bb,effect:(e,t)=>{var n=e.payload;Ud!==null&&cancelAnimationFrame(Ud);var r=tT(n);Ud=requestAnimationFrame(()=>{var i=t.getState(),a=US(i,i.tooltip.settings.shared);if(a==="axis"){var l=eT(i,r);l?.activeIndex!=null?t.dispatch(uL({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(lL())}Ud=null})}});var NO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},bU=Vn({name:"rootProps",initialState:NO,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:NO.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),ale=bU.reducer,{updateOptions:ole}=bU.actions,_U=Vn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:wue}=_U.actions,sle=_U.reducer,SU=kr("keyDown"),TU=kr("focus"),nT=Uc();nT.startListening({actionCreator:SU,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var l=jS(i,kl(n),Kc(n),Qc(n)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var c=ba(n);if(a==="Enter"){var d=Wh(n,"axis","hover",String(i.index));t.dispatch(Rb({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var h=ite(n),m=h==="left-to-right"?1:-1,y=a==="ArrowRight"?1:-1,_=u+y*m;if(!(c==null||_>=c.length||_<0)){var T=Wh(n,"axis","hover",String(_));t.dispatch(Rb({active:!0,activeIndex:_.toString(),activeDataKey:void 0,activeCoordinate:T}))}}}}}});nT.startListening({actionCreator:TU,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",l=Wh(n,"axis","hover",String(a));t.dispatch(Rb({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:l}))}}}});var Ar=kr("externalEvent"),EU=Uc(),o0=new Map;EU.startListening({actionCreator:Ar,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=o0.get(i);a!==void 0&&cancelAnimationFrame(a);var l=requestAnimationFrame(()=>{try{var u=t.getState(),c={activeCoordinate:Zte(u),activeDataKey:Xte(u),activeIndex:wc(u),activeLabel:_L(u),activeTooltipIndex:wc(u),isTooltipActive:ene(u)};n(c,r)}finally{o0.delete(i)}});o0.set(i,l)}}});var lle=Z([Rl],e=>e.tooltipItemPayloads),ule=Z([lle,Jc,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var l=t(a,n);return l}}}),wU=kr("touchMove"),xU=Uc();xU.startListening({actionCreator:wU,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=US(r,r.tooltip.settings.shared);if(i==="axis"){var a=eT(r,tT({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&t.dispatch(uL({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var l,u=n.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(u.clientX,u.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(L7),h=(l=c.getAttribute(U7))!==null&&l!==void 0?l:void 0,m=ule(t.getState(),d,h);t.dispatch(dte({activeDataKey:h,activeIndex:d,activeCoordinate:m}))}}}});var cle=hR({brush:ioe,cartesianAxis:bae,chartData:ere,errorBars:Pae,graphicalItems:Jie,layout:_7,legend:OW,options:Wne,polarAxis:_ie,polarOptions:sle,referenceElements:moe,rootProps:ale,tooltip:pte,zIndex:Lne}),fle=function(t){return G9({reducer:cle,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([yU.middleware,vU.middleware,nT.middleware,EU.middleware,xU.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(MR({type:"raf"}))},devTools:Ml.devToolsEnabled})};function dle(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Mn(),a=x.useRef(null);if(i)return n;a.current==null&&(a.current=fle(t));var l=D_;return x.createElement(eoe,{context:l,store:a.current},n)}function hle(e){var{layout:t,margin:n}=e,r=Pt(),i=Mn();return x.useEffect(()=>{i||(r(y7(t)),r(g7(n)))},[r,i,t,n]),null}var ple=x.memo(hle,JS);function mle(e){var t=Pt();return x.useEffect(()=>{t(ole(e))},[t,e]),null}function OO(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=KL("".concat(r).concat(t)),a=Pt();return x.useLayoutEffect(()=>(a(Rne({zIndex:t,elementId:i,isPanorama:n})),()=>{a(kne({zIndex:t,isPanorama:n}))}),[a,t,i,n]),x.createElement("g",{id:i})}function IO(e){var{children:t,isPanorama:n}=e,r=_e(wne);if(!r||r.length===0)return t;var i=r.filter(l=>l<0),a=r.filter(l=>l>0);return x.createElement(x.Fragment,null,i.map(l=>x.createElement(OO,{key:l,zIndex:l,isPanorama:n})),t,a.map(l=>x.createElement(OO,{key:l,zIndex:l,isPanorama:n})))}var gle=["children"];function yle(e,t){if(e==null)return{};var n,r,i=vle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function rp(){return rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rp.apply(null,arguments)}var ble={width:"100%",height:"100%",display:"block"},_le=x.forwardRef((e,t)=>{var n=F_(),r=H_(),i=ok();if(!fi(n)||!fi(r))return null;var{children:a,otherAttributes:l,title:u,desc:c}=e,d,h;return l!=null&&(typeof l.tabIndex=="number"?d=l.tabIndex:d=i?0:void 0,typeof l.role=="string"?h=l.role:h=i?"application":void 0),x.createElement(E_,rp({},l,{title:u,desc:c,role:h,tabIndex:d,width:n,height:r,style:ble,ref:t}),a)}),Sle=e=>{var{children:t}=e,n=_e(Lp);if(!n)return null;var{width:r,height:i,y:a,x:l}=n;return x.createElement(E_,{width:r,height:i,x:l,y:a},t)},DO=x.forwardRef((e,t)=>{var{children:n}=e,r=yle(e,gle),i=Mn();return i?x.createElement(Sle,null,x.createElement(IO,{isPanorama:!0},n)):x.createElement(_le,rp({ref:t},r),x.createElement(IO,{isPanorama:!1},n))});function Tle(){var e=Pt(),[t,n]=x.useState(null),r=_e(k7);return x.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;wt(a)&&a!==r&&e(b7(a))}},[t,e,r]),n}function RO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ele(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RO(Object(n),!0).forEach(function(r){wle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wle(e,t,n){return(t=xle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xle(e){var t=Ale(e,"string");return typeof t=="symbol"?t:t+""}function Ale(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xo(){return Xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xo.apply(null,arguments)}var Cle=()=>(ure(),null);function ip(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Mle=x.forwardRef((e,t)=>{var n,r,i=x.useRef(null),[a,l]=x.useState({containerWidth:ip((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:ip((r=e.style)===null||r===void 0?void 0:r.height)}),u=x.useCallback((d,h)=>{l(m=>{var y=Math.round(d),_=Math.round(h);return m.containerWidth===y&&m.containerHeight===_?m:{containerWidth:y,containerHeight:_}})},[]),c=x.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null&&typeof ResizeObserver<"u"){var{width:h,height:m}=d.getBoundingClientRect();u(h,m);var y=T=>{var{width:w,height:E}=T[0].contentRect;u(w,E)},_=new ResizeObserver(y);_.observe(d),i.current=_}},[t,u]);return x.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[u]),x.createElement(x.Fragment,null,x.createElement(jp,{width:a.containerWidth,height:a.containerHeight}),x.createElement("div",Xo({ref:c},e)))}),Ple=x.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=x.useState({containerWidth:ip(n),containerHeight:ip(r)}),l=x.useCallback((c,d)=>{a(h=>{var m=Math.round(c),y=Math.round(d);return h.containerWidth===m&&h.containerHeight===y?h:{containerWidth:m,containerHeight:y}})},[]),u=x.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:d,height:h}=c.getBoundingClientRect();l(d,h)}},[t,l]);return x.createElement(x.Fragment,null,x.createElement(jp,{width:i.containerWidth,height:i.containerHeight}),x.createElement("div",Xo({ref:u},e)))}),Nle=x.forwardRef((e,t)=>{var{width:n,height:r}=e;return x.createElement(x.Fragment,null,x.createElement(jp,{width:n,height:r}),x.createElement("div",Xo({ref:t},e)))}),Ole=x.forwardRef((e,t)=>{var{width:n,height:r}=e;return aa(n)||aa(r)?x.createElement(Ple,Xo({},e,{ref:t})):x.createElement(Nle,Xo({},e,{ref:t}))});function Ile(e){return e===!0?Mle:Ole}var Dle=x.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:l,onDoubleClick:u,onMouseDown:c,onMouseEnter:d,onMouseLeave:h,onMouseMove:m,onMouseUp:y,onTouchEnd:_,onTouchMove:T,onTouchStart:w,style:E,width:C,responsive:N,dispatchTouchEvents:P=!0}=e,D=x.useRef(null),O=Pt(),[R,k]=x.useState(null),[q,G]=x.useState(null),H=Tle(),$=B_(),F=$?.width>0?$.width:C,fe=$?.height>0?$.height:i,me=x.useCallback(ee=>{H(ee),typeof t=="function"&&t(ee),k(ee),G(ee),ee!=null&&(D.current=ee)},[H,t,k,G]),Se=x.useCallback(ee=>{O(gU(ee)),O(Ar({handler:a,reactEvent:ee}))},[O,a]),B=x.useCallback(ee=>{O(Bb(ee)),O(Ar({handler:d,reactEvent:ee}))},[O,d]),ne=x.useCallback(ee=>{O(lL()),O(Ar({handler:h,reactEvent:ee}))},[O,h]),le=x.useCallback(ee=>{O(Bb(ee)),O(Ar({handler:m,reactEvent:ee}))},[O,m]),ue=x.useCallback(()=>{O(TU())},[O]),Me=x.useCallback(ee=>{O(SU(ee.key))},[O]),U=x.useCallback(ee=>{O(Ar({handler:l,reactEvent:ee}))},[O,l]),X=x.useCallback(ee=>{O(Ar({handler:u,reactEvent:ee}))},[O,u]),se=x.useCallback(ee=>{O(Ar({handler:c,reactEvent:ee}))},[O,c]),ce=x.useCallback(ee=>{O(Ar({handler:y,reactEvent:ee}))},[O,y]),re=x.useCallback(ee=>{O(Ar({handler:w,reactEvent:ee}))},[O,w]),he=x.useCallback(ee=>{P&&O(wU(ee)),O(Ar({handler:T,reactEvent:ee}))},[O,P,T]),Ee=x.useCallback(ee=>{O(Ar({handler:_,reactEvent:ee}))},[O,_]),Ie=Ile(N);return x.createElement(CL.Provider,{value:R},x.createElement(MD.Provider,{value:q},x.createElement(Ie,{width:F??E?.width,height:fe??E?.height,className:et("recharts-wrapper",r),style:Ele({position:"relative",cursor:"default",width:F,height:fe},E),onClick:Se,onContextMenu:U,onDoubleClick:X,onFocus:ue,onKeyDown:Me,onMouseDown:se,onMouseEnter:B,onMouseLeave:ne,onMouseMove:le,onMouseUp:ce,onTouchEnd:Ee,onTouchMove:he,onTouchStart:re,ref:me},x.createElement(Cle,null),n)))}),Rle=["width","height","responsive","children","className","style","compact","title","desc"];function kle(e,t){if(e==null)return{};var n,r,i=Lle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Lle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ule=x.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:l,style:u,compact:c,title:d,desc:h}=e,m=kle(e,Rle),y=ui(m);return c?x.createElement(x.Fragment,null,x.createElement(jp,{width:n,height:r}),x.createElement(DO,{otherAttributes:y,title:d,desc:h},a)):x.createElement(Dle,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(DO,{otherAttributes:y,title:d,desc:h,ref:t},x.createElement(goe,null,a)))});function Fb(){return Fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fb.apply(null,arguments)}var jle={top:5,right:5,bottom:5,left:5},qle={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:jle,reverseStackOrder:!1,syncMethod:"index",responsive:!1},zle=x.forwardRef(function(t,n){var r,i=dn(t.categoricalChartProps,qle),{chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,categoricalChartProps:d}=t,h={chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return x.createElement(dle,{preloadedState:{options:h},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:a},x.createElement(roe,{chartData:d.data}),x.createElement(ple,{layout:i.layout,margin:i.margin}),x.createElement(mle,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),x.createElement(Ule,Fb({},i,{ref:n})))}),$le=["axis"],Ble=x.forwardRef((e,t)=>x.createElement(zle,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:$le,tooltipPayloadSearcher:Kne,categoricalChartProps:e,ref:t}));const zi={calories:"#FF6B6B",purines:"#845EF7",protein:"#339AF0",carbs:"#FCC419",fat:"#51CF66",fiber:"#20C997",sodium:"#FF922B",sugar:"#F06595"},kO={week:{label:"This Week",days:7},month:{label:"This Month",days:30},custom:{label:"Custom",days:null}},LO={daily:{label:"Daily",days:1},weekly:{label:"Weekly",days:7},monthly:{label:"Monthly",days:30}},UO=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`},Fle=e=>{const t=new Date;return t.setDate(t.getDate()-e),t},Hle=(e,t)=>{const n=new Date(e+"T00:00:00");return t==="monthly"?n.toLocaleDateString("en-US",{month:"short",year:"2-digit"}):t==="weekly"?n.toLocaleDateString("en-US",{month:"short",day:"numeric"}):n.toLocaleDateString("en-US",{weekday:"short",day:"numeric"})},Gle=({active:e,payload:t,label:n})=>!e||!t?.length?null:A.jsxs("div",{className:"chart-tooltip",children:[A.jsx("p",{className:"tooltip-date",children:n}),t.map(r=>A.jsxs("p",{style:{color:r.color},children:[Bi[r.dataKey]?.icon," ",r.name,": ",Math.round(r.value),Bi[r.dataKey]?.unit]},r.dataKey))]});function Vle(){const{user:e}=ha(),{meals:t,isLoading:n}=fp(),r=e?.thresholds||ah,[i,a]=x.useState("week"),[l,u]=x.useState("daily"),[c,d]=x.useState(""),[h,m]=x.useState(""),[y,_]=x.useState({calories:!0,purines:!0,protein:!1,carbs:!1,fat:!1,fiber:!1,sodium:!1,sugar:!1}),{startDate:T,endDate:w}=x.useMemo(()=>{if(i==="custom"&&c&&h)return{startDate:c,endDate:h};const O=kO[i]?.days||7;return{startDate:UO(Fle(O-1)),endDate:UO(new Date)}},[i,c,h]),E=x.useMemo(()=>{if(!t?.length)return[];const O=t.filter(q=>q.date>=T&&q.date<=w),R={};O.forEach(q=>{R[q.date]||(R[q.date]={date:q.date,calories:0,purines:0,protein:0,carbs:0,fat:0,fiber:0,sodium:0,sugar:0}),q.total_nutrients&&Object.keys(R[q.date]).forEach(G=>{G!=="date"&&q.total_nutrients[G]&&(R[q.date][G]+=q.total_nutrients[G])})});let k=Object.values(R).sort((q,G)=>q.date.localeCompare(G.date));if(l!=="daily"){const q=[],G=LO[l].days;for(let H=0;H<k.length;H+=G){const $=k.slice(H,H+G);if($.length>0){const F={date:$[0].date};Object.keys(zi).forEach(fe=>{F[fe]=$.reduce((me,Se)=>me+(Se[fe]||0),0)/$.length}),q.push(F)}}k=q}return k.map(q=>({...q,displayDate:Hle(q.date,l)}))},[t,T,w,l]),C=O=>{_(R=>({...R,[O]:!R[O]}))},N=()=>{if(!E.length)return;const O=["Date",...Object.keys(zi).map($=>Bi[$].label)],R=E.map($=>[$.date,...Object.keys(zi).map(F=>Math.round($[F]||0))]),k=[O.join(","),...R.map($=>$.join(","))].join(`
`),q=new Blob([k],{type:"text/csv"}),G=URL.createObjectURL(q),H=document.createElement("a");H.href=G,H.download=`nutrition-data-${T}-to-${w}.csv`,H.click(),URL.revokeObjectURL(G)},P=O=>{switch(O){case"calories":return r.calories_max;case"purines":return r.purines_max;case"protein":return r.protein_target;case"carbs":return r.carbs_target;case"fat":return r.fat_target;case"fiber":return r.fiber_target;case"sodium":return r.sodium_max;case"sugar":return r.sugar_max;default:return null}},D=Object.entries(y).filter(([,O])=>O).map(([O])=>O);return n?A.jsxs("div",{className:"page charts-page",children:[A.jsx(na,{title:"Dragon's Scroll",subtitle:"View your nutrition history"}),A.jsx("div",{className:"loading-container",children:A.jsx("p",{children:"Loading your scroll..."})})]}):A.jsxs("div",{className:"page charts-page",children:[A.jsx(na,{title:"Dragon's Scroll",subtitle:"View your nutrition history"}),A.jsxs("div",{className:"card chart-controls",children:[A.jsx("div",{className:"control-row",children:A.jsxs("div",{className:"control-group",children:[A.jsx("label",{children:"Time Period"}),A.jsx("div",{className:"button-group",children:Object.entries(kO).map(([O,{label:R}])=>A.jsx("button",{className:`btn ${i===O?"btn-primary":"btn-secondary"}`,onClick:()=>a(O),children:R},O))})]})}),i==="custom"&&A.jsxs("div",{className:"control-row custom-dates",children:[A.jsxs("div",{className:"date-input",children:[A.jsx("label",{children:"From"}),A.jsx("input",{type:"date",value:c,onChange:O=>d(O.target.value)})]}),A.jsxs("div",{className:"date-input",children:[A.jsx("label",{children:"To"}),A.jsx("input",{type:"date",value:h,onChange:O=>m(O.target.value)})]})]}),A.jsx("div",{className:"control-row",children:A.jsxs("div",{className:"control-group",children:[A.jsx("label",{children:"Group By"}),A.jsx("div",{className:"button-group",children:Object.entries(LO).map(([O,{label:R}])=>A.jsx("button",{className:`btn btn-small ${l===O?"btn-primary":"btn-secondary"}`,onClick:()=>u(O),children:R},O))})]})})]}),A.jsxs("div",{className:"card nutrient-toggles",children:[A.jsx("label",{children:"Nutrients"}),A.jsx("div",{className:"toggle-grid",children:Object.entries(Bi).filter(([O])=>O!=="hydration").map(([O,{icon:R,label:k}])=>A.jsxs("button",{className:`nutrient-toggle ${y[O]?"active":""}`,style:{borderColor:y[O]?zi[O]:"var(--color-border)",backgroundColor:y[O]?`${zi[O]}20`:"transparent"},onClick:()=>C(O),children:[A.jsx("span",{className:"nutrient-icon",children:R}),A.jsx("span",{className:"nutrient-label",children:k})]},O))})]}),A.jsx("div",{className:"card chart-container",children:E.length>0?A.jsx(fW,{width:"100%",height:300,children:A.jsxs(Ble,{data:E,margin:{top:20,right:20,left:0,bottom:5},children:[A.jsx(aU,{strokeDasharray:"3 3",stroke:"var(--color-border)"}),A.jsx(pU,{dataKey:"displayDate",tick:{fill:"var(--color-text-secondary)",fontSize:12},tickLine:{stroke:"var(--color-border)"}}),A.jsx(mU,{tick:{fill:"var(--color-text-secondary)",fontSize:12},tickLine:{stroke:"var(--color-border)"}}),A.jsx(yre,{content:A.jsx(Gle,{})}),A.jsx(ak,{}),D.map(O=>{const R=P(O);return R?A.jsx(nU,{y:R,stroke:zi[O],strokeDasharray:"5 5",strokeOpacity:.6},`ref-${O}`):null}),Object.entries(y).map(([O,R])=>R?A.jsx(dU,{type:"monotone",dataKey:O,name:Bi[O].label,stroke:zi[O],strokeWidth:2,dot:{fill:zi[O],strokeWidth:0,r:4},activeDot:{r:6,strokeWidth:2}},O):null)]})}):A.jsxs("div",{className:"no-data",children:[A.jsx("p",{className:"text-muted",children:"No data for selected period"}),A.jsx("p",{className:"text-small",children:"Log some meals to see your nutrition trends!"})]})}),E.length>0&&A.jsxs("div",{className:"card chart-legend",children:[A.jsx("h3",{children:"Daily Targets"}),A.jsx("div",{className:"legend-grid",children:D.map(O=>{const R=P(O);return R?A.jsxs("div",{className:"legend-item",children:[A.jsx("span",{className:"legend-color",style:{backgroundColor:zi[O]}}),A.jsxs("span",{className:"legend-label",children:[Bi[O].icon," ",Bi[O].label]}),A.jsxs("span",{className:"legend-value",children:[R,Bi[O].unit]})]},O):null})})]}),E.length>0&&A.jsx("button",{className:"btn btn-secondary export-btn",onClick:N,children:" Export Scroll as CSV"})]})}const Kle=[{key:"breakfast",icon:"",label:"Breakfast"},{key:"lunch",icon:"",label:"Lunch"},{key:"dinner",icon:"",label:"Dinner"},{key:"snack",icon:"",label:"Snack"}],Yle={familiar:"",twist:"",wild:""},Wle={familiar:"The Familiar Feast",twist:"The Twisted Tale",wild:"The Wild Adventure"};function Jle(){const{user:e}=ha(),[t,n]=x.useState("lunch"),[r,i]=x.useState("today"),[a,l]=x.useState(!1),[u,c]=x.useState(null),[d,h]=x.useState(""),[m,y]=x.useState(new Set),_=L0(),{meals:T,addMeal:w,getDailyTotals:E}=fp(_),{meals:C}=dp();h_();const N=e?.thresholds||{},P=E(_),D=Math.max(0,(N.calories_max||2e3)-(P.calories||0)),O=Math.max(0,(N.purines_max||400)-(P.purines||0)),R=x.useMemo(()=>{const H={};return(C||[]).forEach($=>{($.ingredients||[]).forEach(F=>{const fe=F.name?.toLowerCase();fe&&(H[fe]=(H[fe]||0)+1)})}),Object.entries(H).sort(($,F)=>F[1]-$[1]).slice(0,10).map(([$])=>$)},[C]),k=e?.conditions||[],q=async()=>{if(!sc()){h("Please set your Gemini API key in Settings first.");return}l(!0),h(""),c(null),y(new Set);try{const H=r==="today"?T:(C||[]).filter(F=>{const fe=new Date(F.date),me=new Date;return me.setDate(me.getDate()-6),fe>=me}),$=await rK({mealType:t,dietaryConditions:k,remainingCalories:D,remainingPurines:O,frequentIngredients:R,todaysMeals:H});c($)}catch(H){console.error("Oracle failed:",H),h(H.message||"Failed to get recommendations. Try again.")}finally{l(!1)}},G=async H=>{try{const $={date:_,meal_type:t,meal_name:H.name,description:H.description,ingredients:(H.ingredients||[]).map(F=>({name:F.name,quantity:F.quantity,unit:F.unit,grams:F.grams||(F.unit==="g"?F.quantity:100),nutrients:{calories:(H.estimated_nutrients?.calories||0)/(H.ingredients?.length||1),purines:(H.estimated_nutrients?.purines||0)/(H.ingredients?.length||1),protein:(H.estimated_nutrients?.protein||0)/(H.ingredients?.length||1),carbs:(H.estimated_nutrients?.carbs||0)/(H.ingredients?.length||1),fat:(H.estimated_nutrients?.fat||0)/(H.ingredients?.length||1)}})),total_nutrients:H.estimated_nutrients||{},analysis_method:"recommendation"};await w($),y(F=>new Set([...F,H.type]))}catch($){console.error("Failed to log meal:",$),h("Failed to log meal. Try again.")}};return A.jsxs("div",{className:"page oracle-page",children:[A.jsx(na,{title:"Dragon Oracle",subtitle:"Get meal recommendations"}),A.jsxs("div",{className:"budget-card card",children:[A.jsx("h3",{children:" Your dragon can still enjoy:"}),A.jsxs("div",{className:"budget-values",children:[A.jsxs("span",{className:"budget-item",children:[A.jsx("span",{className:"budget-icon",children:""}),A.jsx("span",{className:"budget-value",children:Math.round(D)}),A.jsx("span",{className:"budget-label",children:"cal remaining"})]}),A.jsxs("span",{className:"budget-item",children:[A.jsx("span",{className:"budget-icon",children:""}),A.jsx("span",{className:"budget-value",children:Math.round(O)}),A.jsx("span",{className:"budget-label",children:"mg purines left"})]})]})]}),A.jsxs("div",{className:"options-card card",children:[A.jsxs("div",{className:"option-group",children:[A.jsx("label",{children:"Consider meals from:"}),A.jsxs("div",{className:"radio-group",children:[A.jsxs("label",{className:`radio-option ${r==="today"?"active":""}`,children:[A.jsx("input",{type:"radio",name:"considerDays",value:"today",checked:r==="today",onChange:H=>i(H.target.value)}),A.jsx("span",{children:"Today only"})]}),A.jsxs("label",{className:`radio-option ${r==="week"?"active":""}`,children:[A.jsx("input",{type:"radio",name:"considerDays",value:"week",checked:r==="week",onChange:H=>i(H.target.value)}),A.jsx("span",{children:"Last 7 days"})]})]})]}),A.jsxs("div",{className:"option-group",children:[A.jsx("label",{children:"What meal needs wisdom?"}),A.jsx("div",{className:"meal-type-buttons",children:Kle.map(H=>A.jsxs("button",{className:`meal-type-btn ${t===H.key?"active":""}`,onClick:()=>n(H.key),children:[A.jsx("span",{className:"meal-icon",children:H.icon}),A.jsx("span",{className:"meal-label",children:H.label})]},H.key))})]}),A.jsx("button",{className:"btn btn-primary btn-cook",onClick:q,disabled:a,children:a?A.jsx(A.Fragment,{children:" Consulting the Oracle..."}):A.jsx(A.Fragment,{children:" Let's Cook!"})})]}),d&&A.jsx("div",{className:"error-card card",children:A.jsxs("span",{children:[" ",d]})}),u&&u.length>0&&A.jsxs("section",{className:"visions-section",children:[A.jsx("h2",{className:"section-title",children:" Oracle's Visions"}),u.map(H=>A.jsxs("div",{className:`vision-card card vision-${H.type}`,children:[A.jsxs("div",{className:"vision-header",children:[A.jsx("span",{className:"vision-icon",children:Yle[H.type]}),A.jsx("h3",{className:"vision-title",children:Wle[H.type]})]}),A.jsx("h4",{className:"meal-name",children:H.name}),A.jsx("p",{className:"meal-description",children:H.description}),H.ingredients&&H.ingredients.length>0&&A.jsx("ul",{className:"ingredients-list",children:H.ingredients.map(($,F)=>A.jsxs("li",{children:[$.name," (",$.quantity,$.unit,")"]},F))}),A.jsxs("div",{className:"vision-nutrients",children:[A.jsxs("span",{children:[" ",Math.round(H.estimated_nutrients?.calories||0)," cal"]}),A.jsxs("span",{children:[" ",Math.round(H.estimated_nutrients?.purines||0),"mg"]}),A.jsxs("span",{children:[" ",Math.round(H.estimated_nutrients?.protein||0),"g"]})]}),A.jsx("div",{className:"vision-actions",children:m.has(H.type)?A.jsx("button",{className:"btn btn-secondary",disabled:!0,children:" Logged!"}):A.jsx("button",{className:"btn btn-primary",onClick:()=>G(H),children:" I Made This!"})})]},H.type))]}),!u&&!a&&!d&&A.jsxs("div",{className:"empty-state card",children:[A.jsx(oh,{state:"curious"}),A.jsx("p",{children:`Select your preferences and tap "Let's Cook!" for AI-powered meal suggestions!`})]}),a&&A.jsxs("div",{className:"loading-state card",children:[A.jsx(oh,{state:"thinking"}),A.jsx("p",{children:"The Oracle is gazing into the flames..."})]})]})}function Xle(){const e=op(),{user:t,isLoading:n,updateProfile:r,updateThresholds:i,updateTheme:a,saveUser:l}=ha(),{savedMeals:u,bottles:c}=d_(),{totalMeals:d,calculateStreak:h}=dp(),{ingredients:m,allMeals:y,updateIngredient:_,deleteIngredient:T,findMealsWithIngredient:w,propagateToMeals:E,getIngredientUsageCount:C,backfillFromMeals:N,renameIngredientInMeals:P}=h_(),[D,O]=x.useState({name:"Dragon Keeper",sex:"male",age:30,weight_kg:75,height_cm:175,activity_level:"moderate",dietary_conditions:[]}),[R,k]=x.useState(ah),[q,G]=x.useState("emerald"),[H,$]=x.useState("#66BB6A"),[F,fe]=x.useState(!1),[me,Se]=x.useState(!1),[B,ne]=x.useState(""),[le,ue]=x.useState(!1),[Me,U]=x.useState(sc()?"saved":"none"),[X,se]=x.useState(!1),[ce,re]=x.useState(""),[he,Ee]=x.useState(null),[Ie,ee]=x.useState({}),[we,De]=x.useState("none"),[oe,pt]=x.useState(!1),[Le,bt]=x.useState(!1),[_t,En]=x.useState(!1),[pn,Qr]=x.useState(!1),[Kn,_a]=x.useState([]);x.useEffect(()=>{X&&!_t&&!Le&&m.length===0&&y.length>0&&(bt(!0),N().then(je=>{console.log(" Backfill complete:",je),En(!0)}).catch(je=>console.error("Backfill failed:",je)).finally(()=>bt(!1)))},[X,_t,Le,m.length,y.length,N]),x.useEffect(()=>{t&&(O({name:t.name||"Dragon Keeper",...t.profile}),k(t.thresholds||ah),G(t.theme?.preset||"emerald"),$(t.theme?.seed_color_hex||"#66BB6A"))},[t]);const Ll=()=>{const Q=yH(D);k(Q),Se(!0)},Nn=(Q,je)=>{k(Vt=>({...Vt,[Q]:Number(je)})),Se(!0)},Ue=Q=>{O(je=>({...je,...Q})),Se(!0)},ns=async Q=>{G(Q);const je=ic[Q],Vt=Lo(je.seedColor,je.isDark);Uo(Vt),await a(Q,je.seedColor)},rs=async Q=>{$(Q),G("custom");const je=Lo(Q,!1);Uo(je),await a("custom",Q)},On=()=>{B.trim()&&(Q8(B.trim()),U("saved"),ne(""),ue(!1),alert("AI API key saved! Your dragon can now analyze meals. "))},Sa=()=>{confirm("Remove your AI API key? Your dragon won't be able to analyze meals.")&&(Z8(),U("none"),ne(""))},Ul=async()=>{const Q={...t,name:D.name,profile:{sex:D.sex,age:D.age,weight_kg:D.weight_kg,height_cm:D.height_cm,activity_level:D.activity_level,dietary_conditions:D.dietary_conditions},thresholds:R};await r(Q.profile),await i(R),await l(Q),Se(!1),alert("Dragon's settings saved! ")},Zr=Q=>{Ee(Q),ee({calories:Q.nutrients_per_100g?.calories||0,purines:Q.nutrients_per_100g?.purines||0,protein:Q.nutrients_per_100g?.protein||0,carbs:Q.nutrients_per_100g?.carbs||0,fat:Q.nutrients_per_100g?.fat||0,fiber:Q.nutrients_per_100g?.fiber||0,sodium:Q.nutrients_per_100g?.sodium||0,sugar:Q.nutrients_per_100g?.sugar||0}),De("none")},is=async()=>{if(!he)return;const Q={calories:parseFloat(Ie.calories)||0,purines:parseFloat(Ie.purines)||0,protein:parseFloat(Ie.protein)||0,carbs:parseFloat(Ie.carbs)||0,fat:parseFloat(Ie.fat)||0,fiber:parseFloat(Ie.fiber)||0,sodium:parseFloat(Ie.sodium)||0,sugar:parseFloat(Ie.sugar)||0};if(await _(he.normalized_name,{nutrients_per_100g:Q}),we!=="none"){pt(!0);const je=we==="all"?null:we,Vt=await E(he.normalized_name,Q,je);pt(!1),alert(`Updated ${Vt.updated} meals with new values! `)}else alert("Ingredient updated! Future meals will use the new values. ");Ee(null)},jl=async Q=>{const je=C(Q.normalized_name),Vt=je>0?`Delete "${Q.display_name}"? It's used in ${je} meals. The AI will re-analyze it next time.`:`Delete "${Q.display_name}" from the cache?`;confirm(Vt)&&await T(Q.normalized_name)},yi=Q=>{_a(je=>je.includes(Q)?je.filter(Vt=>Vt!==Q):[...je,Q])},Gt=async()=>{if(Kn.length<2){alert("Select at least 2 ingredients to merge");return}const Q=m.filter(mn=>Kn.includes(mn.normalized_name)),je=Q.map((mn,Xn)=>`${Xn+1}. ${mn.display_name} (${C(mn.normalized_name)} meals)`).join(`
`),Vt=prompt(`Which ingredient should be the PRIMARY (all others will be renamed to this)?

${je}

Enter the number (1-${Q.length}):`,"1");if(!Vt)return;const In=parseInt(Vt)-1;if(isNaN(In)||In<0||In>=Q.length){alert("Invalid selection");return}const Yn=Q[In],vi=Q.filter((mn,Xn)=>Xn!==In),Wn=confirm(`Use averaged nutritional values?

OK = Average all selected ingredients
Cancel = Keep "${Yn.display_name}" values`);let Jn;if(Wn){Jn={};const mn=["calories","purines","protein","carbs","fat","fiber","sodium","sugar"];for(const Xn of mn){const uo=Q.reduce((bi,ql)=>bi+(ql.nutrients_per_100g?.[Xn]||0),0);Jn[Xn]=Math.round(uo/Q.length*10)/10}}else Jn=Yn.nutrients_per_100g;pt(!0);let jr=0;for(const mn of vi){const Xn=await P(mn.normalized_name,Yn.display_name,Jn);jr+=Xn.updated,await T(mn.normalized_name)}if(Wn){await _(Yn.normalized_name,{nutrients_per_100g:Jn});const mn=await E(Yn.normalized_name,Jn,null);jr+=mn.updated}pt(!1),_a([]),Qr(!1),alert(` Merged ${Q.length} ingredients into "${Yn.display_name}"!

 ${jr} meals updated
 ${vi.length} duplicate(s) removed from cache`)},hr=()=>{Qr(!1),_a([])},Nt=m.filter(Q=>!ce||Q.display_name?.toLowerCase().includes(ce.toLowerCase())||Q.normalized_name?.toLowerCase().includes(ce.toLowerCase())).sort((Q,je)=>(je.use_count||0)-(Q.use_count||0));return n?A.jsxs("div",{className:"page settings-page",children:[A.jsx(na,{title:"Dragon's Lair",subtitle:"Loading..."}),A.jsxs("div",{className:"loading-state card",children:[A.jsx("div",{className:"spinner"}),A.jsx("p",{children:"Opening the lair..."})]})]}):A.jsxs("div",{className:"page settings-page",children:[A.jsx(na,{title:"Dragon's Lair",subtitle:"Configure your dragon's needs"}),A.jsxs("section",{className:"settings-section card",children:[A.jsx("h2",{className:"section-title",children:" Keeper's Profile"}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Name"}),A.jsx("input",{type:"text",value:D.name,onChange:Q=>Ue({name:Q.target.value})})]}),A.jsxs("div",{className:"form-row",children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Sex"}),A.jsxs("select",{value:D.sex,onChange:Q=>Ue({sex:Q.target.value}),children:[A.jsx("option",{value:"male",children:"Male"}),A.jsx("option",{value:"female",children:"Female"}),A.jsx("option",{value:"other",children:"Other"})]})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Age"}),A.jsx("input",{type:"number",value:D.age,onChange:Q=>Ue({age:parseInt(Q.target.value)})})]})]}),A.jsxs("div",{className:"form-row",children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Weight (kg)"}),A.jsx("input",{type:"number",value:D.weight_kg,onChange:Q=>Ue({weight_kg:parseInt(Q.target.value)})})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Height (cm)"}),A.jsx("input",{type:"number",value:D.height_cm,onChange:Q=>Ue({height_cm:parseInt(Q.target.value)})})]})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Activity Level"}),A.jsxs("select",{value:D.activity_level,onChange:Q=>Ue({activity_level:Q.target.value}),children:[A.jsx("option",{value:"sedentary",children:"Sedentary (little exercise)"}),A.jsx("option",{value:"light",children:"Light (1-3 days/week)"}),A.jsx("option",{value:"moderate",children:"Moderate (3-5 days/week)"}),A.jsx("option",{value:"active",children:"Active (6-7 days/week)"}),A.jsx("option",{value:"very_active",children:"Very Active (intense daily)"})]})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Dietary Conditions"}),A.jsx("div",{className:"checkbox-group",children:["gout","diabetes","kidney_disease","vegetarian","vegan"].map(Q=>A.jsxs("label",{className:"checkbox-label",children:[A.jsx("input",{type:"checkbox",checked:D.dietary_conditions?.includes(Q)||!1,onChange:je=>{const Vt=je.target.checked?[...D.dietary_conditions||[],Q]:(D.dietary_conditions||[]).filter(In=>In!==Q);Ue({dietary_conditions:Vt})}}),A.jsx("span",{children:Q.replace("_"," ")})]},Q))})]}),A.jsx("button",{className:"btn btn-primary w-full",onClick:Ll,children:"Calculate Dragon's Needs "}),me&&A.jsx("button",{className:"btn btn-primary w-full mt-sm",onClick:Ul,children:" Save All Changes"})]}),A.jsxs("section",{className:"settings-section card",children:[A.jsx("h2",{className:"section-title",children:" Dragon's Hoard"}),A.jsx("p",{className:"text-muted",children:"Manage your saved meals and custom bottles."}),A.jsxs("div",{className:"stash-buttons",children:[A.jsxs("button",{className:"btn btn-secondary",onClick:()=>e("/stash"),children:[" Saved Meals (",u?.length||0,")"]}),A.jsxs("button",{className:"btn btn-secondary",onClick:()=>e("/stash?tab=bottles"),children:[" Custom Bottles (",c?.length||0,")"]})]})]}),A.jsxs("section",{className:"settings-section card",children:[A.jsxs("div",{className:"section-header-row",children:[A.jsx("h2",{className:"section-title",children:" Nutrition Thresholds"}),A.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>fe(!F),children:F?"Done":"Edit"})]}),A.jsxs("div",{className:"threshold-row",children:[A.jsx("span",{className:"threshold-label",children:" Calories"}),F?A.jsxs("div",{className:"threshold-inputs",children:[A.jsx("input",{type:"number",value:R.calories_min,onChange:Q=>Nn("calories_min",Q.target.value),className:"threshold-input"}),A.jsx("span",{children:"-"}),A.jsx("input",{type:"number",value:R.calories_max,onChange:Q=>Nn("calories_max",Q.target.value),className:"threshold-input"}),A.jsx("span",{children:"kcal"})]}):A.jsxs("span",{className:"threshold-value",children:[R.calories_min," - ",R.calories_max," kcal"]})]}),A.jsxs("div",{className:"threshold-row",children:[A.jsx("span",{className:"threshold-label",children:" Purines"}),F?A.jsxs("div",{className:"threshold-inputs",children:[A.jsx("input",{type:"number",value:R.purines_max,onChange:Q=>Nn("purines_max",Q.target.value),className:"threshold-input"}),A.jsx("span",{children:"mg max"})]}):A.jsxs("span",{className:"threshold-value",children:[R.purines_max," mg max"]})]}),A.jsxs("div",{className:"threshold-row",children:[A.jsx("span",{className:"threshold-label",children:" Protein"}),F?A.jsxs("div",{className:"threshold-inputs",children:[A.jsx("input",{type:"number",value:R.protein_target,onChange:Q=>Nn("protein_target",Q.target.value),className:"threshold-input"}),A.jsx("span",{children:"g target"})]}):A.jsxs("span",{className:"threshold-value",children:[R.protein_target," g target"]})]}),A.jsxs("div",{className:"threshold-row",children:[A.jsx("span",{className:"threshold-label",children:" Carbs"}),F?A.jsxs("div",{className:"threshold-inputs",children:[A.jsx("input",{type:"number",value:R.carbs_target,onChange:Q=>Nn("carbs_target",Q.target.value),className:"threshold-input"}),A.jsx("span",{children:"g target"})]}):A.jsxs("span",{className:"threshold-value",children:[R.carbs_target," g target"]})]}),A.jsxs("div",{className:"threshold-row",children:[A.jsx("span",{className:"threshold-label",children:" Fat"}),F?A.jsxs("div",{className:"threshold-inputs",children:[A.jsx("input",{type:"number",value:R.fat_target,onChange:Q=>Nn("fat_target",Q.target.value),className:"threshold-input"}),A.jsx("span",{children:"g target"})]}):A.jsxs("span",{className:"threshold-value",children:[R.fat_target," g target"]})]}),A.jsxs("div",{className:"threshold-row",children:[A.jsx("span",{className:"threshold-label",children:" Fiber"}),F?A.jsxs("div",{className:"threshold-inputs",children:[A.jsx("input",{type:"number",value:R.fiber_target,onChange:Q=>Nn("fiber_target",Q.target.value),className:"threshold-input"}),A.jsx("span",{children:"g target"})]}):A.jsxs("span",{className:"threshold-value",children:[R.fiber_target," g target"]})]}),A.jsxs("div",{className:"threshold-row",children:[A.jsx("span",{className:"threshold-label",children:" Sodium"}),F?A.jsxs("div",{className:"threshold-inputs",children:[A.jsx("input",{type:"number",value:R.sodium_max,onChange:Q=>Nn("sodium_max",Q.target.value),className:"threshold-input"}),A.jsx("span",{children:"mg max"})]}):A.jsxs("span",{className:"threshold-value",children:[R.sodium_max," mg max"]})]}),A.jsxs("div",{className:"threshold-row",children:[A.jsx("span",{className:"threshold-label",children:" Sugar"}),F?A.jsxs("div",{className:"threshold-inputs",children:[A.jsx("input",{type:"number",value:R.sugar_max,onChange:Q=>Nn("sugar_max",Q.target.value),className:"threshold-input"}),A.jsx("span",{children:"g max"})]}):A.jsxs("span",{className:"threshold-value",children:[R.sugar_max," g max"]})]}),A.jsxs("div",{className:"threshold-row",children:[A.jsx("span",{className:"threshold-label",children:" Hydration"}),F?A.jsxs("div",{className:"threshold-inputs",children:[A.jsx("input",{type:"number",value:R.hydration_target,onChange:Q=>Nn("hydration_target",Q.target.value),className:"threshold-input"}),A.jsx("span",{children:"ml target"})]}):A.jsxs("span",{className:"threshold-value",children:[R.hydration_target," ml target"]})]}),F&&A.jsx("p",{className:"text-muted text-center mt-sm",children:`Tip: Use "Calculate Dragon's Needs" to auto-fill based on your profile.`})]}),A.jsxs("section",{className:"settings-section card",children:[A.jsx("h2",{className:"section-title",children:" Dragon Scale Theme"}),A.jsx("div",{className:"theme-presets",children:Object.entries(ic).map(([Q,je])=>A.jsxs("button",{className:`theme-preset ${q===Q?"active":""}`,onClick:()=>ns(Q),style:{"--preset-color":je.seedColor},children:[A.jsx("span",{className:"preset-swatch",style:{background:je.seedColor}}),A.jsx("span",{className:"preset-name",children:je.name}),A.jsx("span",{className:"preset-desc",children:je.description})]},Q))}),A.jsxs("div",{className:"custom-color-section",children:[A.jsx("label",{children:"Custom Dragon Scale Color"}),A.jsxs("div",{className:"color-picker-row",children:[A.jsx("input",{type:"color",value:H,onChange:Q=>rs(Q.target.value),className:"color-picker"}),A.jsx("input",{type:"text",value:H,onChange:Q=>rs(Q.target.value),className:"color-input",placeholder:"#66BB6A"})]})]}),A.jsxs("div",{className:"theme-preview card",children:[A.jsx("p",{className:"preview-label",children:"Preview"}),A.jsxs("div",{className:"preview-content",children:[A.jsx("div",{className:"preview-text",children:"Sample text"}),A.jsx("button",{className:"btn btn-primary",children:"Button"}),A.jsx("div",{className:"progress-bar",children:A.jsx("div",{className:"progress-bar-fill success",style:{width:"60%"}})})]})]})]}),A.jsxs("section",{className:"settings-section card",children:[A.jsx("h2",{className:"section-title",children:" Dragon Statistics"}),A.jsxs("div",{className:"stats-grid",children:[A.jsxs("div",{className:"stat-item",children:[A.jsx("span",{className:"stat-value",children:d}),A.jsx("span",{className:"stat-label",children:"Meals logged"})]}),A.jsxs("div",{className:"stat-item",children:[A.jsx("span",{className:"stat-value",children:h()}),A.jsx("span",{className:"stat-label",children:"Day streak "})]}),A.jsxs("div",{className:"stat-item",children:[A.jsx("span",{className:"stat-value",children:(u?.length||0)+(c?.length||0)}),A.jsx("span",{className:"stat-label",children:"In hoard"})]}),A.jsxs("div",{className:"stat-item",children:[A.jsx("span",{className:"stat-value",children:t?.badges?.length||0}),A.jsx("span",{className:"stat-label",children:"Badges"})]})]})]}),A.jsxs("section",{className:"settings-section card",children:[A.jsx("h2",{className:"section-title",children:" Ingredient Library"}),A.jsx("p",{className:"text-muted mb-md",children:"Manage cached ingredient data. Edit values to fix AI mistakes and optionally update past meals."}),A.jsx("div",{className:"stats-grid mb-md",children:A.jsxs("div",{className:"stat-item",children:[A.jsx("span",{className:"stat-value",children:m.length}),A.jsx("span",{className:"stat-label",children:"Cached ingredients"})]})}),A.jsx("button",{className:"btn btn-secondary w-full",onClick:()=>se(!0),children:" Manage Ingredients"})]}),X&&A.jsx("div",{className:"modal-overlay",onClick:()=>!he&&se(!1),children:A.jsxs("div",{className:"modal ingredient-manager-modal",onClick:Q=>Q.stopPropagation(),children:[A.jsxs("div",{className:"modal-header",children:[A.jsx("h2",{children:he?`Edit: ${he.display_name}`:" Ingredient Library"}),A.jsx("button",{className:"modal-close",onClick:()=>{Ee(null),se(!1)},children:""})]}),he?A.jsxs("div",{className:"modal-body",children:[A.jsxs("p",{className:"text-muted mb-md",children:["Edit nutritional values per 100g. Used in ",C(he.normalized_name)," meals."]}),A.jsxs("div",{className:"nutrient-edit-grid",children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:" Calories"}),A.jsx("input",{type:"number",value:Ie.calories,onChange:Q=>ee({...Ie,calories:Q.target.value})})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:" Purines (mg)"}),A.jsx("input",{type:"number",value:Ie.purines,onChange:Q=>ee({...Ie,purines:Q.target.value})})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:" Protein (g)"}),A.jsx("input",{type:"number",step:"0.1",value:Ie.protein,onChange:Q=>ee({...Ie,protein:Q.target.value})})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:" Carbs (g)"}),A.jsx("input",{type:"number",step:"0.1",value:Ie.carbs,onChange:Q=>ee({...Ie,carbs:Q.target.value})})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:" Fat (g)"}),A.jsx("input",{type:"number",step:"0.1",value:Ie.fat,onChange:Q=>ee({...Ie,fat:Q.target.value})})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:" Fiber (g)"}),A.jsx("input",{type:"number",step:"0.1",value:Ie.fiber,onChange:Q=>ee({...Ie,fiber:Q.target.value})})]})]}),A.jsxs("div",{className:"form-group mt-md",children:[A.jsx("label",{children:"Apply changes to past meals?"}),A.jsxs("select",{value:we,onChange:Q=>De(Q.target.value),className:"w-full",children:[A.jsx("option",{value:"none",children:"Don't update past meals"}),A.jsx("option",{value:"week",children:"Update meals from this week"}),A.jsx("option",{value:"month",children:"Update meals from this month"}),A.jsx("option",{value:"all",children:"Update ALL meals with this ingredient"})]}),we!=="none"&&A.jsxs("p",{className:"text-warning text-sm mt-sm",children:[" This will recalculate totals for ",w(he.normalized_name,we==="all"?null:we).length," meals"]})]}),A.jsxs("div",{className:"modal-actions mt-md",children:[A.jsx("button",{className:"btn btn-secondary",onClick:()=>Ee(null),children:"Cancel"}),A.jsx("button",{className:"btn btn-primary",onClick:is,disabled:oe,children:oe?"Updating...":" Save Changes"})]})]}):A.jsxs("div",{className:"modal-body",children:[A.jsxs("div",{className:"ingredient-toolbar mb-md",children:[A.jsx("input",{type:"text",placeholder:" Search ingredients...",value:ce,onChange:Q=>re(Q.target.value),className:"search-input flex-1"}),pn?A.jsxs(A.Fragment,{children:[A.jsx("button",{className:"btn btn-primary btn-sm ml-sm",onClick:Gt,disabled:Kn.length<2||oe,children:oe?"...":` Merge ${Kn.length}`}),A.jsx("button",{className:"btn btn-secondary btn-sm ml-sm",onClick:hr,children:""})]}):A.jsx("button",{className:"btn btn-secondary btn-sm ml-sm",onClick:()=>Qr(!0),disabled:Nt.length<2,children:" Merge"})]}),pn&&A.jsx("p",{className:"text-muted text-sm mb-sm",children:"Select 2+ ingredients to merge (duplicates in different languages, etc.)"}),Le?A.jsxs("div",{className:"empty-state",children:[A.jsx("p",{children:" Scanning meals for ingredients..."}),A.jsxs("p",{className:"text-muted",children:["Building your ingredient library from ",y.length," logged meals."]})]}):Nt.length===0?A.jsxs("div",{className:"empty-state",children:[A.jsx("p",{children:"No ingredients cached yet."}),A.jsx("p",{className:"text-muted",children:"Log some meals and the AI will cache ingredients automatically."})]}):A.jsx("div",{className:"ingredient-list",children:Nt.map(Q=>A.jsxs("div",{className:`ingredient-item ${pn&&Kn.includes(Q.normalized_name)?"selected":""}`,onClick:pn?()=>yi(Q.normalized_name):void 0,style:pn?{cursor:"pointer"}:void 0,children:[pn&&A.jsx("span",{className:"merge-checkbox",children:Kn.includes(Q.normalized_name)?"":""}),A.jsxs("div",{className:"ingredient-info",children:[A.jsx("span",{className:"ingredient-name",children:Q.display_name}),A.jsxs("span",{className:"ingredient-stats text-muted",children:[Q.nutrients_per_100g?.purines||0,"mg purines/100g  Used in ",C(Q.normalized_name)," meals"]})]}),!pn&&A.jsxs("div",{className:"ingredient-actions",children:[A.jsx("button",{className:"btn btn-sm btn-secondary",onClick:()=>Zr(Q),children:""}),A.jsx("button",{className:"btn btn-sm btn-secondary",onClick:()=>jl(Q),children:""})]})]},Q.normalized_name))})]})]})}),A.jsxs("section",{className:"settings-section card",children:[A.jsx("h2",{className:"section-title",children:" Dragon's Intelligence"}),A.jsx("p",{className:"text-muted mb-md",children:"Connect your dragon to Google's AI to automatically analyze meals from text descriptions or photos."}),Me==="saved"?A.jsxs("div",{className:"api-key-status",children:[A.jsx("div",{className:"status-badge success",children:A.jsx("span",{children:" AI Connected"})}),A.jsx("p",{className:"text-muted text-sm mt-sm",children:"Your dragon can analyze meals. Key stored locally on this device."}),A.jsx("button",{className:"btn btn-secondary btn-danger-outline mt-sm",onClick:Sa,children:" Remove API Key"})]}):A.jsxs("div",{className:"api-key-form",children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Google AI Studio API Key"}),A.jsxs("div",{className:"input-with-toggle",children:[A.jsx("input",{type:le?"text":"password",value:B,onChange:Q=>ne(Q.target.value),placeholder:"AIza...",className:"api-key-input"}),A.jsx("button",{type:"button",className:"toggle-visibility",onClick:()=>ue(!le),children:le?"":""})]}),A.jsxs("p",{className:"input-help",children:["Get your free key at"," ",A.jsx("a",{href:"https://aistudio.google.com/apikey",target:"_blank",rel:"noopener noreferrer",children:"Google AI Studio "})]})]}),A.jsx("button",{className:"btn btn-primary w-full",onClick:On,disabled:!B.trim(),children:" Save API Key"})]})]}),A.jsxs("section",{className:"settings-section card",children:[A.jsx("h2",{className:"section-title",children:" About"}),A.jsxs("p",{className:"text-center text-muted",children:["Purine Control v1.0.0",A.jsx("br",{}),`"The Dragon Keeper's Nutrition Tracker"`]}),A.jsx("p",{className:"text-center text-muted mt-md",children:"Made with  for your dragon"})]})]})}const Qle=[{id:"default-1",name:"Water Glass",capacity_ml:250,icon:"",type:"container"},{id:"default-2",name:"Water Bottle",capacity_ml:500,icon:"",type:"container"},{id:"default-3",name:"Dragon Chalice",capacity_ml:750,icon:"",type:"container"}],Zle=[{key:"meals",label:" Saved Meals",icon:""},{key:"bottles",label:" Bottles",icon:""}],eue=["","","","","","","",""];function tue(){const e=op(),[t,n]=f$(),r=t.get("tab")||"meals",[i,a]=x.useState(r),[l,u]=x.useState(""),[c,d]=x.useState(!1),[h,m]=x.useState(null),[y,_]=x.useState(""),[T,w]=x.useState(""),[E,C]=x.useState(250),[N,P]=x.useState({calories:0,purines:0,protein:0,carbs:0,fat:0}),{savedMeals:D,bottles:O,isLoading:R,addToStash:k,removeFromStash:q,updateStashItem:G}=d_(),{adjustHydration:H}=VI(),{addMeal:$}=fp(),{meals:F}=dp(),fe=x.useMemo(()=>re=>F.filter(he=>he.meal_name===re).length,[F]),me=[...Qle,...O],Se=re=>{a(re),n({tab:re})},B=async re=>{const he=re.capacity_ml||re.amount_ml;await H(he),alert(`Added ${he}ml to hydration! `)},ne=async re=>{await $({meal_type:"snack",meal_name:re.name,ingredients:re.ingredients||[],total_nutrients:re.total_nutrients||{}}),alert(`${re.name} added to diary! `),e("/")},le=async re=>{confirm("Remove this item from your hoard?")&&await q(re)},ue=()=>{_(""),w(""),C(250),P({calories:0,purines:0,protein:0,carbs:0,fat:0}),m(null),d(!1)},Me=()=>{ue(),d(!0)},U=re=>{m(re),_(re.name||""),w(re.icon||""),C(re.capacity_ml||re.amount_ml||250),P(re.nutrients||re.total_nutrients||{calories:0,purines:0,protein:0,carbs:0,fat:0}),d(!0)},X=async()=>{if(!y.trim()){alert("Please enter a name");return}const re=h?.id?.startsWith("default-");if(h&&!re){const he={name:y};i==="bottles"&&(he.icon=T,he.capacity_ml=E),await G(h.id,he),alert("Item updated! ")}else{const he=i==="meals"?"meal":"container",Ee={type:he,name:y,icon:T,capacity_ml:he==="container"?E:void 0,ingredients:he==="meal"?h?.ingredients||[]:void 0,total_nutrients:he==="meal"?N:void 0,use_count:0};await k(Ee),alert(re?"Custom bottle created! ":"Added to your hoard! ")}ue()},se=D.filter(re=>re.name?.toLowerCase().includes(l.toLowerCase())),ce=me.filter(re=>re.name?.toLowerCase().includes(l.toLowerCase()));return R?A.jsxs("div",{className:"page stash-page",children:[A.jsx(na,{title:"Dragon's Hoard",subtitle:"Loading...",showBack:!0,onBack:()=>e("/settings")}),A.jsxs("div",{className:"loading-state card",children:[A.jsx("div",{className:"spinner"}),A.jsx("p",{children:"Opening the hoard..."})]})]}):A.jsxs("div",{className:"page stash-page",children:[A.jsx(na,{title:"Dragon's Hoard",subtitle:"Your saved meals and custom ingredients",showBack:!0,onBack:()=>e("/settings")}),A.jsx("div",{className:"stash-tabs",children:Zle.map(re=>A.jsx("button",{className:`stash-tab ${i===re.key?"active":""}`,onClick:()=>Se(re.key),children:re.label},re.key))}),A.jsx("div",{className:"stash-search",children:A.jsx("input",{type:"text",placeholder:`Search ${i==="meals"?"meals":"ingredients"}...`,value:l,onChange:re=>u(re.target.value)})}),i==="meals"&&A.jsxs("section",{className:"stash-content",children:[se.length===0?A.jsxs("div",{className:"empty-state card",children:[A.jsx("p",{children:" No saved meals yet!"}),A.jsx("p",{className:"text-muted",children:"Save meals from your diary to reuse them."})]}):A.jsx("div",{className:"stash-list",children:se.map(re=>A.jsxs("div",{className:"stash-item card",children:[A.jsxs("div",{className:"stash-item-header",children:[A.jsx("h3",{children:re.name}),A.jsxs("span",{className:"use-count",children:["Used ",fe(re.name),"x"]})]}),A.jsx("p",{className:"stash-item-ingredients",children:Array.isArray(re.ingredients)?re.ingredients.map(he=>typeof he=="string"?he:he.name).join(", "):"No ingredients"}),A.jsxs("div",{className:"stash-item-nutrients",children:[A.jsxs("span",{children:[" ",re.total_nutrients?.calories||0," cal"]}),A.jsxs("span",{children:[" ",re.total_nutrients?.purines||0,"mg"]}),A.jsxs("span",{children:[" ",re.total_nutrients?.protein||0,"g"]})]}),A.jsxs("div",{className:"stash-item-actions",children:[A.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>ne(re),children:" Use"}),A.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>U(re),children:" Edit"}),A.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>le(re.id),children:""})]})]},re.id))}),A.jsx("button",{className:"btn btn-secondary w-full mt-md",onClick:Me,children:" Create New Meal"})]}),i==="bottles"&&A.jsxs("section",{className:"stash-content",children:[A.jsx("p",{className:"text-muted",children:"Custom hydration containers for quick logging."}),ce.length===0?A.jsxs("div",{className:"empty-state card",children:[A.jsx("p",{children:" No custom bottles yet!"}),A.jsx("p",{className:"text-muted",children:"Add your favorite containers."})]}):A.jsx("div",{className:"stash-list",children:ce.map(re=>A.jsxs("div",{className:"stash-item card bottle-item",children:[A.jsxs("div",{className:"bottle-info",children:[A.jsx("span",{className:"bottle-icon",children:re.icon||""}),A.jsxs("div",{className:"bottle-details",children:[A.jsx("h3",{children:re.name}),A.jsxs("span",{className:"bottle-amount",children:[re.capacity_ml||re.amount_ml," ml"]})]})]}),A.jsxs("div",{className:"stash-item-actions",children:[A.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>B(re),children:" Use"}),A.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>U(re),children:""}),!re.id.startsWith("default-")&&A.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>le(re.id),children:""})]})]},re.id))}),A.jsx("button",{className:"btn btn-secondary w-full mt-md",onClick:Me,children:" Add Custom Bottle"})]}),c&&A.jsx("div",{className:"modal-overlay",onClick:ue,children:A.jsxs("div",{className:"modal-content card",onClick:re=>re.stopPropagation(),children:[A.jsxs("h2",{children:[h?" Edit":" Create"," ",i==="meals"?"Meal":i==="ingredients"?"Ingredient":"Bottle"]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Name"}),A.jsx("input",{type:"text",value:y,onChange:re=>_(re.target.value),placeholder:`e.g., ${i==="meals"?"Chicken Salad":i==="ingredients"?"Olive Oil":"Sports Bottle"}`})]}),i==="bottles"&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Icon"}),A.jsx("div",{className:"icon-picker",children:eue.map(re=>A.jsx("button",{type:"button",className:`icon-btn ${T===re?"active":""}`,onClick:()=>w(re),children:re},re))})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Capacity (ml)"}),A.jsx("input",{type:"number",value:E,onChange:re=>C(parseInt(re.target.value)||0),min:"0",step:"50"})]})]}),A.jsxs("div",{className:"modal-actions",children:[A.jsx("button",{className:"btn btn-secondary",onClick:ue,children:"Cancel"}),A.jsxs("button",{className:"btn btn-primary",onClick:X,children:[" ",h?"Update":"Save"]})]})]})})]})}function nue(){return A.jsx(SH,{children:A.jsx(s$,{basename:"/purine-control",children:A.jsxs("div",{className:"app",children:[A.jsxs(Uz,{children:[A.jsx(Gs,{path:"/",element:A.jsx(sK,{})}),A.jsx(Gs,{path:"/charts",element:A.jsx(Vle,{})}),A.jsx(Gs,{path:"/oracle",element:A.jsx(Jle,{})}),A.jsx(Gs,{path:"/settings",element:A.jsx(Xle,{})}),A.jsx(Gs,{path:"/stash",element:A.jsx(tue,{})})]}),A.jsx(EH,{})]})})})}Vq.createRoot(document.getElementById("root")).render(A.jsx(x.StrictMode,{children:A.jsx(nue,{})}));
