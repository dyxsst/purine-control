function Iz(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Ji(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zv={exports:{}},hu={};var jA;function Dz(){if(jA)return hu;jA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:a}}return hu.Fragment=t,hu.jsx=n,hu.jsxs=n,hu}var BA;function Rz(){return BA||(BA=1,Zv.exports=Dz()),Zv.exports}var M=Rz(),eg={exports:{}},xe={};var $A;function kz(){if($A)return xe;$A=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function _(U){return U===null||typeof U!="object"?null:(U=g&&U[g]||U["@@iterator"],typeof U=="function"?U:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function C(U,X,$){this.props=U,this.context=X,this.refs=E,this.updater=$||T}C.prototype.isReactComponent={},C.prototype.setState=function(U,X){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,X,"setState")},C.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function O(){}O.prototype=C.prototype;function P(U,X,$){this.props=U,this.context=X,this.refs=E,this.updater=$||T}var R=P.prototype=new O;R.constructor=P,w(R,C.prototype),R.isPureReactComponent=!0;var N=Array.isArray;function D(){}var k={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function K(U,X,$){var se=$.ref;return{$$typeof:e,type:U,key:X,ref:se!==void 0?se:null,props:$}}function ae(U,X){return K(U.type,X,U.props)}function Y(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function W(U){var X={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function($){return X[$]})}var ue=/\/+/g;function fe(U,X){return typeof U=="object"&&U!==null&&U.key!=null?W(""+U.key):X.toString(36)}function ge(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(D,D):(U.status="pending",U.then(function(X){U.status==="pending"&&(U.status="fulfilled",U.value=X)},function(X){U.status==="pending"&&(U.status="rejected",U.reason=X)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function j(U,X,$,se,_e){var Ee=typeof U;(Ee==="undefined"||Ee==="boolean")&&(U=null);var we=!1;if(U===null)we=!0;else switch(Ee){case"bigint":case"string":case"number":we=!0;break;case"object":switch(U.$$typeof){case e:case t:we=!0;break;case h:return we=U._init,j(we(U._payload),X,$,se,_e)}}if(we)return _e=_e(U),we=se===""?"."+fe(U,0):se,N(_e)?($="",we!=null&&($=we.replace(ue,"$&/")+"/"),j(_e,X,$,"",function(Ae){return Ae})):_e!=null&&(Y(_e)&&(_e=ae(_e,$+(_e.key==null||U&&U.key===_e.key?"":(""+_e.key).replace(ue,"$&/")+"/")+we)),X.push(_e)),1;we=0;var gt=se===""?".":se+":";if(N(U))for(var te=0;te<U.length;te++)se=U[te],Ee=gt+fe(se,te),we+=j(se,X,$,Ee,_e);else if(te=_(U),typeof te=="function")for(U=te.call(U),te=0;!(se=U.next()).done;)se=se.value,Ee=gt+fe(se,te++),we+=j(se,X,$,Ee,_e);else if(Ee==="object"){if(typeof U.then=="function")return j(ge(U),X,$,se,_e);throw X=String(U),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return we}function ee(U,X,$){if(U==null)return U;var se=[],_e=0;return j(U,se,"","",function(Ee){return X.call($,Ee,_e++)}),se}function le(U){if(U._status===-1){var X=U._result;X=X(),X.then(function($){(U._status===0||U._status===-1)&&(U._status=1,U._result=$)},function($){(U._status===0||U._status===-1)&&(U._status=2,U._result=$)}),U._status===-1&&(U._status=0,U._result=X)}if(U._status===1)return U._result.default;throw U._result}var V=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},pe={map:ee,forEach:function(U,X,$){ee(U,function(){X.apply(this,arguments)},$)},count:function(U){var X=0;return ee(U,function(){X++}),X},toArray:function(U){return ee(U,function(X){return X})||[]},only:function(U){if(!Y(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return xe.Activity=m,xe.Children=pe,xe.Component=C,xe.Fragment=n,xe.Profiler=i,xe.PureComponent=P,xe.StrictMode=r,xe.Suspense=c,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,xe.__COMPILER_RUNTIME={__proto__:null,c:function(U){return k.H.useMemoCache(U)}},xe.cache=function(U){return function(){return U.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(U,X,$){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var se=w({},U.props),_e=U.key;if(X!=null)for(Ee in X.key!==void 0&&(_e=""+X.key),X)!H.call(X,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&X.ref===void 0||(se[Ee]=X[Ee]);var Ee=arguments.length-2;if(Ee===1)se.children=$;else if(1<Ee){for(var we=Array(Ee),gt=0;gt<Ee;gt++)we[gt]=arguments[gt+2];se.children=we}return K(U.type,_e,se)},xe.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:a,_context:U},U},xe.createElement=function(U,X,$){var se,_e={},Ee=null;if(X!=null)for(se in X.key!==void 0&&(Ee=""+X.key),X)H.call(X,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(_e[se]=X[se]);var we=arguments.length-2;if(we===1)_e.children=$;else if(1<we){for(var gt=Array(we),te=0;te<we;te++)gt[te]=arguments[te+2];_e.children=gt}if(U&&U.defaultProps)for(se in we=U.defaultProps,we)_e[se]===void 0&&(_e[se]=we[se]);return K(U,Ee,_e)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(U){return{$$typeof:u,render:U}},xe.isValidElement=Y,xe.lazy=function(U){return{$$typeof:h,_payload:{_status:-1,_result:U},_init:le}},xe.memo=function(U,X){return{$$typeof:d,type:U,compare:X===void 0?null:X}},xe.startTransition=function(U){var X=k.T,$={};k.T=$;try{var se=U(),_e=k.S;_e!==null&&_e($,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(D,V)}catch(Ee){V(Ee)}finally{X!==null&&$.types!==null&&(X.types=$.types),k.T=X}},xe.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},xe.use=function(U){return k.H.use(U)},xe.useActionState=function(U,X,$){return k.H.useActionState(U,X,$)},xe.useCallback=function(U,X){return k.H.useCallback(U,X)},xe.useContext=function(U){return k.H.useContext(U)},xe.useDebugValue=function(){},xe.useDeferredValue=function(U,X){return k.H.useDeferredValue(U,X)},xe.useEffect=function(U,X){return k.H.useEffect(U,X)},xe.useEffectEvent=function(U){return k.H.useEffectEvent(U)},xe.useId=function(){return k.H.useId()},xe.useImperativeHandle=function(U,X,$){return k.H.useImperativeHandle(U,X,$)},xe.useInsertionEffect=function(U,X){return k.H.useInsertionEffect(U,X)},xe.useLayoutEffect=function(U,X){return k.H.useLayoutEffect(U,X)},xe.useMemo=function(U,X){return k.H.useMemo(U,X)},xe.useOptimistic=function(U,X){return k.H.useOptimistic(U,X)},xe.useReducer=function(U,X,$){return k.H.useReducer(U,X,$)},xe.useRef=function(U){return k.H.useRef(U)},xe.useState=function(U){return k.H.useState(U)},xe.useSyncExternalStore=function(U,X,$){return k.H.useSyncExternalStore(U,X,$)},xe.useTransition=function(){return k.H.useTransition()},xe.version="19.2.0",xe}var FA;function rl(){return FA||(FA=1,eg.exports=kz()),eg.exports}var A=rl();const Lz=Ji(A),Uz=Iz({__proto__:null,default:Lz},[A]);var tg={exports:{}},pu={},ng={exports:{}},rg={};var HA;function qz(){return HA||(HA=1,(function(e){function t(j,ee){var le=j.length;j.push(ee);e:for(;0<le;){var V=le-1>>>1,pe=j[V];if(0<i(pe,ee))j[V]=ee,j[le]=pe,le=V;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var ee=j[0],le=j.pop();if(le!==ee){j[0]=le;e:for(var V=0,pe=j.length,U=pe>>>1;V<U;){var X=2*(V+1)-1,$=j[X],se=X+1,_e=j[se];if(0>i($,le))se<pe&&0>i(_e,$)?(j[V]=_e,j[se]=le,V=se):(j[V]=$,j[X]=le,V=X);else if(se<pe&&0>i(_e,le))j[V]=_e,j[se]=le,V=se;else break e}}return ee}function i(j,ee){var le=j.sortIndex-ee.sortIndex;return le!==0?le:j.id-ee.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var c=[],d=[],h=1,m=null,g=3,_=!1,T=!1,w=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function R(j){for(var ee=n(d);ee!==null;){if(ee.callback===null)r(d);else if(ee.startTime<=j)r(d),ee.sortIndex=ee.expirationTime,t(c,ee);else break;ee=n(d)}}function N(j){if(w=!1,R(j),!T)if(n(c)!==null)T=!0,D||(D=!0,W());else{var ee=n(d);ee!==null&&ge(N,ee.startTime-j)}}var D=!1,k=-1,H=5,K=-1;function ae(){return E?!0:!(e.unstable_now()-K<H)}function Y(){if(E=!1,D){var j=e.unstable_now();K=j;var ee=!0;try{e:{T=!1,w&&(w=!1,O(k),k=-1),_=!0;var le=g;try{t:{for(R(j),m=n(c);m!==null&&!(m.expirationTime>j&&ae());){var V=m.callback;if(typeof V=="function"){m.callback=null,g=m.priorityLevel;var pe=V(m.expirationTime<=j);if(j=e.unstable_now(),typeof pe=="function"){m.callback=pe,R(j),ee=!0;break t}m===n(c)&&r(c),R(j)}else r(c);m=n(c)}if(m!==null)ee=!0;else{var U=n(d);U!==null&&ge(N,U.startTime-j),ee=!1}}break e}finally{m=null,g=le,_=!1}ee=void 0}}finally{ee?W():D=!1}}}var W;if(typeof P=="function")W=function(){P(Y)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,fe=ue.port2;ue.port1.onmessage=Y,W=function(){fe.postMessage(null)}}else W=function(){C(Y,0)};function ge(j,ee){k=C(function(){j(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(j){switch(g){case 1:case 2:case 3:var ee=3;break;default:ee=g}var le=g;g=ee;try{return j()}finally{g=le}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(j,ee){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var le=g;g=j;try{return ee()}finally{g=le}},e.unstable_scheduleCallback=function(j,ee,le){var V=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?V+le:V):le=V,j){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=le+pe,j={id:h++,callback:ee,priorityLevel:j,startTime:le,expirationTime:pe,sortIndex:-1},le>V?(j.sortIndex=le,t(d,j),n(c)===null&&j===n(d)&&(w?(O(k),k=-1):w=!0,ge(N,le-V))):(j.sortIndex=pe,t(c,j),T||_||(T=!0,D||(D=!0,W()))),j},e.unstable_shouldYield=ae,e.unstable_wrapCallback=function(j){var ee=g;return function(){var le=g;g=ee;try{return j.apply(this,arguments)}finally{g=le}}}})(rg)),rg}var GA;function zz(){return GA||(GA=1,ng.exports=qz()),ng.exports}var ig={exports:{}},cn={};var VA;function jz(){if(VA)return cn;VA=1;var e=rl();function t(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:c,containerInfo:d,implementation:h}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,cn.createPortal=function(c,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return a(c,d,null,h)},cn.flushSync=function(c){var d=l.T,h=r.p;try{if(l.T=null,r.p=2,c)return c()}finally{l.T=d,r.p=h,r.d.f()}},cn.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},cn.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},cn.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var h=d.as,m=u(h,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:_}):h==="script"&&r.d.X(c,{crossOrigin:m,integrity:g,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},cn.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=u(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},cn.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=u(h,d.crossOrigin);r.d.L(c,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},cn.preloadModule=function(c,d){if(typeof c=="string")if(d){var h=u(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},cn.requestFormReset=function(c){r.d.r(c)},cn.unstable_batchedUpdates=function(c,d){return c(d)},cn.useFormState=function(c,d,h){return l.H.useFormState(c,d,h)},cn.useFormStatus=function(){return l.H.useHostTransitionStatus()},cn.version="19.2.0",cn}var KA;function DN(){if(KA)return ig.exports;KA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ig.exports=jz(),ig.exports}var YA;function Bz(){if(YA)return pu;YA=1;var e=zz(),t=rl(),n=DN();function r(o){var s="https://react.dev/errors/"+o;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)s+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var s=o,f=o;if(o.alternate)for(;s.return;)s=s.return;else{o=s;do s=o,(s.flags&4098)!==0&&(f=s.return),o=s.return;while(o)}return s.tag===3?f:null}function l(o){if(o.tag===13){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function u(o){if(o.tag===31){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function c(o){if(a(o)!==o)throw Error(r(188))}function d(o){var s=o.alternate;if(!s){if(s=a(o),s===null)throw Error(r(188));return s!==o?null:o}for(var f=o,p=s;;){var b=f.return;if(b===null)break;var S=b.alternate;if(S===null){if(p=b.return,p!==null){f=p;continue}break}if(b.child===S.child){for(S=b.child;S;){if(S===f)return c(b),o;if(S===p)return c(b),s;S=S.sibling}throw Error(r(188))}if(f.return!==p.return)f=b,p=S;else{for(var x=!1,I=b.child;I;){if(I===f){x=!0,f=b,p=S;break}if(I===p){x=!0,p=b,f=S;break}I=I.sibling}if(!x){for(I=S.child;I;){if(I===f){x=!0,f=S,p=b;break}if(I===p){x=!0,p=S,f=b;break}I=I.sibling}if(!x)throw Error(r(189))}}if(f.alternate!==p)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:s}function h(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o;for(o=o.child;o!==null;){if(s=h(o),s!==null)return s;o=o.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),P=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function W(o){return o===null||typeof o!="object"?null:(o=Y&&o[Y]||o["@@iterator"],typeof o=="function"?o:null)}var ue=Symbol.for("react.client.reference");function fe(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===ue?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case w:return"Fragment";case C:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case D:return"SuspenseList";case K:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case T:return"Portal";case P:return o.displayName||"Context";case O:return(o._context.displayName||"Context")+".Consumer";case R:var s=o.render;return o=o.displayName,o||(o=s.displayName||s.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case k:return s=o.displayName||null,s!==null?s:fe(o.type)||"Memo";case H:s=o._payload,o=o._init;try{return fe(o(s))}catch{}}return null}var ge=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},V=[],pe=-1;function U(o){return{current:o}}function X(o){0>pe||(o.current=V[pe],V[pe]=null,pe--)}function $(o,s){pe++,V[pe]=o.current,o.current=s}var se=U(null),_e=U(null),Ee=U(null),we=U(null);function gt(o,s){switch($(Ee,s),$(_e,o),$(se,null),s.nodeType){case 9:case 11:o=(o=s.documentElement)&&(o=o.namespaceURI)?uA(o):0;break;default:if(o=s.tagName,s=s.namespaceURI)s=uA(s),o=cA(s,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}X(se),$(se,o)}function te(){X(se),X(_e),X(Ee)}function Ae(o){o.memoizedState!==null&&$(we,o);var s=se.current,f=cA(s,o.type);s!==f&&($(_e,o),$(se,f))}function Pe(o){_e.current===o&&(X(se),X(_e)),we.current===o&&(X(we),uu._currentValue=le)}var oe,Ot;function Ue(o){if(oe===void 0)try{throw Error()}catch(f){var s=f.stack.trim().match(/\n( *(at )?)/);oe=s&&s[1]||"",Ot=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oe+o+Ot}var Nt=!1;function It(o,s){if(!o||Nt)return"";Nt=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(s){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(J){var G=J}Reflect.construct(o,[],re)}else{try{re.call()}catch(J){G=J}o.call(re.prototype)}}else{try{throw Error()}catch(J){G=J}(re=o())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(J){if(J&&G&&typeof J.stack=="string")return[J.stack,G.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=p.DetermineComponentFrameRoot(),x=S[0],I=S[1];if(x&&I){var L=x.split(`
`),F=I.split(`
`);for(b=p=0;p<L.length&&!L[p].includes("DetermineComponentFrameRoot");)p++;for(;b<F.length&&!F[b].includes("DetermineComponentFrameRoot");)b++;if(p===L.length||b===F.length)for(p=L.length-1,b=F.length-1;1<=p&&0<=b&&L[p]!==F[b];)b--;for(;1<=p&&0<=b;p--,b--)if(L[p]!==F[b]){if(p!==1||b!==1)do if(p--,b--,0>b||L[p]!==F[b]){var Z=`
`+L[p].replace(" at new "," at ");return o.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",o.displayName)),Z}while(1<=p&&0<=b);break}}}finally{Nt=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?Ue(f):""}function We(o,s){switch(o.tag){case 26:case 27:case 5:return Ue(o.type);case 16:return Ue("Lazy");case 13:return o.child!==s&&s!==null?Ue("Suspense Fallback"):Ue("Suspense");case 19:return Ue("SuspenseList");case 0:case 15:return It(o.type,!1);case 11:return It(o.type.render,!1);case 1:return It(o.type,!0);case 31:return Ue("Activity");default:return""}}function ia(o){try{var s="",f=null;do s+=We(o,f),f=o,o=o.return;while(o);return s}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Dc=Object.prototype.hasOwnProperty,Bn=e.unstable_scheduleCallback,Sl=e.unstable_cancelCallback,Lp=e.unstable_shouldYield,Rc=e.unstable_requestPaint,gn=e.unstable_now,kc=e.unstable_getCurrentPriorityLevel,Tl=e.unstable_ImmediatePriority,Lc=e.unstable_UserBlockingPriority,zo=e.unstable_NormalPriority,Up=e.unstable_LowPriority,Uc=e.unstable_IdlePriority,qp=e.log,qc=e.unstable_setDisableYieldValue,Va=null,yn=null;function zr(o){if(typeof qp=="function"&&qc(o),yn&&typeof yn.setStrictMode=="function")try{yn.setStrictMode(Va,o)}catch{}}var bn=Math.clz32?Math.clz32:Bp,zp=Math.log,jp=Math.LN2;function Bp(o){return o>>>=0,o===0?32:31-(zp(o)/jp|0)|0}var jo=256,El=262144,Bo=4194304;function ie(o){var s=o&42;if(s!==0)return s;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Te(o,s,f){var p=o.pendingLanes;if(p===0)return 0;var b=0,S=o.suspendedLanes,x=o.pingedLanes;o=o.warmLanes;var I=p&134217727;return I!==0?(p=I&~S,p!==0?b=ie(p):(x&=I,x!==0?b=ie(x):f||(f=I&~o,f!==0&&(b=ie(f))))):(I=p&~S,I!==0?b=ie(I):x!==0?b=ie(x):f||(f=p&~o,f!==0&&(b=ie(f)))),b===0?0:s!==0&&s!==b&&(s&S)===0&&(S=b&-b,f=s&-s,S>=f||S===32&&(f&4194048)!==0)?s:b}function Oe(o,s){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&s)===0}function nt(o,s){switch(o){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jt(){var o=Bo;return Bo<<=1,(Bo&62914560)===0&&(Bo=4194304),o}function un(o){for(var s=[],f=0;31>f;f++)s.push(o);return s}function ii(o,s){o.pendingLanes|=s,s!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Ka(o,s,f,p,b,S){var x=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var I=o.entanglements,L=o.expirationTimes,F=o.hiddenUpdates;for(f=x&~f;0<f;){var Z=31-bn(f),re=1<<Z;I[Z]=0,L[Z]=-1;var G=F[Z];if(G!==null)for(F[Z]=null,Z=0;Z<G.length;Z++){var J=G[Z];J!==null&&(J.lane&=-536870913)}f&=~re}p!==0&&zc(o,p,0),S!==0&&b===0&&o.tag!==0&&(o.suspendedLanes|=S&~(x&~s))}function zc(o,s,f){o.pendingLanes|=s,o.suspendedLanes&=~s;var p=31-bn(s);o.entangledLanes|=s,o.entanglements[p]=o.entanglements[p]|1073741824|f&261930}function jr(o,s){var f=o.entangledLanes|=s;for(o=o.entanglements;f;){var p=31-bn(f),b=1<<p;b&s|o[p]&s&&(o[p]|=s),f&=~b}}function Ya(o,s){var f=s&-s;return f=(f&42)!==0?1:$p(f),(f&(o.suspendedLanes|s))!==0?0:f}function $p(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Fp(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function YS(){var o=ee.p;return o!==0?o:(o=window.event,o===void 0?32:DA(o.type))}function WS(o,s){var f=ee.p;try{return ee.p=o,s()}finally{ee.p=f}}var aa=Math.random().toString(36).slice(2),Jt="__reactFiber$"+aa,xn="__reactProps$"+aa,$o="__reactContainer$"+aa,Hp="__reactEvents$"+aa,SU="__reactListeners$"+aa,TU="__reactHandles$"+aa,JS="__reactResources$"+aa,wl="__reactMarker$"+aa;function Gp(o){delete o[Jt],delete o[xn],delete o[Hp],delete o[SU],delete o[TU]}function Fo(o){var s=o[Jt];if(s)return s;for(var f=o.parentNode;f;){if(s=f[$o]||f[Jt]){if(f=s.alternate,s.child!==null||f!==null&&f.child!==null)for(o=gA(o);o!==null;){if(f=o[Jt])return f;o=gA(o)}return s}o=f,f=o.parentNode}return null}function Ho(o){if(o=o[Jt]||o[$o]){var s=o.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return o}return null}function Al(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o.stateNode;throw Error(r(33))}function Go(o){var s=o[JS];return s||(s=o[JS]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Bt(o){o[wl]=!0}var XS=new Set,QS={};function Wa(o,s){Vo(o,s),Vo(o+"Capture",s)}function Vo(o,s){for(QS[o]=s,o=0;o<s.length;o++)XS.add(s[o])}var EU=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ZS={},eT={};function wU(o){return Dc.call(eT,o)?!0:Dc.call(ZS,o)?!1:EU.test(o)?eT[o]=!0:(ZS[o]=!0,!1)}function jc(o,s,f){if(wU(s))if(f===null)o.removeAttribute(s);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(s);return;case"boolean":var p=s.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){o.removeAttribute(s);return}}o.setAttribute(s,""+f)}}function Bc(o,s,f){if(f===null)o.removeAttribute(s);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(s);return}o.setAttribute(s,""+f)}}function ai(o,s,f,p){if(p===null)o.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(s,f,""+p)}}function nr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function tT(o){var s=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function AU(o,s,f){var p=Object.getOwnPropertyDescriptor(o.constructor.prototype,s);if(!o.hasOwnProperty(s)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,S=p.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return b.call(this)},set:function(x){f=""+x,S.call(this,x)}}),Object.defineProperty(o,s,{enumerable:p.enumerable}),{getValue:function(){return f},setValue:function(x){f=""+x},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}function Vp(o){if(!o._valueTracker){var s=tT(o)?"checked":"value";o._valueTracker=AU(o,s,""+o[s])}}function nT(o){if(!o)return!1;var s=o._valueTracker;if(!s)return!0;var f=s.getValue(),p="";return o&&(p=tT(o)?o.checked?"true":"false":o.value),o=p,o!==f?(s.setValue(o),!0):!1}function $c(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var xU=/[\n"\\]/g;function rr(o){return o.replace(xU,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Kp(o,s,f,p,b,S,x,I){o.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?o.type=x:o.removeAttribute("type"),s!=null?x==="number"?(s===0&&o.value===""||o.value!=s)&&(o.value=""+nr(s)):o.value!==""+nr(s)&&(o.value=""+nr(s)):x!=="submit"&&x!=="reset"||o.removeAttribute("value"),s!=null?Yp(o,x,nr(s)):f!=null?Yp(o,x,nr(f)):p!=null&&o.removeAttribute("value"),b==null&&S!=null&&(o.defaultChecked=!!S),b!=null&&(o.checked=b&&typeof b!="function"&&typeof b!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?o.name=""+nr(I):o.removeAttribute("name")}function rT(o,s,f,p,b,S,x,I){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(o.type=S),s!=null||f!=null){if(!(S!=="submit"&&S!=="reset"||s!=null)){Vp(o);return}f=f!=null?""+nr(f):"",s=s!=null?""+nr(s):f,I||s===o.value||(o.value=s),o.defaultValue=s}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,o.checked=I?o.checked:!!p,o.defaultChecked=!!p,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(o.name=x),Vp(o)}function Yp(o,s,f){s==="number"&&$c(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function Ko(o,s,f,p){if(o=o.options,s){s={};for(var b=0;b<f.length;b++)s["$"+f[b]]=!0;for(f=0;f<o.length;f++)b=s.hasOwnProperty("$"+o[f].value),o[f].selected!==b&&(o[f].selected=b),b&&p&&(o[f].defaultSelected=!0)}else{for(f=""+nr(f),s=null,b=0;b<o.length;b++){if(o[b].value===f){o[b].selected=!0,p&&(o[b].defaultSelected=!0);return}s!==null||o[b].disabled||(s=o[b])}s!==null&&(s.selected=!0)}}function iT(o,s,f){if(s!=null&&(s=""+nr(s),s!==o.value&&(o.value=s),f==null)){o.defaultValue!==s&&(o.defaultValue=s);return}o.defaultValue=f!=null?""+nr(f):""}function aT(o,s,f,p){if(s==null){if(p!=null){if(f!=null)throw Error(r(92));if(ge(p)){if(1<p.length)throw Error(r(93));p=p[0]}f=p}f==null&&(f=""),s=f}f=nr(s),o.defaultValue=f,p=o.textContent,p===f&&p!==""&&p!==null&&(o.value=p),Vp(o)}function Yo(o,s){if(s){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=s;return}}o.textContent=s}var CU=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oT(o,s,f){var p=s.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?p?o.setProperty(s,""):s==="float"?o.cssFloat="":o[s]="":p?o.setProperty(s,f):typeof f!="number"||f===0||CU.has(s)?s==="float"?o.cssFloat=f:o[s]=(""+f).trim():o[s]=f+"px"}function sT(o,s,f){if(s!=null&&typeof s!="object")throw Error(r(62));if(o=o.style,f!=null){for(var p in f)!f.hasOwnProperty(p)||s!=null&&s.hasOwnProperty(p)||(p.indexOf("--")===0?o.setProperty(p,""):p==="float"?o.cssFloat="":o[p]="");for(var b in s)p=s[b],s.hasOwnProperty(b)&&f[b]!==p&&oT(o,b,p)}else for(var S in s)s.hasOwnProperty(S)&&oT(o,S,s[S])}function Wp(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var MU=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),PU=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fc(o){return PU.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function oi(){}var Jp=null;function Xp(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Wo=null,Jo=null;function lT(o){var s=Ho(o);if(s&&(o=s.stateNode)){var f=o[xn]||null;e:switch(o=s.stateNode,s.type){case"input":if(Kp(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),s=f.name,f.type==="radio"&&s!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+rr(""+s)+'"][type="radio"]'),s=0;s<f.length;s++){var p=f[s];if(p!==o&&p.form===o.form){var b=p[xn]||null;if(!b)throw Error(r(90));Kp(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(s=0;s<f.length;s++)p=f[s],p.form===o.form&&nT(p)}break e;case"textarea":iT(o,f.value,f.defaultValue);break e;case"select":s=f.value,s!=null&&Ko(o,!!f.multiple,s,!1)}}}var Qp=!1;function uT(o,s,f){if(Qp)return o(s,f);Qp=!0;try{var p=o(s);return p}finally{if(Qp=!1,(Wo!==null||Jo!==null)&&(Nf(),Wo&&(s=Wo,o=Jo,Jo=Wo=null,lT(s),o)))for(s=0;s<o.length;s++)lT(o[s])}}function xl(o,s){var f=o.stateNode;if(f===null)return null;var p=f[xn]||null;if(p===null)return null;f=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,s,typeof f));return f}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zp=!1;if(si)try{var Cl={};Object.defineProperty(Cl,"passive",{get:function(){Zp=!0}}),window.addEventListener("test",Cl,Cl),window.removeEventListener("test",Cl,Cl)}catch{Zp=!1}var oa=null,em=null,Hc=null;function cT(){if(Hc)return Hc;var o,s=em,f=s.length,p,b="value"in oa?oa.value:oa.textContent,S=b.length;for(o=0;o<f&&s[o]===b[o];o++);var x=f-o;for(p=1;p<=x&&s[f-p]===b[S-p];p++);return Hc=b.slice(o,1<p?1-p:void 0)}function Gc(o){var s=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&s===13&&(o=13)):o=s,o===10&&(o=13),32<=o||o===13?o:0}function Vc(){return!0}function fT(){return!1}function Cn(o){function s(f,p,b,S,x){this._reactName=f,this._targetInst=b,this.type=p,this.nativeEvent=S,this.target=x,this.currentTarget=null;for(var I in o)o.hasOwnProperty(I)&&(f=o[I],this[I]=f?f(S):S[I]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Vc:fT,this.isPropagationStopped=fT,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Vc)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Vc)},persist:function(){},isPersistent:Vc}),s}var Ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kc=Cn(Ja),Ml=m({},Ja,{view:0,detail:0}),OU=Cn(Ml),tm,nm,Pl,Yc=m({},Ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:im,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Pl&&(Pl&&o.type==="mousemove"?(tm=o.screenX-Pl.screenX,nm=o.screenY-Pl.screenY):nm=tm=0,Pl=o),tm)},movementY:function(o){return"movementY"in o?o.movementY:nm}}),dT=Cn(Yc),NU=m({},Yc,{dataTransfer:0}),IU=Cn(NU),DU=m({},Ml,{relatedTarget:0}),rm=Cn(DU),RU=m({},Ja,{animationName:0,elapsedTime:0,pseudoElement:0}),kU=Cn(RU),LU=m({},Ja,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),UU=Cn(LU),qU=m({},Ja,{data:0}),hT=Cn(qU),zU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $U(o){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(o):(o=BU[o])?!!s[o]:!1}function im(){return $U}var FU=m({},Ml,{key:function(o){if(o.key){var s=zU[o.key]||o.key;if(s!=="Unidentified")return s}return o.type==="keypress"?(o=Gc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?jU[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:im,charCode:function(o){return o.type==="keypress"?Gc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Gc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),HU=Cn(FU),GU=m({},Yc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pT=Cn(GU),VU=m({},Ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:im}),KU=Cn(VU),YU=m({},Ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),WU=Cn(YU),JU=m({},Yc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),XU=Cn(JU),QU=m({},Ja,{newState:0,oldState:0}),ZU=Cn(QU),eq=[9,13,27,32],am=si&&"CompositionEvent"in window,Ol=null;si&&"documentMode"in document&&(Ol=document.documentMode);var tq=si&&"TextEvent"in window&&!Ol,mT=si&&(!am||Ol&&8<Ol&&11>=Ol),vT=" ",gT=!1;function yT(o,s){switch(o){case"keyup":return eq.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bT(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Xo=!1;function nq(o,s){switch(o){case"compositionend":return bT(s);case"keypress":return s.which!==32?null:(gT=!0,vT);case"textInput":return o=s.data,o===vT&&gT?null:o;default:return null}}function rq(o,s){if(Xo)return o==="compositionend"||!am&&yT(o,s)?(o=cT(),Hc=em=oa=null,Xo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return mT&&s.locale!=="ko"?null:s.data;default:return null}}var iq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _T(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s==="input"?!!iq[o.type]:s==="textarea"}function ST(o,s,f,p){Wo?Jo?Jo.push(p):Jo=[p]:Wo=p,s=qf(s,"onChange"),0<s.length&&(f=new Kc("onChange","change",null,f,p),o.push({event:f,listeners:s}))}var Nl=null,Il=null;function aq(o){rA(o,0)}function Wc(o){var s=Al(o);if(nT(s))return o}function TT(o,s){if(o==="change")return s}var ET=!1;if(si){var om;if(si){var sm="oninput"in document;if(!sm){var wT=document.createElement("div");wT.setAttribute("oninput","return;"),sm=typeof wT.oninput=="function"}om=sm}else om=!1;ET=om&&(!document.documentMode||9<document.documentMode)}function AT(){Nl&&(Nl.detachEvent("onpropertychange",xT),Il=Nl=null)}function xT(o){if(o.propertyName==="value"&&Wc(Il)){var s=[];ST(s,Il,o,Xp(o)),uT(aq,s)}}function oq(o,s,f){o==="focusin"?(AT(),Nl=s,Il=f,Nl.attachEvent("onpropertychange",xT)):o==="focusout"&&AT()}function sq(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Wc(Il)}function lq(o,s){if(o==="click")return Wc(s)}function uq(o,s){if(o==="input"||o==="change")return Wc(s)}function cq(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var $n=typeof Object.is=="function"?Object.is:cq;function Dl(o,s){if($n(o,s))return!0;if(typeof o!="object"||o===null||typeof s!="object"||s===null)return!1;var f=Object.keys(o),p=Object.keys(s);if(f.length!==p.length)return!1;for(p=0;p<f.length;p++){var b=f[p];if(!Dc.call(s,b)||!$n(o[b],s[b]))return!1}return!0}function CT(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function MT(o,s){var f=CT(o);o=0;for(var p;f;){if(f.nodeType===3){if(p=o+f.textContent.length,o<=s&&p>=s)return{node:f,offset:s-o};o=p}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=CT(f)}}function PT(o,s){return o&&s?o===s?!0:o&&o.nodeType===3?!1:s&&s.nodeType===3?PT(o,s.parentNode):"contains"in o?o.contains(s):o.compareDocumentPosition?!!(o.compareDocumentPosition(s)&16):!1:!1}function OT(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var s=$c(o.document);s instanceof o.HTMLIFrameElement;){try{var f=typeof s.contentWindow.location.href=="string"}catch{f=!1}if(f)o=s.contentWindow;else break;s=$c(o.document)}return s}function lm(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s&&(s==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||s==="textarea"||o.contentEditable==="true")}var fq=si&&"documentMode"in document&&11>=document.documentMode,Qo=null,um=null,Rl=null,cm=!1;function NT(o,s,f){var p=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;cm||Qo==null||Qo!==$c(p)||(p=Qo,"selectionStart"in p&&lm(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Rl&&Dl(Rl,p)||(Rl=p,p=qf(um,"onSelect"),0<p.length&&(s=new Kc("onSelect","select",null,s,f),o.push({event:s,listeners:p}),s.target=Qo)))}function Xa(o,s){var f={};return f[o.toLowerCase()]=s.toLowerCase(),f["Webkit"+o]="webkit"+s,f["Moz"+o]="moz"+s,f}var Zo={animationend:Xa("Animation","AnimationEnd"),animationiteration:Xa("Animation","AnimationIteration"),animationstart:Xa("Animation","AnimationStart"),transitionrun:Xa("Transition","TransitionRun"),transitionstart:Xa("Transition","TransitionStart"),transitioncancel:Xa("Transition","TransitionCancel"),transitionend:Xa("Transition","TransitionEnd")},fm={},IT={};si&&(IT=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function Qa(o){if(fm[o])return fm[o];if(!Zo[o])return o;var s=Zo[o],f;for(f in s)if(s.hasOwnProperty(f)&&f in IT)return fm[o]=s[f];return o}var DT=Qa("animationend"),RT=Qa("animationiteration"),kT=Qa("animationstart"),dq=Qa("transitionrun"),hq=Qa("transitionstart"),pq=Qa("transitioncancel"),LT=Qa("transitionend"),UT=new Map,dm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dm.push("scrollEnd");function xr(o,s){UT.set(o,s),Wa(s,[o])}var Jc=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},ir=[],es=0,hm=0;function Xc(){for(var o=es,s=hm=es=0;s<o;){var f=ir[s];ir[s++]=null;var p=ir[s];ir[s++]=null;var b=ir[s];ir[s++]=null;var S=ir[s];if(ir[s++]=null,p!==null&&b!==null){var x=p.pending;x===null?b.next=b:(b.next=x.next,x.next=b),p.pending=b}S!==0&&qT(f,b,S)}}function Qc(o,s,f,p){ir[es++]=o,ir[es++]=s,ir[es++]=f,ir[es++]=p,hm|=p,o.lanes|=p,o=o.alternate,o!==null&&(o.lanes|=p)}function pm(o,s,f,p){return Qc(o,s,f,p),Zc(o)}function Za(o,s){return Qc(o,null,null,s),Zc(o)}function qT(o,s,f){o.lanes|=f;var p=o.alternate;p!==null&&(p.lanes|=f);for(var b=!1,S=o.return;S!==null;)S.childLanes|=f,p=S.alternate,p!==null&&(p.childLanes|=f),S.tag===22&&(o=S.stateNode,o===null||o._visibility&1||(b=!0)),o=S,S=S.return;return o.tag===3?(S=o.stateNode,b&&s!==null&&(b=31-bn(f),o=S.hiddenUpdates,p=o[b],p===null?o[b]=[s]:p.push(s),s.lane=f|536870912),S):null}function Zc(o){if(50<nu)throw nu=0,Ev=null,Error(r(185));for(var s=o.return;s!==null;)o=s,s=o.return;return o.tag===3?o.stateNode:null}var ts={};function mq(o,s,f,p){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(o,s,f,p){return new mq(o,s,f,p)}function mm(o){return o=o.prototype,!(!o||!o.isReactComponent)}function li(o,s){var f=o.alternate;return f===null?(f=Fn(o.tag,s,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=s,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,s=o.dependencies,f.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function zT(o,s){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=s,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,s=f.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),o}function ef(o,s,f,p,b,S){var x=0;if(p=o,typeof o=="function")mm(o)&&(x=1);else if(typeof o=="string")x=_z(o,f,se.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case K:return o=Fn(31,f,s,b),o.elementType=K,o.lanes=S,o;case w:return eo(f.children,b,S,s);case E:x=8,b|=24;break;case C:return o=Fn(12,f,s,b|2),o.elementType=C,o.lanes=S,o;case N:return o=Fn(13,f,s,b),o.elementType=N,o.lanes=S,o;case D:return o=Fn(19,f,s,b),o.elementType=D,o.lanes=S,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case P:x=10;break e;case O:x=9;break e;case R:x=11;break e;case k:x=14;break e;case H:x=16,p=null;break e}x=29,f=Error(r(130,o===null?"null":typeof o,"")),p=null}return s=Fn(x,f,s,b),s.elementType=o,s.type=p,s.lanes=S,s}function eo(o,s,f,p){return o=Fn(7,o,p,s),o.lanes=f,o}function vm(o,s,f){return o=Fn(6,o,null,s),o.lanes=f,o}function jT(o){var s=Fn(18,null,null,0);return s.stateNode=o,s}function gm(o,s,f){return s=Fn(4,o.children!==null?o.children:[],o.key,s),s.lanes=f,s.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},s}var BT=new WeakMap;function ar(o,s){if(typeof o=="object"&&o!==null){var f=BT.get(o);return f!==void 0?f:(s={value:o,source:s,stack:ia(s)},BT.set(o,s),s)}return{value:o,source:s,stack:ia(s)}}var ns=[],rs=0,tf=null,kl=0,or=[],sr=0,sa=null,Br=1,$r="";function ui(o,s){ns[rs++]=kl,ns[rs++]=tf,tf=o,kl=s}function $T(o,s,f){or[sr++]=Br,or[sr++]=$r,or[sr++]=sa,sa=o;var p=Br;o=$r;var b=32-bn(p)-1;p&=~(1<<b),f+=1;var S=32-bn(s)+b;if(30<S){var x=b-b%5;S=(p&(1<<x)-1).toString(32),p>>=x,b-=x,Br=1<<32-bn(s)+b|f<<b|p,$r=S+o}else Br=1<<S|f<<b|p,$r=o}function ym(o){o.return!==null&&(ui(o,1),$T(o,1,0))}function bm(o){for(;o===tf;)tf=ns[--rs],ns[rs]=null,kl=ns[--rs],ns[rs]=null;for(;o===sa;)sa=or[--sr],or[sr]=null,$r=or[--sr],or[sr]=null,Br=or[--sr],or[sr]=null}function FT(o,s){or[sr++]=Br,or[sr++]=$r,or[sr++]=sa,Br=s.id,$r=s.overflow,sa=o}var Xt=null,rt=null,qe=!1,la=null,lr=!1,_m=Error(r(519));function ua(o){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ll(ar(s,o)),_m}function HT(o){var s=o.stateNode,f=o.type,p=o.memoizedProps;switch(s[Jt]=o,s[xn]=p,f){case"dialog":Ie("cancel",s),Ie("close",s);break;case"iframe":case"object":case"embed":Ie("load",s);break;case"video":case"audio":for(f=0;f<iu.length;f++)Ie(iu[f],s);break;case"source":Ie("error",s);break;case"img":case"image":case"link":Ie("error",s),Ie("load",s);break;case"details":Ie("toggle",s);break;case"input":Ie("invalid",s),rT(s,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Ie("invalid",s);break;case"textarea":Ie("invalid",s),aT(s,p.value,p.defaultValue,p.children)}f=p.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||s.textContent===""+f||p.suppressHydrationWarning===!0||sA(s.textContent,f)?(p.popover!=null&&(Ie("beforetoggle",s),Ie("toggle",s)),p.onScroll!=null&&Ie("scroll",s),p.onScrollEnd!=null&&Ie("scrollend",s),p.onClick!=null&&(s.onclick=oi),s=!0):s=!1,s||ua(o,!0)}function GT(o){for(Xt=o.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:lr=!1;return;case 27:case 3:lr=!0;return;default:Xt=Xt.return}}function is(o){if(o!==Xt)return!1;if(!qe)return GT(o),qe=!0,!1;var s=o.tag,f;if((f=s!==3&&s!==27)&&((f=s===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||qv(o.type,o.memoizedProps)),f=!f),f&&rt&&ua(o),GT(o),s===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));rt=vA(o)}else if(s===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));rt=vA(o)}else s===27?(s=rt,Ea(o.type)?(o=Fv,Fv=null,rt=o):rt=s):rt=Xt?cr(o.stateNode.nextSibling):null;return!0}function to(){rt=Xt=null,qe=!1}function Sm(){var o=la;return o!==null&&(Nn===null?Nn=o:Nn.push.apply(Nn,o),la=null),o}function Ll(o){la===null?la=[o]:la.push(o)}var Tm=U(null),no=null,ci=null;function ca(o,s,f){$(Tm,s._currentValue),s._currentValue=f}function fi(o){o._currentValue=Tm.current,X(Tm)}function Em(o,s,f){for(;o!==null;){var p=o.alternate;if((o.childLanes&s)!==s?(o.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),o===f)break;o=o.return}}function wm(o,s,f,p){var b=o.child;for(b!==null&&(b.return=o);b!==null;){var S=b.dependencies;if(S!==null){var x=b.child;S=S.firstContext;e:for(;S!==null;){var I=S;S=b;for(var L=0;L<s.length;L++)if(I.context===s[L]){S.lanes|=f,I=S.alternate,I!==null&&(I.lanes|=f),Em(S.return,f,o),p||(x=null);break e}S=I.next}}else if(b.tag===18){if(x=b.return,x===null)throw Error(r(341));x.lanes|=f,S=x.alternate,S!==null&&(S.lanes|=f),Em(x,f,o),x=null}else x=b.child;if(x!==null)x.return=b;else for(x=b;x!==null;){if(x===o){x=null;break}if(b=x.sibling,b!==null){b.return=x.return,x=b;break}x=x.return}b=x}}function as(o,s,f,p){o=null;for(var b=s,S=!1;b!==null;){if(!S){if((b.flags&524288)!==0)S=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var x=b.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var I=b.type;$n(b.pendingProps.value,x.value)||(o!==null?o.push(I):o=[I])}}else if(b===we.current){if(x=b.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(o!==null?o.push(uu):o=[uu])}b=b.return}o!==null&&wm(s,o,f,p),s.flags|=262144}function nf(o){for(o=o.firstContext;o!==null;){if(!$n(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function ro(o){no=o,ci=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Qt(o){return VT(no,o)}function rf(o,s){return no===null&&ro(o),VT(o,s)}function VT(o,s){var f=s._currentValue;if(s={context:s,memoizedValue:f,next:null},ci===null){if(o===null)throw Error(r(308));ci=s,o.dependencies={lanes:0,firstContext:s},o.flags|=524288}else ci=ci.next=s;return f}var vq=typeof AbortController<"u"?AbortController:function(){var o=[],s=this.signal={aborted:!1,addEventListener:function(f,p){o.push(p)}};this.abort=function(){s.aborted=!0,o.forEach(function(f){return f()})}},gq=e.unstable_scheduleCallback,yq=e.unstable_NormalPriority,Et={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Am(){return{controller:new vq,data:new Map,refCount:0}}function Ul(o){o.refCount--,o.refCount===0&&gq(yq,function(){o.controller.abort()})}var ql=null,xm=0,os=0,ss=null;function bq(o,s){if(ql===null){var f=ql=[];xm=0,os=Pv(),ss={status:"pending",value:void 0,then:function(p){f.push(p)}}}return xm++,s.then(KT,KT),s}function KT(){if(--xm===0&&ql!==null){ss!==null&&(ss.status="fulfilled");var o=ql;ql=null,os=0,ss=null;for(var s=0;s<o.length;s++)(0,o[s])()}}function _q(o,s){var f=[],p={status:"pending",value:null,reason:null,then:function(b){f.push(b)}};return o.then(function(){p.status="fulfilled",p.value=s;for(var b=0;b<f.length;b++)(0,f[b])(s)},function(b){for(p.status="rejected",p.reason=b,b=0;b<f.length;b++)(0,f[b])(void 0)}),p}var YT=j.S;j.S=function(o,s){Nw=gn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&bq(o,s),YT!==null&&YT(o,s)};var io=U(null);function Cm(){var o=io.current;return o!==null?o:Ze.pooledCache}function af(o,s){s===null?$(io,io.current):$(io,s.pool)}function WT(){var o=Cm();return o===null?null:{parent:Et._currentValue,pool:o}}var ls=Error(r(460)),Mm=Error(r(474)),of=Error(r(542)),sf={then:function(){}};function JT(o){return o=o.status,o==="fulfilled"||o==="rejected"}function XT(o,s,f){switch(f=o[f],f===void 0?o.push(s):f!==s&&(s.then(oi,oi),s=f),s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,ZT(o),o;default:if(typeof s.status=="string")s.then(oi,oi);else{if(o=Ze,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=s,o.status="pending",o.then(function(p){if(s.status==="pending"){var b=s;b.status="fulfilled",b.value=p}},function(p){if(s.status==="pending"){var b=s;b.status="rejected",b.reason=p}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,ZT(o),o}throw oo=s,ls}}function ao(o){try{var s=o._init;return s(o._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(oo=f,ls):f}}var oo=null;function QT(){if(oo===null)throw Error(r(459));var o=oo;return oo=null,o}function ZT(o){if(o===ls||o===of)throw Error(r(483))}var us=null,zl=0;function lf(o){var s=zl;return zl+=1,us===null&&(us=[]),XT(us,o,s)}function jl(o,s){s=s.props.ref,o.ref=s!==void 0?s:null}function uf(o,s){throw s.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(s),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o)))}function eE(o){function s(z,q){if(o){var B=z.deletions;B===null?(z.deletions=[q],z.flags|=16):B.push(q)}}function f(z,q){if(!o)return null;for(;q!==null;)s(z,q),q=q.sibling;return null}function p(z){for(var q=new Map;z!==null;)z.key!==null?q.set(z.key,z):q.set(z.index,z),z=z.sibling;return q}function b(z,q){return z=li(z,q),z.index=0,z.sibling=null,z}function S(z,q,B){return z.index=B,o?(B=z.alternate,B!==null?(B=B.index,B<q?(z.flags|=67108866,q):B):(z.flags|=67108866,q)):(z.flags|=1048576,q)}function x(z){return o&&z.alternate===null&&(z.flags|=67108866),z}function I(z,q,B,ne){return q===null||q.tag!==6?(q=vm(B,z.mode,ne),q.return=z,q):(q=b(q,B),q.return=z,q)}function L(z,q,B,ne){var ye=B.type;return ye===w?Z(z,q,B.props.children,ne,B.key):q!==null&&(q.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===H&&ao(ye)===q.type)?(q=b(q,B.props),jl(q,B),q.return=z,q):(q=ef(B.type,B.key,B.props,null,z.mode,ne),jl(q,B),q.return=z,q)}function F(z,q,B,ne){return q===null||q.tag!==4||q.stateNode.containerInfo!==B.containerInfo||q.stateNode.implementation!==B.implementation?(q=gm(B,z.mode,ne),q.return=z,q):(q=b(q,B.children||[]),q.return=z,q)}function Z(z,q,B,ne,ye){return q===null||q.tag!==7?(q=eo(B,z.mode,ne,ye),q.return=z,q):(q=b(q,B),q.return=z,q)}function re(z,q,B){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=vm(""+q,z.mode,B),q.return=z,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case _:return B=ef(q.type,q.key,q.props,null,z.mode,B),jl(B,q),B.return=z,B;case T:return q=gm(q,z.mode,B),q.return=z,q;case H:return q=ao(q),re(z,q,B)}if(ge(q)||W(q))return q=eo(q,z.mode,B,null),q.return=z,q;if(typeof q.then=="function")return re(z,lf(q),B);if(q.$$typeof===P)return re(z,rf(z,q),B);uf(z,q)}return null}function G(z,q,B,ne){var ye=q!==null?q.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ye!==null?null:I(z,q,""+B,ne);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case _:return B.key===ye?L(z,q,B,ne):null;case T:return B.key===ye?F(z,q,B,ne):null;case H:return B=ao(B),G(z,q,B,ne)}if(ge(B)||W(B))return ye!==null?null:Z(z,q,B,ne,null);if(typeof B.then=="function")return G(z,q,lf(B),ne);if(B.$$typeof===P)return G(z,q,rf(z,B),ne);uf(z,B)}return null}function J(z,q,B,ne,ye){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return z=z.get(B)||null,I(q,z,""+ne,ye);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case _:return z=z.get(ne.key===null?B:ne.key)||null,L(q,z,ne,ye);case T:return z=z.get(ne.key===null?B:ne.key)||null,F(q,z,ne,ye);case H:return ne=ao(ne),J(z,q,B,ne,ye)}if(ge(ne)||W(ne))return z=z.get(B)||null,Z(q,z,ne,ye,null);if(typeof ne.then=="function")return J(z,q,B,lf(ne),ye);if(ne.$$typeof===P)return J(z,q,B,rf(q,ne),ye);uf(q,ne)}return null}function he(z,q,B,ne){for(var ye=null,je=null,me=q,Me=q=0,ke=null;me!==null&&Me<B.length;Me++){me.index>Me?(ke=me,me=null):ke=me.sibling;var Be=G(z,me,B[Me],ne);if(Be===null){me===null&&(me=ke);break}o&&me&&Be.alternate===null&&s(z,me),q=S(Be,q,Me),je===null?ye=Be:je.sibling=Be,je=Be,me=ke}if(Me===B.length)return f(z,me),qe&&ui(z,Me),ye;if(me===null){for(;Me<B.length;Me++)me=re(z,B[Me],ne),me!==null&&(q=S(me,q,Me),je===null?ye=me:je.sibling=me,je=me);return qe&&ui(z,Me),ye}for(me=p(me);Me<B.length;Me++)ke=J(me,z,Me,B[Me],ne),ke!==null&&(o&&ke.alternate!==null&&me.delete(ke.key===null?Me:ke.key),q=S(ke,q,Me),je===null?ye=ke:je.sibling=ke,je=ke);return o&&me.forEach(function(Ma){return s(z,Ma)}),qe&&ui(z,Me),ye}function Se(z,q,B,ne){if(B==null)throw Error(r(151));for(var ye=null,je=null,me=q,Me=q=0,ke=null,Be=B.next();me!==null&&!Be.done;Me++,Be=B.next()){me.index>Me?(ke=me,me=null):ke=me.sibling;var Ma=G(z,me,Be.value,ne);if(Ma===null){me===null&&(me=ke);break}o&&me&&Ma.alternate===null&&s(z,me),q=S(Ma,q,Me),je===null?ye=Ma:je.sibling=Ma,je=Ma,me=ke}if(Be.done)return f(z,me),qe&&ui(z,Me),ye;if(me===null){for(;!Be.done;Me++,Be=B.next())Be=re(z,Be.value,ne),Be!==null&&(q=S(Be,q,Me),je===null?ye=Be:je.sibling=Be,je=Be);return qe&&ui(z,Me),ye}for(me=p(me);!Be.done;Me++,Be=B.next())Be=J(me,z,Me,Be.value,ne),Be!==null&&(o&&Be.alternate!==null&&me.delete(Be.key===null?Me:Be.key),q=S(Be,q,Me),je===null?ye=Be:je.sibling=Be,je=Be);return o&&me.forEach(function(Nz){return s(z,Nz)}),qe&&ui(z,Me),ye}function Qe(z,q,B,ne){if(typeof B=="object"&&B!==null&&B.type===w&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case _:e:{for(var ye=B.key;q!==null;){if(q.key===ye){if(ye=B.type,ye===w){if(q.tag===7){f(z,q.sibling),ne=b(q,B.props.children),ne.return=z,z=ne;break e}}else if(q.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===H&&ao(ye)===q.type){f(z,q.sibling),ne=b(q,B.props),jl(ne,B),ne.return=z,z=ne;break e}f(z,q);break}else s(z,q);q=q.sibling}B.type===w?(ne=eo(B.props.children,z.mode,ne,B.key),ne.return=z,z=ne):(ne=ef(B.type,B.key,B.props,null,z.mode,ne),jl(ne,B),ne.return=z,z=ne)}return x(z);case T:e:{for(ye=B.key;q!==null;){if(q.key===ye)if(q.tag===4&&q.stateNode.containerInfo===B.containerInfo&&q.stateNode.implementation===B.implementation){f(z,q.sibling),ne=b(q,B.children||[]),ne.return=z,z=ne;break e}else{f(z,q);break}else s(z,q);q=q.sibling}ne=gm(B,z.mode,ne),ne.return=z,z=ne}return x(z);case H:return B=ao(B),Qe(z,q,B,ne)}if(ge(B))return he(z,q,B,ne);if(W(B)){if(ye=W(B),typeof ye!="function")throw Error(r(150));return B=ye.call(B),Se(z,q,B,ne)}if(typeof B.then=="function")return Qe(z,q,lf(B),ne);if(B.$$typeof===P)return Qe(z,q,rf(z,B),ne);uf(z,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,q!==null&&q.tag===6?(f(z,q.sibling),ne=b(q,B),ne.return=z,z=ne):(f(z,q),ne=vm(B,z.mode,ne),ne.return=z,z=ne),x(z)):f(z,q)}return function(z,q,B,ne){try{zl=0;var ye=Qe(z,q,B,ne);return us=null,ye}catch(me){if(me===ls||me===of)throw me;var je=Fn(29,me,null,z.mode);return je.lanes=ne,je.return=z,je}finally{}}}var so=eE(!0),tE=eE(!1),fa=!1;function Pm(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Om(o,s){o=o.updateQueue,s.updateQueue===o&&(s.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function da(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function ha(o,s,f){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(He&2)!==0){var b=p.pending;return b===null?s.next=s:(s.next=b.next,b.next=s),p.pending=s,s=Zc(o),qT(o,null,f),s}return Qc(o,p,s,f),Zc(o)}function Bl(o,s,f){if(s=s.updateQueue,s!==null&&(s=s.shared,(f&4194048)!==0)){var p=s.lanes;p&=o.pendingLanes,f|=p,s.lanes=f,jr(o,f)}}function Nm(o,s){var f=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,f===p)){var b=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var x={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};S===null?b=S=x:S=S.next=x,f=f.next}while(f!==null);S===null?b=S=s:S=S.next=s}else b=S=s;f={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:S,shared:p.shared,callbacks:p.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=s:o.next=s,f.lastBaseUpdate=s}var Im=!1;function $l(){if(Im){var o=ss;if(o!==null)throw o}}function Fl(o,s,f,p){Im=!1;var b=o.updateQueue;fa=!1;var S=b.firstBaseUpdate,x=b.lastBaseUpdate,I=b.shared.pending;if(I!==null){b.shared.pending=null;var L=I,F=L.next;L.next=null,x===null?S=F:x.next=F,x=L;var Z=o.alternate;Z!==null&&(Z=Z.updateQueue,I=Z.lastBaseUpdate,I!==x&&(I===null?Z.firstBaseUpdate=F:I.next=F,Z.lastBaseUpdate=L))}if(S!==null){var re=b.baseState;x=0,Z=F=L=null,I=S;do{var G=I.lane&-536870913,J=G!==I.lane;if(J?(Re&G)===G:(p&G)===G){G!==0&&G===os&&(Im=!0),Z!==null&&(Z=Z.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var he=o,Se=I;G=s;var Qe=f;switch(Se.tag){case 1:if(he=Se.payload,typeof he=="function"){re=he.call(Qe,re,G);break e}re=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Se.payload,G=typeof he=="function"?he.call(Qe,re,G):he,G==null)break e;re=m({},re,G);break e;case 2:fa=!0}}G=I.callback,G!==null&&(o.flags|=64,J&&(o.flags|=8192),J=b.callbacks,J===null?b.callbacks=[G]:J.push(G))}else J={lane:G,tag:I.tag,payload:I.payload,callback:I.callback,next:null},Z===null?(F=Z=J,L=re):Z=Z.next=J,x|=G;if(I=I.next,I===null){if(I=b.shared.pending,I===null)break;J=I,I=J.next,J.next=null,b.lastBaseUpdate=J,b.shared.pending=null}}while(!0);Z===null&&(L=re),b.baseState=L,b.firstBaseUpdate=F,b.lastBaseUpdate=Z,S===null&&(b.shared.lanes=0),ya|=x,o.lanes=x,o.memoizedState=re}}function nE(o,s){if(typeof o!="function")throw Error(r(191,o));o.call(s)}function rE(o,s){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)nE(f[o],s)}var cs=U(null),cf=U(0);function iE(o,s){o=_i,$(cf,o),$(cs,s),_i=o|s.baseLanes}function Dm(){$(cf,_i),$(cs,cs.current)}function Rm(){_i=cf.current,X(cs),X(cf)}var Hn=U(null),ur=null;function pa(o){var s=o.alternate;$(yt,yt.current&1),$(Hn,o),ur===null&&(s===null||cs.current!==null||s.memoizedState!==null)&&(ur=o)}function km(o){$(yt,yt.current),$(Hn,o),ur===null&&(ur=o)}function aE(o){o.tag===22?($(yt,yt.current),$(Hn,o),ur===null&&(ur=o)):ma()}function ma(){$(yt,yt.current),$(Hn,Hn.current)}function Gn(o){X(Hn),ur===o&&(ur=null),X(yt)}var yt=U(0);function ff(o){for(var s=o;s!==null;){if(s.tag===13){var f=s.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||Bv(f)||$v(f)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var di=0,Ce=null,Je=null,wt=null,df=!1,fs=!1,lo=!1,hf=0,Hl=0,ds=null,Sq=0;function pt(){throw Error(r(321))}function Lm(o,s){if(s===null)return!1;for(var f=0;f<s.length&&f<o.length;f++)if(!$n(o[f],s[f]))return!1;return!0}function Um(o,s,f,p,b,S){return di=S,Ce=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,j.H=o===null||o.memoizedState===null?$E:Qm,lo=!1,S=f(p,b),lo=!1,fs&&(S=sE(s,f,p,b)),oE(o),S}function oE(o){j.H=Kl;var s=Je!==null&&Je.next!==null;if(di=0,wt=Je=Ce=null,df=!1,Hl=0,ds=null,s)throw Error(r(300));o===null||At||(o=o.dependencies,o!==null&&nf(o)&&(At=!0))}function sE(o,s,f,p){Ce=o;var b=0;do{if(fs&&(ds=null),Hl=0,fs=!1,25<=b)throw Error(r(301));if(b+=1,wt=Je=null,o.updateQueue!=null){var S=o.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}j.H=FE,S=s(f,p)}while(fs);return S}function Tq(){var o=j.H,s=o.useState()[0];return s=typeof s.then=="function"?Gl(s):s,o=o.useState()[0],(Je!==null?Je.memoizedState:null)!==o&&(Ce.flags|=1024),s}function qm(){var o=hf!==0;return hf=0,o}function zm(o,s,f){s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~f}function jm(o){if(df){for(o=o.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}df=!1}di=0,wt=Je=Ce=null,fs=!1,Hl=hf=0,ds=null}function _n(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ce.memoizedState=wt=o:wt=wt.next=o,wt}function bt(){if(Je===null){var o=Ce.alternate;o=o!==null?o.memoizedState:null}else o=Je.next;var s=wt===null?Ce.memoizedState:wt.next;if(s!==null)wt=s,Je=o;else{if(o===null)throw Ce.alternate===null?Error(r(467)):Error(r(310));Je=o,o={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},wt===null?Ce.memoizedState=wt=o:wt=wt.next=o}return wt}function pf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gl(o){var s=Hl;return Hl+=1,ds===null&&(ds=[]),o=XT(ds,o,s),s=Ce,(wt===null?s.memoizedState:wt.next)===null&&(s=s.alternate,j.H=s===null||s.memoizedState===null?$E:Qm),o}function mf(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Gl(o);if(o.$$typeof===P)return Qt(o)}throw Error(r(438,String(o)))}function Bm(o){var s=null,f=Ce.updateQueue;if(f!==null&&(s=f.memoCache),s==null){var p=Ce.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(s={data:p.data.map(function(b){return b.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),f===null&&(f=pf(),Ce.updateQueue=f),f.memoCache=s,f=s.data[s.index],f===void 0)for(f=s.data[s.index]=Array(o),p=0;p<o;p++)f[p]=ae;return s.index++,f}function hi(o,s){return typeof s=="function"?s(o):s}function vf(o){var s=bt();return $m(s,Je,o)}function $m(o,s,f){var p=o.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=f;var b=o.baseQueue,S=p.pending;if(S!==null){if(b!==null){var x=b.next;b.next=S.next,S.next=x}s.baseQueue=b=S,p.pending=null}if(S=o.baseState,b===null)o.memoizedState=S;else{s=b.next;var I=x=null,L=null,F=s,Z=!1;do{var re=F.lane&-536870913;if(re!==F.lane?(Re&re)===re:(di&re)===re){var G=F.revertLane;if(G===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),re===os&&(Z=!0);else if((di&G)===G){F=F.next,G===os&&(Z=!0);continue}else re={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},L===null?(I=L=re,x=S):L=L.next=re,Ce.lanes|=G,ya|=G;re=F.action,lo&&f(S,re),S=F.hasEagerState?F.eagerState:f(S,re)}else G={lane:re,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},L===null?(I=L=G,x=S):L=L.next=G,Ce.lanes|=re,ya|=re;F=F.next}while(F!==null&&F!==s);if(L===null?x=S:L.next=I,!$n(S,o.memoizedState)&&(At=!0,Z&&(f=ss,f!==null)))throw f;o.memoizedState=S,o.baseState=x,o.baseQueue=L,p.lastRenderedState=S}return b===null&&(p.lanes=0),[o.memoizedState,p.dispatch]}function Fm(o){var s=bt(),f=s.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var p=f.dispatch,b=f.pending,S=s.memoizedState;if(b!==null){f.pending=null;var x=b=b.next;do S=o(S,x.action),x=x.next;while(x!==b);$n(S,s.memoizedState)||(At=!0),s.memoizedState=S,s.baseQueue===null&&(s.baseState=S),f.lastRenderedState=S}return[S,p]}function lE(o,s,f){var p=Ce,b=bt(),S=qe;if(S){if(f===void 0)throw Error(r(407));f=f()}else f=s();var x=!$n((Je||b).memoizedState,f);if(x&&(b.memoizedState=f,At=!0),b=b.queue,Vm(fE.bind(null,p,b,o),[o]),b.getSnapshot!==s||x||wt!==null&&wt.memoizedState.tag&1){if(p.flags|=2048,hs(9,{destroy:void 0},cE.bind(null,p,b,f,s),null),Ze===null)throw Error(r(349));S||(di&127)!==0||uE(p,s,f)}return f}function uE(o,s,f){o.flags|=16384,o={getSnapshot:s,value:f},s=Ce.updateQueue,s===null?(s=pf(),Ce.updateQueue=s,s.stores=[o]):(f=s.stores,f===null?s.stores=[o]:f.push(o))}function cE(o,s,f,p){s.value=f,s.getSnapshot=p,dE(s)&&hE(o)}function fE(o,s,f){return f(function(){dE(s)&&hE(o)})}function dE(o){var s=o.getSnapshot;o=o.value;try{var f=s();return!$n(o,f)}catch{return!0}}function hE(o){var s=Za(o,2);s!==null&&In(s,o,2)}function Hm(o){var s=_n();if(typeof o=="function"){var f=o;if(o=f(),lo){zr(!0);try{f()}finally{zr(!1)}}}return s.memoizedState=s.baseState=o,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:o},s}function pE(o,s,f,p){return o.baseState=f,$m(o,Je,typeof p=="function"?p:hi)}function Eq(o,s,f,p,b){if(bf(o))throw Error(r(485));if(o=s.action,o!==null){var S={payload:b,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){S.listeners.push(x)}};j.T!==null?f(!0):S.isTransition=!1,p(S),f=s.pending,f===null?(S.next=s.pending=S,mE(s,S)):(S.next=f.next,s.pending=f.next=S)}}function mE(o,s){var f=s.action,p=s.payload,b=o.state;if(s.isTransition){var S=j.T,x={};j.T=x;try{var I=f(b,p),L=j.S;L!==null&&L(x,I),vE(o,s,I)}catch(F){Gm(o,s,F)}finally{S!==null&&x.types!==null&&(S.types=x.types),j.T=S}}else try{S=f(b,p),vE(o,s,S)}catch(F){Gm(o,s,F)}}function vE(o,s,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(p){gE(o,s,p)},function(p){return Gm(o,s,p)}):gE(o,s,f)}function gE(o,s,f){s.status="fulfilled",s.value=f,yE(s),o.state=f,s=o.pending,s!==null&&(f=s.next,f===s?o.pending=null:(f=f.next,s.next=f,mE(o,f)))}function Gm(o,s,f){var p=o.pending;if(o.pending=null,p!==null){p=p.next;do s.status="rejected",s.reason=f,yE(s),s=s.next;while(s!==p)}o.action=null}function yE(o){o=o.listeners;for(var s=0;s<o.length;s++)(0,o[s])()}function bE(o,s){return s}function _E(o,s){if(qe){var f=Ze.formState;if(f!==null){e:{var p=Ce;if(qe){if(rt){t:{for(var b=rt,S=lr;b.nodeType!==8;){if(!S){b=null;break t}if(b=cr(b.nextSibling),b===null){b=null;break t}}S=b.data,b=S==="F!"||S==="F"?b:null}if(b){rt=cr(b.nextSibling),p=b.data==="F!";break e}}ua(p)}p=!1}p&&(s=f[0])}}return f=_n(),f.memoizedState=f.baseState=s,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bE,lastRenderedState:s},f.queue=p,f=zE.bind(null,Ce,p),p.dispatch=f,p=Hm(!1),S=Xm.bind(null,Ce,!1,p.queue),p=_n(),b={state:s,dispatch:null,action:o,pending:null},p.queue=b,f=Eq.bind(null,Ce,b,S,f),b.dispatch=f,p.memoizedState=o,[s,f,!1]}function SE(o){var s=bt();return TE(s,Je,o)}function TE(o,s,f){if(s=$m(o,s,bE)[0],o=vf(hi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var p=Gl(s)}catch(x){throw x===ls?of:x}else p=s;s=bt();var b=s.queue,S=b.dispatch;return f!==s.memoizedState&&(Ce.flags|=2048,hs(9,{destroy:void 0},wq.bind(null,b,f),null)),[p,S,o]}function wq(o,s){o.action=s}function EE(o){var s=bt(),f=Je;if(f!==null)return TE(s,f,o);bt(),s=s.memoizedState,f=bt();var p=f.queue.dispatch;return f.memoizedState=o,[s,p,!1]}function hs(o,s,f,p){return o={tag:o,create:f,deps:p,inst:s,next:null},s=Ce.updateQueue,s===null&&(s=pf(),Ce.updateQueue=s),f=s.lastEffect,f===null?s.lastEffect=o.next=o:(p=f.next,f.next=o,o.next=p,s.lastEffect=o),o}function wE(){return bt().memoizedState}function gf(o,s,f,p){var b=_n();Ce.flags|=o,b.memoizedState=hs(1|s,{destroy:void 0},f,p===void 0?null:p)}function yf(o,s,f,p){var b=bt();p=p===void 0?null:p;var S=b.memoizedState.inst;Je!==null&&p!==null&&Lm(p,Je.memoizedState.deps)?b.memoizedState=hs(s,S,f,p):(Ce.flags|=o,b.memoizedState=hs(1|s,S,f,p))}function AE(o,s){gf(8390656,8,o,s)}function Vm(o,s){yf(2048,8,o,s)}function Aq(o){Ce.flags|=4;var s=Ce.updateQueue;if(s===null)s=pf(),Ce.updateQueue=s,s.events=[o];else{var f=s.events;f===null?s.events=[o]:f.push(o)}}function xE(o){var s=bt().memoizedState;return Aq({ref:s,nextImpl:o}),function(){if((He&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function CE(o,s){return yf(4,2,o,s)}function ME(o,s){return yf(4,4,o,s)}function PE(o,s){if(typeof s=="function"){o=o();var f=s(o);return function(){typeof f=="function"?f():s(null)}}if(s!=null)return o=o(),s.current=o,function(){s.current=null}}function OE(o,s,f){f=f!=null?f.concat([o]):null,yf(4,4,PE.bind(null,s,o),f)}function Km(){}function NE(o,s){var f=bt();s=s===void 0?null:s;var p=f.memoizedState;return s!==null&&Lm(s,p[1])?p[0]:(f.memoizedState=[o,s],o)}function IE(o,s){var f=bt();s=s===void 0?null:s;var p=f.memoizedState;if(s!==null&&Lm(s,p[1]))return p[0];if(p=o(),lo){zr(!0);try{o()}finally{zr(!1)}}return f.memoizedState=[p,s],p}function Ym(o,s,f){return f===void 0||(di&1073741824)!==0&&(Re&261930)===0?o.memoizedState=s:(o.memoizedState=f,o=Dw(),Ce.lanes|=o,ya|=o,f)}function DE(o,s,f,p){return $n(f,s)?f:cs.current!==null?(o=Ym(o,f,p),$n(o,s)||(At=!0),o):(di&42)===0||(di&1073741824)!==0&&(Re&261930)===0?(At=!0,o.memoizedState=f):(o=Dw(),Ce.lanes|=o,ya|=o,s)}function RE(o,s,f,p,b){var S=ee.p;ee.p=S!==0&&8>S?S:8;var x=j.T,I={};j.T=I,Xm(o,!1,s,f);try{var L=b(),F=j.S;if(F!==null&&F(I,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var Z=_q(L,p);Vl(o,s,Z,Yn(o))}else Vl(o,s,p,Yn(o))}catch(re){Vl(o,s,{then:function(){},status:"rejected",reason:re},Yn())}finally{ee.p=S,x!==null&&I.types!==null&&(x.types=I.types),j.T=x}}function xq(){}function Wm(o,s,f,p){if(o.tag!==5)throw Error(r(476));var b=kE(o).queue;RE(o,b,s,le,f===null?xq:function(){return LE(o),f(p)})}function kE(o){var s=o.memoizedState;if(s!==null)return s;s={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:le},next:null};var f={};return s.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:f},next:null},o.memoizedState=s,o=o.alternate,o!==null&&(o.memoizedState=s),s}function LE(o){var s=kE(o);s.next===null&&(s=o.alternate.memoizedState),Vl(o,s.next.queue,{},Yn())}function Jm(){return Qt(uu)}function UE(){return bt().memoizedState}function qE(){return bt().memoizedState}function Cq(o){for(var s=o.return;s!==null;){switch(s.tag){case 24:case 3:var f=Yn();o=da(f);var p=ha(s,o,f);p!==null&&(In(p,s,f),Bl(p,s,f)),s={cache:Am()},o.payload=s;return}s=s.return}}function Mq(o,s,f){var p=Yn();f={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},bf(o)?jE(s,f):(f=pm(o,s,f,p),f!==null&&(In(f,o,p),BE(f,s,p)))}function zE(o,s,f){var p=Yn();Vl(o,s,f,p)}function Vl(o,s,f,p){var b={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(bf(o))jE(s,b);else{var S=o.alternate;if(o.lanes===0&&(S===null||S.lanes===0)&&(S=s.lastRenderedReducer,S!==null))try{var x=s.lastRenderedState,I=S(x,f);if(b.hasEagerState=!0,b.eagerState=I,$n(I,x))return Qc(o,s,b,0),Ze===null&&Xc(),!1}catch{}finally{}if(f=pm(o,s,b,p),f!==null)return In(f,o,p),BE(f,s,p),!0}return!1}function Xm(o,s,f,p){if(p={lane:2,revertLane:Pv(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},bf(o)){if(s)throw Error(r(479))}else s=pm(o,f,p,2),s!==null&&In(s,o,2)}function bf(o){var s=o.alternate;return o===Ce||s!==null&&s===Ce}function jE(o,s){fs=df=!0;var f=o.pending;f===null?s.next=s:(s.next=f.next,f.next=s),o.pending=s}function BE(o,s,f){if((f&4194048)!==0){var p=s.lanes;p&=o.pendingLanes,f|=p,s.lanes=f,jr(o,f)}}var Kl={readContext:Qt,use:mf,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};Kl.useEffectEvent=pt;var $E={readContext:Qt,use:mf,useCallback:function(o,s){return _n().memoizedState=[o,s===void 0?null:s],o},useContext:Qt,useEffect:AE,useImperativeHandle:function(o,s,f){f=f!=null?f.concat([o]):null,gf(4194308,4,PE.bind(null,s,o),f)},useLayoutEffect:function(o,s){return gf(4194308,4,o,s)},useInsertionEffect:function(o,s){gf(4,2,o,s)},useMemo:function(o,s){var f=_n();s=s===void 0?null:s;var p=o();if(lo){zr(!0);try{o()}finally{zr(!1)}}return f.memoizedState=[p,s],p},useReducer:function(o,s,f){var p=_n();if(f!==void 0){var b=f(s);if(lo){zr(!0);try{f(s)}finally{zr(!1)}}}else b=s;return p.memoizedState=p.baseState=b,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:b},p.queue=o,o=o.dispatch=Mq.bind(null,Ce,o),[p.memoizedState,o]},useRef:function(o){var s=_n();return o={current:o},s.memoizedState=o},useState:function(o){o=Hm(o);var s=o.queue,f=zE.bind(null,Ce,s);return s.dispatch=f,[o.memoizedState,f]},useDebugValue:Km,useDeferredValue:function(o,s){var f=_n();return Ym(f,o,s)},useTransition:function(){var o=Hm(!1);return o=RE.bind(null,Ce,o.queue,!0,!1),_n().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,s,f){var p=Ce,b=_n();if(qe){if(f===void 0)throw Error(r(407));f=f()}else{if(f=s(),Ze===null)throw Error(r(349));(Re&127)!==0||uE(p,s,f)}b.memoizedState=f;var S={value:f,getSnapshot:s};return b.queue=S,AE(fE.bind(null,p,S,o),[o]),p.flags|=2048,hs(9,{destroy:void 0},cE.bind(null,p,S,f,s),null),f},useId:function(){var o=_n(),s=Ze.identifierPrefix;if(qe){var f=$r,p=Br;f=(p&~(1<<32-bn(p)-1)).toString(32)+f,s="_"+s+"R_"+f,f=hf++,0<f&&(s+="H"+f.toString(32)),s+="_"}else f=Sq++,s="_"+s+"r_"+f.toString(32)+"_";return o.memoizedState=s},useHostTransitionStatus:Jm,useFormState:_E,useActionState:_E,useOptimistic:function(o){var s=_n();s.memoizedState=s.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=f,s=Xm.bind(null,Ce,!0,f),f.dispatch=s,[o,s]},useMemoCache:Bm,useCacheRefresh:function(){return _n().memoizedState=Cq.bind(null,Ce)},useEffectEvent:function(o){var s=_n(),f={impl:o};return s.memoizedState=f,function(){if((He&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},Qm={readContext:Qt,use:mf,useCallback:NE,useContext:Qt,useEffect:Vm,useImperativeHandle:OE,useInsertionEffect:CE,useLayoutEffect:ME,useMemo:IE,useReducer:vf,useRef:wE,useState:function(){return vf(hi)},useDebugValue:Km,useDeferredValue:function(o,s){var f=bt();return DE(f,Je.memoizedState,o,s)},useTransition:function(){var o=vf(hi)[0],s=bt().memoizedState;return[typeof o=="boolean"?o:Gl(o),s]},useSyncExternalStore:lE,useId:UE,useHostTransitionStatus:Jm,useFormState:SE,useActionState:SE,useOptimistic:function(o,s){var f=bt();return pE(f,Je,o,s)},useMemoCache:Bm,useCacheRefresh:qE};Qm.useEffectEvent=xE;var FE={readContext:Qt,use:mf,useCallback:NE,useContext:Qt,useEffect:Vm,useImperativeHandle:OE,useInsertionEffect:CE,useLayoutEffect:ME,useMemo:IE,useReducer:Fm,useRef:wE,useState:function(){return Fm(hi)},useDebugValue:Km,useDeferredValue:function(o,s){var f=bt();return Je===null?Ym(f,o,s):DE(f,Je.memoizedState,o,s)},useTransition:function(){var o=Fm(hi)[0],s=bt().memoizedState;return[typeof o=="boolean"?o:Gl(o),s]},useSyncExternalStore:lE,useId:UE,useHostTransitionStatus:Jm,useFormState:EE,useActionState:EE,useOptimistic:function(o,s){var f=bt();return Je!==null?pE(f,Je,o,s):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:Bm,useCacheRefresh:qE};FE.useEffectEvent=xE;function Zm(o,s,f,p){s=o.memoizedState,f=f(p,s),f=f==null?s:m({},s,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var ev={enqueueSetState:function(o,s,f){o=o._reactInternals;var p=Yn(),b=da(p);b.payload=s,f!=null&&(b.callback=f),s=ha(o,b,p),s!==null&&(In(s,o,p),Bl(s,o,p))},enqueueReplaceState:function(o,s,f){o=o._reactInternals;var p=Yn(),b=da(p);b.tag=1,b.payload=s,f!=null&&(b.callback=f),s=ha(o,b,p),s!==null&&(In(s,o,p),Bl(s,o,p))},enqueueForceUpdate:function(o,s){o=o._reactInternals;var f=Yn(),p=da(f);p.tag=2,s!=null&&(p.callback=s),s=ha(o,p,f),s!==null&&(In(s,o,f),Bl(s,o,f))}};function HE(o,s,f,p,b,S,x){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,S,x):s.prototype&&s.prototype.isPureReactComponent?!Dl(f,p)||!Dl(b,S):!0}function GE(o,s,f,p){o=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(f,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(f,p),s.state!==o&&ev.enqueueReplaceState(s,s.state,null)}function uo(o,s){var f=s;if("ref"in s){f={};for(var p in s)p!=="ref"&&(f[p]=s[p])}if(o=o.defaultProps){f===s&&(f=m({},f));for(var b in o)f[b]===void 0&&(f[b]=o[b])}return f}function VE(o){Jc(o)}function KE(o){console.error(o)}function YE(o){Jc(o)}function _f(o,s){try{var f=o.onUncaughtError;f(s.value,{componentStack:s.stack})}catch(p){setTimeout(function(){throw p})}}function WE(o,s,f){try{var p=o.onCaughtError;p(f.value,{componentStack:f.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function tv(o,s,f){return f=da(f),f.tag=3,f.payload={element:null},f.callback=function(){_f(o,s)},f}function JE(o){return o=da(o),o.tag=3,o}function XE(o,s,f,p){var b=f.type.getDerivedStateFromError;if(typeof b=="function"){var S=p.value;o.payload=function(){return b(S)},o.callback=function(){WE(s,f,p)}}var x=f.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(o.callback=function(){WE(s,f,p),typeof b!="function"&&(ba===null?ba=new Set([this]):ba.add(this));var I=p.stack;this.componentDidCatch(p.value,{componentStack:I!==null?I:""})})}function Pq(o,s,f,p,b){if(f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(s=f.alternate,s!==null&&as(s,f,b,!0),f=Hn.current,f!==null){switch(f.tag){case 31:case 13:return ur===null?If():f.alternate===null&&mt===0&&(mt=3),f.flags&=-257,f.flags|=65536,f.lanes=b,p===sf?f.flags|=16384:(s=f.updateQueue,s===null?f.updateQueue=new Set([p]):s.add(p),xv(o,p,b)),!1;case 22:return f.flags|=65536,p===sf?f.flags|=16384:(s=f.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([p])},f.updateQueue=s):(f=s.retryQueue,f===null?s.retryQueue=new Set([p]):f.add(p)),xv(o,p,b)),!1}throw Error(r(435,f.tag))}return xv(o,p,b),If(),!1}if(qe)return s=Hn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=b,p!==_m&&(o=Error(r(422),{cause:p}),Ll(ar(o,f)))):(p!==_m&&(s=Error(r(423),{cause:p}),Ll(ar(s,f))),o=o.current.alternate,o.flags|=65536,b&=-b,o.lanes|=b,p=ar(p,f),b=tv(o.stateNode,p,b),Nm(o,b),mt!==4&&(mt=2)),!1;var S=Error(r(520),{cause:p});if(S=ar(S,f),tu===null?tu=[S]:tu.push(S),mt!==4&&(mt=2),s===null)return!0;p=ar(p,f),f=s;do{switch(f.tag){case 3:return f.flags|=65536,o=b&-b,f.lanes|=o,o=tv(f.stateNode,p,o),Nm(f,o),!1;case 1:if(s=f.type,S=f.stateNode,(f.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ba===null||!ba.has(S))))return f.flags|=65536,b&=-b,f.lanes|=b,b=JE(b),XE(b,o,f,p),Nm(f,b),!1}f=f.return}while(f!==null);return!1}var nv=Error(r(461)),At=!1;function Zt(o,s,f,p){s.child=o===null?tE(s,null,f,p):so(s,o.child,f,p)}function QE(o,s,f,p,b){f=f.render;var S=s.ref;if("ref"in p){var x={};for(var I in p)I!=="ref"&&(x[I]=p[I])}else x=p;return ro(s),p=Um(o,s,f,x,S,b),I=qm(),o!==null&&!At?(zm(o,s,b),pi(o,s,b)):(qe&&I&&ym(s),s.flags|=1,Zt(o,s,p,b),s.child)}function ZE(o,s,f,p,b){if(o===null){var S=f.type;return typeof S=="function"&&!mm(S)&&S.defaultProps===void 0&&f.compare===null?(s.tag=15,s.type=S,ew(o,s,S,p,b)):(o=ef(f.type,null,p,s,s.mode,b),o.ref=s.ref,o.return=s,s.child=o)}if(S=o.child,!cv(o,b)){var x=S.memoizedProps;if(f=f.compare,f=f!==null?f:Dl,f(x,p)&&o.ref===s.ref)return pi(o,s,b)}return s.flags|=1,o=li(S,p),o.ref=s.ref,o.return=s,s.child=o}function ew(o,s,f,p,b){if(o!==null){var S=o.memoizedProps;if(Dl(S,p)&&o.ref===s.ref)if(At=!1,s.pendingProps=p=S,cv(o,b))(o.flags&131072)!==0&&(At=!0);else return s.lanes=o.lanes,pi(o,s,b)}return rv(o,s,f,p,b)}function tw(o,s,f,p){var b=p.children,S=o!==null?o.memoizedState:null;if(o===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((s.flags&128)!==0){if(S=S!==null?S.baseLanes|f:f,o!==null){for(p=s.child=o.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;p=b&~S}else p=0,s.child=null;return nw(o,s,S,f,p)}if((f&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},o!==null&&af(s,S!==null?S.cachePool:null),S!==null?iE(s,S):Dm(),aE(s);else return p=s.lanes=536870912,nw(o,s,S!==null?S.baseLanes|f:f,f,p)}else S!==null?(af(s,S.cachePool),iE(s,S),ma(),s.memoizedState=null):(o!==null&&af(s,null),Dm(),ma());return Zt(o,s,b,f),s.child}function Yl(o,s){return o!==null&&o.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function nw(o,s,f,p,b){var S=Cm();return S=S===null?null:{parent:Et._currentValue,pool:S},s.memoizedState={baseLanes:f,cachePool:S},o!==null&&af(s,null),Dm(),aE(s),o!==null&&as(o,s,p,!0),s.childLanes=b,null}function Sf(o,s){return s=Ef({mode:s.mode,children:s.children},o.mode),s.ref=o.ref,o.child=s,s.return=o,s}function rw(o,s,f){return so(s,o.child,null,f),o=Sf(s,s.pendingProps),o.flags|=2,Gn(s),s.memoizedState=null,o}function Oq(o,s,f){var p=s.pendingProps,b=(s.flags&128)!==0;if(s.flags&=-129,o===null){if(qe){if(p.mode==="hidden")return o=Sf(s,p),s.lanes=536870912,Yl(null,o);if(km(s),(o=rt)?(o=mA(o,lr),o=o!==null&&o.data==="&"?o:null,o!==null&&(s.memoizedState={dehydrated:o,treeContext:sa!==null?{id:Br,overflow:$r}:null,retryLane:536870912,hydrationErrors:null},f=jT(o),f.return=s,s.child=f,Xt=s,rt=null)):o=null,o===null)throw ua(s);return s.lanes=536870912,null}return Sf(s,p)}var S=o.memoizedState;if(S!==null){var x=S.dehydrated;if(km(s),b)if(s.flags&256)s.flags&=-257,s=rw(o,s,f);else if(s.memoizedState!==null)s.child=o.child,s.flags|=128,s=null;else throw Error(r(558));else if(At||as(o,s,f,!1),b=(f&o.childLanes)!==0,At||b){if(p=Ze,p!==null&&(x=Ya(p,f),x!==0&&x!==S.retryLane))throw S.retryLane=x,Za(o,x),In(p,o,x),nv;If(),s=rw(o,s,f)}else o=S.treeContext,rt=cr(x.nextSibling),Xt=s,qe=!0,la=null,lr=!1,o!==null&&FT(s,o),s=Sf(s,p),s.flags|=4096;return s}return o=li(o.child,{mode:p.mode,children:p.children}),o.ref=s.ref,s.child=o,o.return=s,o}function Tf(o,s){var f=s.ref;if(f===null)o!==null&&o.ref!==null&&(s.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(o===null||o.ref!==f)&&(s.flags|=4194816)}}function rv(o,s,f,p,b){return ro(s),f=Um(o,s,f,p,void 0,b),p=qm(),o!==null&&!At?(zm(o,s,b),pi(o,s,b)):(qe&&p&&ym(s),s.flags|=1,Zt(o,s,f,b),s.child)}function iw(o,s,f,p,b,S){return ro(s),s.updateQueue=null,f=sE(s,p,f,b),oE(o),p=qm(),o!==null&&!At?(zm(o,s,S),pi(o,s,S)):(qe&&p&&ym(s),s.flags|=1,Zt(o,s,f,S),s.child)}function aw(o,s,f,p,b){if(ro(s),s.stateNode===null){var S=ts,x=f.contextType;typeof x=="object"&&x!==null&&(S=Qt(x)),S=new f(p,S),s.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=ev,s.stateNode=S,S._reactInternals=s,S=s.stateNode,S.props=p,S.state=s.memoizedState,S.refs={},Pm(s),x=f.contextType,S.context=typeof x=="object"&&x!==null?Qt(x):ts,S.state=s.memoizedState,x=f.getDerivedStateFromProps,typeof x=="function"&&(Zm(s,f,x,p),S.state=s.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(x=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),x!==S.state&&ev.enqueueReplaceState(S,S.state,null),Fl(s,p,S,b),$l(),S.state=s.memoizedState),typeof S.componentDidMount=="function"&&(s.flags|=4194308),p=!0}else if(o===null){S=s.stateNode;var I=s.memoizedProps,L=uo(f,I);S.props=L;var F=S.context,Z=f.contextType;x=ts,typeof Z=="object"&&Z!==null&&(x=Qt(Z));var re=f.getDerivedStateFromProps;Z=typeof re=="function"||typeof S.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,Z||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(I||F!==x)&&GE(s,S,p,x),fa=!1;var G=s.memoizedState;S.state=G,Fl(s,p,S,b),$l(),F=s.memoizedState,I||G!==F||fa?(typeof re=="function"&&(Zm(s,f,re,p),F=s.memoizedState),(L=fa||HE(s,f,L,p,G,F,x))?(Z||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(s.flags|=4194308)):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=F),S.props=p,S.state=F,S.context=x,p=L):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{S=s.stateNode,Om(o,s),x=s.memoizedProps,Z=uo(f,x),S.props=Z,re=s.pendingProps,G=S.context,F=f.contextType,L=ts,typeof F=="object"&&F!==null&&(L=Qt(F)),I=f.getDerivedStateFromProps,(F=typeof I=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(x!==re||G!==L)&&GE(s,S,p,L),fa=!1,G=s.memoizedState,S.state=G,Fl(s,p,S,b),$l();var J=s.memoizedState;x!==re||G!==J||fa||o!==null&&o.dependencies!==null&&nf(o.dependencies)?(typeof I=="function"&&(Zm(s,f,I,p),J=s.memoizedState),(Z=fa||HE(s,f,Z,p,G,J,L)||o!==null&&o.dependencies!==null&&nf(o.dependencies))?(F||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,J,L),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,J,L)),typeof S.componentDidUpdate=="function"&&(s.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof S.componentDidUpdate!="function"||x===o.memoizedProps&&G===o.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||x===o.memoizedProps&&G===o.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=J),S.props=p,S.state=J,S.context=L,p=Z):(typeof S.componentDidUpdate!="function"||x===o.memoizedProps&&G===o.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||x===o.memoizedProps&&G===o.memoizedState||(s.flags|=1024),p=!1)}return S=p,Tf(o,s),p=(s.flags&128)!==0,S||p?(S=s.stateNode,f=p&&typeof f.getDerivedStateFromError!="function"?null:S.render(),s.flags|=1,o!==null&&p?(s.child=so(s,o.child,null,b),s.child=so(s,null,f,b)):Zt(o,s,f,b),s.memoizedState=S.state,o=s.child):o=pi(o,s,b),o}function ow(o,s,f,p){return to(),s.flags|=256,Zt(o,s,f,p),s.child}var iv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function av(o){return{baseLanes:o,cachePool:WT()}}function ov(o,s,f){return o=o!==null?o.childLanes&~f:0,s&&(o|=Kn),o}function sw(o,s,f){var p=s.pendingProps,b=!1,S=(s.flags&128)!==0,x;if((x=S)||(x=o!==null&&o.memoizedState===null?!1:(yt.current&2)!==0),x&&(b=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,o===null){if(qe){if(b?pa(s):ma(),(o=rt)?(o=mA(o,lr),o=o!==null&&o.data!=="&"?o:null,o!==null&&(s.memoizedState={dehydrated:o,treeContext:sa!==null?{id:Br,overflow:$r}:null,retryLane:536870912,hydrationErrors:null},f=jT(o),f.return=s,s.child=f,Xt=s,rt=null)):o=null,o===null)throw ua(s);return $v(o)?s.lanes=32:s.lanes=536870912,null}var I=p.children;return p=p.fallback,b?(ma(),b=s.mode,I=Ef({mode:"hidden",children:I},b),p=eo(p,b,f,null),I.return=s,p.return=s,I.sibling=p,s.child=I,p=s.child,p.memoizedState=av(f),p.childLanes=ov(o,x,f),s.memoizedState=iv,Yl(null,p)):(pa(s),sv(s,I))}var L=o.memoizedState;if(L!==null&&(I=L.dehydrated,I!==null)){if(S)s.flags&256?(pa(s),s.flags&=-257,s=lv(o,s,f)):s.memoizedState!==null?(ma(),s.child=o.child,s.flags|=128,s=null):(ma(),I=p.fallback,b=s.mode,p=Ef({mode:"visible",children:p.children},b),I=eo(I,b,f,null),I.flags|=2,p.return=s,I.return=s,p.sibling=I,s.child=p,so(s,o.child,null,f),p=s.child,p.memoizedState=av(f),p.childLanes=ov(o,x,f),s.memoizedState=iv,s=Yl(null,p));else if(pa(s),$v(I)){if(x=I.nextSibling&&I.nextSibling.dataset,x)var F=x.dgst;x=F,p=Error(r(419)),p.stack="",p.digest=x,Ll({value:p,source:null,stack:null}),s=lv(o,s,f)}else if(At||as(o,s,f,!1),x=(f&o.childLanes)!==0,At||x){if(x=Ze,x!==null&&(p=Ya(x,f),p!==0&&p!==L.retryLane))throw L.retryLane=p,Za(o,p),In(x,o,p),nv;Bv(I)||If(),s=lv(o,s,f)}else Bv(I)?(s.flags|=192,s.child=o.child,s=null):(o=L.treeContext,rt=cr(I.nextSibling),Xt=s,qe=!0,la=null,lr=!1,o!==null&&FT(s,o),s=sv(s,p.children),s.flags|=4096);return s}return b?(ma(),I=p.fallback,b=s.mode,L=o.child,F=L.sibling,p=li(L,{mode:"hidden",children:p.children}),p.subtreeFlags=L.subtreeFlags&65011712,F!==null?I=li(F,I):(I=eo(I,b,f,null),I.flags|=2),I.return=s,p.return=s,p.sibling=I,s.child=p,Yl(null,p),p=s.child,I=o.child.memoizedState,I===null?I=av(f):(b=I.cachePool,b!==null?(L=Et._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=WT(),I={baseLanes:I.baseLanes|f,cachePool:b}),p.memoizedState=I,p.childLanes=ov(o,x,f),s.memoizedState=iv,Yl(o.child,p)):(pa(s),f=o.child,o=f.sibling,f=li(f,{mode:"visible",children:p.children}),f.return=s,f.sibling=null,o!==null&&(x=s.deletions,x===null?(s.deletions=[o],s.flags|=16):x.push(o)),s.child=f,s.memoizedState=null,f)}function sv(o,s){return s=Ef({mode:"visible",children:s},o.mode),s.return=o,o.child=s}function Ef(o,s){return o=Fn(22,o,null,s),o.lanes=0,o}function lv(o,s,f){return so(s,o.child,null,f),o=sv(s,s.pendingProps.children),o.flags|=2,s.memoizedState=null,o}function lw(o,s,f){o.lanes|=s;var p=o.alternate;p!==null&&(p.lanes|=s),Em(o.return,s,f)}function uv(o,s,f,p,b,S){var x=o.memoizedState;x===null?o.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:f,tailMode:b,treeForkCount:S}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=p,x.tail=f,x.tailMode=b,x.treeForkCount=S)}function uw(o,s,f){var p=s.pendingProps,b=p.revealOrder,S=p.tail;p=p.children;var x=yt.current,I=(x&2)!==0;if(I?(x=x&1|2,s.flags|=128):x&=1,$(yt,x),Zt(o,s,p,f),p=qe?kl:0,!I&&o!==null&&(o.flags&128)!==0)e:for(o=s.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&lw(o,f,s);else if(o.tag===19)lw(o,f,s);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(b){case"forwards":for(f=s.child,b=null;f!==null;)o=f.alternate,o!==null&&ff(o)===null&&(b=f),f=f.sibling;f=b,f===null?(b=s.child,s.child=null):(b=f.sibling,f.sibling=null),uv(s,!1,b,f,S,p);break;case"backwards":case"unstable_legacy-backwards":for(f=null,b=s.child,s.child=null;b!==null;){if(o=b.alternate,o!==null&&ff(o)===null){s.child=b;break}o=b.sibling,b.sibling=f,f=b,b=o}uv(s,!0,f,null,S,p);break;case"together":uv(s,!1,null,null,void 0,p);break;default:s.memoizedState=null}return s.child}function pi(o,s,f){if(o!==null&&(s.dependencies=o.dependencies),ya|=s.lanes,(f&s.childLanes)===0)if(o!==null){if(as(o,s,f,!1),(f&s.childLanes)===0)return null}else return null;if(o!==null&&s.child!==o.child)throw Error(r(153));if(s.child!==null){for(o=s.child,f=li(o,o.pendingProps),s.child=f,f.return=s;o.sibling!==null;)o=o.sibling,f=f.sibling=li(o,o.pendingProps),f.return=s;f.sibling=null}return s.child}function cv(o,s){return(o.lanes&s)!==0?!0:(o=o.dependencies,!!(o!==null&&nf(o)))}function Nq(o,s,f){switch(s.tag){case 3:gt(s,s.stateNode.containerInfo),ca(s,Et,o.memoizedState.cache),to();break;case 27:case 5:Ae(s);break;case 4:gt(s,s.stateNode.containerInfo);break;case 10:ca(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,km(s),null;break;case 13:var p=s.memoizedState;if(p!==null)return p.dehydrated!==null?(pa(s),s.flags|=128,null):(f&s.child.childLanes)!==0?sw(o,s,f):(pa(s),o=pi(o,s,f),o!==null?o.sibling:null);pa(s);break;case 19:var b=(o.flags&128)!==0;if(p=(f&s.childLanes)!==0,p||(as(o,s,f,!1),p=(f&s.childLanes)!==0),b){if(p)return uw(o,s,f);s.flags|=128}if(b=s.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),$(yt,yt.current),p)break;return null;case 22:return s.lanes=0,tw(o,s,f,s.pendingProps);case 24:ca(s,Et,o.memoizedState.cache)}return pi(o,s,f)}function cw(o,s,f){if(o!==null)if(o.memoizedProps!==s.pendingProps)At=!0;else{if(!cv(o,f)&&(s.flags&128)===0)return At=!1,Nq(o,s,f);At=(o.flags&131072)!==0}else At=!1,qe&&(s.flags&1048576)!==0&&$T(s,kl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var p=s.pendingProps;if(o=ao(s.elementType),s.type=o,typeof o=="function")mm(o)?(p=uo(o,p),s.tag=1,s=aw(null,s,o,p,f)):(s.tag=0,s=rv(null,s,o,p,f));else{if(o!=null){var b=o.$$typeof;if(b===R){s.tag=11,s=QE(null,s,o,p,f);break e}else if(b===k){s.tag=14,s=ZE(null,s,o,p,f);break e}}throw s=fe(o)||o,Error(r(306,s,""))}}return s;case 0:return rv(o,s,s.type,s.pendingProps,f);case 1:return p=s.type,b=uo(p,s.pendingProps),aw(o,s,p,b,f);case 3:e:{if(gt(s,s.stateNode.containerInfo),o===null)throw Error(r(387));p=s.pendingProps;var S=s.memoizedState;b=S.element,Om(o,s),Fl(s,p,null,f);var x=s.memoizedState;if(p=x.cache,ca(s,Et,p),p!==S.cache&&wm(s,[Et],f,!0),$l(),p=x.element,S.isDehydrated)if(S={element:p,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=S,s.memoizedState=S,s.flags&256){s=ow(o,s,p,f);break e}else if(p!==b){b=ar(Error(r(424)),s),Ll(b),s=ow(o,s,p,f);break e}else{switch(o=s.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(rt=cr(o.firstChild),Xt=s,qe=!0,la=null,lr=!0,f=tE(s,null,p,f),s.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(to(),p===b){s=pi(o,s,f);break e}Zt(o,s,p,f)}s=s.child}return s;case 26:return Tf(o,s),o===null?(f=SA(s.type,null,s.pendingProps,null))?s.memoizedState=f:qe||(f=s.type,o=s.pendingProps,p=zf(Ee.current).createElement(f),p[Jt]=s,p[xn]=o,en(p,f,o),Bt(p),s.stateNode=p):s.memoizedState=SA(s.type,o.memoizedProps,s.pendingProps,o.memoizedState),null;case 27:return Ae(s),o===null&&qe&&(p=s.stateNode=yA(s.type,s.pendingProps,Ee.current),Xt=s,lr=!0,b=rt,Ea(s.type)?(Fv=b,rt=cr(p.firstChild)):rt=b),Zt(o,s,s.pendingProps.children,f),Tf(o,s),o===null&&(s.flags|=4194304),s.child;case 5:return o===null&&qe&&((b=p=rt)&&(p=sz(p,s.type,s.pendingProps,lr),p!==null?(s.stateNode=p,Xt=s,rt=cr(p.firstChild),lr=!1,b=!0):b=!1),b||ua(s)),Ae(s),b=s.type,S=s.pendingProps,x=o!==null?o.memoizedProps:null,p=S.children,qv(b,S)?p=null:x!==null&&qv(b,x)&&(s.flags|=32),s.memoizedState!==null&&(b=Um(o,s,Tq,null,null,f),uu._currentValue=b),Tf(o,s),Zt(o,s,p,f),s.child;case 6:return o===null&&qe&&((o=f=rt)&&(f=lz(f,s.pendingProps,lr),f!==null?(s.stateNode=f,Xt=s,rt=null,o=!0):o=!1),o||ua(s)),null;case 13:return sw(o,s,f);case 4:return gt(s,s.stateNode.containerInfo),p=s.pendingProps,o===null?s.child=so(s,null,p,f):Zt(o,s,p,f),s.child;case 11:return QE(o,s,s.type,s.pendingProps,f);case 7:return Zt(o,s,s.pendingProps,f),s.child;case 8:return Zt(o,s,s.pendingProps.children,f),s.child;case 12:return Zt(o,s,s.pendingProps.children,f),s.child;case 10:return p=s.pendingProps,ca(s,s.type,p.value),Zt(o,s,p.children,f),s.child;case 9:return b=s.type._context,p=s.pendingProps.children,ro(s),b=Qt(b),p=p(b),s.flags|=1,Zt(o,s,p,f),s.child;case 14:return ZE(o,s,s.type,s.pendingProps,f);case 15:return ew(o,s,s.type,s.pendingProps,f);case 19:return uw(o,s,f);case 31:return Oq(o,s,f);case 22:return tw(o,s,f,s.pendingProps);case 24:return ro(s),p=Qt(Et),o===null?(b=Cm(),b===null&&(b=Ze,S=Am(),b.pooledCache=S,S.refCount++,S!==null&&(b.pooledCacheLanes|=f),b=S),s.memoizedState={parent:p,cache:b},Pm(s),ca(s,Et,b)):((o.lanes&f)!==0&&(Om(o,s),Fl(s,null,null,f),$l()),b=o.memoizedState,S=s.memoizedState,b.parent!==p?(b={parent:p,cache:p},s.memoizedState=b,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=b),ca(s,Et,p)):(p=S.cache,ca(s,Et,p),p!==b.cache&&wm(s,[Et],f,!0))),Zt(o,s,s.pendingProps.children,f),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function mi(o){o.flags|=4}function fv(o,s,f,p,b){if((s=(o.mode&32)!==0)&&(s=!1),s){if(o.flags|=16777216,(b&335544128)===b)if(o.stateNode.complete)o.flags|=8192;else if(Uw())o.flags|=8192;else throw oo=sf,Mm}else o.flags&=-16777217}function fw(o,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!xA(s))if(Uw())o.flags|=8192;else throw oo=sf,Mm}function wf(o,s){s!==null&&(o.flags|=4),o.flags&16384&&(s=o.tag!==22?jt():536870912,o.lanes|=s,gs|=s)}function Wl(o,s){if(!qe)switch(o.tailMode){case"hidden":s=o.tail;for(var f=null;s!==null;)s.alternate!==null&&(f=s),s=s.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?s||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function it(o){var s=o.alternate!==null&&o.alternate.child===o.child,f=0,p=0;if(s)for(var b=o.child;b!==null;)f|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=o,b=b.sibling;else for(b=o.child;b!==null;)f|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=o,b=b.sibling;return o.subtreeFlags|=p,o.childLanes=f,s}function Iq(o,s,f){var p=s.pendingProps;switch(bm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(s),null;case 1:return it(s),null;case 3:return f=s.stateNode,p=null,o!==null&&(p=o.memoizedState.cache),s.memoizedState.cache!==p&&(s.flags|=2048),fi(Et),te(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(is(s)?mi(s):o===null||o.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Sm())),it(s),null;case 26:var b=s.type,S=s.memoizedState;return o===null?(mi(s),S!==null?(it(s),fw(s,S)):(it(s),fv(s,b,null,p,f))):S?S!==o.memoizedState?(mi(s),it(s),fw(s,S)):(it(s),s.flags&=-16777217):(o=o.memoizedProps,o!==p&&mi(s),it(s),fv(s,b,o,p,f)),null;case 27:if(Pe(s),f=Ee.current,b=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==p&&mi(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return it(s),null}o=se.current,is(s)?HT(s):(o=yA(b,p,f),s.stateNode=o,mi(s))}return it(s),null;case 5:if(Pe(s),b=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==p&&mi(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return it(s),null}if(S=se.current,is(s))HT(s);else{var x=zf(Ee.current);switch(S){case 1:S=x.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:S=x.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":S=x.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":S=x.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":S=x.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof p.is=="string"?x.createElement("select",{is:p.is}):x.createElement("select"),p.multiple?S.multiple=!0:p.size&&(S.size=p.size);break;default:S=typeof p.is=="string"?x.createElement(b,{is:p.is}):x.createElement(b)}}S[Jt]=s,S[xn]=p;e:for(x=s.child;x!==null;){if(x.tag===5||x.tag===6)S.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===s)break e;for(;x.sibling===null;){if(x.return===null||x.return===s)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}s.stateNode=S;e:switch(en(S,b,p),b){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&mi(s)}}return it(s),fv(s,s.type,o===null?null:o.memoizedProps,s.pendingProps,f),null;case 6:if(o&&s.stateNode!=null)o.memoizedProps!==p&&mi(s);else{if(typeof p!="string"&&s.stateNode===null)throw Error(r(166));if(o=Ee.current,is(s)){if(o=s.stateNode,f=s.memoizedProps,p=null,b=Xt,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}o[Jt]=s,o=!!(o.nodeValue===f||p!==null&&p.suppressHydrationWarning===!0||sA(o.nodeValue,f)),o||ua(s,!0)}else o=zf(o).createTextNode(p),o[Jt]=s,s.stateNode=o}return it(s),null;case 31:if(f=s.memoizedState,o===null||o.memoizedState!==null){if(p=is(s),f!==null){if(o===null){if(!p)throw Error(r(318));if(o=s.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[Jt]=s}else to(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;it(s),o=!1}else f=Sm(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=f),o=!0;if(!o)return s.flags&256?(Gn(s),s):(Gn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return it(s),null;case 13:if(p=s.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(b=is(s),p!==null&&p.dehydrated!==null){if(o===null){if(!b)throw Error(r(318));if(b=s.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[Jt]=s}else to(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;it(s),b=!1}else b=Sm(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=b),b=!0;if(!b)return s.flags&256?(Gn(s),s):(Gn(s),null)}return Gn(s),(s.flags&128)!==0?(s.lanes=f,s):(f=p!==null,o=o!==null&&o.memoizedState!==null,f&&(p=s.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool),S=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),S!==b&&(p.flags|=2048)),f!==o&&f&&(s.child.flags|=8192),wf(s,s.updateQueue),it(s),null);case 4:return te(),o===null&&Dv(s.stateNode.containerInfo),it(s),null;case 10:return fi(s.type),it(s),null;case 19:if(X(yt),p=s.memoizedState,p===null)return it(s),null;if(b=(s.flags&128)!==0,S=p.rendering,S===null)if(b)Wl(p,!1);else{if(mt!==0||o!==null&&(o.flags&128)!==0)for(o=s.child;o!==null;){if(S=ff(o),S!==null){for(s.flags|=128,Wl(p,!1),o=S.updateQueue,s.updateQueue=o,wf(s,o),s.subtreeFlags=0,o=f,f=s.child;f!==null;)zT(f,o),f=f.sibling;return $(yt,yt.current&1|2),qe&&ui(s,p.treeForkCount),s.child}o=o.sibling}p.tail!==null&&gn()>Pf&&(s.flags|=128,b=!0,Wl(p,!1),s.lanes=4194304)}else{if(!b)if(o=ff(S),o!==null){if(s.flags|=128,b=!0,o=o.updateQueue,s.updateQueue=o,wf(s,o),Wl(p,!0),p.tail===null&&p.tailMode==="hidden"&&!S.alternate&&!qe)return it(s),null}else 2*gn()-p.renderingStartTime>Pf&&f!==536870912&&(s.flags|=128,b=!0,Wl(p,!1),s.lanes=4194304);p.isBackwards?(S.sibling=s.child,s.child=S):(o=p.last,o!==null?o.sibling=S:s.child=S,p.last=S)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=gn(),o.sibling=null,f=yt.current,$(yt,b?f&1|2:f&1),qe&&ui(s,p.treeForkCount),o):(it(s),null);case 22:case 23:return Gn(s),Rm(),p=s.memoizedState!==null,o!==null?o.memoizedState!==null!==p&&(s.flags|=8192):p&&(s.flags|=8192),p?(f&536870912)!==0&&(s.flags&128)===0&&(it(s),s.subtreeFlags&6&&(s.flags|=8192)):it(s),f=s.updateQueue,f!==null&&wf(s,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==f&&(s.flags|=2048),o!==null&&X(io),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),fi(Et),it(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Dq(o,s){switch(bm(s),s.tag){case 1:return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 3:return fi(Et),te(),o=s.flags,(o&65536)!==0&&(o&128)===0?(s.flags=o&-65537|128,s):null;case 26:case 27:case 5:return Pe(s),null;case 31:if(s.memoizedState!==null){if(Gn(s),s.alternate===null)throw Error(r(340));to()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 13:if(Gn(s),o=s.memoizedState,o!==null&&o.dehydrated!==null){if(s.alternate===null)throw Error(r(340));to()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 19:return X(yt),null;case 4:return te(),null;case 10:return fi(s.type),null;case 22:case 23:return Gn(s),Rm(),o!==null&&X(io),o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 24:return fi(Et),null;case 25:return null;default:return null}}function dw(o,s){switch(bm(s),s.tag){case 3:fi(Et),te();break;case 26:case 27:case 5:Pe(s);break;case 4:te();break;case 31:s.memoizedState!==null&&Gn(s);break;case 13:Gn(s);break;case 19:X(yt);break;case 10:fi(s.type);break;case 22:case 23:Gn(s),Rm(),o!==null&&X(io);break;case 24:fi(Et)}}function Jl(o,s){try{var f=s.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var b=p.next;f=b;do{if((f.tag&o)===o){p=void 0;var S=f.create,x=f.inst;p=S(),x.destroy=p}f=f.next}while(f!==b)}}catch(I){Ve(s,s.return,I)}}function va(o,s,f){try{var p=s.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var S=b.next;p=S;do{if((p.tag&o)===o){var x=p.inst,I=x.destroy;if(I!==void 0){x.destroy=void 0,b=s;var L=f,F=I;try{F()}catch(Z){Ve(b,L,Z)}}}p=p.next}while(p!==S)}}catch(Z){Ve(s,s.return,Z)}}function hw(o){var s=o.updateQueue;if(s!==null){var f=o.stateNode;try{rE(s,f)}catch(p){Ve(o,o.return,p)}}}function pw(o,s,f){f.props=uo(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(p){Ve(o,s,p)}}function Xl(o,s){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var p=o.stateNode;break;case 30:p=o.stateNode;break;default:p=o.stateNode}typeof f=="function"?o.refCleanup=f(p):f.current=p}}catch(b){Ve(o,s,b)}}function Fr(o,s){var f=o.ref,p=o.refCleanup;if(f!==null)if(typeof p=="function")try{p()}catch(b){Ve(o,s,b)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(b){Ve(o,s,b)}else f.current=null}function mw(o){var s=o.type,f=o.memoizedProps,p=o.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":f.autoFocus&&p.focus();break e;case"img":f.src?p.src=f.src:f.srcSet&&(p.srcset=f.srcSet)}}catch(b){Ve(o,o.return,b)}}function dv(o,s,f){try{var p=o.stateNode;tz(p,o.type,f,s),p[xn]=s}catch(b){Ve(o,o.return,b)}}function vw(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Ea(o.type)||o.tag===4}function hv(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||vw(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Ea(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function pv(o,s,f){var p=o.tag;if(p===5||p===6)o=o.stateNode,s?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,s):(s=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,s.appendChild(o),f=f._reactRootContainer,f!=null||s.onclick!==null||(s.onclick=oi));else if(p!==4&&(p===27&&Ea(o.type)&&(f=o.stateNode,s=null),o=o.child,o!==null))for(pv(o,s,f),o=o.sibling;o!==null;)pv(o,s,f),o=o.sibling}function Af(o,s,f){var p=o.tag;if(p===5||p===6)o=o.stateNode,s?f.insertBefore(o,s):f.appendChild(o);else if(p!==4&&(p===27&&Ea(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(Af(o,s,f),o=o.sibling;o!==null;)Af(o,s,f),o=o.sibling}function gw(o){var s=o.stateNode,f=o.memoizedProps;try{for(var p=o.type,b=s.attributes;b.length;)s.removeAttributeNode(b[0]);en(s,p,f),s[Jt]=o,s[xn]=f}catch(S){Ve(o,o.return,S)}}var vi=!1,xt=!1,mv=!1,yw=typeof WeakSet=="function"?WeakSet:Set,$t=null;function Rq(o,s){if(o=o.containerInfo,Lv=Vf,o=OT(o),lm(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var p=f.getSelection&&f.getSelection();if(p&&p.rangeCount!==0){f=p.anchorNode;var b=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var x=0,I=-1,L=-1,F=0,Z=0,re=o,G=null;t:for(;;){for(var J;re!==f||b!==0&&re.nodeType!==3||(I=x+b),re!==S||p!==0&&re.nodeType!==3||(L=x+p),re.nodeType===3&&(x+=re.nodeValue.length),(J=re.firstChild)!==null;)G=re,re=J;for(;;){if(re===o)break t;if(G===f&&++F===b&&(I=x),G===S&&++Z===p&&(L=x),(J=re.nextSibling)!==null)break;re=G,G=re.parentNode}re=J}f=I===-1||L===-1?null:{start:I,end:L}}else f=null}f=f||{start:0,end:0}}else f=null;for(Uv={focusedElem:o,selectionRange:f},Vf=!1,$t=s;$t!==null;)if(s=$t,o=s.child,(s.subtreeFlags&1028)!==0&&o!==null)o.return=s,$t=o;else for(;$t!==null;){switch(s=$t,S=s.alternate,o=s.flags,s.tag){case 0:if((o&4)!==0&&(o=s.updateQueue,o=o!==null?o.events:null,o!==null))for(f=0;f<o.length;f++)b=o[f],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&S!==null){o=void 0,f=s,b=S.memoizedProps,S=S.memoizedState,p=f.stateNode;try{var he=uo(f.type,b);o=p.getSnapshotBeforeUpdate(he,S),p.__reactInternalSnapshotBeforeUpdate=o}catch(Se){Ve(f,f.return,Se)}}break;case 3:if((o&1024)!==0){if(o=s.stateNode.containerInfo,f=o.nodeType,f===9)jv(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":jv(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=s.sibling,o!==null){o.return=s.return,$t=o;break}$t=s.return}}function bw(o,s,f){var p=f.flags;switch(f.tag){case 0:case 11:case 15:yi(o,f),p&4&&Jl(5,f);break;case 1:if(yi(o,f),p&4)if(o=f.stateNode,s===null)try{o.componentDidMount()}catch(x){Ve(f,f.return,x)}else{var b=uo(f.type,s.memoizedProps);s=s.memoizedState;try{o.componentDidUpdate(b,s,o.__reactInternalSnapshotBeforeUpdate)}catch(x){Ve(f,f.return,x)}}p&64&&hw(f),p&512&&Xl(f,f.return);break;case 3:if(yi(o,f),p&64&&(o=f.updateQueue,o!==null)){if(s=null,f.child!==null)switch(f.child.tag){case 27:case 5:s=f.child.stateNode;break;case 1:s=f.child.stateNode}try{rE(o,s)}catch(x){Ve(f,f.return,x)}}break;case 27:s===null&&p&4&&gw(f);case 26:case 5:yi(o,f),s===null&&p&4&&mw(f),p&512&&Xl(f,f.return);break;case 12:yi(o,f);break;case 31:yi(o,f),p&4&&Tw(o,f);break;case 13:yi(o,f),p&4&&Ew(o,f),p&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=Fq.bind(null,f),uz(o,f))));break;case 22:if(p=f.memoizedState!==null||vi,!p){s=s!==null&&s.memoizedState!==null||xt,b=vi;var S=xt;vi=p,(xt=s)&&!S?bi(o,f,(f.subtreeFlags&8772)!==0):yi(o,f),vi=b,xt=S}break;case 30:break;default:yi(o,f)}}function _w(o){var s=o.alternate;s!==null&&(o.alternate=null,_w(s)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(s=o.stateNode,s!==null&&Gp(s)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var ut=null,Mn=!1;function gi(o,s,f){for(f=f.child;f!==null;)Sw(o,s,f),f=f.sibling}function Sw(o,s,f){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(Va,f)}catch{}switch(f.tag){case 26:xt||Fr(f,s),gi(o,s,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:xt||Fr(f,s);var p=ut,b=Mn;Ea(f.type)&&(ut=f.stateNode,Mn=!1),gi(o,s,f),ou(f.stateNode),ut=p,Mn=b;break;case 5:xt||Fr(f,s);case 6:if(p=ut,b=Mn,ut=null,gi(o,s,f),ut=p,Mn=b,ut!==null)if(Mn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(f.stateNode)}catch(S){Ve(f,s,S)}else try{ut.removeChild(f.stateNode)}catch(S){Ve(f,s,S)}break;case 18:ut!==null&&(Mn?(o=ut,hA(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),As(o)):hA(ut,f.stateNode));break;case 4:p=ut,b=Mn,ut=f.stateNode.containerInfo,Mn=!0,gi(o,s,f),ut=p,Mn=b;break;case 0:case 11:case 14:case 15:va(2,f,s),xt||va(4,f,s),gi(o,s,f);break;case 1:xt||(Fr(f,s),p=f.stateNode,typeof p.componentWillUnmount=="function"&&pw(f,s,p)),gi(o,s,f);break;case 21:gi(o,s,f);break;case 22:xt=(p=xt)||f.memoizedState!==null,gi(o,s,f),xt=p;break;default:gi(o,s,f)}}function Tw(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{As(o)}catch(f){Ve(s,s.return,f)}}}function Ew(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{As(o)}catch(f){Ve(s,s.return,f)}}function kq(o){switch(o.tag){case 31:case 13:case 19:var s=o.stateNode;return s===null&&(s=o.stateNode=new yw),s;case 22:return o=o.stateNode,s=o._retryCache,s===null&&(s=o._retryCache=new yw),s;default:throw Error(r(435,o.tag))}}function xf(o,s){var f=kq(o);s.forEach(function(p){if(!f.has(p)){f.add(p);var b=Hq.bind(null,o,p);p.then(b,b)}})}function Pn(o,s){var f=s.deletions;if(f!==null)for(var p=0;p<f.length;p++){var b=f[p],S=o,x=s,I=x;e:for(;I!==null;){switch(I.tag){case 27:if(Ea(I.type)){ut=I.stateNode,Mn=!1;break e}break;case 5:ut=I.stateNode,Mn=!1;break e;case 3:case 4:ut=I.stateNode.containerInfo,Mn=!0;break e}I=I.return}if(ut===null)throw Error(r(160));Sw(S,x,b),ut=null,Mn=!1,S=b.alternate,S!==null&&(S.return=null),b.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)ww(s,o),s=s.sibling}var Cr=null;function ww(o,s){var f=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Pn(s,o),On(o),p&4&&(va(3,o,o.return),Jl(3,o),va(5,o,o.return));break;case 1:Pn(s,o),On(o),p&512&&(xt||f===null||Fr(f,f.return)),p&64&&vi&&(o=o.updateQueue,o!==null&&(p=o.callbacks,p!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?p:f.concat(p))));break;case 26:var b=Cr;if(Pn(s,o),On(o),p&512&&(xt||f===null||Fr(f,f.return)),p&4){var S=f!==null?f.memoizedState:null;if(p=o.memoizedState,f===null)if(p===null)if(o.stateNode===null){e:{p=o.type,f=o.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":S=b.getElementsByTagName("title")[0],(!S||S[wl]||S[Jt]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=b.createElement(p),b.head.insertBefore(S,b.querySelector("head > title"))),en(S,p,f),S[Jt]=o,Bt(S),p=S;break e;case"link":var x=wA("link","href",b).get(p+(f.href||""));if(x){for(var I=0;I<x.length;I++)if(S=x[I],S.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&S.getAttribute("rel")===(f.rel==null?null:f.rel)&&S.getAttribute("title")===(f.title==null?null:f.title)&&S.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){x.splice(I,1);break t}}S=b.createElement(p),en(S,p,f),b.head.appendChild(S);break;case"meta":if(x=wA("meta","content",b).get(p+(f.content||""))){for(I=0;I<x.length;I++)if(S=x[I],S.getAttribute("content")===(f.content==null?null:""+f.content)&&S.getAttribute("name")===(f.name==null?null:f.name)&&S.getAttribute("property")===(f.property==null?null:f.property)&&S.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&S.getAttribute("charset")===(f.charSet==null?null:f.charSet)){x.splice(I,1);break t}}S=b.createElement(p),en(S,p,f),b.head.appendChild(S);break;default:throw Error(r(468,p))}S[Jt]=o,Bt(S),p=S}o.stateNode=p}else AA(b,o.type,o.stateNode);else o.stateNode=EA(b,p,o.memoizedProps);else S!==p?(S===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):S.count--,p===null?AA(b,o.type,o.stateNode):EA(b,p,o.memoizedProps)):p===null&&o.stateNode!==null&&dv(o,o.memoizedProps,f.memoizedProps)}break;case 27:Pn(s,o),On(o),p&512&&(xt||f===null||Fr(f,f.return)),f!==null&&p&4&&dv(o,o.memoizedProps,f.memoizedProps);break;case 5:if(Pn(s,o),On(o),p&512&&(xt||f===null||Fr(f,f.return)),o.flags&32){b=o.stateNode;try{Yo(b,"")}catch(he){Ve(o,o.return,he)}}p&4&&o.stateNode!=null&&(b=o.memoizedProps,dv(o,b,f!==null?f.memoizedProps:b)),p&1024&&(mv=!0);break;case 6:if(Pn(s,o),On(o),p&4){if(o.stateNode===null)throw Error(r(162));p=o.memoizedProps,f=o.stateNode;try{f.nodeValue=p}catch(he){Ve(o,o.return,he)}}break;case 3:if($f=null,b=Cr,Cr=jf(s.containerInfo),Pn(s,o),Cr=b,On(o),p&4&&f!==null&&f.memoizedState.isDehydrated)try{As(s.containerInfo)}catch(he){Ve(o,o.return,he)}mv&&(mv=!1,Aw(o));break;case 4:p=Cr,Cr=jf(o.stateNode.containerInfo),Pn(s,o),On(o),Cr=p;break;case 12:Pn(s,o),On(o);break;case 31:Pn(s,o),On(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,xf(o,p)));break;case 13:Pn(s,o),On(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Mf=gn()),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,xf(o,p)));break;case 22:b=o.memoizedState!==null;var L=f!==null&&f.memoizedState!==null,F=vi,Z=xt;if(vi=F||b,xt=Z||L,Pn(s,o),xt=Z,vi=F,On(o),p&8192)e:for(s=o.stateNode,s._visibility=b?s._visibility&-2:s._visibility|1,b&&(f===null||L||vi||xt||co(o)),f=null,s=o;;){if(s.tag===5||s.tag===26){if(f===null){L=f=s;try{if(S=L.stateNode,b)x=S.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{I=L.stateNode;var re=L.memoizedProps.style,G=re!=null&&re.hasOwnProperty("display")?re.display:null;I.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(he){Ve(L,L.return,he)}}}else if(s.tag===6){if(f===null){L=s;try{L.stateNode.nodeValue=b?"":L.memoizedProps}catch(he){Ve(L,L.return,he)}}}else if(s.tag===18){if(f===null){L=s;try{var J=L.stateNode;b?pA(J,!0):pA(L.stateNode,!1)}catch(he){Ve(L,L.return,he)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===o)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;f===s&&(f=null),s=s.return}f===s&&(f=null),s.sibling.return=s.return,s=s.sibling}p&4&&(p=o.updateQueue,p!==null&&(f=p.retryQueue,f!==null&&(p.retryQueue=null,xf(o,f))));break;case 19:Pn(s,o),On(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,xf(o,p)));break;case 30:break;case 21:break;default:Pn(s,o),On(o)}}function On(o){var s=o.flags;if(s&2){try{for(var f,p=o.return;p!==null;){if(vw(p)){f=p;break}p=p.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var b=f.stateNode,S=hv(o);Af(o,S,b);break;case 5:var x=f.stateNode;f.flags&32&&(Yo(x,""),f.flags&=-33);var I=hv(o);Af(o,I,x);break;case 3:case 4:var L=f.stateNode.containerInfo,F=hv(o);pv(o,F,L);break;default:throw Error(r(161))}}catch(Z){Ve(o,o.return,Z)}o.flags&=-3}s&4096&&(o.flags&=-4097)}function Aw(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var s=o;Aw(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),o=o.sibling}}function yi(o,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)bw(o,s.alternate,s),s=s.sibling}function co(o){for(o=o.child;o!==null;){var s=o;switch(s.tag){case 0:case 11:case 14:case 15:va(4,s,s.return),co(s);break;case 1:Fr(s,s.return);var f=s.stateNode;typeof f.componentWillUnmount=="function"&&pw(s,s.return,f),co(s);break;case 27:ou(s.stateNode);case 26:case 5:Fr(s,s.return),co(s);break;case 22:s.memoizedState===null&&co(s);break;case 30:co(s);break;default:co(s)}o=o.sibling}}function bi(o,s,f){for(f=f&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var p=s.alternate,b=o,S=s,x=S.flags;switch(S.tag){case 0:case 11:case 15:bi(b,S,f),Jl(4,S);break;case 1:if(bi(b,S,f),p=S,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(F){Ve(p,p.return,F)}if(p=S,b=p.updateQueue,b!==null){var I=p.stateNode;try{var L=b.shared.hiddenCallbacks;if(L!==null)for(b.shared.hiddenCallbacks=null,b=0;b<L.length;b++)nE(L[b],I)}catch(F){Ve(p,p.return,F)}}f&&x&64&&hw(S),Xl(S,S.return);break;case 27:gw(S);case 26:case 5:bi(b,S,f),f&&p===null&&x&4&&mw(S),Xl(S,S.return);break;case 12:bi(b,S,f);break;case 31:bi(b,S,f),f&&x&4&&Tw(b,S);break;case 13:bi(b,S,f),f&&x&4&&Ew(b,S);break;case 22:S.memoizedState===null&&bi(b,S,f),Xl(S,S.return);break;case 30:break;default:bi(b,S,f)}s=s.sibling}}function vv(o,s){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&Ul(f))}function gv(o,s){o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&Ul(o))}function Mr(o,s,f,p){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)xw(o,s,f,p),s=s.sibling}function xw(o,s,f,p){var b=s.flags;switch(s.tag){case 0:case 11:case 15:Mr(o,s,f,p),b&2048&&Jl(9,s);break;case 1:Mr(o,s,f,p);break;case 3:Mr(o,s,f,p),b&2048&&(o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&Ul(o)));break;case 12:if(b&2048){Mr(o,s,f,p),o=s.stateNode;try{var S=s.memoizedProps,x=S.id,I=S.onPostCommit;typeof I=="function"&&I(x,s.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(L){Ve(s,s.return,L)}}else Mr(o,s,f,p);break;case 31:Mr(o,s,f,p);break;case 13:Mr(o,s,f,p);break;case 23:break;case 22:S=s.stateNode,x=s.alternate,s.memoizedState!==null?S._visibility&2?Mr(o,s,f,p):Ql(o,s):S._visibility&2?Mr(o,s,f,p):(S._visibility|=2,ps(o,s,f,p,(s.subtreeFlags&10256)!==0||!1)),b&2048&&vv(x,s);break;case 24:Mr(o,s,f,p),b&2048&&gv(s.alternate,s);break;default:Mr(o,s,f,p)}}function ps(o,s,f,p,b){for(b=b&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var S=o,x=s,I=f,L=p,F=x.flags;switch(x.tag){case 0:case 11:case 15:ps(S,x,I,L,b),Jl(8,x);break;case 23:break;case 22:var Z=x.stateNode;x.memoizedState!==null?Z._visibility&2?ps(S,x,I,L,b):Ql(S,x):(Z._visibility|=2,ps(S,x,I,L,b)),b&&F&2048&&vv(x.alternate,x);break;case 24:ps(S,x,I,L,b),b&&F&2048&&gv(x.alternate,x);break;default:ps(S,x,I,L,b)}s=s.sibling}}function Ql(o,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var f=o,p=s,b=p.flags;switch(p.tag){case 22:Ql(f,p),b&2048&&vv(p.alternate,p);break;case 24:Ql(f,p),b&2048&&gv(p.alternate,p);break;default:Ql(f,p)}s=s.sibling}}var Zl=8192;function ms(o,s,f){if(o.subtreeFlags&Zl)for(o=o.child;o!==null;)Cw(o,s,f),o=o.sibling}function Cw(o,s,f){switch(o.tag){case 26:ms(o,s,f),o.flags&Zl&&o.memoizedState!==null&&Sz(f,Cr,o.memoizedState,o.memoizedProps);break;case 5:ms(o,s,f);break;case 3:case 4:var p=Cr;Cr=jf(o.stateNode.containerInfo),ms(o,s,f),Cr=p;break;case 22:o.memoizedState===null&&(p=o.alternate,p!==null&&p.memoizedState!==null?(p=Zl,Zl=16777216,ms(o,s,f),Zl=p):ms(o,s,f));break;default:ms(o,s,f)}}function Mw(o){var s=o.alternate;if(s!==null&&(o=s.child,o!==null)){s.child=null;do s=o.sibling,o.sibling=null,o=s;while(o!==null)}}function eu(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var f=0;f<s.length;f++){var p=s[f];$t=p,Ow(p,o)}Mw(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Pw(o),o=o.sibling}function Pw(o){switch(o.tag){case 0:case 11:case 15:eu(o),o.flags&2048&&va(9,o,o.return);break;case 3:eu(o);break;case 12:eu(o);break;case 22:var s=o.stateNode;o.memoizedState!==null&&s._visibility&2&&(o.return===null||o.return.tag!==13)?(s._visibility&=-3,Cf(o)):eu(o);break;default:eu(o)}}function Cf(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var f=0;f<s.length;f++){var p=s[f];$t=p,Ow(p,o)}Mw(o)}for(o=o.child;o!==null;){switch(s=o,s.tag){case 0:case 11:case 15:va(8,s,s.return),Cf(s);break;case 22:f=s.stateNode,f._visibility&2&&(f._visibility&=-3,Cf(s));break;default:Cf(s)}o=o.sibling}}function Ow(o,s){for(;$t!==null;){var f=$t;switch(f.tag){case 0:case 11:case 15:va(8,f,s);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var p=f.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Ul(f.memoizedState.cache)}if(p=f.child,p!==null)p.return=f,$t=p;else e:for(f=o;$t!==null;){p=$t;var b=p.sibling,S=p.return;if(_w(p),p===f){$t=null;break e}if(b!==null){b.return=S,$t=b;break e}$t=S}}}var Lq={getCacheForType:function(o){var s=Qt(Et),f=s.data.get(o);return f===void 0&&(f=o(),s.data.set(o,f)),f},cacheSignal:function(){return Qt(Et).controller.signal}},Uq=typeof WeakMap=="function"?WeakMap:Map,He=0,Ze=null,Ne=null,Re=0,Ge=0,Vn=null,ga=!1,vs=!1,yv=!1,_i=0,mt=0,ya=0,fo=0,bv=0,Kn=0,gs=0,tu=null,Nn=null,_v=!1,Mf=0,Nw=0,Pf=1/0,Of=null,ba=null,Dt=0,_a=null,ys=null,Si=0,Sv=0,Tv=null,Iw=null,nu=0,Ev=null;function Yn(){return(He&2)!==0&&Re!==0?Re&-Re:j.T!==null?Pv():YS()}function Dw(){if(Kn===0)if((Re&536870912)===0||qe){var o=El;El<<=1,(El&3932160)===0&&(El=262144),Kn=o}else Kn=536870912;return o=Hn.current,o!==null&&(o.flags|=32),Kn}function In(o,s,f){(o===Ze&&(Ge===2||Ge===9)||o.cancelPendingCommit!==null)&&(bs(o,0),Sa(o,Re,Kn,!1)),ii(o,f),((He&2)===0||o!==Ze)&&(o===Ze&&((He&2)===0&&(fo|=f),mt===4&&Sa(o,Re,Kn,!1)),Hr(o))}function Rw(o,s,f){if((He&6)!==0)throw Error(r(327));var p=!f&&(s&127)===0&&(s&o.expiredLanes)===0||Oe(o,s),b=p?jq(o,s):Av(o,s,!0),S=p;do{if(b===0){vs&&!p&&Sa(o,s,0,!1);break}else{if(f=o.current.alternate,S&&!qq(f)){b=Av(o,s,!1),S=!1;continue}if(b===2){if(S=s,o.errorRecoveryDisabledLanes&S)var x=0;else x=o.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;e:{var I=o;b=tu;var L=I.current.memoizedState.isDehydrated;if(L&&(bs(I,x).flags|=256),x=Av(I,x,!1),x!==2){if(yv&&!L){I.errorRecoveryDisabledLanes|=S,fo|=S,b=4;break e}S=Nn,Nn=b,S!==null&&(Nn===null?Nn=S:Nn.push.apply(Nn,S))}b=x}if(S=!1,b!==2)continue}}if(b===1){bs(o,0),Sa(o,s,0,!0);break}e:{switch(p=o,S=b,S){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Sa(p,s,Kn,!ga);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(b=Mf+300-gn(),10<b)){if(Sa(p,s,Kn,!ga),Te(p,0,!0)!==0)break e;Si=s,p.timeoutHandle=fA(kw.bind(null,p,f,Nn,Of,_v,s,Kn,fo,gs,ga,S,"Throttled",-0,0),b);break e}kw(p,f,Nn,Of,_v,s,Kn,fo,gs,ga,S,null,-0,0)}}break}while(!0);Hr(o)}function kw(o,s,f,p,b,S,x,I,L,F,Z,re,G,J){if(o.timeoutHandle=-1,re=s.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},Cw(s,S,re);var he=(S&62914560)===S?Mf-gn():(S&4194048)===S?Nw-gn():0;if(he=Tz(re,he),he!==null){Si=S,o.cancelPendingCommit=he(Fw.bind(null,o,s,S,f,p,b,x,I,L,Z,re,null,G,J)),Sa(o,S,x,!F);return}}Fw(o,s,S,f,p,b,x,I,L)}function qq(o){for(var s=o;;){var f=s.tag;if((f===0||f===11||f===15)&&s.flags&16384&&(f=s.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var p=0;p<f.length;p++){var b=f[p],S=b.getSnapshot;b=b.value;try{if(!$n(S(),b))return!1}catch{return!1}}if(f=s.child,s.subtreeFlags&16384&&f!==null)f.return=s,s=f;else{if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Sa(o,s,f,p){s&=~bv,s&=~fo,o.suspendedLanes|=s,o.pingedLanes&=~s,p&&(o.warmLanes|=s),p=o.expirationTimes;for(var b=s;0<b;){var S=31-bn(b),x=1<<S;p[S]=-1,b&=~x}f!==0&&zc(o,f,s)}function Nf(){return(He&6)===0?(ru(0),!1):!0}function wv(){if(Ne!==null){if(Ge===0)var o=Ne.return;else o=Ne,ci=no=null,jm(o),us=null,zl=0,o=Ne;for(;o!==null;)dw(o.alternate,o),o=o.return;Ne=null}}function bs(o,s){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,iz(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),Si=0,wv(),Ze=o,Ne=f=li(o.current,null),Re=s,Ge=0,Vn=null,ga=!1,vs=Oe(o,s),yv=!1,gs=Kn=bv=fo=ya=mt=0,Nn=tu=null,_v=!1,(s&8)!==0&&(s|=s&32);var p=o.entangledLanes;if(p!==0)for(o=o.entanglements,p&=s;0<p;){var b=31-bn(p),S=1<<b;s|=o[b],p&=~S}return _i=s,Xc(),f}function Lw(o,s){Ce=null,j.H=Kl,s===ls||s===of?(s=QT(),Ge=3):s===Mm?(s=QT(),Ge=4):Ge=s===nv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Vn=s,Ne===null&&(mt=1,_f(o,ar(s,o.current)))}function Uw(){var o=Hn.current;return o===null?!0:(Re&4194048)===Re?ur===null:(Re&62914560)===Re||(Re&536870912)!==0?o===ur:!1}function qw(){var o=j.H;return j.H=Kl,o===null?Kl:o}function zw(){var o=j.A;return j.A=Lq,o}function If(){mt=4,ga||(Re&4194048)!==Re&&Hn.current!==null||(vs=!0),(ya&134217727)===0&&(fo&134217727)===0||Ze===null||Sa(Ze,Re,Kn,!1)}function Av(o,s,f){var p=He;He|=2;var b=qw(),S=zw();(Ze!==o||Re!==s)&&(Of=null,bs(o,s)),s=!1;var x=mt;e:do try{if(Ge!==0&&Ne!==null){var I=Ne,L=Vn;switch(Ge){case 8:wv(),x=6;break e;case 3:case 2:case 9:case 6:Hn.current===null&&(s=!0);var F=Ge;if(Ge=0,Vn=null,_s(o,I,L,F),f&&vs){x=0;break e}break;default:F=Ge,Ge=0,Vn=null,_s(o,I,L,F)}}zq(),x=mt;break}catch(Z){Lw(o,Z)}while(!0);return s&&o.shellSuspendCounter++,ci=no=null,He=p,j.H=b,j.A=S,Ne===null&&(Ze=null,Re=0,Xc()),x}function zq(){for(;Ne!==null;)jw(Ne)}function jq(o,s){var f=He;He|=2;var p=qw(),b=zw();Ze!==o||Re!==s?(Of=null,Pf=gn()+500,bs(o,s)):vs=Oe(o,s);e:do try{if(Ge!==0&&Ne!==null){s=Ne;var S=Vn;t:switch(Ge){case 1:Ge=0,Vn=null,_s(o,s,S,1);break;case 2:case 9:if(JT(S)){Ge=0,Vn=null,Bw(s);break}s=function(){Ge!==2&&Ge!==9||Ze!==o||(Ge=7),Hr(o)},S.then(s,s);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:JT(S)?(Ge=0,Vn=null,Bw(s)):(Ge=0,Vn=null,_s(o,s,S,7));break;case 5:var x=null;switch(Ne.tag){case 26:x=Ne.memoizedState;case 5:case 27:var I=Ne;if(x?xA(x):I.stateNode.complete){Ge=0,Vn=null;var L=I.sibling;if(L!==null)Ne=L;else{var F=I.return;F!==null?(Ne=F,Df(F)):Ne=null}break t}}Ge=0,Vn=null,_s(o,s,S,5);break;case 6:Ge=0,Vn=null,_s(o,s,S,6);break;case 8:wv(),mt=6;break e;default:throw Error(r(462))}}Bq();break}catch(Z){Lw(o,Z)}while(!0);return ci=no=null,j.H=p,j.A=b,He=f,Ne!==null?0:(Ze=null,Re=0,Xc(),mt)}function Bq(){for(;Ne!==null&&!Lp();)jw(Ne)}function jw(o){var s=cw(o.alternate,o,_i);o.memoizedProps=o.pendingProps,s===null?Df(o):Ne=s}function Bw(o){var s=o,f=s.alternate;switch(s.tag){case 15:case 0:s=iw(f,s,s.pendingProps,s.type,void 0,Re);break;case 11:s=iw(f,s,s.pendingProps,s.type.render,s.ref,Re);break;case 5:jm(s);default:dw(f,s),s=Ne=zT(s,_i),s=cw(f,s,_i)}o.memoizedProps=o.pendingProps,s===null?Df(o):Ne=s}function _s(o,s,f,p){ci=no=null,jm(s),us=null,zl=0;var b=s.return;try{if(Pq(o,b,s,f,Re)){mt=1,_f(o,ar(f,o.current)),Ne=null;return}}catch(S){if(b!==null)throw Ne=b,S;mt=1,_f(o,ar(f,o.current)),Ne=null;return}s.flags&32768?(qe||p===1?o=!0:vs||(Re&536870912)!==0?o=!1:(ga=o=!0,(p===2||p===9||p===3||p===6)&&(p=Hn.current,p!==null&&p.tag===13&&(p.flags|=16384))),$w(s,o)):Df(s)}function Df(o){var s=o;do{if((s.flags&32768)!==0){$w(s,ga);return}o=s.return;var f=Iq(s.alternate,s,_i);if(f!==null){Ne=f;return}if(s=s.sibling,s!==null){Ne=s;return}Ne=s=o}while(s!==null);mt===0&&(mt=5)}function $w(o,s){do{var f=Dq(o.alternate,o);if(f!==null){f.flags&=32767,Ne=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!s&&(o=o.sibling,o!==null)){Ne=o;return}Ne=o=f}while(o!==null);mt=6,Ne=null}function Fw(o,s,f,p,b,S,x,I,L){o.cancelPendingCommit=null;do Rf();while(Dt!==0);if((He&6)!==0)throw Error(r(327));if(s!==null){if(s===o.current)throw Error(r(177));if(S=s.lanes|s.childLanes,S|=hm,Ka(o,f,S,x,I,L),o===Ze&&(Ne=Ze=null,Re=0),ys=s,_a=o,Si=f,Sv=S,Tv=b,Iw=p,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,Gq(zo,function(){return Yw(),null})):(o.callbackNode=null,o.callbackPriority=0),p=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||p){p=j.T,j.T=null,b=ee.p,ee.p=2,x=He,He|=4;try{Rq(o,s,f)}finally{He=x,ee.p=b,j.T=p}}Dt=1,Hw(),Gw(),Vw()}}function Hw(){if(Dt===1){Dt=0;var o=_a,s=ys,f=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||f){f=j.T,j.T=null;var p=ee.p;ee.p=2;var b=He;He|=4;try{ww(s,o);var S=Uv,x=OT(o.containerInfo),I=S.focusedElem,L=S.selectionRange;if(x!==I&&I&&I.ownerDocument&&PT(I.ownerDocument.documentElement,I)){if(L!==null&&lm(I)){var F=L.start,Z=L.end;if(Z===void 0&&(Z=F),"selectionStart"in I)I.selectionStart=F,I.selectionEnd=Math.min(Z,I.value.length);else{var re=I.ownerDocument||document,G=re&&re.defaultView||window;if(G.getSelection){var J=G.getSelection(),he=I.textContent.length,Se=Math.min(L.start,he),Qe=L.end===void 0?Se:Math.min(L.end,he);!J.extend&&Se>Qe&&(x=Qe,Qe=Se,Se=x);var z=MT(I,Se),q=MT(I,Qe);if(z&&q&&(J.rangeCount!==1||J.anchorNode!==z.node||J.anchorOffset!==z.offset||J.focusNode!==q.node||J.focusOffset!==q.offset)){var B=re.createRange();B.setStart(z.node,z.offset),J.removeAllRanges(),Se>Qe?(J.addRange(B),J.extend(q.node,q.offset)):(B.setEnd(q.node,q.offset),J.addRange(B))}}}}for(re=[],J=I;J=J.parentNode;)J.nodeType===1&&re.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<re.length;I++){var ne=re[I];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Vf=!!Lv,Uv=Lv=null}finally{He=b,ee.p=p,j.T=f}}o.current=s,Dt=2}}function Gw(){if(Dt===2){Dt=0;var o=_a,s=ys,f=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||f){f=j.T,j.T=null;var p=ee.p;ee.p=2;var b=He;He|=4;try{bw(o,s.alternate,s)}finally{He=b,ee.p=p,j.T=f}}Dt=3}}function Vw(){if(Dt===4||Dt===3){Dt=0,Rc();var o=_a,s=ys,f=Si,p=Iw;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Dt=5:(Dt=0,ys=_a=null,Kw(o,o.pendingLanes));var b=o.pendingLanes;if(b===0&&(ba=null),Fp(f),s=s.stateNode,yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(Va,s,void 0,(s.current.flags&128)===128)}catch{}if(p!==null){s=j.T,b=ee.p,ee.p=2,j.T=null;try{for(var S=o.onRecoverableError,x=0;x<p.length;x++){var I=p[x];S(I.value,{componentStack:I.stack})}}finally{j.T=s,ee.p=b}}(Si&3)!==0&&Rf(),Hr(o),b=o.pendingLanes,(f&261930)!==0&&(b&42)!==0?o===Ev?nu++:(nu=0,Ev=o):nu=0,ru(0)}}function Kw(o,s){(o.pooledCacheLanes&=s)===0&&(s=o.pooledCache,s!=null&&(o.pooledCache=null,Ul(s)))}function Rf(){return Hw(),Gw(),Vw(),Yw()}function Yw(){if(Dt!==5)return!1;var o=_a,s=Sv;Sv=0;var f=Fp(Si),p=j.T,b=ee.p;try{ee.p=32>f?32:f,j.T=null,f=Tv,Tv=null;var S=_a,x=Si;if(Dt=0,ys=_a=null,Si=0,(He&6)!==0)throw Error(r(331));var I=He;if(He|=4,Pw(S.current),xw(S,S.current,x,f),He=I,ru(0,!1),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(Va,S)}catch{}return!0}finally{ee.p=b,j.T=p,Kw(o,s)}}function Ww(o,s,f){s=ar(f,s),s=tv(o.stateNode,s,2),o=ha(o,s,2),o!==null&&(ii(o,2),Hr(o))}function Ve(o,s,f){if(o.tag===3)Ww(o,o,f);else for(;s!==null;){if(s.tag===3){Ww(s,o,f);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ba===null||!ba.has(p))){o=ar(f,o),f=JE(2),p=ha(s,f,2),p!==null&&(XE(f,p,s,o),ii(p,2),Hr(p));break}}s=s.return}}function xv(o,s,f){var p=o.pingCache;if(p===null){p=o.pingCache=new Uq;var b=new Set;p.set(s,b)}else b=p.get(s),b===void 0&&(b=new Set,p.set(s,b));b.has(f)||(yv=!0,b.add(f),o=$q.bind(null,o,s,f),s.then(o,o))}function $q(o,s,f){var p=o.pingCache;p!==null&&p.delete(s),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,Ze===o&&(Re&f)===f&&(mt===4||mt===3&&(Re&62914560)===Re&&300>gn()-Mf?(He&2)===0&&bs(o,0):bv|=f,gs===Re&&(gs=0)),Hr(o)}function Jw(o,s){s===0&&(s=jt()),o=Za(o,s),o!==null&&(ii(o,s),Hr(o))}function Fq(o){var s=o.memoizedState,f=0;s!==null&&(f=s.retryLane),Jw(o,f)}function Hq(o,s){var f=0;switch(o.tag){case 31:case 13:var p=o.stateNode,b=o.memoizedState;b!==null&&(f=b.retryLane);break;case 19:p=o.stateNode;break;case 22:p=o.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(s),Jw(o,f)}function Gq(o,s){return Bn(o,s)}var kf=null,Ss=null,Cv=!1,Lf=!1,Mv=!1,Ta=0;function Hr(o){o!==Ss&&o.next===null&&(Ss===null?kf=Ss=o:Ss=Ss.next=o),Lf=!0,Cv||(Cv=!0,Kq())}function ru(o,s){if(!Mv&&Lf){Mv=!0;do for(var f=!1,p=kf;p!==null;){if(o!==0){var b=p.pendingLanes;if(b===0)var S=0;else{var x=p.suspendedLanes,I=p.pingedLanes;S=(1<<31-bn(42|o)+1)-1,S&=b&~(x&~I),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(f=!0,eA(p,S))}else S=Re,S=Te(p,p===Ze?S:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(S&3)===0||Oe(p,S)||(f=!0,eA(p,S));p=p.next}while(f);Mv=!1}}function Vq(){Xw()}function Xw(){Lf=Cv=!1;var o=0;Ta!==0&&rz()&&(o=Ta);for(var s=gn(),f=null,p=kf;p!==null;){var b=p.next,S=Qw(p,s);S===0?(p.next=null,f===null?kf=b:f.next=b,b===null&&(Ss=f)):(f=p,(o!==0||(S&3)!==0)&&(Lf=!0)),p=b}Dt!==0&&Dt!==5||ru(o),Ta!==0&&(Ta=0)}function Qw(o,s){for(var f=o.suspendedLanes,p=o.pingedLanes,b=o.expirationTimes,S=o.pendingLanes&-62914561;0<S;){var x=31-bn(S),I=1<<x,L=b[x];L===-1?((I&f)===0||(I&p)!==0)&&(b[x]=nt(I,s)):L<=s&&(o.expiredLanes|=I),S&=~I}if(s=Ze,f=Re,f=Te(o,o===s?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p=o.callbackNode,f===0||o===s&&(Ge===2||Ge===9)||o.cancelPendingCommit!==null)return p!==null&&p!==null&&Sl(p),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||Oe(o,f)){if(s=f&-f,s===o.callbackPriority)return s;switch(p!==null&&Sl(p),Fp(f)){case 2:case 8:f=Lc;break;case 32:f=zo;break;case 268435456:f=Uc;break;default:f=zo}return p=Zw.bind(null,o),f=Bn(f,p),o.callbackPriority=s,o.callbackNode=f,s}return p!==null&&p!==null&&Sl(p),o.callbackPriority=2,o.callbackNode=null,2}function Zw(o,s){if(Dt!==0&&Dt!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(Rf()&&o.callbackNode!==f)return null;var p=Re;return p=Te(o,o===Ze?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p===0?null:(Rw(o,p,s),Qw(o,gn()),o.callbackNode!=null&&o.callbackNode===f?Zw.bind(null,o):null)}function eA(o,s){if(Rf())return null;Rw(o,s,!0)}function Kq(){az(function(){(He&6)!==0?Bn(Tl,Vq):Xw()})}function Pv(){if(Ta===0){var o=os;o===0&&(o=jo,jo<<=1,(jo&261888)===0&&(jo=256)),Ta=o}return Ta}function tA(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Fc(""+o)}function nA(o,s){var f=s.ownerDocument.createElement("input");return f.name=s.name,f.value=s.value,o.id&&f.setAttribute("form",o.id),s.parentNode.insertBefore(f,s),o=new FormData(o),f.parentNode.removeChild(f),o}function Yq(o,s,f,p,b){if(s==="submit"&&f&&f.stateNode===b){var S=tA((b[xn]||null).action),x=p.submitter;x&&(s=(s=x[xn]||null)?tA(s.formAction):x.getAttribute("formAction"),s!==null&&(S=s,x=null));var I=new Kc("action","action",null,p,b);o.push({event:I,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Ta!==0){var L=x?nA(b,x):new FormData(b);Wm(f,{pending:!0,data:L,method:b.method,action:S},null,L)}}else typeof S=="function"&&(I.preventDefault(),L=x?nA(b,x):new FormData(b),Wm(f,{pending:!0,data:L,method:b.method,action:S},S,L))},currentTarget:b}]})}}for(var Ov=0;Ov<dm.length;Ov++){var Nv=dm[Ov],Wq=Nv.toLowerCase(),Jq=Nv[0].toUpperCase()+Nv.slice(1);xr(Wq,"on"+Jq)}xr(DT,"onAnimationEnd"),xr(RT,"onAnimationIteration"),xr(kT,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(dq,"onTransitionRun"),xr(hq,"onTransitionStart"),xr(pq,"onTransitionCancel"),xr(LT,"onTransitionEnd"),Vo("onMouseEnter",["mouseout","mouseover"]),Vo("onMouseLeave",["mouseout","mouseover"]),Vo("onPointerEnter",["pointerout","pointerover"]),Vo("onPointerLeave",["pointerout","pointerover"]),Wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xq=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(iu));function rA(o,s){s=(s&4)!==0;for(var f=0;f<o.length;f++){var p=o[f],b=p.event;p=p.listeners;e:{var S=void 0;if(s)for(var x=p.length-1;0<=x;x--){var I=p[x],L=I.instance,F=I.currentTarget;if(I=I.listener,L!==S&&b.isPropagationStopped())break e;S=I,b.currentTarget=F;try{S(b)}catch(Z){Jc(Z)}b.currentTarget=null,S=L}else for(x=0;x<p.length;x++){if(I=p[x],L=I.instance,F=I.currentTarget,I=I.listener,L!==S&&b.isPropagationStopped())break e;S=I,b.currentTarget=F;try{S(b)}catch(Z){Jc(Z)}b.currentTarget=null,S=L}}}}function Ie(o,s){var f=s[Hp];f===void 0&&(f=s[Hp]=new Set);var p=o+"__bubble";f.has(p)||(iA(s,o,2,!1),f.add(p))}function Iv(o,s,f){var p=0;s&&(p|=4),iA(f,o,p,s)}var Uf="_reactListening"+Math.random().toString(36).slice(2);function Dv(o){if(!o[Uf]){o[Uf]=!0,XS.forEach(function(f){f!=="selectionchange"&&(Xq.has(f)||Iv(f,!1,o),Iv(f,!0,o))});var s=o.nodeType===9?o:o.ownerDocument;s===null||s[Uf]||(s[Uf]=!0,Iv("selectionchange",!1,s))}}function iA(o,s,f,p){switch(DA(s)){case 2:var b=Az;break;case 8:b=xz;break;default:b=Yv}f=b.bind(null,s,f,o),b=void 0,!Zp||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(b=!0),p?b!==void 0?o.addEventListener(s,f,{capture:!0,passive:b}):o.addEventListener(s,f,!0):b!==void 0?o.addEventListener(s,f,{passive:b}):o.addEventListener(s,f,!1)}function Rv(o,s,f,p,b){var S=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var x=p.tag;if(x===3||x===4){var I=p.stateNode.containerInfo;if(I===b)break;if(x===4)for(x=p.return;x!==null;){var L=x.tag;if((L===3||L===4)&&x.stateNode.containerInfo===b)return;x=x.return}for(;I!==null;){if(x=Fo(I),x===null)return;if(L=x.tag,L===5||L===6||L===26||L===27){p=S=x;continue e}I=I.parentNode}}p=p.return}uT(function(){var F=S,Z=Xp(f),re=[];e:{var G=UT.get(o);if(G!==void 0){var J=Kc,he=o;switch(o){case"keypress":if(Gc(f)===0)break e;case"keydown":case"keyup":J=HU;break;case"focusin":he="focus",J=rm;break;case"focusout":he="blur",J=rm;break;case"beforeblur":case"afterblur":J=rm;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=dT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=IU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=KU;break;case DT:case RT:case kT:J=kU;break;case LT:J=WU;break;case"scroll":case"scrollend":J=OU;break;case"wheel":J=XU;break;case"copy":case"cut":case"paste":J=UU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=pT;break;case"toggle":case"beforetoggle":J=ZU}var Se=(s&4)!==0,Qe=!Se&&(o==="scroll"||o==="scrollend"),z=Se?G!==null?G+"Capture":null:G;Se=[];for(var q=F,B;q!==null;){var ne=q;if(B=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||B===null||z===null||(ne=xl(q,z),ne!=null&&Se.push(au(q,ne,B))),Qe)break;q=q.return}0<Se.length&&(G=new J(G,he,null,f,Z),re.push({event:G,listeners:Se}))}}if((s&7)===0){e:{if(G=o==="mouseover"||o==="pointerover",J=o==="mouseout"||o==="pointerout",G&&f!==Jp&&(he=f.relatedTarget||f.fromElement)&&(Fo(he)||he[$o]))break e;if((J||G)&&(G=Z.window===Z?Z:(G=Z.ownerDocument)?G.defaultView||G.parentWindow:window,J?(he=f.relatedTarget||f.toElement,J=F,he=he?Fo(he):null,he!==null&&(Qe=a(he),Se=he.tag,he!==Qe||Se!==5&&Se!==27&&Se!==6)&&(he=null)):(J=null,he=F),J!==he)){if(Se=dT,ne="onMouseLeave",z="onMouseEnter",q="mouse",(o==="pointerout"||o==="pointerover")&&(Se=pT,ne="onPointerLeave",z="onPointerEnter",q="pointer"),Qe=J==null?G:Al(J),B=he==null?G:Al(he),G=new Se(ne,q+"leave",J,f,Z),G.target=Qe,G.relatedTarget=B,ne=null,Fo(Z)===F&&(Se=new Se(z,q+"enter",he,f,Z),Se.target=B,Se.relatedTarget=Qe,ne=Se),Qe=ne,J&&he)t:{for(Se=Qq,z=J,q=he,B=0,ne=z;ne;ne=Se(ne))B++;ne=0;for(var ye=q;ye;ye=Se(ye))ne++;for(;0<B-ne;)z=Se(z),B--;for(;0<ne-B;)q=Se(q),ne--;for(;B--;){if(z===q||q!==null&&z===q.alternate){Se=z;break t}z=Se(z),q=Se(q)}Se=null}else Se=null;J!==null&&aA(re,G,J,Se,!1),he!==null&&Qe!==null&&aA(re,Qe,he,Se,!0)}}e:{if(G=F?Al(F):window,J=G.nodeName&&G.nodeName.toLowerCase(),J==="select"||J==="input"&&G.type==="file")var je=TT;else if(_T(G))if(ET)je=uq;else{je=sq;var me=oq}else J=G.nodeName,!J||J.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Wp(F.elementType)&&(je=TT):je=lq;if(je&&(je=je(o,F))){ST(re,je,f,Z);break e}me&&me(o,G,F),o==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&Yp(G,"number",G.value)}switch(me=F?Al(F):window,o){case"focusin":(_T(me)||me.contentEditable==="true")&&(Qo=me,um=F,Rl=null);break;case"focusout":Rl=um=Qo=null;break;case"mousedown":cm=!0;break;case"contextmenu":case"mouseup":case"dragend":cm=!1,NT(re,f,Z);break;case"selectionchange":if(fq)break;case"keydown":case"keyup":NT(re,f,Z)}var Me;if(am)e:{switch(o){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Xo?yT(o,f)&&(ke="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(ke="onCompositionStart");ke&&(mT&&f.locale!=="ko"&&(Xo||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Xo&&(Me=cT()):(oa=Z,em="value"in oa?oa.value:oa.textContent,Xo=!0)),me=qf(F,ke),0<me.length&&(ke=new hT(ke,o,null,f,Z),re.push({event:ke,listeners:me}),Me?ke.data=Me:(Me=bT(f),Me!==null&&(ke.data=Me)))),(Me=tq?nq(o,f):rq(o,f))&&(ke=qf(F,"onBeforeInput"),0<ke.length&&(me=new hT("onBeforeInput","beforeinput",null,f,Z),re.push({event:me,listeners:ke}),me.data=Me)),Yq(re,o,F,f,Z)}rA(re,s)})}function au(o,s,f){return{instance:o,listener:s,currentTarget:f}}function qf(o,s){for(var f=s+"Capture",p=[];o!==null;){var b=o,S=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||S===null||(b=xl(o,f),b!=null&&p.unshift(au(o,b,S)),b=xl(o,s),b!=null&&p.push(au(o,b,S))),o.tag===3)return p;o=o.return}return[]}function Qq(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function aA(o,s,f,p,b){for(var S=s._reactName,x=[];f!==null&&f!==p;){var I=f,L=I.alternate,F=I.stateNode;if(I=I.tag,L!==null&&L===p)break;I!==5&&I!==26&&I!==27||F===null||(L=F,b?(F=xl(f,S),F!=null&&x.unshift(au(f,F,L))):b||(F=xl(f,S),F!=null&&x.push(au(f,F,L)))),f=f.return}x.length!==0&&o.push({event:s,listeners:x})}var Zq=/\r\n?/g,ez=/\u0000|\uFFFD/g;function oA(o){return(typeof o=="string"?o:""+o).replace(Zq,`
`).replace(ez,"")}function sA(o,s){return s=oA(s),oA(o)===s}function Xe(o,s,f,p,b,S){switch(f){case"children":typeof p=="string"?s==="body"||s==="textarea"&&p===""||Yo(o,p):(typeof p=="number"||typeof p=="bigint")&&s!=="body"&&Yo(o,""+p);break;case"className":Bc(o,"class",p);break;case"tabIndex":Bc(o,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Bc(o,f,p);break;case"style":sT(o,p,S);break;case"data":if(s!=="object"){Bc(o,"data",p);break}case"src":case"href":if(p===""&&(s!=="a"||f!=="href")){o.removeAttribute(f);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(f);break}p=Fc(""+p),o.setAttribute(f,p);break;case"action":case"formAction":if(typeof p=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(f==="formAction"?(s!=="input"&&Xe(o,s,"name",b.name,b,null),Xe(o,s,"formEncType",b.formEncType,b,null),Xe(o,s,"formMethod",b.formMethod,b,null),Xe(o,s,"formTarget",b.formTarget,b,null)):(Xe(o,s,"encType",b.encType,b,null),Xe(o,s,"method",b.method,b,null),Xe(o,s,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(f);break}p=Fc(""+p),o.setAttribute(f,p);break;case"onClick":p!=null&&(o.onclick=oi);break;case"onScroll":p!=null&&Ie("scroll",o);break;case"onScrollEnd":p!=null&&Ie("scrollend",o);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(f=p.__html,f!=null){if(b.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"multiple":o.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":o.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){o.removeAttribute("xlink:href");break}f=Fc(""+p),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,""+p):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":p===!0?o.setAttribute(f,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,p):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?o.setAttribute(f,p):o.removeAttribute(f);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?o.removeAttribute(f):o.setAttribute(f,p);break;case"popover":Ie("beforetoggle",o),Ie("toggle",o),jc(o,"popover",p);break;case"xlinkActuate":ai(o,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":ai(o,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":ai(o,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":ai(o,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":ai(o,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":ai(o,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":ai(o,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":ai(o,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":ai(o,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":jc(o,"is",p);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=MU.get(f)||f,jc(o,f,p))}}function kv(o,s,f,p,b,S){switch(f){case"style":sT(o,p,S);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(f=p.__html,f!=null){if(b.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"children":typeof p=="string"?Yo(o,p):(typeof p=="number"||typeof p=="bigint")&&Yo(o,""+p);break;case"onScroll":p!=null&&Ie("scroll",o);break;case"onScrollEnd":p!=null&&Ie("scrollend",o);break;case"onClick":p!=null&&(o.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!QS.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(b=f.endsWith("Capture"),s=f.slice(2,b?f.length-7:void 0),S=o[xn]||null,S=S!=null?S[f]:null,typeof S=="function"&&o.removeEventListener(s,S,b),typeof p=="function")){typeof S!="function"&&S!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(s,p,b);break e}f in o?o[f]=p:p===!0?o.setAttribute(f,""):jc(o,f,p)}}}function en(o,s,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",o),Ie("load",o);var p=!1,b=!1,S;for(S in f)if(f.hasOwnProperty(S)){var x=f[S];if(x!=null)switch(S){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Xe(o,s,S,x,f,null)}}b&&Xe(o,s,"srcSet",f.srcSet,f,null),p&&Xe(o,s,"src",f.src,f,null);return;case"input":Ie("invalid",o);var I=S=x=b=null,L=null,F=null;for(p in f)if(f.hasOwnProperty(p)){var Z=f[p];if(Z!=null)switch(p){case"name":b=Z;break;case"type":x=Z;break;case"checked":L=Z;break;case"defaultChecked":F=Z;break;case"value":S=Z;break;case"defaultValue":I=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:Xe(o,s,p,Z,f,null)}}rT(o,S,I,L,F,x,b,!1);return;case"select":Ie("invalid",o),p=x=S=null;for(b in f)if(f.hasOwnProperty(b)&&(I=f[b],I!=null))switch(b){case"value":S=I;break;case"defaultValue":x=I;break;case"multiple":p=I;default:Xe(o,s,b,I,f,null)}s=S,f=x,o.multiple=!!p,s!=null?Ko(o,!!p,s,!1):f!=null&&Ko(o,!!p,f,!0);return;case"textarea":Ie("invalid",o),S=b=p=null;for(x in f)if(f.hasOwnProperty(x)&&(I=f[x],I!=null))switch(x){case"value":p=I;break;case"defaultValue":b=I;break;case"children":S=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:Xe(o,s,x,I,f,null)}aT(o,p,b,S);return;case"option":for(L in f)if(f.hasOwnProperty(L)&&(p=f[L],p!=null))switch(L){case"selected":o.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Xe(o,s,L,p,f,null)}return;case"dialog":Ie("beforetoggle",o),Ie("toggle",o),Ie("cancel",o),Ie("close",o);break;case"iframe":case"object":Ie("load",o);break;case"video":case"audio":for(p=0;p<iu.length;p++)Ie(iu[p],o);break;case"image":Ie("error",o),Ie("load",o);break;case"details":Ie("toggle",o);break;case"embed":case"source":case"link":Ie("error",o),Ie("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in f)if(f.hasOwnProperty(F)&&(p=f[F],p!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Xe(o,s,F,p,f,null)}return;default:if(Wp(s)){for(Z in f)f.hasOwnProperty(Z)&&(p=f[Z],p!==void 0&&kv(o,s,Z,p,f,void 0));return}}for(I in f)f.hasOwnProperty(I)&&(p=f[I],p!=null&&Xe(o,s,I,p,f,null))}function tz(o,s,f,p){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,S=null,x=null,I=null,L=null,F=null,Z=null;for(J in f){var re=f[J];if(f.hasOwnProperty(J)&&re!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":L=re;default:p.hasOwnProperty(J)||Xe(o,s,J,null,p,re)}}for(var G in p){var J=p[G];if(re=f[G],p.hasOwnProperty(G)&&(J!=null||re!=null))switch(G){case"type":S=J;break;case"name":b=J;break;case"checked":F=J;break;case"defaultChecked":Z=J;break;case"value":x=J;break;case"defaultValue":I=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:J!==re&&Xe(o,s,G,J,p,re)}}Kp(o,x,I,L,F,Z,S,b);return;case"select":J=x=I=G=null;for(S in f)if(L=f[S],f.hasOwnProperty(S)&&L!=null)switch(S){case"value":break;case"multiple":J=L;default:p.hasOwnProperty(S)||Xe(o,s,S,null,p,L)}for(b in p)if(S=p[b],L=f[b],p.hasOwnProperty(b)&&(S!=null||L!=null))switch(b){case"value":G=S;break;case"defaultValue":I=S;break;case"multiple":x=S;default:S!==L&&Xe(o,s,b,S,p,L)}s=I,f=x,p=J,G!=null?Ko(o,!!f,G,!1):!!p!=!!f&&(s!=null?Ko(o,!!f,s,!0):Ko(o,!!f,f?[]:"",!1));return;case"textarea":J=G=null;for(I in f)if(b=f[I],f.hasOwnProperty(I)&&b!=null&&!p.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Xe(o,s,I,null,p,b)}for(x in p)if(b=p[x],S=f[x],p.hasOwnProperty(x)&&(b!=null||S!=null))switch(x){case"value":G=b;break;case"defaultValue":J=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==S&&Xe(o,s,x,b,p,S)}iT(o,G,J);return;case"option":for(var he in f)if(G=f[he],f.hasOwnProperty(he)&&G!=null&&!p.hasOwnProperty(he))switch(he){case"selected":o.selected=!1;break;default:Xe(o,s,he,null,p,G)}for(L in p)if(G=p[L],J=f[L],p.hasOwnProperty(L)&&G!==J&&(G!=null||J!=null))switch(L){case"selected":o.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Xe(o,s,L,G,p,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in f)G=f[Se],f.hasOwnProperty(Se)&&G!=null&&!p.hasOwnProperty(Se)&&Xe(o,s,Se,null,p,G);for(F in p)if(G=p[F],J=f[F],p.hasOwnProperty(F)&&G!==J&&(G!=null||J!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:Xe(o,s,F,G,p,J)}return;default:if(Wp(s)){for(var Qe in f)G=f[Qe],f.hasOwnProperty(Qe)&&G!==void 0&&!p.hasOwnProperty(Qe)&&kv(o,s,Qe,void 0,p,G);for(Z in p)G=p[Z],J=f[Z],!p.hasOwnProperty(Z)||G===J||G===void 0&&J===void 0||kv(o,s,Z,G,p,J);return}}for(var z in f)G=f[z],f.hasOwnProperty(z)&&G!=null&&!p.hasOwnProperty(z)&&Xe(o,s,z,null,p,G);for(re in p)G=p[re],J=f[re],!p.hasOwnProperty(re)||G===J||G==null&&J==null||Xe(o,s,re,G,p,J)}function lA(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nz(){if(typeof performance.getEntriesByType=="function"){for(var o=0,s=0,f=performance.getEntriesByType("resource"),p=0;p<f.length;p++){var b=f[p],S=b.transferSize,x=b.initiatorType,I=b.duration;if(S&&I&&lA(x)){for(x=0,I=b.responseEnd,p+=1;p<f.length;p++){var L=f[p],F=L.startTime;if(F>I)break;var Z=L.transferSize,re=L.initiatorType;Z&&lA(re)&&(L=L.responseEnd,x+=Z*(L<I?1:(I-F)/(L-F)))}if(--p,s+=8*(S+x)/(b.duration/1e3),o++,10<o)break}}if(0<o)return s/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Lv=null,Uv=null;function zf(o){return o.nodeType===9?o:o.ownerDocument}function uA(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cA(o,s){if(o===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&s==="foreignObject"?0:o}function qv(o,s){return o==="textarea"||o==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var zv=null;function rz(){var o=window.event;return o&&o.type==="popstate"?o===zv?!1:(zv=o,!0):(zv=null,!1)}var fA=typeof setTimeout=="function"?setTimeout:void 0,iz=typeof clearTimeout=="function"?clearTimeout:void 0,dA=typeof Promise=="function"?Promise:void 0,az=typeof queueMicrotask=="function"?queueMicrotask:typeof dA<"u"?function(o){return dA.resolve(null).then(o).catch(oz)}:fA;function oz(o){setTimeout(function(){throw o})}function Ea(o){return o==="head"}function hA(o,s){var f=s,p=0;do{var b=f.nextSibling;if(o.removeChild(f),b&&b.nodeType===8)if(f=b.data,f==="/$"||f==="/&"){if(p===0){o.removeChild(b),As(s);return}p--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")p++;else if(f==="html")ou(o.ownerDocument.documentElement);else if(f==="head"){f=o.ownerDocument.head,ou(f);for(var S=f.firstChild;S;){var x=S.nextSibling,I=S.nodeName;S[wl]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&S.rel.toLowerCase()==="stylesheet"||f.removeChild(S),S=x}}else f==="body"&&ou(o.ownerDocument.body);f=b}while(f);As(s)}function pA(o,s){var f=o;o=0;do{var p=f.nextSibling;if(f.nodeType===1?s?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(s?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),p&&p.nodeType===8)if(f=p.data,f==="/$"){if(o===0)break;o--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||o++;f=p}while(f)}function jv(o){var s=o.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var f=s;switch(s=s.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":jv(f),Gp(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function sz(o,s,f,p){for(;o.nodeType===1;){var b=f;if(o.nodeName.toLowerCase()!==s.toLowerCase()){if(!p&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(p){if(!o[wl])switch(s){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(S=o.getAttribute("rel"),S==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(S!==b.rel||o.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||o.getAttribute("title")!==(b.title==null?null:b.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(S=o.getAttribute("src"),(S!==(b.src==null?null:b.src)||o.getAttribute("type")!==(b.type==null?null:b.type)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&S&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(s==="input"&&o.type==="hidden"){var S=b.name==null?null:""+b.name;if(b.type==="hidden"&&o.getAttribute("name")===S)return o}else return o;if(o=cr(o.nextSibling),o===null)break}return null}function lz(o,s,f){if(s==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=cr(o.nextSibling),o===null))return null;return o}function mA(o,s){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!s||(o=cr(o.nextSibling),o===null))return null;return o}function Bv(o){return o.data==="$?"||o.data==="$~"}function $v(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function uz(o,s){var f=o.ownerDocument;if(o.data==="$~")o._reactRetry=s;else if(o.data!=="$?"||f.readyState!=="loading")s();else{var p=function(){s(),f.removeEventListener("DOMContentLoaded",p)};f.addEventListener("DOMContentLoaded",p),o._reactRetry=p}}function cr(o){for(;o!=null;o=o.nextSibling){var s=o.nodeType;if(s===1||s===3)break;if(s===8){if(s=o.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return o}var Fv=null;function vA(o){o=o.nextSibling;for(var s=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"||f==="/&"){if(s===0)return cr(o.nextSibling);s--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||s++}o=o.nextSibling}return null}function gA(o){o=o.previousSibling;for(var s=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(s===0)return o;s--}else f!=="/$"&&f!=="/&"||s++}o=o.previousSibling}return null}function yA(o,s,f){switch(s=zf(f),o){case"html":if(o=s.documentElement,!o)throw Error(r(452));return o;case"head":if(o=s.head,!o)throw Error(r(453));return o;case"body":if(o=s.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function ou(o){for(var s=o.attributes;s.length;)o.removeAttributeNode(s[0]);Gp(o)}var fr=new Map,bA=new Set;function jf(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Ti=ee.d;ee.d={f:cz,r:fz,D:dz,C:hz,L:pz,m:mz,X:gz,S:vz,M:yz};function cz(){var o=Ti.f(),s=Nf();return o||s}function fz(o){var s=Ho(o);s!==null&&s.tag===5&&s.type==="form"?LE(s):Ti.r(o)}var Ts=typeof document>"u"?null:document;function _A(o,s,f){var p=Ts;if(p&&typeof s=="string"&&s){var b=rr(s);b='link[rel="'+o+'"][href="'+b+'"]',typeof f=="string"&&(b+='[crossorigin="'+f+'"]'),bA.has(b)||(bA.add(b),o={rel:o,crossOrigin:f,href:s},p.querySelector(b)===null&&(s=p.createElement("link"),en(s,"link",o),Bt(s),p.head.appendChild(s)))}}function dz(o){Ti.D(o),_A("dns-prefetch",o,null)}function hz(o,s){Ti.C(o,s),_A("preconnect",o,s)}function pz(o,s,f){Ti.L(o,s,f);var p=Ts;if(p&&o&&s){var b='link[rel="preload"][as="'+rr(s)+'"]';s==="image"&&f&&f.imageSrcSet?(b+='[imagesrcset="'+rr(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(b+='[imagesizes="'+rr(f.imageSizes)+'"]')):b+='[href="'+rr(o)+'"]';var S=b;switch(s){case"style":S=Es(o);break;case"script":S=ws(o)}fr.has(S)||(o=m({rel:"preload",href:s==="image"&&f&&f.imageSrcSet?void 0:o,as:s},f),fr.set(S,o),p.querySelector(b)!==null||s==="style"&&p.querySelector(su(S))||s==="script"&&p.querySelector(lu(S))||(s=p.createElement("link"),en(s,"link",o),Bt(s),p.head.appendChild(s)))}}function mz(o,s){Ti.m(o,s);var f=Ts;if(f&&o){var p=s&&typeof s.as=="string"?s.as:"script",b='link[rel="modulepreload"][as="'+rr(p)+'"][href="'+rr(o)+'"]',S=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=ws(o)}if(!fr.has(S)&&(o=m({rel:"modulepreload",href:o},s),fr.set(S,o),f.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(lu(S)))return}p=f.createElement("link"),en(p,"link",o),Bt(p),f.head.appendChild(p)}}}function vz(o,s,f){Ti.S(o,s,f);var p=Ts;if(p&&o){var b=Go(p).hoistableStyles,S=Es(o);s=s||"default";var x=b.get(S);if(!x){var I={loading:0,preload:null};if(x=p.querySelector(su(S)))I.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":s},f),(f=fr.get(S))&&Hv(o,f);var L=x=p.createElement("link");Bt(L),en(L,"link",o),L._p=new Promise(function(F,Z){L.onload=F,L.onerror=Z}),L.addEventListener("load",function(){I.loading|=1}),L.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Bf(x,s,p)}x={type:"stylesheet",instance:x,count:1,state:I},b.set(S,x)}}}function gz(o,s){Ti.X(o,s);var f=Ts;if(f&&o){var p=Go(f).hoistableScripts,b=ws(o),S=p.get(b);S||(S=f.querySelector(lu(b)),S||(o=m({src:o,async:!0},s),(s=fr.get(b))&&Gv(o,s),S=f.createElement("script"),Bt(S),en(S,"link",o),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(b,S))}}function yz(o,s){Ti.M(o,s);var f=Ts;if(f&&o){var p=Go(f).hoistableScripts,b=ws(o),S=p.get(b);S||(S=f.querySelector(lu(b)),S||(o=m({src:o,async:!0,type:"module"},s),(s=fr.get(b))&&Gv(o,s),S=f.createElement("script"),Bt(S),en(S,"link",o),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(b,S))}}function SA(o,s,f,p){var b=(b=Ee.current)?jf(b):null;if(!b)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(s=Es(f.href),f=Go(b).hoistableStyles,p=f.get(s),p||(p={type:"style",instance:null,count:0,state:null},f.set(s,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=Es(f.href);var S=Go(b).hoistableStyles,x=S.get(o);if(x||(b=b.ownerDocument||b,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(o,x),(S=b.querySelector(su(o)))&&!S._p&&(x.instance=S,x.state.loading=5),fr.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},fr.set(o,f),S||bz(b,o,f,x.state))),s&&p===null)throw Error(r(528,""));return x}if(s&&p!==null)throw Error(r(529,""));return null;case"script":return s=f.async,f=f.src,typeof f=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ws(f),f=Go(b).hoistableScripts,p=f.get(s),p||(p={type:"script",instance:null,count:0,state:null},f.set(s,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Es(o){return'href="'+rr(o)+'"'}function su(o){return'link[rel="stylesheet"]['+o+"]"}function TA(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function bz(o,s,f,p){o.querySelector('link[rel="preload"][as="style"]['+s+"]")?p.loading=1:(s=o.createElement("link"),p.preload=s,s.addEventListener("load",function(){return p.loading|=1}),s.addEventListener("error",function(){return p.loading|=2}),en(s,"link",f),Bt(s),o.head.appendChild(s))}function ws(o){return'[src="'+rr(o)+'"]'}function lu(o){return"script[async]"+o}function EA(o,s,f){if(s.count++,s.instance===null)switch(s.type){case"style":var p=o.querySelector('style[data-href~="'+rr(f.href)+'"]');if(p)return s.instance=p,Bt(p),p;var b=m({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return p=(o.ownerDocument||o).createElement("style"),Bt(p),en(p,"style",b),Bf(p,f.precedence,o),s.instance=p;case"stylesheet":b=Es(f.href);var S=o.querySelector(su(b));if(S)return s.state.loading|=4,s.instance=S,Bt(S),S;p=TA(f),(b=fr.get(b))&&Hv(p,b),S=(o.ownerDocument||o).createElement("link"),Bt(S);var x=S;return x._p=new Promise(function(I,L){x.onload=I,x.onerror=L}),en(S,"link",p),s.state.loading|=4,Bf(S,f.precedence,o),s.instance=S;case"script":return S=ws(f.src),(b=o.querySelector(lu(S)))?(s.instance=b,Bt(b),b):(p=f,(b=fr.get(S))&&(p=m({},f),Gv(p,b)),o=o.ownerDocument||o,b=o.createElement("script"),Bt(b),en(b,"link",p),o.head.appendChild(b),s.instance=b);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(p=s.instance,s.state.loading|=4,Bf(p,f.precedence,o));return s.instance}function Bf(o,s,f){for(var p=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,S=b,x=0;x<p.length;x++){var I=p[x];if(I.dataset.precedence===s)S=I;else if(S!==b)break}S?S.parentNode.insertBefore(o,S.nextSibling):(s=f.nodeType===9?f.head:f,s.insertBefore(o,s.firstChild))}function Hv(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.title==null&&(o.title=s.title)}function Gv(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.integrity==null&&(o.integrity=s.integrity)}var $f=null;function wA(o,s,f){if($f===null){var p=new Map,b=$f=new Map;b.set(f,p)}else b=$f,p=b.get(f),p||(p=new Map,b.set(f,p));if(p.has(o))return p;for(p.set(o,null),f=f.getElementsByTagName(o),b=0;b<f.length;b++){var S=f[b];if(!(S[wl]||S[Jt]||o==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var x=S.getAttribute(s)||"";x=o+x;var I=p.get(x);I?I.push(S):p.set(x,[S])}}return p}function AA(o,s,f){o=o.ownerDocument||o,o.head.insertBefore(f,s==="title"?o.querySelector("head > title"):null)}function _z(o,s,f){if(f===1||s.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return o=s.disabled,typeof s.precedence=="string"&&o==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function xA(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function Sz(o,s,f,p){if(f.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var b=Es(p.href),S=s.querySelector(su(b));if(S){s=S._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(o.count++,o=Ff.bind(o),s.then(o,o)),f.state.loading|=4,f.instance=S,Bt(S);return}S=s.ownerDocument||s,p=TA(p),(b=fr.get(b))&&Hv(p,b),S=S.createElement("link"),Bt(S);var x=S;x._p=new Promise(function(I,L){x.onload=I,x.onerror=L}),en(S,"link",p),f.instance=S}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(f,s),(s=f.state.preload)&&(f.state.loading&3)===0&&(o.count++,f=Ff.bind(o),s.addEventListener("load",f),s.addEventListener("error",f))}}var Vv=0;function Tz(o,s){return o.stylesheets&&o.count===0&&Gf(o,o.stylesheets),0<o.count||0<o.imgCount?function(f){var p=setTimeout(function(){if(o.stylesheets&&Gf(o,o.stylesheets),o.unsuspend){var S=o.unsuspend;o.unsuspend=null,S()}},6e4+s);0<o.imgBytes&&Vv===0&&(Vv=62500*nz());var b=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Gf(o,o.stylesheets),o.unsuspend)){var S=o.unsuspend;o.unsuspend=null,S()}},(o.imgBytes>Vv?50:800)+s);return o.unsuspend=f,function(){o.unsuspend=null,clearTimeout(p),clearTimeout(b)}}:null}function Ff(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gf(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Hf=null;function Gf(o,s){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Hf=new Map,s.forEach(Ez,o),Hf=null,Ff.call(o))}function Ez(o,s){if(!(s.state.loading&4)){var f=Hf.get(o);if(f)var p=f.get(null);else{f=new Map,Hf.set(o,f);for(var b=o.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<b.length;S++){var x=b[S];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(f.set(x.dataset.precedence,x),p=x)}p&&f.set(null,p)}b=s.instance,x=b.getAttribute("data-precedence"),S=f.get(x)||p,S===p&&f.set(null,b),f.set(x,b),this.count++,p=Ff.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),S?S.parentNode.insertBefore(b,S.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(b,o.firstChild)),s.state.loading|=4}}var uu={$$typeof:P,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function wz(o,s,f,p,b,S,x,I,L){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=un(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=un(0),this.hiddenUpdates=un(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=S,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function CA(o,s,f,p,b,S,x,I,L,F,Z,re){return o=new wz(o,s,f,x,L,F,Z,re,I),s=1,S===!0&&(s|=24),S=Fn(3,null,null,s),o.current=S,S.stateNode=o,s=Am(),s.refCount++,o.pooledCache=s,s.refCount++,S.memoizedState={element:p,isDehydrated:f,cache:s},Pm(S),o}function MA(o){return o?(o=ts,o):ts}function PA(o,s,f,p,b,S){b=MA(b),p.context===null?p.context=b:p.pendingContext=b,p=da(s),p.payload={element:f},S=S===void 0?null:S,S!==null&&(p.callback=S),f=ha(o,p,s),f!==null&&(In(f,o,s),Bl(f,o,s))}function OA(o,s){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<s?f:s}}function Kv(o,s){OA(o,s),(o=o.alternate)&&OA(o,s)}function NA(o){if(o.tag===13||o.tag===31){var s=Za(o,67108864);s!==null&&In(s,o,67108864),Kv(o,67108864)}}function IA(o){if(o.tag===13||o.tag===31){var s=Yn();s=$p(s);var f=Za(o,s);f!==null&&In(f,o,s),Kv(o,s)}}var Vf=!0;function Az(o,s,f,p){var b=j.T;j.T=null;var S=ee.p;try{ee.p=2,Yv(o,s,f,p)}finally{ee.p=S,j.T=b}}function xz(o,s,f,p){var b=j.T;j.T=null;var S=ee.p;try{ee.p=8,Yv(o,s,f,p)}finally{ee.p=S,j.T=b}}function Yv(o,s,f,p){if(Vf){var b=Wv(p);if(b===null)Rv(o,s,p,Kf,f),RA(o,p);else if(Mz(b,o,s,f,p))p.stopPropagation();else if(RA(o,p),s&4&&-1<Cz.indexOf(o)){for(;b!==null;){var S=Ho(b);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var x=ie(S.pendingLanes);if(x!==0){var I=S;for(I.pendingLanes|=2,I.entangledLanes|=2;x;){var L=1<<31-bn(x);I.entanglements[1]|=L,x&=~L}Hr(S),(He&6)===0&&(Pf=gn()+500,ru(0))}}break;case 31:case 13:I=Za(S,2),I!==null&&In(I,S,2),Nf(),Kv(S,2)}if(S=Wv(p),S===null&&Rv(o,s,p,Kf,f),S===b)break;b=S}b!==null&&p.stopPropagation()}else Rv(o,s,p,null,f)}}function Wv(o){return o=Xp(o),Jv(o)}var Kf=null;function Jv(o){if(Kf=null,o=Fo(o),o!==null){var s=a(o);if(s===null)o=null;else{var f=s.tag;if(f===13){if(o=l(s),o!==null)return o;o=null}else if(f===31){if(o=u(s),o!==null)return o;o=null}else if(f===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null)}}return Kf=o,null}function DA(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kc()){case Tl:return 2;case Lc:return 8;case zo:case Up:return 32;case Uc:return 268435456;default:return 32}default:return 32}}var Xv=!1,wa=null,Aa=null,xa=null,cu=new Map,fu=new Map,Ca=[],Cz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function RA(o,s){switch(o){case"focusin":case"focusout":wa=null;break;case"dragenter":case"dragleave":Aa=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":cu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":fu.delete(s.pointerId)}}function du(o,s,f,p,b,S){return o===null||o.nativeEvent!==S?(o={blockedOn:s,domEventName:f,eventSystemFlags:p,nativeEvent:S,targetContainers:[b]},s!==null&&(s=Ho(s),s!==null&&NA(s)),o):(o.eventSystemFlags|=p,s=o.targetContainers,b!==null&&s.indexOf(b)===-1&&s.push(b),o)}function Mz(o,s,f,p,b){switch(s){case"focusin":return wa=du(wa,o,s,f,p,b),!0;case"dragenter":return Aa=du(Aa,o,s,f,p,b),!0;case"mouseover":return xa=du(xa,o,s,f,p,b),!0;case"pointerover":var S=b.pointerId;return cu.set(S,du(cu.get(S)||null,o,s,f,p,b)),!0;case"gotpointercapture":return S=b.pointerId,fu.set(S,du(fu.get(S)||null,o,s,f,p,b)),!0}return!1}function kA(o){var s=Fo(o.target);if(s!==null){var f=a(s);if(f!==null){if(s=f.tag,s===13){if(s=l(f),s!==null){o.blockedOn=s,WS(o.priority,function(){IA(f)});return}}else if(s===31){if(s=u(f),s!==null){o.blockedOn=s,WS(o.priority,function(){IA(f)});return}}else if(s===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Yf(o){if(o.blockedOn!==null)return!1;for(var s=o.targetContainers;0<s.length;){var f=Wv(o.nativeEvent);if(f===null){f=o.nativeEvent;var p=new f.constructor(f.type,f);Jp=p,f.target.dispatchEvent(p),Jp=null}else return s=Ho(f),s!==null&&NA(s),o.blockedOn=f,!1;s.shift()}return!0}function LA(o,s,f){Yf(o)&&f.delete(s)}function Pz(){Xv=!1,wa!==null&&Yf(wa)&&(wa=null),Aa!==null&&Yf(Aa)&&(Aa=null),xa!==null&&Yf(xa)&&(xa=null),cu.forEach(LA),fu.forEach(LA)}function Wf(o,s){o.blockedOn===s&&(o.blockedOn=null,Xv||(Xv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Pz)))}var Jf=null;function UA(o){Jf!==o&&(Jf=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Jf===o&&(Jf=null);for(var s=0;s<o.length;s+=3){var f=o[s],p=o[s+1],b=o[s+2];if(typeof p!="function"){if(Jv(p||f)===null)continue;break}var S=Ho(f);S!==null&&(o.splice(s,3),s-=3,Wm(S,{pending:!0,data:b,method:f.method,action:p},p,b))}}))}function As(o){function s(L){return Wf(L,o)}wa!==null&&Wf(wa,o),Aa!==null&&Wf(Aa,o),xa!==null&&Wf(xa,o),cu.forEach(s),fu.forEach(s);for(var f=0;f<Ca.length;f++){var p=Ca[f];p.blockedOn===o&&(p.blockedOn=null)}for(;0<Ca.length&&(f=Ca[0],f.blockedOn===null);)kA(f),f.blockedOn===null&&Ca.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(p=0;p<f.length;p+=3){var b=f[p],S=f[p+1],x=b[xn]||null;if(typeof S=="function")x||UA(f);else if(x){var I=null;if(S&&S.hasAttribute("formAction")){if(b=S,x=S[xn]||null)I=x.formAction;else if(Jv(b)!==null)continue}else I=x.action;typeof I=="function"?f[p+1]=I:(f.splice(p,3),p-=3),UA(f)}}}function qA(){function o(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(x){return b=x})},focusReset:"manual",scroll:"manual"})}function s(){b!==null&&(b(),b=null),p||setTimeout(f,20)}function f(){if(!p&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,b=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(f,100),function(){p=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),b!==null&&(b(),b=null)}}}function Qv(o){this._internalRoot=o}Xf.prototype.render=Qv.prototype.render=function(o){var s=this._internalRoot;if(s===null)throw Error(r(409));var f=s.current,p=Yn();PA(f,p,o,s,null,null)},Xf.prototype.unmount=Qv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var s=o.containerInfo;PA(o.current,2,null,o,null,null),Nf(),s[$o]=null}};function Xf(o){this._internalRoot=o}Xf.prototype.unstable_scheduleHydration=function(o){if(o){var s=YS();o={blockedOn:null,target:o,priority:s};for(var f=0;f<Ca.length&&s!==0&&s<Ca[f].priority;f++);Ca.splice(f,0,o),f===0&&kA(o)}};var zA=t.version;if(zA!=="19.2.0")throw Error(r(527,zA,"19.2.0"));ee.findDOMNode=function(o){var s=o._reactInternals;if(s===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(s),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var Oz={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qf.isDisabled&&Qf.supportsFiber)try{Va=Qf.inject(Oz),yn=Qf}catch{}}return pu.createRoot=function(o,s){if(!i(o))throw Error(r(299));var f=!1,p="",b=VE,S=KE,x=YE;return s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(b=s.onUncaughtError),s.onCaughtError!==void 0&&(S=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),s=CA(o,1,!1,null,null,f,p,null,b,S,x,qA),o[$o]=s.current,Dv(o),new Qv(s)},pu.hydrateRoot=function(o,s,f){if(!i(o))throw Error(r(299));var p=!1,b="",S=VE,x=KE,I=YE,L=null;return f!=null&&(f.unstable_strictMode===!0&&(p=!0),f.identifierPrefix!==void 0&&(b=f.identifierPrefix),f.onUncaughtError!==void 0&&(S=f.onUncaughtError),f.onCaughtError!==void 0&&(x=f.onCaughtError),f.onRecoverableError!==void 0&&(I=f.onRecoverableError),f.formState!==void 0&&(L=f.formState)),s=CA(o,1,!0,s,f??null,p,b,L,S,x,I,qA),s.context=MA(null),f=s.current,p=Yn(),p=$p(p),b=da(p),b.callback=null,ha(f,b,p),f=p,s.current.lanes=f,ii(s,f),Hr(s),o[$o]=s.current,Dv(o),new Xf(s)},pu.version="19.2.0",pu}var WA;function $z(){if(WA)return tg.exports;WA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),tg.exports=Bz(),tg.exports}var Fz=$z();var JA="popstate";function Hz(e={}){function t(r,i){let{pathname:a,search:l,hash:u}=r.location;return Yy("",{pathname:a,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Fu(i)}return Vz(t,n,null,e)}function ht(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _r(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Gz(){return Math.random().toString(36).substring(2,10)}function XA(e,t){return{usr:e.state,key:e.key,idx:t}}function Yy(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?il(t):t,state:n,key:t&&t.key||r||Gz()}}function Fu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function il(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Vz(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,u="POP",c=null,d=h();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function h(){return(l.state||{idx:null}).idx}function m(){u="POP";let E=h(),C=E==null?null:E-d;d=E,c&&c({action:u,location:w.location,delta:C})}function g(E,C){u="PUSH";let O=Yy(w.location,E,C);d=h()+1;let P=XA(O,d),R=w.createHref(O);try{l.pushState(P,"",R)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(R)}a&&c&&c({action:u,location:w.location,delta:1})}function _(E,C){u="REPLACE";let O=Yy(w.location,E,C);d=h();let P=XA(O,d),R=w.createHref(O);l.replaceState(P,"",R),a&&c&&c({action:u,location:w.location,delta:0})}function T(E){return Kz(E)}let w={get action(){return u},get location(){return e(i,l)},listen(E){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(JA,m),c=E,()=>{i.removeEventListener(JA,m),c=null}},createHref(E){return t(i,E)},createURL:T,encodeLocation(E){let C=T(E);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:g,replace:_,go(E){return l.go(E)}};return w}function Kz(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Fu(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function RN(e,t,n="/"){return Yz(e,t,n,!1)}function Yz(e,t,n,r){let i=typeof t=="string"?il(t):t,a=zi(i.pathname||"/",n);if(a==null)return null;let l=kN(e);Wz(l);let u=null;for(let c=0;u==null&&c<l.length;++c){let d=oj(a);u=ij(l[c],d,r)}return u}function kN(e,t=[],n=[],r="",i=!1){let a=(l,u,c=i,d)=>{let h={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&c)return;ht(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let m=ki([r,h.relativePath]),g=n.concat(h);l.children&&l.children.length>0&&(ht(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),kN(l.children,t,g,m,c)),!(l.path==null&&!l.index)&&t.push({path:m,score:nj(m,l.index),routesMeta:g})};return e.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))a(l,u);else for(let c of LN(l.path))a(l,u,!0,c)}),t}function LN(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=LN(r.join("/")),u=[];return u.push(...l.map(c=>c===""?a:[a,c].join("/"))),i&&u.push(...l),u.map(c=>e.startsWith("/")&&c===""?"/":c)}function Wz(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:rj(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Jz=/^:[\w-]+$/,Xz=3,Qz=2,Zz=1,ej=10,tj=-2,QA=e=>e==="*";function nj(e,t){let n=e.split("/"),r=n.length;return n.some(QA)&&(r+=tj),t&&(r+=Qz),n.filter(i=>!QA(i)).reduce((i,a)=>i+(Jz.test(a)?Xz:a===""?Zz:ej),r)}function rj(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function ij(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",l=[];for(let u=0;u<r.length;++u){let c=r[u],d=u===r.length-1,h=a==="/"?t:t.slice(a.length)||"/",m=kd({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),g=c.route;if(!m&&d&&n&&!r[r.length-1].route.index&&(m=kd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:ki([a,m.pathname]),pathnameBase:fj(ki([a,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(a=ki([a,m.pathnameBase]))}return l}function kd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=aj(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:m},g)=>{if(h==="*"){let T=u[g]||"";l=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}const _=u[g];return m&&!_?d[h]=void 0:d[h]=(_||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:l,pattern:e}}function aj(e,t=!1,n=!0){_r(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function oj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _r(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function zi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var sj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lj=e=>sj.test(e);function uj(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?il(e):e,a;if(n)if(lj(n))a=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),_r(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?a=ZA(n.substring(1),"/"):a=ZA(n,t)}else a=t;return{pathname:a,search:dj(r),hash:hj(i)}}function ZA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ag(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cj(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function UN(e){let t=cj(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function qN(e,t,n,r=!1){let i;typeof e=="string"?i=il(e):(i={...e},ht(!i.pathname||!i.pathname.includes("?"),ag("?","pathname","search",i)),ht(!i.pathname||!i.pathname.includes("#"),ag("#","pathname","hash",i)),ht(!i.search||!i.search.includes("#"),ag("#","search","hash",i)));let a=e===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=n;else{let m=t.length-1;if(!r&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}u=m>=0?t[m]:"/"}let c=uj(i,u),d=l&&l!=="/"&&l.endsWith("/"),h=(a||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}var ki=e=>e.join("/").replace(/\/\/+/g,"/"),fj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,hj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function pj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var zN=["POST","PUT","PATCH","DELETE"];new Set(zN);var mj=["GET",...zN];new Set(mj);var al=A.createContext(null);al.displayName="DataRouter";var jh=A.createContext(null);jh.displayName="DataRouterState";A.createContext(!1);var jN=A.createContext({isTransitioning:!1});jN.displayName="ViewTransition";var vj=A.createContext(new Map);vj.displayName="Fetchers";var gj=A.createContext(null);gj.displayName="Await";var ei=A.createContext(null);ei.displayName="Navigation";var sc=A.createContext(null);sc.displayName="Location";var Xi=A.createContext({outlet:null,matches:[],isDataRoute:!1});Xi.displayName="Route";var Db=A.createContext(null);Db.displayName="RouteError";function yj(e,{relative:t}={}){ht(lc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=A.useContext(ei),{hash:i,pathname:a,search:l}=uc(e,{relative:t}),u=a;return n!=="/"&&(u=a==="/"?n:ki([n,a])),r.createHref({pathname:u,search:l,hash:i})}function lc(){return A.useContext(sc)!=null}function ja(){return ht(lc(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(sc).location}var BN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $N(e){A.useContext(ei).static||A.useLayoutEffect(e)}function Bh(){let{isDataRoute:e}=A.useContext(Xi);return e?Nj():bj()}function bj(){ht(lc(),"useNavigate() may be used only in the context of a <Router> component.");let e=A.useContext(al),{basename:t,navigator:n}=A.useContext(ei),{matches:r}=A.useContext(Xi),{pathname:i}=ja(),a=JSON.stringify(UN(r)),l=A.useRef(!1);return $N(()=>{l.current=!0}),A.useCallback((c,d={})=>{if(_r(l.current,BN),!l.current)return;if(typeof c=="number"){n.go(c);return}let h=qN(c,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ki([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,a,i,e])}A.createContext(null);function uc(e,{relative:t}={}){let{matches:n}=A.useContext(Xi),{pathname:r}=ja(),i=JSON.stringify(UN(n));return A.useMemo(()=>qN(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function _j(e,t){return FN(e,t)}function FN(e,t,n,r,i){ht(lc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=A.useContext(ei),{matches:l}=A.useContext(Xi),u=l[l.length-1],c=u?u.params:{},d=u?u.pathname:"/",h=u?u.pathnameBase:"/",m=u&&u.route;{let O=m&&m.path||"";HN(d,!m||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let g=ja(),_;if(t){let O=typeof t=="string"?il(t):t;ht(h==="/"||O.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${O.pathname}" was given in the \`location\` prop.`),_=O}else _=g;let T=_.pathname||"/",w=T;if(h!=="/"){let O=h.replace(/^\//,"").split("/");w="/"+T.replace(/^\//,"").split("/").slice(O.length).join("/")}let E=RN(e,{pathname:w});_r(m||E!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),_r(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=Aj(E&&E.map(O=>Object.assign({},O,{params:Object.assign({},c,O.params),pathname:ki([h,a.encodeLocation?a.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?h:ki([h,a.encodeLocation?a.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),l,n,r,i);return t&&C?A.createElement(sc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},C):C}function Sj(){let e=Oj(),t=pj(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:a},"ErrorBoundary")," or"," ",A.createElement("code",{style:a},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),n?A.createElement("pre",{style:i},n):null,l)}var Tj=A.createElement(Sj,null),Ej=class extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?A.createElement(Xi.Provider,{value:this.props.routeContext},A.createElement(Db.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wj({routeContext:e,match:t,children:n}){let r=A.useContext(al);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),A.createElement(Xi.Provider,{value:e},n)}function Aj(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=n?.errors;if(l!=null){let h=a.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);ht(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,c=-1;if(n)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=h),m.route.id){let{loaderData:g,errors:_}=n,T=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!_||_[m.route.id]===void 0);if(m.route.lazy||T){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}let d=n&&r?(h,m)=>{r(h,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:m})}:void 0;return a.reduceRight((h,m,g)=>{let _,T=!1,w=null,E=null;n&&(_=l&&m.route.id?l[m.route.id]:void 0,w=m.route.errorElement||Tj,u&&(c<0&&g===0?(HN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,E=null):c===g&&(T=!0,E=m.route.hydrateFallbackElement||null)));let C=t.concat(a.slice(0,g+1)),O=()=>{let P;return _?P=w:T?P=E:m.route.Component?P=A.createElement(m.route.Component,null):m.route.element?P=m.route.element:P=h,A.createElement(wj,{match:m,routeContext:{outlet:h,matches:C,isDataRoute:n!=null},children:P})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?A.createElement(Ej,{location:n.location,revalidation:n.revalidation,component:w,error:_,children:O(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:d}):O()},null)}function Rb(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xj(e){let t=A.useContext(al);return ht(t,Rb(e)),t}function Cj(e){let t=A.useContext(jh);return ht(t,Rb(e)),t}function Mj(e){let t=A.useContext(Xi);return ht(t,Rb(e)),t}function kb(e){let t=Mj(e),n=t.matches[t.matches.length-1];return ht(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Pj(){return kb("useRouteId")}function Oj(){let e=A.useContext(Db),t=Cj("useRouteError"),n=kb("useRouteError");return e!==void 0?e:t.errors?.[n]}function Nj(){let{router:e}=xj("useNavigate"),t=kb("useNavigate"),n=A.useRef(!1);return $N(()=>{n.current=!0}),A.useCallback(async(i,a={})=>{_r(n.current,BN),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var ex={};function HN(e,t,n){!t&&!ex[e]&&(ex[e]=!0,_r(!1,n))}A.memo(Ij);function Ij({routes:e,future:t,state:n,unstable_onError:r}){return FN(e,void 0,n,r,t)}function Ps(e){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Dj({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){ht(!lc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=A.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof n=="string"&&(n=il(n));let{pathname:c="/",search:d="",hash:h="",state:m=null,key:g="default"}=n,_=A.useMemo(()=>{let T=zi(c,l);return T==null?null:{location:{pathname:T,search:d,hash:h,state:m,key:g},navigationType:r}},[l,c,d,h,m,g,r]);return _r(_!=null,`<Router basename="${l}"> is not able to match the URL "${c}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:A.createElement(ei.Provider,{value:u},A.createElement(sc.Provider,{children:t,value:_}))}function Rj({children:e,location:t}){return _j(Wy(e),t)}function Wy(e,t=[]){let n=[];return A.Children.forEach(e,(r,i)=>{if(!A.isValidElement(r))return;let a=[...t,i];if(r.type===A.Fragment){n.push.apply(n,Wy(r.props.children,a));return}ht(r.type===Ps,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Wy(r.props.children,a)),n.push(l)}),n}var Sd="get",Td="application/x-www-form-urlencoded";function $h(e){return e!=null&&typeof e.tagName=="string"}function kj(e){return $h(e)&&e.tagName.toLowerCase()==="button"}function Lj(e){return $h(e)&&e.tagName.toLowerCase()==="form"}function Uj(e){return $h(e)&&e.tagName.toLowerCase()==="input"}function qj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function zj(e,t){return e.button===0&&(!t||t==="_self")&&!qj(e)}function Jy(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function jj(e,t){let n=Jy(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(a=>{n.append(i,a)})}),n}var Zf=null;function Bj(){if(Zf===null)try{new FormData(document.createElement("form"),0),Zf=!1}catch{Zf=!0}return Zf}var $j=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function og(e){return e!=null&&!$j.has(e)?(_r(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Td}"`),null):e}function Fj(e,t){let n,r,i,a,l;if(Lj(e)){let u=e.getAttribute("action");r=u?zi(u,t):null,n=e.getAttribute("method")||Sd,i=og(e.getAttribute("enctype"))||Td,a=new FormData(e)}else if(kj(e)||Uj(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||u.getAttribute("action");if(r=c?zi(c,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||Sd,i=og(e.getAttribute("formenctype"))||og(u.getAttribute("enctype"))||Td,a=new FormData(u,e),!Bj()){let{name:d,type:h,value:m}=e;if(h==="image"){let g=d?`${d}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else d&&a.append(d,m)}}else{if($h(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Sd,r=null,i=Td,l=e}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Lb(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Hj(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&zi(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Gj(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Vj(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Kj(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let l=await Gj(a,n);return l.links?l.links():[]}return[]}));return Xj(r.flat(1).filter(Vj).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function tx(e,t,n,r,i,a){let l=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,u=(c,d)=>n[d].pathname!==c.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==c.params["*"];return a==="assets"?t.filter((c,d)=>l(c,d)||u(c,d)):a==="data"?t.filter((c,d)=>{let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(l(c,d)||u(c,d))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function Yj(e,t,{includeHydrateFallback:n}={}){return Wj(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function Wj(e){return[...new Set(e)]}function Jj(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Xj(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(Jj(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function GN(){let e=A.useContext(al);return Lb(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Qj(){let e=A.useContext(jh);return Lb(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ub=A.createContext(void 0);Ub.displayName="FrameworkContext";function VN(){let e=A.useContext(Ub);return Lb(e,"You must render this element inside a <HydratedRouter> element"),e}function Zj(e,t){let n=A.useContext(Ub),[r,i]=A.useState(!1),[a,l]=A.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:m}=t,g=A.useRef(null);A.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let w=C=>{C.forEach(O=>{l(O.isIntersecting)})},E=new IntersectionObserver(w,{threshold:.5});return g.current&&E.observe(g.current),()=>{E.disconnect()}}},[e]),A.useEffect(()=>{if(r){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[r]);let _=()=>{i(!0)},T=()=>{i(!1),l(!1)};return n?e!=="intent"?[a,g,{}]:[a,g,{onFocus:mu(u,_),onBlur:mu(c,T),onMouseEnter:mu(d,_),onMouseLeave:mu(h,T),onTouchStart:mu(m,_)}]:[!1,g,{}]}function mu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function eB({page:e,...t}){let{router:n}=GN(),r=A.useMemo(()=>RN(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?A.createElement(nB,{page:e,matches:r,...t}):null}function tB(e){let{manifest:t,routeModules:n}=VN(),[r,i]=A.useState([]);return A.useEffect(()=>{let a=!1;return Kj(e,t,n).then(l=>{a||i(l)}),()=>{a=!0}},[e,t,n]),r}function nB({page:e,matches:t,...n}){let r=ja(),{manifest:i,routeModules:a}=VN(),{basename:l}=GN(),{loaderData:u,matches:c}=Qj(),d=A.useMemo(()=>tx(e,t,c,i,r,"data"),[e,t,c,i,r]),h=A.useMemo(()=>tx(e,t,c,i,r,"assets"),[e,t,c,i,r]),m=A.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let T=new Set,w=!1;if(t.forEach(C=>{let O=i.routes[C.route.id];!O||!O.hasLoader||(!d.some(P=>P.route.id===C.route.id)&&C.route.id in u&&a[C.route.id]?.shouldRevalidate||O.hasClientLoader?w=!0:T.add(C.route.id))}),T.size===0)return[];let E=Hj(e,l,"data");return w&&T.size>0&&E.searchParams.set("_routes",t.filter(C=>T.has(C.route.id)).map(C=>C.route.id).join(",")),[E.pathname+E.search]},[l,u,r,i,d,t,e,a]),g=A.useMemo(()=>Yj(h,i),[h,i]),_=tB(h);return A.createElement(A.Fragment,null,m.map(T=>A.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),g.map(T=>A.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),_.map(({key:T,link:w})=>A.createElement("link",{key:T,nonce:n.nonce,...w})))}function rB(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var KN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{KN&&(window.__reactRouterVersion="7.9.6")}catch{}function iB({basename:e,children:t,window:n}){let r=A.useRef();r.current==null&&(r.current=Hz({window:n,v5Compat:!0}));let i=r.current,[a,l]=A.useState({action:i.action,location:i.location}),u=A.useCallback(c=>{A.startTransition(()=>l(c))},[l]);return A.useLayoutEffect(()=>i.listen(u),[i,u]),A.createElement(Dj,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}var YN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WN=A.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:u,target:c,to:d,preventScrollReset:h,viewTransition:m,...g},_){let{basename:T}=A.useContext(ei),w=typeof d=="string"&&YN.test(d),E,C=!1;if(typeof d=="string"&&w&&(E=d,KN))try{let K=new URL(window.location.href),ae=d.startsWith("//")?new URL(K.protocol+d):new URL(d),Y=zi(ae.pathname,T);ae.origin===K.origin&&Y!=null?d=Y+ae.search+ae.hash:C=!0}catch{_r(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=yj(d,{relative:i}),[P,R,N]=Zj(r,g),D=sB(d,{replace:l,state:u,target:c,preventScrollReset:h,relative:i,viewTransition:m});function k(K){t&&t(K),K.defaultPrevented||D(K)}let H=A.createElement("a",{...g,...N,href:E||O,onClick:C||a?t:k,ref:rB(_,R),target:c,"data-discover":!w&&n==="render"?"true":void 0});return P&&!w?A.createElement(A.Fragment,null,H,A.createElement(eB,{page:O})):H});WN.displayName="Link";var JN=A.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:u,children:c,...d},h){let m=uc(l,{relative:d.relative}),g=ja(),_=A.useContext(jh),{navigator:T,basename:w}=A.useContext(ei),E=_!=null&&hB(m)&&u===!0,C=T.encodeLocation?T.encodeLocation(m).pathname:m.pathname,O=g.pathname,P=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(O=O.toLowerCase(),P=P?P.toLowerCase():null,C=C.toLowerCase()),P&&w&&(P=zi(P,w)||P);const R=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let N=O===C||!i&&O.startsWith(C)&&O.charAt(R)==="/",D=P!=null&&(P===C||!i&&P.startsWith(C)&&P.charAt(C.length)==="/"),k={isActive:N,isPending:D,isTransitioning:E},H=N?t:void 0,K;typeof r=="function"?K=r(k):K=[r,N?"active":null,D?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let ae=typeof a=="function"?a(k):a;return A.createElement(WN,{...d,"aria-current":H,className:K,ref:h,style:ae,to:l,viewTransition:u},typeof c=="function"?c(k):c)});JN.displayName="NavLink";var aB=A.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:l=Sd,action:u,onSubmit:c,relative:d,preventScrollReset:h,viewTransition:m,...g},_)=>{let T=fB(),w=dB(u,{relative:d}),E=l.toLowerCase()==="get"?"get":"post",C=typeof u=="string"&&YN.test(u),O=P=>{if(c&&c(P),P.defaultPrevented)return;P.preventDefault();let R=P.nativeEvent.submitter,N=R?.getAttribute("formmethod")||l;T(R||P.currentTarget,{fetcherKey:t,method:N,navigate:n,replace:i,state:a,relative:d,preventScrollReset:h,viewTransition:m})};return A.createElement("form",{ref:_,method:E,action:w,onSubmit:r?c:O,...g,"data-discover":!C&&e==="render"?"true":void 0})});aB.displayName="Form";function oB(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XN(e){let t=A.useContext(al);return ht(t,oB(e)),t}function sB(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let u=Bh(),c=ja(),d=uc(e,{relative:a});return A.useCallback(h=>{if(zj(h,t)){h.preventDefault();let m=n!==void 0?n:Fu(c)===Fu(d);u(e,{replace:m,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[c,u,d,n,r,t,e,i,a,l])}function lB(e){_r(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=A.useRef(Jy(e)),n=A.useRef(!1),r=ja(),i=A.useMemo(()=>jj(r.search,n.current?null:t.current),[r.search]),a=Bh(),l=A.useCallback((u,c)=>{const d=Jy(typeof u=="function"?u(new URLSearchParams(i)):u);n.current=!0,a("?"+d,c)},[a,i]);return[i,l]}var uB=0,cB=()=>`__${String(++uB)}__`;function fB(){let{router:e}=XN("useSubmit"),{basename:t}=A.useContext(ei),n=Pj();return A.useCallback(async(r,i={})=>{let{action:a,method:l,encType:u,formData:c,body:d}=Fj(r,t);if(i.navigate===!1){let h=i.fetcherKey||cB();await e.fetch(h,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function dB(e,{relative:t}={}){let{basename:n}=A.useContext(ei),r=A.useContext(Xi);ht(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...uc(e||".",{relative:t})},l=ja();if(e==null){a.search=l.search;let u=new URLSearchParams(a.search),c=u.getAll("index");if(c.some(h=>h==="")){u.delete("index"),c.filter(m=>m).forEach(m=>u.append("index",m));let h=u.toString();a.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ki([n,a.pathname])),Fu(a)}function hB(e,{relative:t}={}){let n=A.useContext(jN);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=XN("useViewTransitionState"),i=uc(e,{relative:t});if(!n.isTransitioning)return!1;let a=zi(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=zi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return kd(i.pathname,l)!=null||kd(i.pathname,a)!=null}var qb=DN();function rn(e){if(typeof e=="number")return(Math.abs(e*2654435761)>>>0).toString(16);if(typeof e=="boolean")return e?"1":"0";if(e===null)return"null";if(e===void 0)return"undefined";if(typeof e=="string"){let t=2166136261;for(let n=0;n<e.length;n++)t^=e.charCodeAt(n),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24),t=t>>>0;return t.toString(16)}if(Array.isArray(e)){let t=2166136261;for(let n=0;n<e.length;n++){t^=(n+1)*2654435761;const r=rn(e[n]);for(let i=0;i<r.length;i++)t^=r.charCodeAt(i),t*=16777619,t=t>>>0}return t.toString(16)}if(typeof e=="object"){let t=2166136261;const n=Object.keys(e).sort();for(let r=0;r<n.length;r++){const i=n[r],a=rn(i);t^=parseInt(a,16),t*=16777619,t=t>>>0;const l=rn(e[i]);t^=parseInt(l,16),t*=16777619,t=t>>>0}return t.toString(16)}return rn(String(e))}const St={Remove:"remove",Replace:"replace",Add:"add"},QN=Symbol.for("__MUTATIVE_PROXY_DRAFT__"),pB=Symbol("__MUTATIVE_RAW_RETURN_SYMBOL__"),Ed=Symbol.iterator,Zn={mutable:"mutable",immutable:"immutable"},zb={};function Du(e,t){return e instanceof Map?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function nx(e,t){if(t in e){let n=Reflect.getPrototypeOf(e);for(;n;){const r=Reflect.getOwnPropertyDescriptor(n,t);if(r)return r;n=Reflect.getPrototypeOf(n)}}}function jb(e){return Object.getPrototypeOf(e)===Set.prototype}function Bb(e){return Object.getPrototypeOf(e)===Map.prototype}function Jn(e){var t;return(t=e.copy)!==null&&t!==void 0?t:e.original}function ka(e){return!!Le(e)}function Le(e){return typeof e!="object"?null:e?.[QN]}function $b(e){var t;const n=Le(e);return n?(t=n.copy)!==null&&t!==void 0?t:n.original:e}function kr(e,t){if(!e||typeof e!="object")return!1;let n;return Object.getPrototypeOf(e)===Object.prototype||Array.isArray(e)||e instanceof Map||e instanceof Set||!!t?.mark&&((n=t.mark(e,Zn))===Zn.immutable||typeof n=="function")}function ZN(e,t=[]){if(Object.hasOwnProperty.call(e,"key")){const n=e.parent.copy,r=Le(ji(n,e.key));if(r!==null&&r?.original!==e.original)return null;const i=e.parent.type===3,a=i?Array.from(e.parent.setMap.keys()).indexOf(e.key):e.key;if(!(i&&n.size>a||Du(n,a)))return null;t.push(a)}if(e.parent)return ZN(e.parent,t);t.reverse();try{mB(e.copy,t)}catch{return null}return t}function ko(e){return Array.isArray(e)?1:e instanceof Map?2:e instanceof Set?3:0}function ji(e,t){return ko(e)===2?e.get(t):e[t]}function cc(e,t,n){ko(e)===2?e.set(t,n):e[t]=n}function sg(e,t){const n=Le(e);return(n?Jn(n):e)[t]}function Li(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Xy(e){if(e)for(;e.finalities.revoke.length>0;)e.finalities.revoke.pop()()}function So(e,t){return t?e:[""].concat(e).map(n=>{const r=`${n}`;return r.indexOf("/")===-1&&r.indexOf("~")===-1?r:r.replace(/~/g,"~0").replace(/\//g,"~1")}).join("/")}function mB(e,t){for(let n=0;n<t.length-1;n+=1){const r=t[n];if(e=ji(ko(e)===3?Array.from(e):e,r),typeof e!="object")throw new Error(`Cannot resolve patch at '${t.join("/")}'.`)}return e}function vB(e){const t=Object.create(Object.getPrototypeOf(e));return Reflect.ownKeys(e).forEach(n=>{let r=Reflect.getOwnPropertyDescriptor(e,n);if(r.enumerable&&r.configurable&&r.writable){t[n]=e[n];return}r.writable||(r.writable=!0,r.configurable=!0),(r.get||r.set)&&(r={configurable:!0,writable:!0,enumerable:r.enumerable,value:e[n]}),Reflect.defineProperty(t,n,r)}),t}const gB=Object.prototype.propertyIsEnumerable;function eI(e,t){let n;if(Array.isArray(e))return Array.prototype.concat.call(e);if(e instanceof Set){if(!jb(e)){const r=Object.getPrototypeOf(e).constructor;return new r(e.values())}return Set.prototype.difference?Set.prototype.difference.call(e,new Set):new Set(e.values())}else if(e instanceof Map){if(!Bb(e)){const r=Object.getPrototypeOf(e).constructor;return new r(e)}return new Map(e)}else if(t?.mark&&(n=t.mark(e,Zn),n!==void 0)&&n!==Zn.mutable){if(n===Zn.immutable)return vB(e);if(typeof n=="function"){if(t.enablePatches||t.enableAutoFreeze)throw new Error("You can't use mark and patches or auto freeze together.");return n()}throw new Error(`Unsupported mark result: ${n}`)}else if(typeof e=="object"&&Object.getPrototypeOf(e)===Object.prototype){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i]}),Object.getOwnPropertySymbols(e).forEach(i=>{gB.call(e,i)&&(r[i]=e[i])}),r}else throw new Error("Please check mark() to ensure that it is a stable marker draftable function.")}function Sn(e){e.copy||(e.copy=eI(e.original,e.options))}function xu(e){if(!kr(e))return $b(e);if(Array.isArray(e))return e.map(xu);if(e instanceof Map){const n=Array.from(e.entries()).map(([r,i])=>[r,xu(i)]);if(!Bb(e)){const r=Object.getPrototypeOf(e).constructor;return new r(n)}return new Map(n)}if(e instanceof Set){const n=Array.from(e).map(xu);if(!jb(e)){const r=Object.getPrototypeOf(e).constructor;return new r(n)}return new Set(n)}const t=Object.create(Object.getPrototypeOf(e));for(const n in e)t[n]=xu(e[n]);return t}function wd(e){return ka(e)?xu(e):e}function Yr(e){var t;e.assignedMap=(t=e.assignedMap)!==null&&t!==void 0?t:new Map,e.operated||(e.operated=!0,e.parent&&Yr(e.parent))}function rx(){throw new Error("Cannot modify frozen object")}function Os(e,t,n,r,i){{n=n??new WeakMap,r=r??[],i=i??[];const l=n.has(e)?n.get(e):e;if(r.length>0){const u=r.indexOf(l);if(l&&typeof l=="object"&&u!==-1)throw r[0]===l?new Error("Forbids circular reference"):new Error(`Forbids circular reference: ~/${i.slice(0,u).map((c,d)=>{if(typeof c=="symbol")return`[${c.toString()}]`;const h=r[d];return typeof c=="object"&&(h instanceof Map||h instanceof Set)?Array.from(h.keys()).indexOf(c):c}).join("/")}`);r.push(l),i.push(t)}else r.push(l)}if(Object.isFrozen(e)||ka(e)){r.pop(),i.pop();return}switch(ko(e)){case 2:for(const[u,c]of e)Os(u,u,n,r,i),Os(c,u,n,r,i);e.set=e.clear=e.delete=rx;break;case 3:for(const u of e)Os(u,u,n,r,i);e.add=e.clear=e.delete=rx;break;case 1:Object.freeze(e);let l=0;for(const u of e)Os(u,l,n,r,i),l+=1;break;default:Object.freeze(e),Object.keys(e).forEach(u=>{const c=e[u];Os(c,u,n,r,i)})}r.pop(),i.pop()}function Fb(e,t){const n=ko(e);if(n===0)Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)});else if(n===1){let r=0;for(const i of e)t(r,i,e),r+=1}else e.forEach((r,i)=>t(i,r,e))}function tI(e,t,n){if(ka(e)||!kr(e,n)||t.has(e)||Object.isFrozen(e))return;const r=e instanceof Set,i=r?new Map:void 0;if(t.add(e),Fb(e,(a,l)=>{var u;if(ka(l)){const c=Le(l);Sn(c);const d=!((u=c.assignedMap)===null||u===void 0)&&u.size||c.operated?c.copy:c.original;cc(r?i:e,a,d)}else tI(l,t,n)}),i){const a=e,l=Array.from(a);a.clear(),l.forEach(u=>{a.add(i.has(u)?i.get(u):u)})}}function yB(e,t){const n=e.type===3?e.setMap:e.copy;e.finalities.revoke.length>1&&e.assignedMap.get(t)&&n&&tI(ji(n,t),e.finalities.handledSet,e.options)}function Qy(e){e.type===3&&e.copy&&(e.copy.clear(),e.setMap.forEach(t=>{e.copy.add($b(t))}))}function Zy(e,t,n,r){if(e.operated&&e.assignedMap&&e.assignedMap.size>0&&!e.finalized){if(n&&r){const a=ZN(e);a&&t(e,a,n,r)}e.finalized=!0}}function Hb(e,t,n,r){const i=Le(n);i&&(i.callbacks||(i.callbacks=[]),i.callbacks.push((a,l)=>{var u;const c=e.type===3?e.setMap:e.copy;if(Li(ji(c,t),n)){let d=i.original;i.copy&&(d=i.copy),Qy(e),Zy(e,r,a,l),e.options.enableAutoFreeze&&(e.options.updatedValues=(u=e.options.updatedValues)!==null&&u!==void 0?u:new WeakMap,e.options.updatedValues.set(d,i.original)),cc(c,t,d)}}),e.options.enableAutoFreeze&&i.finalities!==e.finalities&&(e.options.enableAutoFreeze=!1)),kr(n,e.options)&&e.finalities.draft.push(()=>{const a=e.type===3?e.setMap:e.copy;Li(ji(a,t),n)&&yB(e,t)})}function bB(e,t,n,r,i){let{original:a,assignedMap:l,options:u}=e,c=e.copy;c.length<a.length&&([a,c]=[c,a],[n,r]=[r,n]);for(let d=0;d<a.length;d+=1)if(l.get(d.toString())&&c[d]!==a[d]){const h=t.concat([d]),m=So(h,i);n.push({op:St.Replace,path:m,value:wd(c[d])}),r.push({op:St.Replace,path:m,value:wd(a[d])})}for(let d=a.length;d<c.length;d+=1){const h=t.concat([d]),m=So(h,i);n.push({op:St.Add,path:m,value:wd(c[d])})}if(a.length<c.length){const{arrayLengthAssignment:d=!0}=u.enablePatches;if(d){const h=t.concat(["length"]),m=So(h,i);r.push({op:St.Replace,path:m,value:a.length})}else for(let h=c.length;a.length<h;h-=1){const m=t.concat([h-1]),g=So(m,i);r.push({op:St.Remove,path:g})}}}function _B({original:e,copy:t,assignedMap:n},r,i,a,l){n.forEach((u,c)=>{const d=ji(e,c),h=wd(ji(t,c)),m=u?Du(e,c)?St.Replace:St.Add:St.Remove;if(Li(d,h)&&m===St.Replace)return;const g=r.concat(c),_=So(g,l);i.push(m===St.Remove?{op:m,path:_}:{op:m,path:_,value:h}),a.push(m===St.Add?{op:St.Remove,path:_}:m===St.Remove?{op:St.Add,path:_,value:d}:{op:St.Replace,path:_,value:d})})}function SB({original:e,copy:t},n,r,i,a){let l=0;e.forEach(u=>{if(!t.has(u)){const c=n.concat([l]),d=So(c,a);r.push({op:St.Remove,path:d,value:u}),i.unshift({op:St.Add,path:d,value:u})}l+=1}),l=0,t.forEach(u=>{if(!e.has(u)){const c=n.concat([l]),d=So(c,a);r.push({op:St.Add,path:d,value:u}),i.unshift({op:St.Remove,path:d,value:u})}l+=1})}function Hu(e,t,n,r){const{pathAsArray:i=!0}=e.options.enablePatches;switch(e.type){case 0:case 2:return _B(e,t,n,r,i);case 1:return bB(e,t,n,r,i);case 3:return SB(e,t,n,r,i)}}const Ld=(e,t,n=!1)=>{if(typeof e=="object"&&e!==null&&(!kr(e,t)||n))throw new Error("Strict mode: Mutable data cannot be accessed directly, please use 'unsafe(callback)' wrap.")},e0={get size(){return Jn(Le(this)).size},has(e){return Jn(Le(this)).has(e)},set(e,t){const n=Le(this),r=Jn(n);return(!r.has(e)||!Li(r.get(e),t))&&(Sn(n),Yr(n),n.assignedMap.set(e,!0),n.copy.set(e,t),Hb(n,e,t,Hu)),this},delete(e){if(!this.has(e))return!1;const t=Le(this);return Sn(t),Yr(t),t.original.has(e)?t.assignedMap.set(e,!1):t.assignedMap.delete(e),t.copy.delete(e),!0},clear(){const e=Le(this);if(this.size){Sn(e),Yr(e),e.assignedMap=new Map;for(const[t]of e.original)e.assignedMap.set(t,!1);e.copy.clear()}},forEach(e,t){const n=Le(this);Jn(n).forEach((r,i)=>{e.call(t,this.get(i),i,this)})},get(e){var t,n;const r=Le(this),i=Jn(r).get(e),a=((n=(t=r.options).mark)===null||n===void 0?void 0:n.call(t,i,Zn))===Zn.mutable;if(r.options.strict&&Ld(i,r.options,a),a||r.finalized||!kr(i,r.options)||i!==r.original.get(e))return i;const l=zb.createDraft({original:i,parentDraft:r,key:e,finalities:r.finalities,options:r.options});return Sn(r),r.copy.set(e,l),l},keys(){return Jn(Le(this)).keys()},values(){const e=this.keys();return{[Ed]:()=>this.values(),next:()=>{const t=e.next();return t.done?t:{done:!1,value:this.get(t.value)}}}},entries(){const e=this.keys();return{[Ed]:()=>this.entries(),next:()=>{const t=e.next();if(t.done)return t;const n=this.get(t.value);return{done:!1,value:[t.value,n]}}}},[Ed](){return this.entries()}},TB=Reflect.ownKeys(e0),ix=(e,t,{isValuesIterator:n})=>()=>{var r,i;const a=t.next();if(a.done)return a;const l=a.value;let u=e.setMap.get(l);const c=Le(u),d=((i=(r=e.options).mark)===null||i===void 0?void 0:i.call(r,u,Zn))===Zn.mutable;if(e.options.strict&&Ld(l,e.options,d),!d&&!c&&kr(l,e.options)&&!e.finalized&&e.original.has(l)){const h=zb.createDraft({original:l,parentDraft:e,key:l,finalities:e.finalities,options:e.options});e.setMap.set(l,h),u=h}else c&&(u=c.proxy);return{done:!1,value:n?u:[u,u]}},Ud={get size(){return Le(this).setMap.size},has(e){const t=Le(this);if(t.setMap.has(e))return!0;Sn(t);const n=Le(e);return!!(n&&t.setMap.has(n.original))},add(e){const t=Le(this);return this.has(e)||(Sn(t),Yr(t),t.assignedMap.set(e,!0),t.setMap.set(e,e),Hb(t,e,e,Hu)),this},delete(e){if(!this.has(e))return!1;const t=Le(this);Sn(t),Yr(t);const n=Le(e);return n&&t.setMap.has(n.original)?(t.assignedMap.set(n.original,!1),t.setMap.delete(n.original)):(!n&&t.setMap.has(e)?t.assignedMap.set(e,!1):t.assignedMap.delete(e),t.setMap.delete(e))},clear(){if(!this.size)return;const e=Le(this);Sn(e),Yr(e);for(const t of e.original)e.assignedMap.set(t,!1);e.setMap.clear()},values(){const e=Le(this);Sn(e);const t=e.setMap.keys();return{[Symbol.iterator]:()=>this.values(),next:ix(e,t,{isValuesIterator:!0})}},entries(){const e=Le(this);Sn(e);const t=e.setMap.keys();return{[Symbol.iterator]:()=>this.entries(),next:ix(e,t,{isValuesIterator:!1})}},keys(){return this.values()},[Ed](){return this.values()},forEach(e,t){const n=this.values();let r=n.next();for(;!r.done;)e.call(t,r.value,r.value,this),r=n.next()}};Set.prototype.difference&&Object.assign(Ud,{intersection(e){return Set.prototype.intersection.call(new Set(this.values()),e)},union(e){return Set.prototype.union.call(new Set(this.values()),e)},difference(e){return Set.prototype.difference.call(new Set(this.values()),e)},symmetricDifference(e){return Set.prototype.symmetricDifference.call(new Set(this.values()),e)},isSubsetOf(e){return Set.prototype.isSubsetOf.call(new Set(this.values()),e)},isSupersetOf(e){return Set.prototype.isSupersetOf.call(new Set(this.values()),e)},isDisjointFrom(e){return Set.prototype.isDisjointFrom.call(new Set(this.values()),e)}});const EB=Reflect.ownKeys(Ud),nI={get(e,t,n){var r,i;const a=(r=e.copy)===null||r===void 0?void 0:r[t];if(a&&e.finalities.draftsCache.has(a))return a;if(t===QN)return e;let l;if(e.options.mark){const d=t==="size"&&(e.original instanceof Map||e.original instanceof Set)?Reflect.get(e.original,t):Reflect.get(e.original,t,n);if(l=e.options.mark(d,Zn),l===Zn.mutable)return e.options.strict&&Ld(d,e.options,!0),d}const u=Jn(e);if(u instanceof Map&&TB.includes(t))return t==="size"?Object.getOwnPropertyDescriptor(e0,"size").get.call(e.proxy):e0[t].bind(e.proxy);if(u instanceof Set&&EB.includes(t))return t==="size"?Object.getOwnPropertyDescriptor(Ud,"size").get.call(e.proxy):Ud[t].bind(e.proxy);if(!Du(u,t)){const d=nx(u,t);return d?"value"in d?d.value:(i=d.get)===null||i===void 0?void 0:i.call(e.proxy):void 0}const c=u[t];if(e.options.strict&&Ld(c,e.options),e.finalized||!kr(c,e.options))return c;if(c===sg(e.original,t)){if(Sn(e),e.copy[t]=Gb({original:e.original[t],parentDraft:e,key:e.type===1?Number(t):t,finalities:e.finalities,options:e.options}),typeof l=="function"){const d=Le(e.copy[t]);return Sn(d),Yr(d),d.copy}return e.copy[t]}return ka(c)&&e.finalities.draftsCache.add(c),c},set(e,t,n){var r;if(e.type===3||e.type===2)throw new Error("Map/Set draft does not support any property assignment.");let i;if(e.type===1&&t!=="length"&&!(Number.isInteger(i=Number(t))&&i>=0&&(t===0||i===0||String(i)===String(t))))throw new Error("Only supports setting array indices and the 'length' property.");const a=nx(Jn(e),t);if(a?.set)return a.set.call(e.proxy,n),!0;const l=sg(Jn(e),t),u=Le(l);return u&&Li(u.original,n)?(e.copy[t]=n,e.assignedMap=(r=e.assignedMap)!==null&&r!==void 0?r:new Map,e.assignedMap.set(t,!1),!0):(Li(n,l)&&(n!==void 0||Du(e.original,t))||(Sn(e),Yr(e),Du(e.original,t)&&Li(n,e.original[t])?e.assignedMap.delete(t):e.assignedMap.set(t,!0),e.copy[t]=n,Hb(e,t,n,Hu)),!0)},has(e,t){return t in Jn(e)},ownKeys(e){return Reflect.ownKeys(Jn(e))},getOwnPropertyDescriptor(e,t){const n=Jn(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},getPrototypeOf(e){return Reflect.getPrototypeOf(e.original)},setPrototypeOf(){throw new Error("Cannot call 'setPrototypeOf()' on drafts")},defineProperty(){throw new Error("Cannot call 'defineProperty()' on drafts")},deleteProperty(e,t){var n;return e.type===1?nI.set.call(this,e,t,void 0,e.proxy):(sg(e.original,t)!==void 0||t in e.original?(Sn(e),Yr(e),e.assignedMap.set(t,!1)):(e.assignedMap=(n=e.assignedMap)!==null&&n!==void 0?n:new Map,e.assignedMap.delete(t)),e.copy&&delete e.copy[t],!0)}};function Gb(e){const{original:t,parentDraft:n,key:r,finalities:i,options:a}=e,l=ko(t),u={type:l,finalized:!1,parent:n,original:t,copy:null,proxy:null,finalities:i,options:a,setMap:l===3?new Map(t.entries()):void 0};(r||"key"in e)&&(u.key=r);const{proxy:c,revoke:d}=Proxy.revocable(l===1?Object.assign([],u):u,nI);if(i.revoke.push(d),u.proxy=c,n){const h=n;h.finalities.draft.push((m,g)=>{var _,T;const w=Le(c);let E=h.type===3?h.setMap:h.copy;const C=ji(E,r),O=Le(C);if(O){let P=O.original;O.operated&&(P=$b(C)),Qy(O),Zy(O,Hu,m,g),h.options.enableAutoFreeze&&(h.options.updatedValues=(_=h.options.updatedValues)!==null&&_!==void 0?_:new WeakMap,h.options.updatedValues.set(P,O.original)),cc(E,r,P)}(T=w.callbacks)===null||T===void 0||T.forEach(P=>{P(m,g)})})}else{const h=Le(c);h.finalities.draft.push((m,g)=>{Qy(h),Zy(h,Hu,m,g)})}return c}zb.createDraft=Gb;function wB(e,t,n,r,i){var a;const l=Le(e),u=(a=l?.original)!==null&&a!==void 0?a:e,c=!!t.length;if(l?.operated)for(;l.finalities.draft.length>0;)l.finalities.draft.pop()(n,r);const d=c?t[0]:l?l.operated?l.copy:l.original:e;return l&&Xy(l),i&&Os(d,d,l?.options.updatedValues),[d,n&&c?[{op:St.Replace,path:[],value:t[0]}]:n,r&&c?[{op:St.Replace,path:[],value:u}]:r]}function AB(e,t){var n;const r={draft:[],revoke:[],handledSet:new WeakSet,draftsCache:new WeakSet};let i,a;t.enablePatches&&(i=[],a=[]);const u=((n=t.mark)===null||n===void 0?void 0:n.call(t,e,Zn))===Zn.mutable||!kr(e,t)?e:Gb({original:e,parentDraft:null,finalities:r,options:t});return[u,(c=[])=>{const[d,h,m]=wB(u,c,i,a,t.enableAutoFreeze);return t.enablePatches?[d,h,m]:d}]}function t0(e){const{rootDraft:t,value:n,useRawReturn:r=!1,isRoot:i=!0}=e;Fb(n,(a,l,u)=>{const c=Le(l);if(c&&t&&c.finalities===t.finalities){e.isContainDraft=!0;const d=c.original;if(u instanceof Set){const h=Array.from(u);u.clear(),h.forEach(m=>u.add(a===m?d:m))}else cc(u,a,d)}else typeof l=="object"&&l!==null&&(e.value=l,e.isRoot=!1,t0(e))}),i&&(e.isContainDraft||console.warn("The return value does not contain any draft, please use 'rawReturn()' to wrap the return value to improve performance."),r&&console.warn("The return value contains drafts, please don't use 'rawReturn()' to wrap the return value."))}function rI(e){var t;const n=Le(e);if(!kr(e,n?.options))return e;const r=ko(e);if(n&&!n.operated)return n.original;let i;function a(){i=r===2?Bb(e)?new Map(e):new(Object.getPrototypeOf(e)).constructor(e):r===3?Array.from(n.setMap.values()):eI(e,n?.options)}if(n){n.finalized=!0;try{a()}finally{n.finalized=!1}}else i=e;if(Fb(i,(l,u)=>{if(n&&Li(ji(n.original,l),u))return;const c=rI(u);c!==u&&(i===e&&a(),cc(i,l,c))}),r===3){const l=(t=n?.original)!==null&&t!==void 0?t:i;return jb(l)?new Set(i):new(Object.getPrototypeOf(l)).constructor(i)}return i}function ax(e){if(!ka(e))throw new Error(`current() is only used for Draft, parameter: ${e}`);return rI(e)}const xB=e=>function t(n,r,i){var a,l,u;if(typeof n=="function"&&typeof r!="function")return function(N,...D){return t(N,k=>n.call(this,k,...D),r)};const c=n,d=r;let h=i;if(typeof r!="function"&&(h=r),h!==void 0&&Object.prototype.toString.call(h)!=="[object Object]")throw new Error(`Invalid options: ${h}, 'options' should be an object.`);h=Object.assign(Object.assign({},e),h);const m=ka(c)?ax(c):c,g=Array.isArray(h.mark)?((N,D)=>{for(const k of h.mark){if(typeof k!="function")throw new Error(`Invalid mark: ${k}, 'mark' should be a function.`);const H=k(N,D);if(H)return H}}):h.mark,_=(a=h.enablePatches)!==null&&a!==void 0?a:!1,T=(l=h.strict)!==null&&l!==void 0?l:!1,E={enableAutoFreeze:(u=h.enableAutoFreeze)!==null&&u!==void 0?u:!1,mark:g,strict:T,enablePatches:_};if(!kr(m,E)&&typeof m=="object"&&m!==null)throw new Error("Invalid base state: create() only supports plain objects, arrays, Set, Map or using mark() to mark the state as immutable.");const[C,O]=AB(m,E);if(typeof r!="function"){if(!kr(m,E))throw new Error("Invalid base state: create() only supports plain objects, arrays, Set, Map or using mark() to mark the state as immutable.");return[C,O]}let P;try{P=d(C)}catch(N){throw Xy(Le(C)),N}const R=N=>{const D=Le(C);if(!ka(N)){if(N!==void 0&&!Li(N,C)&&D?.operated)throw new Error("Either the value is returned as a new non-draft value, or only the draft is modified without returning any value.");const H=N?.[pB];if(H){const K=H[0];return E.strict&&typeof N=="object"&&N!==null&&t0({rootDraft:D,value:N,useRawReturn:!0}),O([K])}if(N!==void 0)return typeof N=="object"&&N!==null&&t0({rootDraft:D,value:N}),O([N])}if(N===C||N===void 0)return O([]);const k=Le(N);if(E===k.options){if(k.operated)throw new Error("Cannot return a modified child draft.");return O([ax(N)])}return O([N])};return P instanceof Promise?P.then(R,N=>{throw Xy(Le(C)),N}):R(P)},qd=xB();Object.prototype.constructor.toString();function iI(e,t){const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&Object.keys(e).every(i=>t.hasOwnProperty(i))}function ox(e,t){return Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(n=>t.hasOwnProperty(n)&&e[n]===t[n])}function Ad(e,t){return typeof e!="object"||typeof t!="object"||e===null||t===null?e===t:iI(e,t)?Object.keys(e).every(n=>Ad(e[n],t[n])):!1}function Vb(e){if(!Cu(e))return e;const t={};for(const[n,r]of Object.entries(e))r!==void 0&&(t[n]=r);return t}function aI(e,t){if(!Cu(e)||!Cu(t))return t;const n=Object.assign({},e);for(const r of Object.keys(t)){if(t[r]===void 0)continue;if(t[r]===null){delete n[r];continue}const i=Cu(e[r])&&Cu(t[r]);n[r]=i?aI(e[r],t[r]):t[r]}return n}function Cu(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function CB(e,t,n){if(!e||t.length===0)return;let r=e||{};for(let a=0;a<t.length-1;a++){const l=t[a];(!(l in r)||typeof r[l]!="object")&&(r[l]=typeof t[a+1]=="number"?[]:{}),r=r[l]}const i=t[t.length-1];Array.isArray(r)&&typeof i=="number"?r.splice(i,0,n):r[i]=n}function sx(e,t,n){if(!e||t.length===0)return;let r=e||{};for(let i=0;i<t.length-1;i++){const a=t[i];(!(a in r)||typeof r[a]!="object")&&(r[a]=typeof t[i+1]=="number"?[]:{}),r=r[a]}r[t[t.length-1]]=n}function oI(e,t){if(!e||t.length===0)return;const[n,...r]=t;if(n in e){if(r.length===0){Array.isArray(e)?e.splice(n,1):delete e[n];return}oI(e[n],r),MB(e[n])&&delete e[n]}}function MB(e){return e&&Object.keys(e).length===0}const lx=/ZULU|YEKT|YEKST|YAPT|YAKT|YAKST|XJT|WGT|WGST|WFT|WETDST|WET|WDT|WAT|WAST|WAKT|WADT|VUT|VOLT|VLAT|VLAST|VET|UZT|UZST|UYT|UYST|UTC|UT|ULAT|ULAST|UCT|TVT|TRUT|TOT|TMT|TKT|TJT|TFT|TAHT|SGT|SCT|SAST|SADT|RET|PYT|PYST|PWT|PST|PONT|PMST|PMDT|PKT|PKST|PHT|PGT|PETT|PETST|PET|PDT|OMST|OMSST|NZT|NZST|NZDT|NUT|NST|NPT|NOVT|NOVST|NFT|NDT|MYT|MVT|MUT|MUST|MST|MSK|MSD|MPT|MMT|MHT|MEZ|METDST|MET|MESZ|MEST|MDT|MAWT|MART|MAGT|MAGST|LKT|LINT|LIGT|LHST|LHDT|KST|KRAT|KRAST|KOST|KGT|KGST|KDT|JST|JAYT|IST|IRT|IRKT|IRKST|IOT|IDT|ICT|HST|HKT|GYT|GMT|GILT|GFT|GET|GEST|GAMT|GALT|FNT|FNST|FKT|FKST|FJT|FJST|FET|EST|EGT|EGST|EETDST|EET|EEST|EDT|EAT|EAST|EASST|DDUT|DAVT|CXT|CST|COT|CLT|CLST|CKT|CHUT|CHAST|CHADT|CETDST|CET|CEST|CDT|CCT|CAST|CADT|BTT|BST|BRT|BRST|BRA|BOT|BORT|BNT|BDT|BDST|AZT|AZST|AZOT|AZOST|AWST|AWSST|AST|ART|ARST|ANAT|ANAST|AMT|AMST|ALMT|ALMST|AKST|AKDT|AFT|AEST|AESST|AEDT|ADT|ACWST|ACT|ACST|ACSST|ACDT$/,PB={ZULU:0,YEKT:18e3,YEKST:21600,YAPT:36e3,YAKT:32400,YAKST:32400,XJT:21600,WGT:-10800,WGST:-7200,WFT:43200,WETDST:3600,WET:0,WDT:32400,WAT:3600,WAST:25200,WAKT:43200,WADT:28800,VUT:39600,VOLT:10800,VLAT:36e3,VLAST:36e3,VET:-14400,UZT:18e3,UZST:21600,UYT:-10800,UYST:-7200,UTC:0,UT:0,ULAT:28800,ULAST:32400,UCT:0,TVT:43200,TRUT:36e3,TOT:46800,TMT:18e3,TKT:46800,TJT:18e3,TFT:18e3,TAHT:-36e3,SGT:28800,SCT:14400,SAST:7200,SADT:37800,RET:14400,PYT:-14400,PYST:-10800,PWT:32400,PST:-28800,PONT:39600,PMST:-10800,PMDT:-7200,PKT:18e3,PKST:21600,PHT:28800,PGT:36e3,PETT:43200,PETST:43200,PET:-18e3,PDT:-25200,OMST:21600,OMSST:21600,NZT:43200,NZST:43200,NZDT:46800,NUT:-39600,NST:-12600,NPT:20700,NOVT:25200,NOVST:25200,NFT:-12600,NDT:-9e3,MYT:28800,MVT:18e3,MUT:14400,MUST:18e3,MST:-25200,MSK:10800,MSD:14400,MPT:36e3,MMT:23400,MHT:43200,MEZ:3600,METDST:7200,MET:3600,MESZ:7200,MEST:7200,MDT:-21600,MAWT:18e3,MART:-34200,MAGT:39600,MAGST:39600,LKT:19800,LINT:50400,LIGT:36e3,LHST:37800,LHDT:37800,KST:32400,KRAT:25200,KRAST:25200,KOST:39600,KGT:21600,KGST:21600,KDT:36e3,JST:32400,JAYT:32400,IST:7200,IRT:12600,IRKT:28800,IRKST:28800,IOT:21600,IDT:10800,ICT:25200,HST:-36e3,HKT:28800,GYT:-14400,GMT:0,GILT:43200,GFT:-10800,GET:14400,GEST:14400,GAMT:-32400,GALT:-21600,FNT:-7200,FNST:-3600,FKT:-10800,FKST:-10800,FJT:43200,FJST:46800,FET:10800,EST:-18e3,EGT:-3600,EGST:0,EETDST:10800,EET:7200,EEST:10800,EDT:-14400,EAT:10800,EAST:-21600,EASST:-21600,DDUT:36e3,DAVT:25200,CXT:25200,CST:-21600,COT:-18e3,CLT:-14400,CLST:-10800,CKT:-36e3,CHUT:36e3,CHAST:45900,CHADT:49500,CETDST:7200,CET:3600,CEST:7200,CDT:-18e3,CCT:28800,CAST:34200,CADT:37800,BTT:21600,BST:3600,BRT:-10800,BRST:-7200,BRA:-10800,BOT:-14400,BORT:28800,BNT:28800,BDT:21600,BDST:7200,AZT:14400,AZST:14400,AZOT:-3600,AZOST:0,AWST:28800,AWSST:32400,AST:-14400,ART:-10800,ARST:-10800,ANAT:43200,ANAST:43200,AMT:-14400,AMST:14400,ALMT:21600,ALMST:25200,AKST:-32400,AKDT:-28800,AFT:16200,AEST:36e3,AESST:39600,AEDT:39600,ADT:-10800,ACWST:31500,ACT:-18e3,ACST:34200,ACSST:37800,ACDT:37800};function OB(e){return new Date(e)}function NB(e){return new Date(e+"Z")}const IB=/^(\d+)[\./-](\d+)[\./-](\d+)$/;function DB(e){const t=e.match(IB);if(!t)return null;const[n,r,i,a]=t;return r<=0||i<=0||a<=0?null:r>999?new Date(Date.UTC(r,i-1,a,0,0,0,0)):new Date(Date.UTC(a,r-1,i,0,0,0,0))}function RB(e){const[t,n]=e.split(" ");return new Date(t+"T"+n+"Z")}function kB(e){const[t,n]=e.split(" ");return new Date(t+"T"+n+"Z")}function LB(e){return new Date(e)}function UB(e){const t=/^(\w{3}) (\w{3}) (\d{2}) (\d{4})$/;if(!e.match(t))throw new Error(`Unable to parse \`${e}\` as a date.`);const r=new Date(e+" UTC");return new Date(Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),0,0,0,0))}function qB(e){const t=/^(.+T.+)([+-])(\d{2})$/,n=e.match(t);if(n){const[,r,i,a]=n,l=`${r}${i}${a}:00`;return new Date(l)}return null}function zB(e){const[t,n]=e.split(", "),[r,i,a]=t.split("/").map(Number),l=n.match(/(\d{1,2}):(\d{2}):(\d{2}) (AM|PM)/);if(!l)throw new Error(`Unable to parse time from: ${e}`);let[,u,c,d,h]=l;return u=Number(u),c=Number(c),d=Number(d),h==="PM"&&u!==12?u+=12:h==="AM"&&u===12&&(u=0),new Date(Date.UTC(a,r-1,i,u,c,d))}function jB(e){switch(e){case"epoch":return new Date(0);case"infinity":case"-infinity":case"today":case"tomorrow":case"yesterday":return null}}function BB(e){const t=e.match(lx);if(!t)return null;const[n]=t,r=PB[n],i=new Date(e.replace(lx,"Z"));return new Date(i.getTime()-r*1e3)}const $B=[DB,kB,UB,zB,LB,NB,qB,RB,OB,jB,BB];function FB(e,t){try{const n=e(t);return n instanceof Date&&!isNaN(n.getTime())?n:null}catch{return null}}function n0(e){for(const t of $B){const n=FB(t,e);if(n)return n}return null}function HB(e){try{const t=JSON.parse(e);return typeof t=="string"?n0(t):null}catch{return null}}function Fh(e){if(e!==void 0){if(e===null)return null;if(e instanceof Date)return e;if(typeof e=="string"){const t=n0(e)||HB(e)||n0(e.trim());if(!t)throw new Error(`Unable to parse \`${e}\` as a date.`);return t}else if(typeof e=="number")return new Date(e);throw new Error(`Invalid date value \`${e}\`. Expected a date, number, or string, got type ${typeof e}.`)}}function GB(e){return e.cardinality==="one"}function Kb(e){return e["value-type"]==="ref"}function Yb(e){return e["value-type"]==="blob"}function ol(e,t){return e[t]}function sl(e,t){return t.reduce((n,r)=>n&&n.get(r),e)}function Or(e,t){if(t.length===0)throw new Error("path must have at least one element");if(t.length===1){e.delete(t[0]);return}const[n,...r]=t;e.has(n)&&Or(e.get(n),r)}function kn(e,t,n){if(t.length===0)throw new Error("path must have at least one element");if(t.length===1){e.set(t[0],n);return}const[r,...i]=t;let a=e.get(r);a||(a=new Map,e.set(r,a)),kn(a,i,n)}function sI(e,t,n){const r=new Map,i=new Map,a=new Map;for(const l of t){let[u,c,d,h]=l;const m=ol(e,c);if(!m){console.warn("no such attr",u,e);continue}m["checked-data-type"]==="date"&&n&&(d=Fh(d),l[2]=d),Kb(m)&&kn(a,[d,c,u],l),kn(r,[u,c,d],l),kn(i,[c,u,d],l)}return{eav:r,aev:i,vae:a}}function lI(e){const t=new Map,n=new Map,r=new Map,i=new Map;for(const a of Object.values(e)){const l=a["forward-identity"],[u,c,d]=l,h=a["reverse-identity"];if(kn(r,[c,d],a),Yb(a)&&kn(t,[c,d],a),a["primary?"]&&kn(n,[c],a),h){const[m,g,_]=h;kn(i,[g,_],a)}}return{blobAttrs:t,primaryKeys:n,forwardIdents:r,revIdents:i}}function uI(e){return{__type:e.__type,attrs:e.attrs,triples:Un(e.eav,3),cardinalityInference:e.cardinalityInference,linkIndex:e.linkIndex,useDateObjects:e.useDateObjects}}function cI(e){return xd(e.attrs,e.triples,e.cardinalityInference,e.linkIndex,e.useDateObjects)}function VB(e,t){return sl(e.eav,[t])!==void 0}function Wb(e){e.attrIndexes=lI(e.attrs)}function xd(e,t,n,r,i){const a=sI(e,t,i);return a.useDateObjects=i,a.attrs=e,a.attrIndexes=lI(e),a.cardinalityInference=n,a.linkIndex=r,a.__type="store",a}function fc(e,t){var n,r;let i;if(Array.isArray(t[0])){const[l,u]=t[0],c=e.aev.get(l);if(!c)return null;i=(n=Un(c,2).find(h=>h[2]===u))===null||n===void 0?void 0:n[0]}else i=t[0];if(!i)return null;const a=t[2];if(Array.isArray(a)&&a.length===2&&e.aev.get(a[0])){const[l,u]=a,c=e.aev.get(l);if(!c)return null;const h=(r=Un(c,2).find(w=>w[2]===u))===null||r===void 0?void 0:r[0];if(!h)return null;const[m,g,_,...T]=t;return[i,g,h,...T]}else{const[l,...u]=t;return[i,...u]}}function fI(e,t){const n=fc(e,t);if(!n)return;const[r,i,a]=n,l=ol(e.attrs,i);l&&(Or(e.eav,[r,i,a]),Or(e.aev,[i,r,a]),Kb(l)&&Or(e.vae,[a,i,r]))}let KB=0;function dI(e,t,n){const[r,i,a]=n;let l;const u=sl(e.ea,[r,i,a]);return u&&(l=u[3]),l||Date.now()*10+KB++}function hI(e,t){var n;const r=fc(e,t);if(!r)return;let[i,a,l]=r;const u=ol(e.attrs,a);if(!u)return;u["checked-data-type"]==="date"&&e.useDateObjects&&(l=Fh(l));const c=sl(e.eav,[i,a,l]),d=(n=c?.[3])!==null&&n!==void 0?n:dI(e,u,r),h=[i,a,l,d];GB(u)?(kn(e.eav,[i,a],new Map([[l,h]])),kn(e.aev,[a,i],new Map([[l,h]]))):(kn(e.eav,[i,a,l],h),kn(e.aev,[a,i,l],h)),Kb(u)&&kn(e.vae,[l,a,i],h)}function YB(e,t){var n;const r=fc(e,t);if(!r)return;const[i,a,l]=r,u=ol(e.attrs,a);if(!u)return;if(!Yb(u))throw new Error("merge operation is not supported for links");const c=sl(e.eav,[i,a]);if(!c)return;const d=(n=c.values().next())===null||n===void 0?void 0:n.value;if(!d)return;const h=d[2],m=aI(h,l),g=[i,a,m,dI(e,u,d)];kn(e.eav,[i,a],new Map([[m,g]]))}function r0(e,t){var n,r;const[i,a]=t,l=fc(e,[i]);if(!l)return;const[u]=l,c=e.eav.get(u);if(c){for(const h of c.keys()){const m=e.attrs[h];m&&m["on-delete-reverse"]==="cascade"&&Un(c.get(h),1).forEach(([g,_,T])=>{var w;return r0(e,[T,(w=m["reverse-identity"])===null||w===void 0?void 0:w[1]])}),(!a||!m||((n=m["forward-identity"])===null||n===void 0?void 0:n[1])===a)&&(Or(e.aev,[h,u]),Or(e.eav,[u,h]))}c.size===0&&Or(e.eav,[u])}const d=e.vae.get(u)&&Un(e.vae.get(u),2);d&&d.forEach(h=>{var m,g,_;const[T,w,E]=h,C=e.attrs[w];(!a||!C||((m=C["reverse-identity"])===null||m===void 0?void 0:m[1])===a)&&(Or(e.eav,[T,w,E]),Or(e.aev,[w,T,E]),Or(e.vae,[E,w,T])),C&&C["on-delete"]==="cascade"&&((g=C["reverse-identity"])===null||g===void 0?void 0:g[1])===a&&r0(e,[T,(_=C["forward-identity"])===null||_===void 0?void 0:_[1]])}),((r=e.vae.get(u))===null||r===void 0?void 0:r.size)===0&&Or(e.vae,[u])}function pI(e,t){const n=sI(e.attrs,t,e.useDateObjects);Object.keys(n).forEach(r=>{e[r]=n[r]})}function WB(e,[t]){e.attrs[t.id]=t,Wb(e)}function mI(e){return Un(e.eav,3)}function JB(e,[t]){if(!e.attrs[t])return;const n=mI(e).filter(([r,i])=>i!==t);delete e.attrs[t],Wb(e),pI(e,n)}function XB(e,[t]){const n=e.attrs[t.id];n&&(e.attrs[t.id]=Object.assign(Object.assign({},n),t),Wb(e),pI(e,mI(e)))}function QB(e,t){const[n,...r]=t;switch(n){case"add-triple":hI(e,r);break;case"deep-merge-triple":YB(e,r);break;case"retract-triple":fI(e,r);break;case"delete-entity":r0(e,r);break;case"add-attr":WB(e,r);break;case"delete-attr":JB(e,r);break;case"update-attr":XB(e,r);break;case"restore-attr":break;case"rule-params":break;default:throw new Error(`unhandled transaction action: ${n}`)}}function Un(e,t,n=[]){if(!e||t===0)return n;if(t===1){for(const r of e.values())n.push(r);return n}for(const r of e.values())Un(r,t-1,n);return n}function ed(e,t,n){var r,i;const a=[];if(n?.hasOwnProperty("$not")){for(const u of t.keys())n.$not!==u&&a.push(t.get(u));return a}if(n?.hasOwnProperty("$isNull")){const{attrId:u,isNull:c,reverse:d}=n.$isNull;if(d)for(const h of t.keys()){const m=e.vae.get(h),g=!m||((r=m.get(u))===null||r===void 0?void 0:r.get(null))||!m.get(u);(c?g:!g)&&a.push(t.get(h))}else{const h=e.aev.get(u);for(const m of t.keys()){const g=!h||((i=h.get(m))===null||i===void 0?void 0:i.get(null))||!h.get(m);(c?g:!g)&&a.push(t.get(m))}}return a}if(n?.$comparator)return Un(t,1).filter(n.$op);const l=n.in||n.$in||[n];for(const u of l){const c=t.get(u);c&&a.push(c)}return a}function ZB(e,t,n){let r="";return e!==void 0&&(r+="e"),t!==void 0&&(r+="a"),n!==void 0&&(r+="v"),r}function e3(e,[t,n,r]){var i,a;switch(ZB(t,n,r)){case"e":{const u=e.eav.get(t);return Un(u,2)}case"ea":{const u=(i=e.eav.get(t))===null||i===void 0?void 0:i.get(n);return Un(u,1)}case"eav":{const u=(a=e.eav.get(t))===null||a===void 0?void 0:a.get(n);return u?ed(e,u,r):[]}case"ev":{const u=e.eav.get(t);if(!u)return[];const c=[];for(const d of u.values())c.push(...ed(e,d,r));return c}case"a":{const u=e.aev.get(n);return Un(u,2)}case"av":{const u=e.aev.get(n);if(!u)return[];const c=[];for(const d of u.values())c.push(...ed(e,d,r));return c}case"v":{const u=[];for(const c of e.eav.values())for(const d of c.values())u.push(...ed(e,d,r));return u}default:return Un(e.eav,3)}}function t3(e,t,n){var r;const i={};for(const[a,l]of t.entries()){const u=(r=e.eav.get(n))===null||r===void 0?void 0:r.get(l.id),c=Un(u,1);for(const d of c)i[a]=d[2]}return i}function La(e,t,n){var r;return(r=e.attrIndexes.forwardIdents.get(t))===null||r===void 0?void 0:r.get(n)}function vI(e,t,n){var r;return(r=e.attrIndexes.revIdents.get(t))===null||r===void 0?void 0:r.get(n)}function n3(e,t){return e.attrIndexes.blobAttrs.get(t)}function gI(e,t){var n;const r=e.attrIndexes.primaryKeys.get(t);return r||((n=e.attrIndexes.forwardIdents.get(t))===null||n===void 0?void 0:n.get("id"))}function r3(e,t){const n=fc(e,t);if(!n)return;const[r,i,a]=n;if(ol(e.attrs,i))return sl(e.eav,[r,i])}function i3(e,t){const n=t.filter(([r,i,a,l,u])=>{if(r!=="add-triple"&&r!=="deep-merge-triple")return!0;const c=u?.mode;if(c!=="create"&&c!=="update")return!0;let d=!1;const h=ol(e.attrs,a);if(h){const m=gI(e,h["forward-identity"][1]);d=!!r3(e,[i,m.id,i])}return!(c==="create"&&d||c==="update"&&!d)});return qd(e,r=>{n.forEach(i=>{QB(r,i)})})}function a3(e){return typeof e=="string"&&e.startsWith("?")}function o3(e,t,n){if(n.hasOwnProperty(e)){const r=n[e];return yI(r,t,n)}return Object.assign(Object.assign({},n),{[e]:t})}function ux(e,t,n){return e===t?n:null}function s3(e){switch(typeof e){case"string":return e.startsWith("?")?o3:ux;default:return ux}}const l3=["in","$in","$not","$isNull","$comparator"];function u3(e){for(const t of l3)if(e.hasOwnProperty(t))return!0;return!1}function yI(e,t,n){return n?typeof e=="object"?u3(e)?n:null:s3(e)(e,t,n):null}function c3(e,t,n){return e.reduce((r,i,a)=>{const l=t[a];return yI(i,l,r)},n)}function f3(e,t,n){return p3(e,t,n).map(r=>c3(t,r,n)).filter(r=>r)}function d3(e,t,n){return t.or?t.or.patterns.flatMap(r=>i0(e,r,n)):t.and?t.and.patterns.reduce((r,i)=>i0(e,i,r),n):n.flatMap(r=>f3(e,t,r))}function i0(e,t,n=[{}]){return t.reduce((r,i)=>d3(e,i,r),n)}function Jb(e,t){return Array.isArray(t)?t.map(n=>Jb(e,n)):a3(t)?e[t]:t}function h3(e,{find:t,where:n}){return i0(e,n).map(i=>Jb(i,t))}function p3(e,t,n){return e3(e,Jb(n,t))}const m3=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function Vs(e){return typeof e=="string"&&m3.test(e)}const tn=[];for(let e=0;e<256;++e)tn.push((e+256).toString(16).slice(1));function v3(e,t=0){return(tn[e[t+0]]+tn[e[t+1]]+tn[e[t+2]]+tn[e[t+3]]+"-"+tn[e[t+4]]+tn[e[t+5]]+"-"+tn[e[t+6]]+tn[e[t+7]]+"-"+tn[e[t+8]]+tn[e[t+9]]+"-"+tn[e[t+10]]+tn[e[t+11]]+tn[e[t+12]]+tn[e[t+13]]+tn[e[t+14]]+tn[e[t+15]]).toLowerCase()}let lg;const g3=new Uint8Array(16);function y3(){if(!lg){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");lg=crypto.getRandomValues.bind(crypto)}return lg(g3)}const b3=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),cx={randomUUID:b3};function _3(e,t,n){if(cx.randomUUID&&!e)return cx.randomUUID();e=e||{};const r=e.random??e.rng?.()??y3();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,v3(r)}function fx(e){const t=e.replace(/-/g,""),n=[];for(let r=0;r<t.length;r+=2)n.push(parseInt(t.substring(r,r+2),16));return n}function S3(e,t){for(let n=0;n<e.length;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0}function T3(e,t){return S3(fx(e),fx(t))}function Vt(){return _3()}function E3(e,t){return e.localeCompare(t)}function w3(){let e=E3;if(typeof Intl=="object"&&Intl.hasOwnProperty("Collator"))try{e=Intl.Collator("en-US").compare}catch{}return e}const A3=w3();let x3=0;function Ru(e){return Hh(`_${e}`,x3++)}function Hh(e,t){return`?${e}-${t}`}class Ks extends Error{constructor(t){super(t),this.name="AttrNotFoundError"}}function C3(e,t){const n=gI(e,t);if(!n)throw new Ks(`Could not find id attr for ${t}`);return n}function dx(e,t,n,r){return[M3(e,t,n,r)]}function M3(e,t,n,r){return[e(n,r),C3(t,n).id,e(n,r),e("time",r)]}function P3(e,t,n){return e.map(r=>r===t?n:r)}function bI(e,t,n,r,i){const a=La(t,n,i),l=vI(t,n,i),u=a||l;if(!u)throw new Ks(`Could not find attr for ${[n,i]}`);if(u["value-type"]!=="ref")throw new Error(`Attr ${u.id} is not a ref`);const[c,d]=u["forward-identity"],[h,m]=u["reverse-identity"],g=r+1,_=a?[e(d,r),u.id,e(m,g),Ru("time")]:[e(d,g),u.id,e(m,r),Ru("time")];return[a?m:d,g,_,u,!!a]}function hx(e,t){if(typeof t!="string")return function(l){return!1};const r=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/%/g,".*").replace(/_/g,"."),i=new RegExp(`^${r}$`,e?void 0:"i");return function(l){return typeof l!="string"?!1:i.test(l)}}function O3(e,t){if(typeof t!="object"||t.hasOwnProperty("$in")||t.hasOwnProperty("in"))return t;const n=e["checked-data-type"]==="date";if(t.hasOwnProperty("$gt"))return{$comparator:!0,$op:n?function(i){return new Date(i[2])>new Date(t.$gt)}:function(i){return i[2]>t.$gt}};if(t.hasOwnProperty("$gte"))return{$comparator:!0,$op:n?function(i){return new Date(i[2])>=new Date(t.$gte)}:function(i){return i[2]>=t.$gte}};if(t.hasOwnProperty("$lt"))return{$comparator:!0,$op:n?function(i){return new Date(i[2])<new Date(t.$lt)}:function(i){return i[2]<t.$lt}};if(t.hasOwnProperty("$lte"))return{$comparator:!0,$op:n?function(i){return new Date(i[2])<=new Date(t.$lte)}:function(i){return i[2]<=t.$lte}};if(t.hasOwnProperty("$like")){const r=hx(!0,t.$like);return{$comparator:!0,$op:function(a){return r(a[2])}}}if(t.hasOwnProperty("$ilike")){const r=hx(!1,t.$ilike);return{$comparator:!0,$op:function(a){return r(a[2])}}}return t}function N3(e,t,n,r,i,a){const l=La(t,n,i),u=vI(t,n,i),c=l||u;if(!c)throw new Ks(`No attr for etype = ${n} label = ${i}`);if(a?.hasOwnProperty("$isNull")){const d=La(t,n,"id");if(!d)throw new Ks(`No attr for etype = ${n} label = id`);return[e(n,r),d.id,{$isNull:{attrId:c.id,isNull:a.$isNull,reverse:!l}},Ru("time")]}return l?[e(n,r),c.id,O3(c,a),Ru("time")]:[a,c.id,e(n,r),Ru("time")]}function I3(e,t,n,r,i){const[a,l,u]=i.reduce((c,d)=>{const[h,m,g]=c,[_,T,w]=bI(e,t,h,m,d);return[_,T,[...g,w]]},[n,r,[]]);return[a,l,u]}function a0(e,t,n,r,i,a){const l=i.slice(0,i.length-1),u=i[i.length-1],[c,d,h]=I3(e,t,n,r,l),m=N3(e,t,c,d,u,a);return h.concat([m])}function D3(e,t){return t?[t].concat(e):e}function R3([e,t]){return e==="or"&&Array.isArray(t)}function k3([e,t]){return e==="and"&&Array.isArray(t)}function L3(e,t,n){return(r,i)=>{const a=e(r,i);return t==a?a:`${a}-${n}`}}function px(e,t,n,r,i,a){const l=e(r,i),u=a.map((c,d)=>{const h=L3(e,l,d);return _I(h,n,r,i,c)});return{[t]:{patterns:u,joinSym:l}}}function U3(e){const t=[];for(let n=1;n<=e.length;n++)t.push(e.slice(0,n));return t}function mx(e,t,n,r,i){return U3(i).map(a=>a0(e,t,n,r,a,{$isNull:!0}))}function _I(e,t,n,r,i){return Object.entries(i).flatMap(([a,l])=>{if(R3([a,l]))return px(e,"or",t,n,r,l);if(k3([a,l]))return px(e,"and",t,n,r,l);if(a==="$entityIdStartsWith")return[];const u=a.split(".");if(l?.hasOwnProperty("$ne")&&(l=Object.assign(Object.assign({},l),{$not:l.$ne}),delete l.$ne),l?.hasOwnProperty("$not")){const c=a0(e,t,n,r,u,l),d=mx(e,t,n,r,u);return[{or:{patterns:[c,...d],joinSym:e(n,r)}}]}return l?.hasOwnProperty("$isNull")&&l.$isNull===!0&&u.length>1?[{or:{patterns:mx(e,t,n,r,u),joinSym:e(n,r)}}]:a0(e,t,n,r,u,l)})}function q3(e,t,n,r){const i=Hh;return r?_I(i,e,t,n,r).concat(dx(i,e,t,n)):dx(i,e,t,n)}function z3(e,t,n){return[e(t,n),e("time",n)]}function j3(e,t,n,r,i,a){const[l,u,c,d,h]=bI(e,t,n,r,i),m=P3(c,e(n,r),a);return[l,u,m,d,h]}function B3(e,t,{etype:n,level:r,form:i},a){const l=Object.keys(i).filter(u=>u!=="$");return l.length?Object.entries(a).map(function([c,d]){return l.map(function(g){var _,T,w;const E=!!(t.cardinalityInference&&(!((w=(T=(_=t.linkIndex)===null||_===void 0?void 0:_[n])===null||T===void 0?void 0:T[g])===null||w===void 0)&&w.isSingular));try{const[C,O,P]=j3(e,t,n,r,g,c),R=TI(t,{etype:C,level:O,form:i[g],join:P}),N=E?R[0]:R;return{[g]:N}}catch(C){if(C instanceof Ks)return{[g]:E?void 0:[]};throw C}}).reduce(function(g,_){return Object.assign(Object.assign({},g),_)},d)}):Object.values(a)}function $3(e,t,n){return n==="string"?A3(e,t):e>t?1:-1}function Mu(e,t,n,r,i){return t===r||t==null&&r==null?T3(e,n):r==null?1:t==null?-1:$3(t,r,i)}function zd([e,t],[n,r],i){return Mu(e,t,n,r,i)}function o0(e){return e==null?e:new Date(e).getTime()}function F3(e,t,n,r){var i;const[a,l,u,c]=e,d=n==="desc"?1:-1;if(((i=t["forward-identity"])===null||i===void 0?void 0:i[2])==="id")return zd(r,[a,c],null)===d;const[h,m]=r,g=t["checked-data-type"],_=g==="date"?o0(m):m,T=g==="date"?o0(u):u;return zd([h,_],[a,T],g)===d}function H3(e,t){const n=t[1];return e.attrs[n]}function G3(e,t,n){const r=Object.keys(n)[0];return La(e,t,r)}function V3(e,t,n,r){if(n)return H3(e,n);if(r)return G3(e,t,r)}function K3(e,t,n){var r,i;if(!Array.isArray(n.fields))return n3(e,t);const a=new Map;for(const l of n.fields){const u=La(e,t,l),c=(r=u?.["forward-identity"])===null||r===void 0?void 0:r[2];c&&Yb(u)&&a.set(c,u)}if(!a.has("id")){const l=La(e,t,"id"),u=(i=l?.["forward-identity"])===null||i===void 0?void 0:i[2];u&&a.set(u,l)}return a}function Y3(e,{etype:t,pageInfo:n,dq:r,form:i}){var a,l;const u=(a=i?.$)===null||a===void 0?void 0:a.order,c=SI(i),d=W3(i);let h=h3(e,r);const m=n?.["start-cursor"],g=V3(e,t,m,u);if(g&&((l=g?.["forward-identity"])===null||l===void 0?void 0:l[2])!=="id"){const w=g["checked-data-type"]==="date",E=g.id;h=h.map(([C])=>{var O,P,R,N,D;let k=(D=(N=(R=(P=(O=e.eav.get(C))===null||O===void 0?void 0:O.get(E))===null||P===void 0?void 0:P.values())===null||R===void 0?void 0:R.next())===null||N===void 0?void 0:N.value)===null||D===void 0?void 0:D[2];return w&&(k=o0(k)),[C,k]})}h.sort(d==="asc"?function(E,C){return zd(E,C,g?.["checked-data-type"])}:function(E,C){return zd(C,E,g?.["checked-data-type"])});let _={};const T=K3(e,t,r);for(const w of h){const[E]=w;if(_[E]||!c&&m&&g&&F3(m,g,d,w))continue;const C=t3(e,T,E);C&&(_[E]=C)}return _}function W3(e){var t;const n=(t=e.$)===null||t===void 0?void 0:t.order;return n&&n[Object.keys(n)[0]]||"asc"}function SI(e){var t,n,r;const i=(t=e.$)===null||t===void 0?void 0:t.offset,a=(n=e.$)===null||n===void 0?void 0:n.before,l=(r=e.$)===null||r===void 0?void 0:r.after;return!i&&!a&&!l}function J3(e,{etype:t,level:n,form:r,join:i,pageInfo:a}){var l,u,c,d,h;if(!SI(r)&&(!a||!a["start-cursor"]))return[];const m=D3(q3(e,t,n,(l=r.$)===null||l===void 0?void 0:l.where),i),g=z3(Hh,t,n),_=(u=r.$)===null||u===void 0?void 0:u.fields,T=Y3(e,{etype:t,pageInfo:a,form:r,dq:{where:m,find:g,fields:_}}),w=((c=r.$)===null||c===void 0?void 0:c.limit)||((d=r.$)===null||d===void 0?void 0:d.first)||((h=r.$)===null||h===void 0?void 0:h.last);if(w!=null){n>0&&console.warn("WARNING: Limits in child queries are only run client-side. Data returned from the server will not have a limit.");const E=Object.entries(T);return E.length<=w?T:Object.fromEntries(E.slice(0,w))}return T}function X3(e,t){try{return J3(e,t)}catch(n){if(n instanceof Ks)return{};throw n}}function TI(e,t){const n=X3(e,t);return B3(Hh,e,t,n)}function Q3(e){const t={};for(const[n,r]of Object.entries(e))t[n]={startCursor:r["start-cursor"],endCursor:r["end-cursor"],hasNextPage:r["has-next-page?"],hasPreviousPage:r["has-previous-page?"]};return t}function EI({store:e,pageInfo:t,aggregate:n},r){const a={data:Object.keys(r).reduce(function(u,c){return n?.[c]||c==="$$ruleParams"||(u[c]=TI(e,{etype:c,form:r[c],level:0,pageInfo:t?.[c]})),u},{})};return t&&(a.pageInfo=Q3(t)),n&&(a.aggregate=n),a}function Z3(){const t={__etype:1,__ops:1,create:1,update:1,link:1,unlink:1,delete:1,merge:1,ruleParams:1};return new Set(Object.keys(t))}const e$=Z3();function s0(e,t,n){const r={__etype:e,__ops:n};return new Proxy(r,{get:(i,a)=>{if(a==="__ops")return n;if(a==="__etype")return e;if(e$.has(a))return(l,u)=>s0(e,t,[...n,u?[a,e,t,l,u]:[a,e,t,l]])}})}function jd(e){return e.startsWith("lookup__")}function wI(e){const[t,n,...r]=e.split("__");return[n,JSON.parse(r.join("__"))]}function t$(e){return new Proxy({__etype:e},{get(t,n){if(n==="__etype")return e;const r=n;return jd(r)?s0(e,wI(r),[]):s0(e,r,[])}})}function Xb(){return new Proxy({},{get(e,t){return t$(t)}})}Xb();function n$(e){return e.__ops}function r$(e,t){const{attrIdMap:n,refSwapAttrIds:r}=e,i=[];for(const l of t){const u=n[l];if(u)i.push(u);else if(Array.isArray(l)&&l.length==2&&n[l[0]]){const[c,d]=l;i.push([n[c],d])}else i.push(l)}const[a]=t;if((a==="add-triple"||a==="retract-triple")&&r.has(t[2])){const l=i[1];i[1]=i[3],i[3]=l}return i}function an(e,t,n){return Object.values(e).find(r=>{const[i,a,l]=r["forward-identity"];return a===t&&l===n})}function Ao(e,t,n){return Object.values(e).find(r=>{const i=r["reverse-identity"];if(!i)return!1;const[a,l,u]=i;return l===t&&u===n})}function i$(e){if(Array.isArray(e))return e;const t=Object.entries(e);if(t.length!==1)throw new Error("lookup must be an object with a single unique attr and value.");return t[0]}function l0(e,t,n){return n.indexOf(".")!==-1&&!an(e,t,n)}function u0(e){const[t,n,...r]=e.split(".");if(r.length>0||n!=="id")throw new Error(`${e} is not a valid lookup attribute.`);return t}function a$(e,t,n){if(!l0(e,t,n))return an(e,t,n);const r=u0(n),i=an(e,t,r)||Ao(e,t,r);if(i&&i["value-type"]!=="ref")throw new Error(`${n} does not reference a valid link attribute.`);return i}function c0(e){return typeof e=="string"&&!jd(e)?null:typeof e=="string"&&jd(e)?wI(e):i$(e)}function qn(e,t,n){const r=c0(n);if(r===null)return n;const[i,a]=r,l=a$(e,t,i);if(!l||!l["unique?"])throw new Error(`${i} is not a unique attribute.`);return[l.id,a]}function AI(e,t,n,r){const i=qn(e,t,n);return Array.isArray(i)?[["add-triple",i,an(e,t,"id").id,i]].concat(r):r}function o$({attrs:e},[t,n,r]){const i=Object.entries(r).flatMap(([a,l])=>{const u=Array.isArray(l)?l:[l],c=an(e,t,a),d=Ao(e,t,a);return u.map(h=>c?["add-triple",qn(e,t,n),c.id,qn(e,c["reverse-identity"][1],h)]:["add-triple",qn(e,d["forward-identity"][1],h),d.id,qn(e,t,n)])});return AI(e,t,n,i)}function s$({attrs:e},[t,n,r]){const i=Object.entries(r).flatMap(([a,l])=>{const u=Array.isArray(l)?l:[l],c=an(e,t,a),d=Ao(e,t,a);return u.map(h=>c?["retract-triple",qn(e,t,n),c.id,qn(e,c["reverse-identity"][1],h)]:["retract-triple",qn(e,d["forward-identity"][1],h),d.id,qn(e,t,n)])});return AI(e,t,n,i)}function l$(e,t,n){if(Array.isArray(n)){const[r,i]=n;for(const a of e||[]){const l=a?.aev.get(r);if(l){for(const[u,c,d]of Un(l,2))if(d===i)return!0}}}else for(const r of e||[]){const i=r?.eav.get(n);if(i){for(const a of i.keys())if(r.attrs[a]["forward-identity"][1]==t)return!0}}return!1}function xI({stores:e,attrs:t},[n,r,i,a]){return a?.upsert===!1?{mode:"update"}:a?.upsert===!0?null:l$(e,n,r)?{mode:"update"}:null}function u$(e,t){const{stores:n,attrs:r}=e,[i,a,l,u]=t,c=Vb(l),d=qn(r,i,a);return[["id",d]].concat(Object.entries(c)).map(([m,g])=>{const _=an(r,i,m);return _["checked-data-type"]==="date"&&e.useDateObjects&&(g=Fh(g)),["add-triple",d,_.id,g,{mode:"create"}]})}function c$(e,t){const{stores:n,attrs:r}=e,[i,a,l,u]=t,c=Vb(l),d=qn(r,i,a),h=xI(e,[i,d,l,u]);return[["id",d]].concat(Object.entries(c)).map(([g,_])=>{const T=an(r,i,g);return T["checked-data-type"]==="date"&&e.useDateObjects&&(_=Fh(_)),["add-triple",d,T.id,_,...h?[h]:[]]})}function f$({attrs:e},[t,n]){return[["delete-entity",qn(e,t,n),t]]}function d$(e,t){const{stores:n,attrs:r}=e,[i,a,l,u]=t,c=Vb(l),d=qn(r,i,a),h=xI(e,[i,d,l,u]),m=Object.entries(c).map(([_,T])=>{const w=an(r,i,_);return["deep-merge-triple",d,w.id,T,...h?[h]:[]]});return[["add-triple",d,an(r,i,"id").id,d,...h?[h]:[]]].concat(m)}function h$({attrs:e},[t,n,r]){return[["rule-params",qn(e,t,n),t,r]]}function p$(e){const[t,n,r,i,a]=e;if(!i)return e;const l=Object.assign({},i);return delete l.id,[t,n,r,l,...a?[a]:[]]}function m$(e,t){const[n,...r]=p$(t);switch(n){case"merge":return d$(e,r);case"create":return u$(e,r);case"update":return c$(e,r);case"link":return o$(e,r);case"unlink":return s$(e,r);case"delete":return f$(e,r);case"ruleParams":return h$(e,r);default:throw new Error(`unsupported action ${n}`)}}function v$(e){switch(e){case"string":case"date":case"boolean":case"number":return e;default:return}}function g$(e,t,n){var r,i;const a=(i=(r=e.entities[t])===null||r===void 0?void 0:r.attrs)===null||i===void 0?void 0:i[n];if(n==="id")return null;if(!a)throw new Error(`${t}.${n} does not exist in your schema`);const{unique:l,indexed:u}=a?.config,c=v$(a?.valueType);return{"index?":u,"unique?":l,"checked-data-type":c}}function td(e,t,n,r){const i=e?g$(e,t,n):null,a=Vt(),u=[Vt(),t,n];return Object.assign(Object.assign({id:a,"forward-identity":u,"value-type":"blob",cardinality:"one","unique?":!1,"index?":!1,isUnsynced:!0},i||{}),r||{})}function y$(e,t,n){return Object.values(e.links).find(i=>i.forward.on===t&&i.forward.label===n||i.reverse.on===t&&i.reverse.label===n)}function b$(e,t,n){const r=y$(e,t,n);if(!r)throw new Error(`Couldn't find the link ${t}.${n} in your schema`);const{forward:i,reverse:a}=r;return{"forward-identity":[Vt(),i.on,i.label],"reverse-identity":[Vt(),a.on,a.label],cardinality:i.has==="one"?"one":"many","unique?":a.has==="one","on-delete":i.onDelete,"on-delete-reverse":a.onDelete}}function vx(e,t,n,r){const i=e?b$(e,t,n):null,a=Vt(),l=[Vt(),t,n],u=[Vt(),n,t];return Object.assign(Object.assign({id:a,"forward-identity":l,"reverse-identity":u,"value-type":"ref",cardinality:"many","unique?":!1,"index?":!1,isUnsynced:!0},i||{}),r||{})}const _$=new Set(["create","update","merge","link","unlink"]),S$=new Set(["link","unlink"]),T$=new Set(["create","update","merge"]),E$=new Set(["link","unlink","create","update","merge","delete","ruleParams"]),f0={"unique?":!0,"index?":!0},w$=Object.assign(Object.assign({},f0),{cardinality:"one"});function A$(e){const t=[],[n,r,i,a]=e;if(!E$.has(n))return t;const l=c0(i);if(l&&t.push({etype:r,lookupPair:l}),n==="link")for(const[u,c]of Object.entries(a)){const d=Array.isArray(c)?c:[c];for(const h of d){const m=c0(h);m&&t.push({etype:r,lookupPair:m,linkLabel:u})}}return t}function x$({attrs:e,schema:t},n){var r,i;const[a,l,u]=[new Set,Object.assign({},e),[]];function c(m){l[m.id]=m,u.push(["add-attr",m]),a.add(m.id)}function d(m){m?.isUnsynced&&!a.has(m.id)&&(u.push(["add-attr",m]),a.add(m.id))}function h(m,g){const _=an(l,m,g),T=Ao(l,m,g);d(_),d(T),!_&&!T&&c(vx(t,m,g,w$))}for(const m of n)for(const{etype:g,lookupPair:_,linkLabel:T}of A$(m)){const w=_[0];if(T){h(g,T);const E=an(l,g,T),C=Ao(l,g,T);d(E),d(C);const O=((r=E?.["reverse-identity"])===null||r===void 0?void 0:r[1])||((i=C?.["forward-identity"])===null||i===void 0?void 0:i[1])||T;if(l0(l,O,w))h(O,u0(w));else{const P=an(l,O,w);P||c(td(t,O,w,f0)),d(P)}}else if(l0(l,g,w))h(g,u0(w));else{const E=an(l,g,w);E||c(td(t,g,w,f0)),d(E)}}for(const m of n){const[g,_,T,w]=m;if(_$.has(g)){const E=an(l,_,"id");d(E),E||c(td(t,_,"id",{"unique?":!0}));for(const C of Object.keys(w)){const O=an(l,_,C);if(d(O),T$.has(g)&&(O||c(td(t,_,C,C==="id"?{"unique?":!0}:null))),S$.has(g)){const P=Ao(l,_,C);!O&&!P&&c(vx(t,_,C)),d(P)}}}}return[l,u]}function C$(e,t){const r=(Array.isArray(t)?t:[t]).flatMap(c=>n$(c)),[i,a]=x$(e,r),l=Object.assign(Object.assign({},e),{attrs:i}),u=r.flatMap(c=>m$(l,c));return[...a,...u]}var Gr=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};function gx(e,t){typeof requestIdleCallback>"u"?e():requestIdleCallback(e,{timeout:t})}const ku="__meta";class M${constructor(t,n){}}class d0{constructor(t){var n,r;this._subs=[],this._nextSave=null,this._nextGc=null,this._pendingSaveKeys=new Set,this._loadedKeys=new Set,this._version=0,this._meta={isLoading:!0,onLoadCbs:[],value:null,error:null,attempts:0},this._persister=t.persister,this._merge=t.merge,this.serialize=t.serialize,this.parse=t.parse,this._objectSize=t.objectSize,this._log=t.logger,this._saveThrottleMs=(n=t.saveThrottleMs)!==null&&n!==void 0?n:100,this._idleCallbackMaxWaitMs=(r=t.idleCallbackMaxWaitMs)!==null&&r!==void 0?r:1e3,this._gcOpts=t.gc,this.currentValue={},this._loadedKeys=new Set,this._loadingKeys={},this._initMeta(),t.preloadEntryCount&&this._preloadEntries(t.preloadEntryCount)}_initMeta(){return Gr(this,void 0,void 0,function*(){var t,n,r;this._meta.loadingPromise&&(yield this._meta.loadingPromise);try{const i=this._persister.getItem(ku);this._meta.loadingPromise=i;const a=yield i;this._meta.isLoading=!1,this._meta.error=null,this._meta.loadingPromise=null,this._meta.attempts=0;const l=(n=(t=this._meta.value)===null||t===void 0?void 0:t.objects)!==null&&n!==void 0?n:{},u=a??{},c=(r=u.objects)!==null&&r!==void 0?r:{};this._meta.value=Object.assign(Object.assign({},u),{objects:Object.assign(Object.assign({},l),c)})}catch(i){this._meta.error=i,this._meta.attempts++,this._meta.loadingPromise=null}})}_getMeta(){return Gr(this,void 0,void 0,function*(){return this._meta.value?this._meta.value:this._meta.loadingPromise?(yield this._meta.loadingPromise,this._meta.value):(this._initMeta(),yield this._meta.loadingPromise,this._meta.value)})}_refreshMeta(){return Gr(this,void 0,void 0,function*(){return yield this._initMeta(),this._meta.value})}_preloadEntries(t){return Gr(this,void 0,void 0,function*(){const n=yield this.waitForMetaToLoad();if(!n)return;const r=Object.entries(n.objects);r.sort(([i,a],[l,u])=>u.updatedAt-a.updatedAt);for(const[i]of r.slice(0,t))this._loadKey(i)})}_getFromStorage(t){return Gr(this,void 0,void 0,function*(){try{const n=yield this._persister.getItem(t);return n&&this.parse(t,n)}catch(n){return console.error(`Unable to read from storage for key=${t}`,n),null}})}waitForKeyToLoad(t){return Gr(this,void 0,void 0,function*(){return this._loadedKeys.has(t)?this.currentValue[t]:(yield this._loadingKeys[t]||this._loadKey(t),this.currentValue[t])})}waitForMetaToLoad(){return Gr(this,void 0,void 0,function*(){return this._getMeta()})}unloadKey(t){this._loadedKeys.delete(t),delete this._loadingKeys[t],delete this.currentValue[t]}_loadKey(t){return Gr(this,void 0,void 0,function*(){if(this._loadedKeys.has(t)||t in this._loadingKeys)return;const n=this._getFromStorage(t);this._loadingKeys[t]=n;const r=yield n;if(delete this._loadingKeys[t],this._loadedKeys.add(t),r){const i=this._merge(t,r,this.currentValue[t]);i&&(this.currentValue[t]=i)}this.onKeyLoaded&&this.onKeyLoaded(t)})}_writeToStorage(t){var n,r;const i=[],a=t?.skipGc;if(this._meta.isLoading){const _=new Promise((T,w)=>{var E;setTimeout(()=>this._enqueuePersist(t?Object.assign(Object.assign({},t),{attempts:(t.attempts||0)+1}):{attempts:1}).then(T).catch(w),10+((E=t?.attempts)!==null&&E!==void 0?E:0)*1e3)});return i.push(_),Promise.all(i).then(T=>T.reduce((w,E)=>w+E,0))}const l=this._meta.value;if(!l)return Promise.resolve(0);const u=[],c=[];for(const _ of this._pendingSaveKeys)_ in this.currentValue?c.push(_):(u.push(_),delete l.objects[_]);for(const _ of u){const T=this._persister.removeItem(_);i.push(T.then(()=>1)),this._loadedKeys.delete(_),this._pendingSaveKeys.delete(_)}const d=[],h=[[ku,l]],m=(n=l.objects)!==null&&n!==void 0?n:{};l.objects=m;for(const _ of c)if(this._loadedKeys.has(_)){const T=this.serialize(_,this.currentValue[_]);h.push([_,T]);const w=this._objectSize(T),E=(r=m[_])!==null&&r!==void 0?r:{createdAt:Date.now(),updatedAt:Date.now(),size:w};E.updatedAt=Date.now(),E.size=w,m[_]=E,this._pendingSaveKeys.delete(_)}else d.push(_);const g=this._persister.multiSet(h);i.push(g.then(()=>1));for(const _ of d){const T=this._loadKey(_).then(()=>this._enqueuePersist(t));i.push(T)}return a||this.gc(),Promise.all(i).then(_=>_.reduce((T,w)=>T+w,0))}flush(){return Gr(this,void 0,void 0,function*(){return this._nextSave?(clearTimeout(this._nextSave),this._nextSave=null,this._writeToStorage()):void 0})}_gc(){return Gr(this,void 0,void 0,function*(){if(!this._gcOpts)return;const t=new Set(yield this._persister.getAllKeys());t.delete(ku);const n=new Set(Object.keys(this.currentValue));for(const g of Object.keys(this._loadingKeys))n.add(g);for(const g of this._loadedKeys)n.add(g);const r=yield this._refreshMeta();if(!r){this._log.info("Could not gc because we were not able to load meta");return}const i=[],a={gcOpts:this._gcOpts,keys:t,sacredKeys:n,removed:[],metaRemoved:[],removedMissingCount:0,removedOldCount:0,removedThresholdCount:0,removedSizeCount:0};for(const g of t)n.has(g)||g in r.objects||(this._log.info("Lost track of key in meta",g),i.push(this._persister.removeItem(g)),a.removed.push(g),a.removedMissingCount++);const l=Date.now();for(const[g,_]of Object.entries(r.objects))!n.has(g)&&_.updatedAt<l-this._gcOpts.maxAgeMs&&(i.push(this._persister.removeItem(g)),delete r.objects[g],a.removed.push(g),a.removedOldCount++);const u=Object.entries(r.objects);u.sort(([g,_],[T,w])=>_.updatedAt-w.updatedAt);const c=u.filter(([g])=>!n.has(g));if(u.length>this._gcOpts.maxEntries)for(const[g]of c.slice(0,u.length-this._gcOpts.maxEntries))i.push(this._persister.removeItem(g)),delete r.objects[g],a.removed.push(g),a.removedThresholdCount++;const d=Object.entries(r.objects);d.sort(([g,_],[T,w])=>_.updatedAt-w.updatedAt);const h=d.filter(([g])=>!n.has(g));let m=d.reduce((g,[_,T])=>g+T.size,0);for(;m>0&&m>this._gcOpts.maxSize&&h.length;){const[[g,_]]=h.splice(0,1);m-=_.size,i.push(this._persister.removeItem(g)),delete r.objects[g],a.removed.push(g),a.removedSizeCount++}for(const g of Object.keys(r.objects))!t.has(g)&&!n.has(g)&&delete r.objects[g];return(a.removed.length||a.metaRemoved.length)&&i.push(this._enqueuePersist({skipGc:!0})),this._log.info("Completed GC",a),yield Promise.all(i),a})}gc(){this._nextGc||(this._nextGc=setTimeout(()=>{gx(()=>{this._nextGc=null,this._gc()},30*1e3)},1e3*60+Math.random()*500))}_enqueuePersist(t){return new Promise((n,r)=>{if(this._nextSave){n(0);return}this._nextSave=setTimeout(()=>{gx(()=>{this._nextSave=null,this._writeToStorage(t).then(n).catch(r)},this._idleCallbackMaxWaitMs)},this._saveThrottleMs)})}version(){return this._version}updateInPlace(t){this._version++;const[n,r]=qd(this.currentValue,t,{enablePatches:!0});for(const i of r){const a=i.path[0];a&&typeof a=="string"&&(this._pendingSaveKeys.add(a),this._loadedKeys.has(a)||this._loadKey(a))}for(const i of Object.keys(n))if(!n[i])debugger;this.currentValue=n,this._enqueuePersist();for(const i of this._subs)i(this.currentValue);return n}subscribe(t){return this._subs.push(t),t(this.currentValue),()=>{this._subs=this._subs.filter(n=>n!==t)}}}var Pi=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};const P$=6,O$=["kv","querySubs","syncSubs"];function N$(e){return function(n){console.error("Error in IndexedDB event",{source:e,event:n})}}function I$(e){return Pi(this,void 0,void 0,function*(){return new Promise(t=>{const n=indexedDB.open(e);n.onerror=r=>{t(null)},n.onsuccess=r=>{const a=r.target.result;t(a)},n.onupgradeneeded=r=>{var i;(i=r.target.transaction)===null||i===void 0||i.abort(),t(null)}})})}function D$(e,t,n){return Pi(this,void 0,void 0,function*(){const r=typeof t=="string"?JSON.parse(t):t;if(!r)return;const i=new Set;return new Promise((a,l)=>{var u,c,d,h;const m={};for(const[T,w]of Object.entries(r)){const E=typeof w=="string"?JSON.parse(w):w;if(E.lastAccessed){const O={createdAt:E.lastAccessed,updatedAt:E.lastAccessed,size:(h=(d=(c=(u=E.result)===null||u===void 0?void 0:u.store)===null||c===void 0?void 0:c.triples)===null||d===void 0?void 0:d.length)!==null&&h!==void 0?h:0};m[T]=O}const C=n.put(E,T);i.add(C)}const g={objects:m},_=n.put(g,ku);i.add(_);for(const T of i)T.onsuccess=()=>{i.delete(T),i.size===0&&a()},T.onerror=w=>{l(w)}})})}function yx(e,t,n){return Pi(this,void 0,void 0,function*(){const r=n.put(t,e);return new Promise((i,a)=>{r.onsuccess=()=>i(),r.onerror=l=>a(l)})})}function R$(e,t){return Pi(this,void 0,void 0,function*(){const n=yield I$(`instant_${e}_5`);if(!n)return;const r=yield new Promise((h,m)=>{const T=n.transaction(["kv"],"readonly").objectStore("kv").openCursor();T.onerror=E=>{m(E)};const w=[];T.onsuccess=()=>{const E=T.result;if(E){const C=E.key,O=E.value;w.push([C,O]),E.continue()}else h(w)},T.onerror=E=>{m(E)}}),i=t.transaction(["kv","querySubs"],"readwrite"),a=i.objectStore("kv"),l=i.objectStore("querySubs"),u=[],c={objects:{}};for(const[h,m]of r)switch(h){case"querySubs":{const g=D$(h,m,l);u.push(g);break}default:{const g=yx(h,m,a);u.push(g);const _={createdAt:Date.now(),updatedAt:Date.now(),size:0};c.objects[h]=_;break}}const d=yx(ku,c,a);u.push(d),yield Promise.all(u),yield new Promise((h,m)=>{i.oncomplete=g=>h(g),i.onerror=g=>m(g),i.onabort=g=>m(g)})})}const bx=new Map;class CI extends M${constructor(t,n){super(t,n),this.dbName=`instant_${t}_${P$}`,this._storeName=n,this._appId=t,this._dbPromise=this._init()}_init(){return new Promise((t,n)=>{let r=!1;const i=indexedDB.open(this.dbName,1);i.onerror=a=>{n(a)},i.onsuccess=a=>{const u=a.target.result;if(r){const c=R$(this._appId,u).catch(d=>{N$("Error upgrading store from version 5 to 6.")(d)});bx.set(this.dbName,c),c.then(()=>t(u)).catch(()=>t(u))}else{const c=bx.get(this.dbName);c?c.then(()=>t(u)).catch(()=>t(u)):t(u)}},i.onupgradeneeded=a=>{r=!0,this._upgradeStore(a)}})}_upgradeStore(t){const r=t.target.result;for(const i of O$)r.objectStoreNames.contains(i)||r.createObjectStore(i)}getItem(t){return Pi(this,void 0,void 0,function*(){const n=yield this._dbPromise;return new Promise((r,i)=>{const u=n.transaction([this._storeName],"readonly").objectStore(this._storeName).get(t);u.onerror=c=>{i(c)},u.onsuccess=c=>{u.result?r(u.result):r(null)}})})}setItem(t,n){return Pi(this,void 0,void 0,function*(){const r=yield this._dbPromise;return new Promise((i,a)=>{const c=r.transaction([this._storeName],"readwrite").objectStore(this._storeName).put(n,t);c.onerror=d=>{a(d)},c.onsuccess=d=>{i()}})})}multiSet(t){return Pi(this,void 0,void 0,function*(){const n=yield this._dbPromise;return new Promise((r,i)=>{const a=n.transaction([this._storeName],"readwrite"),l=a.objectStore(this._storeName),u=new Set;for(const[c,d]of t){const h=l.put(d,c);u.add(h)}for(const c of u)c.onerror=d=>{a.abort(),i(d)},c.onsuccess=d=>{u.delete(c),u.size===0&&r()}})})}removeItem(t){return Pi(this,void 0,void 0,function*(){const n=yield this._dbPromise;return new Promise((r,i)=>{const u=n.transaction([this._storeName],"readwrite").objectStore(this._storeName).delete(t);u.onerror=c=>{i(c)},u.onsuccess=c=>{r()}})})}getAllKeys(){return Pi(this,void 0,void 0,function*(){const t=yield this._dbPromise;return new Promise((n,r)=>{const l=t.transaction([this._storeName],"readonly").objectStore(this._storeName).getAllKeys();l.onerror=u=>{r(u)},l.onsuccess=u=>{n(l.result.filter(c=>typeof c=="string"))}})})}}var k$=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};class MI{static getIsOnline(){return k$(this,void 0,void 0,function*(){return navigator.onLine})}static listen(t){const n=()=>{t(!0)},r=()=>{t(!1)};return addEventListener("online",n),addEventListener("offline",r),()=>{removeEventListener("online",n),removeEventListener("offline",r)}}}class Ys extends Error{constructor(t,n){super(t),this.hint=n;const r=new.target.prototype;Object.setPrototypeOf&&Object.setPrototypeOf(this,r),Error.captureStackTrace&&Error.captureStackTrace(this,Ys),this.name="InstantError"}get[Symbol.toStringTag](){return"InstantError"}}var L$=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};class Gh extends Ys{constructor(t){var n;const r=((n=t.body)===null||n===void 0?void 0:n.message)||`API Error (${t.status})`;super(r,t.body.hint);const i=new.target.prototype;Object.setPrototypeOf&&Object.setPrototypeOf(this,i),Error.captureStackTrace&&Error.captureStackTrace(this,Gh),this.name="InstantAPIError",this.status=t.status,this.body=t.body}get[Symbol.toStringTag](){return"InstantAPIError"}}function Lr(e,t){return L$(this,void 0,void 0,function*(){const n=yield fetch(e,t),r=yield n.json();return n.status===200?Promise.resolve(r):Promise.reject(new Gh({status:n.status,body:r}))})}var ll=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};function U$({apiURI:e,appId:t,email:n}){return Lr(`${e}/runtime/auth/send_magic_code`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({"app-id":t,email:n})})}function q$(e){return ll(this,arguments,void 0,function*({apiURI:t,appId:n,email:r,code:i,refreshToken:a}){return yield Lr(`${t}/runtime/auth/verify_magic_code`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(Object.assign({"app-id":n,email:r,code:i},a?{"refresh-token":a}:{}))})})}function z$(e){return ll(this,arguments,void 0,function*({apiURI:t,appId:n,refreshToken:r}){return yield Lr(`${t}/runtime/auth/verify_refresh_token`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({"app-id":n,"refresh-token":r})})})}function j$(e){return ll(this,arguments,void 0,function*({apiURI:t,appId:n}){return yield Lr(`${t}/runtime/auth/sign_in_guest`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({"app-id":n})})})}function _x(e){return ll(this,arguments,void 0,function*({apiURI:t,appId:n,code:r,codeVerifier:i,refreshToken:a}){return yield Lr(`${t}/runtime/oauth/token`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({app_id:n,code:r,code_verifier:i,refresh_token:a})})})}function B$(e){return ll(this,arguments,void 0,function*({apiURI:t,appId:n,nonce:r,idToken:i,clientName:a,refreshToken:l}){return yield Lr(`${t}/runtime/oauth/id_token`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({app_id:n,nonce:r,id_token:i,client_name:a,refresh_token:l})})})}function $$(e){return ll(this,arguments,void 0,function*({apiURI:t,appId:n,refreshToken:r}){return yield Lr(`${t}/runtime/signout`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({app_id:n,refresh_token:r})})})}var dc=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};function F$(e){return dc(this,arguments,void 0,function*({apiURI:t,appId:n,path:r,file:i,refreshToken:a,contentType:l,contentDisposition:u}){const c={app_id:n,path:r,authorization:`Bearer ${a}`,"content-type":l||i.type};return u&&(c["content-disposition"]=u),yield Lr(`${t}/storage/upload`,{method:"PUT",headers:c,body:i})})}function H$(e){return dc(this,arguments,void 0,function*({apiURI:t,appId:n,path:r,refreshToken:i}){const{data:a}=yield Lr(`${t}/storage/files?app_id=${n}&filename=${encodeURIComponent(r)}`,{method:"DELETE",headers:{"content-type":"application/json",authorization:`Bearer ${i}`}});return a})}function G$(e){return dc(this,arguments,void 0,function*({apiURI:t,appId:n,fileName:r,refreshToken:i,metadata:a={}}){const{data:l}=yield Lr(`${t}/storage/signed-upload-url`,{method:"POST",headers:{"content-type":"application/json",authorization:`Bearer ${i}`},body:JSON.stringify({app_id:n,filename:r})});return l})}function V$(e,t){return dc(this,void 0,void 0,function*(){return(yield fetch(e,{method:"PUT",body:t,headers:{"Content-Type":t.type}})).ok})}function K$(e){return dc(this,arguments,void 0,function*({apiURI:t,appId:n,path:r,refreshToken:i}){const{data:a}=yield Lr(`${t}/storage/signed-download-url?app_id=${n}&filename=${encodeURIComponent(r)}`,{method:"GET",headers:{"content-type":"application/json",authorization:`Bearer ${i}`}});return a})}let Qb=!1,PI=!1,OI=!1;typeof window<"u"&&typeof window.localStorage<"u"&&(Qb=!!window.localStorage.getItem("devBackend"),PI=!!window.localStorage.getItem("__instantLogging"),OI=!!window.localStorage.getItem("__devtoolLocalDash"));function Sx(e,t){if(!t)return e;const n={};return t.forEach(r=>{n[r]=e[r]}),n}function Y$(e,t,n){var r,i;const a={peers:{}};if(t&&"user"in t?t.user:!0){const u=Sx((r=e.user)!==null&&r!==void 0?r:{},t?.keys);a.user=Object.assign(Object.assign({},u),{peerId:n})}for(const u of Object.keys((i=e.peers)!==null&&i!==void 0?i:{})){const c=t?.peers===void 0,d=Array.isArray(t?.peers)&&t?.peers.includes(u);if(c||d){const h=Sx(e.peers[u],t?.keys);a.peers[u]=Object.assign(Object.assign({},h),{peerId:u})}}return a}function W$(e,t){if(e.isLoading!==t.isLoading||e.error!==t.error||(e.user||t.user)&&(!e.user||!t.user||!ox(e.user,t.user))||!iI(e.peers,t.peers))return!0;for(const r of Object.keys(e.peers))if(!ox(e.peers[r],t.peers[r]))return!0;return!1}class Tx{constructor(){this.promise=new Promise((t,n)=>{this._resolve=t,this._reject=n})}resolve(t){this._resolve(t)}reject(t){this._reject(t)}}function NI(e,t=[]){e.forEach(n=>{const{data:r}=n,{"datalog-result":i}=r,{"join-rows":a}=i;for(const l of a)for(const u of l)t.push(u);NI(n["child-nodes"],t)})}function Ex(e){const t=[];return NI(e,t),t}function wx(e){return Object.values(e.links).reduce((t,n)=>{var r,i,a,l;return(r=t[a=n.forward.on])!==null&&r!==void 0||(t[a]={}),t[n.forward.on][n.forward.label]={isForward:!0,isSingular:n.forward.has==="one",link:n},(i=t[l=n.reverse.on])!==null&&i!==void 0||(t[l]={}),t[n.reverse.on][n.reverse.label]={isForward:!1,isSingular:n.reverse.has==="one",link:n},t},{})}const Zb="v0.22.73";function J$(e,t){return{info:e?(...n)=>console.info(...n,t()):()=>{},debug:e?(...n)=>console.debug(...n,t()):()=>{},error:e?(...n)=>console.error(...n,t()):()=>{}}}class Ii{constructor(t,n,r,i={indexed:!1,unique:!1}){this.valueType=t,this.required=n,this.isIndexed=r,this.config=i,this.metadata={}}clientRequired(){return new Ii(this.valueType,!1,this.isIndexed,this.config)}optional(){return new Ii(this.valueType,!1,this.isIndexed,this.config)}unique(){return new Ii(this.valueType,this.required,this.isIndexed,Object.assign(Object.assign({},this.config),{unique:!0}))}indexed(){return new Ii(this.valueType,this.required,!0,Object.assign(Object.assign({},this.config),{indexed:!0}))}}class st extends Error{constructor(t,n){const r=n?`At path '${n}': ${t}`:t;super(r),this.name="QueryValidationError"}}const Ax=["where","order","limit","last","first","offset","after","before","fields","aggregate"],X$=e=>e.valueType||"unknown",II=(e,t,n=!1)=>{if(n||e==null)return!0;switch(t){case"string":return typeof e=="string";case"number":return typeof e=="number"&&!isNaN(e);case"boolean":return typeof e=="boolean";case"date":return e instanceof Date||typeof e=="string"||typeof e=="number";default:return!0}},Q$=(e,t,n,r,i,a,l)=>{const u=a.valueType==="json",c=(d,h,m)=>{if(!II(m,h,u))throw new st(`Invalid value for operator '${d}' on attribute '${r}' in entity '${i}'. Expected ${h}, but received: ${typeof m}`,l)};switch(e){case"in":case"$in":if(!Array.isArray(t))throw new st(`Operator '${e}' for attribute '${r}' in entity '${i}' must be an array, but received: ${typeof t}`,l);for(const d of t)c(e,n,d);break;case"$not":case"$ne":case"$gt":case"$lt":case"$gte":case"$lte":c(e,n,t);break;case"$like":case"$ilike":if(c(e,"string",t),e==="$ilike"&&!a.isIndexed)throw new st(`Operator '${e}' can only be used with indexed attributes, but '${r}' in entity '${i}' is not indexed`,l);break;case"$isNull":c(e,"boolean",t);break;default:throw new st(`Unknown operator '${e}' for attribute '${r}' in entity '${i}'`,l)}},zs=(e,t,n,r,i)=>{const a=X$(n),l=n.valueType==="json";if(typeof e=="object"&&e!==null&&!Array.isArray(e)){if(l)return;const c=e;for(const[d,h]of Object.entries(c))Q$(d,h,a,t,r,n,`${i}.${d}`)}else if(!II(e,a,l))throw new st(`Invalid value for attribute '${t}' in entity '${r}'. Expected ${a}, but received: ${typeof e}`,i)},Z$=(e,t,n,r,i)=>{const a=e.split(".");if(a.length<2)throw new st(`Invalid dot notation path '${e}'. Must contain at least one dot.`,i);let l=n;for(let h=0;h<a.length-1;h++){const m=a[h],g=r.entities[l];if(!g)throw new st(`Entity '${l}' does not exist in schema while traversing dot notation path '${e}'.`,i);const _=g.links[m];if(!_){const T=Object.keys(g.links);throw new st(`Link '${m}' does not exist on entity '${l}' in dot notation path '${e}'. Available links: ${T.length>0?T.join(", "):"none"}`,i)}l=_.entityName}const u=a[a.length-1],c=r.entities[l];if(!c)throw new st(`Target entity '${l}' does not exist in schema for dot notation path '${e}'.`,i);if(u==="id"){if(typeof t=="string"&&!Vs(t))throw new st(`Invalid value for id field in entity '${l}'. Expected a UUID, but received: ${t}`,i);zs(t,e,new Ii("string",!1,!0),n,i);return}const d=c.attrs[u];if(Object.keys(c.links).includes(u)){if(typeof t=="string"&&!Vs(t))throw new st(`Invalid value for link '${u}' in entity '${l}'. Expected a UUID, but received: ${t}`,i);zs(t,e,new Ii("string",!1,!0),n,i);return}if(!d){const h=Object.keys(c.attrs);throw new st(`Attribute '${u}' does not exist on entity '${l}' in dot notation path '${e}'. Available attributes: ${h.length>0?h.join(", ")+", id":"id"}`,i)}zs(t,e,d,n,i)},DI=(e,t,n,r)=>{for(const[i,a]of Object.entries(e)){if(i==="or"||i==="and"){if(Array.isArray(a))for(const d of a)typeof d=="object"&&d!==null&&DI(d,t,n,`${r}.${i}[${d}]`);continue}if(i==="id"){zs(a,"id",new Ii("string",!1,!0),t,`${r}.id`);continue}if(i.includes(".")){Z$(i,a,t,n,`${r}.${i}`);continue}const l=n.entities[t];if(!l)continue;const u=l.attrs[i],c=l.links[i];if(!u&&!c){const d=Object.keys(l.attrs),h=Object.keys(l.links);throw new st(`Attribute or link '${i}' does not exist on entity '${t}'. Available attributes: ${d.length>0?d.join(", "):"none"}. Available links: ${h.length>0?h.join(", "):"none"}`,`${r}.${i}`)}if(u)zs(a,i,u,t,`${r}.${i}`);else if(c){if(typeof a=="string"&&!Vs(a))throw new st(`Invalid value for link '${i}' in entity '${t}'. Expected a UUID, but received: ${a}`,`${r}.${i}`);const d=new Ii("string",!1,!0);zs(a,i,d,t,`${r}.${i}`)}}},eF=(e,t,n,r,i=0)=>{for(const l of Object.keys(e))if(!Ax.includes(l))throw new st(`Invalid query parameter '${l}' in $ object. Valid parameters are: ${Ax.join(", ")}. Found: ${l}`,r);const a=["offset","before","after","first","last"];for(const l of a)if(e[l]!==void 0&&i>0)throw new st(`'${l}' can only be used on top-level namespaces. It cannot be used in nested queries.`,r);if(e.where&&n){if(typeof e.where!="object"||e.where===null)throw new st(`'where' clause must be an object in entity '${t}', but received: ${typeof e.where}`,r?`${r}.where`:void 0);DI(e.where,t,n,r?`${r}.where`:"where")}},RI=(e,t,n,r,i=0)=>{var a;if(!e||typeof e!="object")throw new st(`Query part for entity '${t}' must be an object, but received: ${typeof e}`,r);for(const l of Object.keys(e))if(l!=="$"){if(n&&!(l in n.entities[t].links)){const c=Object.keys(n.entities[t].links);throw new st(`Link '${l}' does not exist on entity '${t}'. Available links: ${c.length>0?c.join(", "):"none"}`,`${r}.${l}`)}const u=e[l];if(typeof u=="object"&&u!==null){const c=(a=n?.entities[t].links[l])===null||a===void 0?void 0:a.entityName;c&&RI(u,c,n,`${r}.${l}`,i+1)}}else{const u=e[l];if(typeof u!="object"||u===null)throw new st(`Query parameter '$' must be an object in entity '${t}', but received: ${typeof u}`,`${r}.$`);eF(u,t,n,`${r}.$`,i)}},xx=(e,t)=>{if(typeof e!="object"||e===null)throw new st(`Query must be an object, but received: ${typeof e}${e===null?" (null)":""}`);if(Array.isArray(e))throw new st(`Query must be an object, but received: ${typeof e}`);const n=e;for(const r of Object.keys(n)){if(Array.isArray(e[r]))throw new st(`Query keys must be strings, but found key of type: ${typeof r}`,r);if(typeof r!="string")throw new st(`Query keys must be strings, but found key of type: ${typeof r}`,r);if(r!=="$$ruleParams"){if(t&&!t.entities[r]){const i=Object.keys(t.entities);throw new st(`Entity '${r}' does not exist in schema. Available entities: ${i.length>0?i.join(", "):"none"}`,r)}RI(n[r],r,t,r,0)}}},Cx=e=>typeof e!="string"?!1:jd(e)?!0:Vs(e);class vr extends Error{constructor(t){super(t),this.name="TransactionValidationError"}}const kI=e=>e.length>0?e.join(", "):"none",tF=(e,t)=>new vr(`Entity '${e}' does not exist in schema. Available entities: ${kI(t)}`),Mx={string:e=>typeof e=="string",number:e=>typeof e=="number"&&!isNaN(e),boolean:e=>typeof e=="boolean",date:e=>e instanceof Date||typeof e=="string"||typeof e=="number",json:()=>!0},nF=(e,t)=>{var n,r;return e==null?!0:(r=(n=Mx[t.valueType])===null||n===void 0?void 0:n.call(Mx,e))!==null&&r!==void 0?r:!1},LI=(e,t)=>{const n=t.entities[e];if(!n)throw tF(e,Object.keys(t.entities));return n},ug=(e,t,n)=>{const r=LI(e,n);if(typeof t!="object"||t===null)throw new vr(`Arguments for data operation on entity '${e}' must be an object, but received: ${typeof t}`);for(const[i,a]of Object.entries(t)){if(i==="id")continue;const l=r.attrs[i];if(l&&!nF(a,l))throw new vr(`Invalid value for attribute '${i}' in entity '${e}'. Expected ${l.valueType}, but received: ${typeof a}`)}},Px=(e,t,n)=>{const r=LI(e,n);if(typeof t!="object"||t===null)throw new vr(`Arguments for link operation on entity '${e}' must be an object, but received: ${typeof t}`);for(const[i,a]of Object.entries(t)){if(!r.links[i]){const u=Object.keys(r.links);throw new vr(`Link '${i}' does not exist on entity '${e}'. Available links: ${kI(u)}`)}if(a!=null){if(Array.isArray(a)){for(const u of a)if(!Cx(u))throw new vr(`Invalid entity ID in link '${i}' for entity '${e}'. Expected a UUID or a lookup, but received: ${u}`)}else if(!Cx(a))throw new vr(`Invalid UUID in link '${i}' for entity '${e}'. Expected a UUID, but received: ${a}`)}}},rF={create:ug,update:ug,merge:ug,link:Px,unlink:Px,delete:()=>{}},iF=(e,t)=>{if(!t)return;const[n,r,i,a]=e;if(!Array.isArray(i)&&!Vs(i))throw new vr(`Invalid id for entity '${r}'. Expected a UUID, but received: ${i}`);if(typeof r!="string")throw new vr(`Entity name must be a string, but received: ${typeof r}`);const l=rF[n];l&&a!==void 0&&l(r,a,t)},aF=(e,t)=>{const n=Array.isArray(e)?e:[e];for(const r of n){if(!r||typeof r!="object")throw new vr(`Transaction chunk must be an object, but received: ${typeof r}`);if(!Array.isArray(r.__ops))throw new vr(`Transaction chunk must have __ops array, but received: ${typeof r.__ops}`);for(const i of r.__ops){if(!Array.isArray(i))throw new vr(`Transaction operation must be an array, but received: ${typeof i}`);iF(i,t)}}};var Ox=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};let UI=0;class Nx{constructor(t){this.type="ws",this.id=`${this.type}_${UI++}`,this.conn=new WebSocket(t),this.conn.onopen=n=>{this.onopen&&this.onopen({target:this})},this.conn.onmessage=n=>{this.onmessage&&this.onmessage({target:this,message:JSON.parse(n.data.toString())})},this.conn.onclose=n=>{this.onclose&&this.onclose({target:this})},this.conn.onerror=n=>{this.onerror&&this.onerror({target:this})}}close(){this.conn.close()}isOpen(){var t;return this.conn.readyState===((t=WebSocket.OPEN)!==null&&t!==void 0?t:1)}isConnecting(){var t;return this.conn.readyState===((t=WebSocket.CONNECTING)!==null&&t!==void 0?t:0)}send(t){return this.conn.send(JSON.stringify(t))}}class oF{constructor(t,n){this.type="sse",this.initParams=null,this.sendQueue=[],this.closeFired=!1,this.sseInitTimeout=void 0,this.id=`${this.type}_${UI++}`,this.url=n,this.ES=t,this.conn=new t(n),this.sseInitTimeout=setTimeout(()=>{this.initParams||this.handleError()},1e4),this.conn.onmessage=r=>{const i=JSON.parse(r.data);if(i.op==="sse-init"){this.initParams={machineId:i["machine-id"],sessionId:i["session-id"],sseToken:i["sse-token"]},this.onopen&&this.onopen({target:this}),clearTimeout(this.sseInitTimeout);return}this.onmessage&&this.onmessage({target:this,message:i})},this.conn.onerror=r=>{this.handleError()}}handleError(){try{this.onerror&&this.onerror({target:this})}finally{this.handleClose()}}handleClose(){this.conn.close(),this.onclose&&!this.closeFired&&(this.closeFired=!0,this.onclose({target:this}))}postMessages(t){return Ox(this,void 0,void 0,function*(){var n,r,i;try{(yield fetch(this.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({machine_id:(n=this.initParams)===null||n===void 0?void 0:n.machineId,session_id:(r=this.initParams)===null||r===void 0?void 0:r.sessionId,sse_token:(i=this.initParams)===null||i===void 0?void 0:i.sseToken,messages:t})})).ok||this.handleError()}catch{this.handleError()}})}flushQueue(){return Ox(this,void 0,void 0,function*(){if(this.sendPromise||!this.sendQueue.length)return;const t=this.sendQueue;this.sendQueue=[];const n=this.postMessages(t);this.sendPromise=n,n.then(()=>{this.sendPromise=null,this.flushQueue()})})}send(t){if(!this.isOpen()||!this.initParams)throw this.isConnecting()?new Error("Failed to execute 'send' on 'EventSource': Still in CONNECTING state."):this.conn.readyState===this.ES.CLOSED?new Error("EventSource is already in CLOSING or CLOSED state."):new Error("EventSource is in invalid state.");this.sendQueue.push(t),this.flushQueue()}isOpen(){return this.conn.readyState===this.ES.OPEN&&this.initParams!==null}isConnecting(){return this.conn.readyState===this.ES.CONNECTING||this.conn.readyState===this.ES.OPEN&&this.initParams===null}close(){this.handleClose()}}var Ix=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};function sF(e,t){const n=e.values;if(n)for(const r of n.entities||[])r.store.useDateObjects=t,r.store.attrs=n.attrs,r.store=cI(r.store);return e}function lF(e,t){var n,r;if(!((n=t.values)===null||n===void 0)&&n.entities){const i=[];for(const a of(r=t.values)===null||r===void 0?void 0:r.entities){const l=uI(a.store);delete l.attrs,i.push(Object.assign(Object.assign({},a),{store:l}))}return Object.assign(Object.assign({},t),{values:Object.assign(Object.assign({},t.values),{entities:i})})}else return t}function uF(e,t,n){var r,i;const a=(r=t?.state)===null||r===void 0?void 0:r.txId,l=(i=n?.state)===null||i===void 0?void 0:i.txId;return a&&(!l||a>l)?t:l&&(!a||l>a)?n:t||n}function cg(e,t){return EI({store:t,pageInfo:null,aggregate:null},e.query).data[e.table][0]}function Dx(e,t,n){var r;const i=(r=La(t,e.table,"id"))===null||r===void 0?void 0:r.id;if(!i)return-1;const a=sl(t.eav,[n,i,n]);return a?a[3]:-1}function Rx(e,t){for(const{action:n,triple:r}of t)switch(n){case"added":hI(e,r);break;case"removed":fI(e,r);break}}function cF(e,t){var n,r,i,a;const l={};for(const{action:u,triple:c}of t){const[d,h,m]=c,g=(r=(n=e.attrs[h])===null||n===void 0?void 0:n["forward-identity"])===null||r===void 0?void 0:r[2];if(!g)continue;const _=(i=l[d])!==null&&i!==void 0?i:{};l[d]=_;const T=(a=_[g])!==null&&a!==void 0?a:{};switch(_[g]=T,u){case"added":T.newValue=m;break;case"removed":T.oldValue===void 0&&(T.oldValue=m);break}}for(const u of Object.keys(l)){const{oldValue:c,newValue:d}=l[u];c===d&&delete l[u]}return l}function nd(e,t){return{[e.table]:t.map(n=>n.entity)}}function fF(e,t){var n;if(e.orderFieldType)return e.orderFieldType;const r=e.orderField==="serverCreatedAt"?"number":(n=La(t([]),e.table,e.orderField))===null||n===void 0?void 0:n["checked-data-type"];return e.orderFieldType=r,r}function dF(e,t,n){const r=t;if(e.orderField==="serverCreatedAt"){n.sort(e.orderDirection==="asc"?function(l,u){return Mu(l.entity.id,l.serverCreatedAt,u.entity.id,u.serverCreatedAt,r)}:function(l,u){return Mu(u.entity.id,u.serverCreatedAt,l.entity.id,l.serverCreatedAt,r)});return}const i=e.orderField;n.sort(e.orderDirection==="asc"?function(l,u){return Mu(l.entity.id,l.entity[i],u.entity.id,u.entity[i],r)}:function(l,u){return Mu(u.entity.id,u.entity[i],l.entity.id,l.entity[i],r)})}var vo;(function(e){e.InitialSyncBatch="InitialSyncBatch",e.InitialSyncComplete="InitialSyncComplete",e.LoadFromStorage="LoadFromStorage",e.SyncTransaction="SyncTransaction",e.Error="Error"})(vo||(vo={}));class hF{constructor(t,n,r,i,a){this.callbacks={},this.idToHash={},this.trySend=t,this.config=r,this.log=i,this.createStore=a,this.subs=new d0({persister:n,merge:uF,serialize:lF,parse:(l,u)=>sF(u,this.config.useDateObjects),objectSize:l=>{var u;return((u=l.values)===null||u===void 0?void 0:u.entities.length)||0},logger:i,gc:{maxAgeMs:1e3*60*60*24*7*52,maxEntries:1e3,maxSize:1e6}})}beforeUnload(){this.subs.flush()}subscribe(t,n){const r=rn(t);return this.callbacks[r]=this.callbacks[r]||[],this.callbacks[r].push(n),this.initSubscription(t,r,n),i=>{this.unsubscribe(r,n,i?.keepSubscription)}}unsubscribe(t,n,r){const i=(this.callbacks[t]||[]).filter(a=>a!==n);if(this.callbacks[t]=i,!i.length){delete this.callbacks[t];const a=this.subs.currentValue[t];a?.state&&this.clearSubscriptionData(a.state.subscriptionId,!!r),r||this.subs.updateInPlace(l=>{delete l[t]})}}sendStart(t){this.trySend(Vt(),{op:"start-sync",q:t})}sendResync(t,n,r){this.idToHash[n.subscriptionId]=t.hash,this.trySend(n.subscriptionId,{op:"resync-table","subscription-id":n.subscriptionId,"tx-id":r,token:n.token})}sendRemove(t,n){this.trySend(Vt(),{op:"remove-sync","subscription-id":t.subscriptionId,"keep-subscription":n})}initSubscription(t,n,r){return Ix(this,void 0,void 0,function*(){var i,a,l,u;yield this.subs.waitForKeyToLoad(n);const c=this.subs.currentValue[n];if(c&&c.state&&c.state.txId){this.sendResync(c,c.state,c.state.txId),!((i=c.values)===null||i===void 0)&&i.entities&&r&&r({type:vo.LoadFromStorage,data:nd(c,(a=c.values)===null||a===void 0?void 0:a.entities)});return}const d=Object.keys(t)[0],h=((u=(l=t[d])===null||l===void 0?void 0:l.$)===null||u===void 0?void 0:u.order)||{serverCreatedAt:"asc"},[m,g]=Object.entries(h)[0];this.subs.updateInPlace(_=>{_[n]={query:t,hash:n,table:d,orderDirection:g,orderField:m,createdAt:Date.now(),updatedAt:Date.now()}}),this.sendStart(t)})}flushPending(){return Ix(this,void 0,void 0,function*(){for(const t of Object.keys(this.callbacks)){yield this.subs.waitForKeyToLoad(t);const n=this.subs.currentValue[t];n?yield this.initSubscription(n.query,n.hash):this.log.error("Missing sub for hash in flushPending",t)}})}onStartSyncOk(t){const n=t["subscription-id"],r=t.q,i=rn(r);this.idToHash[n]=i,this.subs.updateInPlace(a=>{const l=a[i];if(!l)return this.log.error("Missing sub for hash",i,"subscription-id",n,"query",r),a;l.state={subscriptionId:n,token:t.token}})}notifyCbs(t,n){for(const r of this.callbacks[t]||[])r(n)}onSyncLoadBatch(t){var n;const r=t["subscription-id"],i=t["join-rows"],a=this.idToHash[r];if(!a){this.log.error("Missing hash for subscription",t);return}const l=[],u=this.subs.currentValue[a];if(!u){this.log.error("Missing sub for hash",a,t);return}const c=(n=u.values)!==null&&n!==void 0?n:{entities:[],attrs:this.createStore([]).attrs};u.values=c;const d=c.entities;for(const h of i){const m=this.createStore(h);c.attrs=m.attrs;const g=cg(u,m);d.push({store:m,entity:g,serverCreatedAt:Dx(u,m,g.id)}),l.push(g)}this.subs.updateInPlace(h=>{h[a]=u,h[a].updatedAt=Date.now()}),u.values&&this.notifyCbs(a,{type:vo.InitialSyncBatch,data:nd(u,u.values.entities),batch:l})}onSyncInitFinish(t){var n;const r=t["subscription-id"],i=this.idToHash[r];if(!i){this.log.error("Missing hash for subscription",t);return}this.subs.updateInPlace(l=>{const u=l[i];if(!u){this.log.error("Missing sub for hash",i,t);return}const c=u.state;if(!c)return this.log.error("Sub never set init, missing result",u,t),l;c.txId=t["tx-id"],u.updatedAt=Date.now()});const a=this.subs.currentValue[i];a&&this.notifyCbs(i,{type:vo.InitialSyncComplete,data:nd(a,((n=a.values)===null||n===void 0?void 0:n.entities)||[])})}onSyncUpdateTriples(t){var n,r,i;const a=t["subscription-id"],l=this.idToHash[a];if(!l){this.log.error("Missing hash for subscription",t);return}const u=this.subs.currentValue[l];if(!u){this.log.error("Missing sub for hash",l,t);return}const c=u.state;if(!c){this.log.error("Missing state for sub",u,t);return}for(const d of t.txes){if(c.txId&&c.txId>=d["tx-id"])continue;c.txId=d["tx-id"];const h=[],m={};for(const O of d.changes){const P=(n=m[O.triple[0]])!==null&&n!==void 0?n:[];m[O.triple[0]]=P,P.push(O)}const g=(r=u.values)!==null&&r!==void 0?r:{entities:[],attrs:this.createStore([]).attrs},_=g.entities;u.values=g;const T=[];e:for(const[O,P]of Object.entries(m))for(let R=0;R<_.length;R++){const N=_[R];if(VB(N.store,O)){Rx(N.store,P);const D=cg(u,N.store),k=cF(N.store,P)[O];D?(T.push({oldEntity:N.entity,newEntity:D,changedFields:k||{}}),N.entity=D):h.push(R),delete m[O];continue e}}const w=[];for(const[O,P]of Object.entries(m)){const R=this.createStore([]);g.attrs=R.attrs,Rx(R,P);const N=cg(u,R);if(!N){this.log.error("No entity found after applying change",{sub:u,changes:P,store:R});continue}_.push({store:R,entity:N,serverCreatedAt:Dx(u,R,N.id)}),w.push(N)}const E=[];for(const O of h.sort().reverse())E.push(_[O].entity),_.splice(O,1);const C=fF(u,this.createStore);dF(u,C,_),this.notifyCbs(l,{type:vo.SyncTransaction,data:nd(u,(i=u.values)===null||i===void 0?void 0:i.entities),added:w,removed:E,updated:T})}this.subs.updateInPlace(d=>{d[l]=u,d[l].updatedAt=Date.now()})}clearSubscriptionData(t,n){const r=this.idToHash[t];if(r){delete this.idToHash[t];const i=this.subs.currentValue[r];if(i.state&&this.sendRemove(i.state,n),n?this.subs.unloadKey(r):this.subs.updateInPlace(a=>{delete a[r]}),i)return i}}onStartSyncError(t){const n=rn(t["original-event"].q),r={message:t.message||"Uh-oh, something went wrong. Ping Joe & Stopa.",status:t.status,type:t.type,hint:t.hint},i=Object.keys(t["original-event"].q)[0];this.notifyCbs(n,{type:vo.Error,data:{[i]:[]},error:r})}onResyncError(t){const n=t["original-event"]["subscription-id"],r=this.clearSubscriptionData(n,!1);r&&this.initSubscription(r.query,r.hash)}}var Ct=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})},pF=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Ei={CONNECTING:"connecting",OPENED:"opened",AUTHENTICATED:"authenticated",CLOSED:"closed",ERRORED:"errored"},mF=3e4,vF=3e4,gF=200,yF={apiURI:"https://api.instantdb.com",websocketURI:"wss://api.instantdb.com/runtime/session"},fg="_instant_oauth_redirect",vu="currentUser";function bF({transportType:e,appId:t,apiURI:n,wsURI:r,EventSourceImpl:i}){if(!i)return new Nx(`${r}?app_id=${t}`);switch(e){case"ws":return new Nx(`${r}?app_id=${t}`);case"sse":return new oF(i,`${n}/runtime/sse?app_id=${t}`);default:throw new Error("Unknown transport type "+e)}}function _F(){return typeof window<"u"||typeof chrome<"u"}const kx={"set-presence":!0,"set-presence-ok":!0,"refresh-presence":!0,"patch-presence":!0};function SF(e,t){var n;const r=typeof e=="string"?JSON.parse(e):e;if(!((n=r?.result)===null||n===void 0)&&n.store){const i=r.result.store;r.result.store=cI(Object.assign(Object.assign({},i),{useDateObjects:t}))}return r}function TF(e,t){var n;const r=Object.assign({},t);return!((n=t.result)===null||n===void 0)&&n.store&&(r.result=Object.assign(Object.assign({},t.result),{store:uI(t.result.store)})),r}function EF(e,t){switch(e){case"pendingMutations":return new Map(typeof t=="string"?JSON.parse(t):t);default:return t}}function wF(e,t){switch(e){case"pendingMutations":return[...t.entries()];default:return t}}function AF(e,t,n){const r=t?.result,i=n?.result;return r&&!i&&n&&(n.result=r),n||t}function Lx(e){return[...e].sort((t,n)=>{const[r,i]=t,[a,l]=n,u=i.order||0,c=l.order||0;return u==c?r<a?-1:r>a?1:0:u-c})}class xF{constructor(t,n=CI,r=MI,i,a){var l,u,c;if(this._isOnline=!0,this._isShutdown=!1,this.status=Ei.CONNECTING,this.queryCbs={},this.queryOnceDfds={},this.authCbs=[],this.attrsCbs=[],this.mutationErrorCbs=[],this.connectionStatusCbs=[],this.mutationDeferredStore=new Map,this._reconnectTimeoutId=null,this._reconnectTimeoutMs=0,this._transportType="ws",this._wsOk=null,this._localIdPromises={},this._errorMessage=null,this._oauthCallbackResponse=null,this._linkIndex=null,this._rooms={},this._roomsPendingLeave={},this._presence={},this._broadcastQueue=[],this._broadcastSubs={},this._currentUserCached={isLoading:!0,error:void 0,user:void 0},this._beforeUnloadCbs=[],this._dataForQueryCache={},this._inFlightMutationEventIds=new Set,this._onMergeKv=(d,h,m)=>{var g,_;switch(d){case"pendingMutations":{const T=(g=h?.entries())!==null&&g!==void 0?g:[],w=(_=m?.entries())!==null&&_!==void 0?_:[],E=new Map([...T,...w]);return(h?this._rewriteMutationsSorted(this.attrs,h):[]).forEach(([O,P])=>{var R;!(!((R=m?.pendingMutations)===null||R===void 0)&&R.has(O))&&!P["tx-id"]&&this._sendMutation(O,P)}),E}default:return m||h}},this.getPreviousResult=d=>{const h=rn(d);return this.dataForQuery(h)},this.notifyOne=d=>{var h,m;const g=(h=this.queryCbs[d])!==null&&h!==void 0?h:[],_=(m=this._dataForQueryCache[d])===null||m===void 0?void 0:m.data,T=this.dataForQuery(d);T&&(Ad(T,_)||g.forEach(w=>w.cb(T)))},this.notifyOneQueryOnce=d=>{var h;const m=(h=this.queryOnceDfds[d])!==null&&h!==void 0?h:[],g=this.dataForQuery(d);m.forEach(_=>{this._completeQueryOnce(_.q,d,_.dfd),_.dfd.resolve(g)})},this.notifyQueryError=(d,h)=>{(this.queryCbs[d]||[]).forEach(g=>g.cb({error:h}))},this.pushTx=d=>{this.config.disableValidation||aF(d,this.config.schema);try{const h=C$({attrs:this.optimisticAttrs(),schema:this.config.schema,stores:Object.values(this.querySubs.currentValue).map(m=>{var g;return(g=m?.result)===null||g===void 0?void 0:g.store}),useDateObjects:this.config.useDateObjects},d);return this.pushOps(h)}catch(h){return this.pushOps([],h)}},this.pushOps=(d,h)=>{const m=Vt(),g=[...this._pendingMutations().values()],_=Math.max(0,...g.map(E=>E.order||0))+1,T={op:"transact","tx-steps":d,created:Date.now(),error:h,order:_};this._updatePendingMutations(E=>{E.set(m,T)});const w=new Tx;return this.mutationDeferredStore.set(m,w),this._sendMutation(m,T),this.notifyAll(),w.promise},this._transportOnOpen=d=>{const h=d.target;if(this._transport!==h){this._log.info("[socket][open]",h.id,"skip; this is no longer the current transport");return}this._log.info("[socket][open]",this._transport.id),this._setStatus(Ei.OPENED),this.getCurrentUser().then(m=>{var g;this._trySend(Vt(),{op:"init","app-id":this.config.appId,"refresh-token":(g=m.user)===null||g===void 0?void 0:g.refresh_token,versions:this.versions,"__admin-token":this.config.__adminToken})}).catch(m=>{this._log.error("[socket][error]",h.id,m)})},this._transportOnMessage=d=>{const h=d.target,m=d.message;if(this._transport!==h){this._log.info("[socket][message]",h.id,m,"skip; this is no longer the current transport");return}!this._wsOk&&h.type==="ws"&&(this._wsOk=!0),this._transportType="ws",this._handleReceive(h.id,d.message)},this._transportOnError=d=>{const h=d.target;if(this._transport!==h){this._log.info("[socket][error]",h.id,"skip; this is no longer the current transport");return}this._log.error("[socket][error]",h.id,d)},this._scheduleReconnect=()=>{!this._wsOk&&this._transportType!=="sse"&&(this._transportType="sse",this._reconnectTimeoutMs=0),setTimeout(()=>{if(this._reconnectTimeoutMs=Math.min(this._reconnectTimeoutMs+1e3,1e4),!this._isOnline){this._log.info("[socket][close]",this._transport.id,"we are offline, no need to start socket");return}this._startSocket()},this._reconnectTimeoutMs)},this._transportOnClose=d=>{const h=d.target;if(this._transport!==h){this._log.info("[socket][close]",h.id,"skip; this is no longer the current transport");return}this._setStatus(Ei.CLOSED);for(const m of Object.values(this._rooms))m.isConnected=!1;if(this._isShutdown){this._log.info("[socket][close]",h.id,"Reactor has been shut down and will not reconnect");return}this._log.info("[socket][close]",h.id,"schedule reconnect, ms =",this._reconnectTimeoutMs),this._scheduleReconnect()},this._EventSource=a,this.config=Object.assign(Object.assign({},yF),t),this.queryCacheLimit=(l=this.config.queryCacheLimit)!==null&&l!==void 0?l:10,this._pendingTxCleanupTimeout=(u=this.config.pendingTxCleanupTimeout)!==null&&u!==void 0?u:vF,this._pendingMutationCleanupThreshold=(c=this.config.pendingMutationCleanupThreshold)!==null&&c!==void 0?c:gF,this._log=J$(t.verbose||Qb||PI,()=>this._reactorStats()),this.versions=Object.assign(Object.assign({},i||{}),{"@instantdb/core":Zb}),this.config.schema&&(this._linkIndex=wx(this.config.schema)),!!_F()){if(!t.appId)throw new Error("Instant must be initialized with an appId.");if(!Vs(t.appId))throw new Error(`Instant must be initialized with a valid appId. \`${t.appId}\` is not a valid uuid.`);typeof BroadcastChannel=="function"&&(this._broadcastChannel=new BroadcastChannel("@instantdb"),this._broadcastChannel.addEventListener("message",d=>Ct(this,void 0,void 0,function*(){var h;try{if(((h=d.data)===null||h===void 0?void 0:h.type)==="auth"){const m=yield this.getCurrentUser();this.updateUser(m.user)}}catch(m){this._log.error("[error] handle broadcast channel",m)}}))),this._initStorage(n),this._syncTable=new hF(this._trySendAuthed.bind(this),new n(this.config.appId,"syncSubs"),{useDateObjects:this.config.useDateObjects},this._log,d=>xd(this.attrs,d,this.config.enableCardinalityInference,this._linkIndex,this.config.useDateObjects)),this._oauthCallbackResponse=this._oauthLoginInit(),this.getCurrentUser(),r.getIsOnline().then(d=>{this._isOnline=d,this._startSocket(),r.listen(h=>{h!==this._isOnline&&(this._log.info("[network] online =",h),this._isOnline=h,this._isOnline?this._startSocket():(this._log.info("Changing status from",this.status,"to",Ei.CLOSED),this._setStatus(Ei.CLOSED)))})}),typeof addEventListener<"u"&&(this._beforeUnload=this._beforeUnload.bind(this),addEventListener("beforeunload",this._beforeUnload))}}updateSchema(t){this.config=Object.assign(Object.assign({},this.config),{schema:t,cardinalityInference:!!t}),this._linkIndex=t?wx(this.config.schema):null}_reactorStats(){return{inFlightMutationCount:this._inFlightMutationEventIds.size,pendingMutationCount:this._pendingMutations().size,transportType:this._transportType}}_onQuerySubLoaded(t){this.kv.waitForKeyToLoad("pendingMutations").then(()=>this.notifyOne(t))}_initStorage(t){this.querySubs=new d0({persister:new t(this.config.appId,"querySubs"),merge:AF,serialize:TF,parse:(n,r)=>SF(r,this.config.useDateObjects),objectSize:n=>{var r,i,a,l;return(l=(a=(i=(r=n.result)===null||r===void 0?void 0:r.store)===null||i===void 0?void 0:i.triples)===null||a===void 0?void 0:a.length)!==null&&l!==void 0?l:0},logger:this._log,preloadEntryCount:10,gc:{maxAgeMs:1e3*60*60*24*7*52,maxEntries:1e3,maxSize:1e6}}),this.querySubs.onKeyLoaded=n=>this._onQuerySubLoaded(n),this.kv=new d0({persister:new t(this.config.appId,"kv"),merge:this._onMergeKv,serialize:wF,parse:EF,objectSize:()=>0,logger:this._log,saveThrottleMs:100,idleCallbackMaxWaitMs:100,gc:null}),this.kv.onKeyLoaded=n=>{n==="pendingMutations"&&this.notifyAll()},this.kv.waitForKeyToLoad("pendingMutations"),this.kv.waitForKeyToLoad(vu),this._beforeUnloadCbs.push(()=>{this.kv.flush(),this.querySubs.flush()})}_beforeUnload(){for(const t of this._beforeUnloadCbs)t();this._syncTable.beforeUnload()}_finishTransaction(t,n,r){const i=this.mutationDeferredStore.get(n);this.mutationDeferredStore.delete(n);const a=t!=="error"&&t!=="timeout";if(!i&&!a&&console.error("Mutation failed",Object.assign({status:t,eventId:n},r)),!!i)if(a)i.resolve({status:t,eventId:n});else if(r?.type){const{status:l}=r,u=pF(r,["status"]);i.reject(new Gh({body:u,status:l??0}))}else i.reject(new Ys(r?.message||"Unknown error",r?.hint))}_setStatus(t,n){this.status=t,this._errorMessage=n,this.notifyConnectionStatusSubs(t)}_flushEnqueuedRoomData(t){var n,r;const i=(r=(n=this._presence[t])===null||n===void 0?void 0:n.result)===null||r===void 0?void 0:r.user,a=this._broadcastQueue[t];if(this._broadcastQueue[t]=[],i&&this._trySetPresence(t,i),a)for(const l of a){const{topic:u,roomType:c,data:d}=l;this._tryBroadcast(t,c,u,d)}}_handleReceive(t,n){var r,i,a,l,u,c;const d=!!this.config.schema&&("cardinalityInference"in this.config?!!this.config.cardinalityInference:!0);switch(kx[n.op]||this._log.info("[receive]",t,n.op,n),n.op){case"init-ok":{this._setStatus(Ei.AUTHENTICATED),this._reconnectTimeoutMs=0,this._setAttrs(n.attrs),this._flushPendingMessages(),this._sessionId=n["session-id"];for(const g of Object.keys(this._rooms)){const _=(i=(r=this._presence[g])===null||r===void 0?void 0:r.result)===null||i===void 0?void 0:i.user;this._tryJoinRoom(g,_)}break}case"add-query-exists":{this.notifyOneQueryOnce(rn(n.q));break}case"add-query-ok":{const{q:g,result:_}=n,T=rn(g);if(!this._hasQueryListeners()&&!this.querySubs.currentValue[T])break;const w=(l=(a=_?.[0])===null||a===void 0?void 0:a.data)===null||l===void 0?void 0:l["page-info"],E=(c=(u=_?.[0])===null||u===void 0?void 0:u.data)===null||c===void 0?void 0:c.aggregate,C=Ex(_),O=xd(this.attrs,C,d,this._linkIndex,this.config.useDateObjects);this.querySubs.updateInPlace(P=>{if(!P[T]){this._log.info("Missing value in querySubs",{hash:T,q:g});return}P[T].result={store:O,pageInfo:w,aggregate:E,processedTxId:n["processed-tx-id"]}}),this._cleanupPendingMutationsQueries(),this.notifyOne(T),this.notifyOneQueryOnce(T),this._cleanupPendingMutationsTimeout();break}case"start-sync-ok":{this._syncTable.onStartSyncOk(n);break}case"sync-load-batch":{this._syncTable.onSyncLoadBatch(n);break}case"sync-init-finish":{this._syncTable.onSyncInitFinish(n);break}case"sync-update-triples":{this._syncTable.onSyncUpdateTriples(n);break}case"refresh-ok":{const{computations:g,attrs:_}=n,T=n["processed-tx-id"];_&&this._setAttrs(_),this._cleanupPendingMutationsTimeout();const w=this._rewriteMutations(this.attrs,this._pendingMutations(),T);w!==this._pendingMutations()&&this.kv.updateInPlace(O=>{O.pendingMutations=w});const E=Lx(w.entries()),C=g.map(O=>{var P,R,N,D;const k=O["instaql-query"],H=O["instaql-result"],K=rn(k),ae=Ex(H),Y=xd(this.attrs,ae,d,this._linkIndex,this.config.useDateObjects),W=this._applyOptimisticUpdates(Y,E,T),ue=(R=(P=H?.[0])===null||P===void 0?void 0:P.data)===null||R===void 0?void 0:R["page-info"],fe=(D=(N=H?.[0])===null||N===void 0?void 0:N.data)===null||D===void 0?void 0:D.aggregate;return{q:k,hash:K,store:W,pageInfo:ue,aggregate:fe}});C.forEach(({hash:O,q:P,store:R,pageInfo:N,aggregate:D})=>{this.querySubs.updateInPlace(k=>{if(!k[O]){this._log.error("Missing value in querySubs",{hash:O,q:P});return}k[O].result={store:R,pageInfo:N,aggregate:D,processedTxId:T}})}),this._cleanupPendingMutationsQueries(),C.forEach(({hash:O})=>{this.notifyOne(O)});break}case"transact-ok":{const{"client-event-id":g,"tx-id":_}=n;this._inFlightMutationEventIds.delete(g);const w=this._rewriteMutations(this.attrs,this._pendingMutations()).get(g);if(!w)break;this._updatePendingMutations(C=>{C.set(g,Object.assign(Object.assign({},C.get(g)),{"tx-id":_,confirmed:Date.now()}))});const E=w["tx-steps"].filter(([C,...O])=>C==="add-attr").map(([C,O])=>O).concat(Object.values(this.attrs));this._setAttrs(E),this._finishTransaction("synced",g),this._cleanupPendingMutationsTimeout();break}case"patch-presence":{const g=n["room-id"];this._trySetRoomConnected(g,!0),this._patchPresencePeers(g,n.edits),this._notifyPresenceSubs(g);break}case"refresh-presence":{const g=n["room-id"];this._trySetRoomConnected(g,!0),this._setPresencePeers(g,n.data),this._notifyPresenceSubs(g);break}case"server-broadcast":{const g=n["room-id"],_=n.topic;this._trySetRoomConnected(g,!0),this._notifyBroadcastSubs(g,_,n);break}case"join-room-ok":{const g=n["room-id"];if(!this._rooms[g]){this._roomsPendingLeave[g]&&(this._tryLeaveRoom(g),delete this._roomsPendingLeave[g]);break}this._trySetRoomConnected(g,!0),this._flushEnqueuedRoomData(g);break}case"leave-room-ok":{const g=n["room-id"];this._trySetRoomConnected(g,!1);break}case"join-room-error":const h=n["room-id"],m=this._rooms[h];m&&(m.error=n.error),this._notifyPresenceSubs(h);break;case"error":this._handleReceiveError(n);break;default:this._log.info("Uknown op",n.op,n);break}}_pendingMutations(){var t;return(t=this.kv.currentValue.pendingMutations)!==null&&t!==void 0?t:new Map}_updatePendingMutations(t){this.kv.updateInPlace(n=>{var r;const i=(r=n.pendingMutations)!==null&&r!==void 0?r:new Map;n.pendingMutations=i,t(i)})}_handleMutationError(t,n,r){const i=this._pendingMutations().get(n);if(i&&(t!=="timeout"||!i["tx-id"])){this._updatePendingMutations(l=>(l.delete(n),l)),this._inFlightMutationEventIds.delete(n);const a={message:r.message,hint:r.hint};this.notifyAll(),this.notifyAttrsSubs(),this.notifyMutationErrorSubs(a),this._finishTransaction(t,n,r)}}_handleReceiveError(t){var n,r,i,a,l,u,c;console.log("error",t);const d=t["client-event-id"];this._inFlightMutationEventIds.delete(d);const h=this._pendingMutations().get(d),m={message:t.message||"Uh-oh, something went wrong. Ping Joe & Stopa."};if(t.hint&&(m.hint=t.hint),h){this._handleMutationError("error",d,t);return}if(!((n=t["original-event"])===null||n===void 0)&&n.hasOwnProperty("q")&&((r=t["original-event"])===null||r===void 0?void 0:r.op)==="add-query"){const T=(i=t["original-event"])===null||i===void 0?void 0:i.q,w=rn(T);this.notifyQueryError(rn(T),m),this.notifyQueryOnceError(T,w,d,m);return}if(((a=t["original-event"])===null||a===void 0?void 0:a.op)==="init"){if(t.type==="record-not-found"&&((l=t.hint)===null||l===void 0?void 0:l["record-type"])==="app-user"){this.changeCurrentUser(null);return}this._setStatus(Ei.ERRORED,m),this.notifyAll();return}if(((u=t["original-event"])===null||u===void 0?void 0:u.op)==="resync-table"){this._syncTable.onResyncError(t);return}if(((c=t["original-event"])===null||c===void 0?void 0:c.op)==="start-sync"){this._syncTable.onStartSyncError(t);return}const _=Object.assign({},t);delete _.message,delete _.hint,console.error(t.message,_),t.hint&&console.error(`This error comes with some debugging information. Here it is: 
`,t.hint)}notifyQueryOnceError(t,n,r,i){var a;const l=(a=this.queryOnceDfds[n])===null||a===void 0?void 0:a.find(u=>u.eventId===r);l&&(l.dfd.reject(i),this._completeQueryOnce(t,n,l.dfd))}_setAttrs(t){this.attrs=t.reduce((n,r)=>(n[r.id]=r,n),{}),this.notifyAttrsSubs()}_startQuerySub(t,n){const r=Vt();return this.querySubs.updateInPlace(i=>{i[n]=i[n]||{q:t,result:null,eventId:r},i[n].lastAccessed=Date.now()}),this._trySendAuthed(r,{op:"add-query",q:t}),r}subscribeTable(t,n){return this._syncTable.subscribe(t,n)}subscribeQuery(t,n,r){var i;this.config.disableValidation||xx(t,this.config.schema),r&&"ruleParams"in r&&(t=Object.assign({$$ruleParams:r.ruleParams},t));const a=rn(t),l=this.getPreviousResult(t);return l&&n(l),this.queryCbs[a]=(i=this.queryCbs[a])!==null&&i!==void 0?i:[],this.queryCbs[a].push({q:t,cb:n}),this._startQuerySub(t,a),()=>{this._unsubQuery(t,a,n)}}queryOnce(t,n){var r;this.config.disableValidation||xx(t,this.config.schema),n&&"ruleParams"in n&&(t=Object.assign({$$ruleParams:n.ruleParams},t));const i=new Tx;if(!this._isOnline)return i.reject(new Error("We can't run `queryOnce`, because the device is offline.")),i.promise;if(!this.querySubs)return i.reject(new Error("We can't run `queryOnce` on the backend. Use adminAPI.query instead: https://www.instantdb.com/docs/backend#query")),i.promise;const a=rn(t),l=this._startQuerySub(t,a);return this.queryOnceDfds[a]=(r=this.queryOnceDfds[a])!==null&&r!==void 0?r:[],this.queryOnceDfds[a].push({q:t,dfd:i,eventId:l}),setTimeout(()=>i.reject(new Error("Query timed out")),mF),i.promise}_completeQueryOnce(t,n,r){this.queryOnceDfds[n]&&(this.queryOnceDfds[n]=this.queryOnceDfds[n].filter(i=>i.dfd!==r),this._cleanupQuery(t,n))}_unsubQuery(t,n,r){this.queryCbs[n]&&(this.queryCbs[n]=this.queryCbs[n].filter(i=>i.cb!==r),this._cleanupQuery(t,n))}_hasQueryListeners(t){var n,r;return!!(!((n=this.queryCbs[t])===null||n===void 0)&&n.length||!((r=this.queryOnceDfds[t])===null||r===void 0)&&r.length)}_cleanupQuery(t,n){this._hasQueryListeners(n)||(delete this.queryCbs[n],delete this.queryOnceDfds[n],delete this._dataForQueryCache[n],this.querySubs.unloadKey(n),this._trySendAuthed(Vt(),{op:"remove-query",q:t}))}_rewriteMutations(t,n,r){if(!t)return n;if(!n)return new Map;const i=h=>{const[m,g,_]=h["forward-identity"];return an(t,g,_)},a=h=>{const[m,g,_]=h["forward-identity"];return Ao(t,g,_)},l={attrIdMap:{},refSwapAttrIds:new Set};let u=!1;const c=(h,m)=>{const g=[];for(const _ of h){const[T]=_;if(T==="add-attr"){const[E,C]=_,O=i(C);if(O&&C.id!==O.id){l.attrIdMap[C.id]=O.id,u=!0;continue}if(C["value-type"]==="ref"){const P=a(C);if(P){l.attrIdMap[C.id]=P.id,l.refSwapAttrIds.add(C.id),u=!0;continue}}}if(r&&m&&r>=m&&T==="add-attr"||T==="update-attr"||T==="delete-attr"){u=!0;continue}const w=u?r$(l,_):_;g.push(w)}return u?g:h},d=new Map;for(const[h,m]of n.entries())d.set(h,Object.assign(Object.assign({},m),{"tx-steps":c(m["tx-steps"],m["tx-id"])}));return u?d:n}_rewriteMutationsSorted(t,n){return Lx(this._rewriteMutations(t,n).entries())}optimisticAttrs(){var t;const n=[...this._pendingMutations().values()].flatMap(u=>u["tx-steps"]),r=new Set(n.filter(([u,c])=>u==="delete-attr").map(([u,c])=>c)),i=[];for(const[u,c]of n)if(u==="add-attr")i.push(c);else if(u==="update-attr"&&c.id&&(!((t=this.attrs)===null||t===void 0)&&t[c.id])){const d=Object.assign(Object.assign({},this.attrs[c.id]),c);i.push(d)}const a=[...Object.values(this.attrs||{}),...i].filter(u=>!r.has(u.id));return Object.fromEntries(a.map(u=>[u.id,u]))}dataForQuery(t){const n=this._errorMessage;if(n)return{error:n};if(!this.querySubs||!this.kv.currentValue.pendingMutations)return;const r=this.querySubs.version(),i=this.querySubs.currentValue,a=this.kv.version(),l=this._pendingMutations(),{q:u,result:c}=i[t]||{};if(!c)return;const d=this._dataForQueryCache[t];if(d&&r===d.querySubVersion&&a===d.pendingMutationsVersion)return d.data;const{store:h,pageInfo:m,aggregate:g,processedTxId:_}=c,T=this._rewriteMutationsSorted(h.attrs,l),w=this._applyOptimisticUpdates(h,T,_),E=EI({store:w,pageInfo:m,aggregate:g},u);return this._dataForQueryCache[t]={querySubVersion:r,pendingMutationsVersion:a,data:E},E}_applyOptimisticUpdates(t,n,r){for(const[i,a]of n)(!a["tx-id"]||r&&a["tx-id"]>r)&&(t=i3(t,a["tx-steps"]));return t}notifyAll(){Object.keys(this.queryCbs).forEach(t=>{this.querySubs.waitForKeyToLoad(t).then(()=>this.notifyOne(t)).catch(()=>this.notifyOne(t))})}loadedNotifyAll(){this.kv.waitForKeyToLoad("pendingMutations").then(()=>this.notifyAll()).catch(()=>this.notifyAll())}shutdown(){var t;this._log.info("[shutdown]",this.config.appId),this._isShutdown=!0,(t=this._transport)===null||t===void 0||t.close()}_sendMutation(t,n){if(n.error){this._handleMutationError("error",t,{message:n.error.message});return}if(this.status!==Ei.AUTHENTICATED){this._finishTransaction("enqueued",t);return}const r=Math.max(6e3,Math.min(this._inFlightMutationEventIds.size+1,this._pendingMutations().size+1)*6e3);this._isOnline?(this._trySend(t,n),setTimeout(()=>{this._isOnline&&this._handleMutationError("timeout",t,{message:"transaction timed out"})},r)):this._finishTransaction("enqueued",t)}_flushPendingMessages(){Object.keys(this.queryCbs).map(i=>this.querySubs.currentValue[i]).filter(i=>i).forEach(({eventId:i,q:a})=>{this._trySendAuthed(i,{op:"add-query",q:a})}),Object.values(this.queryOnceDfds).flat().forEach(({eventId:i,q:a})=>{this._trySendAuthed(i,{op:"add-query",q:a})}),this._rewriteMutationsSorted(this.attrs,this._pendingMutations()).forEach(([i,a])=>{a["tx-id"]||this._sendMutation(i,a)}),this._syncTable.flushPending()}_cleanupPendingMutationsQueries(){let t=Number.MAX_SAFE_INTEGER;for(const{result:n}of Object.values(this.querySubs.currentValue))n?.processedTxId&&(t=Math.min(t,n?.processedTxId));this._updatePendingMutations(n=>{for(const[r,i]of Array.from(n.entries()))i["tx-id"]&&i["tx-id"]<=t&&n.delete(r)})}_cleanupPendingMutationsTimeout(){if(this._pendingMutations().size<this._pendingMutationCleanupThreshold)return;const t=Date.now();this._updatePendingMutations(n=>{for(const[r,i]of Array.from(n.entries()))i.confirmed&&i.confirmed+this._pendingTxCleanupTimeout<t&&n.delete(r)})}_trySendAuthed(...t){this.status===Ei.AUTHENTICATED&&this._trySend(...t)}_trySend(t,n,r){if(this._transport.isOpen()){switch(kx[n.op]||this._log.info("[send]",this._transport.id,n.op,n),n.op){case"transact":{this._inFlightMutationEventIds.add(t);break}case"init":this._inFlightMutationEventIds.clear()}this._transport.send(Object.assign({"client-event-id":t},n))}}_startSocket(){if(this._wsOk=null,this._isShutdown){this._log.info("[socket][start]",this.config.appId,"Reactor has been shut down and will not start a new socket");return}if(this._transport&&this._transport.isConnecting()){this._log.info("[socket][start]",this._transport.id,"maintained as current transport, we were still in a connecting state");return}const t=this._transport;this._transport=bF({transportType:this._transportType,appId:this.config.appId,apiURI:this.config.apiURI,wsURI:this.config.websocketURI,EventSourceImpl:this._EventSource}),this._transport.onopen=this._transportOnOpen,this._transport.onmessage=this._transportOnMessage,this._transport.onclose=this._transportOnClose,this._transport.onerror=this._transportOnError,this._log.info("[socket][start]",this._transport.id),t?.isOpen()&&(this._log.info("[socket][start]",this._transport.id,"close previous transport id = ",t.id),t.close())}getLocalId(t){return Ct(this,void 0,void 0,function*(){const n=`localToken_${t}`;if(this.kv.currentValue[n])return this.kv.currentValue[n];const r=yield this.kv.waitForKeyToLoad(n);if(r)return r;const i=Vt();return this.kv.updateInPlace(a=>{a[n]||(a[n]=i)}),yield this.kv.waitForKeyToLoad(n)})}_replaceUrlAfterOAuth(){if(typeof URL>"u")return;const t=new URL(window.location.href);if(t.searchParams.get(fg)){const n=t.toString();t.searchParams.delete(fg),t.searchParams.delete("code"),t.searchParams.delete("error");const r=t.pathname+(t.searchParams.size?"?"+t.searchParams:"")+t.hash;if(history.replaceState(history.state,"",r),typeof navigation=="object"&&typeof navigation.addEventListener=="function"&&typeof navigation.removeEventListener=="function"){let i=!1;const a=l=>{var u;i||(i=!0,navigation.removeEventListener("navigate",a),!l.userInitiated&&l.navigationType==="replace"&&((u=l.destination)===null||u===void 0?void 0:u.url)===n&&history.replaceState(history.state,"",r))};navigation.addEventListener("navigate",a)}}}_oauthLoginInit(){return Ct(this,void 0,void 0,function*(){var t,n,r,i;if(typeof window>"u"||typeof window.location>"u"||typeof URLSearchParams>"u")return null;const a=new URLSearchParams(window.location.search);if(!a.get(fg))return null;const l=a.get("error");if(l)return this._replaceUrlAfterOAuth(),{error:{message:l}};const u=a.get("code");if(!u)return null;this._replaceUrlAfterOAuth();try{const c=yield this._getCurrentUser(),d=c?.type==="guest",{user:h}=yield _x({apiURI:this.config.apiURI,appId:this.config.appId,code:u,refreshToken:d?c.refresh_token:void 0});return this.setCurrentUser(h),null}catch(c){return((t=c?.body)===null||t===void 0?void 0:t.type)==="record-not-found"&&((r=(n=c?.body)===null||n===void 0?void 0:n.hint)===null||r===void 0?void 0:r["record-type"])==="app-oauth-code"&&(yield this._hasCurrentUser())?null:{error:{message:((i=c?.body)===null||i===void 0?void 0:i.message)||"Error logging in."}}}})}_waitForOAuthCallbackResponse(){return Ct(this,void 0,void 0,function*(){return yield this._oauthCallbackResponse})}__subscribeMutationErrors(t){return this.mutationErrorCbs.push(t),()=>{this.mutationErrorCbs=this.mutationErrorCbs.filter(n=>n!==t)}}subscribeAuth(t){this.authCbs.push(t);const n=this._currentUserCached;n.isLoading||t(this._currentUserCached);let r=!1;return this.getCurrentUser().then(i=>{r||Ad(i,n)||t(i)}),()=>{r=!0,this.authCbs=this.authCbs.filter(i=>i!==t)}}getAuth(){return Ct(this,void 0,void 0,function*(){const{user:t,error:n}=yield this.getCurrentUser();if(n)throw new Ys("Could not get current user: "+n.message);return t})}subscribeConnectionStatus(t){return this.connectionStatusCbs.push(t),()=>{this.connectionStatusCbs=this.connectionStatusCbs.filter(n=>n!==t)}}subscribeAttrs(t){return this.attrsCbs.push(t),this.attrs&&t(this.attrs),()=>{this.attrsCbs=this.attrsCbs.filter(n=>n!==t)}}notifyAuthSubs(t){this.authCbs.forEach(n=>n(t))}notifyMutationErrorSubs(t){this.mutationErrorCbs.forEach(n=>n(t))}notifyAttrsSubs(){if(!this.attrs)return;const t=this.optimisticAttrs();this.attrsCbs.forEach(n=>n(t))}notifyConnectionStatusSubs(t){this.connectionStatusCbs.forEach(n=>n(t))}setCurrentUser(t){return Ct(this,void 0,void 0,function*(){this.kv.updateInPlace(n=>{n[vu]=t}),yield this.kv.waitForKeyToLoad(vu)})}getCurrentUserCached(){return this._currentUserCached}_getCurrentUser(){return Ct(this,void 0,void 0,function*(){const t=yield this.kv.waitForKeyToLoad(vu);return typeof t=="string"?JSON.parse(t):t})}getCurrentUser(){return Ct(this,void 0,void 0,function*(){const t=yield this._waitForOAuthCallbackResponse();if(t?.error){const n={error:t.error,user:void 0};return this._currentUserCached=Object.assign({isLoading:!1},n),n}try{const r={user:yield this._getCurrentUser(),error:void 0};return this._currentUserCached=Object.assign({isLoading:!1},r),r}catch(n){return{user:void 0,isLoading:!1,error:{message:n?.message||"Error loading user"}}}})}_hasCurrentUser(){return Ct(this,void 0,void 0,function*(){const t=yield this.kv.waitForKeyToLoad(vu);return typeof t=="string"?JSON.parse(t)!=null:t!=null})}changeCurrentUser(t){return Ct(this,void 0,void 0,function*(){var n;const{user:r}=yield this.getCurrentUser();if(!Ad(r,t)){yield this.setCurrentUser(t),this.updateUser(t);try{(n=this._broadcastChannel)===null||n===void 0||n.postMessage({type:"auth"})}catch(i){console.error("Error posting message to broadcast channel",i)}}})}updateUser(t){const n={error:void 0,user:t};this._currentUserCached=Object.assign({isLoading:!1},n),this._dataForQueryCache={},this.querySubs.updateInPlace(r=>{Object.keys(r).forEach(i=>{delete r[i].result})}),this._reconnectTimeoutMs=0,this._transport.close(),this._oauthCallbackResponse=null,this.notifyAuthSubs(n)}sendMagicCode({email:t}){return U$({apiURI:this.config.apiURI,appId:this.config.appId,email:t})}signInWithMagicCode(t){return Ct(this,arguments,void 0,function*({email:n,code:r}){var i;const a=yield this.getCurrentUser(),l=((i=a?.user)===null||i===void 0?void 0:i.type)==="guest",u=yield q$({apiURI:this.config.apiURI,appId:this.config.appId,email:n,code:r,refreshToken:l?a.user.refresh_token:void 0});return yield this.changeCurrentUser(u.user),u})}signInWithCustomToken(t){return Ct(this,void 0,void 0,function*(){const n=yield z$({apiURI:this.config.apiURI,appId:this.config.appId,refreshToken:t});return yield this.changeCurrentUser(n.user),n})}signInAsGuest(){return Ct(this,void 0,void 0,function*(){const t=yield j$({apiURI:this.config.apiURI,appId:this.config.appId});return yield this.changeCurrentUser(t.user),t})}potentiallyInvalidateToken(t,n){var r;const i=(r=t?.user)===null||r===void 0?void 0:r.refresh_token;if(!i)return;if(n.invalidateToken===!1){this._log.info("[auth-invalidate] skipped invalidateToken");return}$$({apiURI:this.config.apiURI,appId:this.config.appId,refreshToken:i}).then(()=>{this._log.info("[auth-invalidate] completed invalidateToken")}).catch(l=>{})}signOut(t){return Ct(this,void 0,void 0,function*(){const n=yield this.getCurrentUser();this.potentiallyInvalidateToken(n,t),yield this.changeCurrentUser(null)})}createAuthorizationURL({clientName:t,redirectURL:n}){const{apiURI:r,appId:i}=this.config;return`${r}/runtime/oauth/start?app_id=${i}&client_name=${t}&redirect_uri=${n}`}exchangeCodeForToken(t){return Ct(this,arguments,void 0,function*({code:n,codeVerifier:r}){var i;const a=yield this.getCurrentUser(),l=((i=a?.user)===null||i===void 0?void 0:i.type)==="guest",u=yield _x({apiURI:this.config.apiURI,appId:this.config.appId,code:n,codeVerifier:r,refreshToken:l?a.user.refresh_token:void 0});return yield this.changeCurrentUser(u.user),u})}issuerURI(){const{apiURI:t,appId:n}=this.config;return`${t}/runtime/${n}`}signInWithIdToken(t){return Ct(this,arguments,void 0,function*({idToken:n,clientName:r,nonce:i}){var a;const l=yield this.getCurrentUser(),u=(a=l?.user)===null||a===void 0?void 0:a.refresh_token,c=yield B$({apiURI:this.config.apiURI,appId:this.config.appId,idToken:n,clientName:r,nonce:i,refreshToken:u});return yield this.changeCurrentUser(c.user),c})}joinRoom(t,n){let r=!1;this._rooms[t]||(r=!0,this._rooms[t]={isConnected:!1,error:void 0}),this._presence[t]=this._presence[t]||{};const i=this._presence[t].result;return n&&!i&&(this._presence[t].result=this._presence[t].result||{},this._presence[t].result.user=n,this._notifyPresenceSubs(t)),r&&this._tryJoinRoom(t,n),()=>{this._cleanupRoom(t)}}_cleanupRoom(t){var n,r,i,a;if(!(!((r=(n=this._presence[t])===null||n===void 0?void 0:n.handlers)===null||r===void 0)&&r.length)&&!Object.keys((i=this._broadcastSubs[t])!==null&&i!==void 0?i:{}).length){const l=(a=this._rooms[t])===null||a===void 0?void 0:a.isConnected;delete this._rooms[t],delete this._presence[t],delete this._broadcastSubs[t],l?this._tryLeaveRoom(t):this._roomsPendingLeave[t]=!0}}getPresence(t,n,r={}){const i=this._rooms[n],a=this._presence[n];return!i||!a||!a.result?null:Object.assign(Object.assign({},Y$(a.result,r,this._sessionId)),{isLoading:!i.isConnected,error:i.error})}publishPresence(t,n,r){const i=this._rooms[n],a=this._presence[n];if(!i||!a)return;a.result=a.result||{};const l=Object.assign(Object.assign({},a.result.user),r);a.result.user=l,i.isConnected&&(this._trySetPresence(n,l),this._notifyPresenceSubs(n))}_trySetPresence(t,n){this._trySendAuthed(Vt(),{op:"set-presence","room-id":t,data:n})}_tryJoinRoom(t,n){this._trySendAuthed(Vt(),{op:"join-room","room-id":t,data:n}),delete this._roomsPendingLeave[t]}_tryLeaveRoom(t){this._trySendAuthed(Vt(),{op:"leave-room","room-id":t})}_trySetRoomConnected(t,n){const r=this._rooms[t];r&&(r.isConnected=n)}subscribePresence(t,n,r,i){const a=this.joinRoom(n,r.initialPresence||r.initialData),l=Object.assign(Object.assign({},r),{roomId:n,cb:i,prev:null});return this._presence[n]=this._presence[n]||{},this._presence[n].handlers=this._presence[n].handlers||[],this._presence[n].handlers.push(l),this._notifyPresenceSub(n,l),()=>{var u,c,d;this._presence[n].handlers=(d=(c=(u=this._presence[n])===null||u===void 0?void 0:u.handlers)===null||c===void 0?void 0:c.filter(h=>h!==l))!==null&&d!==void 0?d:[],a()}}_notifyPresenceSubs(t){var n,r;(r=(n=this._presence[t])===null||n===void 0?void 0:n.handlers)===null||r===void 0||r.forEach(i=>{this._notifyPresenceSub(t,i)})}_notifyPresenceSub(t,n){const r=this.getPresence("",t,n);r&&(n.prev&&!W$(r,n.prev)||(n.prev=r,n.cb(r)))}_patchPresencePeers(t,n){var r,i,a;const l=((i=(r=this._presence[t])===null||r===void 0?void 0:r.result)===null||i===void 0?void 0:i.peers)||{};let u=Object.fromEntries(Object.entries(l).map(([d,h])=>[d,{data:h}]));(a=this._presence[t])===null||a===void 0||a.result;const c=qd(u,d=>{for(let[h,m,g]of n)switch(m){case"+":CB(d,h,g);break;case"r":sx(d,h,g);break;case"-":oI(d,h);break}delete d[this._sessionId]});this._setPresencePeers(t,c)}_setPresencePeers(t,n){const r=Object.assign({},n);delete r[this._sessionId];const i=Object.fromEntries(Object.entries(r).map(([a,l])=>[a,l.data]));this._presence=qd(this._presence,a=>{sx(a,[t,"result","peers"],i)})}publishTopic({roomType:t,roomId:n,topic:r,data:i}){var a;const l=this._rooms[n];if(l){if(!l.isConnected){this._broadcastQueue[n]=(a=this._broadcastQueue[n])!==null&&a!==void 0?a:[],this._broadcastQueue[n].push({topic:r,roomType:t,data:i});return}this._tryBroadcast(n,t,r,i)}}_tryBroadcast(t,n,r,i){this._trySendAuthed(Vt(),{op:"client-broadcast","room-id":t,roomType:n,topic:r,data:i})}subscribeTopic(t,n,r){const i=this.joinRoom(t);return this._broadcastSubs[t]=this._broadcastSubs[t]||{},this._broadcastSubs[t][n]=this._broadcastSubs[t][n]||[],this._broadcastSubs[t][n].push(r),this._presence[t]=this._presence[t]||{},()=>{this._broadcastSubs[t][n]=this._broadcastSubs[t][n].filter(a=>a!==r),this._broadcastSubs[t][n].length||delete this._broadcastSubs[t][n],i()}}_notifyBroadcastSubs(t,n,r){var i,a,l;(l=(a=(i=this._broadcastSubs)===null||i===void 0?void 0:i[t])===null||a===void 0?void 0:a[n])===null||l===void 0||l.forEach(u=>{var c,d,h,m,g,_;const T=(c=r.data)===null||c===void 0?void 0:c.data,w=r.data["peer-id"]===this._sessionId?(h=(d=this._presence[t])===null||d===void 0?void 0:d.result)===null||h===void 0?void 0:h.user:(_=(g=(m=this._presence[t])===null||m===void 0?void 0:m.result)===null||g===void 0?void 0:g.peers)===null||_===void 0?void 0:_[r.data["peer-id"]];return u(T,w)})}uploadFile(t,n,r){return Ct(this,void 0,void 0,function*(){var i;const a=yield this.getCurrentUser(),l=(i=a?.user)===null||i===void 0?void 0:i.refresh_token;return F$(Object.assign(Object.assign({},r),{apiURI:this.config.apiURI,appId:this.config.appId,path:t,file:n,refreshToken:l}))})}deleteFile(t){return Ct(this,void 0,void 0,function*(){var n;const r=yield this.getCurrentUser(),i=(n=r?.user)===null||n===void 0?void 0:n.refresh_token;return yield H$({apiURI:this.config.apiURI,appId:this.config.appId,path:t,refreshToken:i})})}upload(t,n){return Ct(this,void 0,void 0,function*(){var r;const i=yield this.getCurrentUser(),a=(r=i?.user)===null||r===void 0?void 0:r.refresh_token,l=t||n.name,u=yield G$({apiURI:this.config.apiURI,appId:this.config.appId,fileName:l,refreshToken:a});return yield V$(u,n)})}getDownloadUrl(t){return Ct(this,void 0,void 0,function*(){var n;const r=yield this.getCurrentUser(),i=(n=r?.user)===null||n===void 0?void 0:n.refresh_token;return yield K$({apiURI:this.config.apiURI,appId:this.config.appId,path:t,refreshToken:i})})}}let rd;function CF(e,t){rd?.dispose();const n=DF(t),r=OF(t,u),i=PF(MF(e));function a(h){var m;h.source===i.element.contentWindow&&((m=h.data)===null||m===void 0?void 0:m.type)==="close"&&n.isVisible()&&u()}function l(h){const m=h.shiftKey&&h.ctrlKey&&h.key==="0",g=h.key==="Escape"||h.key==="Esc";(m||g&&n.isVisible())&&u()}function u(){n.isVisible()?n.element.style.display="none":(n.element.style.display="block",n.element.contains(i.element)||n.element.appendChild(i.element))}function c(){n.element.remove(),r.element.remove(),removeEventListener("keydown",l),removeEventListener("message",a)}function d(){document.body.appendChild(n.element),document.body.appendChild(r.element),addEventListener("keydown",l),addEventListener("message",a),rd={dispose:c}}return d()}function MF(e){return`${Qb||OI?"http://localhost:3000":"https://instantdb.com"}/_devtool?appId=${e}`}function PF(e){const t=document.createElement("iframe");return t.src=e,t.className="instant-devtool-iframe",Object.assign(t.style,{width:"100%",height:"100%",backgroundColor:"white",border:"none"}),{element:t}}function OF(e,t){const n=`
    <svg width="32" height="32" viewBox="0 0 512 512" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="512" height="512" fill="black"/>
      <rect x="97.0973" y="91.3297" width="140" height="330" fill="white"/>
    </svg>
  `,r=document.createElement("button");return r.innerHTML=n,r.className="instant-devtool-toggler",Object.assign(r.style,Object.assign(Object.assign({position:"fixed"},NF(e.position)),{height:"32px",width:"32px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:"9010",padding:"0",margin:"0",border:"none",cursor:"pointer"})),r.addEventListener("click",t),{element:r}}function NF(e){switch(e){case"bottom-left":return{bottom:"24px",left:"24px"};case"bottom-right":return{bottom:"24px",right:"24px"};case"top-right":return{top:"24px",right:"24px"};case"top-left":return{top:"24px",left:"24px"}}}function IF(e){switch(e){case"bottom-left":return{bottom:"24px",right:"24px",left:"60px",top:"72px"};case"bottom-right":return{bottom:"24px",left:"24px",right:"60px",top:"72px"};case"top-right":return{top:"24px",left:"24px",right:"60px",bottom:"72px"};case"top-left":return{top:"24px",right:"24px",left:"60px",bottom:"72px"}}}function DF(e){const t=document.createElement("div");Object.assign(t.style,Object.assign(Object.assign({position:"fixed"},IF(e.position)),{display:"block",borderRadius:"4px",border:"1px #ccc solid",boxShadow:"0px 0px 8px #00000044",backgroundColor:"#eee",zIndex:"999990"})),t.style.display="none",t.className="instant-devtool-container";function n(){return t.style.display!=="none"}return{element:t,isVisible:n}}const RF={apiURI:"https://api.instantdb.com",websocketURI:"wss://api.instantdb.com/runtime/session"};function kF(){var e;return globalThis.__instantDbSchemaHashStore=(e=globalThis.__instantDbSchemaHashStore)!==null&&e!==void 0?e:new WeakMap,globalThis.__instantDbSchemaHashStore}function LF(){var e;return globalThis.__instantDbStore=(e=globalThis.__instantDbStore)!==null&&e!==void 0?e:{},globalThis.__instantDbStore}function h0(e){const t=e.__adminToken;return e.appId+"_"+(e.websocketURI||"default_ws_uri")+"_"+(e.apiURI||"default_api_uri")+"_"+(t||"client_only")+"_"+e.useDateObjects}const p0=LF(),Ux=kF();class UF{constructor(t){this.db=t,this.sendMagicCode=n=>this.db.sendMagicCode(n),this.signInWithMagicCode=n=>this.db.signInWithMagicCode(n),this.signInWithToken=n=>this.db.signInWithCustomToken(n),this.signInAsGuest=()=>this.db.signInAsGuest(),this.createAuthorizationURL=n=>this.db.createAuthorizationURL(n),this.signInWithIdToken=n=>this.db.signInWithIdToken(n),this.exchangeOAuthCode=n=>this.db.exchangeCodeForToken(n),this.issuerURI=()=>this.db.issuerURI(),this.signOut=(n={invalidateToken:!0})=>this.db.signOut(n)}}class qF{constructor(t){this.db=t,this.uploadFile=(n,r,i={})=>this.db.uploadFile(n,r,i),this.delete=n=>this.db.deleteFile(n),this.upload=(n,r)=>this.db.upload(n,r),this.put=this.upload,this.getDownloadUrl=n=>this.db.getDownloadUrl(n)}}function zF(e){return JSON.parse(JSON.stringify(e))}class jF{constructor(t){this.tx=Xb(),this._reactor=t,this.auth=new UF(this._reactor),this.storage=new qF(this._reactor)}transact(t){return this._reactor.pushTx(t)}getLocalId(t){return this._reactor.getLocalId(t)}subscribeQuery(t,n,r){return this._reactor.subscribeQuery(t,n,r)}subscribeAuth(t){return this._reactor.subscribeAuth(t)}getAuth(){return this._reactor.getAuth()}subscribeConnectionStatus(t){return this._reactor.subscribeConnectionStatus(t)}joinRoom(t="_defaultRoomType",n="_defaultRoomId",r){return{leaveRoom:this._reactor.joinRoom(n,r?.initialPresence),subscribeTopic:(a,l)=>this._reactor.subscribeTopic(n,a,l),subscribePresence:(a,l)=>this._reactor.subscribePresence(t,n,a,l),publishTopic:(a,l)=>this._reactor.publishTopic({roomType:t,roomId:n,topic:a,data:l}),publishPresence:a=>this._reactor.publishPresence(t,n,a),getPresence:a=>this._reactor.getPresence(t,n,a)}}shutdown(){delete p0[h0(this._reactor.config)],this._reactor.shutdown()}queryOnce(t,n){return this._reactor.queryOnce(t,n)}_syncTableExperimental(t,n){return this._reactor.subscribeTable(t,n)}}function qx(e){if(!e)return"0";const t=Ux.get(e);if(t)return t;const n=rn(e);return Ux.set(e,n),n}function BF(e,t){return qx(e._reactor.config.schema)!==qx(t)}function $F(e,t,n,r,i){const a=p0[h0(e)];if(a)return BF(a,e.schema)&&a._reactor.updateSchema(e.schema),a;const l=new xF(Object.assign(Object.assign(Object.assign({},RF),e),{cardinalityInference:!!e.schema}),t||CI,n||MI,Object.assign(Object.assign({},r||{}),{"@instantdb/core":Zb}),i),u=new jF(l);return p0[h0(e)]=u,FF(e.appId,e.devtool),u}function FF(e,t){if(typeof window>"u"||typeof window.location>"u"||typeof document>"u"||typeof t=="boolean"&&!t)return;const n=Object.assign({position:"bottom-right",allowedHosts:["localhost"]},typeof t=="object"?t:{});n.allowedHosts.includes(window.location.hostname)&&CF(e,n)}const HF={isLoading:!0,data:void 0,pageInfo:void 0,error:void 0};function zx(e){return Object.assign({isLoading:!e,data:void 0,pageInfo:void 0,error:void 0},e||{})}function GF(e,t,n){t&&n&&"ruleParams"in n&&(t=Object.assign({$$ruleParams:n.ruleParams},t));const r=t?zF(t):null,i=rn(r),a=A.useRef(zx(e._reactor.getPreviousResult(r))),l=A.useCallback(c=>(a.current=zx(e._reactor.getPreviousResult(r)),r?e.subscribeQuery(r,h=>{a.current=Object.assign({isLoading:!h,data:void 0,pageInfo:void 0,error:void 0},h),c()}):()=>{}),[i]);return{state:A.useSyncExternalStore(l,()=>a.current,()=>HF),query:r}}function VF(){const e=A.useRef(null);A.useEffect(()=>{n()},[]);function t(r,i){clearTimeout(e.current),e.current=setTimeout(i,r)}function n(){clearTimeout(e.current)}return{set:t,clear:n}}const KF=1e3;function YF(e,t,n){const r=A.useRef(n);r.current=n,A.useEffect(()=>e.core._reactor.subscribeTopic(e.id,t,(a,l)=>{r.current(a,l)}),[e.id,t])}function WF(e,t){return A.useEffect(()=>e.core._reactor.joinRoom(e.id),[e.id]),A.useCallback(r=>{e.core._reactor.publishTopic({roomType:e.type,roomId:e.id,topic:t,data:r})},[e.id,t])}function JF(e,t={}){var n,r;const[i,a]=A.useState(()=>{var c;return(c=e.core._reactor.getPresence(e.type,e.id,t))!==null&&c!==void 0?c:{peers:{},isLoading:!0}});A.useEffect(()=>e.core._reactor.subscribePresence(e.type,e.id,t,d=>{a(d)}),[e.id,t.user,(n=t.peers)===null||n===void 0?void 0:n.join(),(r=t.keys)===null||r===void 0?void 0:r.join()]);const l=A.useCallback(c=>{e.core._reactor.publishPresence(e.type,e.id,c)},[e.type,e.id]);return A.useMemo(()=>Object.assign(Object.assign({},i),{publishPresence:l}),[i,l])}function XF(e,t,n){A.useEffect(()=>e.core._reactor.joinRoom(e.id,t),[e.id]),A.useEffect(()=>e.core._reactor.publishPresence(e.type,e.id,t),[e.type,e.id,n??JSON.stringify(t)])}function QF(e,t,n={}){const r=VF(),i=go.usePresence(e,{keys:[t]}),a=A.useMemo(()=>{var h;const m=e._core._reactor.getPresence(e.type,e.id);return n?.writeOnly?[]:Object.values((h=m?.peers)!==null&&h!==void 0?h:{}).filter(g=>g[t]===!0)},[n?.writeOnly,i]),l=A.useCallback(h=>{var m;e.core._reactor.publishPresence(e.type,e.id,{[t]:h}),h&&(n?.timeout===null||n?.timeout===0||r.set((m=n?.timeout)!==null&&m!==void 0?m:KF,()=>{e.core._reactor.publishPresence(e.type,e.id,{[t]:null})}))},[e.type,e.id,t,n?.timeout,r]),u=A.useCallback(h=>{const g=!(n?.stopOnEnter&&h.key==="Enter");l(g)},[n.stopOnEnter,l]),c=A.useCallback(()=>{l(!1)},[l]),d=A.useMemo(()=>({onKeyDown:u,onBlur:c}),[u,c]);return{active:a,setActive:l,inputProps:d}}const go={useTopicEffect:YF,usePublishTopic:WF,usePresence:JF,useSyncPresence:XF,useTypingIndicator:QF};class ZF{constructor(t,n,r){this.useTopicEffect=(i,a)=>{go.useTopicEffect(this,i,a)},this.usePublishTopic=i=>go.usePublishTopic(this,i),this.usePresence=(i={})=>go.usePresence(this,i),this.useSyncPresence=(i,a)=>go.useSyncPresence(this,i,a),this.useTypingIndicator=(i,a={})=>go.useTypingIndicator(this,i,a),this.core=t,this._core=this.core,this.type=n,this.id=r}}var eH=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function c(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})};const tH={isLoading:!0,user:void 0,error:void 0};class nH{constructor(t,n){this.tx=Xb(),this.getLocalId=r=>this.core.getLocalId(r),this.useLocalId=r=>{const[i,a]=A.useState(null);return A.useEffect(()=>{eH(this,void 0,void 0,function*(){const u=yield this.getLocalId(r);a(u)})},[r]),i},this.rooms=go,this.transact=r=>this.core.transact(r),this.useQuery=(r,i)=>GF(this.core,r,i).state,this.useAuth=()=>{const r=A.useRef(this.core._reactor._currentUserCached),i=A.useCallback(l=>this.core.subscribeAuth(c=>{r.current=Object.assign({isLoading:!1},c),l()}),[]);return A.useSyncExternalStore(i,()=>r.current,()=>tH)},this.useUser=()=>{const{user:r}=this.useAuth();if(!r)throw new Ys("useUser must be used within an auth-protected route");return r},this.useConnectionStatus=()=>{const r=A.useRef(this.core._reactor.status),i=A.useCallback(l=>this.core.subscribeConnectionStatus(c=>{c!==r.current&&(r.current=c,l())}),[]);return A.useSyncExternalStore(i,()=>r.current,()=>"connecting")},this.queryOnce=(r,i)=>this.core.queryOnce(r,i),this.SignedIn=({children:r})=>{const i=this.useAuth();return i.isLoading||i.error||!i.user?null:M.jsx(M.Fragment,{children:r})},this.SignedOut=({children:r})=>{const i=this.useAuth();return i.isLoading||i.error||i.user?null:M.jsx(M.Fragment,{children:r})},this.core=$F(t,this.constructor.Storage,this.constructor.NetworkListener,n,this.constructor.EventSourceImpl),this._core=this.core,this.auth=this.core.auth,this.storage=this.core.storage}room(t="_defaultRoomType",n="_defaultRoomId"){return new ZF(this.core,t,n)}getAuth(){return this.core.getAuth()}}class jx extends Error{constructor(t,n){super(t),this.name="ParseError",this.type=n.type,this.field=n.field,this.value=n.value,this.line=n.line}}function dg(e){}function rH(e){if(typeof e=="function")throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent:t=dg,onError:n=dg,onRetry:r=dg,onComment:i}=e;let a="",l=!0,u,c="",d="";function h(w){const E=l?w.replace(/^\xEF\xBB\xBF/,""):w,[C,O]=iH(`${a}${E}`);for(const P of C)m(P);a=O,l=!1}function m(w){if(w===""){_();return}if(w.startsWith(":")){i&&i(w.slice(w.startsWith(": ")?2:1));return}const E=w.indexOf(":");if(E!==-1){const C=w.slice(0,E),O=w[E+1]===" "?2:1,P=w.slice(E+O);g(C,P,w);return}g(w,"",w)}function g(w,E,C){switch(w){case"event":d=E;break;case"data":c=`${c}${E}
`;break;case"id":u=E.includes("\0")?void 0:E;break;case"retry":/^\d+$/.test(E)?r(parseInt(E,10)):n(new jx(`Invalid \`retry\` value: "${E}"`,{type:"invalid-retry",value:E,line:C}));break;default:n(new jx(`Unknown field "${w.length>20?`${w.slice(0,20)}`:w}"`,{type:"unknown-field",field:w,value:E,line:C}));break}}function _(){c.length>0&&t({id:u,event:d||void 0,data:c.endsWith(`
`)?c.slice(0,-1):c}),u=void 0,c="",d=""}function T(w={}){a&&w.consume&&m(a),l=!0,u=void 0,c="",d="",a=""}return{feed:h,reset:T}}function iH(e){const t=[];let n="",r=0;for(;r<e.length;){const i=e.indexOf("\r",r),a=e.indexOf(`
`,r);let l=-1;if(i!==-1&&a!==-1?l=Math.min(i,a):i!==-1?i===e.length-1?l=-1:l=i:a!==-1&&(l=a),l===-1){n=e.slice(r);break}else{const u=e.slice(r,l);t.push(u),r=l+1,e[r-1]==="\r"&&e[r]===`
`&&r++}}return[t,n]}class Bx extends Event{constructor(t,n){var r,i;super(t),this.code=(r=n?.code)!=null?r:void 0,this.message=(i=n?.message)!=null?i:void 0}[Symbol.for("nodejs.util.inspect.custom")](t,n,r){return r($x(this),n)}[Symbol.for("Deno.customInspect")](t,n){return t($x(this),n)}}function aH(e){const t=globalThis.DOMException;return typeof t=="function"?new t(e,"SyntaxError"):new SyntaxError(e)}function m0(e){return e instanceof Error?"errors"in e&&Array.isArray(e.errors)?e.errors.map(m0).join(", "):"cause"in e&&e.cause instanceof Error?`${e}: ${m0(e.cause)}`:e.message:`${e}`}function $x(e){return{type:e.type,message:e.message,code:e.code,defaultPrevented:e.defaultPrevented,cancelable:e.cancelable,timeStamp:e.timeStamp}}var qI=e=>{throw TypeError(e)},e_=(e,t,n)=>t.has(e)||qI("Cannot "+n),De=(e,t,n)=>(e_(e,t,"read from private field"),n?n.call(e):t.get(e)),Rt=(e,t,n)=>t.has(e)?qI("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ct=(e,t,n,r)=>(e_(e,t,"write to private field"),t.set(e,n),n),xi=(e,t,n)=>(e_(e,t,"access private method"),n),Rn,yo,Ns,Cd,Bd,Lu,ks,Uu,Na,Is,js,Ds,Pu,Pr,v0,g0,y0,Fx,b0,_0,Ou,S0,T0;class qu extends EventTarget{constructor(t,n){var r,i;super(),Rt(this,Pr),this.CONNECTING=0,this.OPEN=1,this.CLOSED=2,Rt(this,Rn),Rt(this,yo),Rt(this,Ns),Rt(this,Cd),Rt(this,Bd),Rt(this,Lu),Rt(this,ks),Rt(this,Uu,null),Rt(this,Na),Rt(this,Is),Rt(this,js,null),Rt(this,Ds,null),Rt(this,Pu,null),Rt(this,g0,async a=>{var l;De(this,Is).reset();const{body:u,redirected:c,status:d,headers:h}=a;if(d===204){xi(this,Pr,Ou).call(this,"Server sent HTTP 204, not reconnecting",204),this.close();return}if(c?ct(this,Ns,new URL(a.url)):ct(this,Ns,void 0),d!==200){xi(this,Pr,Ou).call(this,`Non-200 status code (${d})`,d);return}if(!(h.get("content-type")||"").startsWith("text/event-stream")){xi(this,Pr,Ou).call(this,'Invalid content type, expected "text/event-stream"',d);return}if(De(this,Rn)===this.CLOSED)return;ct(this,Rn,this.OPEN);const m=new Event("open");if((l=De(this,Pu))==null||l.call(this,m),this.dispatchEvent(m),typeof u!="object"||!u||!("getReader"in u)){xi(this,Pr,Ou).call(this,"Invalid response body, expected a web ReadableStream",d),this.close();return}const g=new TextDecoder,_=u.getReader();let T=!0;do{const{done:w,value:E}=await _.read();E&&De(this,Is).feed(g.decode(E,{stream:!w})),w&&(T=!1,De(this,Is).reset(),xi(this,Pr,S0).call(this))}while(T)}),Rt(this,y0,a=>{ct(this,Na,void 0),!(a.name==="AbortError"||a.type==="aborted")&&xi(this,Pr,S0).call(this,m0(a))}),Rt(this,b0,a=>{typeof a.id=="string"&&ct(this,Uu,a.id);const l=new MessageEvent(a.event||"message",{data:a.data,origin:De(this,Ns)?De(this,Ns).origin:De(this,yo).origin,lastEventId:a.id||""});De(this,Ds)&&(!a.event||a.event==="message")&&De(this,Ds).call(this,l),this.dispatchEvent(l)}),Rt(this,_0,a=>{ct(this,Lu,a)}),Rt(this,T0,()=>{ct(this,ks,void 0),De(this,Rn)===this.CONNECTING&&xi(this,Pr,v0).call(this)});try{if(t instanceof URL)ct(this,yo,t);else if(typeof t=="string")ct(this,yo,new URL(t,oH()));else throw new Error("Invalid URL")}catch{throw aH("An invalid or illegal string was specified")}ct(this,Is,rH({onEvent:De(this,b0),onRetry:De(this,_0)})),ct(this,Rn,this.CONNECTING),ct(this,Lu,3e3),ct(this,Bd,(r=n?.fetch)!=null?r:globalThis.fetch),ct(this,Cd,(i=n?.withCredentials)!=null?i:!1),xi(this,Pr,v0).call(this)}get readyState(){return De(this,Rn)}get url(){return De(this,yo).href}get withCredentials(){return De(this,Cd)}get onerror(){return De(this,js)}set onerror(t){ct(this,js,t)}get onmessage(){return De(this,Ds)}set onmessage(t){ct(this,Ds,t)}get onopen(){return De(this,Pu)}set onopen(t){ct(this,Pu,t)}addEventListener(t,n,r){const i=n;super.addEventListener(t,i,r)}removeEventListener(t,n,r){const i=n;super.removeEventListener(t,i,r)}close(){De(this,ks)&&clearTimeout(De(this,ks)),De(this,Rn)!==this.CLOSED&&(De(this,Na)&&De(this,Na).abort(),ct(this,Rn,this.CLOSED),ct(this,Na,void 0))}}Rn=new WeakMap,yo=new WeakMap,Ns=new WeakMap,Cd=new WeakMap,Bd=new WeakMap,Lu=new WeakMap,ks=new WeakMap,Uu=new WeakMap,Na=new WeakMap,Is=new WeakMap,js=new WeakMap,Ds=new WeakMap,Pu=new WeakMap,Pr=new WeakSet,v0=function(){ct(this,Rn,this.CONNECTING),ct(this,Na,new AbortController),De(this,Bd)(De(this,yo),xi(this,Pr,Fx).call(this)).then(De(this,g0)).catch(De(this,y0))},g0=new WeakMap,y0=new WeakMap,Fx=function(){var e;const t={mode:"cors",redirect:"follow",headers:{Accept:"text/event-stream",...De(this,Uu)?{"Last-Event-ID":De(this,Uu)}:void 0},cache:"no-store",signal:(e=De(this,Na))==null?void 0:e.signal};return"window"in globalThis&&(t.credentials=this.withCredentials?"include":"same-origin"),t},b0=new WeakMap,_0=new WeakMap,Ou=function(e,t){var n;De(this,Rn)!==this.CLOSED&&ct(this,Rn,this.CLOSED);const r=new Bx("error",{code:t,message:e});(n=De(this,js))==null||n.call(this,r),this.dispatchEvent(r)},S0=function(e,t){var n;if(De(this,Rn)===this.CLOSED)return;ct(this,Rn,this.CONNECTING);const r=new Bx("error",{code:t,message:e});(n=De(this,js))==null||n.call(this,r),this.dispatchEvent(r),ct(this,ks,setTimeout(De(this,T0),De(this,Lu)))},T0=new WeakMap,qu.CONNECTING=0,qu.OPEN=1,qu.CLOSED=2;Object.defineProperty(qu,Symbol.for("eventsource.supports-fetch-override"),{value:!0,writable:!1,configurable:!1,enumerable:!1});function oH(){const e="document"in globalThis?globalThis.document:void 0;return e&&typeof e=="object"&&"baseURI"in e&&typeof e.baseURI=="string"?e.baseURI:void 0}class zI extends nH{}zI.EventSourceImpl=qu;function sH(e){return new zI(e,{"@instantdb/react":Zb})}const lH="fb13a3d0-35ab-493b-9aa6-64a77363fe93",ze=sH({appId:lH}),$d={calories_min:1600,calories_max:2e3,purines_min:0,purines_max:400,protein_target:50,carbs_target:250,fat_target:65,fiber_target:25,sodium_max:2300,sugar_max:50,hydration_target:2e3},Ci={calories:{icon:"",unit:"kcal",label:"Calories"},purines:{icon:"",unit:"mg",label:"Purines"},protein:{icon:"",unit:"g",label:"Protein"},carbs:{icon:"",unit:"g",label:"Carbs"},fat:{icon:"",unit:"g",label:"Fat"},fiber:{icon:"",unit:"g",label:"Fiber"},sodium:{icon:"",unit:"mg",label:"Sodium"},sugar:{icon:"",unit:"g",label:"Sugar"},hydration:{icon:"",unit:"ml",label:"Water"}};function uH(e,t,n,r){const i=10*e+6.25*t-5*n;return r==="male"?i+5:i-161}const cH={sedentary:1.2,light:1.375,moderate:1.55,active:1.725,very_active:1.9};function fH(e,t,n,r,i){const a=uH(e,t,n,r),l=cH[i]||1.55;return Math.round(a*l)}function dH(e=[]){return e.includes("kidney_disease")?150:e.includes("gout")?200:400}function hH(e,t){const n=e*30;return Math.round(n+({sedentary:0,light:200,moderate:400,active:600,very_active:800}[t]||0))}function pH(e){const{weight_kg:t,height_cm:n,age:r,sex:i,activity_level:a,dietary_conditions:l=[]}=e,u=fH(t,n,r,i,a),c=dH(l),d=hH(t,a),m=Math.round(t*({sedentary:.8,light:.9,moderate:1,active:1.2,very_active:1.4}[a]||1));let g=.5;l.includes("diabetes")&&(g=.4);const _=Math.round(u*g/4),T=Math.round(u*.275/9);let w=i==="female"?25:38;r>50&&(w=i==="female"?21:30);let E=2300;l.includes("kidney_disease")&&(E=1500);let C=i==="female"?25:36;return(l.includes("diabetes")||l.includes("gout"))&&(C=Math.round(C*.6)),{calories_min:Math.round(u*.85),calories_max:u,purines_min:0,purines_max:c,protein_target:m,carbs_target:_,fat_target:T,fiber_target:w,sodium_max:E,sugar_max:C,hydration_target:d}}function mH(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function Hx(){return mH(new Date)}function vH(e){e=e.replace(/^#/,"");const t=parseInt(e.substring(0,2),16)/255,n=parseInt(e.substring(2,4),16)/255,r=parseInt(e.substring(4,6),16)/255,i=Math.max(t,n,r),a=Math.min(t,n,r);let l,u,c=(i+a)/2;if(i===a)l=u=0;else{const d=i-a;switch(u=c>.5?d/(2-i-a):d/(i+a),i){case t:l=((n-r)/d+(n<r?6:0))/6;break;case n:l=((r-t)/d+2)/6;break;case r:l=((t-n)/d+4)/6;break}}return{h:Math.round(l*360),s:Math.round(u*100),l:Math.round(c*100)}}function Ft(e,t,n){t/=100,n/=100;const r=(1-Math.abs(2*n-1))*t,i=r*(1-Math.abs(e/60%2-1)),a=n-r/2;let l=0,u=0,c=0;return 0<=e&&e<60?(l=r,u=i,c=0):60<=e&&e<120?(l=i,u=r,c=0):120<=e&&e<180?(l=0,u=r,c=i):180<=e&&e<240?(l=0,u=i,c=r):240<=e&&e<300?(l=i,u=0,c=r):300<=e&&e<360&&(l=r,u=0,c=i),l=Math.round((l+a)*255).toString(16).padStart(2,"0"),u=Math.round((u+a)*255).toString(16).padStart(2,"0"),c=Math.round((c+a)*255).toString(16).padStart(2,"0"),`#${l}${u}${c}`}function bo(e,t=!1){const n=vH(e);return t?{primary:e,primaryLight:Ft(n.h,n.s*.8,Math.min(n.l+15,80)),primaryDark:Ft(n.h,n.s,Math.max(n.l-15,20)),background:Ft(n.h,n.s*.2,12),surface:Ft(n.h,n.s*.15,18),surfaceVariant:Ft(n.h,n.s*.2,25),secondary:Ft((n.h+180)%360,n.s*.7,60),text:Ft(n.h,n.s*.1,95),textSecondary:Ft(n.h,n.s*.15,70),border:Ft(n.h,n.s*.2,30),success:"#66BB6A",warning:"#FFA726",danger:"#EF5350"}:{primary:e,primaryLight:Ft(n.h,n.s*.6,Math.min(n.l+20,90)),primaryDark:Ft(n.h,n.s,Math.max(n.l-20,30)),background:Ft(n.h,n.s*.3,97),surface:Ft(n.h,n.s*.1,100),surfaceVariant:Ft(n.h,n.s*.2,95),secondary:Ft((n.h+180)%360,n.s*.7,n.l),text:Ft(n.h,n.s*.5,15),textSecondary:Ft(n.h,n.s*.3,40),border:Ft(n.h,n.s*.2,85),success:"#66BB6A",warning:"#FFA726",danger:"#EF5350"}}const zu={emerald:{name:"Emerald Dragon",description:"Bright, cheerful, default",seedColor:"#66BB6A",isDark:!1},midnight:{name:"Midnight Dragon",description:"Sleek, easy on eyes",seedColor:"#7B2CBF",isDark:!0},crystal:{name:"Crystal Dragon",description:"High contrast, accessible",seedColor:"#2196F3",isDark:!1}};function _o(e){const t=document.documentElement;Object.entries(e).forEach(([n,r])=>{const i=`--color-${n.replace(/([A-Z])/g,"-$1").toLowerCase()}`;t.style.setProperty(i,r)})}function gH(e,t,n){return e>n?"danger":e>n*.8||t&&e<t*.8?"warning":"success"}const jI=A.createContext(null),gu={id:"local-user",name:"Dragon Keeper",profile:{sex:"male",age:30,weight_kg:75,height_cm:175,activity_level:"moderate",dietary_conditions:[]},thresholds:$d,theme:{preset:"emerald",seed_color_hex:"#66BB6A"},badges:[],stats:{total_meals_logged:0,current_streak_days:0,longest_streak_days:0,meals_saved_to_stash:0}};function yH({children:e}){const[t,n]=A.useState(null),[r,i]=A.useState(!0),[a,l]=A.useState(!1),{isLoading:u,error:c,data:d}=ze.useQuery({users:{}});A.useEffect(()=>{if(!u){if(d?.users&&d.users.length>0){const w=d.users[0];if(n({...gu,...w,profile:{...gu.profile,...w.profile},thresholds:{...gu.thresholds,...w.thresholds},theme:{...gu.theme,...w.theme}}),l(!0),w.theme?.preset){const E=zu[w.theme.preset];if(E){const C=bo(E.seedColor,E.isDark);_o(C)}else if(w.theme.seed_color_hex){const C=bo(w.theme.seed_color_hex,!1);_o(C)}}}else{n(gu),l(!1);const w=zu.emerald,E=bo(w.seedColor,w.isDark);_o(E)}i(!1)}},[u,d]);const T={user:t,isLoading:r||u,isAuthenticated:a,error:c,updateProfile:async w=>{const E={...t,profile:{...t.profile,...w}};n(E),t.id&&t.id!=="local-user"&&await ze.transact([ze.tx.users[t.id].update({profile:E.profile})])},updateThresholds:async w=>{const E={...t,thresholds:{...t.thresholds,...w}};n(E),t.id&&t.id!=="local-user"&&await ze.transact([ze.tx.users[t.id].update({thresholds:E.thresholds})])},updateTheme:async(w,E=null)=>{const C={preset:w,seed_color_hex:E||t.theme.seed_color_hex},O={...t,theme:C};if(n(O),w==="custom"&&E){const P=bo(E,!1);_o(P)}else{const P=zu[w];if(P){const R=bo(P.seedColor,P.isDark);_o(R)}}t.id&&t.id!=="local-user"&&await ze.transact([ze.tx.users[t.id].update({theme:C})])},saveUser:async(w=null)=>{const E=w||t;if(t.id==="local-user"){const C=crypto.randomUUID(),O={...E,id:C};return await ze.transact([ze.tx.users[C].update({id:C,name:O.name,profile:O.profile,thresholds:O.thresholds,theme:O.theme,badges:O.badges||[],stats:O.stats||{},created_at:Date.now()})]),n(O),l(!0),C}else return await ze.transact([ze.tx.users[t.id].update({name:E.name,profile:E.profile,thresholds:E.thresholds,theme:E.theme,updated_at:Date.now()})]),t.id},setUser:n};return M.jsx(jI.Provider,{value:T,children:e})}function ul(){const e=A.useContext(jI);if(!e)throw new Error("useUser must be used within a UserProvider");return e}const bH=[{path:"/",icon:"",label:"Diary"},{path:"/charts",icon:"",label:"Scroll"},{path:"/oracle",icon:"",label:"Oracle"},{path:"/settings",icon:"",label:"Lair"}];function _H(){return M.jsx("nav",{className:"nav-bar",children:bH.map(e=>M.jsxs(JN,{to:e.path,className:({isActive:t})=>`nav-item ${t?"active":""}`,children:[M.jsx("span",{className:"nav-icon",children:e.icon}),M.jsx("span",{className:"nav-label",children:e.label})]},e.path))})}function Bi({title:e,subtitle:t,action:n,showBack:r,onBack:i}){return M.jsx("header",{className:"header",children:M.jsxs("div",{className:"header-content",children:[r&&M.jsx("button",{className:"header-back",onClick:i,"aria-label":"Go back",children:""}),M.jsxs("div",{className:"header-title-group",children:[M.jsxs("h1",{className:"header-title",children:[M.jsx("span",{className:"header-dragon",children:""})," ",e]}),t&&M.jsx("p",{className:"header-subtitle",children:t})]}),n&&M.jsx("div",{className:"header-action",children:n})]})})}function wi({nutrient:e,value:t,target:n,min:r=0,max:i,showLabel:a=!0,compact:l=!1}){const u=Ci[e]||{icon:"",unit:"",label:e},c=i||n,d=Math.min(t/c*100,100),h=gH(t,r,c);return M.jsxs("div",{className:`nutrient-progress ${l?"compact":""}`,children:[a&&M.jsxs("div",{className:"nutrient-header",children:[M.jsxs("span",{className:"nutrient-label",children:[M.jsx("span",{className:"nutrient-icon",children:u.icon}),M.jsx("span",{className:"nutrient-name",children:u.label})]}),M.jsxs("span",{className:"nutrient-value",children:[M.jsx("span",{className:"current",children:Math.round(t)}),M.jsx("span",{className:"separator",children:"/"}),M.jsx("span",{className:"target",children:Math.round(c)}),M.jsx("span",{className:"unit",children:u.unit})]})]}),M.jsx("div",{className:"progress-bar",children:M.jsx("div",{className:`progress-bar-fill ${h}`,style:{width:`${d}%`}})}),!l&&M.jsxs("div",{className:"nutrient-footer",children:[M.jsxs("span",{className:`status-indicator ${h}`,children:[h==="success"&&"",h==="warning"&&"",h==="danger"&&""]}),M.jsxs("span",{className:"percentage",children:[Math.round(d),"%"]})]})]})}const Gx={curious:{emoji:"",animation:"sniff",message:"Your dragon is looking for food..."},happy:{emoji:"",animation:"bounce",message:"Your dragon is happy!"},satisfied:{emoji:"",animation:"pulse",message:"Your dragon is satisfied and content."},stuffed:{emoji:"",animation:"wobble",message:"Your dragon ate too much!"},sick:{emoji:"",animation:"shake",message:"Your dragon isn't feeling well..."},celebrating:{emoji:"",animation:"celebrate",message:"Your dragon is celebrating! "},hoarding:{emoji:"",animation:"hoard",message:"Saved to your dragon's hoard!"}};function E0({state:e="happy",showMessage:t=!0,size:n="medium"}){const r=Gx[e]||Gx.happy;return M.jsxs("div",{className:`ember-mascot ${n}`,children:[M.jsxs("div",{className:`ember-emoji ${r.animation}`,children:[r.emoji,e==="sick"&&M.jsx("span",{className:"ember-effect",children:""}),e==="celebrating"&&M.jsx("span",{className:"ember-effect",children:""}),e==="happy"&&M.jsx("span",{className:"ember-effect",children:""})]}),t&&M.jsx("p",{className:"ember-message",children:r.message})]})}function SH(e,t){if(!e||!t)return"curious";const n=e.calories/t.calories_max,r=e.purines/t.purines_max;return r>1?"sick":n>1?"stuffed":r>.8||n>.8?"satisfied":e.calories===0?"curious":"happy"}const w0=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`},Vx={breakfast:1,lunch:2,dinner:3,snack:4,hydration:5};function t_(e=null){const{user:t}=ul(),n=t?.id,r=e?{meals:{$:{where:{user_id:n,date:e}}}}:{meals:{$:{where:{user_id:n}}}},{isLoading:i,error:a,data:l}=ze.useQuery(n?r:null),u=l?.meals||[];return{meals:A.useMemo(()=>[...u].sort((_,T)=>{const w=Vx[_.meal_type]||99,E=Vx[T.meal_type]||99;return w-E}),[u]),isLoading:i,error:a,addMeal:async _=>{if(!n)return null;const T=crypto.randomUUID(),w={id:T,user_id:n,date:_.date||w0(),timestamp:Date.now(),meal_type:_.meal_type||"snack",meal_name:_.meal_name||"Unnamed Meal",ingredients:_.ingredients||[],total_nutrients:_.total_nutrients||{},hydration_ml:_.hydration_ml||0,image_urls:_.image_urls||[],analysis_method:_.analysis_method||"manual"};return await ze.transact([ze.tx.meals[T].update(w)]),T},updateMeal:async(_,T)=>{await ze.transact([ze.tx.meals[_].update({...T,updated_at:Date.now()})])},deleteMeal:async _=>{await ze.transact([ze.tx.meals[_].delete()])},getDailyTotals:(_=e||w0())=>u.filter(E=>E.date===_).reduce((E,C)=>(C.total_nutrients&&Object.keys(C.total_nutrients).forEach(O=>{E[O]=(E[O]||0)+(C.total_nutrients[O]||0)}),E.hydration=(E.hydration||0)+(C.hydration_ml||0),E),{})}}function BI(e=w0()){const{user:t}=ul(),n=t?.id,{isLoading:r,data:i}=ze.useQuery(n?{hydration:{$:{where:{user_id:n,date:e}}}}:null),l=(i?.hydration||[])[0],u=l?.amount_ml||0,c=async h=>{if(n)if(l)await ze.transact([ze.tx.hydration[l.id].update({amount_ml:Math.max(0,h),updated_at:Date.now()})]);else{const m=crypto.randomUUID();await ze.transact([ze.tx.hydration[m].update({id:m,user_id:n,date:e,amount_ml:Math.max(0,h),created_at:Date.now(),updated_at:Date.now()})])}};return{totalHydration:u,isLoading:r,setHydration:c,adjustHydration:async h=>{if(!n)return;const m=Math.max(0,u+h);await c(m)}}}function n_(){const{user:e}=ul(),t=e?.id,{isLoading:n,error:r,data:i}=ze.useQuery(t?{customItems:{$:{where:{user_id:t}}}}:null),a=i?.customItems||[],l=a.filter(g=>g.type==="meal"),u=a.filter(g=>g.type==="ingredient"),c=a.filter(g=>g.type==="container");return{savedMeals:l,customIngredients:u,bottles:c,items:a,isLoading:n,error:r,addToStash:async g=>{if(!t)return null;const _=crypto.randomUUID();return await ze.transact([ze.tx.customItems[_].update({id:_,user_id:t,type:g.type,name:g.name,icon:g.icon||null,ingredients:g.ingredients||[],total_nutrients:g.total_nutrients||{},capacity_ml:g.capacity_ml||0,use_count:g.use_count||0,created_at:Date.now()})]),_},removeFromStash:async g=>{await ze.transact([ze.tx.customItems[g].delete()])},updateStashItem:async(g,_)=>{await ze.transact([ze.tx.customItems[g].update({..._,updated_at:Date.now()})])}}}function TH(){const{isLoading:e,data:t}=ze.useQuery({ingredientLibrary:{}}),n=t?.ingredientLibrary||[];return{ingredients:n,isLoading:e,lookupIngredient:l=>{const u=Kx(l);return n.find(c=>c.normalized_name===u)},addIngredient:async l=>{const u=Kx(l.name);return await ze.transact([ze.tx.ingredientLibrary[u].update({normalized_name:u,display_name:l.name,nutrients_per_100g:l.nutrients_per_100g,use_count:1,last_used:Date.now(),source:l.source||"manual"})]),u},recordUsage:async l=>{const u=n.find(c=>c.normalized_name===l);u&&await ze.transact([ze.tx.ingredientLibrary[l].update({use_count:(u.use_count||0)+1,last_used:Date.now()})])}}}function Kx(e){return e.toLowerCase().trim().replace(/s$/,"").replace(/ies$/,"y").replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"_")}let EH,wH;function AH(){return{geminiUrl:EH,vertexUrl:wH}}function xH(e,t,n,r){var i,a;if(!e?.baseUrl){const l=AH();return t?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(a=l.geminiUrl)!==null&&a!==void 0?a:r}return e.baseUrl}class Qi{}function ce(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const a=t[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function y(e,t,n){for(let a=0;a<t.length-1;a++){const l=t[a];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[u])){const c=e[u];if(Array.isArray(n))for(let d=0;d<c.length;d++){const h=c[d];y(h,t.slice(a+1),n[d])}else for(const d of c)y(d,t.slice(a+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in e||(e[u]=[{}]);const c=e[u];y(c[0],t.slice(a+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function v(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const i=t[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in e){const l=e[a];return Array.isArray(l)?l.map(u=>v(u,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function CH(e,t){for(const[n,r]of Object.entries(t)){const i=n.split("."),a=r.split("."),l=new Set;let u=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){u=c;break}if(u!==-1&&a.length>u)for(let c=u;c<a.length;c++){const d=a[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}A0(e,i,a,0,l)}}function A0(e,t,n,r,i){if(r>=t.length||typeof e!="object"||e===null)return;const a=t[r];if(a.endsWith("[]")){const l=a.slice(0,-2),u=e;if(l in u&&Array.isArray(u[l]))for(const c of u[l])A0(c,t,n,r+1,i)}else if(a==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,u=Object.keys(l).filter(d=>!d.startsWith("_")&&!i.has(d)),c={};for(const d of u)c[d]=l[d];for(const[d,h]of Object.entries(c)){const m=[];for(const g of n.slice(r))g==="*"?m.push(d):m.push(g);y(l,m,h)}for(const d of u)delete l[d]}}else{const l=e;a in l&&A0(l[a],t,n,r+1,i)}}function r_(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function MH(e){const t={},n=v(e,["operationName"]);n!=null&&y(t,["operationName"],n);const r=v(e,["resourceName"]);return r!=null&&y(t,["_url","resourceName"],r),t}function PH(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=v(e,["done"]);i!=null&&y(t,["done"],i);const a=v(e,["error"]);a!=null&&y(t,["error"],a);const l=v(e,["response","generateVideoResponse"]);return l!=null&&y(t,["response"],NH(l)),t}function OH(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=v(e,["done"]);i!=null&&y(t,["done"],i);const a=v(e,["error"]);a!=null&&y(t,["error"],a);const l=v(e,["response"]);return l!=null&&y(t,["response"],IH(l)),t}function NH(e){const t={},n=v(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>DH(l))),y(t,["generatedVideos"],a)}const r=v(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const i=v(e,["raiMediaFilteredReasons"]);return i!=null&&y(t,["raiMediaFilteredReasons"],i),t}function IH(e){const t={},n=v(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>RH(l))),y(t,["generatedVideos"],a)}const r=v(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const i=v(e,["raiMediaFilteredReasons"]);return i!=null&&y(t,["raiMediaFilteredReasons"],i),t}function DH(e){const t={},n=v(e,["video"]);return n!=null&&y(t,["video"],jH(n)),t}function RH(e){const t={},n=v(e,["_self"]);return n!=null&&y(t,["video"],BH(n)),t}function kH(e){const t={},n=v(e,["operationName"]);return n!=null&&y(t,["_url","operationName"],n),t}function LH(e){const t={},n=v(e,["operationName"]);return n!=null&&y(t,["_url","operationName"],n),t}function UH(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=v(e,["done"]);i!=null&&y(t,["done"],i);const a=v(e,["error"]);a!=null&&y(t,["error"],a);const l=v(e,["response"]);return l!=null&&y(t,["response"],qH(l)),t}function qH(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["parent"]);r!=null&&y(t,["parent"],r);const i=v(e,["documentName"]);return i!=null&&y(t,["documentName"],i),t}function $I(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=v(e,["done"]);i!=null&&y(t,["done"],i);const a=v(e,["error"]);a!=null&&y(t,["error"],a);const l=v(e,["response"]);return l!=null&&y(t,["response"],zH(l)),t}function zH(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["parent"]);r!=null&&y(t,["parent"],r);const i=v(e,["documentName"]);return i!=null&&y(t,["documentName"],i),t}function jH(e){const t={},n=v(e,["uri"]);n!=null&&y(t,["uri"],n);const r=v(e,["encodedVideo"]);r!=null&&y(t,["videoBytes"],r_(r));const i=v(e,["encoding"]);return i!=null&&y(t,["mimeType"],i),t}function BH(e){const t={},n=v(e,["gcsUri"]);n!=null&&y(t,["uri"],n);const r=v(e,["bytesBase64Encoded"]);r!=null&&y(t,["videoBytes"],r_(r));const i=v(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}var Yx;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Yx||(Yx={}));var Wx;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Wx||(Wx={}));var Jx;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(Jx||(Jx={}));var Da;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Da||(Da={}));var Xx;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Xx||(Xx={}));var Qx;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Qx||(Qx={}));var Zx;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(Zx||(Zx={}));var eC;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(eC||(eC={}));var tC;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(tC||(tC={}));var nC;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.HIGH="HIGH"})(nC||(nC={}));var rC;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(rC||(rC={}));var iC;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(iC||(iC={}));var aC;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(aC||(aC={}));var oC;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(oC||(oC={}));var sC;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(sC||(sC={}));var lC;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(lC||(lC={}));var uC;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(uC||(uC={}));var cC;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(cC||(cC={}));var fC;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(fC||(fC={}));var Fd;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Fd||(Fd={}));var dC;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(dC||(dC={}));var hC;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(hC||(hC={}));var pC;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(pC||(pC={}));var x0;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(x0||(x0={}));var mC;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(mC||(mC={}));var vC;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(vC||(vC={}));var gC;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(gC||(gC={}));var yC;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(yC||(yC={}));var bC;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(bC||(bC={}));var _C;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(_C||(_C={}));var SC;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(SC||(SC={}));var TC;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(TC||(TC={}));var EC;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(EC||(EC={}));var wC;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(wC||(wC={}));var AC;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(AC||(AC={}));var xC;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(xC||(xC={}));var CC;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(CC||(CC={}));var MC;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(MC||(MC={}));var PC;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(PC||(PC={}));var OC;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(OC||(OC={}));var NC;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(NC||(NC={}));var IC;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(IC||(IC={}));var DC;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(DC||(DC={}));var RC;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(RC||(RC={}));var kC;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(kC||(kC={}));var LC;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(LC||(LC={}));var UC;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(UC||(UC={}));var qC;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(qC||(qC={}));var zC;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(zC||(zC={}));var jC;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(jC||(jC={}));var BC;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(BC||(BC={}));var $C;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})($C||($C={}));var FC;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(FC||(FC={}));var HC;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(HC||(HC={}));var Ls;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Ls||(Ls={}));class C0{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class yu{get text(){var t,n,r,i,a,l,u,c;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const m=[];for(const g of(c=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[_,T]of Object.entries(g))_!=="text"&&_!=="thought"&&_!=="thoughtSignature"&&(T!==null||T!==void 0)&&m.push(_);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;h=!0,d+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var t,n,r,i,a,l,u,c;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const m of(c=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[g,_]of Object.entries(m))g!=="inlineData"&&(_!==null||_!==void 0)&&h.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(d+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var t,n,r,i,a,l,u,c;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if(d?.length!==0)return d}get executableCode(){var t,n,r,i,a,l,u,c,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if(h?.length!==0)return(d=h?.[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var t,n,r,i,a,l,u,c,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if(h?.length!==0)return(d=h?.[0])===null||d===void 0?void 0:d.output}}class GC{}class VC{}class $H{}class FH{}class HH{}class GH{}class KC{}class YC{}class WC{}class VH{}class Hd{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Hd;let i;const a=t;return n?i=OH(a):i=PH(a),Object.assign(r,i),r}}class JC{}class XC{}class QC{}class KH{}class YH{}class WH{}class i_{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new i_,a=UH(t);return Object.assign(r,a),r}}class JH{}class XH{}class QH{}class ZC{}class ZH{get text(){var t,n,r;let i="",a=!1;const l=[];for(const u of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,d]of Object.entries(u))c!=="text"&&c!=="thought"&&d!==null&&l.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;a=!0,i+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var t,n,r;let i="";const a=[];for(const l of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(l))u!=="inlineData"&&c!==null&&a.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class eG{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class a_{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new a_,a=$I(t);return Object.assign(r,a),r}}function $e(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function FI(e,t){const n=$e(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function HI(e){return Array.isArray(e)?e.map(t=>Gd(t)):[Gd(e)]}function Gd(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function GI(e){const t=Gd(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function VI(e){const t=Gd(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function e1(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function KI(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>e1(t)):[e1(e)]}function M0(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function t1(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function n1(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function hn(e){if(e==null)throw new Error("ContentUnion is required");return M0(e)?e:{role:"user",parts:KI(e)}}function o_(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=hn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=hn(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>hn(n)):[hn(t)]}function br(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(t1(e)||n1(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[hn(e)]}const t=[],n=[],r=M0(e[0]);for(const i of e){const a=M0(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)t.push(i);else{if(t1(i)||n1(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:KI(n)}),t}function tG(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(Da).includes(n[0].toUpperCase())?n[0].toUpperCase():Da.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(Da).includes(r.toUpperCase())?r.toUpperCase():Da.TYPE_UNSPECIFIED})}}function Bs(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=e.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(t.nullable=!0,e=a[1]):a[1].type==="null"&&(t.nullable=!0,e=a[0])),e.type instanceof Array&&tG(e.type,t);for(const[l,u]of Object.entries(e))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(Da).includes(u.toUpperCase())?u.toUpperCase():Da.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=Bs(u);else if(r.includes(l)){const c=[];for(const d of u){if(d.type=="null"){t.nullable=!0;continue}c.push(Bs(d))}t[l]=c}else if(i.includes(l)){const c={};for(const[d,h]of Object.entries(u))c[d]=Bs(h);t[l]=c}else{if(l==="additionalProperties")continue;t[l]=u}return t}function s_(e){return Bs(e)}function l_(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function u_(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function cl(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Bs(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Bs(t.response));return e}function fl(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function nG(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function Zi(e,t){if(typeof t!="string")throw new Error("name must be a string");return nG(e,t,"cachedContents")}function YI(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Ba(e){return r_(e)}function rG(e){return e!=null&&typeof e=="object"&&"name"in e}function iG(e){return e!=null&&typeof e=="object"&&"video"in e}function aG(e){return e!=null&&typeof e=="object"&&"uri"in e}function WI(e){var t;let n;if(rG(e)&&(n=e.name),!(aG(e)&&(n=e.uri,n===void 0))&&!(iG(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function JI(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function XI(e){for(const t of["models","tunedModels","publisherModels"])if(oG(e,t))return e[t];return[]}function oG(e,t){return e!==null&&typeof e=="object"&&t in e}function sG(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function lG(e,t={}){const n=[],r=new Set;for(const i of e){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const l=sG(i,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function QI(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function uG(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function ZI(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let a=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const c=l.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){a=!0;break}}return a&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function dl(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function eD(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}function cG(e){const t={},n=v(e,["responsesFile"]);n!=null&&y(t,["fileName"],n);const r=v(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>HG(l))),y(t,["inlinedResponses"],a)}const i=v(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["inlinedEmbedContentResponses"],a)}return t}function fG(e){const t={},n=v(e,["predictionsFormat"]);n!=null&&y(t,["format"],n);const r=v(e,["gcsDestination","outputUriPrefix"]);r!=null&&y(t,["gcsUri"],r);const i=v(e,["bigqueryDestination","outputUri"]);return i!=null&&y(t,["bigqueryUri"],i),t}function dG(e){const t={},n=v(e,["format"]);n!=null&&y(t,["predictionsFormat"],n);const r=v(e,["gcsUri"]);r!=null&&y(t,["gcsDestination","outputUriPrefix"],r);const i=v(e,["bigqueryUri"]);if(i!=null&&y(t,["bigqueryDestination","outputUri"],i),v(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(v(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Md(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["metadata","displayName"]);r!=null&&y(t,["displayName"],r);const i=v(e,["metadata","state"]);i!=null&&y(t,["state"],eD(i));const a=v(e,["metadata","createTime"]);a!=null&&y(t,["createTime"],a);const l=v(e,["metadata","endTime"]);l!=null&&y(t,["endTime"],l);const u=v(e,["metadata","updateTime"]);u!=null&&y(t,["updateTime"],u);const c=v(e,["metadata","model"]);c!=null&&y(t,["model"],c);const d=v(e,["metadata","output"]);return d!=null&&y(t,["dest"],cG(ZI(d))),t}function P0(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["displayName"]);r!=null&&y(t,["displayName"],r);const i=v(e,["state"]);i!=null&&y(t,["state"],eD(i));const a=v(e,["error"]);a!=null&&y(t,["error"],a);const l=v(e,["createTime"]);l!=null&&y(t,["createTime"],l);const u=v(e,["startTime"]);u!=null&&y(t,["startTime"],u);const c=v(e,["endTime"]);c!=null&&y(t,["endTime"],c);const d=v(e,["updateTime"]);d!=null&&y(t,["updateTime"],d);const h=v(e,["model"]);h!=null&&y(t,["model"],h);const m=v(e,["inputConfig"]);m!=null&&y(t,["src"],hG(m));const g=v(e,["outputConfig"]);g!=null&&y(t,["dest"],fG(ZI(g)));const _=v(e,["completionStats"]);return _!=null&&y(t,["completionStats"],_),t}function hG(e){const t={},n=v(e,["instancesFormat"]);n!=null&&y(t,["format"],n);const r=v(e,["gcsSource","uris"]);r!=null&&y(t,["gcsUri"],r);const i=v(e,["bigquerySource","inputUri"]);return i!=null&&y(t,["bigqueryUri"],i),t}function pG(e,t){const n={};if(v(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=v(t,["fileName"]);r!=null&&y(n,["fileName"],r);const i=v(t,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>FG(e,l))),y(n,["requests","requests"],a)}return n}function mG(e){const t={},n=v(e,["format"]);n!=null&&y(t,["instancesFormat"],n);const r=v(e,["gcsUri"]);r!=null&&y(t,["gcsSource","uris"],r);const i=v(e,["bigqueryUri"]);if(i!=null&&y(t,["bigquerySource","inputUri"],i),v(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function vG(e){const t={},n=v(e,["data"]);if(n!=null&&y(t,["data"],n),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function gG(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],dl(e,r)),n}function yG(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],dl(e,r)),n}function bG(e){const t={},n=v(e,["content"]);n!=null&&y(t,["content"],n);const r=v(e,["citationMetadata"]);r!=null&&y(t,["citationMetadata"],_G(r));const i=v(e,["tokenCount"]);i!=null&&y(t,["tokenCount"],i);const a=v(e,["finishReason"]);a!=null&&y(t,["finishReason"],a);const l=v(e,["avgLogprobs"]);l!=null&&y(t,["avgLogprobs"],l);const u=v(e,["groundingMetadata"]);u!=null&&y(t,["groundingMetadata"],u);const c=v(e,["index"]);c!=null&&y(t,["index"],c);const d=v(e,["logprobsResult"]);d!=null&&y(t,["logprobsResult"],d);const h=v(e,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(_=>_)),y(t,["safetyRatings"],g)}const m=v(e,["urlContextMetadata"]);return m!=null&&y(t,["urlContextMetadata"],m),t}function _G(e){const t={},n=v(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(t,["citations"],r)}return t}function tD(e){const t={},n=v(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>XG(a))),y(t,["parts"],i)}const r=v(e,["role"]);return r!=null&&y(t,["role"],r),t}function SG(e,t){const n={},r=v(e,["displayName"]);if(t!==void 0&&r!=null&&y(t,["batch","displayName"],r),v(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function TG(e,t){const n={},r=v(e,["displayName"]);t!==void 0&&r!=null&&y(t,["displayName"],r);const i=v(e,["dest"]);return t!==void 0&&i!=null&&y(t,["outputConfig"],dG(uG(i))),n}function r1(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["src"]);i!=null&&y(n,["batch","inputConfig"],pG(e,QI(e,i)));const a=v(t,["config"]);return a!=null&&SG(a,n),n}function EG(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["model"],$e(e,r));const i=v(t,["src"]);i!=null&&y(n,["inputConfig"],mG(QI(e,i)));const a=v(t,["config"]);return a!=null&&TG(a,n),n}function wG(e,t){const n={},r=v(e,["displayName"]);return t!==void 0&&r!=null&&y(t,["batch","displayName"],r),n}function AG(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["src"]);i!=null&&y(n,["batch","inputConfig"],IG(e,i));const a=v(t,["config"]);return a!=null&&wG(a,n),n}function xG(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],dl(e,r)),n}function CG(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],dl(e,r)),n}function MG(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["name"]);r!=null&&y(t,["name"],r);const i=v(e,["done"]);i!=null&&y(t,["done"],i);const a=v(e,["error"]);return a!=null&&y(t,["error"],a),t}function PG(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["name"]);r!=null&&y(t,["name"],r);const i=v(e,["done"]);i!=null&&y(t,["done"],i);const a=v(e,["error"]);return a!=null&&y(t,["error"],a),t}function OG(e,t){const n={},r=v(t,["contents"]);if(r!=null){let a=o_(e,r);Array.isArray(a)&&(a=a.map(l=>l)),y(n,["requests[]","request","content"],a)}const i=v(t,["config"]);return i!=null&&(y(n,["_self"],NG(i,n)),CH(n,{"requests[].*":"requests[].request.*"})),n}function NG(e,t){const n={},r=v(e,["taskType"]);t!==void 0&&r!=null&&y(t,["requests[]","taskType"],r);const i=v(e,["title"]);t!==void 0&&i!=null&&y(t,["requests[]","title"],i);const a=v(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&y(t,["requests[]","outputDimensionality"],a),v(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function IG(e,t){const n={},r=v(t,["fileName"]);r!=null&&y(n,["file_name"],r);const i=v(t,["inlinedRequests"]);return i!=null&&y(n,["requests"],OG(e,i)),n}function DG(e){const t={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function RG(e){const t={},n=v(e,["id"]);n!=null&&y(t,["id"],n);const r=v(e,["args"]);r!=null&&y(t,["args"],r);const i=v(e,["name"]);if(i!=null&&y(t,["name"],i),v(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function kG(e){const t={},n=v(e,["mode"]);n!=null&&y(t,["mode"],n);const r=v(e,["allowedFunctionNames"]);if(r!=null&&y(t,["allowedFunctionNames"],r),v(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function LG(e,t,n){const r={},i=v(t,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],tD(hn(i)));const a=v(t,["temperature"]);a!=null&&y(r,["temperature"],a);const l=v(t,["topP"]);l!=null&&y(r,["topP"],l);const u=v(t,["topK"]);u!=null&&y(r,["topK"],u);const c=v(t,["candidateCount"]);c!=null&&y(r,["candidateCount"],c);const d=v(t,["maxOutputTokens"]);d!=null&&y(r,["maxOutputTokens"],d);const h=v(t,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=v(t,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const g=v(t,["logprobs"]);g!=null&&y(r,["logprobs"],g);const _=v(t,["presencePenalty"]);_!=null&&y(r,["presencePenalty"],_);const T=v(t,["frequencyPenalty"]);T!=null&&y(r,["frequencyPenalty"],T);const w=v(t,["seed"]);w!=null&&y(r,["seed"],w);const E=v(t,["responseMimeType"]);E!=null&&y(r,["responseMimeType"],E);const C=v(t,["responseSchema"]);C!=null&&y(r,["responseSchema"],s_(C));const O=v(t,["responseJsonSchema"]);if(O!=null&&y(r,["responseJsonSchema"],O),v(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=v(t,["safetySettings"]);if(n!==void 0&&P!=null){let W=P;Array.isArray(W)&&(W=W.map(ue=>QG(ue))),y(n,["safetySettings"],W)}const R=v(t,["tools"]);if(n!==void 0&&R!=null){let W=fl(R);Array.isArray(W)&&(W=W.map(ue=>eV(cl(ue)))),y(n,["tools"],W)}const N=v(t,["toolConfig"]);if(n!==void 0&&N!=null&&y(n,["toolConfig"],ZG(N)),v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=v(t,["cachedContent"]);n!==void 0&&D!=null&&y(n,["cachedContent"],Zi(e,D));const k=v(t,["responseModalities"]);k!=null&&y(r,["responseModalities"],k);const H=v(t,["mediaResolution"]);H!=null&&y(r,["mediaResolution"],H);const K=v(t,["speechConfig"]);if(K!=null&&y(r,["speechConfig"],l_(K)),v(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ae=v(t,["thinkingConfig"]);ae!=null&&y(r,["thinkingConfig"],ae);const Y=v(t,["imageConfig"]);return Y!=null&&y(r,["imageConfig"],$G(Y)),r}function UG(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>bG(d))),y(t,["candidates"],c)}const i=v(e,["modelVersion"]);i!=null&&y(t,["modelVersion"],i);const a=v(e,["promptFeedback"]);a!=null&&y(t,["promptFeedback"],a);const l=v(e,["responseId"]);l!=null&&y(t,["responseId"],l);const u=v(e,["usageMetadata"]);return u!=null&&y(t,["usageMetadata"],u),t}function qG(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],dl(e,r)),n}function zG(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],dl(e,r)),n}function jG(e){const t={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function BG(e){const t={};if(v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function $G(e){const t={},n=v(e,["aspectRatio"]);n!=null&&y(t,["aspectRatio"],n);const r=v(e,["imageSize"]);if(r!=null&&y(t,["imageSize"],r),v(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function FG(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["request","model"],$e(e,r));const i=v(t,["contents"]);if(i!=null){let u=br(i);Array.isArray(u)&&(u=u.map(c=>tD(c))),y(n,["request","contents"],u)}const a=v(t,["metadata"]);a!=null&&y(n,["metadata"],a);const l=v(t,["config"]);return l!=null&&y(n,["request","generationConfig"],LG(e,l,v(n,["request"],{}))),n}function HG(e){const t={},n=v(e,["response"]);n!=null&&y(t,["response"],UG(n));const r=v(e,["error"]);return r!=null&&y(t,["error"],r),t}function GG(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);if(t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),v(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function VG(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);t!==void 0&&i!=null&&y(t,["_query","pageToken"],i);const a=v(e,["filter"]);return t!==void 0&&a!=null&&y(t,["_query","filter"],a),n}function KG(e){const t={},n=v(e,["config"]);return n!=null&&GG(n,t),t}function YG(e){const t={},n=v(e,["config"]);return n!=null&&VG(n,t),t}function WG(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=v(e,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Md(l))),y(t,["batchJobs"],a)}return t}function JG(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=v(e,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>P0(l))),y(t,["batchJobs"],a)}return t}function XG(e){const t={},n=v(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=v(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=v(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const a=v(e,["fileData"]);a!=null&&y(t,["fileData"],DG(a));const l=v(e,["functionCall"]);l!=null&&y(t,["functionCall"],RG(l));const u=v(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const c=v(e,["inlineData"]);c!=null&&y(t,["inlineData"],vG(c));const d=v(e,["text"]);d!=null&&y(t,["text"],d);const h=v(e,["thought"]);h!=null&&y(t,["thought"],h);const m=v(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const g=v(e,["videoMetadata"]);return g!=null&&y(t,["videoMetadata"],g),t}function QG(e){const t={},n=v(e,["category"]);if(n!=null&&y(t,["category"],n),v(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(e,["threshold"]);return r!=null&&y(t,["threshold"],r),t}function ZG(e){const t={},n=v(e,["functionCallingConfig"]);n!=null&&y(t,["functionCallingConfig"],kG(n));const r=v(e,["retrievalConfig"]);return r!=null&&y(t,["retrievalConfig"],r),t}function eV(e){const t={},n=v(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(e,["googleSearchRetrieval"]);r!=null&&y(t,["googleSearchRetrieval"],r);const i=v(e,["computerUse"]);i!=null&&y(t,["computerUse"],i);const a=v(e,["fileSearch"]);a!=null&&y(t,["fileSearch"],a);const l=v(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=v(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],jG(u));const c=v(e,["googleSearch"]);c!=null&&y(t,["googleSearch"],BG(c));const d=v(e,["urlContext"]);return d!=null&&y(t,["urlContext"],d),t}var $i;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})($i||($i={}));class Lo{constructor(t,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,a;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(a=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}class tV extends Qi{constructor(t){super(),this.apiClient=t,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new Lo($i.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(t){const n=r1(this.apiClient,t),r=n._url,i=ce("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,c=u.requests,d=[];for(const h of c){const m=Object.assign({},h);if(m.systemInstruction){const g=m.systemInstruction;delete m.systemInstruction;const _=m.request;_.systemInstruction=g,m.request=_}d.push(m)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(t),l=this.getBigqueryUri(t);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=EG(this.apiClient,t);return u=ce("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>P0(h))}else{const d=r1(this.apiClient,t);return u=ce("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>Md(h))}}async createEmbeddingsInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=AG(this.apiClient,t);return a=ce("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>Md(c))}}async get(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=zG(this.apiClient,t);return u=ce("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>P0(h))}else{const d=qG(this.apiClient,t);return u=ce("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>Md(h))}}async cancel(t){var n,r,i,a;let l="",u={};if(this.apiClient.isVertexAI()){const c=yG(this.apiClient,t);l=ce("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=gG(this.apiClient,t);l=ce("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=YG(t);return u=ce("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=JG(h),g=new ZC;return Object.assign(g,m),g})}else{const d=KG(t);return u=ce("batches",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=WG(h),g=new ZC;return Object.assign(g,m),g})}}async delete(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=CG(this.apiClient,t);return u=ce("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>PG(h))}else{const d=xG(this.apiClient,t);return u=ce("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>MG(h))}}}function nV(e){const t={},n=v(e,["data"]);if(n!=null&&y(t,["data"],n),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function i1(e){const t={},n=v(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>AV(a))),y(t,["parts"],i)}const r=v(e,["role"]);return r!=null&&y(t,["role"],r),t}function rV(e,t){const n={},r=v(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=v(e,["expireTime"]);t!==void 0&&i!=null&&y(t,["expireTime"],i);const a=v(e,["displayName"]);t!==void 0&&a!=null&&y(t,["displayName"],a);const l=v(e,["contents"]);if(t!==void 0&&l!=null){let h=br(l);Array.isArray(h)&&(h=h.map(m=>i1(m))),y(t,["contents"],h)}const u=v(e,["systemInstruction"]);t!==void 0&&u!=null&&y(t,["systemInstruction"],i1(hn(u)));const c=v(e,["tools"]);if(t!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>CV(m))),y(t,["tools"],h)}const d=v(e,["toolConfig"]);if(t!==void 0&&d!=null&&y(t,["toolConfig"],xV(d)),v(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function iV(e,t){const n={},r=v(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=v(e,["expireTime"]);t!==void 0&&i!=null&&y(t,["expireTime"],i);const a=v(e,["displayName"]);t!==void 0&&a!=null&&y(t,["displayName"],a);const l=v(e,["contents"]);if(t!==void 0&&l!=null){let m=br(l);Array.isArray(m)&&(m=m.map(g=>g)),y(t,["contents"],m)}const u=v(e,["systemInstruction"]);t!==void 0&&u!=null&&y(t,["systemInstruction"],hn(u));const c=v(e,["tools"]);if(t!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(g=>MV(g))),y(t,["tools"],m)}const d=v(e,["toolConfig"]);t!==void 0&&d!=null&&y(t,["toolConfig"],d);const h=v(e,["kmsKeyName"]);return t!==void 0&&h!=null&&y(t,["encryption_spec","kmsKeyName"],h),n}function aV(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["model"],FI(e,r));const i=v(t,["config"]);return i!=null&&rV(i,n),n}function oV(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["model"],FI(e,r));const i=v(t,["config"]);return i!=null&&iV(i,n),n}function sV(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],Zi(e,r)),n}function lV(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],Zi(e,r)),n}function uV(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function cV(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function fV(e){const t={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function dV(e){const t={},n=v(e,["id"]);n!=null&&y(t,["id"],n);const r=v(e,["args"]);r!=null&&y(t,["args"],r);const i=v(e,["name"]);if(i!=null&&y(t,["name"],i),v(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function hV(e){const t={},n=v(e,["mode"]);n!=null&&y(t,["mode"],n);const r=v(e,["allowedFunctionNames"]);if(r!=null&&y(t,["allowedFunctionNames"],r),v(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function pV(e){const t={};if(v(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(e,["description"]);n!=null&&y(t,["description"],n);const r=v(e,["name"]);r!=null&&y(t,["name"],r);const i=v(e,["parameters"]);i!=null&&y(t,["parameters"],i);const a=v(e,["parametersJsonSchema"]);a!=null&&y(t,["parametersJsonSchema"],a);const l=v(e,["response"]);l!=null&&y(t,["response"],l);const u=v(e,["responseJsonSchema"]);return u!=null&&y(t,["responseJsonSchema"],u),t}function mV(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],Zi(e,r)),n}function vV(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],Zi(e,r)),n}function gV(e){const t={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function yV(e){const t={};if(v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function bV(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function _V(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function SV(e){const t={},n=v(e,["config"]);return n!=null&&bV(n,t),t}function TV(e){const t={},n=v(e,["config"]);return n!=null&&_V(n,t),t}function EV(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=v(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["cachedContents"],a)}return t}function wV(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=v(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["cachedContents"],a)}return t}function AV(e){const t={},n=v(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=v(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=v(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const a=v(e,["fileData"]);a!=null&&y(t,["fileData"],fV(a));const l=v(e,["functionCall"]);l!=null&&y(t,["functionCall"],dV(l));const u=v(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const c=v(e,["inlineData"]);c!=null&&y(t,["inlineData"],nV(c));const d=v(e,["text"]);d!=null&&y(t,["text"],d);const h=v(e,["thought"]);h!=null&&y(t,["thought"],h);const m=v(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const g=v(e,["videoMetadata"]);return g!=null&&y(t,["videoMetadata"],g),t}function xV(e){const t={},n=v(e,["functionCallingConfig"]);n!=null&&y(t,["functionCallingConfig"],hV(n));const r=v(e,["retrievalConfig"]);return r!=null&&y(t,["retrievalConfig"],r),t}function CV(e){const t={},n=v(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(e,["googleSearchRetrieval"]);r!=null&&y(t,["googleSearchRetrieval"],r);const i=v(e,["computerUse"]);i!=null&&y(t,["computerUse"],i);const a=v(e,["fileSearch"]);a!=null&&y(t,["fileSearch"],a);const l=v(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=v(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],gV(u));const c=v(e,["googleSearch"]);c!=null&&y(t,["googleSearch"],yV(c));const d=v(e,["urlContext"]);return d!=null&&y(t,["urlContext"],d),t}function MV(e){const t={},n=v(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(g=>pV(g))),y(t,["functionDeclarations"],m)}const r=v(e,["retrieval"]);r!=null&&y(t,["retrieval"],r);const i=v(e,["googleSearchRetrieval"]);i!=null&&y(t,["googleSearchRetrieval"],i);const a=v(e,["computerUse"]);if(a!=null&&y(t,["computerUse"],a),v(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=v(e,["codeExecution"]);l!=null&&y(t,["codeExecution"],l);const u=v(e,["enterpriseWebSearch"]);u!=null&&y(t,["enterpriseWebSearch"],u);const c=v(e,["googleMaps"]);c!=null&&y(t,["googleMaps"],c);const d=v(e,["googleSearch"]);d!=null&&y(t,["googleSearch"],d);const h=v(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}function PV(e,t){const n={},r=v(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=v(e,["expireTime"]);return t!==void 0&&i!=null&&y(t,["expireTime"],i),n}function OV(e,t){const n={},r=v(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=v(e,["expireTime"]);return t!==void 0&&i!=null&&y(t,["expireTime"],i),n}function NV(e,t){const n={},r=v(t,["name"]);r!=null&&y(n,["_url","name"],Zi(e,r));const i=v(t,["config"]);return i!=null&&PV(i,n),n}function IV(e,t){const n={},r=v(t,["name"]);r!=null&&y(n,["_url","name"],Zi(e,r));const i=v(t,["config"]);return i!=null&&OV(i,n),n}class DV extends Qi{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Lo($i.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=oV(this.apiClient,t);return u=ce("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=aV(this.apiClient,t);return u=ce("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async get(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=vV(this.apiClient,t);return u=ce("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=mV(this.apiClient,t);return u=ce("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async delete(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=lV(this.apiClient,t);return u=ce("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=cV(h),g=new XC;return Object.assign(g,m),g})}else{const d=sV(this.apiClient,t);return u=ce("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=uV(h),g=new XC;return Object.assign(g,m),g})}}async update(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=IV(this.apiClient,t);return u=ce("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=NV(this.apiClient,t);return u=ce("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async listInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=TV(t);return u=ce("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=wV(h),g=new QC;return Object.assign(g,m),g})}else{const d=SV(t);return u=ce("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=EV(h),g=new QC;return Object.assign(g,m),g})}}}function a1(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function at(e){return this instanceof at?(this.v=e,this):new at(e)}function $s(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(_){return function(T){return Promise.resolve(T).then(_,m)}}function u(_,T){r[_]&&(i[_]=function(w){return new Promise(function(E,C){a.push([_,w,E,C])>1||c(_,w)})},T&&(i[_]=T(i[_])))}function c(_,T){try{d(r[_](T))}catch(w){g(a[0][3],w)}}function d(_){_.value instanceof at?Promise.resolve(_.value.v).then(h,m):g(a[0][2],_)}function h(_){c("next",_)}function m(_){c("throw",_)}function g(_,T){_(T),a.shift(),a.length&&c(a[0][0],a[0][1])}}function ju(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof a1=="function"?a1(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(l){return new Promise(function(u,c){l=e[a](l),i(u,c,l.done,l.value)})}}function i(a,l,u,c){Promise.resolve(c).then(function(d){a({value:d,done:u})},l)}}function RV(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:nD(n)}function nD(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function kV(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function o1(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const i=[];let a=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),a&&!nD(e[r])&&(a=!1),r++;a?t.push(...i):t.pop()}return t}class LV{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new UV(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class UV{constructor(t,n,r,i={},a=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),kV(a)}async sendMessage(t){var n;await this.sendPromise;const r=hn(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,l,u;const c=await i,d=(l=(a=c.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content,h=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let g=[];h!=null&&(g=(u=h.slice(m))!==null&&u!==void 0?u:[]);const _=d?[d]:[];this.recordHistory(r,_,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const r=hn(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(t=!1){const n=t?o1(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var r,i;return $s(this,arguments,function*(){var l,u,c,d;const h=[];try{for(var m=!0,g=ju(t),_;_=yield at(g.next()),l=_.done,!l;m=!0){d=_.value,m=!1;const T=d;if(RV(T)){const w=(i=(r=T.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;w!==void 0&&h.push(w)}yield yield at(T)}}catch(T){u={error:T}}finally{try{!m&&!l&&(c=g.return)&&(yield at(c.call(g)))}finally{if(u)throw u.error}}this.recordHistory(n,h)})}recordHistory(t,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...o1(r)):this.history.push(t),this.history.push(...i)}}class Vh extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Vh.prototype)}}function qV(e){const t={},n=v(e,["file"]);return n!=null&&y(t,["file"],n),t}function zV(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function jV(e){const t={},n=v(e,["name"]);return n!=null&&y(t,["_url","file"],WI(n)),t}function BV(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function $V(e){const t={},n=v(e,["name"]);return n!=null&&y(t,["_url","file"],WI(n)),t}function FV(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function HV(e){const t={},n=v(e,["config"]);return n!=null&&FV(n,t),t}function GV(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=v(e,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["files"],a)}return t}class VV extends Qi{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Lo($i.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=HV(t);return a=ce("files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=GV(c),h=new JH;return Object.assign(h,d),h})}}async createInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=qV(t);return a=ce("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=zV(c),h=new XH;return Object.assign(h,d),h})}}async get(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=$V(t);return a=ce("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=jV(t);return a=ce("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=BV(c),h=new QH;return Object.assign(h,d),h})}}}function Pd(e){const t={},n=v(e,["data"]);if(n!=null&&y(t,["data"],n),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function KV(e){const t={},n=v(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>u6(a))),y(t,["parts"],i)}const r=v(e,["role"]);return r!=null&&y(t,["role"],r),t}function YV(e){const t={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function WV(e){const t={},n=v(e,["id"]);n!=null&&y(t,["id"],n);const r=v(e,["args"]);r!=null&&y(t,["args"],r);const i=v(e,["name"]);if(i!=null&&y(t,["name"],i),v(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function JV(e){const t={};if(v(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(e,["description"]);n!=null&&y(t,["description"],n);const r=v(e,["name"]);r!=null&&y(t,["name"],r);const i=v(e,["parameters"]);i!=null&&y(t,["parameters"],i);const a=v(e,["parametersJsonSchema"]);a!=null&&y(t,["parametersJsonSchema"],a);const l=v(e,["response"]);l!=null&&y(t,["response"],l);const u=v(e,["responseJsonSchema"]);return u!=null&&y(t,["responseJsonSchema"],u),t}function XV(e){const t={},n=v(e,["modelSelectionConfig"]);n!=null&&y(t,["modelConfig"],n);const r=v(e,["responseJsonSchema"]);r!=null&&y(t,["responseJsonSchema"],r);const i=v(e,["audioTimestamp"]);i!=null&&y(t,["audioTimestamp"],i);const a=v(e,["candidateCount"]);a!=null&&y(t,["candidateCount"],a);const l=v(e,["enableAffectiveDialog"]);l!=null&&y(t,["enableAffectiveDialog"],l);const u=v(e,["frequencyPenalty"]);u!=null&&y(t,["frequencyPenalty"],u);const c=v(e,["logprobs"]);c!=null&&y(t,["logprobs"],c);const d=v(e,["maxOutputTokens"]);d!=null&&y(t,["maxOutputTokens"],d);const h=v(e,["mediaResolution"]);h!=null&&y(t,["mediaResolution"],h);const m=v(e,["presencePenalty"]);m!=null&&y(t,["presencePenalty"],m);const g=v(e,["responseLogprobs"]);g!=null&&y(t,["responseLogprobs"],g);const _=v(e,["responseMimeType"]);_!=null&&y(t,["responseMimeType"],_);const T=v(e,["responseModalities"]);T!=null&&y(t,["responseModalities"],T);const w=v(e,["responseSchema"]);w!=null&&y(t,["responseSchema"],w);const E=v(e,["routingConfig"]);E!=null&&y(t,["routingConfig"],E);const C=v(e,["seed"]);C!=null&&y(t,["seed"],C);const O=v(e,["speechConfig"]);O!=null&&y(t,["speechConfig"],rD(O));const P=v(e,["stopSequences"]);P!=null&&y(t,["stopSequences"],P);const R=v(e,["temperature"]);R!=null&&y(t,["temperature"],R);const N=v(e,["thinkingConfig"]);N!=null&&y(t,["thinkingConfig"],N);const D=v(e,["topK"]);D!=null&&y(t,["topK"],D);const k=v(e,["topP"]);if(k!=null&&y(t,["topP"],k),v(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function QV(e){const t={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function ZV(e){const t={};if(v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function e6(e,t){const n={},r=v(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],r);const i=v(e,["responseModalities"]);t!==void 0&&i!=null&&y(t,["setup","generationConfig","responseModalities"],i);const a=v(e,["temperature"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","temperature"],a);const l=v(e,["topP"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","topP"],l);const u=v(e,["topK"]);t!==void 0&&u!=null&&y(t,["setup","generationConfig","topK"],u);const c=v(e,["maxOutputTokens"]);t!==void 0&&c!=null&&y(t,["setup","generationConfig","maxOutputTokens"],c);const d=v(e,["mediaResolution"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","mediaResolution"],d);const h=v(e,["seed"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","seed"],h);const m=v(e,["speechConfig"]);t!==void 0&&m!=null&&y(t,["setup","generationConfig","speechConfig"],u_(m));const g=v(e,["thinkingConfig"]);t!==void 0&&g!=null&&y(t,["setup","generationConfig","thinkingConfig"],g);const _=v(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],_);const T=v(e,["systemInstruction"]);t!==void 0&&T!=null&&y(t,["setup","systemInstruction"],KV(hn(T)));const w=v(e,["tools"]);if(t!==void 0&&w!=null){let D=fl(w);Array.isArray(D)&&(D=D.map(k=>f6(cl(k)))),y(t,["setup","tools"],D)}const E=v(e,["sessionResumption"]);t!==void 0&&E!=null&&y(t,["setup","sessionResumption"],c6(E));const C=v(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&y(t,["setup","inputAudioTranscription"],C);const O=v(e,["outputAudioTranscription"]);t!==void 0&&O!=null&&y(t,["setup","outputAudioTranscription"],O);const P=v(e,["realtimeInputConfig"]);t!==void 0&&P!=null&&y(t,["setup","realtimeInputConfig"],P);const R=v(e,["contextWindowCompression"]);t!==void 0&&R!=null&&y(t,["setup","contextWindowCompression"],R);const N=v(e,["proactivity"]);return t!==void 0&&N!=null&&y(t,["setup","proactivity"],N),n}function t6(e,t){const n={},r=v(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],XV(r));const i=v(e,["responseModalities"]);t!==void 0&&i!=null&&y(t,["setup","generationConfig","responseModalities"],i);const a=v(e,["temperature"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","temperature"],a);const l=v(e,["topP"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","topP"],l);const u=v(e,["topK"]);t!==void 0&&u!=null&&y(t,["setup","generationConfig","topK"],u);const c=v(e,["maxOutputTokens"]);t!==void 0&&c!=null&&y(t,["setup","generationConfig","maxOutputTokens"],c);const d=v(e,["mediaResolution"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","mediaResolution"],d);const h=v(e,["seed"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","seed"],h);const m=v(e,["speechConfig"]);t!==void 0&&m!=null&&y(t,["setup","generationConfig","speechConfig"],rD(u_(m)));const g=v(e,["thinkingConfig"]);t!==void 0&&g!=null&&y(t,["setup","generationConfig","thinkingConfig"],g);const _=v(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],_);const T=v(e,["systemInstruction"]);t!==void 0&&T!=null&&y(t,["setup","systemInstruction"],hn(T));const w=v(e,["tools"]);if(t!==void 0&&w!=null){let D=fl(w);Array.isArray(D)&&(D=D.map(k=>d6(cl(k)))),y(t,["setup","tools"],D)}const E=v(e,["sessionResumption"]);t!==void 0&&E!=null&&y(t,["setup","sessionResumption"],E);const C=v(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&y(t,["setup","inputAudioTranscription"],C);const O=v(e,["outputAudioTranscription"]);t!==void 0&&O!=null&&y(t,["setup","outputAudioTranscription"],O);const P=v(e,["realtimeInputConfig"]);t!==void 0&&P!=null&&y(t,["setup","realtimeInputConfig"],P);const R=v(e,["contextWindowCompression"]);t!==void 0&&R!=null&&y(t,["setup","contextWindowCompression"],R);const N=v(e,["proactivity"]);return t!==void 0&&N!=null&&y(t,["setup","proactivity"],N),n}function n6(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["setup","model"],$e(e,r));const i=v(t,["config"]);return i!=null&&y(n,["config"],e6(i,n)),n}function r6(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["setup","model"],$e(e,r));const i=v(t,["config"]);return i!=null&&y(n,["config"],t6(i,n)),n}function i6(e){const t={},n=v(e,["musicGenerationConfig"]);return n!=null&&y(t,["musicGenerationConfig"],n),t}function a6(e){const t={},n=v(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(t,["weightedPrompts"],r)}return t}function o6(e){const t={},n=v(e,["media"]);if(n!=null){let d=HI(n);Array.isArray(d)&&(d=d.map(h=>Pd(h))),y(t,["mediaChunks"],d)}const r=v(e,["audio"]);r!=null&&y(t,["audio"],Pd(VI(r)));const i=v(e,["audioStreamEnd"]);i!=null&&y(t,["audioStreamEnd"],i);const a=v(e,["video"]);a!=null&&y(t,["video"],Pd(GI(a)));const l=v(e,["text"]);l!=null&&y(t,["text"],l);const u=v(e,["activityStart"]);u!=null&&y(t,["activityStart"],u);const c=v(e,["activityEnd"]);return c!=null&&y(t,["activityEnd"],c),t}function s6(e){const t={},n=v(e,["media"]);if(n!=null){let d=HI(n);Array.isArray(d)&&(d=d.map(h=>h)),y(t,["mediaChunks"],d)}const r=v(e,["audio"]);r!=null&&y(t,["audio"],VI(r));const i=v(e,["audioStreamEnd"]);i!=null&&y(t,["audioStreamEnd"],i);const a=v(e,["video"]);a!=null&&y(t,["video"],GI(a));const l=v(e,["text"]);l!=null&&y(t,["text"],l);const u=v(e,["activityStart"]);u!=null&&y(t,["activityStart"],u);const c=v(e,["activityEnd"]);return c!=null&&y(t,["activityEnd"],c),t}function l6(e){const t={},n=v(e,["setupComplete"]);n!=null&&y(t,["setupComplete"],n);const r=v(e,["serverContent"]);r!=null&&y(t,["serverContent"],r);const i=v(e,["toolCall"]);i!=null&&y(t,["toolCall"],i);const a=v(e,["toolCallCancellation"]);a!=null&&y(t,["toolCallCancellation"],a);const l=v(e,["usageMetadata"]);l!=null&&y(t,["usageMetadata"],h6(l));const u=v(e,["goAway"]);u!=null&&y(t,["goAway"],u);const c=v(e,["sessionResumptionUpdate"]);return c!=null&&y(t,["sessionResumptionUpdate"],c),t}function u6(e){const t={},n=v(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=v(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=v(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const a=v(e,["fileData"]);a!=null&&y(t,["fileData"],YV(a));const l=v(e,["functionCall"]);l!=null&&y(t,["functionCall"],WV(l));const u=v(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const c=v(e,["inlineData"]);c!=null&&y(t,["inlineData"],Pd(c));const d=v(e,["text"]);d!=null&&y(t,["text"],d);const h=v(e,["thought"]);h!=null&&y(t,["thought"],h);const m=v(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const g=v(e,["videoMetadata"]);return g!=null&&y(t,["videoMetadata"],g),t}function c6(e){const t={},n=v(e,["handle"]);if(n!=null&&y(t,["handle"],n),v(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function rD(e){const t={},n=v(e,["languageCode"]);n!=null&&y(t,["languageCode"],n);const r=v(e,["voiceConfig"]);if(r!=null&&y(t,["voiceConfig"],r),v(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function f6(e){const t={},n=v(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(e,["googleSearchRetrieval"]);r!=null&&y(t,["googleSearchRetrieval"],r);const i=v(e,["computerUse"]);i!=null&&y(t,["computerUse"],i);const a=v(e,["fileSearch"]);a!=null&&y(t,["fileSearch"],a);const l=v(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=v(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],QV(u));const c=v(e,["googleSearch"]);c!=null&&y(t,["googleSearch"],ZV(c));const d=v(e,["urlContext"]);return d!=null&&y(t,["urlContext"],d),t}function d6(e){const t={},n=v(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(g=>JV(g))),y(t,["functionDeclarations"],m)}const r=v(e,["retrieval"]);r!=null&&y(t,["retrieval"],r);const i=v(e,["googleSearchRetrieval"]);i!=null&&y(t,["googleSearchRetrieval"],i);const a=v(e,["computerUse"]);if(a!=null&&y(t,["computerUse"],a),v(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=v(e,["codeExecution"]);l!=null&&y(t,["codeExecution"],l);const u=v(e,["enterpriseWebSearch"]);u!=null&&y(t,["enterpriseWebSearch"],u);const c=v(e,["googleMaps"]);c!=null&&y(t,["googleMaps"],c);const d=v(e,["googleSearch"]);d!=null&&y(t,["googleSearch"],d);const h=v(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}function h6(e){const t={},n=v(e,["promptTokenCount"]);n!=null&&y(t,["promptTokenCount"],n);const r=v(e,["cachedContentTokenCount"]);r!=null&&y(t,["cachedContentTokenCount"],r);const i=v(e,["candidatesTokenCount"]);i!=null&&y(t,["responseTokenCount"],i);const a=v(e,["toolUsePromptTokenCount"]);a!=null&&y(t,["toolUsePromptTokenCount"],a);const l=v(e,["thoughtsTokenCount"]);l!=null&&y(t,["thoughtsTokenCount"],l);const u=v(e,["totalTokenCount"]);u!=null&&y(t,["totalTokenCount"],u);const c=v(e,["promptTokensDetails"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(T=>T)),y(t,["promptTokensDetails"],_)}const d=v(e,["cacheTokensDetails"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(T=>T)),y(t,["cacheTokensDetails"],_)}const h=v(e,["candidatesTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(T=>T)),y(t,["responseTokensDetails"],_)}const m=v(e,["toolUsePromptTokensDetails"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(T=>T)),y(t,["toolUsePromptTokensDetails"],_)}const g=v(e,["trafficType"]);return g!=null&&y(t,["trafficType"],g),t}function p6(e){const t={},n=v(e,["data"]);if(n!=null&&y(t,["data"],n),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function m6(e){const t={},n=v(e,["content"]);n!=null&&y(t,["content"],n);const r=v(e,["citationMetadata"]);r!=null&&y(t,["citationMetadata"],v6(r));const i=v(e,["tokenCount"]);i!=null&&y(t,["tokenCount"],i);const a=v(e,["finishReason"]);a!=null&&y(t,["finishReason"],a);const l=v(e,["avgLogprobs"]);l!=null&&y(t,["avgLogprobs"],l);const u=v(e,["groundingMetadata"]);u!=null&&y(t,["groundingMetadata"],u);const c=v(e,["index"]);c!=null&&y(t,["index"],c);const d=v(e,["logprobsResult"]);d!=null&&y(t,["logprobsResult"],d);const h=v(e,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(_=>_)),y(t,["safetyRatings"],g)}const m=v(e,["urlContextMetadata"]);return m!=null&&y(t,["urlContextMetadata"],m),t}function v6(e){const t={},n=v(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(t,["citations"],r)}return t}function g6(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["contents"]);if(i!=null){let a=br(i);Array.isArray(a)&&(a=a.map(l=>l)),y(n,["contents"],a)}return n}function y6(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),y(t,["tokensInfo"],i)}return t}function b6(e){const t={},n=v(e,["values"]);n!=null&&y(t,["values"],n);const r=v(e,["statistics"]);return r!=null&&y(t,["statistics"],_6(r)),t}function _6(e){const t={},n=v(e,["truncated"]);n!=null&&y(t,["truncated"],n);const r=v(e,["token_count"]);return r!=null&&y(t,["tokenCount"],r),t}function Kh(e){const t={},n=v(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>P4(a))),y(t,["parts"],i)}const r=v(e,["role"]);return r!=null&&y(t,["role"],r),t}function S6(e){const t={},n=v(e,["controlType"]);n!=null&&y(t,["controlType"],n);const r=v(e,["enableControlImageComputation"]);return r!=null&&y(t,["computeControl"],r),t}function T6(e){const t={};if(v(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(v(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(v(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function E6(e,t){const n={},r=v(e,["systemInstruction"]);t!==void 0&&r!=null&&y(t,["systemInstruction"],hn(r));const i=v(e,["tools"]);if(t!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>lD(u))),y(t,["tools"],l)}const a=v(e,["generationConfig"]);return t!==void 0&&a!=null&&y(t,["generationConfig"],p4(a)),n}function w6(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["contents"]);if(i!=null){let l=br(i);Array.isArray(l)&&(l=l.map(u=>Kh(u))),y(n,["contents"],l)}const a=v(t,["config"]);return a!=null&&T6(a),n}function A6(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["contents"]);if(i!=null){let l=br(i);Array.isArray(l)&&(l=l.map(u=>u)),y(n,["contents"],l)}const a=v(t,["config"]);return a!=null&&E6(a,n),n}function x6(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["totalTokens"]);r!=null&&y(t,["totalTokens"],r);const i=v(e,["cachedContentTokenCount"]);return i!=null&&y(t,["cachedContentTokenCount"],i),t}function C6(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["totalTokens"]);return r!=null&&y(t,["totalTokens"],r),t}function M6(e,t){const n={},r=v(t,["model"]);return r!=null&&y(n,["_url","name"],$e(e,r)),n}function P6(e,t){const n={},r=v(t,["model"]);return r!=null&&y(n,["_url","name"],$e(e,r)),n}function O6(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function N6(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function I6(e,t){const n={},r=v(e,["outputGcsUri"]);t!==void 0&&r!=null&&y(t,["parameters","storageUri"],r);const i=v(e,["negativePrompt"]);t!==void 0&&i!=null&&y(t,["parameters","negativePrompt"],i);const a=v(e,["numberOfImages"]);t!==void 0&&a!=null&&y(t,["parameters","sampleCount"],a);const l=v(e,["aspectRatio"]);t!==void 0&&l!=null&&y(t,["parameters","aspectRatio"],l);const u=v(e,["guidanceScale"]);t!==void 0&&u!=null&&y(t,["parameters","guidanceScale"],u);const c=v(e,["seed"]);t!==void 0&&c!=null&&y(t,["parameters","seed"],c);const d=v(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&y(t,["parameters","safetySetting"],d);const h=v(e,["personGeneration"]);t!==void 0&&h!=null&&y(t,["parameters","personGeneration"],h);const m=v(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&y(t,["parameters","includeSafetyAttributes"],m);const g=v(e,["includeRaiReason"]);t!==void 0&&g!=null&&y(t,["parameters","includeRaiReason"],g);const _=v(e,["language"]);t!==void 0&&_!=null&&y(t,["parameters","language"],_);const T=v(e,["outputMimeType"]);t!==void 0&&T!=null&&y(t,["parameters","outputOptions","mimeType"],T);const w=v(e,["outputCompressionQuality"]);t!==void 0&&w!=null&&y(t,["parameters","outputOptions","compressionQuality"],w);const E=v(e,["addWatermark"]);t!==void 0&&E!=null&&y(t,["parameters","addWatermark"],E);const C=v(e,["labels"]);t!==void 0&&C!=null&&y(t,["labels"],C);const O=v(e,["editMode"]);t!==void 0&&O!=null&&y(t,["parameters","editMode"],O);const P=v(e,["baseSteps"]);return t!==void 0&&P!=null&&y(t,["parameters","editConfig","baseSteps"],P),n}function D6(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=v(t,["referenceImages"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>k4(c))),y(n,["instances[0]","referenceImages"],u)}const l=v(t,["config"]);return l!=null&&I6(l,n),n}function R6(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Yh(a))),y(t,["generatedImages"],i)}return t}function k6(e,t){const n={},r=v(e,["taskType"]);t!==void 0&&r!=null&&y(t,["requests[]","taskType"],r);const i=v(e,["title"]);t!==void 0&&i!=null&&y(t,["requests[]","title"],i);const a=v(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&y(t,["requests[]","outputDimensionality"],a),v(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function L6(e,t){const n={},r=v(e,["taskType"]);t!==void 0&&r!=null&&y(t,["instances[]","task_type"],r);const i=v(e,["title"]);t!==void 0&&i!=null&&y(t,["instances[]","title"],i);const a=v(e,["outputDimensionality"]);t!==void 0&&a!=null&&y(t,["parameters","outputDimensionality"],a);const l=v(e,["mimeType"]);t!==void 0&&l!=null&&y(t,["instances[]","mimeType"],l);const u=v(e,["autoTruncate"]);return t!==void 0&&u!=null&&y(t,["parameters","autoTruncate"],u),n}function U6(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["contents"]);if(i!=null){let u=o_(e,i);Array.isArray(u)&&(u=u.map(c=>c)),y(n,["requests[]","content"],u)}const a=v(t,["config"]);a!=null&&k6(a,n);const l=v(t,["model"]);return l!==void 0&&y(n,["requests[]","model"],$e(e,l)),n}function q6(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["contents"]);if(i!=null){let l=o_(e,i);Array.isArray(l)&&(l=l.map(u=>u)),y(n,["instances[]","content"],l)}const a=v(t,["config"]);return a!=null&&L6(a,n),n}function z6(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["embeddings"],a)}const i=v(e,["metadata"]);return i!=null&&y(t,["metadata"],i),t}function j6(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>b6(l))),y(t,["embeddings"],a)}const i=v(e,["metadata"]);return i!=null&&y(t,["metadata"],i),t}function B6(e){const t={},n=v(e,["endpoint"]);n!=null&&y(t,["name"],n);const r=v(e,["deployedModelId"]);return r!=null&&y(t,["deployedModelId"],r),t}function $6(e){const t={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function F6(e){const t={},n=v(e,["id"]);n!=null&&y(t,["id"],n);const r=v(e,["args"]);r!=null&&y(t,["args"],r);const i=v(e,["name"]);if(i!=null&&y(t,["name"],i),v(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function H6(e){const t={},n=v(e,["mode"]);n!=null&&y(t,["mode"],n);const r=v(e,["allowedFunctionNames"]);if(r!=null&&y(t,["allowedFunctionNames"],r),v(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function G6(e){const t={};if(v(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(e,["description"]);n!=null&&y(t,["description"],n);const r=v(e,["name"]);r!=null&&y(t,["name"],r);const i=v(e,["parameters"]);i!=null&&y(t,["parameters"],i);const a=v(e,["parametersJsonSchema"]);a!=null&&y(t,["parametersJsonSchema"],a);const l=v(e,["response"]);l!=null&&y(t,["response"],l);const u=v(e,["responseJsonSchema"]);return u!=null&&y(t,["responseJsonSchema"],u),t}function V6(e,t,n){const r={},i=v(t,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],Kh(hn(i)));const a=v(t,["temperature"]);a!=null&&y(r,["temperature"],a);const l=v(t,["topP"]);l!=null&&y(r,["topP"],l);const u=v(t,["topK"]);u!=null&&y(r,["topK"],u);const c=v(t,["candidateCount"]);c!=null&&y(r,["candidateCount"],c);const d=v(t,["maxOutputTokens"]);d!=null&&y(r,["maxOutputTokens"],d);const h=v(t,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=v(t,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const g=v(t,["logprobs"]);g!=null&&y(r,["logprobs"],g);const _=v(t,["presencePenalty"]);_!=null&&y(r,["presencePenalty"],_);const T=v(t,["frequencyPenalty"]);T!=null&&y(r,["frequencyPenalty"],T);const w=v(t,["seed"]);w!=null&&y(r,["seed"],w);const E=v(t,["responseMimeType"]);E!=null&&y(r,["responseMimeType"],E);const C=v(t,["responseSchema"]);C!=null&&y(r,["responseSchema"],s_(C));const O=v(t,["responseJsonSchema"]);if(O!=null&&y(r,["responseJsonSchema"],O),v(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=v(t,["safetySettings"]);if(n!==void 0&&P!=null){let W=P;Array.isArray(W)&&(W=W.map(ue=>L4(ue))),y(n,["safetySettings"],W)}const R=v(t,["tools"]);if(n!==void 0&&R!=null){let W=fl(R);Array.isArray(W)&&(W=W.map(ue=>F4(cl(ue)))),y(n,["tools"],W)}const N=v(t,["toolConfig"]);if(n!==void 0&&N!=null&&y(n,["toolConfig"],$4(N)),v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=v(t,["cachedContent"]);n!==void 0&&D!=null&&y(n,["cachedContent"],Zi(e,D));const k=v(t,["responseModalities"]);k!=null&&y(r,["responseModalities"],k);const H=v(t,["mediaResolution"]);H!=null&&y(r,["mediaResolution"],H);const K=v(t,["speechConfig"]);if(K!=null&&y(r,["speechConfig"],l_(K)),v(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ae=v(t,["thinkingConfig"]);ae!=null&&y(r,["thinkingConfig"],ae);const Y=v(t,["imageConfig"]);return Y!=null&&y(r,["imageConfig"],b4(Y)),r}function K6(e,t,n){const r={},i=v(t,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],hn(i));const a=v(t,["temperature"]);a!=null&&y(r,["temperature"],a);const l=v(t,["topP"]);l!=null&&y(r,["topP"],l);const u=v(t,["topK"]);u!=null&&y(r,["topK"],u);const c=v(t,["candidateCount"]);c!=null&&y(r,["candidateCount"],c);const d=v(t,["maxOutputTokens"]);d!=null&&y(r,["maxOutputTokens"],d);const h=v(t,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=v(t,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const g=v(t,["logprobs"]);g!=null&&y(r,["logprobs"],g);const _=v(t,["presencePenalty"]);_!=null&&y(r,["presencePenalty"],_);const T=v(t,["frequencyPenalty"]);T!=null&&y(r,["frequencyPenalty"],T);const w=v(t,["seed"]);w!=null&&y(r,["seed"],w);const E=v(t,["responseMimeType"]);E!=null&&y(r,["responseMimeType"],E);const C=v(t,["responseSchema"]);C!=null&&y(r,["responseSchema"],s_(C));const O=v(t,["responseJsonSchema"]);O!=null&&y(r,["responseJsonSchema"],O);const P=v(t,["routingConfig"]);P!=null&&y(r,["routingConfig"],P);const R=v(t,["modelSelectionConfig"]);R!=null&&y(r,["modelConfig"],R);const N=v(t,["safetySettings"]);if(n!==void 0&&N!=null){let j=N;Array.isArray(j)&&(j=j.map(ee=>ee)),y(n,["safetySettings"],j)}const D=v(t,["tools"]);if(n!==void 0&&D!=null){let j=fl(D);Array.isArray(j)&&(j=j.map(ee=>lD(cl(ee)))),y(n,["tools"],j)}const k=v(t,["toolConfig"]);n!==void 0&&k!=null&&y(n,["toolConfig"],k);const H=v(t,["labels"]);n!==void 0&&H!=null&&y(n,["labels"],H);const K=v(t,["cachedContent"]);n!==void 0&&K!=null&&y(n,["cachedContent"],Zi(e,K));const ae=v(t,["responseModalities"]);ae!=null&&y(r,["responseModalities"],ae);const Y=v(t,["mediaResolution"]);Y!=null&&y(r,["mediaResolution"],Y);const W=v(t,["speechConfig"]);W!=null&&y(r,["speechConfig"],sD(l_(W)));const ue=v(t,["audioTimestamp"]);ue!=null&&y(r,["audioTimestamp"],ue);const fe=v(t,["thinkingConfig"]);fe!=null&&y(r,["thinkingConfig"],fe);const ge=v(t,["imageConfig"]);return ge!=null&&y(r,["imageConfig"],_4(ge)),r}function s1(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["contents"]);if(i!=null){let l=br(i);Array.isArray(l)&&(l=l.map(u=>Kh(u))),y(n,["contents"],l)}const a=v(t,["config"]);return a!=null&&y(n,["generationConfig"],V6(e,a,n)),n}function l1(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["contents"]);if(i!=null){let l=br(i);Array.isArray(l)&&(l=l.map(u=>u)),y(n,["contents"],l)}const a=v(t,["config"]);return a!=null&&y(n,["generationConfig"],K6(e,a,n)),n}function u1(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>m6(d))),y(t,["candidates"],c)}const i=v(e,["modelVersion"]);i!=null&&y(t,["modelVersion"],i);const a=v(e,["promptFeedback"]);a!=null&&y(t,["promptFeedback"],a);const l=v(e,["responseId"]);l!=null&&y(t,["responseId"],l);const u=v(e,["usageMetadata"]);return u!=null&&y(t,["usageMetadata"],u),t}function c1(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),y(t,["candidates"],d)}const i=v(e,["createTime"]);i!=null&&y(t,["createTime"],i);const a=v(e,["modelVersion"]);a!=null&&y(t,["modelVersion"],a);const l=v(e,["promptFeedback"]);l!=null&&y(t,["promptFeedback"],l);const u=v(e,["responseId"]);u!=null&&y(t,["responseId"],u);const c=v(e,["usageMetadata"]);return c!=null&&y(t,["usageMetadata"],c),t}function Y6(e,t){const n={};if(v(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=v(e,["numberOfImages"]);t!==void 0&&r!=null&&y(t,["parameters","sampleCount"],r);const i=v(e,["aspectRatio"]);t!==void 0&&i!=null&&y(t,["parameters","aspectRatio"],i);const a=v(e,["guidanceScale"]);if(t!==void 0&&a!=null&&y(t,["parameters","guidanceScale"],a),v(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=v(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&y(t,["parameters","safetySetting"],l);const u=v(e,["personGeneration"]);t!==void 0&&u!=null&&y(t,["parameters","personGeneration"],u);const c=v(e,["includeSafetyAttributes"]);t!==void 0&&c!=null&&y(t,["parameters","includeSafetyAttributes"],c);const d=v(e,["includeRaiReason"]);t!==void 0&&d!=null&&y(t,["parameters","includeRaiReason"],d);const h=v(e,["language"]);t!==void 0&&h!=null&&y(t,["parameters","language"],h);const m=v(e,["outputMimeType"]);t!==void 0&&m!=null&&y(t,["parameters","outputOptions","mimeType"],m);const g=v(e,["outputCompressionQuality"]);if(t!==void 0&&g!=null&&y(t,["parameters","outputOptions","compressionQuality"],g),v(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=v(e,["imageSize"]);if(t!==void 0&&_!=null&&y(t,["parameters","sampleImageSize"],_),v(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function W6(e,t){const n={},r=v(e,["outputGcsUri"]);t!==void 0&&r!=null&&y(t,["parameters","storageUri"],r);const i=v(e,["negativePrompt"]);t!==void 0&&i!=null&&y(t,["parameters","negativePrompt"],i);const a=v(e,["numberOfImages"]);t!==void 0&&a!=null&&y(t,["parameters","sampleCount"],a);const l=v(e,["aspectRatio"]);t!==void 0&&l!=null&&y(t,["parameters","aspectRatio"],l);const u=v(e,["guidanceScale"]);t!==void 0&&u!=null&&y(t,["parameters","guidanceScale"],u);const c=v(e,["seed"]);t!==void 0&&c!=null&&y(t,["parameters","seed"],c);const d=v(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&y(t,["parameters","safetySetting"],d);const h=v(e,["personGeneration"]);t!==void 0&&h!=null&&y(t,["parameters","personGeneration"],h);const m=v(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&y(t,["parameters","includeSafetyAttributes"],m);const g=v(e,["includeRaiReason"]);t!==void 0&&g!=null&&y(t,["parameters","includeRaiReason"],g);const _=v(e,["language"]);t!==void 0&&_!=null&&y(t,["parameters","language"],_);const T=v(e,["outputMimeType"]);t!==void 0&&T!=null&&y(t,["parameters","outputOptions","mimeType"],T);const w=v(e,["outputCompressionQuality"]);t!==void 0&&w!=null&&y(t,["parameters","outputOptions","compressionQuality"],w);const E=v(e,["addWatermark"]);t!==void 0&&E!=null&&y(t,["parameters","addWatermark"],E);const C=v(e,["labels"]);t!==void 0&&C!=null&&y(t,["labels"],C);const O=v(e,["imageSize"]);t!==void 0&&O!=null&&y(t,["parameters","sampleImageSize"],O);const P=v(e,["enhancePrompt"]);return t!==void 0&&P!=null&&y(t,["parameters","enhancePrompt"],P),n}function J6(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=v(t,["config"]);return a!=null&&Y6(a,n),n}function X6(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=v(t,["config"]);return a!=null&&W6(a,n),n}function Q6(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>c4(l))),y(t,["generatedImages"],a)}const i=v(e,["positivePromptSafetyAttributes"]);return i!=null&&y(t,["positivePromptSafetyAttributes"],aD(i)),t}function Z6(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>Yh(l))),y(t,["generatedImages"],a)}const i=v(e,["positivePromptSafetyAttributes"]);return i!=null&&y(t,["positivePromptSafetyAttributes"],oD(i)),t}function e4(e,t){const n={},r=v(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&y(t,["parameters","sampleCount"],r),v(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=v(e,["durationSeconds"]);if(t!==void 0&&i!=null&&y(t,["parameters","durationSeconds"],i),v(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=v(e,["aspectRatio"]);t!==void 0&&a!=null&&y(t,["parameters","aspectRatio"],a);const l=v(e,["resolution"]);t!==void 0&&l!=null&&y(t,["parameters","resolution"],l);const u=v(e,["personGeneration"]);if(t!==void 0&&u!=null&&y(t,["parameters","personGeneration"],u),v(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=v(e,["negativePrompt"]);t!==void 0&&c!=null&&y(t,["parameters","negativePrompt"],c);const d=v(e,["enhancePrompt"]);if(t!==void 0&&d!=null&&y(t,["parameters","enhancePrompt"],d),v(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=v(e,["lastFrame"]);t!==void 0&&h!=null&&y(t,["instances[0]","lastFrame"],Wh(h));const m=v(e,["referenceImages"]);if(t!==void 0&&m!=null){let g=m;Array.isArray(g)&&(g=g.map(_=>n5(_))),y(t,["instances[0]","referenceImages"],g)}if(v(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(v(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function t4(e,t){const n={},r=v(e,["numberOfVideos"]);t!==void 0&&r!=null&&y(t,["parameters","sampleCount"],r);const i=v(e,["outputGcsUri"]);t!==void 0&&i!=null&&y(t,["parameters","storageUri"],i);const a=v(e,["fps"]);t!==void 0&&a!=null&&y(t,["parameters","fps"],a);const l=v(e,["durationSeconds"]);t!==void 0&&l!=null&&y(t,["parameters","durationSeconds"],l);const u=v(e,["seed"]);t!==void 0&&u!=null&&y(t,["parameters","seed"],u);const c=v(e,["aspectRatio"]);t!==void 0&&c!=null&&y(t,["parameters","aspectRatio"],c);const d=v(e,["resolution"]);t!==void 0&&d!=null&&y(t,["parameters","resolution"],d);const h=v(e,["personGeneration"]);t!==void 0&&h!=null&&y(t,["parameters","personGeneration"],h);const m=v(e,["pubsubTopic"]);t!==void 0&&m!=null&&y(t,["parameters","pubsubTopic"],m);const g=v(e,["negativePrompt"]);t!==void 0&&g!=null&&y(t,["parameters","negativePrompt"],g);const _=v(e,["enhancePrompt"]);t!==void 0&&_!=null&&y(t,["parameters","enhancePrompt"],_);const T=v(e,["generateAudio"]);t!==void 0&&T!=null&&y(t,["parameters","generateAudio"],T);const w=v(e,["lastFrame"]);t!==void 0&&w!=null&&y(t,["instances[0]","lastFrame"],Ur(w));const E=v(e,["referenceImages"]);if(t!==void 0&&E!=null){let P=E;Array.isArray(P)&&(P=P.map(R=>r5(R))),y(t,["instances[0]","referenceImages"],P)}const C=v(e,["mask"]);t!==void 0&&C!=null&&y(t,["instances[0]","mask"],t5(C));const O=v(e,["compressionQuality"]);return t!==void 0&&O!=null&&y(t,["parameters","compressionQuality"],O),n}function n4(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=v(e,["done"]);i!=null&&y(t,["done"],i);const a=v(e,["error"]);a!=null&&y(t,["error"],a);const l=v(e,["response","generateVideoResponse"]);return l!=null&&y(t,["response"],o4(l)),t}function r4(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=v(e,["done"]);i!=null&&y(t,["done"],i);const a=v(e,["error"]);a!=null&&y(t,["error"],a);const l=v(e,["response"]);return l!=null&&y(t,["response"],s4(l)),t}function i4(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=v(t,["image"]);a!=null&&y(n,["instances[0]","image"],Wh(a));const l=v(t,["video"]);l!=null&&y(n,["instances[0]","video"],uD(l));const u=v(t,["source"]);u!=null&&l4(u,n);const c=v(t,["config"]);return c!=null&&e4(c,n),n}function a4(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const a=v(t,["image"]);a!=null&&y(n,["instances[0]","image"],Ur(a));const l=v(t,["video"]);l!=null&&y(n,["instances[0]","video"],cD(l));const u=v(t,["source"]);u!=null&&u4(u,n);const c=v(t,["config"]);return c!=null&&t4(c,n),n}function o4(e){const t={},n=v(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>d4(l))),y(t,["generatedVideos"],a)}const r=v(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const i=v(e,["raiMediaFilteredReasons"]);return i!=null&&y(t,["raiMediaFilteredReasons"],i),t}function s4(e){const t={},n=v(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>h4(l))),y(t,["generatedVideos"],a)}const r=v(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const i=v(e,["raiMediaFilteredReasons"]);return i!=null&&y(t,["raiMediaFilteredReasons"],i),t}function l4(e,t){const n={},r=v(e,["prompt"]);t!==void 0&&r!=null&&y(t,["instances[0]","prompt"],r);const i=v(e,["image"]);t!==void 0&&i!=null&&y(t,["instances[0]","image"],Wh(i));const a=v(e,["video"]);return t!==void 0&&a!=null&&y(t,["instances[0]","video"],uD(a)),n}function u4(e,t){const n={},r=v(e,["prompt"]);t!==void 0&&r!=null&&y(t,["instances[0]","prompt"],r);const i=v(e,["image"]);t!==void 0&&i!=null&&y(t,["instances[0]","image"],Ur(i));const a=v(e,["video"]);return t!==void 0&&a!=null&&y(t,["instances[0]","video"],cD(a)),n}function c4(e){const t={},n=v(e,["_self"]);n!=null&&y(t,["image"],S4(n));const r=v(e,["raiFilteredReason"]);r!=null&&y(t,["raiFilteredReason"],r);const i=v(e,["_self"]);return i!=null&&y(t,["safetyAttributes"],aD(i)),t}function Yh(e){const t={},n=v(e,["_self"]);n!=null&&y(t,["image"],iD(n));const r=v(e,["raiFilteredReason"]);r!=null&&y(t,["raiFilteredReason"],r);const i=v(e,["_self"]);i!=null&&y(t,["safetyAttributes"],oD(i));const a=v(e,["prompt"]);return a!=null&&y(t,["enhancedPrompt"],a),t}function f4(e){const t={},n=v(e,["_self"]);n!=null&&y(t,["mask"],iD(n));const r=v(e,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),y(t,["labels"],i)}return t}function d4(e){const t={},n=v(e,["video"]);return n!=null&&y(t,["video"],Z4(n)),t}function h4(e){const t={},n=v(e,["_self"]);return n!=null&&y(t,["video"],e5(n)),t}function p4(e){const t={},n=v(e,["modelSelectionConfig"]);n!=null&&y(t,["modelConfig"],n);const r=v(e,["responseJsonSchema"]);r!=null&&y(t,["responseJsonSchema"],r);const i=v(e,["audioTimestamp"]);i!=null&&y(t,["audioTimestamp"],i);const a=v(e,["candidateCount"]);a!=null&&y(t,["candidateCount"],a);const l=v(e,["enableAffectiveDialog"]);l!=null&&y(t,["enableAffectiveDialog"],l);const u=v(e,["frequencyPenalty"]);u!=null&&y(t,["frequencyPenalty"],u);const c=v(e,["logprobs"]);c!=null&&y(t,["logprobs"],c);const d=v(e,["maxOutputTokens"]);d!=null&&y(t,["maxOutputTokens"],d);const h=v(e,["mediaResolution"]);h!=null&&y(t,["mediaResolution"],h);const m=v(e,["presencePenalty"]);m!=null&&y(t,["presencePenalty"],m);const g=v(e,["responseLogprobs"]);g!=null&&y(t,["responseLogprobs"],g);const _=v(e,["responseMimeType"]);_!=null&&y(t,["responseMimeType"],_);const T=v(e,["responseModalities"]);T!=null&&y(t,["responseModalities"],T);const w=v(e,["responseSchema"]);w!=null&&y(t,["responseSchema"],w);const E=v(e,["routingConfig"]);E!=null&&y(t,["routingConfig"],E);const C=v(e,["seed"]);C!=null&&y(t,["seed"],C);const O=v(e,["speechConfig"]);O!=null&&y(t,["speechConfig"],sD(O));const P=v(e,["stopSequences"]);P!=null&&y(t,["stopSequences"],P);const R=v(e,["temperature"]);R!=null&&y(t,["temperature"],R);const N=v(e,["thinkingConfig"]);N!=null&&y(t,["thinkingConfig"],N);const D=v(e,["topK"]);D!=null&&y(t,["topK"],D);const k=v(e,["topP"]);if(k!=null&&y(t,["topP"],k),v(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function m4(e,t){const n={},r=v(t,["model"]);return r!=null&&y(n,["_url","name"],$e(e,r)),n}function v4(e,t){const n={},r=v(t,["model"]);return r!=null&&y(n,["_url","name"],$e(e,r)),n}function g4(e){const t={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function y4(e){const t={};if(v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function b4(e){const t={},n=v(e,["aspectRatio"]);n!=null&&y(t,["aspectRatio"],n);const r=v(e,["imageSize"]);if(r!=null&&y(t,["imageSize"],r),v(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function _4(e){const t={},n=v(e,["aspectRatio"]);n!=null&&y(t,["aspectRatio"],n);const r=v(e,["imageSize"]);r!=null&&y(t,["imageSize"],r);const i=v(e,["outputMimeType"]);i!=null&&y(t,["imageOutputOptions","mimeType"],i);const a=v(e,["outputCompressionQuality"]);return a!=null&&y(t,["imageOutputOptions","compressionQuality"],a),t}function S4(e){const t={},n=v(e,["bytesBase64Encoded"]);n!=null&&y(t,["imageBytes"],Ba(n));const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function iD(e){const t={},n=v(e,["gcsUri"]);n!=null&&y(t,["gcsUri"],n);const r=v(e,["bytesBase64Encoded"]);r!=null&&y(t,["imageBytes"],Ba(r));const i=v(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function Wh(e){const t={};if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=v(e,["imageBytes"]);n!=null&&y(t,["bytesBase64Encoded"],Ba(n));const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function Ur(e){const t={},n=v(e,["gcsUri"]);n!=null&&y(t,["gcsUri"],n);const r=v(e,["imageBytes"]);r!=null&&y(t,["bytesBase64Encoded"],Ba(r));const i=v(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function T4(e,t,n){const r={},i=v(t,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const a=v(t,["pageToken"]);n!==void 0&&a!=null&&y(n,["_query","pageToken"],a);const l=v(t,["filter"]);n!==void 0&&l!=null&&y(n,["_query","filter"],l);const u=v(t,["queryBase"]);return n!==void 0&&u!=null&&y(n,["_url","models_url"],JI(e,u)),r}function E4(e,t,n){const r={},i=v(t,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const a=v(t,["pageToken"]);n!==void 0&&a!=null&&y(n,["_query","pageToken"],a);const l=v(t,["filter"]);n!==void 0&&l!=null&&y(n,["_query","filter"],l);const u=v(t,["queryBase"]);return n!==void 0&&u!=null&&y(n,["_url","models_url"],JI(e,u)),r}function w4(e,t){const n={},r=v(t,["config"]);return r!=null&&T4(e,r,n),n}function A4(e,t){const n={},r=v(t,["config"]);return r!=null&&E4(e,r,n),n}function x4(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=v(e,["_self"]);if(i!=null){let a=XI(i);Array.isArray(a)&&(a=a.map(l=>O0(l))),y(t,["models"],a)}return t}function C4(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=v(e,["_self"]);if(i!=null){let a=XI(i);Array.isArray(a)&&(a=a.map(l=>N0(l))),y(t,["models"],a)}return t}function M4(e){const t={},n=v(e,["maskMode"]);n!=null&&y(t,["maskMode"],n);const r=v(e,["segmentationClasses"]);r!=null&&y(t,["maskClasses"],r);const i=v(e,["maskDilation"]);return i!=null&&y(t,["dilation"],i),t}function O0(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["displayName"]);r!=null&&y(t,["displayName"],r);const i=v(e,["description"]);i!=null&&y(t,["description"],i);const a=v(e,["version"]);a!=null&&y(t,["version"],a);const l=v(e,["_self"]);l!=null&&y(t,["tunedModelInfo"],H4(l));const u=v(e,["inputTokenLimit"]);u!=null&&y(t,["inputTokenLimit"],u);const c=v(e,["outputTokenLimit"]);c!=null&&y(t,["outputTokenLimit"],c);const d=v(e,["supportedGenerationMethods"]);d!=null&&y(t,["supportedActions"],d);const h=v(e,["temperature"]);h!=null&&y(t,["temperature"],h);const m=v(e,["maxTemperature"]);m!=null&&y(t,["maxTemperature"],m);const g=v(e,["topP"]);g!=null&&y(t,["topP"],g);const _=v(e,["topK"]);_!=null&&y(t,["topK"],_);const T=v(e,["thinking"]);return T!=null&&y(t,["thinking"],T),t}function N0(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["displayName"]);r!=null&&y(t,["displayName"],r);const i=v(e,["description"]);i!=null&&y(t,["description"],i);const a=v(e,["versionId"]);a!=null&&y(t,["version"],a);const l=v(e,["deployedModels"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(g=>B6(g))),y(t,["endpoints"],m)}const u=v(e,["labels"]);u!=null&&y(t,["labels"],u);const c=v(e,["_self"]);c!=null&&y(t,["tunedModelInfo"],G4(c));const d=v(e,["defaultCheckpointId"]);d!=null&&y(t,["defaultCheckpointId"],d);const h=v(e,["checkpoints"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(g=>g)),y(t,["checkpoints"],m)}return t}function P4(e){const t={},n=v(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=v(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=v(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const a=v(e,["fileData"]);a!=null&&y(t,["fileData"],$6(a));const l=v(e,["functionCall"]);l!=null&&y(t,["functionCall"],F6(l));const u=v(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const c=v(e,["inlineData"]);c!=null&&y(t,["inlineData"],p6(c));const d=v(e,["text"]);d!=null&&y(t,["text"],d);const h=v(e,["thought"]);h!=null&&y(t,["thought"],h);const m=v(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const g=v(e,["videoMetadata"]);return g!=null&&y(t,["videoMetadata"],g),t}function O4(e){const t={},n=v(e,["productImage"]);return n!=null&&y(t,["image"],Ur(n)),t}function N4(e,t){const n={},r=v(e,["numberOfImages"]);t!==void 0&&r!=null&&y(t,["parameters","sampleCount"],r);const i=v(e,["baseSteps"]);t!==void 0&&i!=null&&y(t,["parameters","baseSteps"],i);const a=v(e,["outputGcsUri"]);t!==void 0&&a!=null&&y(t,["parameters","storageUri"],a);const l=v(e,["seed"]);t!==void 0&&l!=null&&y(t,["parameters","seed"],l);const u=v(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&y(t,["parameters","safetySetting"],u);const c=v(e,["personGeneration"]);t!==void 0&&c!=null&&y(t,["parameters","personGeneration"],c);const d=v(e,["addWatermark"]);t!==void 0&&d!=null&&y(t,["parameters","addWatermark"],d);const h=v(e,["outputMimeType"]);t!==void 0&&h!=null&&y(t,["parameters","outputOptions","mimeType"],h);const m=v(e,["outputCompressionQuality"]);t!==void 0&&m!=null&&y(t,["parameters","outputOptions","compressionQuality"],m);const g=v(e,["enhancePrompt"]);t!==void 0&&g!=null&&y(t,["parameters","enhancePrompt"],g);const _=v(e,["labels"]);return t!==void 0&&_!=null&&y(t,["labels"],_),n}function I4(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["source"]);i!=null&&R4(i,n);const a=v(t,["config"]);return a!=null&&N4(a,n),n}function D4(e){const t={},n=v(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Yh(i))),y(t,["generatedImages"],r)}return t}function R4(e,t){const n={},r=v(e,["prompt"]);t!==void 0&&r!=null&&y(t,["instances[0]","prompt"],r);const i=v(e,["personImage"]);t!==void 0&&i!=null&&y(t,["instances[0]","personImage","image"],Ur(i));const a=v(e,["productImages"]);if(t!==void 0&&a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>O4(u))),y(t,["instances[0]","productImages"],l)}return n}function k4(e){const t={},n=v(e,["referenceImage"]);n!=null&&y(t,["referenceImage"],Ur(n));const r=v(e,["referenceId"]);r!=null&&y(t,["referenceId"],r);const i=v(e,["referenceType"]);i!=null&&y(t,["referenceType"],i);const a=v(e,["maskImageConfig"]);a!=null&&y(t,["maskImageConfig"],M4(a));const l=v(e,["controlImageConfig"]);l!=null&&y(t,["controlImageConfig"],S6(l));const u=v(e,["styleImageConfig"]);u!=null&&y(t,["styleImageConfig"],u);const c=v(e,["subjectImageConfig"]);return c!=null&&y(t,["subjectImageConfig"],c),t}function aD(e){const t={},n=v(e,["safetyAttributes","categories"]);n!=null&&y(t,["categories"],n);const r=v(e,["safetyAttributes","scores"]);r!=null&&y(t,["scores"],r);const i=v(e,["contentType"]);return i!=null&&y(t,["contentType"],i),t}function oD(e){const t={},n=v(e,["safetyAttributes","categories"]);n!=null&&y(t,["categories"],n);const r=v(e,["safetyAttributes","scores"]);r!=null&&y(t,["scores"],r);const i=v(e,["contentType"]);return i!=null&&y(t,["contentType"],i),t}function L4(e){const t={},n=v(e,["category"]);if(n!=null&&y(t,["category"],n),v(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(e,["threshold"]);return r!=null&&y(t,["threshold"],r),t}function U4(e){const t={},n=v(e,["image"]);return n!=null&&y(t,["image"],Ur(n)),t}function q4(e,t){const n={},r=v(e,["mode"]);t!==void 0&&r!=null&&y(t,["parameters","mode"],r);const i=v(e,["maxPredictions"]);t!==void 0&&i!=null&&y(t,["parameters","maxPredictions"],i);const a=v(e,["confidenceThreshold"]);t!==void 0&&a!=null&&y(t,["parameters","confidenceThreshold"],a);const l=v(e,["maskDilation"]);t!==void 0&&l!=null&&y(t,["parameters","maskDilation"],l);const u=v(e,["binaryColorThreshold"]);t!==void 0&&u!=null&&y(t,["parameters","binaryColorThreshold"],u);const c=v(e,["labels"]);return t!==void 0&&c!=null&&y(t,["labels"],c),n}function z4(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["source"]);i!=null&&B4(i,n);const a=v(t,["config"]);return a!=null&&q4(a,n),n}function j4(e){const t={},n=v(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>f4(i))),y(t,["generatedMasks"],r)}return t}function B4(e,t){const n={},r=v(e,["prompt"]);t!==void 0&&r!=null&&y(t,["instances[0]","prompt"],r);const i=v(e,["image"]);t!==void 0&&i!=null&&y(t,["instances[0]","image"],Ur(i));const a=v(e,["scribbleImage"]);return t!==void 0&&a!=null&&y(t,["instances[0]","scribble"],U4(a)),n}function sD(e){const t={},n=v(e,["languageCode"]);n!=null&&y(t,["languageCode"],n);const r=v(e,["voiceConfig"]);if(r!=null&&y(t,["voiceConfig"],r),v(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function $4(e){const t={},n=v(e,["functionCallingConfig"]);n!=null&&y(t,["functionCallingConfig"],H6(n));const r=v(e,["retrievalConfig"]);return r!=null&&y(t,["retrievalConfig"],r),t}function F4(e){const t={},n=v(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(e,["googleSearchRetrieval"]);r!=null&&y(t,["googleSearchRetrieval"],r);const i=v(e,["computerUse"]);i!=null&&y(t,["computerUse"],i);const a=v(e,["fileSearch"]);a!=null&&y(t,["fileSearch"],a);const l=v(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=v(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],g4(u));const c=v(e,["googleSearch"]);c!=null&&y(t,["googleSearch"],y4(c));const d=v(e,["urlContext"]);return d!=null&&y(t,["urlContext"],d),t}function lD(e){const t={},n=v(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(g=>G6(g))),y(t,["functionDeclarations"],m)}const r=v(e,["retrieval"]);r!=null&&y(t,["retrieval"],r);const i=v(e,["googleSearchRetrieval"]);i!=null&&y(t,["googleSearchRetrieval"],i);const a=v(e,["computerUse"]);if(a!=null&&y(t,["computerUse"],a),v(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=v(e,["codeExecution"]);l!=null&&y(t,["codeExecution"],l);const u=v(e,["enterpriseWebSearch"]);u!=null&&y(t,["enterpriseWebSearch"],u);const c=v(e,["googleMaps"]);c!=null&&y(t,["googleMaps"],c);const d=v(e,["googleSearch"]);d!=null&&y(t,["googleSearch"],d);const h=v(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}function H4(e){const t={},n=v(e,["baseModel"]);n!=null&&y(t,["baseModel"],n);const r=v(e,["createTime"]);r!=null&&y(t,["createTime"],r);const i=v(e,["updateTime"]);return i!=null&&y(t,["updateTime"],i),t}function G4(e){const t={},n=v(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&y(t,["baseModel"],n);const r=v(e,["createTime"]);r!=null&&y(t,["createTime"],r);const i=v(e,["updateTime"]);return i!=null&&y(t,["updateTime"],i),t}function V4(e,t){const n={},r=v(e,["displayName"]);t!==void 0&&r!=null&&y(t,["displayName"],r);const i=v(e,["description"]);t!==void 0&&i!=null&&y(t,["description"],i);const a=v(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&y(t,["defaultCheckpointId"],a),n}function K4(e,t){const n={},r=v(e,["displayName"]);t!==void 0&&r!=null&&y(t,["displayName"],r);const i=v(e,["description"]);t!==void 0&&i!=null&&y(t,["description"],i);const a=v(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&y(t,["defaultCheckpointId"],a),n}function Y4(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","name"],$e(e,r));const i=v(t,["config"]);return i!=null&&V4(i,n),n}function W4(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["config"]);return i!=null&&K4(i,n),n}function J4(e,t){const n={},r=v(e,["outputGcsUri"]);t!==void 0&&r!=null&&y(t,["parameters","storageUri"],r);const i=v(e,["safetyFilterLevel"]);t!==void 0&&i!=null&&y(t,["parameters","safetySetting"],i);const a=v(e,["personGeneration"]);t!==void 0&&a!=null&&y(t,["parameters","personGeneration"],a);const l=v(e,["includeRaiReason"]);t!==void 0&&l!=null&&y(t,["parameters","includeRaiReason"],l);const u=v(e,["outputMimeType"]);t!==void 0&&u!=null&&y(t,["parameters","outputOptions","mimeType"],u);const c=v(e,["outputCompressionQuality"]);t!==void 0&&c!=null&&y(t,["parameters","outputOptions","compressionQuality"],c);const d=v(e,["enhanceInputImage"]);t!==void 0&&d!=null&&y(t,["parameters","upscaleConfig","enhanceInputImage"],d);const h=v(e,["imagePreservationFactor"]);t!==void 0&&h!=null&&y(t,["parameters","upscaleConfig","imagePreservationFactor"],h);const m=v(e,["labels"]);t!==void 0&&m!=null&&y(t,["labels"],m);const g=v(e,["numberOfImages"]);t!==void 0&&g!=null&&y(t,["parameters","sampleCount"],g);const _=v(e,["mode"]);return t!==void 0&&_!=null&&y(t,["parameters","mode"],_),n}function X4(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],$e(e,r));const i=v(t,["image"]);i!=null&&y(n,["instances[0]","image"],Ur(i));const a=v(t,["upscaleFactor"]);a!=null&&y(n,["parameters","upscaleConfig","upscaleFactor"],a);const l=v(t,["config"]);return l!=null&&J4(l,n),n}function Q4(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Yh(a))),y(t,["generatedImages"],i)}return t}function Z4(e){const t={},n=v(e,["uri"]);n!=null&&y(t,["uri"],n);const r=v(e,["encodedVideo"]);r!=null&&y(t,["videoBytes"],Ba(r));const i=v(e,["encoding"]);return i!=null&&y(t,["mimeType"],i),t}function e5(e){const t={},n=v(e,["gcsUri"]);n!=null&&y(t,["uri"],n);const r=v(e,["bytesBase64Encoded"]);r!=null&&y(t,["videoBytes"],Ba(r));const i=v(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function t5(e){const t={},n=v(e,["image"]);n!=null&&y(t,["_self"],Ur(n));const r=v(e,["maskMode"]);return r!=null&&y(t,["maskMode"],r),t}function n5(e){const t={},n=v(e,["image"]);n!=null&&y(t,["image"],Wh(n));const r=v(e,["referenceType"]);return r!=null&&y(t,["referenceType"],r),t}function r5(e){const t={},n=v(e,["image"]);n!=null&&y(t,["image"],Ur(n));const r=v(e,["referenceType"]);return r!=null&&y(t,["referenceType"],r),t}function uD(e){const t={},n=v(e,["uri"]);n!=null&&y(t,["uri"],n);const r=v(e,["videoBytes"]);r!=null&&y(t,["encodedVideo"],Ba(r));const i=v(e,["mimeType"]);return i!=null&&y(t,["encoding"],i),t}function cD(e){const t={},n=v(e,["uri"]);n!=null&&y(t,["gcsUri"],n);const r=v(e,["videoBytes"]);r!=null&&y(t,["bytesBase64Encoded"],Ba(r));const i=v(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}const i5="Content-Type",a5="X-Server-Timeout",o5="User-Agent",I0="x-goog-api-client",s5="1.30.0",l5=`google-genai-sdk/${s5}`,u5="v1beta1",c5="v1beta",f1=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class f5{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:u5,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:c5,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[l,u]of Object.entries(t.queryParams))i.searchParams.append(l,String(u));let a={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=t.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),t.abortSignal),this.unaryApiCall(i,a,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=t.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),t.abortSignal),this.streamApiCall(i,a,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,i){if(n&&n.timeout||i){const a=new AbortController,l=a.signal;if(n.timeout&&n?.timeout>0){const u=setTimeout(()=>a.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),t.signal=l}return n&&n.extraBody!==null&&d5(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await d1(i),new C0(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await d1(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){var n;return $s(this,arguments,function*(){const i=(n=t?.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";for(;;){const{done:u,value:c}=yield at(i.read());if(u){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=a.decode(c,{stream:!0});try{const m=JSON.parse(d);if("error"in m){const g=JSON.parse(JSON.stringify(m.error)),_=g.status,T=g.code,w=`got status: ${_}. ${JSON.stringify(m)}`;if(T>=400&&T<600)throw new Vh({message:w,status:T})}}catch(m){if(m.name==="ApiError")throw m}l+=d;let h=l.match(f1);for(;h;){const m=h[1];try{const g=new Response(m,{headers:t?.headers,status:t?.status,statusText:t?.statusText});yield yield at(new C0(g)),l=l.slice(h[0].length),h=l.match(f1)}catch(g){throw new Error(`exception parsing stream chunk ${m}. ${g}`)}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=l5+" "+this.clientOptions.userAgentExtra;return t[o5]=n,t[I0]=n,t[i5]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[i,a]of Object.entries(t.headers))r.append(i,a);t.timeout&&t.timeout>0&&r.append(a5,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,l=await a.stat(t);i.sizeBytes=String(l.size);const u=(r=n?.mimeType)!==null&&r!==void 0?r:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c={file:i},d=this.getFileName(t),h=ce("upload/v1beta/files",c._url),m=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,d,c,n?.httpOptions);return a.upload(t,m,this)}async uploadFileToFileSearchStore(t,n,r){var i;const a=this.clientOptions.uploader,l=await a.stat(n),u=String(l.size),c=(i=r?.mimeType)!==null&&i!==void 0?i:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${t}:uploadToFileSearchStore`,h=this.getFileName(n),m={};r?.customMetadata&&(m.customMetadata=r.customMetadata),r?.chunkingConfig&&(m.chunkingConfig=r.chunkingConfig);const g=await this.fetchUploadUrl(d,u,c,h,m,r?.httpOptions);return a.uploadToFileSearchStore(n,g,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,i,a,l){var u;let c={};l?c=l:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:t,body:JSON.stringify(a),httpMethod:"POST",httpOptions:c});if(!d||!d?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=d?.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function d1(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Vh({message:i,status:n}):new Error(i)}}function d5(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const a=JSON.parse(e.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,l){const u=Object.assign({},a);for(const c in l)if(Object.prototype.hasOwnProperty.call(l,c)){const d=l[c],h=u[c];d&&typeof d=="object"&&!Array.isArray(d)&&h&&typeof h=="object"&&!Array.isArray(h)?u[c]=r(h,d):(h&&d&&typeof h!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof d}. Overwriting.`),u[c]=d)}return u}const i=r(n,t);e.body=JSON.stringify(i)}const h5="mcp_used/unknown";let p5=!1;function fD(e){for(const t of e)if(m5(t)||typeof t=="object"&&"inputSchema"in t)return!0;return p5}function dD(e){var t;const n=(t=e[I0])!==null&&t!==void 0?t:"";e[I0]=(n+` ${h5}`).trimStart()}function m5(e){return e!==null&&typeof e=="object"&&e instanceof c_}function v5(e,t=100){return $s(this,arguments,function*(){let r,i=0;for(;i<t;){const a=yield at(e.listTools({cursor:r}));for(const l of a.tools)yield yield at(l),i++;if(!a.nextCursor)break;r=a.nextCursor}})}class c_{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new c_(t,n)}async initialize(){var t,n,r,i;if(this.mcpTools.length>0)return;const a={},l=[];for(const h of this.mcpClients)try{for(var u=!0,c=(n=void 0,ju(v5(h))),d;d=await c.next(),t=d.done,!t;u=!0){i=d.value,u=!1;const m=i;l.push(m);const g=m.name;if(a[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);a[g]=h}}catch(m){n={error:m}}finally{try{!u&&!t&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),lG(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}async function g5(e,t,n){const r=new eG;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),t(r)}class y5{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),l=S5(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const h=new Promise(P=>{d=P}),m=t.callbacks,g=function(){d({})},_=this.apiClient,T={onopen:g,onmessage:P=>{g5(_,m.onmessage,P)},onerror:(n=m?.onerror)!==null&&n!==void 0?n:function(P){},onclose:(r=m?.onclose)!==null&&r!==void 0?r:function(P){}},w=this.webSocketFactory.create(c,_5(l),T);w.connect(),await h;const O={setup:{model:$e(this.apiClient,t.model)}};return w.send(JSON.stringify(O)),new b5(w,this.apiClient)}}class b5{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=a6(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=i6(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ls.PLAY)}pause(){this.sendPlaybackControl(Ls.PAUSE)}stop(){this.sendPlaybackControl(Ls.STOP)}resetContext(){this.sendPlaybackControl(Ls.RESET_CONTEXT)}close(){this.conn.close()}}function _5(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function S5(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}const T5="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function E5(e,t,n){const r=new ZH;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(e.isVertexAI()){const l=l6(a);Object.assign(r,l)}else Object.assign(r,a);t(r)}class w5{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new y5(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,i,a,l,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const m=this.apiClient.getHeaders();t.config&&t.config.tools&&fD(t.config.tools)&&dD(m);const g=M5(m);if(this.apiClient.isVertexAI())h=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,h);else{const K=this.apiClient.getApiKey();let ae="BidiGenerateContent",Y="key";K?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ae="BidiGenerateContentConstrained",Y="access_token"),h=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${ae}?${Y}=${K}`}let _=()=>{};const T=new Promise(K=>{_=K}),w=t.callbacks,E=function(){var K;(K=w?.onopen)===null||K===void 0||K.call(w),_({})},C=this.apiClient,O={onopen:E,onmessage:K=>{E5(C,w.onmessage,K)},onerror:(n=w?.onerror)!==null&&n!==void 0?n:function(K){},onclose:(r=w?.onclose)!==null&&r!==void 0?r:function(K){}},P=this.webSocketFactory.create(h,C5(g),O);P.connect(),await T;let R=$e(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&R.startsWith("publishers/")){const K=this.apiClient.getProject(),ae=this.apiClient.getLocation();R=`projects/${K}/locations/${ae}/`+R}let N={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Fd.AUDIO]}:t.config.responseModalities=[Fd.AUDIO]),!((a=t.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const D=(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],k=[];for(const K of D)if(this.isCallableTool(K)){const ae=K;k.push(await ae.tool())}else k.push(K);k.length>0&&(t.config.tools=k);const H={model:R,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?N=r6(this.apiClient,H):N=n6(this.apiClient,H),delete N.config,P.send(JSON.stringify(N)),new x5(P,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const A5={turnComplete:!0};class x5{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=br(n.turns),t.isVertexAI()||(r=r.map(i=>Kh(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!t.isVertexAI()&&!("id"in a))throw new Error(T5)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},A5),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:s6(t)}:n={realtimeInput:o6(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function C5(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function M5(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}const h1=10;function p1(e){var t,n,r;if(!((t=e?.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const l of(n=e?.tools)!==null&&n!==void 0?n:[])if(Fs(l)){i=!0;break}if(!i)return!0;const a=(r=e?.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Fs(e){return"callTool"in e&&typeof e.callTool=="function"}function P5(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>Fs(i)))!==null&&r!==void 0?r:!1}function m1(e){var t;const n=[];return!((t=e?.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,i)=>{if(Fs(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function v1(e){var t;return!(!((t=e?.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}class O5 extends Qi{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,i,a,l,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!P5(n)||p1(n.config))return await this.generateContentInternal(c);const d=m1(n);if(d.length>0){const w=d.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let h,m;const g=br(c.contents),_=(a=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:h1;let T=0;for(;T<_&&(h=await this.generateContentInternal(c),!(!h.functionCalls||h.functionCalls.length===0));){const w=h.candidates[0].content,E=[];for(const C of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(Fs(C)){const P=await C.callTool(h.functionCalls);E.push(...P)}T++,m={role:"user",parts:E},c.contents=br(c.contents),c.contents.push(w),c.contents.push(m),v1(c.config)&&(g.push(w),g.push(m))}return v1(c.config)&&(h.automaticFunctionCallingHistory=g),h},this.generateContentStream=async n=>{var r,i,a,l,u;if(this.maybeMoveToResponseJsonSchem(n),p1(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const c=m1(n);if(c.length>0){const m=c.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(a=(i=(r=n?.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,h=(u=(l=n?.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const l=[];if(r?.generatedImages)for(const c of r.generatedImages)c&&c?.safetyAttributes&&((i=c?.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=c?.safetyAttributes:l.push(c);let u;return a?u={generatedImages:l,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Lo($i.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,l,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,i;const a=(n=t.config)===null||n===void 0?void 0:n.tools;if(!a)return t;const l=await Promise.all(a.map(async c=>Fs(c)?await c.tool():c)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(u.config.tools=l,t.config&&t.config.tools&&fD(t.config.tools)){const c=(i=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),dD(d),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(t){var n,r,i;const a=new Map;for(const l of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Fs(l)){const u=l,c=await u.tool();for(const d of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(a.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);a.set(d.name,u)}}return a}async processAfcStream(t){var n,r,i;const a=(i=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:h1;let l=!1,u=0;const c=await this.initAfcToolsMap(t);return(function(d,h,m){var g,_;return $s(this,arguments,function*(){for(var T,w,E,C;u<a;){l&&(u++,l=!1);const N=yield at(d.processParamsMaybeAddMcpUsage(m)),D=yield at(d.generateContentStreamInternal(N)),k=[],H=[];try{for(var O=!0,P=(w=void 0,ju(D)),R;R=yield at(P.next()),T=R.done,!T;O=!0){C=R.value,O=!1;const K=C;if(yield yield at(K),K.candidates&&(!((g=K.candidates[0])===null||g===void 0)&&g.content)){H.push(K.candidates[0].content);for(const ae of(_=K.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(u<a&&ae.functionCall){if(!ae.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(ae.functionCall.name)){const Y=yield at(h.get(ae.functionCall.name).callTool([ae.functionCall]));k.push(...Y)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${ae.functionCall.name}`)}}}}catch(K){w={error:K}}finally{try{!O&&!T&&(E=P.return)&&(yield at(E.call(P)))}finally{if(w)throw w.error}}if(k.length>0){l=!0;const K=new yu;K.candidates=[{content:{role:"user",parts:k}}],yield yield at(K);const ae=[];ae.push(...H),ae.push({role:"user",parts:k});const Y=br(m.contents).concat(ae);m.contents=Y}else break}})})(this,c,t)}async generateContentInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=l1(this.apiClient,t);return u=ce("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=c1(h),g=new yu;return Object.assign(g,m),g})}else{const d=s1(this.apiClient,t);return u=ce("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=u1(h),g=new yu;return Object.assign(g,m),g})}}async generateContentStreamInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=l1(this.apiClient,t);return u=ce("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(m){return $s(this,arguments,function*(){var g,_,T,w;try{for(var E=!0,C=ju(m),O;O=yield at(C.next()),g=O.done,!g;E=!0){w=O.value,E=!1;const P=w,R=c1(yield at(P.json()));R.sdkHttpResponse={headers:P.headers};const N=new yu;Object.assign(N,R),yield yield at(N)}}catch(P){_={error:P}}finally{try{!E&&!g&&(T=C.return)&&(yield at(T.call(C)))}finally{if(_)throw _.error}}})})}else{const d=s1(this.apiClient,t);return u=ce("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),l.then(function(m){return $s(this,arguments,function*(){var g,_,T,w;try{for(var E=!0,C=ju(m),O;O=yield at(C.next()),g=O.done,!g;E=!0){w=O.value,E=!1;const P=w,R=u1(yield at(P.json()));R.sdkHttpResponse={headers:P.headers};const N=new yu;Object.assign(N,R),yield yield at(N)}}catch(P){_={error:P}}finally{try{!E&&!g&&(T=C.return)&&(yield at(T.call(C)))}finally{if(_)throw _.error}}})})}}async embedContent(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=q6(this.apiClient,t);return u=ce("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=j6(h),g=new GC;return Object.assign(g,m),g})}else{const d=U6(this.apiClient,t);return u=ce("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=z6(h),g=new GC;return Object.assign(g,m),g})}}async generateImagesInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=X6(this.apiClient,t);return u=ce("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=Z6(h),g=new VC;return Object.assign(g,m),g})}else{const d=J6(this.apiClient,t);return u=ce("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=Q6(h),g=new VC;return Object.assign(g,m),g})}}async editImageInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=D6(this.apiClient,t);return a=ce("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=R6(c),h=new $H;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=X4(this.apiClient,t);return a=ce("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=Q4(c),h=new FH;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=I4(this.apiClient,t);return a=ce("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=D4(c),h=new HH;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=z4(this.apiClient,t);return a=ce("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=j4(c),h=new GH;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=v4(this.apiClient,t);return u=ce("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>N0(h))}else{const d=m4(this.apiClient,t);return u=ce("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>O0(h))}}async listInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=A4(this.apiClient,t);return u=ce("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=C4(h),g=new KC;return Object.assign(g,m),g})}else{const d=w4(this.apiClient,t);return u=ce("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=x4(h),g=new KC;return Object.assign(g,m),g})}}async update(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=W4(this.apiClient,t);return u=ce("{model}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>N0(h))}else{const d=Y4(this.apiClient,t);return u=ce("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>O0(h))}}async delete(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=P6(this.apiClient,t);return u=ce("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=N6(h),g=new YC;return Object.assign(g,m),g})}else{const d=M6(this.apiClient,t);return u=ce("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=O6(h),g=new YC;return Object.assign(g,m),g})}}async countTokens(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=A6(this.apiClient,t);return u=ce("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=C6(h),g=new WC;return Object.assign(g,m),g})}else{const d=w6(this.apiClient,t);return u=ce("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=x6(h),g=new WC;return Object.assign(g,m),g})}}async computeTokens(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=g6(this.apiClient,t);return a=ce("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=y6(c),h=new VH;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=a4(this.apiClient,t);return u=ce("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>{const m=r4(h),g=new Hd;return Object.assign(g,m),g})}else{const d=i4(this.apiClient,t);return u=ce("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>{const m=n4(h),g=new Hd;return Object.assign(g,m),g})}}}class N5 extends Qi{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=LH(t);return u=ce("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l}else{const d=kH(t);return u=ce("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l}}async fetchPredictVideosOperationInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=MH(t);return a=ce("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}function I5(e){const t={},n=v(e,["data"]);if(n!=null&&y(t,["data"],n),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function D5(e){const t={},n=v(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>$5(a))),y(t,["parts"],i)}const r=v(e,["role"]);return r!=null&&y(t,["role"],r),t}function R5(e,t,n){const r={},i=v(t,["expireTime"]);n!==void 0&&i!=null&&y(n,["expireTime"],i);const a=v(t,["newSessionExpireTime"]);n!==void 0&&a!=null&&y(n,["newSessionExpireTime"],a);const l=v(t,["uses"]);n!==void 0&&l!=null&&y(n,["uses"],l);const u=v(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&y(n,["bidiGenerateContentSetup"],B5(e,u));const c=v(t,["lockAdditionalFields"]);return n!==void 0&&c!=null&&y(n,["fieldMask"],c),r}function k5(e,t){const n={},r=v(t,["config"]);return r!=null&&y(n,["config"],R5(e,r,n)),n}function L5(e){const t={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function U5(e){const t={},n=v(e,["id"]);n!=null&&y(t,["id"],n);const r=v(e,["args"]);r!=null&&y(t,["args"],r);const i=v(e,["name"]);if(i!=null&&y(t,["name"],i),v(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function q5(e){const t={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function z5(e){const t={};if(v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function j5(e,t){const n={},r=v(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],r);const i=v(e,["responseModalities"]);t!==void 0&&i!=null&&y(t,["setup","generationConfig","responseModalities"],i);const a=v(e,["temperature"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","temperature"],a);const l=v(e,["topP"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","topP"],l);const u=v(e,["topK"]);t!==void 0&&u!=null&&y(t,["setup","generationConfig","topK"],u);const c=v(e,["maxOutputTokens"]);t!==void 0&&c!=null&&y(t,["setup","generationConfig","maxOutputTokens"],c);const d=v(e,["mediaResolution"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","mediaResolution"],d);const h=v(e,["seed"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","seed"],h);const m=v(e,["speechConfig"]);t!==void 0&&m!=null&&y(t,["setup","generationConfig","speechConfig"],u_(m));const g=v(e,["thinkingConfig"]);t!==void 0&&g!=null&&y(t,["setup","generationConfig","thinkingConfig"],g);const _=v(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],_);const T=v(e,["systemInstruction"]);t!==void 0&&T!=null&&y(t,["setup","systemInstruction"],D5(hn(T)));const w=v(e,["tools"]);if(t!==void 0&&w!=null){let D=fl(w);Array.isArray(D)&&(D=D.map(k=>H5(cl(k)))),y(t,["setup","tools"],D)}const E=v(e,["sessionResumption"]);t!==void 0&&E!=null&&y(t,["setup","sessionResumption"],F5(E));const C=v(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&y(t,["setup","inputAudioTranscription"],C);const O=v(e,["outputAudioTranscription"]);t!==void 0&&O!=null&&y(t,["setup","outputAudioTranscription"],O);const P=v(e,["realtimeInputConfig"]);t!==void 0&&P!=null&&y(t,["setup","realtimeInputConfig"],P);const R=v(e,["contextWindowCompression"]);t!==void 0&&R!=null&&y(t,["setup","contextWindowCompression"],R);const N=v(e,["proactivity"]);return t!==void 0&&N!=null&&y(t,["setup","proactivity"],N),n}function B5(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["setup","model"],$e(e,r));const i=v(t,["config"]);return i!=null&&y(n,["config"],j5(i,n)),n}function $5(e){const t={},n=v(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=v(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=v(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const a=v(e,["fileData"]);a!=null&&y(t,["fileData"],L5(a));const l=v(e,["functionCall"]);l!=null&&y(t,["functionCall"],U5(l));const u=v(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const c=v(e,["inlineData"]);c!=null&&y(t,["inlineData"],I5(c));const d=v(e,["text"]);d!=null&&y(t,["text"],d);const h=v(e,["thought"]);h!=null&&y(t,["thought"],h);const m=v(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const g=v(e,["videoMetadata"]);return g!=null&&y(t,["videoMetadata"],g),t}function F5(e){const t={},n=v(e,["handle"]);if(n!=null&&y(t,["handle"],n),v(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function H5(e){const t={},n=v(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(e,["googleSearchRetrieval"]);r!=null&&y(t,["googleSearchRetrieval"],r);const i=v(e,["computerUse"]);i!=null&&y(t,["computerUse"],i);const a=v(e,["fileSearch"]);a!=null&&y(t,["fileSearch"],a);const l=v(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=v(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],q5(u));const c=v(e,["googleSearch"]);c!=null&&y(t,["googleSearch"],z5(c));const d=v(e,["urlContext"]);return d!=null&&y(t,["urlContext"],d),t}function G5(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);t.push(...i)}else t.push(n)}return t.join(",")}function V5(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(e.bidiGenerateContentSetup=a,n=a):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const a=G5(n);if(Array.isArray(t?.lockAdditionalFields)&&t?.lockAdditionalFields.length===0)a?e.fieldMask=a:delete e.fieldMask;else if(t?.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(d=>l.includes(d)?`generationConfig.${d}`:d));const c=[];a&&c.push(a),u.length>0&&c.push(...u),c.length>0?e.fieldMask=c.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class K5 extends Qi{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=k5(this.apiClient,t);a=ce("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const c=V5(u,t.config);return i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}function Y5(e,t){const n={},r=v(e,["displayName"]);return t!==void 0&&r!=null&&y(t,["displayName"],r),n}function W5(e){const t={},n=v(e,["config"]);return n!=null&&Y5(n,t),t}function J5(e,t){const n={},r=v(e,["force"]);return t!==void 0&&r!=null&&y(t,["_query","force"],r),n}function X5(e){const t={},n=v(e,["name"]);n!=null&&y(t,["_url","name"],n);const r=v(e,["config"]);return r!=null&&J5(r,t),t}function Q5(e){const t={},n=v(e,["name"]);return n!=null&&y(t,["_url","name"],n),t}function Z5(e,t){const n={},r=v(e,["customMetadata"]);if(t!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["customMetadata"],a)}const i=v(e,["chunkingConfig"]);return t!==void 0&&i!=null&&y(t,["chunkingConfig"],i),n}function e8(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=v(e,["done"]);i!=null&&y(t,["done"],i);const a=v(e,["error"]);a!=null&&y(t,["error"],a);const l=v(e,["response"]);return l!=null&&y(t,["response"],n8(l)),t}function t8(e){const t={},n=v(e,["fileSearchStoreName"]);n!=null&&y(t,["_url","file_search_store_name"],n);const r=v(e,["fileName"]);r!=null&&y(t,["fileName"],r);const i=v(e,["config"]);return i!=null&&Z5(i,t),t}function n8(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["parent"]);r!=null&&y(t,["parent"],r);const i=v(e,["documentName"]);return i!=null&&y(t,["documentName"],i),t}function r8(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function i8(e){const t={},n=v(e,["config"]);return n!=null&&r8(n,t),t}function a8(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=v(e,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["fileSearchStores"],a)}return t}function o8(e,t){const n={},r=v(e,["mimeType"]);t!==void 0&&r!=null&&y(t,["mimeType"],r);const i=v(e,["displayName"]);t!==void 0&&i!=null&&y(t,["displayName"],i);const a=v(e,["customMetadata"]);if(t!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>c)),y(t,["customMetadata"],u)}const l=v(e,["chunkingConfig"]);return t!==void 0&&l!=null&&y(t,["chunkingConfig"],l),n}function s8(e){const t={},n=v(e,["fileSearchStoreName"]);n!=null&&y(t,["_url","file_search_store_name"],n);const r=v(e,["config"]);return r!=null&&o8(r,t),t}function l8(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function u8(e,t){const n={},r=v(e,["force"]);return t!==void 0&&r!=null&&y(t,["_query","force"],r),n}function c8(e){const t={},n=v(e,["name"]);n!=null&&y(t,["_url","name"],n);const r=v(e,["config"]);return r!=null&&u8(r,t),t}function f8(e){const t={},n=v(e,["name"]);return n!=null&&y(t,["_url","name"],n),t}function d8(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function h8(e){const t={},n=v(e,["parent"]);n!=null&&y(t,["_url","parent"],n);const r=v(e,["config"]);return r!=null&&d8(r,t),t}function p8(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=v(e,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["documents"],a)}return t}class m8 extends Qi{constructor(t){super(),this.apiClient=t,this.list=async n=>new Lo($i.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=f8(t);return a=ce("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(t){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=c8(t);i=ce("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=h8(t);return a=ce("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=p8(c),h=new KH;return Object.assign(h,d),h})}}}class v8 extends Qi{constructor(t,n=new m8(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new Lo($i.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=W5(t);return a=ce("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Q5(t);return a=ce("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(t){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=X5(t);i=ce("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=i8(t);return a=ce("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=a8(c),h=new YH;return Object.assign(h,d),h})}}async uploadToFileSearchStoreInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=s8(t);return a=ce("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=l8(c),h=new WH;return Object.assign(h,d),h})}}async importFile(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=t8(t);return a=ce("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=e8(c),h=new i_;return Object.assign(h,d),h})}}}function g8(e,t){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function y8(e,t){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function b8(e,t,n){const r={};if(v(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=v(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&y(t,["displayName"],i),v(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=v(e,["epochCount"]);t!==void 0&&a!=null&&y(t,["tuningTask","hyperparameters","epochCount"],a);const l=v(e,["learningRateMultiplier"]);if(l!=null&&y(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),v(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(v(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(v(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=v(e,["batchSize"]);t!==void 0&&u!=null&&y(t,["tuningTask","hyperparameters","batchSize"],u);const c=v(e,["learningRate"]);if(t!==void 0&&c!=null&&y(t,["tuningTask","hyperparameters","learningRate"],c),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(v(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function _8(e,t,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const _=v(e,["validationDataset"]);t!==void 0&&_!=null&&y(t,["supervisedTuningSpec"],g1(_))}else if(i==="PREFERENCE_TUNING"){const _=v(e,["validationDataset"]);t!==void 0&&_!=null&&y(t,["preferenceOptimizationSpec"],g1(_))}const a=v(e,["tunedModelDisplayName"]);t!==void 0&&a!=null&&y(t,["tunedModelDisplayName"],a);const l=v(e,["description"]);t!==void 0&&l!=null&&y(t,["description"],l);let u=v(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const _=v(e,["epochCount"]);t!==void 0&&_!=null&&y(t,["supervisedTuningSpec","hyperParameters","epochCount"],_)}else if(u==="PREFERENCE_TUNING"){const _=v(e,["epochCount"]);t!==void 0&&_!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],_)}let c=v(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const _=v(e,["learningRateMultiplier"]);t!==void 0&&_!=null&&y(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],_)}else if(c==="PREFERENCE_TUNING"){const _=v(e,["learningRateMultiplier"]);t!==void 0&&_!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],_)}let d=v(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const _=v(e,["exportLastCheckpointOnly"]);t!==void 0&&_!=null&&y(t,["supervisedTuningSpec","exportLastCheckpointOnly"],_)}else if(d==="PREFERENCE_TUNING"){const _=v(e,["exportLastCheckpointOnly"]);t!==void 0&&_!=null&&y(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],_)}let h=v(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const _=v(e,["adapterSize"]);t!==void 0&&_!=null&&y(t,["supervisedTuningSpec","hyperParameters","adapterSize"],_)}else if(h==="PREFERENCE_TUNING"){const _=v(e,["adapterSize"]);t!==void 0&&_!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],_)}if(v(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(v(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=v(e,["labels"]);t!==void 0&&m!=null&&y(t,["labels"],m);const g=v(e,["beta"]);return t!==void 0&&g!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function S8(e,t){const n={},r=v(e,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=v(e,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const a=v(e,["trainingDataset"]);a!=null&&I8(a);const l=v(e,["config"]);return l!=null&&b8(l,n),n}function T8(e,t){const n={},r=v(e,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=v(e,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const a=v(e,["trainingDataset"]);a!=null&&D8(a,n,t);const l=v(e,["config"]);return l!=null&&_8(l,n,t),n}function E8(e,t){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function w8(e,t){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function A8(e,t,n){const r={},i=v(e,["pageSize"]);t!==void 0&&i!=null&&y(t,["_query","pageSize"],i);const a=v(e,["pageToken"]);t!==void 0&&a!=null&&y(t,["_query","pageToken"],a);const l=v(e,["filter"]);return t!==void 0&&l!=null&&y(t,["_query","filter"],l),r}function x8(e,t,n){const r={},i=v(e,["pageSize"]);t!==void 0&&i!=null&&y(t,["_query","pageSize"],i);const a=v(e,["pageToken"]);t!==void 0&&a!=null&&y(t,["_query","pageToken"],a);const l=v(e,["filter"]);return t!==void 0&&l!=null&&y(t,["_query","filter"],l),r}function C8(e,t){const n={},r=v(e,["config"]);return r!=null&&A8(r,n),n}function M8(e,t){const n={},r=v(e,["config"]);return r!=null&&x8(r,n),n}function P8(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(e,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const a=v(e,["tunedModels"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>hD(u))),y(n,["tuningJobs"],l)}return n}function O8(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(e,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const a=v(e,["tuningJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>D0(u))),y(n,["tuningJobs"],l)}return n}function N8(e,t){const n={},r=v(e,["name"]);r!=null&&y(n,["model"],r);const i=v(e,["name"]);return i!=null&&y(n,["endpoint"],i),n}function I8(e,t){const n={};if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=v(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),y(n,["examples","examples"],i)}return n}function D8(e,t,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=v(e,["gcsUri"]);t!==void 0&&l!=null&&y(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=v(e,["gcsUri"]);t!==void 0&&l!=null&&y(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let a=v(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const l=v(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&y(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(a==="PREFERENCE_TUNING"){const l=v(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&y(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(v(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function hD(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(e,["name"]);i!=null&&y(n,["name"],i);const a=v(e,["state"]);a!=null&&y(n,["state"],YI(a));const l=v(e,["createTime"]);l!=null&&y(n,["createTime"],l);const u=v(e,["tuningTask","startTime"]);u!=null&&y(n,["startTime"],u);const c=v(e,["tuningTask","completeTime"]);c!=null&&y(n,["endTime"],c);const d=v(e,["updateTime"]);d!=null&&y(n,["updateTime"],d);const h=v(e,["description"]);h!=null&&y(n,["description"],h);const m=v(e,["baseModel"]);m!=null&&y(n,["baseModel"],m);const g=v(e,["_self"]);return g!=null&&y(n,["tunedModel"],N8(g)),n}function D0(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(e,["name"]);i!=null&&y(n,["name"],i);const a=v(e,["state"]);a!=null&&y(n,["state"],YI(a));const l=v(e,["createTime"]);l!=null&&y(n,["createTime"],l);const u=v(e,["startTime"]);u!=null&&y(n,["startTime"],u);const c=v(e,["endTime"]);c!=null&&y(n,["endTime"],c);const d=v(e,["updateTime"]);d!=null&&y(n,["updateTime"],d);const h=v(e,["error"]);h!=null&&y(n,["error"],h);const m=v(e,["description"]);m!=null&&y(n,["description"],m);const g=v(e,["baseModel"]);g!=null&&y(n,["baseModel"],g);const _=v(e,["tunedModel"]);_!=null&&y(n,["tunedModel"],_);const T=v(e,["preTunedModel"]);T!=null&&y(n,["preTunedModel"],T);const w=v(e,["supervisedTuningSpec"]);w!=null&&y(n,["supervisedTuningSpec"],w);const E=v(e,["preferenceOptimizationSpec"]);E!=null&&y(n,["preferenceOptimizationSpec"],E);const C=v(e,["tuningDataStats"]);C!=null&&y(n,["tuningDataStats"],C);const O=v(e,["encryptionSpec"]);O!=null&&y(n,["encryptionSpec"],O);const P=v(e,["partnerModelTuningSpec"]);P!=null&&y(n,["partnerModelTuningSpec"],P);const R=v(e,["customBaseModel"]);R!=null&&y(n,["customBaseModel"],R);const N=v(e,["experiment"]);N!=null&&y(n,["experiment"],N);const D=v(e,["labels"]);D!=null&&y(n,["labels"],D);const k=v(e,["outputUri"]);k!=null&&y(n,["outputUri"],k);const H=v(e,["pipelineJob"]);H!=null&&y(n,["pipelineJob"],H);const K=v(e,["serviceAccount"]);K!=null&&y(n,["serviceAccount"],K);const ae=v(e,["tunedModelDisplayName"]);ae!=null&&y(n,["tunedModelDisplayName"],ae);const Y=v(e,["veoTuningSpec"]);return Y!=null&&y(n,["veoTuningSpec"],Y),n}function R8(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(e,["name"]);i!=null&&y(n,["name"],i);const a=v(e,["metadata"]);a!=null&&y(n,["metadata"],a);const l=v(e,["done"]);l!=null&&y(n,["done"],l);const u=v(e,["error"]);return u!=null&&y(n,["error"],u),n}function g1(e,t){const n={},r=v(e,["gcsUri"]);r!=null&&y(n,["validationDatasetUri"],r);const i=v(e,["vertexDatasetResource"]);return i!=null&&y(n,["validationDatasetUri"],i),n}class k8 extends Qi{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Lo($i.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let l="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?l=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(l=a.name.split("/operations/")[0]),{name:l,state:x0.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=w8(t);return u=ce("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>D0(h))}else{const d=E8(t);return u=ce("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>hD(h))}}async listInternal(t){var n,r,i,a;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=M8(t);return u=ce("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=O8(h),g=new JC;return Object.assign(g,m),g})}else{const d=C8(t);return u=ce("tunedModels",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),l.then(h=>{const m=P8(h),g=new JC;return Object.assign(g,m),g})}}async cancel(t){var n,r,i,a;let l="",u={};if(this.apiClient.isVertexAI()){const c=y8(t);l=ce("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=g8(t);l=ce("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async tuneInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=T8(t,t);return a=ce("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>D0(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=S8(t);return a=ce("tunedModels",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>R8(c))}}}class L8{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const U8=1024*1024*8,q8=3,z8=1e3,j8=2,Vd="x-goog-upload-status";async function B8(e,t,n){var r;const i=await pD(e,t,n),a=await i?.json();if(((r=i?.headers)===null||r===void 0?void 0:r[Vd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function $8(e,t,n){var r;const i=await pD(e,t,n),a=await i?.json();if(((r=i?.headers)===null||r===void 0?void 0:r[Vd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=$I(a),u=new a_;return Object.assign(u,l),u}async function pD(e,t,n){var r,i;let a=0,l=0,u=new C0(new Response),c="upload";for(a=e.size;l<a;){const d=Math.min(U8,a-l),h=e.slice(l,l+d);l+d>=a&&(c+=", finalize");let m=0,g=z8;for(;m<q8&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(l),"Content-Length":String(d)}}}),!(!((r=u?.headers)===null||r===void 0)&&r[Vd]));)m++,await H8(g),g=g*j8;if(l+=d,((i=u?.headers)===null||i===void 0?void 0:i[Vd])!=="active")break;if(a<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function F8(e){return{size:e.size,type:e.type}}function H8(e){return new Promise(t=>setTimeout(t,e))}class G8{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await B8(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await $8(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await F8(t)}}class V8{create(t,n,r){return new K8(t,n,r)}}class K8{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const y1="x-goog-api-key";class Y8{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(y1)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(y1,this.apiKey)}}}const W8="gl-node/";class mD{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=xH(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion;const i=new Y8(this.apiKey);this.apiClient=new f5({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:W8+"web",uploader:new G8,downloader:new L8}),this.models=new O5(this.apiClient),this.live=new w5(this.apiClient,i,new V8),this.batches=new tV(this.apiClient),this.chats=new LV(this.models,this.apiClient),this.caches=new DV(this.apiClient),this.files=new VV(this.apiClient),this.operations=new N5(this.apiClient),this.authTokens=new K5(this.apiClient),this.tunings=new k8(this.apiClient),this.fileSearchStores=new v8(this.apiClient)}}let Bu=null;function J8(e){localStorage.setItem("gemini_api_key",e),Bu=new mD({apiKey:e})}function vD(){return localStorage.getItem("gemini_api_key")}function R0(){return!!vD()}function X8(){Bu=null,localStorage.removeItem("gemini_api_key")}function f_(){if(!Bu){const e=vD();if(!e)throw new Error("Gemini API key not set. Add your key in Settings.");Bu=new mD({apiKey:e})}return Bu}function d_(e){return e.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim()}async function Q8(e,t=[]){const n=f_(),r=t&&t.length>0,i=e&&e.trim().length>0;let a="";i&&r?a=`The user provided a text description AND ${t.length} image(s). Use ALL information together - the text gives context, images show the actual food and/or nutrition labels.`:r?a=`The user provided ${t.length} image(s) of their meal. These may include food photos and/or nutrition labels.`:a="The user provided a text description of their meal.";const l=`Analyze this meal and provide complete nutritional breakdown.

${a}

${i?`Text description: "${e}"`:""}

Instructions:
- If you see a NUTRITION LABEL in any image, use those EXACT values for that product
- If you see FOOD in an image, identify items and estimate portions
- Combine information from text AND images to build the complete meal
- If text mentions something not visible in images, include it anyway

Return ONLY valid JSON with no markdown formatting:
{
  "meal_name": "short descriptive name (max 50 chars)",
  "ingredients": [
    {
      "name": "ingredient name",
      "quantity": number,
      "unit": "g" | "ml" | "cup" | "tbsp" | "tsp" | "oz" | "slice" | "piece",
      "grams": number,
      "nutrients": {
        "calories": number,
        "purines": number,
        "protein": number,
        "carbs": number,
        "fat": number,
        "fiber": number,
        "sodium": number,
        "sugar": number
      }
    }
  ],
  "total_nutrients": {
    "calories": number,
    "purines": number,
    "protein": number,
    "carbs": number,
    "fat": number,
    "fiber": number,
    "sodium": number,
    "sugar": number
  }
}

Rules:
- Make reasonable portion estimates if not specified (e.g., "an egg" = 50g, "a glass of juice" = 250ml)
- "grams" is the converted weight in grams for the specified quantity
- "nutrients" are the values for THAT ingredient's quantity (not per 100g)
- "total_nutrients" is the sum of all ingredients
- Use USDA database for calories, protein, carbs, fat, fiber, sodium, sugar
- Use USDA and medical literature for purine values, these need to be as precise as possible
- All values: calories=kcal, purines/sodium=mg, all others=grams

Calculate purines by: (grams / 100)  purine_per_100g`;try{const u=[{text:l}];if(r)for(const h of t)u.push({inlineData:{data:h.base64,mimeType:h.mimeType||"image/jpeg"}});const d=(await n.models.generateContent({model:"gemini-2.5-flash",contents:u})).text;return JSON.parse(d_(d))}catch(u){throw console.error("Failed to analyze meal:",u),new Error(`Failed to analyze meal: ${u.message}`)}}async function Z8(e){const t=f_(),n=`Parse this meal description into structured ingredient data:

"${e}"

Return ONLY valid JSON with no markdown formatting:
{
  "meal_name": "short descriptive name (max 50 chars)",
  "ingredients": [
    {
      "name": "ingredient name",
      "quantity": number,
      "unit": "g" | "ml" | "cup" | "tbsp" | "tsp" | "oz" | "slice" | "piece",
      "grams": number
    }
  ]
}

Rules:
- Make reasonable portion estimates if not specified
- "grams" is the TOTAL weight in grams for the specified quantity
- Use realistic weights when estimating portions
- If ambiguous, choose the most common interpretation`;try{const i=(await t.models.generateContent({model:"gemini-2.5-flash",contents:n})).text;return JSON.parse(d_(i))}catch(r){throw console.error("Failed to parse meal:",r),new Error(`Failed to parse meal: ${r.message}`)}}async function eK(e){const t=f_(),n=`Estimate complete nutritional information per 100g for this ingredient:

"${e}"

Return ONLY valid JSON with no markdown formatting:
{
  "calories": number,
  "purines": number,
  "protein": number,
  "carbs": number,
  "fat": number,
  "fiber": number,
  "sodium": number,
  "sugar": number
}

All values in standard units:
- calories: kcal
- purines: mg (CRITICAL - see reference below)
- all others: grams (g) except sodium (mg)

Use USDA database for calories, protein, carbs, fat, fiber, sodium, sugar.
Use USDA and medical literature for purine values. When conflicting purine data exists, average the result.`;try{const i=(await t.models.generateContent({model:"gemini-2.5-flash",contents:n})).text;return JSON.parse(d_(i))}catch(r){throw console.error("Failed to get nutrition:",r),new Error(`Failed to get nutrition data: ${r.message}`)}}async function gD(e,t=[],n=null){const r=await Q8(e,t),i=r.ingredients.map(a=>{const l=a.grams||100,u=100/l,c=Kd(a.nutrients,u);return n&&n({name:a.name,nutrients_per_100g:c,source:"ai"}),{name:a.name,normalized_name:yD(a.name),quantity:a.quantity,unit:a.unit,grams:l,nutrients_per_100g:c,nutrients:a.nutrients}});return{meal_name:r.meal_name,ingredients:i,total_nutrients:r.total_nutrients}}async function tK(e,t=[],n=null){if(!n)return gD(e,t);const{lookup:r,add:i,recordUsage:a}=n,l=await Z8(e),u=[],c=[],d=[];for(const m of l.ingredients){const g=yD(m.name),_=r?r(g):null;_&&_.nutrients_per_100g?(d.push({...m,normalizedName:g,cached:_}),a&&a(g)):c.push({...m,normalizedName:g})}if(c.length>0)for(const m of c)try{const g=await eK(m.name),_=m.grams||hg(m.quantity,m.unit),T=_/100,w=Kd(g,T);u.push({name:m.name,normalized_name:m.normalizedName,quantity:m.quantity,unit:m.unit,grams:_,nutrients_per_100g:g,nutrients:w}),i&&i({name:m.name,nutrients_per_100g:g,source:"ai"})}catch(g){console.error(`Failed to get nutrition for ${m.name}:`,g),u.push({name:m.name,normalized_name:m.normalizedName,quantity:m.quantity,unit:m.unit,grams:m.grams||hg(m.quantity,m.unit),nutrients_per_100g:{calories:0,purines:0,protein:0,carbs:0,fat:0,fiber:0,sodium:0,sugar:0},nutrients:{calories:0,purines:0,protein:0,carbs:0,fat:0,fiber:0,sodium:0,sugar:0}})}for(const m of d){const g=m.grams||hg(m.quantity,m.unit),_=g/100,T=Kd(m.cached.nutrients_per_100g,_);u.push({name:m.name,normalized_name:m.normalizedName,quantity:m.quantity,unit:m.unit,grams:g,nutrients_per_100g:m.cached.nutrients_per_100g,nutrients:T})}const h=bD(u);return{meal_name:l.meal_name,ingredients:u,total_nutrients:h,cache_stats:{hits:d.length,misses:c.length}}}function yD(e){return e.toLowerCase().trim().replace(/s$/,"").replace(/ies$/,"y").replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"_")}const nK={g:1,gram:1,grams:1,kg:1e3,oz:28.35,ounce:28.35,ounces:28.35,lb:453.6,pound:453.6,pounds:453.6,cup:240,cups:240,tbsp:15,tablespoon:15,tablespoons:15,tsp:5,teaspoon:5,teaspoons:5,ml:1,slice:30,slices:30,piece:50,pieces:50};function hg(e,t){const n=t.toLowerCase().trim(),r=nK[n]||1;return e*r}function Kd(e,t){const n={};return Object.keys(e).forEach(r=>{n[r]=Math.round(e[r]*t*10)/10}),n}function b1(e,t){const n=e.quantity||1,r=t/n,i=(e.grams||100)*r,a=e.nutrients||e.nutrients_per_unit||{};return{...e,quantity:t,grams:i,nutrients:Kd(a,r)}}function bD(e){return e.reduce((t,n)=>{const r=n.nutrients||n.nutrients_per_unit||{};return Object.keys(r).forEach(i=>{t[i]=(t[i]||0)+r[i]}),t},{})}const rK=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const i=r.result.split(",")[1];t({base64:i,mimeType:e.type||"image/jpeg",preview:r.result,name:e.name})},r.onerror=n,r.readAsDataURL(e)}),pg=[{key:"breakfast",icon:"",label:"Brekkie"},{key:"lunch",icon:"",label:"Lunch"},{key:"dinner",icon:"",label:"Dinner"},{key:"snack",icon:"",label:"Snack"}],mg=e=>{const t=new Date(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`},iK=e=>{const t=[];for(let n=-3;n<=3;n++){const r=new Date(e);r.setDate(r.getDate()+n),t.push({date:r,dateKey:mg(r),dayName:r.toLocaleDateString("en-US",{weekday:"short"}).charAt(0),dayNum:r.getDate(),isToday:mg(r)===mg(new Date)})}return t};function aK(){const{user:e,isLoading:t}=ul(),[n,r]=A.useState(Hx()),[i,a]=A.useState(new Date),[l,u]=A.useState("breakfast"),[c,d]=A.useState(""),[h,m]=A.useState(!1),[g,_]=A.useState(!1),[T,w]=A.useState(null),[E,C]=A.useState([]),O=A.useRef(null),P=A.useRef(null),[R,N]=A.useState(null),[D,k]=A.useState(""),[H,K]=A.useState("snack"),[ae,Y]=A.useState(""),[W,ue]=A.useState(null),[fe,ge]=A.useState(""),[j,ee]=A.useState(null),[le,V]=A.useState({}),{meals:pe,isLoading:U,addMeal:X,updateMeal:$,deleteMeal:se,getDailyTotals:_e}=t_(n),{totalHydration:Ee,adjustHydration:we,isLoading:gt}=BI(n),{addToStash:te,bottles:Ae}=n_(),{lookupIngredient:Pe,addIngredient:oe,recordUsage:Ot}=TH(),Nt=[...[{id:"quick-250",name:"+250ml",capacity_ml:250,icon:null},{id:"quick-500",name:"+500ml",capacity_ml:500,icon:null}],...Ae],It=iK(i),We=e?.thresholds||{},ia=pe.filter(ie=>ie.meal_type!=="hydration"),Bn={..._e(n)},Sl=SH(Bn,We),Lp=t||U||gt,Rc=async ie=>{await we(ie)},gn=ie=>{r(ie)},kc=ie=>{const Te=new Date(i);Te.setDate(Te.getDate()+(ie==="next"?7:-7)),a(Te)},Tl=async ie=>{const Te=Array.from(ie.target.files||[]);if(Te.length!==0){try{const Oe=await Promise.all(Te.map(rK));C(nt=>[...nt,...Oe])}catch(Oe){console.error("Failed to read image:",Oe),w("Failed to read image. Please try again.")}ie.target.value=""}},Lc=ie=>{C(Te=>Te.filter((Oe,nt)=>nt!==ie))},zo=async ie=>{ie.preventDefault();const Te=c.trim().length>0,Oe=E.length>0;if(!(!Te&&!Oe)){if(w(null),!R0()){await X({date:n,meal_type:l,meal_name:Te?c:"Meal with photos",ingredients:[],total_nutrients:{calories:0,purines:0,protein:0,carbs:0,fat:0,fiber:0,sodium:0,sugar:0},hydration_ml:0,analysis_method:"manual"}),d(""),C([]);return}_(!0);try{const nt=E.map(jr=>({base64:jr.base64,mimeType:jr.mimeType}));let jt,un,ii,Ka;if(Oe){const jr=await gD(c,nt,oe);jt=jr.meal_name,un=jr.ingredients,ii=jr.total_nutrients,Ka={hits:0,misses:un.length}}else{const Ya=await tK(c,[],{lookup:Pe,add:oe,recordUsage:Ot});jt=Ya.meal_name,un=Ya.ingredients,ii=Ya.total_nutrients,Ka=Ya.cache_stats,Ka&&console.log(` Ingredient cache: ${Ka.hits} hits, ${Ka.misses} AI calls`)}const zc={date:n,meal_type:l,meal_name:jt,description:c,ingredients:un,total_nutrients:ii,hydration_ml:0,analysis_method:Oe?"ai-vision":"ai",image_count:E.length};await X(zc),d(""),C([])}catch(nt){console.error("AI parsing failed:",nt),w(nt.message||"Failed to analyze meal. Try again or check your API key.")}finally{_(!1)}}},Up=async ie=>{confirm("Delete this meal?")&&await se(ie)},Uc=ie=>{N(ie),k(ie.meal_name),K(ie.meal_type),Y(ie.date)},qp=async()=>{R&&(await $(R.id,{meal_name:D,meal_type:H,date:ae}),N(null))},qc=()=>{N(null),k(""),K("snack"),Y("")},Va=ie=>{ue(ie),ge(Hx())},yn=async()=>{if(!W||!fe)return;const ie={date:fe,meal_type:W.meal_type,meal_name:W.meal_name,description:W.description,ingredients:W.ingredients,total_nutrients:W.total_nutrients,hydration_ml:0,analysis_method:"copy"};await X(ie),ue(null),alert(`Meal copied to ${fe}! `)},zr=ie=>{ee({mealId:ie.id,originalIngredients:ie.ingredients,ingredients:[...ie.ingredients]}),V({})},bn=(ie,Te)=>{const Oe=parseFloat(Te)||0;V(nt=>({...nt,[ie]:Oe}))},zp=async()=>{if(!j)return;const ie=j.ingredients.map((Oe,nt)=>le[nt]!==void 0&&le[nt]!==Oe.quantity?b1(Oe,le[nt]):Oe),Te=bD(ie);await $(j.mealId,{ingredients:ie,total_nutrients:Te}),ee(null),V({})},jp=async ie=>{if(!j)return;const Te=j.ingredients.filter((jt,un)=>un!==ie);ee(jt=>({...jt,ingredients:Te}));const Oe={...le};delete Oe[ie];const nt={};Object.keys(Oe).forEach(jt=>{const un=parseInt(jt);un>ie?nt[un-1]=Oe[jt]:nt[un]=Oe[jt]}),V(nt)},Bp=()=>{ee(null),V({})},jo=async ie=>{await te({type:"meal",name:ie.meal_name,ingredients:ie.ingredients||[],total_nutrients:ie.total_nutrients||{},use_count:0}),alert(`"${ie.meal_name}" saved to your Dragon's Hoard! `)},Bo=(ie=>{const[Te,Oe,nt]=ie.split("-").map(Number);return new Date(Te,Oe-1,nt)})(n).toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"});return Lp?M.jsxs("div",{className:"page diary-page",children:[M.jsx(Bi,{title:"Dragon Keeper",subtitle:"Loading..."}),M.jsxs("div",{className:"loading-state card",children:[M.jsx("div",{className:"spinner"}),M.jsx("p",{children:"Waking up the dragon..."})]})]}):M.jsxs("div",{className:"page diary-page",children:[M.jsx(Bi,{title:"Dragon Keeper",subtitle:`Feeding log for ${Bo}`}),M.jsxs("div",{className:"calendar-ribbon card",children:[M.jsx("button",{className:"cal-nav",onClick:()=>kc("prev"),"aria-label":"Previous week",children:""}),M.jsx("div",{className:"cal-days",children:It.map(ie=>{const Te=ie.dateKey===n;return M.jsxs("button",{className:`cal-day ${Te?"active":""} ${ie.isToday?"today":""}`,onClick:()=>gn(ie.dateKey),children:[M.jsx("span",{className:"cal-day-name",children:ie.dayName}),M.jsx("span",{className:"cal-day-num",children:ie.dayNum}),ie.isToday&&M.jsx("span",{className:"cal-day-indicator",children:""})]},ie.dateKey)})}),M.jsx("button",{className:"cal-nav",onClick:()=>kc("next"),"aria-label":"Next week",children:""})]}),M.jsx("div",{className:"meal-type-selector",children:pg.map(ie=>M.jsxs("button",{className:`meal-type-btn ${l===ie.key?"active":""}`,onClick:()=>u(ie.key),children:[M.jsx("span",{className:"meal-icon",children:ie.icon}),M.jsx("span",{className:"meal-label",children:ie.label})]},ie.key))}),M.jsxs("form",{className:"meal-input-section card",onSubmit:zo,children:[M.jsx("label",{className:"input-label",children:"What did your dragon eat? "}),M.jsx("div",{className:"input-row",children:M.jsx("input",{type:"text",placeholder:E.length>0?"Add context or just tap Log It!":"e.g., grilled chicken with rice...",value:c,onChange:ie=>d(ie.target.value),disabled:g})}),E.length>0&&M.jsx("div",{className:"attached-images",children:E.map((ie,Te)=>M.jsxs("div",{className:"attached-image",children:[M.jsx("img",{src:ie.preview,alt:`Attached ${Te+1}`}),M.jsx("button",{type:"button",className:"remove-image-btn",onClick:()=>Lc(Te),"aria-label":"Remove image",children:""})]},Te))}),T&&M.jsx("div",{className:"ai-error",children:M.jsxs("span",{children:[" ",T]})}),M.jsx("input",{type:"file",ref:O,accept:"image/*",capture:"environment",onChange:Tl,style:{display:"none"}}),M.jsx("input",{type:"file",ref:P,accept:"image/*",multiple:!0,onChange:Tl,style:{display:"none"}}),M.jsxs("div",{className:"input-actions",children:[M.jsx("button",{type:"button",className:"btn btn-secondary",disabled:g,children:""}),M.jsx("button",{type:"button",className:"btn btn-secondary",disabled:g,onClick:()=>O.current?.click(),title:"Take a photo",children:""}),M.jsx("button",{type:"button",className:"btn btn-secondary",disabled:g,onClick:()=>P.current?.click(),title:"Choose from gallery",children:""}),M.jsx("button",{type:"submit",className:"btn btn-primary btn-lg",disabled:g||!c.trim()&&E.length===0,children:g?M.jsx(M.Fragment,{children:" Analyzing..."}):M.jsx(M.Fragment,{children:"Log It! "})})]}),!R0()&&M.jsx("p",{className:"no-api-hint text-muted text-sm",children:" Set up AI in Settings  Dragon's Intelligence to auto-analyze meals!"})]}),M.jsxs("div",{className:"hydration-section card",children:[M.jsxs("div",{className:"hydration-header",children:[M.jsx("span",{className:"hydration-title",children:" Dragon's Hydration"}),M.jsxs("span",{className:"hydration-value",children:[Ee,"/",We.hydration_target||2e3,"ml"]})]}),M.jsx("div",{className:"progress-bar",children:M.jsx("div",{className:`progress-bar-fill ${Ee>=(We.hydration_target||2e3)?"success":"warning"}`,style:{width:`${Math.min(Ee/(We.hydration_target||2e3)*100,100)}%`}})}),M.jsxs("div",{className:"hydration-buttons",children:[M.jsx("button",{className:"btn btn-secondary btn-danger-outline",onClick:()=>Rc(-250),children:"250"}),Nt.map(ie=>M.jsxs("button",{className:"btn btn-secondary",onClick:()=>Rc(ie.capacity_ml),children:[ie.icon||"",ie.icon?" ":"",ie.name||`+${ie.capacity_ml}ml`]},ie.id))]})]}),M.jsxs("section",{className:"meals-section",children:[M.jsx("h2",{className:"section-title",children:"Today's Feast"}),ia.length===0?M.jsxs("div",{className:"empty-state card",children:[M.jsx(E0,{state:"curious"}),M.jsx("p",{children:"No meals logged yet today!"}),M.jsx("p",{className:"text-muted",children:"Feed your dragon to get started."})]}):M.jsx("div",{className:"meals-list",children:ia.map(ie=>M.jsxs("div",{className:"meal-card card",children:[M.jsxs("div",{className:"meal-header",children:[M.jsx("span",{className:"meal-type-badge",children:pg.find(Te=>Te.key===ie.meal_type)?.icon||""}),M.jsx("h3",{className:"meal-name",children:ie.meal_name})]}),ie.ingredients&&ie.ingredients.length>0&&M.jsx("div",{className:"meal-ingredients-section",children:j?.mealId===ie.id?M.jsxs("div",{className:"ingredients-edit-mode",children:[M.jsx("ul",{className:"meal-ingredients editing",children:j.ingredients.map((Te,Oe)=>{const nt=le[Oe]!==void 0?le[Oe]:Te.quantity,jt=le[Oe]!==void 0?b1(Te,le[Oe]):Te;return M.jsxs("li",{className:"ingredient-edit-row",children:[M.jsxs("span",{className:"ing-name",children:[" ",Te.name]}),M.jsx("input",{type:"number",className:"ing-qty-input",value:nt,onChange:un=>bn(Oe,un.target.value),min:"0",step:"0.1"}),M.jsx("span",{className:"ing-unit",children:Te.unit}),M.jsxs("span",{className:"ing-nutrients",children:["",Math.round((jt.nutrients||jt.nutrients_per_unit)?.calories||0),"  ",Math.round((jt.nutrients||jt.nutrients_per_unit)?.purines||0)]}),M.jsx("button",{className:"btn-icon btn-delete-ing",onClick:()=>jp(Oe),title:"Remove ingredient",children:""})]},Oe)})}),M.jsxs("div",{className:"ingredient-edit-actions",children:[M.jsx("button",{className:"btn btn-secondary btn-sm",onClick:Bp,children:"Cancel"}),M.jsx("button",{className:"btn btn-primary btn-sm",onClick:zp,children:" Save Changes"})]})]}):M.jsxs(M.Fragment,{children:[M.jsx("ul",{className:"meal-ingredients",children:ie.ingredients.map((Te,Oe)=>M.jsxs("li",{children:[M.jsxs("span",{className:"ing-name",children:[" ",Te.name]}),M.jsxs("span",{className:"ing-qty",children:["(",Te.quantity||"?",Te.unit||"g",")"]}),M.jsxs("span",{className:"ing-nutrients",children:["",Math.round((Te.nutrients||Te.nutrients_per_unit)?.calories||0),"  ",Math.round((Te.nutrients||Te.nutrients_per_unit)?.purines||0)]})]},Oe))}),M.jsx("button",{type:"button",className:"btn btn-secondary btn-sm btn-edit-ingredients",onClick:Te=>{Te.preventDefault(),Te.stopPropagation(),zr(ie)},children:" Edit quantities"})]})}),M.jsxs("div",{className:"meal-nutrients meal-totals",children:[M.jsx("span",{className:"total-label",children:"Total:"}),M.jsxs("span",{children:[" ",Math.round(ie.total_nutrients?.calories||0)," cal"]}),M.jsxs("span",{children:[" ",Math.round(ie.total_nutrients?.purines||0),"mg"]})]}),M.jsxs("div",{className:"meal-actions",children:[M.jsx("button",{className:"btn btn-secondary",onClick:()=>Uc(ie),children:" Edit"}),M.jsx("button",{className:"btn btn-secondary",onClick:()=>Va(ie),children:" Copy"}),M.jsx("button",{className:"btn btn-secondary",onClick:()=>Up(ie.id),children:""}),M.jsx("button",{className:"btn btn-secondary",onClick:()=>jo(ie),children:" Stash"})]})]},ie.id))})]}),M.jsxs("section",{className:"daily-status card",children:[M.jsxs("div",{className:"status-header",onClick:()=>m(!h),children:[M.jsx("h3",{children:" Dragon's Daily Status"}),M.jsx(E0,{state:Sl,showMessage:!1,size:"small"}),M.jsx("span",{className:"toggle-hint",children:h?"":""})]}),M.jsx(wi,{nutrient:"calories",value:Bn.calories||0,target:We.calories_max||2e3,min:We.calories_min||1500,max:We.calories_max||2e3}),M.jsx(wi,{nutrient:"purines",value:Bn.purines||0,target:We.purines_max||400,max:We.purines_max||400}),h&&M.jsxs("div",{className:"all-nutrients animate-fade-in",children:[M.jsx(wi,{nutrient:"protein",value:Bn.protein||0,target:We.protein_target||60,compact:!0}),M.jsx(wi,{nutrient:"carbs",value:Bn.carbs||0,target:We.carbs_target||250,compact:!0}),M.jsx(wi,{nutrient:"fat",value:Bn.fat||0,target:We.fat_target||65,compact:!0}),M.jsx(wi,{nutrient:"fiber",value:Bn.fiber||0,target:We.fiber_target||30,compact:!0}),M.jsx(wi,{nutrient:"sodium",value:Bn.sodium||0,target:We.sodium_max||2300,max:We.sodium_max||2300,compact:!0}),M.jsx(wi,{nutrient:"sugar",value:Bn.sugar||0,target:We.sugar_max||50,max:We.sugar_max||50,compact:!0}),M.jsx(wi,{nutrient:"hydration",value:Ee,target:We.hydration_target||2e3,compact:!0})]})]}),R&&M.jsx("div",{className:"modal-overlay",onClick:qc,children:M.jsxs("div",{className:"modal-content card",onClick:ie=>ie.stopPropagation(),children:[M.jsx("h2",{children:" Edit Meal"}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{children:"Meal Name"}),M.jsx("input",{type:"text",value:D,onChange:ie=>k(ie.target.value),placeholder:"e.g., Grilled Chicken"})]}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{children:"Meal Type"}),M.jsx("select",{value:H,onChange:ie=>K(ie.target.value),children:pg.map(ie=>M.jsxs("option",{value:ie.key,children:[ie.icon," ",ie.label]},ie.key))})]}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{children:"Date (move to different day)"}),M.jsx("input",{type:"date",value:ae,onChange:ie=>Y(ie.target.value)})]}),M.jsxs("div",{className:"modal-actions",children:[M.jsx("button",{className:"btn btn-secondary",onClick:qc,children:"Cancel"}),M.jsx("button",{className:"btn btn-primary",onClick:qp,children:" Save"})]})]})}),W&&M.jsx("div",{className:"modal-overlay",onClick:()=>ue(null),children:M.jsxs("div",{className:"modal-content card",onClick:ie=>ie.stopPropagation(),children:[M.jsx("h2",{children:" Copy Meal"}),M.jsxs("p",{children:['Copy "',W.meal_name,'" to another date:']}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{children:"Target Date"}),M.jsx("input",{type:"date",value:fe,onChange:ie=>ge(ie.target.value)})]}),M.jsxs("div",{className:"modal-actions",children:[M.jsx("button",{className:"btn btn-secondary",onClick:()=>ue(null),children:"Cancel"}),M.jsx("button",{className:"btn btn-primary",onClick:yn,children:" Copy Meal"})]})]})})]})}function _D(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=_D(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ye(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=_D(e))&&(r&&(r+=" "),r+=t);return r}var oK=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function h_(e){if(typeof e!="string")return!1;var t=oK;return t.includes(e)}var sK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],lK=new Set(sK);function SD(e){return typeof e!="string"?!1:lK.has(e)}function TD(e){return typeof e=="string"&&e.startsWith("data-")}function Jr(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(SD(n)||TD(n))&&(t[n]=e[n]);return t}function Jh(e){if(e==null)return null;if(A.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Jr(t)}return typeof e=="object"&&!Array.isArray(e)?Jr(e):null}function vn(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(SD(n)||TD(n)||h_(n))&&(t[n]=e[n]);return t}function uK(e){return e==null?null:A.isValidElement(e)?vn(e.props):typeof e=="object"&&!Array.isArray(e)?vn(e):null}var cK=["children","width","height","viewBox","className","style","title","desc"];function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k0.apply(null,arguments)}function fK(e,t){if(e==null)return{};var n,r,i=dK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var p_=A.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:l,style:u,title:c,desc:d}=e,h=fK(e,cK),m=a||{width:r,height:i,x:0,y:0},g=Ye("recharts-surface",l);return A.createElement("svg",k0({},vn(h),{className:g,width:r,height:i,style:u,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),A.createElement("title",null,c),A.createElement("desc",null,d),n)}),hK=["children","className"];function L0(){return L0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L0.apply(null,arguments)}function pK(e,t){if(e==null)return{};var n,r,i=mK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Fi=A.forwardRef((e,t)=>{var{children:n,className:r}=e,i=pK(e,hK),a=Ye("recharts-layer",r);return A.createElement("g",L0({className:a},vn(i),{ref:t}),n)}),ED=A.createContext(null),vK=()=>A.useContext(ED);function tt(e){return function(){return e}}const wD=Math.cos,Yd=Math.sin,qr=Math.sqrt,Wd=Math.PI,Xh=2*Wd,U0=Math.PI,q0=2*U0,ho=1e-6,gK=q0-ho;function AD(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function yK(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return AD;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class bK{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?AD:yK(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,u=this._y1,c=r-t,d=i-n,h=l-t,m=u-n,g=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>ho)if(!(Math.abs(m*c-d*h)>ho)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let _=r-l,T=i-u,w=c*c+d*d,E=_*_+T*T,C=Math.sqrt(w),O=Math.sqrt(g),P=a*Math.tan((U0-Math.acos((w+g-E)/(2*C*O)))/2),R=P/O,N=P/C;Math.abs(R-1)>ho&&this._append`L${t+R*h},${n+R*m}`,this._append`A${a},${a},0,0,${+(m*_>h*T)},${this._x1=t+N*c},${this._y1=n+N*d}`}}arc(t,n,r,i,a,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),c=r*Math.sin(i),d=t+u,h=n+c,m=1^l,g=l?i-a:a-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>ho||Math.abs(this._y1-h)>ho)&&this._append`L${d},${h}`,r&&(g<0&&(g=g%q0+q0),g>gK?this._append`A${r},${r},0,1,${m},${t-u},${n-c}A${r},${r},0,1,${m},${this._x1=d},${this._y1=h}`:g>ho&&this._append`A${r},${r},0,${+(g>=U0)},${m},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function m_(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new bK(t)}function v_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function xD(e){this._context=e}xD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Qh(e){return new xD(e)}function CD(e){return e[0]}function MD(e){return e[1]}function PD(e,t){var n=tt(!0),r=null,i=Qh,a=null,l=m_(u);e=typeof e=="function"?e:e===void 0?CD:tt(e),t=typeof t=="function"?t:t===void 0?MD:tt(t);function u(c){var d,h=(c=v_(c)).length,m,g=!1,_;for(r==null&&(a=i(_=l())),d=0;d<=h;++d)!(d<h&&n(m=c[d],d,c))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+e(m,d,c),+t(m,d,c));if(_)return a=null,_+""||null}return u.x=function(c){return arguments.length?(e=typeof c=="function"?c:tt(+c),u):e},u.y=function(c){return arguments.length?(t=typeof c=="function"?c:tt(+c),u):t},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:tt(!!c),u):n},u.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),u):i},u.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),u):r},u}function id(e,t,n){var r=null,i=tt(!0),a=null,l=Qh,u=null,c=m_(d);e=typeof e=="function"?e:e===void 0?CD:tt(+e),t=typeof t=="function"?t:tt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?MD:tt(+n);function d(m){var g,_,T,w=(m=v_(m)).length,E,C=!1,O,P=new Array(w),R=new Array(w);for(a==null&&(u=l(O=c())),g=0;g<=w;++g){if(!(g<w&&i(E=m[g],g,m))===C)if(C=!C)_=g,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),T=g-1;T>=_;--T)u.point(P[T],R[T]);u.lineEnd(),u.areaEnd()}C&&(P[g]=+e(E,g,m),R[g]=+t(E,g,m),u.point(r?+r(E,g,m):P[g],n?+n(E,g,m):R[g]))}if(O)return u=null,O+""||null}function h(){return PD().defined(i).curve(l).context(a)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:tt(+m),r=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:tt(+m),d):e},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:tt(+m),d):r},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:tt(+m),n=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:tt(+m),d):t},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:tt(+m),d):n},d.lineX0=d.lineY0=function(){return h().x(e).y(t)},d.lineY1=function(){return h().x(e).y(n)},d.lineX1=function(){return h().x(r).y(t)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:tt(!!m),d):i},d.curve=function(m){return arguments.length?(l=m,a!=null&&(u=l(a)),d):l},d.context=function(m){return arguments.length?(m==null?a=u=null:u=l(a=m),d):a},d}class OD{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function _K(e){return new OD(e,!0)}function SK(e){return new OD(e,!1)}const g_={draw(e,t){const n=qr(t/Wd);e.moveTo(n,0),e.arc(0,0,n,0,Xh)}},TK={draw(e,t){const n=qr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},ND=qr(1/3),EK=ND*2,wK={draw(e,t){const n=qr(t/EK),r=n*ND;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},AK={draw(e,t){const n=qr(t),r=-n/2;e.rect(r,r,n,n)}},xK=.8908130915292852,ID=Yd(Wd/10)/Yd(7*Wd/10),CK=Yd(Xh/10)*ID,MK=-wD(Xh/10)*ID,PK={draw(e,t){const n=qr(t*xK),r=CK*n,i=MK*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const l=Xh*a/5,u=wD(l),c=Yd(l);e.lineTo(c*n,-u*n),e.lineTo(u*r-c*i,c*r+u*i)}e.closePath()}},vg=qr(3),OK={draw(e,t){const n=-qr(t/(vg*3));e.moveTo(0,n*2),e.lineTo(-vg*n,-n),e.lineTo(vg*n,-n),e.closePath()}},dr=-.5,hr=qr(3)/2,z0=1/qr(12),NK=(z0/2+1)*3,IK={draw(e,t){const n=qr(t/NK),r=n/2,i=n*z0,a=r,l=n*z0+n,u=-a,c=l;e.moveTo(r,i),e.lineTo(a,l),e.lineTo(u,c),e.lineTo(dr*r-hr*i,hr*r+dr*i),e.lineTo(dr*a-hr*l,hr*a+dr*l),e.lineTo(dr*u-hr*c,hr*u+dr*c),e.lineTo(dr*r+hr*i,dr*i-hr*r),e.lineTo(dr*a+hr*l,dr*l-hr*a),e.lineTo(dr*u+hr*c,dr*c-hr*u),e.closePath()}};function DK(e,t){let n=null,r=m_(i);e=typeof e=="function"?e:tt(e||g_),t=typeof t=="function"?t:tt(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:tt(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:tt(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Jd(){}function Xd(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function DD(e){this._context=e}DD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function RK(e){return new DD(e)}function RD(e){this._context=e}RD.prototype={areaStart:Jd,areaEnd:Jd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Xd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function kK(e){return new RD(e)}function kD(e){this._context=e}kD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Xd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function LK(e){return new kD(e)}function LD(e){this._context=e}LD.prototype={areaStart:Jd,areaEnd:Jd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function UK(e){return new LD(e)}function _1(e){return e<0?-1:1}function S1(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),u=(a*i+l*r)/(r+i);return(_1(a)+_1(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(u))||0}function T1(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function gg(e,t,n){var r=e._x0,i=e._y0,a=e._x1,l=e._y1,u=(a-r)/3;e._context.bezierCurveTo(r+u,i+u*t,a-u,l-u*n,a,l)}function Qd(e){this._context=e}Qd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:gg(this,this._t0,T1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,gg(this,T1(this,n=S1(this,e,t)),n);break;default:gg(this,this._t0,n=S1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function UD(e){this._context=new qD(e)}(UD.prototype=Object.create(Qd.prototype)).point=function(e,t){Qd.prototype.point.call(this,t,e)};function qD(e){this._context=e}qD.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function qK(e){return new Qd(e)}function zK(e){return new UD(e)}function zD(e){this._context=e}zD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=E1(e),i=E1(t),a=0,l=1;l<n;++a,++l)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function E1(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),l=new Array(n);for(i[0]=0,a[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,l[t]-=r*l[t-1];for(i[n-1]=l[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(l[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function jK(e){return new zD(e)}function Zh(e,t){this._context=e,this._t=t}Zh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function BK(e){return new Zh(e,.5)}function $K(e){return new Zh(e,0)}function FK(e){return new Zh(e,1)}function Ws(e,t){if((l=e.length)>1)for(var n=1,r,i,a=e[t[0]],l,u=a.length;n<l;++n)for(i=a,a=e[t[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function j0(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function HK(e,t){return e[t]}function GK(e){const t=[];return t.key=e,t}function VK(){var e=tt([]),t=j0,n=Ws,r=HK;function i(a){var l=Array.from(e.apply(this,arguments),GK),u,c=l.length,d=-1,h;for(const m of a)for(u=0,++d;u<c;++u)(l[u][d]=[0,+r(m,l[u].key,d,a)]).data=m;for(u=0,h=v_(t(l));u<c;++u)l[h[u]].index=u;return n(l,h),l}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:tt(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:tt(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?j0:typeof a=="function"?a:tt(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Ws,i):n},i}function KK(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,l;i<a;++i){for(l=n=0;n<r;++n)l+=e[n][i][1]||0;if(l)for(n=0;n<r;++n)e[n][i][1]/=l}Ws(e,t)}}function YK(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var l=0,u=0;l<i;++l)u+=e[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}Ws(e,t)}}function WK(e,t){if(!(!((l=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,l;r<a;++r){for(var u=0,c=0,d=0;u<l;++u){for(var h=e[t[u]],m=h[r][1]||0,g=h[r-1][1]||0,_=(m-g)/2,T=0;T<u;++T){var w=e[t[T]],E=w[r][1]||0,C=w[r-1][1]||0;_+=E-C}c+=m,d+=_*m}i[r-1][1]+=i[r-1][0]=n,c&&(n-=d/c)}i[r-1][1]+=i[r-1][0]=n,Ws(e,t)}}var yg={},bg={},w1;function JK(){return w1||(w1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(bg)),bg}var _g={},A1;function jD(){return A1||(A1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(_g)),_g}var Sg={},x1;function y_(){return x1||(x1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(Sg)),Sg}var Tg={},Eg={},C1;function XK(){return C1||(C1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(Eg)),Eg}var M1;function b_(){return M1||(M1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XK(),n=y_();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],l=i.length;if(l===0)return a;let u=0,c="",d="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),u++);u<l;){const m=i[u];d?m==="\\"&&u+1<l?(u++,c+=i[u]):m===d?d="":c+=m:h?m==='"'||m==="'"?d=m:m==="]"?(h=!1,a.push(c),c=""):c+=m:m==="["?(h=!0,c&&(a.push(c),c="")):m==="."?c&&(a.push(c),c=""):c+=m,u++}return c&&a.push(c),a}e.toPath=r})(Tg)),Tg}var P1;function __(){return P1||(P1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JK(),n=jD(),r=y_(),i=b_();function a(u,c,d){if(u==null)return d;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return d;const h=u[c];return h===void 0?n.isDeepKey(c)?a(u,i.toPath(c),d):d:h}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const h=u[c];return h===void 0?d:h}default:{if(Array.isArray(c))return l(u,c,d);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return d;const h=u[c];return h===void 0?d:h}}}function l(u,c,d){if(c.length===0)return d;let h=u;for(let m=0;m<c.length;m++){if(h==null||t.isUnsafeProperty(c[m]))return d;h=h[c[m]]}return h===void 0?d:h}e.get=a})(yg)),yg}var wg,O1;function QK(){return O1||(O1=1,wg=__().get),wg}var ZK=QK();const ep=Ji(ZK);var gr=e=>e===0?0:e>0?1:-1,Sr=e=>typeof e=="number"&&e!=+e,Hi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,be=e=>(typeof e=="number"||e instanceof Number)&&!Sr(e),Tr=e=>be(e)||typeof e=="string",eY=0,Gu=e=>{var t=++eY;return"".concat(e||"").concat(t)},Ua=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!be(t)&&typeof t!="string")return r;var a;if(Hi(t)){if(n==null)return r;var l=t.indexOf("%");a=n*parseFloat(t.slice(0,l))/100}else a=+t;return Sr(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},BD=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function Ln(e,t,n){return be(e)&&be(t)?e+n*(t-e):t}function $D(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):ep(r,t))===n)}var Yt=e=>e===null||typeof e>"u",hc=e=>Yt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function tY(e){return e!=null}function pc(){}var nY=["type","size","sizeType"];function B0(){return B0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B0.apply(null,arguments)}function N1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function I1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N1(Object(n),!0).forEach(function(r){rY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rY(e,t,n){return(t=iY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iY(e){var t=aY(e,"string");return typeof t=="symbol"?t:t+""}function aY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oY(e,t){if(e==null)return{};var n,r,i=sY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var FD={symbolCircle:g_,symbolCross:TK,symbolDiamond:wK,symbolSquare:AK,symbolStar:PK,symbolTriangle:OK,symbolWye:IK},lY=Math.PI/180,uY=e=>{var t="symbol".concat(hc(e));return FD[t]||g_},cY=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*lY;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},fY=(e,t)=>{FD["symbol".concat(hc(e))]=t},S_=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=oY(e,nY),a=I1(I1({},i),{},{type:t,size:n,sizeType:r}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var g=uY(l),_=DK().type(g).size(cY(n,r,l)),T=_();if(T!==null)return T},{className:c,cx:d,cy:h}=a,m=vn(a);return be(d)&&be(h)&&be(n)?A.createElement("path",B0({},m,{className:Ye("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(h,")"),d:u()})):null};S_.registerSymbol=fY;var HD=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,T_=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(A.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{h_(i)&&(r[i]=(a=>n[i](n,a)))}),r},dY=(e,t,n)=>r=>(e(t,n,r),null),GD=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];h_(i)&&typeof a=="function"&&(r||(r={}),r[i]=dY(a,t,n))}),r};function D1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D1(Object(n),!0).forEach(function(r){pY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pY(e,t,n){return(t=mY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mY(e){var t=vY(e,"string");return typeof t=="symbol"?t:t+""}function vY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sn(e,t){var n=hY({},e),r=t,i=Object.keys(t),a=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return a}function Zd(){return Zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zd.apply(null,arguments)}function R1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R1(Object(n),!0).forEach(function(r){yY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yY(e,t,n){return(t=bY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bY(e){var t=_Y(e,"string");return typeof t=="symbol"?t:t+""}function _Y(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mr=32,SY={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function TY(e){var{data:t,iconType:n,inactiveColor:r}=e,i=mr/2,a=mr/6,l=mr/3,u=t.inactive?r:t.color,c=n??t.type;if(c==="none")return null;if(c==="plainline"){var d;return A.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(d=t.payload)===null||d===void 0?void 0:d.strokeDasharray,x1:0,y1:i,x2:mr,y2:i,className:"recharts-legend-icon"})}if(c==="line")return A.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(mr,"M").concat(2*l,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return A.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(mr/8,"h").concat(mr,"v").concat(mr*3/4,"h").concat(-mr,"z"),className:"recharts-legend-icon"});if(A.isValidElement(t.legendIcon)){var h=gY({},t);return delete h.legendIcon,A.cloneElement(t.legendIcon,h)}return A.createElement(S_,{fill:u,cx:i,cy:i,size:mr,sizeType:"diameter",type:c})}function EY(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:l}=e,u={x:0,y:0,width:mr,height:mr},c={display:r==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,m)=>{var g=h.formatter||i,_=Ye({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:h.inactive});if(h.type==="none")return null;var T=h.inactive?a:h.color,w=g?g(h.value,h,m):h.value;return A.createElement("li",Zd({className:_,style:c,key:"legend-item-".concat(m)},GD(e,h,m)),A.createElement(p_,{width:n,height:n,viewBox:u,style:d,"aria-label":"".concat(w," legend icon")},A.createElement(TY,{data:h,iconType:l,inactiveColor:a})),A.createElement("span",{className:"recharts-legend-item-text",style:{color:T}},w))})}var wY=e=>{var t=sn(e,SY),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return A.createElement("ul",{className:"recharts-default-legend",style:a},A.createElement(EY,Zd({},t,{payload:n})))},Ag={},xg={},k1;function AY(){return k1||(k1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const l=n[a],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}e.uniqBy=t})(xg)),xg}var Cg={},L1;function VD(){return L1||(L1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Cg)),Cg}var Mg={},Pg={},Og={},U1;function xY(){return U1||(U1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Og)),Og}var q1;function E_(){return q1||(q1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xY();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Pg)),Pg}var Ng={},z1;function CY(){return z1||(z1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(Ng)),Ng}var j1;function MY(){return j1||(j1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E_(),n=CY();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(Mg)),Mg}var Ig={},Dg={},B1;function PY(){return B1||(B1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=__();function n(r){return function(i){return t.get(i,r)}}e.property=n})(Dg)),Dg}var Rg={},kg={},Lg={},Ug={},$1;function KD(){return $1||($1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Ug)),Ug}var qg={},F1;function YD(){return F1||(F1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(qg)),qg}var zg={},H1;function WD(){return H1||(H1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(zg)),zg}var G1;function OY(){return G1||(G1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KD(),n=YD(),r=WD();function i(h,m,g){return typeof g!="function"?i(h,m,()=>{}):a(h,m,function _(T,w,E,C,O,P){const R=g(T,w,E,C,O,P);return R!==void 0?!!R:a(T,w,_,P)},new Map)}function a(h,m,g,_){if(m===h)return!0;switch(typeof m){case"object":return l(h,m,g,_);case"function":return Object.keys(m).length>0?a(h,{...m},g,_):r.eq(h,m);default:return t.isObject(h)?typeof m=="string"?m==="":!0:r.eq(h,m)}}function l(h,m,g,_){if(m==null)return!0;if(Array.isArray(m))return c(h,m,g,_);if(m instanceof Map)return u(h,m,g,_);if(m instanceof Set)return d(h,m,g,_);const T=Object.keys(m);if(h==null)return T.length===0;if(T.length===0)return!0;if(_?.has(m))return _.get(m)===h;_?.set(m,h);try{for(let w=0;w<T.length;w++){const E=T[w];if(!n.isPrimitive(h)&&!(E in h)||m[E]===void 0&&h[E]!==void 0||m[E]===null&&h[E]!==null||!g(h[E],m[E],E,h,m,_))return!1}return!0}finally{_?.delete(m)}}function u(h,m,g,_){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[T,w]of m.entries()){const E=h.get(T);if(g(E,w,T,h,m,_)===!1)return!1}return!0}function c(h,m,g,_){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const T=new Set;for(let w=0;w<m.length;w++){const E=m[w];let C=!1;for(let O=0;O<h.length;O++){if(T.has(O))continue;const P=h[O];let R=!1;if(g(P,E,w,h,m,_)&&(R=!0),R){T.add(O),C=!0;break}}if(!C)return!1}return!0}function d(h,m,g,_){return m.size===0?!0:h instanceof Set?c([...h],[...m],g,_):!1}e.isMatchWith=i,e.isSetMatch=d})(Lg)),Lg}var V1;function JD(){return V1||(V1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OY();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(kg)),kg}var jg={},Bg={},$g={},K1;function NY(){return K1||(K1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})($g)),$g}var Fg={},Y1;function XD(){return Y1||(Y1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(Fg)),Fg}var Hg={},W1;function QD(){return W1||(W1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",l="[object Symbol]",u="[object Date]",c="[object Map]",d="[object Set]",h="[object Array]",m="[object Function]",g="[object ArrayBuffer]",_="[object Object]",T="[object Error]",w="[object DataView]",E="[object Uint8Array]",C="[object Uint8ClampedArray]",O="[object Uint16Array]",P="[object Uint32Array]",R="[object BigUint64Array]",N="[object Int8Array]",D="[object Int16Array]",k="[object Int32Array]",H="[object BigInt64Array]",K="[object Float32Array]",ae="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=g,e.arrayTag=h,e.bigInt64ArrayTag=H,e.bigUint64ArrayTag=R,e.booleanTag=i,e.dataViewTag=w,e.dateTag=u,e.errorTag=T,e.float32ArrayTag=K,e.float64ArrayTag=ae,e.functionTag=m,e.int16ArrayTag=D,e.int32ArrayTag=k,e.int8ArrayTag=N,e.mapTag=c,e.numberTag=r,e.objectTag=_,e.regexpTag=t,e.setTag=d,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=O,e.uint32ArrayTag=P,e.uint8ArrayTag=E,e.uint8ClampedArrayTag=C})(Hg)),Hg}var Gg={},J1;function IY(){return J1||(J1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(Gg)),Gg}var X1;function ZD(){return X1||(X1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NY(),n=XD(),r=QD(),i=YD(),a=IY();function l(h,m){return u(h,void 0,h,new Map,m)}function u(h,m,g,_=new Map,T=void 0){const w=T?.(h,m,g,_);if(w!==void 0)return w;if(i.isPrimitive(h))return h;if(_.has(h))return _.get(h);if(Array.isArray(h)){const E=new Array(h.length);_.set(h,E);for(let C=0;C<h.length;C++)E[C]=u(h[C],C,g,_,T);return Object.hasOwn(h,"index")&&(E.index=h.index),Object.hasOwn(h,"input")&&(E.input=h.input),E}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const E=new RegExp(h.source,h.flags);return E.lastIndex=h.lastIndex,E}if(h instanceof Map){const E=new Map;_.set(h,E);for(const[C,O]of h)E.set(C,u(O,C,g,_,T));return E}if(h instanceof Set){const E=new Set;_.set(h,E);for(const C of h)E.add(u(C,void 0,g,_,T));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const E=new(Object.getPrototypeOf(h)).constructor(h.length);_.set(h,E);for(let C=0;C<h.length;C++)E[C]=u(h[C],C,g,_,T);return E}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const E=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return _.set(h,E),c(E,h,g,_,T),E}if(typeof File<"u"&&h instanceof File){const E=new File([h],h.name,{type:h.type});return _.set(h,E),c(E,h,g,_,T),E}if(typeof Blob<"u"&&h instanceof Blob){const E=new Blob([h],{type:h.type});return _.set(h,E),c(E,h,g,_,T),E}if(h instanceof Error){const E=new h.constructor;return _.set(h,E),E.message=h.message,E.name=h.name,E.stack=h.stack,E.cause=h.cause,c(E,h,g,_,T),E}if(h instanceof Boolean){const E=new Boolean(h.valueOf());return _.set(h,E),c(E,h,g,_,T),E}if(h instanceof Number){const E=new Number(h.valueOf());return _.set(h,E),c(E,h,g,_,T),E}if(h instanceof String){const E=new String(h.valueOf());return _.set(h,E),c(E,h,g,_,T),E}if(typeof h=="object"&&d(h)){const E=Object.create(Object.getPrototypeOf(h));return _.set(h,E),c(E,h,g,_,T),E}return h}function c(h,m,g=h,_,T){const w=[...Object.keys(m),...t.getSymbols(m)];for(let E=0;E<w.length;E++){const C=w[E],O=Object.getOwnPropertyDescriptor(h,C);(O==null||O.writable)&&(h[C]=u(m[C],C,g,_,T))}}function d(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=c})(Bg)),Bg}var Q1;function DY(){return Q1||(Q1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZD();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(jg)),jg}var Z1;function RY(){return Z1||(Z1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JD(),n=DY();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(Rg)),Rg}var Vg={},Kg={},Yg={},eM;function kY(){return eM||(eM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZD(),n=QD();function r(i,a){return t.cloneDeepWith(i,(l,u,c,d)=>{const h=a?.(l,u,c,d);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i?.valueOf());return t.copyProperties(m,i),m}case n.argumentsTag:{const m={};return t.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}e.cloneDeepWith=r})(Yg)),Yg}var tM;function LY(){return tM||(tM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kY();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(Kg)),Kg}var Wg={},Jg={},nM;function eR(){return nM||(nM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Jg)),Jg}var Xg={},rM;function UY(){return rM||(rM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XD();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(Xg)),Xg}var iM;function qY(){return iM||(iM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jD(),n=eR(),r=UY(),i=b_();function a(l,u){let c;if(Array.isArray(u)?c=u:typeof u=="string"&&t.isDeepKey(u)&&l?.[u]==null?c=i.toPath(u):c=[u],c.length===0)return!1;let d=l;for(let h=0;h<c.length;h++){const m=c[h];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}e.has=a})(Wg)),Wg}var aM;function zY(){return aM||(aM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JD(),n=y_(),r=LY(),i=__(),a=qY();function l(u,c){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return c=r.cloneDeep(c),function(d){const h=i.get(d,u);return h===void 0?a.has(d,u):c===void 0?h===void 0:t.isMatch(h,c)}}e.matchesProperty=l})(Vg)),Vg}var oM;function jY(){return oM||(oM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VD(),n=PY(),r=RY(),i=zY();function a(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=a})(Ig)),Ig}var sM;function BY(){return sM||(sM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AY(),n=VD(),r=MY(),i=jY();function a(l,u=n.identity){return r.isArrayLikeObject(l)?t.uniqBy(Array.from(l),i.iteratee(u)):[]}e.uniqBy=a})(Ag)),Ag}var Qg,lM;function $Y(){return lM||(lM=1,Qg=BY().uniqBy),Qg}var FY=$Y();const uM=Ji(FY);function tR(e,t,n){return t===!0?uM(e,n):typeof t=="function"?uM(e,t):e}var Zg={exports:{}},ey={},ty={exports:{}},ny={};var cM;function HY(){if(cM)return ny;cM=1;var e=rl();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,l=e.useDebugValue;function u(m,g){var _=g(),T=r({inst:{value:_,getSnapshot:g}}),w=T[0].inst,E=T[1];return a(function(){w.value=_,w.getSnapshot=g,c(w)&&E({inst:w})},[m,_,g]),i(function(){return c(w)&&E({inst:w}),m(function(){c(w)&&E({inst:w})})},[m]),l(_),_}function c(m){var g=m.getSnapshot;m=m.value;try{var _=g();return!n(m,_)}catch{return!0}}function d(m,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return ny.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,ny}var fM;function GY(){return fM||(fM=1,ty.exports=HY()),ty.exports}var dM;function VY(){if(dM)return ey;dM=1;var e=rl(),t=GY();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,l=e.useEffect,u=e.useMemo,c=e.useDebugValue;return ey.useSyncExternalStoreWithSelector=function(d,h,m,g,_){var T=a(null);if(T.current===null){var w={hasValue:!1,value:null};T.current=w}else w=T.current;T=u(function(){function C(D){if(!O){if(O=!0,P=D,D=g(D),_!==void 0&&w.hasValue){var k=w.value;if(_(k,D))return R=k}return R=D}if(k=R,r(P,D))return k;var H=g(D);return _!==void 0&&_(k,H)?(P=D,k):(P=D,R=H)}var O=!1,P,R,N=m===void 0?null:m;return[function(){return C(h())},N===null?void 0:function(){return C(N())}]},[h,m,g,_]);var E=i(d,T[0],T[1]);return l(function(){w.hasValue=!0,w.value=E},[E]),c(E),E},ey}var hM;function KY(){return hM||(hM=1,Zg.exports=VY()),Zg.exports}var YY=KY(),w_=A.createContext(null),WY=e=>e,Tt=()=>{var e=A.useContext(w_);return e?e.store.dispatch:WY},Od=()=>{},JY=()=>Od,XY=(e,t)=>e===t;function ve(e){var t=A.useContext(w_);return YY.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:JY,t?t.store.getState:Od,t?t.store.getState:Od,t?e:Od,XY)}function QY(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function ZY(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function e9(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var pM=e=>Array.isArray(e)?e:[e];function t9(e){const t=Array.isArray(e[0])?e[0]:e;return e9(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function n9(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var r9=class{constructor(e){this.value=e}deref(){return this.value}},i9=typeof WeakRef<"u"?WeakRef:r9,a9=0,mM=1;function ad(){return{s:a9,v:void 0,o:null,p:null}}function nR(e,t={}){let n=ad();const{resultEqualityCheck:r}=t;let i,a=0;function l(){let u=n;const{length:c}=arguments;for(let m=0,g=c;m<g;m++){const _=arguments[m];if(typeof _=="function"||typeof _=="object"&&_!==null){let T=u.o;T===null&&(u.o=T=new WeakMap);const w=T.get(_);w===void 0?(u=ad(),T.set(_,u)):u=w}else{let T=u.p;T===null&&(u.p=T=new Map);const w=T.get(_);w===void 0?(u=ad(),T.set(_,u)):u=w}}const d=u;let h;if(u.s===mM)h=u.v;else if(h=e.apply(null,arguments),a++,r){const m=i?.deref?.()??i;m!=null&&r(m,h)&&(h=m,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new i9(h):h}return d.s=mM,d.v=h,h}return l.clearCache=()=>{n=ad(),l.resetResultsCount()},l.resultsCount=()=>a,l.resetResultsCount=()=>{a=0},l}function o9(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,l=0,u,c={},d=i.pop();typeof d=="object"&&(c=d,d=i.pop()),QY(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...c},{memoize:m,memoizeOptions:g=[],argsMemoize:_=nR,argsMemoizeOptions:T=[]}=h,w=pM(g),E=pM(T),C=t9(i),O=m(function(){return a++,d.apply(null,arguments)},...w),P=_(function(){l++;const N=n9(C,arguments);return u=O.apply(null,N),u},...E);return Object.assign(P,{resultFunc:d,memoizedResultFunc:O,dependencies:C,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:m,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var Q=o9(nR),s9=Object.assign((e,t=Q)=>{ZY(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((l,u,c)=>(l[n[c]]=u,l),{}))},{withTypes:()=>s9}),ry={},iy={},ay={},vM;function l9(){return vM||(vM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const l=t(r),u=t(i);if(l===u&&l===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?u-l:l-u}return 0};e.compareValues=n})(ay)),ay}var oy={},sy={},gM;function rR(){return gM||(gM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(sy)),sy}var yM;function u9(){return yM||(yM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rR(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,l){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||l!=null&&Object.hasOwn(l,a)}e.isKey=i})(oy)),oy}var bM;function c9(){return bM||(bM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l9(),n=u9(),r=b_();function i(a,l,u,c){if(a==null)return[];u=c?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(_=>String(_));const d=(_,T)=>{let w=_;for(let E=0;E<T.length&&w!=null;++E)w=w[T[E]];return w},h=(_,T)=>T==null||_==null?T:typeof _=="object"&&"key"in _?Object.hasOwn(T,_.key)?T[_.key]:d(T,_.path):typeof _=="function"?_(T):Array.isArray(_)?d(T,_):typeof T=="object"?T[_]:T,m=l.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return a.map(_=>({original:_,criteria:m.map(T=>h(T,_))})).slice().sort((_,T)=>{for(let w=0;w<m.length;w++){const E=t.compareValues(_.criteria[w],T.criteria[w],u[w]);if(E!==0)return E}return 0}).map(_=>_.original)}e.orderBy=i})(iy)),iy}var ly={},_M;function f9(){return _M||(_M=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),l=(u,c)=>{for(let d=0;d<u.length;d++){const h=u[d];Array.isArray(h)&&c<a?l(h,c+1):i.push(h)}};return l(n,0),i}e.flatten=t})(ly)),ly}var uy={},SM;function iR(){return SM||(SM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eR(),n=E_(),r=KD(),i=WD();function a(l,u,c){return r.isObject(c)&&(typeof u=="number"&&n.isArrayLike(c)&&t.isIndex(u)&&u<c.length||typeof u=="string"&&u in c)?i.eq(c[u],l):!1}e.isIterateeCall=a})(uy)),uy}var TM;function d9(){return TM||(TM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c9(),n=f9(),r=iR();function i(a,...l){const u=l.length;return u>1&&r.isIterateeCall(a,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(a,n.flatten(l),["asc"])}e.sortBy=i})(ry)),ry}var cy,EM;function h9(){return EM||(EM=1,cy=d9().sortBy),cy}var p9=h9();const tp=Ji(p9);var aR=e=>e.legend.settings,m9=e=>e.legend.size,v9=e=>e.legend.payload,g9=Q([v9,aR],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?tp(r,n):r});function y9(){return ve(g9)}var od=1;function oR(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=A.useState({height:0,left:0,top:0,width:0}),r=A.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),l={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(l.height-t.height)>od||Math.abs(l.left-t.left)>od||Math.abs(l.top-t.top)>od||Math.abs(l.width-t.width)>od)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function nn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var b9=typeof Symbol=="function"&&Symbol.observable||"@@observable",wM=b9,fy=()=>Math.random().toString(36).substring(7).split("").join("."),_9={INIT:`@@redux/INIT${fy()}`,REPLACE:`@@redux/REPLACE${fy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${fy()}`},eh=_9;function A_(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function sR(e,t,n){if(typeof e!="function")throw new Error(nn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(nn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(nn(1));return n(sR)(e,t)}let r=e,i=t,a=new Map,l=a,u=0,c=!1;function d(){l===a&&(l=new Map,a.forEach((E,C)=>{l.set(C,E)}))}function h(){if(c)throw new Error(nn(3));return i}function m(E){if(typeof E!="function")throw new Error(nn(4));if(c)throw new Error(nn(5));let C=!0;d();const O=u++;return l.set(O,E),function(){if(C){if(c)throw new Error(nn(6));C=!1,d(),l.delete(O),a=null}}}function g(E){if(!A_(E))throw new Error(nn(7));if(typeof E.type>"u")throw new Error(nn(8));if(typeof E.type!="string")throw new Error(nn(17));if(c)throw new Error(nn(9));try{c=!0,i=r(i,E)}finally{c=!1}return(a=l).forEach(O=>{O()}),E}function _(E){if(typeof E!="function")throw new Error(nn(10));r=E,g({type:eh.REPLACE})}function T(){const E=m;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(nn(11));function O(){const R=C;R.next&&R.next(h())}return O(),{unsubscribe:E(O)}},[wM](){return this}}}return g({type:eh.INIT}),{dispatch:g,subscribe:m,getState:h,replaceReducer:_,[wM]:T}}function S9(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:eh.INIT})>"u")throw new Error(nn(12));if(typeof n(void 0,{type:eh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(nn(13))})}function lR(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const l=t[a];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let i;try{S9(n)}catch(a){i=a}return function(l={},u){if(i)throw i;let c=!1;const d={};for(let h=0;h<r.length;h++){const m=r[h],g=n[m],_=l[m],T=g(_,u);if(typeof T>"u")throw u&&u.type,new Error(nn(14));d[m]=T,c=c||T!==_}return c=c||r.length!==Object.keys(l).length,c?d:l}}function th(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function T9(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(nn(15))};const l={getState:i.getState,dispatch:(c,...d)=>a(c,...d)},u=e.map(c=>c(l));return a=th(...u)(i.dispatch),{...i,dispatch:a}}}function uR(e){return A_(e)&&"type"in e&&typeof e.type=="string"}var cR=Symbol.for("immer-nothing"),AM=Symbol.for("immer-draftable"),En=Symbol.for("immer-state");function Nr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Qn=Object,Js=Qn.getPrototypeOf,nh="constructor",np="prototype",$0="configurable",rh="enumerable",Nd="writable",Vu="value",Gi=e=>!!e&&!!e[En];function Xr(e){return e?fR(e)||rp(e)||!!e[AM]||!!e[nh]?.[AM]||ip(e)||ap(e):!1}var E9=Qn[np][nh].toString(),xM=new WeakMap;function fR(e){if(!e||!x_(e))return!1;const t=Js(e);if(t===null||t===Qn[np])return!0;const n=Qn.hasOwnProperty.call(t,nh)&&t[nh];if(n===Object)return!0;if(!Rs(n))return!1;let r=xM.get(n);return r===void 0&&(r=Function.toString.call(n),xM.set(n,r)),r===E9}function mc(e,t,n=!0){vc(e)===0?(n?Reflect.ownKeys(e):Qn.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function vc(e){const t=e[En];return t?t.type_:rp(e)?1:ip(e)?2:ap(e)?3:0}var CM=(e,t,n=vc(e))=>n===2?e.has(t):Qn[np].hasOwnProperty.call(e,t),F0=(e,t,n=vc(e))=>n===2?e.get(t):e[t],ih=(e,t,n,r=vc(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function w9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var rp=Array.isArray,ip=e=>e instanceof Map,ap=e=>e instanceof Set,x_=e=>typeof e=="object",Rs=e=>typeof e=="function",dy=e=>typeof e=="boolean",Mi=e=>e.copy_||e.base_,C_=e=>e.modified_?e.copy_:e.base_;function H0(e,t){if(ip(e))return new Map(e);if(ap(e))return new Set(e);if(rp(e))return Array[np].slice.call(e);const n=fR(e);if(t===!0||t==="class_only"&&!n){const r=Qn.getOwnPropertyDescriptors(e);delete r[En];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],u=r[l];u[Nd]===!1&&(u[Nd]=!0,u[$0]=!0),(u.get||u.set)&&(r[l]={[$0]:!0,[Nd]:!0,[rh]:u[rh],[Vu]:e[l]})}return Qn.create(Js(e),r)}else{const r=Js(e);if(r!==null&&n)return{...e};const i=Qn.create(r);return Qn.assign(i,e)}}function M_(e,t=!1){return op(e)||Gi(e)||(vc(e)>1&&Qn.defineProperties(e,{set:sd,add:sd,clear:sd,delete:sd}),Qn.freeze(e),t&&mc(e,(n,r)=>{M_(r,!0)},!1)),e}function A9(){Nr(2)}var sd={[Vu]:A9};function op(e){return e===null||!x_(e)?!0:Qn.isFrozen(e)}var ah="MapSet",G0="Patches",dR={};function Xs(e){const t=dR[e];return t||Nr(0,e),t}var x9=e=>!!dR[e],Ku,hR=()=>Ku,C9=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:x9(ah)?Xs(ah):void 0});function MM(e,t){t&&(e.patchPlugin_=Xs(G0),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function V0(e){K0(e),e.drafts_.forEach(M9),e.drafts_=null}function K0(e){e===Ku&&(Ku=e.parent_)}var PM=e=>Ku=C9(Ku,e);function M9(e){const t=e[En];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function OM(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[En].modified_&&(V0(t),Nr(4)),Xr(e)&&(e=NM(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[En].base_,e,t)}else e=NM(t,n);return P9(t,e,!0),V0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==cR?e:void 0}function NM(e,t){if(op(t))return t;const n=t[En];if(!n)return P_(t,e.handledSet_,e);if(!sp(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);vR(n,e)}return n.copy_}function P9(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&M_(t,n)}function pR(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var sp=(e,t)=>e.scope_===t,O9=[];function mR(e,t,n,r){const i=Mi(e),a=e.type_;if(r!==void 0&&F0(i,r,a)===t){ih(i,r,n,a);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;mc(i,(c,d)=>{if(Gi(d)){const h=u.get(d)||[];h.push(c),u.set(d,h)}})}const l=e.draftLocations_.get(t)??O9;for(const u of l)ih(i,u,n,a)}function N9(e,t,n){e.callbacks_.push(function(i){const a=t;if(!a||!sp(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const l=C_(a);mR(e,a.draft_??a,l,n),vR(a,i)})}function vR(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}pR(e)}}function I9(e,t,n){const{scope_:r}=e;if(Gi(n)){const i=n[En];sp(i,r)&&i.callbacks_.push(function(){Id(e);const l=C_(i);mR(e,n,l,t)})}else Xr(n)&&e.callbacks_.push(function(){const a=Mi(e);F0(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&P_(F0(e.copy_,t,e.type_),r.handledSet_,r)})}function P_(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Gi(e)||t.has(e)||!Xr(e)||op(e)||(t.add(e),mc(e,(r,i)=>{if(Gi(i)){const a=i[En];if(sp(a,n)){const l=C_(a);ih(e,r,l,e.type_),pR(a)}}else Xr(i)&&P_(i,t,n)})),e}function D9(e,t){const n=rp(e),r={type_:n?1:0,scope_:t?t.scope_:hR(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=O_;n&&(i=[r],a=Yu);const{revoke:l,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=l,[u,r]}var O_={get(e,t){if(t===En)return e;const n=Mi(e);if(!CM(n,t,e.type_))return R9(e,n,t);const r=n[t];if(e.finalized_||!Xr(r))return r;if(r===hy(e.base_,t)){Id(e);const i=e.type_===1?+t:t,a=W0(e.scope_,r,e,i);return e.copy_[i]=a}return r},has(e,t){return t in Mi(e)},ownKeys(e){return Reflect.ownKeys(Mi(e))},set(e,t,n){const r=gR(Mi(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=hy(Mi(e),t),a=i?.[En];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(w9(n,i)&&(n!==void 0||CM(e.base_,t,e.type_)))return!0;Id(e),Y0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),I9(e,t,n)),!0},deleteProperty(e,t){return Id(e),hy(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Y0(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Mi(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Nd]:!0,[$0]:e.type_!==1||t!=="length",[rh]:r[rh],[Vu]:n[t]}},defineProperty(){Nr(11)},getPrototypeOf(e){return Js(e.base_)},setPrototypeOf(){Nr(12)}},Yu={};mc(O_,(e,t)=>{Yu[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});Yu.deleteProperty=function(e,t){return Yu.set.call(this,e,t,void 0)};Yu.set=function(e,t,n){return O_.set.call(this,e[0],t,n,e[0])};function hy(e,t){const n=e[En];return(n?Mi(n):e)[t]}function R9(e,t,n){const r=gR(t,n);return r?Vu in r?r[Vu]:r.get?.call(e.draft_):void 0}function gR(e,t){if(!(t in e))return;let n=Js(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Js(n)}}function Y0(e){e.modified_||(e.modified_=!0,e.parent_&&Y0(e.parent_))}function Id(e){e.copy_||(e.assigned_=new Map,e.copy_=H0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var k9=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Rs(n)&&!Rs(r)){const l=r;r=n;const u=this;return function(d=l,...h){return u.produce(d,m=>r.call(this,m,...h))}}Rs(r)||Nr(6),i!==void 0&&!Rs(i)&&Nr(7);let a;if(Xr(n)){const l=PM(this),u=W0(l,n,void 0);let c=!0;try{a=r(u),c=!1}finally{c?V0(l):K0(l)}return MM(l,i),OM(a,l)}else if(!n||!x_(n)){if(a=r(n),a===void 0&&(a=n),a===cR&&(a=void 0),this.autoFreeze_&&M_(a,!0),i){const l=[],u=[];Xs(G0).generateReplacementPatches_(n,a,{patches_:l,inversePatches_:u}),i(l,u)}return a}else Nr(1,n)},this.produceWithPatches=(n,r)=>{if(Rs(n))return(u,...c)=>this.produceWithPatches(u,d=>n(d,...c));let i,a;return[this.produce(n,r,(u,c)=>{i=u,a=c}),i,a]},dy(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),dy(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),dy(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Xr(t)||Nr(8),Gi(t)&&(t=Rr(t));const n=PM(this),r=W0(n,t,void 0);return r[En].isManual_=!0,K0(n),r}finishDraft(t,n){const r=t&&t[En];(!r||!r.isManual_)&&Nr(9);const{scope_:i}=r;return MM(i,n),OM(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Xs(G0).applyPatches_;return Gi(t)?i(t,n):this.produce(t,a=>i(a,n))}};function W0(e,t,n,r){const[i,a]=ip(t)?Xs(ah).proxyMap_(t,n):ap(t)?Xs(ah).proxySet_(t,n):D9(t,n);return(n?.scope_??hR()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?N9(n,a,r):a.callbacks_.push(function(c){c.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:d}=c;a.modified_&&d&&d.generatePatches_(a,[],c)}),i}function Rr(e){return Gi(e)||Nr(10,e),yR(e)}function yR(e){if(!Xr(e)||op(e))return e;const t=e[En];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=H0(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=H0(e,!0);return mc(n,(i,a)=>{ih(n,i,yR(a))},r),t&&(t.finalized_=!1),n}var L9=new k9,bR=L9.produce;function _R(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var U9=_R(),q9=_R,z9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?th:th.apply(null,arguments)};function Er(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(er(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>uR(r)&&r.type===e,n}var SR=class Nu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Nu.prototype)}static get[Symbol.species](){return Nu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Nu(...t[0].concat(this)):new Nu(...t.concat(this))}};function IM(e){return Xr(e)?bR(e,()=>{}):e}function ld(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function j9(e){return typeof e=="boolean"}var B9=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let l=new SR;return n&&(j9(n)?l.push(U9):l.push(q9(n.extraArgument))),l},TR="RTK_autoBatch",ft=()=>e=>({payload:e,meta:{[TR]:!0}}),DM=e=>t=>{setTimeout(t,e)},ER=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,l=!1;const u=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:DM(10):e.type==="callback"?e.queueNotification:DM(e.timeout),d=()=>{l=!1,a&&(a=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const m=()=>i&&h(),g=r.subscribe(m);return u.add(h),()=>{g(),u.delete(h)}},dispatch(h){try{return i=!h?.meta?.[TR],a=!i,a&&(l||(l=!0,c(d))),r.dispatch(h)}finally{i=!0}}})},$9=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new SR(e);return r&&i.push(ER(typeof r=="object"?r:void 0)),i};function F9(e){const t=B9(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:l=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(A_(n))u=lR(n);else throw new Error(er(1));let c;typeof r=="function"?c=r(t):c=t();let d=th;i&&(d=z9({trace:!1,...typeof i=="object"&&i}));const h=T9(...c),m=$9(h);let g=typeof l=="function"?l(m):m();const _=d(...g);return sR(u,a,_)}function wR(e){const t={},n=[];let r;const i={addCase(a,l){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(er(28));if(u in t)throw new Error(er(29));return t[u]=l,i},addAsyncThunk(a,l){return l.pending&&(t[a.pending.type]=l.pending),l.rejected&&(t[a.rejected.type]=l.rejected),l.fulfilled&&(t[a.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:a.settled,reducer:l.settled}),i},addMatcher(a,l){return n.push({matcher:a,reducer:l}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function H9(e){return typeof e=="function"}function G9(e,t){let[n,r,i]=wR(t),a;if(H9(e))a=()=>IM(e());else{const u=IM(e);a=()=>u}function l(u=a(),c){let d=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,m)=>{if(m)if(Gi(h)){const _=m(h,c);return _===void 0?h:_}else{if(Xr(h))return bR(h,g=>m(g,c));{const g=m(h,c);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},u)}return l.getInitialState=a,l}var V9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",K9=(e=21)=>{let t="",n=e;for(;n--;)t+=V9[Math.random()*64|0];return t},Y9=Symbol.for("rtk-slice-createasyncthunk");function W9(e,t){return`${e}/${t}`}function J9({creators:e}={}){const t=e?.asyncThunk?.[Y9];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(er(11));const l=(typeof r.reducers=="function"?r.reducers(Q9()):r.reducers)||{},u=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(P,R){const N=typeof P=="string"?P:P.type;if(!N)throw new Error(er(12));if(N in c.sliceCaseReducersByType)throw new Error(er(13));return c.sliceCaseReducersByType[N]=R,d},addMatcher(P,R){return c.sliceMatchers.push({matcher:P,reducer:R}),d},exposeAction(P,R){return c.actionCreators[P]=R,d},exposeCaseReducer(P,R){return c.sliceCaseReducersByName[P]=R,d}};u.forEach(P=>{const R=l[P],N={reducerName:P,type:W9(i,P),createNotation:typeof r.reducers=="function"};e7(R)?n7(N,R,d,t):Z9(N,R,d)});function h(){const[P={},R=[],N=void 0]=typeof r.extraReducers=="function"?wR(r.extraReducers):[r.extraReducers],D={...P,...c.sliceCaseReducersByType};return G9(r.initialState,k=>{for(let H in D)k.addCase(H,D[H]);for(let H of c.sliceMatchers)k.addMatcher(H.matcher,H.reducer);for(let H of R)k.addMatcher(H.matcher,H.reducer);N&&k.addDefaultCase(N)})}const m=P=>P,g=new Map,_=new WeakMap;let T;function w(P,R){return T||(T=h()),T(P,R)}function E(){return T||(T=h()),T.getInitialState()}function C(P,R=!1){function N(k){let H=k[P];return typeof H>"u"&&R&&(H=ld(_,N,E)),H}function D(k=m){const H=ld(g,R,()=>new WeakMap);return ld(H,k,()=>{const K={};for(const[ae,Y]of Object.entries(r.selectors??{}))K[ae]=X9(Y,k,()=>ld(_,k,E),R);return K})}return{reducerPath:P,getSelectors:D,get selectors(){return D(N)},selectSlice:N}}const O={name:i,reducer:w,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:E,...C(a),injectInto(P,{reducerPath:R,...N}={}){const D=R??a;return P.inject({reducerPath:D,reducer:w},N),{...O,...C(D,!0)}}};return O}}function X9(e,t,n,r){function i(a,...l){let u=t(a);return typeof u>"u"&&r&&(u=n()),e(u,...l)}return i.unwrapped=e,i}var jn=J9();function Q9(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Z9({type:e,reducerName:t,createNotation:n},r,i){let a,l;if("reducer"in r){if(n&&!t7(r))throw new Error(er(17));a=r.reducer,l=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,l?Er(e,l):Er(e))}function e7(e){return e._reducerDefinitionType==="asyncThunk"}function t7(e){return e._reducerDefinitionType==="reducerWithPrepare"}function n7({type:e,reducerName:t},n,r,i){if(!i)throw new Error(er(18));const{payloadCreator:a,fulfilled:l,pending:u,rejected:c,settled:d,options:h}=n,m=i(e,a,h);r.exposeAction(t,m),l&&r.addCase(m.fulfilled,l),u&&r.addCase(m.pending,u),c&&r.addCase(m.rejected,c),d&&r.addMatcher(m.settled,d),r.exposeCaseReducer(t,{fulfilled:l||ud,pending:u||ud,rejected:c||ud,settled:d||ud})}function ud(){}var r7="task",AR="listener",xR="completed",N_="cancelled",i7=`task-${N_}`,a7=`task-${xR}`,J0=`${AR}-${N_}`,o7=`${AR}-${xR}`,lp=class{constructor(e){this.code=e,this.message=`${r7} ${N_} (reason: ${e})`}name="TaskAbortError";message},I_=(e,t)=>{if(typeof e!="function")throw new TypeError(er(32))},oh=()=>{},CR=(e,t=oh)=>(e.catch(t),e),MR=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),xo=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Co=e=>{if(e.aborted){const{reason:t}=e;throw new lp(t)}};function PR(e,t){let n=oh;return new Promise((r,i)=>{const a=()=>i(new lp(e.reason));if(e.aborted){a();return}n=MR(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=oh})}var s7=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof lp?"cancelled":"rejected",error:n}}finally{t?.()}},sh=e=>t=>CR(PR(e,t).then(n=>(Co(e),n))),OR=e=>{const t=sh(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Hs}=Object,RM={},up="listenerMiddleware",l7=(e,t)=>{const n=r=>MR(e,()=>xo(r,e.reason));return(r,i)=>{I_(r);const a=new AbortController;n(a);const l=s7(async()=>{Co(e),Co(a.signal);const u=await r({pause:sh(a.signal),delay:OR(a.signal),signal:a.signal});return Co(a.signal),u},()=>xo(a,a7));return i?.autoJoin&&t.push(l.catch(oh)),{result:sh(e)(l),cancel(){xo(a,i7)}}}},u7=(e,t)=>{const n=async(r,i)=>{Co(t);let a=()=>{};const u=[new Promise((c,d)=>{let h=e({predicate:r,effect:(m,g)=>{g.unsubscribe(),c([m,g.getState(),g.getOriginalState()])}});a=()=>{h(),d()}})];i!=null&&u.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await PR(t,Promise.race(u));return Co(t),c}finally{a()}};return(r,i)=>CR(n(r,i))},NR=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Er(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(er(21));return I_(a),{predicate:i,type:t,effect:a}},IR=Hs(e=>{const{type:t,predicate:n,effect:r}=NR(e);return{id:K9(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(er(22))}}},{withTypes:()=>IR}),kM=(e,t)=>{const{type:n,effect:r,predicate:i}=NR(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},X0=e=>{e.pending.forEach(t=>{xo(t,J0)})},c7=(e,t)=>()=>{for(const n of t.keys())X0(n);e.clear()},LM=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},DR=Hs(Er(`${up}/add`),{withTypes:()=>DR}),f7=Er(`${up}/removeAll`),RR=Hs(Er(`${up}/remove`),{withTypes:()=>RR}),d7=(...e)=>{console.error(`${up}/error`,...e)},gc=(e={})=>{const t=new Map,n=new Map,r=_=>{const T=n.get(_)??0;n.set(_,T+1)},i=_=>{const T=n.get(_)??1;T===1?n.delete(_):n.set(_,T-1)},{extra:a,onError:l=d7}=e;I_(l);const u=_=>(_.unsubscribe=()=>t.delete(_.id),t.set(_.id,_),T=>{_.unsubscribe(),T?.cancelActive&&X0(_)}),c=_=>{const T=kM(t,_)??IR(_);return u(T)};Hs(c,{withTypes:()=>c});const d=_=>{const T=kM(t,_);return T&&(T.unsubscribe(),_.cancelActive&&X0(T)),!!T};Hs(d,{withTypes:()=>d});const h=async(_,T,w,E)=>{const C=new AbortController,O=u7(c,C.signal),P=[];try{_.pending.add(C),r(_),await Promise.resolve(_.effect(T,Hs({},w,{getOriginalState:E,condition:(R,N)=>O(R,N).then(Boolean),take:O,delay:OR(C.signal),pause:sh(C.signal),extra:a,signal:C.signal,fork:l7(C.signal,P),unsubscribe:_.unsubscribe,subscribe:()=>{t.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach((R,N,D)=>{R!==C&&(xo(R,J0),D.delete(R))})},cancel:()=>{xo(C,J0),_.pending.delete(C)},throwIfCancelled:()=>{Co(C.signal)}})))}catch(R){R instanceof lp||LM(l,R,{raisedBy:"effect"})}finally{await Promise.all(P),xo(C,o7),i(_),_.pending.delete(C)}},m=c7(t,n);return{middleware:_=>T=>w=>{if(!uR(w))return T(w);if(DR.match(w))return c(w.payload);if(f7.match(w)){m();return}if(RR.match(w))return d(w.payload);let E=_.getState();const C=()=>{if(E===RM)throw new Error(er(23));return E};let O;try{if(O=T(w),t.size>0){const P=_.getState(),R=Array.from(t.values());for(const N of R){let D=!1;try{D=N.predicate(w,P,E)}catch(k){D=!1,LM(l,k,{raisedBy:"predicate"})}D&&h(N,w,_,C)}}}finally{E=RM}return O},startListening:c,stopListening:d,clearListeners:m}};function er(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var h7={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},kR=jn({name:"chartLayout",initialState:h7,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:p7,setLayout:m7,setChartSize:v7,setScale:g7}=kR.actions,y7=kR.reducer;function LR(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function UM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Us(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UM(Object(n),!0).forEach(function(r){b7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function b7(e,t,n){return(t=_7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _7(e){var t=S7(e,"string");return typeof t=="symbol"?t:t+""}function S7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mn(e,t,n){return Yt(e)||Yt(t)?n:Tr(t)?ep(e,t,n):typeof t=="function"?t(e):n}var T7=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&a!=="center"&&be(e[a]))return Us(Us({},e),{},{[a]:e[a]+(r||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&l!=="middle"&&be(e[l]))return Us(Us({},e),{},{[l]:e[l]+(i||0)})}return e},$a=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",UR=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var i,a,l=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===n&&(a=!0),u.coordinate));return i||l.push(t),a||l.push(n),l},qR=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:l,realScaleType:u,isCategorical:c,categoricalDomain:d,tickCount:h,ticks:m,niceTicks:g,axisType:_}=e;if(!l)return null;var T=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,w=i==="category"&&l.bandwidth?l.bandwidth()/T:0;if(w=_==="angleAxis"&&a&&a.length>=2?gr(a[0]-a[1])*2*w:w,m||g){var E=(m||g||[]).map((C,O)=>{var P=r?r.indexOf(C):C;return{coordinate:l(P)+w,value:C,offset:w,index:O}});return E.filter(C=>!Sr(C.coordinate))}return c&&d?d.map((C,O)=>({coordinate:l(C)+w,value:C,index:O,offset:w})):l.ticks&&h!=null?l.ticks(h).map((C,O)=>({coordinate:l(C)+w,value:C,offset:w,index:O})):l.domain().map((C,O)=>({coordinate:l(C)+w,value:r?r[C]:C,index:O,offset:w}))},qM=1e-4,E7=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-qM,a=Math.max(r[0],r[1])+qM,l=e(t[0]),u=e(t[n-1]);(l<i||l>a||u<i||u>a)&&e.domain([t[0],t[n-1]])}},w7=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,l=0;l<t;++l){var u=Sr(e[l][n][1])?e[l][n][0]:e[l][n][1];u>=0?(e[l][n][0]=i,e[l][n][1]=i+u,i=e[l][n][1]):(e[l][n][0]=a,e[l][n][1]=a+u,a=e[l][n][1])}},A7=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var l=Sr(e[a][n][1])?e[a][n][0]:e[a][n][1];l>=0?(e[a][n][0]=i,e[a][n][1]=i+l,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},x7={sign:w7,expand:KK,none:Ws,silhouette:YK,wiggle:WK,positive:A7},C7=(e,t,n)=>{var r=x7[n],i=VK().keys(t).value((a,l)=>Number(mn(a,l,0))).order(j0).offset(r);return i(e)};function zM(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Yt(i[t.dataKey])){var u=$D(n,"value",i[t.dataKey]);if(u)return u.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=mn(i,Yt(l)?t.dataKey:l);return Yt(c)?null:t.scale(c)}var M7=e=>{var t=e.flat(2).filter(be);return[Math.min(...t),Math.max(...t)]},P7=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],O7=(e,t,n)=>{if(e!=null)return P7(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:l}=a,u=l.reduce((c,d)=>{var h=LR(d,t,n),m=M7(h);return[Math.min(c[0],m[0]),Math.max(c[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},jM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,BM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lh=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=tp(t,h=>h.coordinate),a=1/0,l=1,u=i.length;l<u;l++){var c=i[l],d=i[l-1];a=Math.min((c.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function $M(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Us(Us({},t),{},{dataKey:n,payload:r,value:i,name:a})}function zR(e,t){if(e)return String(e);if(typeof t=="string")return t}var N7=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},I7=(e,t)=>t==="centric"?e.angle:e.radius,ea=e=>e.layout.width,ta=e=>e.layout.height,D7=e=>e.layout.scale,jR=e=>e.layout.margin,cp=Q(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),fp=Q(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),R7="data-recharts-item-index",k7="data-recharts-item-data-key",yc=60;function FM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FM(Object(n),!0).forEach(function(r){L7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L7(e,t,n){return(t=U7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U7(e){var t=q7(e,"string");return typeof t=="symbol"?t:t+""}function q7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z7=e=>e.brush.height;function j7(e){var t=fp(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:yc;return n+i}return n},0)}function B7(e){var t=fp(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:yc;return n+i}return n},0)}function $7(e){var t=cp(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function F7(e){var t=cp(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var ln=Q([ea,ta,jR,z7,j7,B7,$7,F7,aR,m9],(e,t,n,r,i,a,l,u,c,d)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},m={top:(n.top||0)+l,bottom:(n.bottom||0)+u},g=cd(cd({},m),h),_=g.bottom;g.bottom+=r,g=T7(g,c,d);var T=e-g.left-g.right,w=t-g.top-g.bottom;return cd(cd({brushBottom:_},g),{},{width:Math.max(T,0),height:Math.max(w,0)})}),H7=Q(ln,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),BR=Q(ea,ta,(e,t)=>({x:0,y:0,width:e,height:t})),G7=A.createContext(null),wn=()=>A.useContext(G7)!=null,dp=e=>e.brush,hp=Q([dp,ln,jR],(e,t,n)=>({height:e.height,x:be(e.x)?e.x:t.left,y:be(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:be(e.width)?e.width:t.width})),py={},my={},vy={},HM;function V7(){return HM||(HM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let l,u=null;const c=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),h=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},m=()=>{d&&h(),w()};let g=null;const _=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,m()},r)},T=()=>{g!==null&&(clearTimeout(g),g=null)},w=()=>{T(),l=void 0,u=null},E=()=>{h()},C=function(...O){if(i?.aborted)return;l=this,u=O;const P=g==null;_(),c&&P&&h()};return C.schedule=_,C.cancel=w,C.flush=E,i?.addEventListener("abort",w,{once:!0}),C}e.debounce=t})(vy)),vy}var GM;function K7(){return GM||(GM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V7();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:l=!1,trailing:u=!0,maxWait:c}=a,d=Array(2);l&&(d[0]="leading"),u&&(d[1]="trailing");let h,m=null;const g=t.debounce(function(...w){h=r.apply(this,w),m=null},i,{edges:d}),_=function(...w){return c!=null&&(m===null&&(m=Date.now()),Date.now()-m>=c)?(h=r.apply(this,w),m=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,w),h)},T=()=>(g.flush(),h);return _.cancel=g.cancel,_.flush=T,_}e.debounce=n})(my)),my}var VM;function Y7(){return VM||(VM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K7();function n(r,i=0,a={}){const{leading:l=!0,trailing:u=!0}=a;return t.debounce(r,i,{leading:l,maxWait:i,trailing:u})}e.throttle=n})(py)),py}var gy,KM;function W7(){return KM||(KM=1,gy=Y7().throttle),gy}var J7=W7();const X7=Ji(J7);var uh=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},$R=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:l}=n,u=Hi(r)?e:Number(r),c=Hi(i)?t:Number(i);return a&&a>0&&(u?c=u/a:c&&(u=c*a),l&&c!=null&&c>l&&(c=l)),{calculatedWidth:u,calculatedHeight:c}},Q7={width:0,height:0,overflow:"visible"},Z7={width:0,overflowX:"visible"},eW={height:0,overflowY:"visible"},tW={},nW=e=>{var{width:t,height:n}=e,r=Hi(t),i=Hi(n);return r&&i?Q7:r?Z7:i?eW:tW};function rW(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function vt(e){return Number.isFinite(e)}function Qr(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Q0(){return Q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q0.apply(null,arguments)}function YM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function WM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YM(Object(n),!0).forEach(function(r){iW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iW(e,t,n){return(t=aW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aW(e){var t=oW(e,"string");return typeof t=="symbol"?t:t+""}function oW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FR=A.createContext({width:-1,height:-1});function sW(e){return Qr(e.width)&&Qr(e.height)}function HR(e){var{children:t,width:n,height:r}=e,i=A.useMemo(()=>({width:n,height:r}),[n,r]);return sW(i)?A.createElement(FR.Provider,{value:i},t):null}var D_=()=>A.useContext(FR),lW=A.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:l=0,minHeight:u,maxHeight:c,children:d,debounce:h=0,id:m,className:g,onResize:_,style:T={}}=e,w=A.useRef(null),E=A.useRef();E.current=_,A.useImperativeHandle(t,()=>w.current);var[C,O]=A.useState({containerWidth:r.width,containerHeight:r.height}),P=A.useCallback((H,K)=>{O(ae=>{var Y=Math.round(H),W=Math.round(K);return ae.containerWidth===Y&&ae.containerHeight===W?ae:{containerWidth:Y,containerHeight:W}})},[]);A.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return pc;var H=W=>{var ue,{width:fe,height:ge}=W[0].contentRect;P(fe,ge),(ue=E.current)===null||ue===void 0||ue.call(E,fe,ge)};h>0&&(H=X7(H,h,{trailing:!0,leading:!1}));var K=new ResizeObserver(H),{width:ae,height:Y}=w.current.getBoundingClientRect();return P(ae,Y),K.observe(w.current),()=>{K.disconnect()}},[P,h]);var{containerWidth:R,containerHeight:N}=C;uh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:D,calculatedHeight:k}=$R(R,N,{width:i,height:a,aspect:n,maxHeight:c});return uh(D!=null&&D>0||k!=null&&k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,k,i,a,l,u,n),A.createElement("div",{id:m?"".concat(m):void 0,className:Ye("recharts-responsive-container",g),style:WM(WM({},T),{},{width:i,height:a,minWidth:l,minHeight:u,maxHeight:c}),ref:w},A.createElement("div",{style:nW({width:i,height:a})},A.createElement(HR,{width:D,height:k},d)))}),uW=A.forwardRef((e,t)=>{var n=D_();if(Qr(n.width)&&Qr(n.height))return e.children;var{width:r,height:i}=rW({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:l}=$R(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return be(a)&&be(l)?A.createElement(HR,{width:a,height:l},e.children):A.createElement(lW,Q0({},e,{width:r,height:i,ref:t}))});function GR(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var bc=()=>{var e,t=wn(),n=ve(H7),r=ve(hp),i=(e=ve(dp))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},cW={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},VR=()=>{var e;return(e=ve(ln))!==null&&e!==void 0?e:cW},R_=()=>ve(ea),k_=()=>ve(ta),fW=()=>ve(e=>e.layout.margin),lt=e=>e.layout.layoutType,pp=()=>ve(lt),dW=()=>{var e=pp();return e!==void 0},mp=e=>{var t=Tt(),n=wn(),{width:r,height:i}=e,a=D_(),l=r,u=i;return a&&(l=a.width>0?a.width:r,u=a.height>0?a.height:i),A.useEffect(()=>{!n&&Qr(l)&&Qr(u)&&t(v7({width:l,height:u}))},[t,n,l,u]),null},KR=Symbol.for("immer-nothing"),JM=Symbol.for("immer-draftable"),tr=Symbol.for("immer-state");function Ir(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Wu=Object.getPrototypeOf;function Qs(e){return!!e&&!!e[tr]}function Oo(e){return e?YR(e)||Array.isArray(e)||!!e[JM]||!!e.constructor?.[JM]||_c(e)||gp(e):!1}var hW=Object.prototype.constructor.toString(),XM=new WeakMap;function YR(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=XM.get(n);return r===void 0&&(r=Function.toString.call(n),XM.set(n,r)),r===hW}function ch(e,t,n=!0){vp(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function vp(e){const t=e[tr];return t?t.type_:Array.isArray(e)?1:_c(e)?2:gp(e)?3:0}function Z0(e,t){return vp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function WR(e,t,n){const r=vp(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function pW(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function _c(e){return e instanceof Map}function gp(e){return e instanceof Set}function po(e){return e.copy_||e.base_}function eb(e,t){if(_c(e))return new Map(e);if(gp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=YR(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[tr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(Wu(e),r)}else{const r=Wu(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function L_(e,t=!1){return yp(e)||Qs(e)||!Oo(e)||(vp(e)>1&&Object.defineProperties(e,{set:fd,add:fd,clear:fd,delete:fd}),Object.freeze(e),t&&Object.values(e).forEach(n=>L_(n,!0))),e}function mW(){Ir(2)}var fd={value:mW};function yp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var vW={};function No(e){const t=vW[e];return t||Ir(0,e),t}var Ju;function JR(){return Ju}function gW(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function QM(e,t){t&&(No("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function tb(e){nb(e),e.drafts_.forEach(yW),e.drafts_=null}function nb(e){e===Ju&&(Ju=e.parent_)}function ZM(e){return Ju=gW(Ju,e)}function yW(e){const t=e[tr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function eP(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[tr].modified_&&(tb(t),Ir(4)),Oo(e)&&(e=fh(t,e),t.parent_||dh(t,e)),t.patches_&&No("Patches").generateReplacementPatches_(n[tr].base_,e,t.patches_,t.inversePatches_)):e=fh(t,n,[]),tb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==KR?e:void 0}function fh(e,t,n){if(yp(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[tr];if(!i)return ch(t,(a,l)=>tP(e,i,t,a,l,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return dh(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let l=a,u=!1;i.type_===3&&(l=new Set(a),a.clear(),u=!0),ch(l,(c,d)=>tP(e,i,a,c,d,n,u),r),dh(e,a,!1),n&&e.patches_&&No("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function tP(e,t,n,r,i,a,l){if(i==null||typeof i!="object"&&!l)return;const u=yp(i);if(!(u&&!l)){if(Qs(i)){const c=a&&t&&t.type_!==3&&!Z0(t.assigned_,r)?a.concat(r):void 0,d=fh(e,i,c);if(WR(n,r,d),Qs(d))e.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Oo(i)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&u)return;fh(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(_c(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&dh(e,i)}}}function dh(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&L_(t,n)}function bW(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:JR(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=U_;n&&(i=[r],a=Xu);const{revoke:l,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=l,u}var U_={get(e,t){if(t===tr)return e;const n=po(e);if(!Z0(n,t))return _W(e,n,t);const r=n[t];return e.finalized_||!Oo(r)?r:r===yy(e.base_,t)?(by(e),e.copy_[t]=ib(r,e)):r},has(e,t){return t in po(e)},ownKeys(e){return Reflect.ownKeys(po(e))},set(e,t,n){const r=XR(po(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=yy(po(e),t),a=i?.[tr];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(pW(n,i)&&(n!==void 0||Z0(e.base_,t)))return!0;by(e),rb(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return yy(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,by(e),rb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=po(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Ir(11)},getPrototypeOf(e){return Wu(e.base_)},setPrototypeOf(){Ir(12)}},Xu={};ch(U_,(e,t)=>{Xu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Xu.deleteProperty=function(e,t){return Xu.set.call(this,e,t,void 0)};Xu.set=function(e,t,n){return U_.set.call(this,e[0],t,n,e[0])};function yy(e,t){const n=e[tr];return(n?po(n):e)[t]}function _W(e,t,n){const r=XR(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function XR(e,t){if(!(t in e))return;let n=Wu(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Wu(n)}}function rb(e){e.modified_||(e.modified_=!0,e.parent_&&rb(e.parent_))}function by(e){e.copy_||(e.copy_=eb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var SW=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const l=this;return function(c=a,...d){return l.produce(c,h=>n.call(this,h,...d))}}typeof n!="function"&&Ir(6),r!==void 0&&typeof r!="function"&&Ir(7);let i;if(Oo(t)){const a=ZM(this),l=ib(t,void 0);let u=!0;try{i=n(l),u=!1}finally{u?tb(a):nb(a)}return QM(a,r),eP(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===KR&&(i=void 0),this.autoFreeze_&&L_(i,!0),r){const a=[],l=[];No("Patches").generateReplacementPatches_(t,i,a,l),r(a,l)}return i}else Ir(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,c=>t(c,...u));let r,i;return[this.produce(t,n,(l,u)=>{r=l,i=u}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Oo(e)||Ir(8),Qs(e)&&(e=TW(e));const t=ZM(this),n=ib(e,void 0);return n[tr].isManual_=!0,nb(t),n}finishDraft(e,t){const n=e&&e[tr];(!n||!n.isManual_)&&Ir(9);const{scope_:r}=n;return QM(r,t),eP(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=No("Patches").applyPatches_;return Qs(e)?r(e,t):this.produce(e,i=>r(i,t))}};function ib(e,t){const n=_c(e)?No("MapSet").proxyMap_(e,t):gp(e)?No("MapSet").proxySet_(e,t):bW(e,t);return(t?t.scope_:JR()).drafts_.push(n),n}function TW(e){return Qs(e)||Ir(10,e),QR(e)}function QR(e){if(!Oo(e)||yp(e))return e;const t=e[tr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=eb(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=eb(e,!0);return ch(n,(i,a)=>{WR(n,i,QR(a))},r),t&&(t.finalized_=!1),n}var EW=new SW;EW.produce;var wW={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},ZR=jn({name:"legend",initialState:wW,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:ft()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Rr(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:ft()},removeLegendPayload:{reducer(e,t){var n=Rr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:ft()}}}),{setLegendSize:nP,setLegendSettings:AW,addLegendPayload:xW,replaceLegendPayload:CW,removeLegendPayload:MW}=ZR.actions,PW=ZR.reducer,OW=["contextPayload"];function ab(){return ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ab.apply(null,arguments)}function rP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rP(Object(n),!0).forEach(function(r){NW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NW(e,t,n){return(t=IW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IW(e){var t=DW(e,"string");return typeof t=="symbol"?t:t+""}function DW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RW(e,t){if(e==null)return{};var n,r,i=kW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function LW(e){return e.value}function UW(e){var{contextPayload:t}=e,n=RW(e,OW),r=tR(t,e.payloadUniqBy,LW),i=Zs(Zs({},n),{},{payload:r});return A.isValidElement(e.content)?A.cloneElement(e.content,i):typeof e.content=="function"?A.createElement(e.content,i):A.createElement(wY,i)}function qW(e,t,n,r,i,a){var{layout:l,align:u,verticalAlign:c}=t,d,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&l==="vertical"?d={left:((r||0)-a.width)/2}:d=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?h={top:((i||0)-a.height)/2}:h=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Zs(Zs({},d),h)}function zW(e){var t=Tt();return A.useEffect(()=>{t(AW(e))},[t,e]),null}function jW(e){var t=Tt();return A.useEffect(()=>(t(nP(e)),()=>{t(nP({width:0,height:0}))}),[t,e]),null}function BW(e,t,n,r){return e==="vertical"&&be(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var $W={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function ek(e){var t=sn(e,$W),n=y9(),r=vK(),i=fW(),{width:a,height:l,wrapperStyle:u,portal:c}=t,[d,h]=oR([n]),m=R_(),g=k_();if(m==null||g==null)return null;var _=m-(i?.left||0)-(i?.right||0),T=BW(t.layout,l,a,_),w=c?u:Zs(Zs({position:"absolute",width:T?.width||a||"auto",height:T?.height||l||"auto"},qW(u,t,i,m,g,d)),u),E=c??r;if(E==null||n==null)return null;var C=A.createElement("div",{className:"recharts-legend-wrapper",style:w,ref:h},A.createElement(zW,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&A.createElement(jW,{width:d.width,height:d.height}),A.createElement(UW,ab({},t,T,{margin:i,chartWidth:m,chartHeight:g,contextPayload:n})));return qb.createPortal(C,E)}ek.displayName="Legend";function ob(){return ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ob.apply(null,arguments)}function iP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _y(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iP(Object(n),!0).forEach(function(r){FW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FW(e,t,n){return(t=HW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HW(e){var t=GW(e,"string");return typeof t=="symbol"?t:t+""}function GW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VW(e){return Array.isArray(e)&&Tr(e[0])&&Tr(e[1])?e.join(" ~ "):e}var KW=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:l,itemSorter:u,wrapperClassName:c,labelClassName:d,label:h,labelFormatter:m,accessibilityLayer:g=!1}=e,_=()=>{if(a&&a.length){var N={padding:0,margin:0},D=(u?tp(a,u):a).map((k,H)=>{if(k.type==="none")return null;var K=k.formatter||l||VW,{value:ae,name:Y}=k,W=ae,ue=Y;if(K){var fe=K(ae,Y,k,H,a);if(Array.isArray(fe))[W,ue]=fe;else if(fe!=null)W=fe;else return null}var ge=_y({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},r);return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:ge},Tr(ue)?A.createElement("span",{className:"recharts-tooltip-item-name"},ue):null,Tr(ue)?A.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,A.createElement("span",{className:"recharts-tooltip-item-value"},W),A.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:N},D)}return null},T=_y({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=_y({margin:0},i),E=!Yt(h),C=E?h:"",O=Ye("recharts-default-tooltip",c),P=Ye("recharts-tooltip-label",d);E&&m&&a!==void 0&&a!==null&&(C=m(h,a));var R=g?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",ob({className:O,style:T},R),A.createElement("p",{className:P,style:w},A.isValidElement(C)?C:"".concat(C)),_())},bu="recharts-tooltip-wrapper",YW={visibility:"hidden"};function WW(e){var{coordinate:t,translateX:n,translateY:r}=e;return Ye(bu,{["".concat(bu,"-right")]:be(n)&&t&&be(t.x)&&n>=t.x,["".concat(bu,"-left")]:be(n)&&t&&be(t.x)&&n<t.x,["".concat(bu,"-bottom")]:be(r)&&t&&be(t.y)&&r>=t.y,["".concat(bu,"-top")]:be(r)&&t&&be(t.y)&&r<t.y})}function aP(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:l,tooltipDimension:u,viewBox:c,viewBoxDimension:d}=e;if(a&&be(a[r]))return a[r];var h=n[r]-u-(i>0?i:0),m=n[r]+i;if(t[r])return l[r]?h:m;var g=c[r];if(g==null)return 0;if(l[r]){var _=h,T=g;return _<T?Math.max(m,g):Math.max(h,g)}if(d==null)return 0;var w=m+u,E=g+d;return w>E?Math.max(h,g):Math.max(m,g)}function JW(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function XW(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:l,useTranslate3d:u,viewBox:c}=e,d,h,m;return l.height>0&&l.width>0&&n?(h=aP({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),m=aP({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),d=JW({translateX:h,translateY:m,useTranslate3d:u})):d=YW,{cssProperties:d,cssClasses:WW({translateX:h,translateY:m,coordinate:n})}}function oP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(n),!0).forEach(function(r){sb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sb(e,t,n){return(t=QW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QW(e){var t=ZW(e,"string");return typeof t=="symbol"?t:t+""}function ZW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class eJ extends A.PureComponent{constructor(){super(...arguments),sb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),sb(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:l,hasPayload:u,isAnimationActive:c,offset:d,position:h,reverseDirection:m,useTranslate3d:g,viewBox:_,wrapperStyle:T,lastBoundingBox:w,innerRef:E,hasPortalFromProps:C}=this.props,{cssClasses:O,cssProperties:P}=XW({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:d,position:h,reverseDirection:m,tooltipBox:{height:w.height,width:w.width},useTranslate3d:g,viewBox:_}),R=C?{}:dd(dd({transition:c&&t?"transform ".concat(r,"ms ").concat(i):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),N=dd(dd({},R),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},T);return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:N,ref:E},a)}}var tJ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),hl={devToolsEnabled:!1,isSsr:tJ()},tk=()=>{var e;return(e=ve(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function lb(){return lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lb.apply(null,arguments)}function sP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sP(Object(n),!0).forEach(function(r){nJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nJ(e,t,n){return(t=rJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rJ(e){var t=iJ(e,"string");return typeof t=="symbol"?t:t+""}function iJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uP={curveBasisClosed:kK,curveBasisOpen:LK,curveBasis:RK,curveBumpX:_K,curveBumpY:SK,curveLinearClosed:UK,curveLinear:Qh,curveMonotoneX:qK,curveMonotoneY:zK,curveNatural:jK,curveStep:BK,curveStepAfter:FK,curveStepBefore:$K},hh=e=>vt(e.x)&&vt(e.y),cP=e=>e.base!=null&&hh(e.base)&&hh(e),_u=e=>e.x,Su=e=>e.y,aJ=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(hc(e));return(n==="curveMonotone"||n==="curveBump")&&t?uP["".concat(n).concat(t==="vertical"?"Y":"X")]:uP[n]||Qh},oJ=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,l=aJ(t,i),u=a?n.filter(hh):n,c;if(Array.isArray(r)){var d=n.map((_,T)=>lP(lP({},_),{},{base:r[T]}));i==="vertical"?c=id().y(Su).x1(_u).x0(_=>_.base.x):c=id().x(_u).y1(Su).y0(_=>_.base.y);var h=c.defined(cP).curve(l),m=a?d.filter(cP):d;return h(m)}i==="vertical"&&be(r)?c=id().y(Su).x1(_u).x0(r):be(r)?c=id().x(_u).y1(Su).y0(r):c=PD().x(_u).y(Su);var g=c.defined(hh).curve(l);return g(u)},nk=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?oJ(e):r;return A.createElement("path",lb({},Jr(e),T_(e),{className:Ye("recharts-curve",t),d:a===null?void 0:a,ref:i}))},sJ=["x","y","top","left","width","height","className"];function ub(){return ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ub.apply(null,arguments)}function fP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fP(Object(n),!0).forEach(function(r){uJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uJ(e,t,n){return(t=cJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cJ(e){var t=fJ(e,"string");return typeof t=="symbol"?t:t+""}function fJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dJ(e,t){if(e==null)return{};var n,r,i=hJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var pJ=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),mJ=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:l=0,className:u}=e,c=dJ(e,sJ),d=lJ({x:t,y:n,top:r,left:i,width:a,height:l},c);return!be(t)||!be(n)||!be(a)||!be(l)||!be(r)||!be(i)?null:A.createElement("path",ub({},vn(d),{className:Ye("recharts-cross",u),d:pJ(t,n,a,l,r,i)}))};function vJ(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function dP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(n),!0).forEach(function(r){gJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gJ(e,t,n){return(t=yJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yJ(e){var t=bJ(e,"string");return typeof t=="symbol"?t:t+""}function bJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _J=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),rk=(e,t,n)=>e.map(r=>"".concat(_J(r)," ").concat(t,"ms ").concat(n)).join(","),SJ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Qu=(e,t)=>Object.keys(t).reduce((n,r)=>hP(hP({},n),{},{[r]:e(r,t[r])}),{});function pP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pP(Object(n),!0).forEach(function(r){TJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TJ(e,t,n){return(t=EJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EJ(e){var t=wJ(e,"string");return typeof t=="symbol"?t:t+""}function wJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ph=(e,t,n)=>e+(t-e)*n,cb=e=>{var{from:t,to:n}=e;return t!==n},ik=(e,t,n)=>{var r=Qu((i,a)=>{if(cb(a)){var[l,u]=e(a.from,a.to,a.velocity);return kt(kt({},a),{},{from:l,velocity:u})}return a},t);return n<1?Qu((i,a)=>cb(a)?kt(kt({},a),{},{velocity:ph(a.velocity,r[i].velocity,n),from:ph(a.from,r[i].from,n)}):a,t):ik(e,r,n-1)};function AJ(e,t,n,r,i,a){var l,u=r.reduce((g,_)=>kt(kt({},g),{},{[_]:{from:e[_],velocity:0,to:t[_]}}),{}),c=()=>Qu((g,_)=>_.from,u),d=()=>!Object.values(u).filter(cb).length,h=null,m=g=>{l||(l=g);var _=g-l,T=_/n.dt;u=ik(n,u,T),i(kt(kt(kt({},e),t),c())),l=g,d()||(h=a.setTimeout(m))};return()=>(h=a.setTimeout(m),()=>{var g;(g=h)===null||g===void 0||g()})}function xJ(e,t,n,r,i,a,l){var u=null,c=i.reduce((m,g)=>kt(kt({},m),{},{[g]:[e[g],t[g]]}),{}),d,h=m=>{d||(d=m);var g=(m-d)/r,_=Qu((w,E)=>ph(...E,n(g)),c);if(a(kt(kt(kt({},e),t),_)),g<1)u=l.setTimeout(h);else{var T=Qu((w,E)=>ph(...E,n(1)),c);a(kt(kt(kt({},e),t),T))}};return()=>(u=l.setTimeout(h),()=>{var m;(m=u)===null||m===void 0||m()})}const CJ=(e,t,n,r,i,a)=>{var l=SJ(e,t);return n==null?()=>(i(kt(kt({},e),t)),()=>{}):n.isStepper===!0?AJ(e,t,n,l,i,a):xJ(e,t,n,r,l,i,a)};var mh=1e-4,ak=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],ok=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),mP=(e,t)=>n=>{var r=ak(e,t);return ok(r,n)},MJ=(e,t)=>n=>{var r=ak(e,t),i=[...r.map((a,l)=>a*l).slice(1),0];return ok(i,n)},PJ=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var l=a[1].split(")")[0].split(",").map(u=>parseFloat(u));return[l[0],l[1],l[2],l[3]]}}}return n.length===4?n:[0,0,1,1]},OJ=(e,t,n,r)=>{var i=mP(e,n),a=mP(t,r),l=MJ(e,n),u=d=>d>1?1:d<0?0:d,c=d=>{for(var h=d>1?1:d,m=h,g=0;g<8;++g){var _=i(m)-h,T=l(m);if(Math.abs(_-h)<mh||T<mh)return a(m);m=u(m-_/T)}return a(m)};return c.isStepper=!1,c},vP=function(){return OJ(...PJ(...arguments))},NJ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(l,u,c)=>{var d=-(l-u)*n,h=c*r,m=c+(d-h)*i/1e3,g=c*i/1e3+l;return Math.abs(g-u)<mh&&Math.abs(m)<mh?[u,0]:[g,m]};return a.isStepper=!0,a.dt=i,a},IJ=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return vP(e);case"spring":return NJ();default:if(e.split("(")[0]==="cubic-bezier")return vP(e)}return typeof e=="function"?e:null};function DJ(e){var t,n=()=>null,r=!1,i=null,a=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[c,...d]=u;if(typeof c=="number"){i=e.setTimeout(a.bind(null,d),c);return}a(c),i=e.setTimeout(a.bind(null,d));return}typeof l=="string"&&(t=l,n(t)),typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),a(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}class RJ{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=l=>{l-r>=n?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function kJ(){return DJ(new RJ)}var LJ=A.createContext(kJ);function UJ(e,t){var n=A.useContext(LJ);return A.useMemo(()=>t??n(e),[e,t,n])}var qJ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},gP={t:0},Sy={t:1};function q_(e){var t=sn(e,qJ),{isActive:n,canBegin:r,duration:i,easing:a,begin:l,onAnimationEnd:u,onAnimationStart:c,children:d}=t,h=n==="auto"?!hl.isSsr:n,m=UJ(t.animationId,t.animationManager),[g,_]=A.useState(h?gP:Sy),T=A.useRef(null);return A.useEffect(()=>{h||_(Sy)},[h]),A.useEffect(()=>{if(!h||!r)return pc;var w=CJ(gP,Sy,IJ(a),i,_,m.getTimeoutController()),E=()=>{T.current=w()};return m.start([c,l,E,i,u]),()=>{m.stop(),T.current&&T.current(),u()}},[h,r,i,a,l,c,u,m]),d(g.t)}function z_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=A.useRef(Gu(t)),r=A.useRef(e);return r.current!==e&&(n.current=Gu(t),r.current=e),n.current}var zJ=["radius"],jJ=["radius"];function yP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(n),!0).forEach(function(r){BJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BJ(e,t,n){return(t=$J(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $J(e){var t=FJ(e,"string");return typeof t=="symbol"?t:t+""}function FJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vh(){return vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vh.apply(null,arguments)}function _P(e,t){if(e==null)return{};var n,r,i=HJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function HJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var SP=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,u=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0,d;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,g=4;m<g;m++)h[m]=i[m]>a?a:i[m];d="M".concat(e,",").concat(t+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(e+u*h[0],",").concat(t)),d+="L ".concat(e+n-u*h[1],",").concat(t),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(t+l*h[1])),d+="L ".concat(e+n,",").concat(t+r-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(e+n-u*h[2],",").concat(t+r)),d+="L ".concat(e+u*h[3],",").concat(t+r),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+r-l*h[3])),d+="Z"}else if(a>0&&i===+i&&i>0){var _=Math.min(a,i);d="M ".concat(e,",").concat(t+l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(c,",").concat(e+u*_,",").concat(t,`
            L `).concat(e+n-u*_,",").concat(t,`
            A `).concat(_,",").concat(_,",0,0,").concat(c,",").concat(e+n,",").concat(t+l*_,`
            L `).concat(e+n,",").concat(t+r-l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(c,",").concat(e+n-u*_,",").concat(t+r,`
            L `).concat(e+u*_,",").concat(t+r,`
            A `).concat(_,",").concat(_,",0,0,").concat(c,",").concat(e,",").concat(t+r-l*_," Z")}else d="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},TP={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sk=e=>{var t=sn(e,TP),n=A.useRef(null),[r,i]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ee=n.current.getTotalLength();ee&&i(ee)}catch{}},[]);var{x:a,y:l,width:u,height:c,radius:d,className:h}=t,{animationEasing:m,animationDuration:g,animationBegin:_,isAnimationActive:T,isUpdateAnimationActive:w}=t,E=A.useRef(u),C=A.useRef(c),O=A.useRef(a),P=A.useRef(l),R=A.useMemo(()=>({x:a,y:l,width:u,height:c,radius:d}),[a,l,u,c,d]),N=z_(R,"rectangle-");if(a!==+a||l!==+l||u!==+u||c!==+c||u===0||c===0)return null;var D=Ye("recharts-rectangle",h);if(!w){var k=vn(t),{radius:H}=k,K=_P(k,zJ);return A.createElement("path",vh({},K,{radius:typeof d=="number"?d:void 0,className:D,d:SP(a,l,u,c,d)}))}var ae=E.current,Y=C.current,W=O.current,ue=P.current,fe="0px ".concat(r===-1?1:r,"px"),ge="".concat(r,"px 0px"),j=rk(["strokeDasharray"],g,typeof m=="string"?m:TP.animationEasing);return A.createElement(q_,{animationId:N,key:N,canBegin:r>0,duration:g,easing:m,isActive:w,begin:_},ee=>{var le=Ln(ae,u,ee),V=Ln(Y,c,ee),pe=Ln(W,a,ee),U=Ln(ue,l,ee);n.current&&(E.current=le,C.current=V,O.current=pe,P.current=U);var X;T?ee>0?X={transition:j,strokeDasharray:ge}:X={strokeDasharray:fe}:X={strokeDasharray:ge};var $=vn(t),{radius:se}=$,_e=_P($,jJ);return A.createElement("path",vh({},_e,{radius:typeof d=="number"?d:void 0,className:D,d:SP(pe,U,le,V,d),ref:n,style:bP(bP({},X),t.style)}))})};function EP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(n),!0).forEach(function(r){GJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GJ(e,t,n){return(t=VJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VJ(e){var t=KJ(e,"string");return typeof t=="symbol"?t:t+""}function KJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gh=Math.PI/180,YJ=e=>e*180/Math.PI,on=(e,t,n,r)=>({x:e+Math.cos(-gh*r)*n,y:t+Math.sin(-gh*r)*n}),WJ=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},JJ=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},XJ=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,l=JJ({x:n,y:r},{x:i,y:a});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,c=Math.acos(u);return r>a&&(c=2*Math.PI-c),{radius:l,angle:YJ(c),angleInRadian:c}},QJ=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},ZJ=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),l=Math.min(i,a);return e+l*360},eX=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=XJ({x:n,y:r},t),{innerRadius:l,outerRadius:u}=t;if(i<l||i>u||i===0)return null;var{startAngle:c,endAngle:d}=QJ(t),h=a,m;if(c<=d){for(;h>d;)h-=360;for(;h<c;)h+=360;m=h>=c&&h<=d}else{for(;h>c;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=c}return m?wP(wP({},t),{},{radius:i,angle:ZJ(h,t)}):null};function lk(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,l=on(t,n,r,i),u=on(t,n,r,a);return{points:[l,u],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function fb(){return fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fb.apply(null,arguments)}var tX=(e,t)=>{var n=gr(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},hd=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:l,cornerRadius:u,cornerIsExternal:c}=e,d=u*(l?1:-1)+r,h=Math.asin(u/d)/gh,m=c?i:i+a*h,g=on(t,n,d,m),_=on(t,n,r,m),T=c?i-a*h:i,w=on(t,n,d*Math.cos(h*gh),T);return{center:g,circleTangency:_,lineTangency:w,theta:h}},uk=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:l}=e,u=tX(a,l),c=a+u,d=on(t,n,i,a),h=on(t,n,i,c),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(a>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var g=on(t,n,r,a),_=on(t,n,r,c);m+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(a<=c),`,
            `).concat(g.x,",").concat(g.y," Z")}else m+="L ".concat(t,",").concat(n," Z");return m},nX=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}=e,h=gr(d-c),{circleTangency:m,lineTangency:g,theta:_}=hd({cx:t,cy:n,radius:i,angle:c,sign:h,cornerRadius:a,cornerIsExternal:u}),{circleTangency:T,lineTangency:w,theta:E}=hd({cx:t,cy:n,radius:i,angle:d,sign:-h,cornerRadius:a,cornerIsExternal:u}),C=u?Math.abs(c-d):Math.abs(c-d)-_-E;if(C<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):uk({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:d});var O="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(h<0),",").concat(T.x,",").concat(T.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var{circleTangency:P,lineTangency:R,theta:N}=hd({cx:t,cy:n,radius:r,angle:c,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),{circleTangency:D,lineTangency:k,theta:H}=hd({cx:t,cy:n,radius:r,angle:d,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),K=u?Math.abs(c-d):Math.abs(c-d)-N-H;if(K<0&&a===0)return"".concat(O,"L").concat(t,",").concat(n,"Z");O+="L".concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(K>180),",").concat(+(h>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(R.x,",").concat(R.y,"Z")}else O+="L".concat(t,",").concat(n,"Z");return O},rX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ck=e=>{var t=sn(e,rX),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:c,startAngle:d,endAngle:h,className:m}=t;if(a<i||d===h)return null;var g=Ye("recharts-sector",m),_=a-i,T=Ua(l,_,0,!0),w;return T>0&&Math.abs(d-h)<360?w=nX({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(T,_/2),forceCornerRadius:u,cornerIsExternal:c,startAngle:d,endAngle:h}):w=uk({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:h}),A.createElement("path",fb({},vn(t),{className:g,d:w}))};function iX(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(HD(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:l,angle:u}=t,c=on(r,i,a,u),d=on(r,i,l,u);return[{x:c.x,y:c.y},{x:d.x,y:d.y}]}return lk(t)}}var Ty={},Ey={},wy={},AP;function aX(){return AP||(AP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rR();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(wy)),wy}var xP;function oX(){return xP||(xP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aX();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(Ey)),Ey}var CP;function sX(){return CP||(CP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iR(),n=oX();function r(i,a,l){l&&typeof l!="number"&&t.isIterateeCall(i,a,l)&&(a=l=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),l=l===void 0?i<a?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((a-i)/(l||1)),0),c=new Array(u);for(let d=0;d<u;d++)c[d]=i,i+=l;return c}e.range=r})(Ty)),Ty}var Ay,MP;function lX(){return MP||(MP=1,Ay=sX().range),Ay}var uX=lX();const fk=Ji(uX);function Ra(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cX(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function j_(e){let t,n,r;e.length!==2?(t=Ra,n=(u,c)=>Ra(e(u),c),r=(u,c)=>e(u)-c):(t=e===Ra||e===cX?e:fX,n=e,r=e);function i(u,c,d=0,h=u.length){if(d<h){if(t(c,c)!==0)return h;do{const m=d+h>>>1;n(u[m],c)<0?d=m+1:h=m}while(d<h)}return d}function a(u,c,d=0,h=u.length){if(d<h){if(t(c,c)!==0)return h;do{const m=d+h>>>1;n(u[m],c)<=0?d=m+1:h=m}while(d<h)}return d}function l(u,c,d=0,h=u.length){const m=i(u,c,d,h-1);return m>d&&r(u[m-1],c)>-r(u[m],c)?m-1:m}return{left:i,center:l,right:a}}function fX(){return 0}function dk(e){return e===null?NaN:+e}function*dX(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const hX=j_(Ra),Sc=hX.right;j_(dk).center;class PP extends Map{constructor(t,n=vX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(OP(this,t))}has(t){return super.has(OP(this,t))}set(t,n){return super.set(pX(this,t),n)}delete(t){return super.delete(mX(this,t))}}function OP({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function pX({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function mX({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function vX(e){return e!==null&&typeof e=="object"?e.valueOf():e}function gX(e=Ra){if(e===Ra)return hk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function hk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const yX=Math.sqrt(50),bX=Math.sqrt(10),_X=Math.sqrt(2);function yh(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),l=a>=yX?10:a>=bX?5:a>=_X?2:1;let u,c,d;return i<0?(d=Math.pow(10,-i)/l,u=Math.round(e*d),c=Math.round(t*d),u/d<e&&++u,c/d>t&&--c,d=-d):(d=Math.pow(10,i)*l,u=Math.round(e/d),c=Math.round(t/d),u*d<e&&++u,c*d>t&&--c),c<u&&.5<=n&&n<2?yh(e,t,n*2):[u,c,d]}function db(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,l]=r?yh(t,e,n):yh(e,t,n);if(!(a>=i))return[];const u=a-i+1,c=new Array(u);if(r)if(l<0)for(let d=0;d<u;++d)c[d]=(a-d)/-l;else for(let d=0;d<u;++d)c[d]=(a-d)*l;else if(l<0)for(let d=0;d<u;++d)c[d]=(i+d)/-l;else for(let d=0;d<u;++d)c[d]=(i+d)*l;return c}function hb(e,t,n){return t=+t,e=+e,n=+n,yh(e,t,n)[2]}function pb(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?hb(t,e,n):hb(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function NP(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function IP(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function pk(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?hk:gX(i);r>n;){if(r-n>600){const c=r-n+1,d=t-n+1,h=Math.log(c),m=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*m*(c-m)/c)*(d-c/2<0?-1:1),_=Math.max(n,Math.floor(t-d*m/c+g)),T=Math.min(r,Math.floor(t+(c-d)*m/c+g));pk(e,t,_,T,i)}const a=e[t];let l=n,u=r;for(Tu(e,n,t),i(e[r],a)>0&&Tu(e,n,r);l<u;){for(Tu(e,l,u),++l,--u;i(e[l],a)<0;)++l;for(;i(e[u],a)>0;)--u}i(e[n],a)===0?Tu(e,n,u):(++u,Tu(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function Tu(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function SX(e,t,n){if(e=Float64Array.from(dX(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return IP(e);if(t>=1)return NP(e);var r,i=(r-1)*t,a=Math.floor(i),l=NP(pk(e,a).subarray(0,a+1)),u=IP(e.subarray(a+1));return l+(u-l)*(i-a)}}function TX(e,t,n=dk){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),l=+n(e[a],a,e),u=+n(e[a+1],a+1,e);return l+(u-l)*(i-a)}}function EX(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Ar(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function na(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const mb=Symbol("implicit");function B_(){var e=new PP,t=[],n=[],r=mb;function i(a){let l=e.get(a);if(l===void 0){if(r!==mb)return r;e.set(a,l=t.push(a)-1)}return n[l%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new PP;for(const l of a)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return B_(t,n).unknown(r)},Ar.apply(i,arguments),i}function $_(){var e=B_().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,l,u=!1,c=0,d=0,h=.5;delete e.unknown;function m(){var g=t().length,_=i<r,T=_?i:r,w=_?r:i;a=(w-T)/Math.max(1,g-c+d*2),u&&(a=Math.floor(a)),T+=(w-T-a*(g-c))*h,l=a*(1-c),u&&(T=Math.round(T),l=Math.round(l));var E=EX(g).map(function(C){return T+a*C});return n(_?E.reverse():E)}return e.domain=function(g){return arguments.length?(t(g),m()):t()},e.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,m()):[r,i]},e.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,u=!0,m()},e.bandwidth=function(){return l},e.step=function(){return a},e.round=function(g){return arguments.length?(u=!!g,m()):u},e.padding=function(g){return arguments.length?(c=Math.min(1,d=+g),m()):c},e.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),m()):c},e.paddingOuter=function(g){return arguments.length?(d=+g,m()):d},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),m()):h},e.copy=function(){return $_(t(),[r,i]).round(u).paddingInner(c).paddingOuter(d).align(h)},Ar.apply(m(),arguments)}function mk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return mk(t())},e}function wX(){return mk($_.apply(null,arguments).paddingInner(1))}function F_(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function vk(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Tc(){}var Zu=.7,bh=1/Zu,Gs="\\s*([+-]?\\d+)\\s*",ec="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",AX=/^#([0-9a-f]{3,8})$/,xX=new RegExp(`^rgb\\(${Gs},${Gs},${Gs}\\)$`),CX=new RegExp(`^rgb\\(${Wr},${Wr},${Wr}\\)$`),MX=new RegExp(`^rgba\\(${Gs},${Gs},${Gs},${ec}\\)$`),PX=new RegExp(`^rgba\\(${Wr},${Wr},${Wr},${ec}\\)$`),OX=new RegExp(`^hsl\\(${ec},${Wr},${Wr}\\)$`),NX=new RegExp(`^hsla\\(${ec},${Wr},${Wr},${ec}\\)$`),DP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};F_(Tc,tc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:RP,formatHex:RP,formatHex8:IX,formatHsl:DX,formatRgb:kP,toString:kP});function RP(){return this.rgb().formatHex()}function IX(){return this.rgb().formatHex8()}function DX(){return gk(this).formatHsl()}function kP(){return this.rgb().formatRgb()}function tc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=AX.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?LP(t):n===3?new zn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?pd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?pd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=xX.exec(e))?new zn(t[1],t[2],t[3],1):(t=CX.exec(e))?new zn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=MX.exec(e))?pd(t[1],t[2],t[3],t[4]):(t=PX.exec(e))?pd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=OX.exec(e))?zP(t[1],t[2]/100,t[3]/100,1):(t=NX.exec(e))?zP(t[1],t[2]/100,t[3]/100,t[4]):DP.hasOwnProperty(e)?LP(DP[e]):e==="transparent"?new zn(NaN,NaN,NaN,0):null}function LP(e){return new zn(e>>16&255,e>>8&255,e&255,1)}function pd(e,t,n,r){return r<=0&&(e=t=n=NaN),new zn(e,t,n,r)}function RX(e){return e instanceof Tc||(e=tc(e)),e?(e=e.rgb(),new zn(e.r,e.g,e.b,e.opacity)):new zn}function vb(e,t,n,r){return arguments.length===1?RX(e):new zn(e,t,n,r??1)}function zn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}F_(zn,vb,vk(Tc,{brighter(e){return e=e==null?bh:Math.pow(bh,e),new zn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Zu:Math.pow(Zu,e),new zn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new zn(Mo(this.r),Mo(this.g),Mo(this.b),_h(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:UP,formatHex:UP,formatHex8:kX,formatRgb:qP,toString:qP}));function UP(){return`#${To(this.r)}${To(this.g)}${To(this.b)}`}function kX(){return`#${To(this.r)}${To(this.g)}${To(this.b)}${To((isNaN(this.opacity)?1:this.opacity)*255)}`}function qP(){const e=_h(this.opacity);return`${e===1?"rgb(":"rgba("}${Mo(this.r)}, ${Mo(this.g)}, ${Mo(this.b)}${e===1?")":`, ${e})`}`}function _h(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Mo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function To(e){return e=Mo(e),(e<16?"0":"")+e.toString(16)}function zP(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Dr(e,t,n,r)}function gk(e){if(e instanceof Dr)return new Dr(e.h,e.s,e.l,e.opacity);if(e instanceof Tc||(e=tc(e)),!e)return new Dr;if(e instanceof Dr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),l=NaN,u=a-i,c=(a+i)/2;return u?(t===a?l=(n-r)/u+(n<r)*6:n===a?l=(r-t)/u+2:l=(t-n)/u+4,u/=c<.5?a+i:2-a-i,l*=60):u=c>0&&c<1?0:l,new Dr(l,u,c,e.opacity)}function LX(e,t,n,r){return arguments.length===1?gk(e):new Dr(e,t,n,r??1)}function Dr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}F_(Dr,LX,vk(Tc,{brighter(e){return e=e==null?bh:Math.pow(bh,e),new Dr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Zu:Math.pow(Zu,e),new Dr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new zn(xy(e>=240?e-240:e+120,i,r),xy(e,i,r),xy(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Dr(jP(this.h),md(this.s),md(this.l),_h(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_h(this.opacity);return`${e===1?"hsl(":"hsla("}${jP(this.h)}, ${md(this.s)*100}%, ${md(this.l)*100}%${e===1?")":`, ${e})`}`}}));function jP(e){return e=(e||0)%360,e<0?e+360:e}function md(e){return Math.max(0,Math.min(1,e||0))}function xy(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const H_=e=>()=>e;function UX(e,t){return function(n){return e+n*t}}function qX(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function zX(e){return(e=+e)==1?yk:function(t,n){return n-t?qX(t,n,e):H_(isNaN(t)?n:t)}}function yk(e,t){var n=t-e;return n?UX(e,n):H_(isNaN(e)?t:e)}const BP=(function e(t){var n=zX(t);function r(i,a){var l=n((i=vb(i)).r,(a=vb(a)).r),u=n(i.g,a.g),c=n(i.b,a.b),d=yk(i.opacity,a.opacity);return function(h){return i.r=l(h),i.g=u(h),i.b=c(h),i.opacity=d(h),i+""}}return r.gamma=e,r})(1);function jX(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function BX(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function $X(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),l;for(l=0;l<r;++l)i[l]=pl(e[l],t[l]);for(;l<n;++l)a[l]=t[l];return function(u){for(l=0;l<r;++l)a[l]=i[l](u);return a}}function FX(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Sh(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function HX(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=pl(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var gb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cy=new RegExp(gb.source,"g");function GX(e){return function(){return e}}function VX(e){return function(t){return e(t)+""}}function KX(e,t){var n=gb.lastIndex=Cy.lastIndex=0,r,i,a,l=-1,u=[],c=[];for(e=e+"",t=t+"";(r=gb.exec(e))&&(i=Cy.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),u[l]?u[l]+=a:u[++l]=a),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,c.push({i:l,x:Sh(r,i)})),n=Cy.lastIndex;return n<t.length&&(a=t.slice(n),u[l]?u[l]+=a:u[++l]=a),u.length<2?c[0]?VX(c[0].x):GX(t):(t=c.length,function(d){for(var h=0,m;h<t;++h)u[(m=c[h]).i]=m.x(d);return u.join("")})}function pl(e,t){var n=typeof t,r;return t==null||n==="boolean"?H_(t):(n==="number"?Sh:n==="string"?(r=tc(t))?(t=r,BP):KX:t instanceof tc?BP:t instanceof Date?FX:BX(t)?jX:Array.isArray(t)?$X:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?HX:Sh)(e,t)}function G_(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function YX(e,t){t===void 0&&(t=e,e=pl);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return a[u](l-u)}}function WX(e){return function(){return e}}function Th(e){return+e}var $P=[0,1];function Tn(e){return e}function yb(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:WX(isNaN(t)?NaN:.5)}function JX(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function XX(e,t,n){var r=e[0],i=e[1],a=t[0],l=t[1];return i<r?(r=yb(i,r),a=n(l,a)):(r=yb(r,i),a=n(a,l)),function(u){return a(r(u))}}function QX(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=yb(e[l],e[l+1]),a[l]=n(t[l],t[l+1]);return function(u){var c=Sc(e,u,1,r)-1;return a[c](i[c](u))}}function Ec(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function bp(){var e=$P,t=$P,n=pl,r,i,a,l=Tn,u,c,d;function h(){var g=Math.min(e.length,t.length);return l!==Tn&&(l=JX(e[0],e[g-1])),u=g>2?QX:XX,c=d=null,m}function m(g){return g==null||isNaN(g=+g)?a:(c||(c=u(e.map(r),t,n)))(r(l(g)))}return m.invert=function(g){return l(i((d||(d=u(t,e.map(r),Sh)))(g)))},m.domain=function(g){return arguments.length?(e=Array.from(g,Th),h()):e.slice()},m.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},m.rangeRound=function(g){return t=Array.from(g),n=G_,h()},m.clamp=function(g){return arguments.length?(l=g?!0:Tn,h()):l!==Tn},m.interpolate=function(g){return arguments.length?(n=g,h()):n},m.unknown=function(g){return arguments.length?(a=g,m):a},function(g,_){return r=g,i=_,h()}}function V_(){return bp()(Tn,Tn)}function ZX(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Eh(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function el(e){return e=Eh(Math.abs(e)),e?e[1]:NaN}function eQ(e,t){return function(n,r){for(var i=n.length,a=[],l=0,u=e[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),a.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=e[l=(l+1)%e.length];return a.reverse().join(t)}}function tQ(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var nQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nc(e){if(!(t=nQ.exec(e)))throw new Error("invalid format: "+e);var t;return new K_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}nc.prototype=K_.prototype;function K_(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}K_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rQ(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var bk;function iQ(e,t){var n=Eh(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(bk=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return a===l?r:a>l?r+new Array(a-l+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Eh(e,Math.max(0,t+a-1))[0]}function FP(e,t){var n=Eh(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const HP={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ZX,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>FP(e*100,t),r:FP,s:iQ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function GP(e){return e}var VP=Array.prototype.map,KP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function aQ(e){var t=e.grouping===void 0||e.thousands===void 0?GP:eQ(VP.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?GP:tQ(VP.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(m){m=nc(m);var g=m.fill,_=m.align,T=m.sign,w=m.symbol,E=m.zero,C=m.width,O=m.comma,P=m.precision,R=m.trim,N=m.type;N==="n"?(O=!0,N="g"):HP[N]||(P===void 0&&(P=12),R=!0,N="g"),(E||g==="0"&&_==="=")&&(E=!0,g="0",_="=");var D=w==="$"?n:w==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",k=w==="$"?r:/[%p]/.test(N)?l:"",H=HP[N],K=/[defgprs%]/.test(N);P=P===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function ae(Y){var W=D,ue=k,fe,ge,j;if(N==="c")ue=H(Y)+ue,Y="";else{Y=+Y;var ee=Y<0||1/Y<0;if(Y=isNaN(Y)?c:H(Math.abs(Y),P),R&&(Y=rQ(Y)),ee&&+Y==0&&T!=="+"&&(ee=!1),W=(ee?T==="("?T:u:T==="-"||T==="("?"":T)+W,ue=(N==="s"?KP[8+bk/3]:"")+ue+(ee&&T==="("?")":""),K){for(fe=-1,ge=Y.length;++fe<ge;)if(j=Y.charCodeAt(fe),48>j||j>57){ue=(j===46?i+Y.slice(fe+1):Y.slice(fe))+ue,Y=Y.slice(0,fe);break}}}O&&!E&&(Y=t(Y,1/0));var le=W.length+Y.length+ue.length,V=le<C?new Array(C-le+1).join(g):"";switch(O&&E&&(Y=t(V+Y,V.length?C-ue.length:1/0),V=""),_){case"<":Y=W+Y+ue+V;break;case"=":Y=W+V+Y+ue;break;case"^":Y=V.slice(0,le=V.length>>1)+W+Y+ue+V.slice(le);break;default:Y=V+W+Y+ue;break}return a(Y)}return ae.toString=function(){return m+""},ae}function h(m,g){var _=d((m=nc(m),m.type="f",m)),T=Math.max(-8,Math.min(8,Math.floor(el(g)/3)))*3,w=Math.pow(10,-T),E=KP[8+T/3];return function(C){return _(w*C)+E}}return{format:d,formatPrefix:h}}var vd,Y_,_k;oQ({thousands:",",grouping:[3],currency:["$",""]});function oQ(e){return vd=aQ(e),Y_=vd.format,_k=vd.formatPrefix,vd}function sQ(e){return Math.max(0,-el(Math.abs(e)))}function lQ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(el(t)/3)))*3-el(Math.abs(e)))}function uQ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,el(t)-el(e))+1}function Sk(e,t,n,r){var i=pb(e,t,n),a;switch(r=nc(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=lQ(i,l))&&(r.precision=a),_k(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=uQ(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=sQ(i))&&(r.precision=a-(r.type==="%")*2);break}}return Y_(r)}function Fa(e){var t=e.domain;return e.ticks=function(n){var r=t();return db(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Sk(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,l=r[i],u=r[a],c,d,h=10;for(u<l&&(d=l,l=u,u=d,d=i,i=a,a=d);h-- >0;){if(d=hb(l,u,n),d===c)return r[i]=l,r[a]=u,t(r);if(d>0)l=Math.floor(l/d)*d,u=Math.ceil(u/d)*d;else if(d<0)l=Math.ceil(l*d)/d,u=Math.floor(u*d)/d;else break;c=d}return e},e}function Tk(){var e=V_();return e.copy=function(){return Ec(e,Tk())},Ar.apply(e,arguments),Fa(e)}function Ek(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Th),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Ek(e).unknown(t)},e=arguments.length?Array.from(e,Th):[0,1],Fa(n)}function wk(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],l;return a<i&&(l=n,n=r,r=l,l=i,i=a,a=l),e[n]=t.floor(i),e[r]=t.ceil(a),e}function YP(e){return Math.log(e)}function WP(e){return Math.exp(e)}function cQ(e){return-Math.log(-e)}function fQ(e){return-Math.exp(-e)}function dQ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function hQ(e){return e===10?dQ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function pQ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function JP(e){return(t,n)=>-e(-t,n)}function W_(e){const t=e(YP,WP),n=t.domain;let r=10,i,a;function l(){return i=pQ(r),a=hQ(r),n()[0]<0?(i=JP(i),a=JP(a),e(cQ,fQ)):e(YP,WP),t}return t.base=function(u){return arguments.length?(r=+u,l()):r},t.domain=function(u){return arguments.length?(n(u),l()):n()},t.ticks=u=>{const c=n();let d=c[0],h=c[c.length-1];const m=h<d;m&&([d,h]=[h,d]);let g=i(d),_=i(h),T,w;const E=u==null?10:+u;let C=[];if(!(r%1)&&_-g<E){if(g=Math.floor(g),_=Math.ceil(_),d>0){for(;g<=_;++g)for(T=1;T<r;++T)if(w=g<0?T/a(-g):T*a(g),!(w<d)){if(w>h)break;C.push(w)}}else for(;g<=_;++g)for(T=r-1;T>=1;--T)if(w=g>0?T/a(-g):T*a(g),!(w<d)){if(w>h)break;C.push(w)}C.length*2<E&&(C=db(d,h,E))}else C=db(g,_,Math.min(_-g,E)).map(a);return m?C.reverse():C},t.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=nc(c)).precision==null&&(c.trim=!0),c=Y_(c)),u===1/0)return c;const d=Math.max(1,r*u/t.ticks().length);return h=>{let m=h/a(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=d?c(h):""}},t.nice=()=>n(wk(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),t}function Ak(){const e=W_(bp()).domain([1,10]);return e.copy=()=>Ec(e,Ak()).base(e.base()),Ar.apply(e,arguments),e}function XP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function QP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function J_(e){var t=1,n=e(XP(t),QP(t));return n.constant=function(r){return arguments.length?e(XP(t=+r),QP(t)):t},Fa(n)}function xk(){var e=J_(bp());return e.copy=function(){return Ec(e,xk()).constant(e.constant())},Ar.apply(e,arguments)}function ZP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function mQ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function vQ(e){return e<0?-e*e:e*e}function X_(e){var t=e(Tn,Tn),n=1;function r(){return n===1?e(Tn,Tn):n===.5?e(mQ,vQ):e(ZP(n),ZP(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Fa(t)}function Q_(){var e=X_(bp());return e.copy=function(){return Ec(e,Q_()).exponent(e.exponent())},Ar.apply(e,arguments),e}function gQ(){return Q_.apply(null,arguments).exponent(.5)}function eO(e){return Math.sign(e)*e*e}function yQ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Ck(){var e=V_(),t=[0,1],n=!1,r;function i(a){var l=yQ(e(a));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(a){return e.invert(eO(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Th)).map(eO)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Ck(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Ar.apply(i,arguments),Fa(i)}function Mk(){var e=[],t=[],n=[],r;function i(){var l=0,u=Math.max(1,t.length);for(n=new Array(u-1);++l<u;)n[l-1]=TX(e,l/u);return a}function a(l){return l==null||isNaN(l=+l)?r:t[Sc(n,l)]}return a.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},a.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Ra),i()},a.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Mk().domain(e).range(t).unknown(r)},Ar.apply(a,arguments)}function Pk(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function l(c){return c!=null&&c<=c?i[Sc(r,c,0,n)]:a}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return l}return l.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,u()):[e,t]},l.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,u()):i.slice()},l.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},l.unknown=function(c){return arguments.length&&(a=c),l},l.thresholds=function(){return r.slice()},l.copy=function(){return Pk().domain([e,t]).range(i).unknown(a)},Ar.apply(Fa(l),arguments)}function Ok(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Sc(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var l=t.indexOf(a);return[e[l-1],e[l]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Ok().domain(e).range(t).unknown(n)},Ar.apply(i,arguments)}const My=new Date,Py=new Date;function Lt(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const l=i(a),u=i.ceil(a);return a-l<u-a?l:u},i.offset=(a,l)=>(t(a=new Date(+a),l==null?1:Math.floor(l)),a),i.range=(a,l,u)=>{const c=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<l)||!(u>0))return c;let d;do c.push(d=new Date(+a)),t(a,u),e(a);while(d<a&&a<l);return c},i.filter=a=>Lt(l=>{if(l>=l)for(;e(l),!a(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!a(l););else for(;--u>=0;)for(;t(l,1),!a(l););}),n&&(i.count=(a,l)=>(My.setTime(+a),Py.setTime(+l),e(My),e(Py),Math.floor(n(My,Py))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?l=>r(l)%a===0:l=>i.count(0,l)%a===0):i)),i}const wh=Lt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);wh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Lt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):wh);wh.range;const Di=1e3,yr=Di*60,Ri=yr*60,Vi=Ri*24,Z_=Vi*7,tO=Vi*30,Oy=Vi*365,Eo=Lt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Di)},(e,t)=>(t-e)/Di,e=>e.getUTCSeconds());Eo.range;const eS=Lt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Di)},(e,t)=>{e.setTime(+e+t*yr)},(e,t)=>(t-e)/yr,e=>e.getMinutes());eS.range;const tS=Lt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*yr)},(e,t)=>(t-e)/yr,e=>e.getUTCMinutes());tS.range;const nS=Lt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Di-e.getMinutes()*yr)},(e,t)=>{e.setTime(+e+t*Ri)},(e,t)=>(t-e)/Ri,e=>e.getHours());nS.range;const rS=Lt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ri)},(e,t)=>(t-e)/Ri,e=>e.getUTCHours());rS.range;const wc=Lt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*yr)/Vi,e=>e.getDate()-1);wc.range;const _p=Lt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vi,e=>e.getUTCDate()-1);_p.range;const Nk=Lt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vi,e=>Math.floor(e/Vi));Nk.range;function Uo(e){return Lt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*yr)/Z_)}const Sp=Uo(0),Ah=Uo(1),bQ=Uo(2),_Q=Uo(3),tl=Uo(4),SQ=Uo(5),TQ=Uo(6);Sp.range;Ah.range;bQ.range;_Q.range;tl.range;SQ.range;TQ.range;function qo(e){return Lt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Z_)}const Tp=qo(0),xh=qo(1),EQ=qo(2),wQ=qo(3),nl=qo(4),AQ=qo(5),xQ=qo(6);Tp.range;xh.range;EQ.range;wQ.range;nl.range;AQ.range;xQ.range;const iS=Lt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());iS.range;const aS=Lt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());aS.range;const Ki=Lt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ki.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Lt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ki.range;const Yi=Lt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Yi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Lt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Yi.range;function Ik(e,t,n,r,i,a){const l=[[Eo,1,Di],[Eo,5,5*Di],[Eo,15,15*Di],[Eo,30,30*Di],[a,1,yr],[a,5,5*yr],[a,15,15*yr],[a,30,30*yr],[i,1,Ri],[i,3,3*Ri],[i,6,6*Ri],[i,12,12*Ri],[r,1,Vi],[r,2,2*Vi],[n,1,Z_],[t,1,tO],[t,3,3*tO],[e,1,Oy]];function u(d,h,m){const g=h<d;g&&([d,h]=[h,d]);const _=m&&typeof m.range=="function"?m:c(d,h,m),T=_?_.range(d,+h+1):[];return g?T.reverse():T}function c(d,h,m){const g=Math.abs(h-d)/m,_=j_(([,,E])=>E).right(l,g);if(_===l.length)return e.every(pb(d/Oy,h/Oy,m));if(_===0)return wh.every(Math.max(pb(d,h,m),1));const[T,w]=l[g/l[_-1][2]<l[_][2]/g?_-1:_];return T.every(w)}return[u,c]}const[CQ,MQ]=Ik(Yi,aS,Tp,Nk,rS,tS),[PQ,OQ]=Ik(Ki,iS,Sp,wc,nS,eS);function Ny(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Iy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Eu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function NQ(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,l=e.shortDays,u=e.months,c=e.shortMonths,d=wu(i),h=Au(i),m=wu(a),g=Au(a),_=wu(l),T=Au(l),w=wu(u),E=Au(u),C=wu(c),O=Au(c),P={a:ee,A:le,b:V,B:pe,c:null,d:sO,e:sO,f:eZ,g:cZ,G:dZ,H:XQ,I:QQ,j:ZQ,L:Dk,m:tZ,M:nZ,p:U,q:X,Q:cO,s:fO,S:rZ,u:iZ,U:aZ,V:oZ,w:sZ,W:lZ,x:null,X:null,y:uZ,Y:fZ,Z:hZ,"%":uO},R={a:$,A:se,b:_e,B:Ee,c:null,d:lO,e:lO,f:gZ,g:CZ,G:PZ,H:pZ,I:mZ,j:vZ,L:kk,m:yZ,M:bZ,p:we,q:gt,Q:cO,s:fO,S:_Z,u:SZ,U:TZ,V:EZ,w:wZ,W:AZ,x:null,X:null,y:xZ,Y:MZ,Z:OZ,"%":uO},N={a:ae,A:Y,b:W,B:ue,c:fe,d:aO,e:aO,f:KQ,g:iO,G:rO,H:oO,I:oO,j:FQ,L:VQ,m:$Q,M:HQ,p:K,q:BQ,Q:WQ,s:JQ,S:GQ,u:LQ,U:UQ,V:qQ,w:kQ,W:zQ,x:ge,X:j,y:iO,Y:rO,Z:jQ,"%":YQ};P.x=D(n,P),P.X=D(r,P),P.c=D(t,P),R.x=D(n,R),R.X=D(r,R),R.c=D(t,R);function D(te,Ae){return function(Pe){var oe=[],Ot=-1,Ue=0,Nt=te.length,It,We,ia;for(Pe instanceof Date||(Pe=new Date(+Pe));++Ot<Nt;)te.charCodeAt(Ot)===37&&(oe.push(te.slice(Ue,Ot)),(We=nO[It=te.charAt(++Ot)])!=null?It=te.charAt(++Ot):We=It==="e"?" ":"0",(ia=Ae[It])&&(It=ia(Pe,We)),oe.push(It),Ue=Ot+1);return oe.push(te.slice(Ue,Ot)),oe.join("")}}function k(te,Ae){return function(Pe){var oe=Eu(1900,void 0,1),Ot=H(oe,te,Pe+="",0),Ue,Nt;if(Ot!=Pe.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(Ae&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(Ue=Iy(Eu(oe.y,0,1)),Nt=Ue.getUTCDay(),Ue=Nt>4||Nt===0?xh.ceil(Ue):xh(Ue),Ue=_p.offset(Ue,(oe.V-1)*7),oe.y=Ue.getUTCFullYear(),oe.m=Ue.getUTCMonth(),oe.d=Ue.getUTCDate()+(oe.w+6)%7):(Ue=Ny(Eu(oe.y,0,1)),Nt=Ue.getDay(),Ue=Nt>4||Nt===0?Ah.ceil(Ue):Ah(Ue),Ue=wc.offset(Ue,(oe.V-1)*7),oe.y=Ue.getFullYear(),oe.m=Ue.getMonth(),oe.d=Ue.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),Nt="Z"in oe?Iy(Eu(oe.y,0,1)).getUTCDay():Ny(Eu(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(Nt+5)%7:oe.w+oe.U*7-(Nt+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,Iy(oe)):Ny(oe)}}function H(te,Ae,Pe,oe){for(var Ot=0,Ue=Ae.length,Nt=Pe.length,It,We;Ot<Ue;){if(oe>=Nt)return-1;if(It=Ae.charCodeAt(Ot++),It===37){if(It=Ae.charAt(Ot++),We=N[It in nO?Ae.charAt(Ot++):It],!We||(oe=We(te,Pe,oe))<0)return-1}else if(It!=Pe.charCodeAt(oe++))return-1}return oe}function K(te,Ae,Pe){var oe=d.exec(Ae.slice(Pe));return oe?(te.p=h.get(oe[0].toLowerCase()),Pe+oe[0].length):-1}function ae(te,Ae,Pe){var oe=_.exec(Ae.slice(Pe));return oe?(te.w=T.get(oe[0].toLowerCase()),Pe+oe[0].length):-1}function Y(te,Ae,Pe){var oe=m.exec(Ae.slice(Pe));return oe?(te.w=g.get(oe[0].toLowerCase()),Pe+oe[0].length):-1}function W(te,Ae,Pe){var oe=C.exec(Ae.slice(Pe));return oe?(te.m=O.get(oe[0].toLowerCase()),Pe+oe[0].length):-1}function ue(te,Ae,Pe){var oe=w.exec(Ae.slice(Pe));return oe?(te.m=E.get(oe[0].toLowerCase()),Pe+oe[0].length):-1}function fe(te,Ae,Pe){return H(te,t,Ae,Pe)}function ge(te,Ae,Pe){return H(te,n,Ae,Pe)}function j(te,Ae,Pe){return H(te,r,Ae,Pe)}function ee(te){return l[te.getDay()]}function le(te){return a[te.getDay()]}function V(te){return c[te.getMonth()]}function pe(te){return u[te.getMonth()]}function U(te){return i[+(te.getHours()>=12)]}function X(te){return 1+~~(te.getMonth()/3)}function $(te){return l[te.getUTCDay()]}function se(te){return a[te.getUTCDay()]}function _e(te){return c[te.getUTCMonth()]}function Ee(te){return u[te.getUTCMonth()]}function we(te){return i[+(te.getUTCHours()>=12)]}function gt(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var Ae=D(te+="",P);return Ae.toString=function(){return te},Ae},parse:function(te){var Ae=k(te+="",!1);return Ae.toString=function(){return te},Ae},utcFormat:function(te){var Ae=D(te+="",R);return Ae.toString=function(){return te},Ae},utcParse:function(te){var Ae=k(te+="",!0);return Ae.toString=function(){return te},Ae}}}var nO={"-":"",_:" ",0:"0"},Wt=/^\s*\d+/,IQ=/^%/,DQ=/[\\^$*+?|[\]().{}]/g;function Fe(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function RQ(e){return e.replace(DQ,"\\$&")}function wu(e){return new RegExp("^(?:"+e.map(RQ).join("|")+")","i")}function Au(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function kQ(e,t,n){var r=Wt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function LQ(e,t,n){var r=Wt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function UQ(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function qQ(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function zQ(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function rO(e,t,n){var r=Wt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function iO(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function jQ(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function BQ(e,t,n){var r=Wt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function $Q(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function aO(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function FQ(e,t,n){var r=Wt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function oO(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function HQ(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function GQ(e,t,n){var r=Wt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function VQ(e,t,n){var r=Wt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function KQ(e,t,n){var r=Wt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function YQ(e,t,n){var r=IQ.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function WQ(e,t,n){var r=Wt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function JQ(e,t,n){var r=Wt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function sO(e,t){return Fe(e.getDate(),t,2)}function XQ(e,t){return Fe(e.getHours(),t,2)}function QQ(e,t){return Fe(e.getHours()%12||12,t,2)}function ZQ(e,t){return Fe(1+wc.count(Ki(e),e),t,3)}function Dk(e,t){return Fe(e.getMilliseconds(),t,3)}function eZ(e,t){return Dk(e,t)+"000"}function tZ(e,t){return Fe(e.getMonth()+1,t,2)}function nZ(e,t){return Fe(e.getMinutes(),t,2)}function rZ(e,t){return Fe(e.getSeconds(),t,2)}function iZ(e){var t=e.getDay();return t===0?7:t}function aZ(e,t){return Fe(Sp.count(Ki(e)-1,e),t,2)}function Rk(e){var t=e.getDay();return t>=4||t===0?tl(e):tl.ceil(e)}function oZ(e,t){return e=Rk(e),Fe(tl.count(Ki(e),e)+(Ki(e).getDay()===4),t,2)}function sZ(e){return e.getDay()}function lZ(e,t){return Fe(Ah.count(Ki(e)-1,e),t,2)}function uZ(e,t){return Fe(e.getFullYear()%100,t,2)}function cZ(e,t){return e=Rk(e),Fe(e.getFullYear()%100,t,2)}function fZ(e,t){return Fe(e.getFullYear()%1e4,t,4)}function dZ(e,t){var n=e.getDay();return e=n>=4||n===0?tl(e):tl.ceil(e),Fe(e.getFullYear()%1e4,t,4)}function hZ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Fe(t/60|0,"0",2)+Fe(t%60,"0",2)}function lO(e,t){return Fe(e.getUTCDate(),t,2)}function pZ(e,t){return Fe(e.getUTCHours(),t,2)}function mZ(e,t){return Fe(e.getUTCHours()%12||12,t,2)}function vZ(e,t){return Fe(1+_p.count(Yi(e),e),t,3)}function kk(e,t){return Fe(e.getUTCMilliseconds(),t,3)}function gZ(e,t){return kk(e,t)+"000"}function yZ(e,t){return Fe(e.getUTCMonth()+1,t,2)}function bZ(e,t){return Fe(e.getUTCMinutes(),t,2)}function _Z(e,t){return Fe(e.getUTCSeconds(),t,2)}function SZ(e){var t=e.getUTCDay();return t===0?7:t}function TZ(e,t){return Fe(Tp.count(Yi(e)-1,e),t,2)}function Lk(e){var t=e.getUTCDay();return t>=4||t===0?nl(e):nl.ceil(e)}function EZ(e,t){return e=Lk(e),Fe(nl.count(Yi(e),e)+(Yi(e).getUTCDay()===4),t,2)}function wZ(e){return e.getUTCDay()}function AZ(e,t){return Fe(xh.count(Yi(e)-1,e),t,2)}function xZ(e,t){return Fe(e.getUTCFullYear()%100,t,2)}function CZ(e,t){return e=Lk(e),Fe(e.getUTCFullYear()%100,t,2)}function MZ(e,t){return Fe(e.getUTCFullYear()%1e4,t,4)}function PZ(e,t){var n=e.getUTCDay();return e=n>=4||n===0?nl(e):nl.ceil(e),Fe(e.getUTCFullYear()%1e4,t,4)}function OZ(){return"+0000"}function uO(){return"%"}function cO(e){return+e}function fO(e){return Math.floor(+e/1e3)}var xs,Uk,qk;NZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function NZ(e){return xs=NQ(e),Uk=xs.format,xs.parse,qk=xs.utcFormat,xs.utcParse,xs}function IZ(e){return new Date(e)}function DZ(e){return e instanceof Date?+e:+new Date(+e)}function oS(e,t,n,r,i,a,l,u,c,d){var h=V_(),m=h.invert,g=h.domain,_=d(".%L"),T=d(":%S"),w=d("%I:%M"),E=d("%I %p"),C=d("%a %d"),O=d("%b %d"),P=d("%B"),R=d("%Y");function N(D){return(c(D)<D?_:u(D)<D?T:l(D)<D?w:a(D)<D?E:r(D)<D?i(D)<D?C:O:n(D)<D?P:R)(D)}return h.invert=function(D){return new Date(m(D))},h.domain=function(D){return arguments.length?g(Array.from(D,DZ)):g().map(IZ)},h.ticks=function(D){var k=g();return e(k[0],k[k.length-1],D??10)},h.tickFormat=function(D,k){return k==null?N:d(k)},h.nice=function(D){var k=g();return(!D||typeof D.range!="function")&&(D=t(k[0],k[k.length-1],D??10)),D?g(wk(k,D)):h},h.copy=function(){return Ec(h,oS(e,t,n,r,i,a,l,u,c,d))},h}function RZ(){return Ar.apply(oS(PQ,OQ,Ki,iS,Sp,wc,nS,eS,Eo,Uk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kZ(){return Ar.apply(oS(CQ,MQ,Yi,aS,Tp,_p,rS,tS,Eo,qk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ep(){var e=0,t=1,n,r,i,a,l=Tn,u=!1,c;function d(m){return m==null||isNaN(m=+m)?c:l(i===0?.5:(m=(a(m)-n)*i,u?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(m){return arguments.length?(u=!!m,d):u},d.interpolator=function(m){return arguments.length?(l=m,d):l};function h(m){return function(g){var _,T;return arguments.length?([_,T]=g,l=m(_,T),d):[l(0),l(1)]}}return d.range=h(pl),d.rangeRound=h(G_),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return a=m,n=m(e),r=m(t),i=n===r?0:1/(r-n),d}}function Ha(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function zk(){var e=Fa(Ep()(Tn));return e.copy=function(){return Ha(e,zk())},na.apply(e,arguments)}function jk(){var e=W_(Ep()).domain([1,10]);return e.copy=function(){return Ha(e,jk()).base(e.base())},na.apply(e,arguments)}function Bk(){var e=J_(Ep());return e.copy=function(){return Ha(e,Bk()).constant(e.constant())},na.apply(e,arguments)}function sS(){var e=X_(Ep());return e.copy=function(){return Ha(e,sS()).exponent(e.exponent())},na.apply(e,arguments)}function LZ(){return sS.apply(null,arguments).exponent(.5)}function $k(){var e=[],t=Tn;function n(r){if(r!=null&&!isNaN(r=+r))return t((Sc(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ra),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>SX(e,a/r))},n.copy=function(){return $k(t).domain(e)},na.apply(n,arguments)}function wp(){var e=0,t=.5,n=1,r=1,i,a,l,u,c,d=Tn,h,m=!1,g;function _(w){return isNaN(w=+w)?g:(w=.5+((w=+h(w))-a)*(r*w<r*a?u:c),d(m?Math.max(0,Math.min(1,w)):w))}_.domain=function(w){return arguments.length?([e,t,n]=w,i=h(e=+e),a=h(t=+t),l=h(n=+n),u=i===a?0:.5/(a-i),c=a===l?0:.5/(l-a),r=a<i?-1:1,_):[e,t,n]},_.clamp=function(w){return arguments.length?(m=!!w,_):m},_.interpolator=function(w){return arguments.length?(d=w,_):d};function T(w){return function(E){var C,O,P;return arguments.length?([C,O,P]=E,d=YX(w,[C,O,P]),_):[d(0),d(.5),d(1)]}}return _.range=T(pl),_.rangeRound=T(G_),_.unknown=function(w){return arguments.length?(g=w,_):g},function(w){return h=w,i=w(e),a=w(t),l=w(n),u=i===a?0:.5/(a-i),c=a===l?0:.5/(l-a),r=a<i?-1:1,_}}function Fk(){var e=Fa(wp()(Tn));return e.copy=function(){return Ha(e,Fk())},na.apply(e,arguments)}function Hk(){var e=W_(wp()).domain([.1,1,10]);return e.copy=function(){return Ha(e,Hk()).base(e.base())},na.apply(e,arguments)}function Gk(){var e=J_(wp());return e.copy=function(){return Ha(e,Gk()).constant(e.constant())},na.apply(e,arguments)}function lS(){var e=X_(wp());return e.copy=function(){return Ha(e,lS()).exponent(e.exponent())},na.apply(e,arguments)}function UZ(){return lS.apply(null,arguments).exponent(.5)}const Iu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$_,scaleDiverging:Fk,scaleDivergingLog:Hk,scaleDivergingPow:lS,scaleDivergingSqrt:UZ,scaleDivergingSymlog:Gk,scaleIdentity:Ek,scaleImplicit:mb,scaleLinear:Tk,scaleLog:Ak,scaleOrdinal:B_,scalePoint:wX,scalePow:Q_,scaleQuantile:Mk,scaleQuantize:Pk,scaleRadial:Ck,scaleSequential:zk,scaleSequentialLog:jk,scaleSequentialPow:sS,scaleSequentialQuantile:$k,scaleSequentialSqrt:LZ,scaleSequentialSymlog:Bk,scaleSqrt:gQ,scaleSymlog:xk,scaleThreshold:Ok,scaleTime:RZ,scaleUtc:kZ,tickFormat:Sk},Symbol.toStringTag,{value:"Module"}));var Ga=e=>e.chartData,qZ=Q([Ga],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),uS=(e,t,n,r)=>r?qZ(e):Ga(e);function qa(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(vt(t)&&vt(n))return!0}return!1}function dO(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Vk(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(vt(n))i=n;else if(typeof n=="function")return;if(vt(r))a=r;else if(typeof r=="function")return;var l=[i,a];if(qa(l))return l}}function zZ(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(qa(r))return dO(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,l,u;if(i==="auto")t!=null&&(l=Math.min(...t));else if(be(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t?.[0]))}catch{}else if(typeof i=="string"&&jM.test(i)){var c=jM.exec(i);if(c==null||t==null)l=void 0;else{var d=+c[1];l=t[0]-d}}else l=t?.[0];if(a==="auto")t!=null&&(u=Math.max(...t));else if(be(a))u=a;else if(typeof a=="function")try{t!=null&&(u=a(t?.[1]))}catch{}else if(typeof a=="string"&&BM.test(a)){var h=BM.exec(a);if(h==null||t==null)u=void 0;else{var m=+h[1];u=t[1]+m}}else u=t?.[1];var g=[l,u];if(qa(g))return t==null?g:dO(g,t,n)}}}var ml=1e9,jZ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},fS,dt=!0,wr="[DecimalError] ",Po=wr+"Invalid argument: ",cS=wr+"Exponent out of range: ",vl=Math.floor,mo=Math.pow,BZ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xn,Kt=1e7,ot=7,Kk=9007199254740991,Ch=vl(Kk/ot),de={};de.absoluteValue=de.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};de.comparedTo=de.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};de.decimalPlaces=de.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*ot;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};de.dividedBy=de.div=function(e){return Ui(this,new this.constructor(e))};de.dividedToIntegerBy=de.idiv=function(e){var t=this,n=t.constructor;return et(Ui(t,new n(e),0,1),n.precision)};de.equals=de.eq=function(e){return!this.cmp(e)};de.exponent=function(){return Pt(this)};de.greaterThan=de.gt=function(e){return this.cmp(e)>0};de.greaterThanOrEqualTo=de.gte=function(e){return this.cmp(e)>=0};de.isInteger=de.isint=function(){return this.e>this.d.length-2};de.isNegative=de.isneg=function(){return this.s<0};de.isPositive=de.ispos=function(){return this.s>0};de.isZero=function(){return this.s===0};de.lessThan=de.lt=function(e){return this.cmp(e)<0};de.lessThanOrEqualTo=de.lte=function(e){return this.cmp(e)<1};de.logarithm=de.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Xn))throw Error(wr+"NaN");if(n.s<1)throw Error(wr+(n.s?"NaN":"-Infinity"));return n.eq(Xn)?new r(0):(dt=!1,t=Ui(rc(n,a),rc(e,a),a),dt=!0,et(t,i))};de.minus=de.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Jk(t,e):Yk(t,(e.s=-e.s,e))};de.modulo=de.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(wr+"NaN");return n.s?(dt=!1,t=Ui(n,e,0,1).times(e),dt=!0,n.minus(t)):et(new r(n),i)};de.naturalExponential=de.exp=function(){return Wk(this)};de.naturalLogarithm=de.ln=function(){return rc(this)};de.negated=de.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};de.plus=de.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Yk(t,e):Jk(t,(e.s=-e.s,e))};de.precision=de.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Po+e);if(t=Pt(i)+1,r=i.d.length-1,n=r*ot+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};de.squareRoot=de.sqrt=function(){var e,t,n,r,i,a,l,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(wr+"NaN")}for(e=Pt(u),dt=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=Kr(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=vl((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(i.toString()),n=c.precision,i=l=n+3;;)if(a=r,r=a.plus(Ui(u,a,l+2)).times(.5),Kr(a.d).slice(0,l)===(t=Kr(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(et(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(t!="9999")break;l+=4}return dt=!0,et(r,n)};de.times=de.mul=function(e){var t,n,r,i,a,l,u,c,d,h=this,m=h.constructor,g=h.d,_=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,n=h.e+e.e,c=g.length,d=_.length,c<d&&(a=g,g=_,_=a,l=c,c=d,d=l),a=[],l=c+d,r=l;r--;)a.push(0);for(r=d;--r>=0;){for(t=0,i=c+r;i>r;)u=a[i]+_[r]*g[i-r-1]+t,a[i--]=u%Kt|0,t=u/Kt|0;a[i]=(a[i]+t)%Kt|0}for(;!a[--l];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,dt?et(e,m.precision):e};de.toDecimalPlaces=de.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Zr(e,0,ml),t===void 0?t=r.rounding:Zr(t,0,8),et(n,e+Pt(n)+1,t))};de.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Io(r,!0):(Zr(e,0,ml),t===void 0?t=i.rounding:Zr(t,0,8),r=et(new i(r),e+1,t),n=Io(r,!0,e+1)),n};de.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?Io(i):(Zr(e,0,ml),t===void 0?t=a.rounding:Zr(t,0,8),r=et(new a(i),e+Pt(i)+1,t),n=Io(r.abs(),!1,e+Pt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};de.toInteger=de.toint=function(){var e=this,t=e.constructor;return et(new t(e),Pt(e)+1,t.rounding)};de.toNumber=function(){return+this};de.toPower=de.pow=function(e){var t,n,r,i,a,l,u=this,c=u.constructor,d=12,h=+(e=new c(e));if(!e.s)return new c(Xn);if(u=new c(u),!u.s){if(e.s<1)throw Error(wr+"Infinity");return u}if(u.eq(Xn))return u;if(r=c.precision,e.eq(Xn))return et(u,r);if(t=e.e,n=e.d.length-1,l=t>=n,a=u.s,l){if((n=h<0?-h:h)<=Kk){for(i=new c(Xn),t=Math.ceil(r/ot+4),dt=!1;n%2&&(i=i.times(u),pO(i.d,t)),n=vl(n/2),n!==0;)u=u.times(u),pO(u.d,t);return dt=!0,e.s<0?new c(Xn).div(i):et(i,r)}}else if(a<0)throw Error(wr+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,dt=!1,i=e.times(rc(u,r+d)),dt=!0,i=Wk(i),i.s=a,i};de.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Pt(i),r=Io(i,n<=a.toExpNeg||n>=a.toExpPos)):(Zr(e,1,ml),t===void 0?t=a.rounding:Zr(t,0,8),i=et(new a(i),e,t),n=Pt(i),r=Io(i,e<=n||n<=a.toExpNeg,e)),r};de.toSignificantDigits=de.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Zr(e,1,ml),t===void 0?t=r.rounding:Zr(t,0,8)),et(new r(n),e,t)};de.toString=de.valueOf=de.val=de.toJSON=de[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Pt(e),n=e.constructor;return Io(e,t<=n.toExpNeg||t>=n.toExpPos)};function Yk(e,t){var n,r,i,a,l,u,c,d,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),dt?et(t,m):t;if(c=e.d,d=t.d,l=e.e,i=t.e,c=c.slice(),a=l-i,a){for(a<0?(r=c,a=-a,u=d.length):(r=d,i=l,u=c.length),l=Math.ceil(m/ot),u=l>u?l+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=c.length,a=d.length,u-a<0&&(a=u,r=d,d=c,c=r),n=0;a;)n=(c[--a]=c[a]+d[a]+n)/Kt|0,c[a]%=Kt;for(n&&(c.unshift(n),++i),u=c.length;c[--u]==0;)c.pop();return t.d=c,t.e=i,dt?et(t,m):t}function Zr(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Po+e)}function Kr(e){var t,n,r,i=e.length-1,a="",l=e[0];if(i>0){for(a+=l,t=1;t<i;t++)r=e[t]+"",n=ot-r.length,n&&(a+=Pa(n)),a+=r;l=e[t],r=l+"",n=ot-r.length,n&&(a+=Pa(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}var Ui=(function(){function e(r,i){var a,l=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+l,r[u]=a%Kt|0,l=a/Kt|0;return l&&r.unshift(l),r}function t(r,i,a,l){var u,c;if(a!=l)c=a>l?1:-1;else for(u=c=0;u<a;u++)if(r[u]!=i[u]){c=r[u]>i[u]?1:-1;break}return c}function n(r,i,a){for(var l=0;a--;)r[a]-=l,l=r[a]<i[a]?1:0,r[a]=l*Kt+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,l){var u,c,d,h,m,g,_,T,w,E,C,O,P,R,N,D,k,H,K=r.constructor,ae=r.s==i.s?1:-1,Y=r.d,W=i.d;if(!r.s)return new K(r);if(!i.s)throw Error(wr+"Division by zero");for(c=r.e-i.e,k=W.length,N=Y.length,_=new K(ae),T=_.d=[],d=0;W[d]==(Y[d]||0);)++d;if(W[d]>(Y[d]||0)&&--c,a==null?O=a=K.precision:l?O=a+(Pt(r)-Pt(i))+1:O=a,O<0)return new K(0);if(O=O/ot+2|0,d=0,k==1)for(h=0,W=W[0],O++;(d<N||h)&&O--;d++)P=h*Kt+(Y[d]||0),T[d]=P/W|0,h=P%W|0;else{for(h=Kt/(W[0]+1)|0,h>1&&(W=e(W,h),Y=e(Y,h),k=W.length,N=Y.length),R=k,w=Y.slice(0,k),E=w.length;E<k;)w[E++]=0;H=W.slice(),H.unshift(0),D=W[0],W[1]>=Kt/2&&++D;do h=0,u=t(W,w,k,E),u<0?(C=w[0],k!=E&&(C=C*Kt+(w[1]||0)),h=C/D|0,h>1?(h>=Kt&&(h=Kt-1),m=e(W,h),g=m.length,E=w.length,u=t(m,w,g,E),u==1&&(h--,n(m,k<g?H:W,g))):(h==0&&(u=h=1),m=W.slice()),g=m.length,g<E&&m.unshift(0),n(w,m,E),u==-1&&(E=w.length,u=t(W,w,k,E),u<1&&(h++,n(w,k<E?H:W,E))),E=w.length):u===0&&(h++,w=[0]),T[d++]=h,u&&w[0]?w[E++]=Y[R]||0:(w=[Y[R]],E=1);while((R++<N||w[0]!==void 0)&&O--)}return T[0]||T.shift(),_.e=c,et(_,l?a+Pt(_)+1:a)}})();function Wk(e,t){var n,r,i,a,l,u,c=0,d=0,h=e.constructor,m=h.precision;if(Pt(e)>16)throw Error(cS+Pt(e));if(!e.s)return new h(Xn);for(dt=!1,u=m,l=new h(.03125);e.abs().gte(.1);)e=e.times(l),d+=5;for(r=Math.log(mo(2,d))/Math.LN10*2+5|0,u+=r,n=i=a=new h(Xn),h.precision=u;;){if(i=et(i.times(e),u),n=n.times(++c),l=a.plus(Ui(i,n,u)),Kr(l.d).slice(0,u)===Kr(a.d).slice(0,u)){for(;d--;)a=et(a.times(a),u);return h.precision=m,t==null?(dt=!0,et(a,m)):a}a=l}}function Pt(e){for(var t=e.e*ot,n=e.d[0];n>=10;n/=10)t++;return t}function Dy(e,t,n){if(t>e.LN10.sd())throw dt=!0,n&&(e.precision=n),Error(wr+"LN10 precision limit exceeded");return et(new e(e.LN10),t)}function Pa(e){for(var t="";e--;)t+="0";return t}function rc(e,t){var n,r,i,a,l,u,c,d,h,m=1,g=10,_=e,T=_.d,w=_.constructor,E=w.precision;if(_.s<1)throw Error(wr+(_.s?"NaN":"-Infinity"));if(_.eq(Xn))return new w(0);if(t==null?(dt=!1,d=E):d=t,_.eq(10))return t==null&&(dt=!0),Dy(w,d);if(d+=g,w.precision=d,n=Kr(T),r=n.charAt(0),a=Pt(_),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(e),n=Kr(_.d),r=n.charAt(0),m++;a=Pt(_),r>1?(_=new w("0."+n),a++):_=new w(r+"."+n.slice(1))}else return c=Dy(w,d+2,E).times(a+""),_=rc(new w(r+"."+n.slice(1)),d-g).plus(c),w.precision=E,t==null?(dt=!0,et(_,E)):_;for(u=l=_=Ui(_.minus(Xn),_.plus(Xn),d),h=et(_.times(_),d),i=3;;){if(l=et(l.times(h),d),c=u.plus(Ui(l,new w(i),d)),Kr(c.d).slice(0,d)===Kr(u.d).slice(0,d))return u=u.times(2),a!==0&&(u=u.plus(Dy(w,d+2,E).times(a+""))),u=Ui(u,new w(m),d),w.precision=E,t==null?(dt=!0,et(u,E)):u;u=c,i+=2}}function hO(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=vl(n/ot),e.d=[],r=(n+1)%ot,n<0&&(r+=ot),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=ot;r<i;)e.d.push(+t.slice(r,r+=ot));t=t.slice(r),r=ot-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),dt&&(e.e>Ch||e.e<-Ch))throw Error(cS+n)}else e.s=0,e.e=0,e.d=[0];return e}function et(e,t,n){var r,i,a,l,u,c,d,h,m=e.d;for(l=1,a=m[0];a>=10;a/=10)l++;if(r=t-l,r<0)r+=ot,i=t,d=m[h=0];else{if(h=Math.ceil((r+1)/ot),a=m.length,h>=a)return e;for(d=a=m[h],l=1;a>=10;a/=10)l++;r%=ot,i=r-ot+l}if(n!==void 0&&(a=mo(10,l-i-1),u=d/a%10|0,c=t<0||m[h+1]!==void 0||d%a,c=n<4?(u||c)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(r>0?i>0?d/mo(10,l-i):0:m[h-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return c?(a=Pt(e),m.length=1,t=t-a-1,m[0]=mo(10,(ot-t%ot)%ot),e.e=vl(-t/ot)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=h,a=1,h--):(m.length=h+1,a=mo(10,ot-r),m[h]=i>0?(d/mo(10,l-i)%mo(10,i)|0)*a:0),c)for(;;)if(h==0){(m[0]+=a)==Kt&&(m[0]=1,++e.e);break}else{if(m[h]+=a,m[h]!=Kt)break;m[h--]=0,a=1}for(r=m.length;m[--r]===0;)m.pop();if(dt&&(e.e>Ch||e.e<-Ch))throw Error(cS+Pt(e));return e}function Jk(e,t){var n,r,i,a,l,u,c,d,h,m,g=e.constructor,_=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),dt?et(t,_):t;if(c=e.d,m=t.d,r=t.e,d=e.e,c=c.slice(),l=d-r,l){for(h=l<0,h?(n=c,l=-l,u=m.length):(n=m,r=d,u=c.length),i=Math.max(Math.ceil(_/ot),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=c.length,u=m.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=m[i]){h=c[i]<m[i];break}l=0}for(h&&(n=c,c=m,m=n,t.s=-t.s),u=c.length,i=m.length-u;i>0;--i)c[u++]=0;for(i=m.length;i>l;){if(c[--i]<m[i]){for(a=i;a&&c[--a]===0;)c[a]=Kt-1;--c[a],c[i]+=Kt}c[i]-=m[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,dt?et(t,_):t):new g(0)}function Io(e,t,n){var r,i=Pt(e),a=Kr(e.d),l=a.length;return t?(n&&(r=n-l)>0?a=a.charAt(0)+"."+a.slice(1)+Pa(r):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Pa(-i-1)+a,n&&(r=n-l)>0&&(a+=Pa(r))):i>=l?(a+=Pa(i+1-l),n&&(r=n-i-1)>0&&(a=a+"."+Pa(r))):((r=i+1)<l&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(a+="."),a+=Pa(r))),e.s<0?"-"+a:a}function pO(e,t){if(e.length>t)return e.length=t,!0}function Xk(e){var t,n,r;function i(a){var l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,a instanceof i){l.s=a.s,l.e=a.e,l.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Po+a);if(a>0)l.s=1;else if(a<0)a=-a,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(a===~~a&&a<1e7){l.e=0,l.d=[a];return}return hO(l,a.toString())}else if(typeof a!="string")throw Error(Po+a);if(a.charCodeAt(0)===45?(a=a.slice(1),l.s=-1):l.s=1,BZ.test(a))hO(l,a);else throw Error(Po+a)}if(i.prototype=de,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Xk,i.config=i.set=$Z,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function $Z(e){if(!e||typeof e!="object")throw Error(wr+"Object expected");var t,n,r,i=["precision",1,ml,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(vl(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Po+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Po+n+": "+r);return this}var fS=Xk(jZ);Xn=new fS(1);const Ke=fS;var FZ=e=>e,Qk={},Zk=e=>e===Qk,mO=e=>function t(){return arguments.length===0||arguments.length===1&&Zk(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},e2=(e,t)=>e===1?t:mO(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(l=>l!==Qk).length;return a>=e?t(...r):e2(e-a,mO(function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];var d=r.map(h=>Zk(h)?u.shift():h);return t(...d,...u)}))}),HZ=e=>e2(e.length,e),bb=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},GZ=HZ((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),VZ=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return FZ;var i=n.reverse(),a=i[0],l=i.slice(1);return function(){return l.reduce((u,c)=>c(u),a(...arguments))}},_b=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function t2(e){var t;return e===0?t=1:t=Math.floor(new Ke(e).abs().log(10).toNumber())+1,t}function n2(e,t,n){for(var r=new Ke(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var r2=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},i2=(e,t,n)=>{if(e.lte(0))return new Ke(0);var r=t2(e.toNumber()),i=new Ke(10).pow(r),a=e.div(i),l=r!==1?.05:.1,u=new Ke(Math.ceil(a.div(l).toNumber())).add(n).mul(l),c=u.mul(i);return t?new Ke(c.toNumber()):new Ke(Math.ceil(c.toNumber()))},KZ=(e,t,n)=>{var r=new Ke(1),i=new Ke(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Ke(10).pow(t2(e)-1),i=new Ke(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Ke(Math.floor(e)))}else e===0?i=new Ke(Math.floor((t-1)/2)):n||(i=new Ke(Math.floor(e)));var l=Math.floor((t-1)/2),u=VZ(GZ(c=>i.add(new Ke(c-l).mul(r)).toNumber()),bb);return u(0,t)},a2=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Ke(0),tickMin:new Ke(0),tickMax:new Ke(0)};var l=i2(new Ke(n).sub(t).div(r-1),i,a),u;t<=0&&n>=0?u=new Ke(0):(u=new Ke(t).add(n).div(2),u=u.sub(new Ke(u).mod(l)));var c=Math.ceil(u.sub(t).div(l).toNumber()),d=Math.ceil(new Ke(n).sub(u).div(l).toNumber()),h=c+d+1;return h>r?a2(t,n,r,i,a+1):(h<r&&(d=n>0?d+(r-h):d,c=n>0?c:c+(r-h)),{step:l,tickMin:u.sub(new Ke(c).mul(l)),tickMax:u.add(new Ke(d).mul(l))})},YZ=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[u,c]=r2([n,r]);if(u===-1/0||c===1/0){var d=c===1/0?[u,...bb(0,i-1).map(()=>1/0)]:[...bb(0,i-1).map(()=>-1/0),c];return n>r?_b(d):d}if(u===c)return KZ(u,i,a);var{step:h,tickMin:m,tickMax:g}=a2(u,c,l,a,0),_=n2(m,g.add(new Ke(.1).mul(h)),h);return n>r?_b(_):_},WZ=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=r2([r,i]);if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(n,2),d=i2(new Ke(u).sub(l).div(c-1),a,0),h=[...n2(new Ke(l),new Ke(u),d),u];return a===!1&&(h=h.map(m=>Math.round(m))),r>i?_b(h):h},JZ=e=>e.rootProps.barCategoryGap,Ap=e=>e.rootProps.stackOffset,o2=e=>e.rootProps.reverseStackOrder,dS=e=>e.options.chartName,hS=e=>e.rootProps.syncId,s2=e=>e.rootProps.syncMethod,pS=e=>e.options.eventEmitter,pn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Oi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Wn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},xp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},XZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Oi.angleAxisId,includeHidden:!1,name:void 0,reversed:Oi.reversed,scale:Oi.scale,tick:Oi.tick,tickCount:void 0,ticks:void 0,type:Oi.type,unit:void 0},QZ={allowDataOverflow:Wn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wn.scale,tick:Wn.tick,tickCount:Wn.tickCount,ticks:void 0,type:Wn.type,unit:void 0},ZZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Oi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Oi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Oi.scale,tick:Oi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},eee={allowDataOverflow:Wn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wn.scale,tick:Wn.tick,tickCount:Wn.tickCount,ticks:void 0,type:"category",unit:void 0},mS=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?ZZ:XZ,vS=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?eee:QZ,Cp=e=>e.polarOptions,gS=Q([ea,ta,ln],WJ),l2=Q([Cp,gS],(e,t)=>{if(e!=null)return Ua(e.innerRadius,t,0)}),u2=Q([Cp,gS],(e,t)=>{if(e!=null)return Ua(e.outerRadius,t,t*.8)}),tee=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},c2=Q([Cp],tee);Q([mS,c2],xp);var f2=Q([gS,l2,u2],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});Q([vS,f2],xp);var d2=Q([lt,Cp,l2,u2,ea,ta],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:l,cy:u,startAngle:c,endAngle:d}=t;return{cx:Ua(l,i,i/2),cy:Ua(u,a,a/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:d,clockWise:!1}}}),Ut=(e,t)=>t,Mp=(e,t,n)=>n;function h2(e){return e?.id}function p2(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,l=new Map;return e.forEach(u=>{var c,d=(c=u.data)!==null&&c!==void 0?c:r;if(!(d==null||d.length===0)){var h=h2(u);d.forEach((m,g)=>{var _=a==null||i?g:String(mn(m,a,null)),T=mn(m,u.dataKey,0),w;l.has(_)?w=l.get(_):w={},Object.assign(w,{[h]:T}),l.set(_,w)})}}),Array.from(l.values())}function yS(e){return e.stackId!=null&&e.dataKey!=null}var Pp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Op(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function nee(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var qt=e=>{var t=lt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},gl=e=>e.tooltip.settings.axisId;function vO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vO(Object(n),!0).forEach(function(r){ree(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ree(e,t,n){return(t=iee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iee(e){var t=aee(e,"string");return typeof t=="symbol"?t:t+""}function aee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sb=[0,"auto"],Ht={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},m2=(e,t)=>e.cartesianAxis.xAxis[t],ti=(e,t)=>{var n=m2(e,t);return n??Ht},Gt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Sb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:yc},v2=(e,t)=>e.cartesianAxis.yAxis[t],ni=(e,t)=>{var n=v2(e,t);return n??Gt},oee={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},bS=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??oee},An=(e,t,n)=>{switch(t){case"xAxis":return ti(e,n);case"yAxis":return ni(e,n);case"zAxis":return bS(e,n);case"angleAxis":return mS(e,n);case"radiusAxis":return vS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},see=(e,t,n)=>{switch(t){case"xAxis":return ti(e,n);case"yAxis":return ni(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Ac=(e,t,n)=>{switch(t){case"xAxis":return ti(e,n);case"yAxis":return ni(e,n);case"angleAxis":return mS(e,n);case"radiusAxis":return vS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},g2=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function y2(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var b2=e=>e.graphicalItems.cartesianItems,lee=Q([Ut,Mp],y2),_2=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),xc=Q([b2,An,lee],_2,{memoizeOptions:{resultEqualityCheck:Op}}),S2=Q([xc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(yS)),T2=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),uee=Q([xc],T2),E2=e=>e.map(t=>t.data).filter(Boolean).flat(1),cee=Q([xc],E2,{memoizeOptions:{resultEqualityCheck:Op}}),w2=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},_S=Q([cee,uS],w2),A2=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:mn(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:mn(i,r)}))):e.map(r=>({value:r})),Np=Q([_S,An,xc],A2);function x2(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Dd(e){if(Tr(e)||e instanceof Date){var t=Number(e);if(vt(t))return t}}function gO(e){if(Array.isArray(e)){var t=[Dd(e[0]),Dd(e[1])];return qa(t)?t:void 0}var n=Dd(e);if(n!=null)return[n,n]}function Wi(e){return e.map(Dd).filter(tY)}function fee(e,t,n){return!n||typeof t!="number"||Sr(t)?[]:n.length?Wi(n.flatMap(r=>{var i=mn(e,r.dataKey),a,l;if(Array.isArray(i)?[a,l]=i:a=l=i,!(!vt(a)||!vt(l)))return[t-a,t+l]})):[]}var zt=e=>{var t=qt(e),n=gl(e);return Ac(e,t,n)},Cc=Q([zt],e=>e?.dataKey),dee=Q([S2,uS,zt],p2),C2=(e,t,n,r)=>{var i={},a=t.reduce((l,u)=>(u.stackId==null||(l[u.stackId]==null&&(l[u.stackId]=[]),l[u.stackId].push(u)),l),i);return Object.fromEntries(Object.entries(a).map(l=>{var[u,c]=l,d=r?[...c].reverse():c,h=d.map(h2);return[u,{stackedData:C7(e,h,n),graphicalItems:d}]}))},hee=Q([dee,S2,Ap,o2],C2),M2=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var l=O7(e,i,a);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},pee=Q([An],e=>e.allowDataOverflow),SS=e=>{var t;if(e==null||!("domain"in e))return Sb;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Wi(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Sb},P2=Q([An],SS),O2=Q([P2,pee],Vk),mee=Q([hee,Ga,Ut,O2],M2,{memoizeOptions:{resultEqualityCheck:Pp}}),TS=e=>e.errorBars,vee=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>x2(n,r)),Ph=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),l=Math.min(...a),u=Math.max(...a);return[l,u]}},N2=(e,t,n,r,i)=>{var a,l;if(n.length>0&&e.forEach(u=>{n.forEach(c=>{var d,h,m=(d=r[c.id])===null||d===void 0?void 0:d.filter(C=>x2(i,C)),g=mn(u,(h=t.dataKey)!==null&&h!==void 0?h:c.dataKey),_=fee(u,g,m);if(_.length>=2){var T=Math.min(..._),w=Math.max(..._);(a==null||T<a)&&(a=T),(l==null||w>l)&&(l=w)}var E=gO(g);E!=null&&(a=a==null?E[0]:Math.min(a,E[0]),l=l==null?E[1]:Math.max(l,E[1]))})}),t?.dataKey!=null&&e.forEach(u=>{var c=gO(mn(u,t.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),l=l==null?c[1]:Math.max(l,c[1]))}),vt(a)&&vt(l))return[a,l]},gee=Q([_S,An,uee,TS,Ut],N2,{memoizeOptions:{resultEqualityCheck:Pp}});function yee(e){var{value:t}=e;if(Tr(t)||t instanceof Date)return t}var bee=(e,t,n)=>{var r=e.map(yee).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&BD(r))?fk(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},I2=e=>e.referenceElements.dots,yl=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),_ee=Q([I2,Ut,Mp],yl),D2=e=>e.referenceElements.areas,See=Q([D2,Ut,Mp],yl),R2=e=>e.referenceElements.lines,Tee=Q([R2,Ut,Mp],yl),k2=(e,t)=>{var n=Wi(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Eee=Q(_ee,Ut,k2),L2=(e,t)=>{var n=Wi(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},wee=Q([See,Ut],L2);function Aee(e){var t;if(e.x!=null)return Wi([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Wi(n)}function xee(e){var t;if(e.y!=null)return Wi([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Wi(n)}var U2=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?Aee(r):xee(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Cee=Q([Tee,Ut],U2),Mee=Q(Eee,Cee,wee,(e,t,n)=>Ph(e,n,t)),q2=(e,t,n,r,i,a,l,u)=>{if(n!=null)return n;var c=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",d=c?Ph(r,a,i):Ph(a,i);return zZ(t,d,e.allowDataOverflow)},Pee=Q([An,P2,O2,mee,gee,Mee,lt,Ut],q2,{memoizeOptions:{resultEqualityCheck:Pp}}),Oee=[0,1],z2=(e,t,n,r,i,a,l)=>{if(!((e==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:c}=e,d=$a(t,a);if(d&&u==null){var h;return fk(0,(h=n?.length)!==null&&h!==void 0?h:0)}return c==="category"?bee(r,e,d):i==="expand"?Oee:l}},ES=Q([An,lt,_S,Np,Ap,Ut,Pee],z2),j2=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:l}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof a=="string"){var u="scale".concat(hc(a));return u in Iu?u:"point"}}},Mc=Q([An,lt,g2,dS,Ut],j2);function Nee(e){if(e!=null){if(e in Iu)return Iu[e]();var t="scale".concat(hc(e));if(t in Iu)return Iu[t]()}}function wS(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=Nee(t);if(i!=null){var a=i.domain(n).range(r);return E7(a),a}}}var B2=(e,t,n)=>{var r=SS(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&qa(e))return YZ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&qa(e))return WZ(e,t.tickCount,t.allowDecimals)}},AS=Q([ES,Ac,Mc],B2),$2=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&qa(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],l=t[1],u=n[n.length-1];return[Math.min(i,a),Math.max(l,u)]}return t},Iee=Q([An,ES,AS,Ut],$2),Dee=Q(Np,An,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Wi(e.map(u=>u.value))).sort((u,c)=>u-c);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var l=r[a+1]-r[a];n=Math.min(n,l)}return n/i}}),F2=Q(Dee,lt,JZ,ln,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!vt(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var l=Ua(n,e*a),u=e*a/2;return u-l-(u-l)/a*l}return 0}),Ree=(e,t)=>{var n=ti(e,t);return n==null||typeof n.padding!="string"?0:F2(e,"xAxis",t,n.padding)},kee=(e,t)=>{var n=ni(e,t);return n==null||typeof n.padding!="string"?0:F2(e,"yAxis",t,n.padding)},Lee=Q(ti,Ree,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),Uee=Q(ni,kee,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),qee=Q([ln,Lee,hp,dp,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),zee=Q([ln,lt,Uee,hp,dp,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:l}=i;return a?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Pc=(e,t,n,r)=>{var i;switch(t){case"xAxis":return qee(e,n,r);case"yAxis":return zee(e,n,r);case"zAxis":return(i=bS(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return c2(e);case"radiusAxis":return f2(e,n);default:return}},H2=Q([An,Pc],xp),za=Q([An,Mc,Iee,H2],wS);Q([xc,TS,Ut],vee);function G2(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Ip=(e,t)=>t,Dp=(e,t,n)=>n,jee=Q(cp,Ip,Dp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(G2)),Bee=Q(fp,Ip,Dp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(G2)),V2=(e,t)=>({width:e.width,height:t.height}),$ee=(e,t)=>{var n=typeof t.width=="number"?t.width:yc;return{width:n,height:e.height}},Fee=Q(ln,ti,V2),Hee=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Gee=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Vee=Q(ta,ln,jee,Ip,Dp,(e,t,n,r,i)=>{var a={},l;return n.forEach(u=>{var c=V2(t,u);l==null&&(l=Hee(t,r,e));var d=r==="top"&&!i||r==="bottom"&&i;a[u.id]=l-Number(d)*c.height,l+=(d?-1:1)*c.height}),a}),Kee=Q(ea,ln,Bee,Ip,Dp,(e,t,n,r,i)=>{var a={},l;return n.forEach(u=>{var c=$ee(t,u);l==null&&(l=Gee(t,r,e));var d=r==="left"&&!i||r==="right"&&i;a[u.id]=l-Number(d)*c.width,l+=(d?-1:1)*c.width}),a}),Yee=(e,t)=>{var n=ti(e,t);if(n!=null)return Vee(e,n.orientation,n.mirror)},Wee=Q([ln,ti,Yee,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),Jee=(e,t)=>{var n=ni(e,t);if(n!=null)return Kee(e,n.orientation,n.mirror)},Xee=Q([ln,ni,Jee,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Qee=Q(ln,ni,(e,t)=>{var n=typeof t.width=="number"?t.width:yc;return{width:n,height:e.height}}),K2=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:l}=n,u=$a(e,r),c=t.map(d=>d.value);if(l&&u&&a==="category"&&i&&BD(c))return c}},xS=Q([lt,Np,An,Ut],K2),Y2=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,l=$a(e,r);if(l&&(i==="number"||a!=="auto"))return t.map(u=>u.value)}},CS=Q([lt,Np,Ac,Ut],Y2),yO=Q([lt,see,Mc,za,xS,CS,Pc,AS,Ut],(e,t,n,r,i,a,l,u,c)=>{if(t!=null){var d=$a(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:u,range:l,realScaleType:n,scale:r}}}),Zee=(e,t,n,r,i,a,l,u,c)=>{if(!(t==null||r==null)){var d=$a(e,c),{type:h,ticks:m,tickCount:g}=t,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,T=h==="category"&&r.bandwidth?r.bandwidth()/_:0;T=c==="angleAxis"&&a!=null&&a.length>=2?gr(a[0]-a[1])*2*T:T;var w=m||i;if(w){var E=w.map((C,O)=>{var P=l?l.indexOf(C):C;return{index:O,coordinate:r(P)+T,value:C,offset:T}});return E.filter(C=>vt(C.coordinate))}return d&&u?u.map((C,O)=>({coordinate:r(C)+T,value:C,index:O,offset:T})).filter(C=>vt(C.coordinate)):r.ticks?r.ticks(g).map(C=>({coordinate:r(C)+T,value:C,offset:T})):r.domain().map((C,O)=>({coordinate:r(C)+T,value:l?l[C]:C,index:O,offset:T}))}},W2=Q([lt,Ac,Mc,za,AS,Pc,xS,CS,Ut],Zee),ete=(e,t,n,r,i,a,l)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=$a(e,l),{tickCount:c}=t,d=0;return d=l==="angleAxis"&&r?.length>=2?gr(r[0]-r[1])*2*d:d,u&&a?a.map((h,m)=>({coordinate:n(h)+d,value:h,index:m,offset:d})):n.ticks?n.ticks(c).map(h=>({coordinate:n(h)+d,value:h,offset:d})):n.domain().map((h,m)=>({coordinate:n(h)+d,value:i?i[h]:h,index:m,offset:d}))}},J2=Q([lt,Ac,za,Pc,xS,CS,Ut],ete),X2=Q(An,za,(e,t)=>{if(!(e==null||t==null))return Mh(Mh({},e),{},{scale:t})}),tte=Q([An,Mc,ES,H2],wS);Q((e,t,n)=>bS(e,n),tte,(e,t)=>{if(!(e==null||t==null))return Mh(Mh({},e),{},{scale:t})});var nte=Q([lt,cp,fp],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Q2=e=>e.options.defaultTooltipEventType,Z2=e=>e.options.validateTooltipEventTypes;function eL(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function MS(e,t){var n=Q2(e),r=Z2(e);return eL(t,n,r)}function rte(e){return ve(t=>MS(t,e))}var tL=(e,t)=>{var n,r=Number(t);if(!(Sr(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},ite=e=>e.tooltip.settings,Ia={active:!1,index:null,dataKey:void 0,coordinate:void 0},ate={itemInteraction:{click:Ia,hover:Ia},axisInteraction:{click:Ia,hover:Ia},keyboardInteraction:Ia,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},nL=jn({name:"tooltip",initialState:ate,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:ft()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Rr(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:ft()},removeTooltipEntrySettings:{reducer(e,t){var n=Rr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:ft()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:ote,replaceTooltipEntrySettings:ste,removeTooltipEntrySettings:lte,setTooltipSettingsState:ute,setActiveMouseOverItemIndex:cte,mouseLeaveItem:Zle,mouseLeaveChart:rL,setActiveClickItemIndex:eue,setMouseOverAxisIndex:iL,setMouseClickAxisIndex:fte,setSyncInteraction:Tb,setKeyboardInteraction:Eb}=nL.actions,dte=nL.reducer;function bO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bO(Object(n),!0).forEach(function(r){hte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hte(e,t,n){return(t=pte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pte(e){var t=mte(e,"string");return typeof t=="symbol"?t:t+""}function mte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vte(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function gte(e){return e.index!=null}var aL=(e,t,n,r)=>{if(t==null)return Ia;var i=vte(e,t,n);if(i==null)return Ia;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(gte(i)){if(a)return gd(gd({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return gd(gd({},Ia),{},{coordinate:i.coordinate})};function yte(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function bte(e,t){var n=yte(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),l=Math.max(r,i);return n>=a&&n<=l}function _te(e,t,n){if(n==null||t==null)return!0;var r=mn(e,t);return r==null||!qa(n)?!0:bte(r,n)}var PS=(e,t,n,r)=>{var i=e?.index;if(i==null)return null;var a=Number(i);if(!vt(a))return i;var l=0,u=1/0;t.length>0&&(u=t.length-1);var c=Math.max(l,Math.min(a,u)),d=t[c];return d==null||_te(d,n,r)?String(c):null},oL=(e,t,n,r,i,a,l,u)=>{if(!(a==null||u==null)){var c=l[0],d=c==null?void 0:u(c.positions,a);if(d!=null)return d;var h=i?.[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},sL=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var l;return((l=a.settings)===null||l===void 0?void 0:l.dataKey)===i})},Oc=e=>e.options.tooltipPayloadSearcher,bl=e=>e.tooltip;function _O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_O(Object(n),!0).forEach(function(r){Ste(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ste(e,t,n){return(t=Tte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tte(e){var t=Ete(e,"string");return typeof t=="symbol"?t:t+""}function Ete(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wte(e,t){return e??t}var lL=(e,t,n,r,i,a,l)=>{if(!(t==null||a==null)){var{chartData:u,computedData:c,dataStartIndex:d,dataEndIndex:h}=n,m=[];return e.reduce((g,_)=>{var T,{dataDefinedOnItem:w,settings:E}=_,C=wte(w,u),O=Array.isArray(C)?LR(C,d,h):C,P=(T=E?.dataKey)!==null&&T!==void 0?T:r,R=E?.nameKey,N;if(r&&Array.isArray(O)&&!Array.isArray(O[0])&&l==="axis"?N=$D(O,r,i):N=a(O,t,c,R),Array.isArray(N))N.forEach(k=>{var H=SO(SO({},E),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});g.push($M({tooltipEntrySettings:H,dataKey:k.dataKey,payload:k.payload,value:mn(k.payload,k.dataKey),name:k.name}))});else{var D;g.push($M({tooltipEntrySettings:E,dataKey:P,payload:N,value:mn(N,P),name:(D=mn(N,R))!==null&&D!==void 0?D:E?.name}))}return g},m)}},OS=Q([zt,lt,g2,dS,qt],j2),Ate=Q([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),xte=Q([qt,gl],y2),Nc=Q([Ate,zt,xte],_2,{memoizeOptions:{resultEqualityCheck:Op}}),Cte=Q([Nc],e=>e.filter(yS)),Mte=Q([Nc],E2,{memoizeOptions:{resultEqualityCheck:Op}}),_l=Q([Mte,Ga],w2),Pte=Q([Cte,Ga,zt],p2),NS=Q([_l,zt,Nc],A2),uL=Q([zt],SS),Ote=Q([zt],e=>e.allowDataOverflow),cL=Q([uL,Ote],Vk),Nte=Q([Nc],e=>e.filter(yS)),Ite=Q([Pte,Nte,Ap,o2],C2),Dte=Q([Ite,Ga,qt,cL],M2),Rte=Q([Nc],T2),kte=Q([_l,zt,Rte,TS,qt],N2,{memoizeOptions:{resultEqualityCheck:Pp}}),Lte=Q([I2,qt,gl],yl),Ute=Q([Lte,qt],k2),qte=Q([D2,qt,gl],yl),zte=Q([qte,qt],L2),jte=Q([R2,qt,gl],yl),Bte=Q([jte,qt],U2),$te=Q([Ute,Bte,zte],Ph),Fte=Q([zt,uL,cL,Dte,kte,$te,lt,qt],q2),Ic=Q([zt,lt,_l,NS,Ap,qt,Fte],z2),Hte=Q([Ic,zt,OS],B2),Gte=Q([zt,Ic,Hte,qt],$2),fL=e=>{var t=qt(e),n=gl(e),r=!1;return Pc(e,t,n,r)},dL=Q([zt,fL],xp),hL=Q([zt,OS,Gte,dL],wS),Vte=Q([lt,NS,zt,qt],K2),Kte=Q([lt,NS,zt,qt],Y2),Yte=(e,t,n,r,i,a,l,u)=>{if(t){var{type:c}=t,d=$a(e,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=c==="category"&&r.bandwidth?r.bandwidth()/h:0;return m=u==="angleAxis"&&i!=null&&i?.length>=2?gr(i[0]-i[1])*2*m:m,d&&l?l.map((g,_)=>({coordinate:r(g)+m,value:g,index:_,offset:m})):r.domain().map((g,_)=>({coordinate:r(g)+m,value:a?a[g]:g,index:_,offset:m}))}}},ra=Q([lt,zt,OS,hL,fL,Vte,Kte,qt],Yte),IS=Q([Q2,Z2,ite],(e,t,n)=>eL(n.shared,e,t)),pL=e=>e.tooltip.settings.trigger,DS=e=>e.tooltip.settings.defaultIndex,Rp=Q([bl,IS,pL,DS],aL),ic=Q([Rp,_l,Cc,Ic],PS),mL=Q([ra,ic],tL),Wte=Q([Rp],e=>{if(e)return e.dataKey}),vL=Q([bl,IS,pL,DS],sL),Jte=Q([ea,ta,lt,ln,ra,DS,vL,Oc],oL),Xte=Q([Rp,Jte],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Qte=Q([Rp],e=>e.active),Zte=Q([vL,ic,Ga,Cc,mL,Oc,IS],lL),ene=Q([Zte],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function TO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TO(Object(n),!0).forEach(function(r){tne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tne(e,t,n){return(t=nne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nne(e){var t=rne(e,"string");return typeof t=="symbol"?t:t+""}function rne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ine=()=>ve(zt),ane=()=>{var e=ine(),t=ve(ra),n=ve(hL);return lh(!e||!n?void 0:EO(EO({},e),{},{scale:n}),t)};function wO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wO(Object(n),!0).forEach(function(r){one(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function one(e,t,n){return(t=sne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sne(e){var t=lne(e,"string");return typeof t=="symbol"?t:t+""}function lne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var une=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},cne=(e,t,n,r)=>{var i=t.find(d=>d&&d.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:l}=r;return Cs(Cs(Cs({},r),on(r.cx,r.cy,l,a)),{},{angle:a,radius:l})}var u=i.coordinate,{angle:c}=r;return Cs(Cs(Cs({},r),on(r.cx,r.cy,u,c)),{},{angle:c,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function fne(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var gL=(e,t,n,r,i)=>{var a,l=-1,u=(a=t?.length)!==null&&a!==void 0?a:0;if(u<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<u;c++){var d=c>0?n[c-1].coordinate:n[u-1].coordinate,h=n[c].coordinate,m=c>=u-1?n[0].coordinate:n[c+1].coordinate,g=void 0;if(gr(h-d)!==gr(m-h)){var _=[];if(gr(m-h)===gr(i[1]-i[0])){g=m;var T=h+i[1]-i[0];_[0]=Math.min(T,(T+d)/2),_[1]=Math.max(T,(T+d)/2)}else{g=d;var w=m+i[1]-i[0];_[0]=Math.min(h,(w+h)/2),_[1]=Math.max(h,(w+h)/2)}var E=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(e>E[0]&&e<=E[1]||e>=_[0]&&e<=_[1]){({index:l}=n[c]);break}}else{var C=Math.min(d,m),O=Math.max(d,m);if(e>(C+h)/2&&e<=(O+h)/2){({index:l}=n[c]);break}}}else if(t){for(var P=0;P<u;P++)if(P===0&&e<=(t[P].coordinate+t[P+1].coordinate)/2||P>0&&P<u-1&&e>(t[P].coordinate+t[P-1].coordinate)/2&&e<=(t[P].coordinate+t[P+1].coordinate)/2||P===u-1&&e>(t[P].coordinate+t[P-1].coordinate)/2){({index:l}=t[P]);break}}return l},dne=()=>ve(dS),RS=(e,t)=>t,yL=(e,t,n)=>n,kS=(e,t,n,r)=>r,hne=Q(ra,e=>tp(e,t=>t.coordinate)),LS=Q([bl,RS,yL,kS],aL),US=Q([LS,_l,Cc,Ic],PS),pne=(e,t,n)=>{if(t!=null){var r=bl(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},bL=Q([bl,RS,yL,kS],sL),Oh=Q([ea,ta,lt,ln,ra,kS,bL,Oc],oL),mne=Q([LS,Oh],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),_L=Q([ra,US],tL),vne=Q([bL,US,Ga,Cc,_L,Oc,RS],lL),gne=Q([LS,US],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),yne=(e,t,n,r,i,a,l)=>{if(!(!e||!n||!r||!i)&&fne(e,l)){var u=N7(e,t),c=gL(u,a,i,n,r),d=une(t,i,c,e);return{activeIndex:String(c),activeCoordinate:d}}},bne=(e,t,n,r,i,a,l)=>{if(!(!e||!r||!i||!a||!n)){var u=eX(e,n);if(u){var c=I7(u,t),d=gL(c,l,a,r,i),h=cne(t,a,d,u);return{activeIndex:String(d),activeCoordinate:h}}}},_ne=(e,t,n,r,i,a,l,u)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?yne(e,t,r,i,a,l,u):bne(e,t,n,r,i,a,l)},Sne=Q(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),Tne=Q(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(pn)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:nee}});function AO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AO(Object(n),!0).forEach(function(r){Ene(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ene(e,t,n){return(t=wne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wne(e){var t=Ane(e,"string");return typeof t=="symbol"?t:t+""}function Ane(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xne={},Cne={zIndexMap:Object.values(pn).reduce((e,t)=>xO(xO({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),xne)},Mne=new Set(Object.values(pn));function Pne(e){return Mne.has(e)}var SL=jn({name:"zIndex",initialState:Cne,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:ft()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!Pne(n)&&delete e.zIndexMap[n])},prepare:ft()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:ft()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:ft()}}}),{registerZIndexPortal:One,unregisterZIndexPortal:Nne,registerZIndexPortalId:Ine,unregisterZIndexPortalId:Dne}=SL.actions,Rne=SL.reducer;function ri(e){var{zIndex:t,children:n}=e,r=dW(),i=r&&t!==void 0&&t!==0,a=wn(),l=Tt();A.useLayoutEffect(()=>i?(l(One({zIndex:t})),()=>{l(Nne({zIndex:t}))}):pc,[l,t,i]);var u=ve(d=>Sne(d,t,a));if(!i)return n;if(!u)return null;var c=document.getElementById(u);return c?qb.createPortal(n,c):null}function wb(){return wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wb.apply(null,arguments)}function CO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(n),!0).forEach(function(r){kne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kne(e,t,n){return(t=Lne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lne(e){var t=Une(e,"string");return typeof t=="symbol"?t:t+""}function Une(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qne(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return A.isValidElement(t)?A.cloneElement(t,r):A.createElement(n,r)}function zne(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:l,layout:u,cursor:c,tooltipEventType:d,chartName:h}=e,m=n,g=r,_=i;if(!c||!m||h!=="ScatterChart"&&d!=="axis")return null;var T,w,E;if(h==="ScatterChart")T=m,w=mJ,E=pn.cursorLine;else if(h==="BarChart")T=vJ(u,m,a,l),w=sk,E=pn.cursorRectangle;else if(u==="radial"&&HD(m)){var{cx:C,cy:O,radius:P,startAngle:R,endAngle:N}=lk(m);T={cx:C,cy:O,startAngle:R,endAngle:N,innerRadius:P,outerRadius:P},w=ck,E=pn.cursorLine}else T={points:iX(u,m,a)},w=nk,E=pn.cursorLine;var D=typeof c=="object"&&"className"in c?c.className:void 0,k=yd(yd(yd(yd({stroke:"#ccc",pointerEvents:"none"},a),T),Jh(c)),{},{payload:g,payloadIndex:_,className:Ye("recharts-tooltip-cursor",D)});return A.createElement(ri,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:E},A.createElement(qne,{cursor:c,cursorComp:w,cursorProps:k}))}function jne(e){var t=ane(),n=VR(),r=pp(),i=dne();return t==null||n==null||r==null||i==null?null:A.createElement(zne,wb({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var TL=A.createContext(null),Bne=()=>A.useContext(TL),Ry={exports:{}},MO;function $ne(){return MO||(MO=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function a(c,d,h,m,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var _=new i(h,m||c,g),T=n?n+d:d;return c._events[T]?c._events[T].fn?c._events[T]=[c._events[T],_]:c._events[T].push(_):(c._events[T]=_,c._eventsCount++),c}function l(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)t.call(h,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},u.prototype.listeners=function(d){var h=n?n+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,_=m.length,T=new Array(_);g<_;g++)T[g]=m[g].fn;return T},u.prototype.listenerCount=function(d){var h=n?n+d:d,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(d,h,m,g,_,T){var w=n?n+d:d;if(!this._events[w])return!1;var E=this._events[w],C=arguments.length,O,P;if(E.fn){switch(E.once&&this.removeListener(d,E.fn,void 0,!0),C){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,h),!0;case 3:return E.fn.call(E.context,h,m),!0;case 4:return E.fn.call(E.context,h,m,g),!0;case 5:return E.fn.call(E.context,h,m,g,_),!0;case 6:return E.fn.call(E.context,h,m,g,_,T),!0}for(P=1,O=new Array(C-1);P<C;P++)O[P-1]=arguments[P];E.fn.apply(E.context,O)}else{var R=E.length,N;for(P=0;P<R;P++)switch(E[P].once&&this.removeListener(d,E[P].fn,void 0,!0),C){case 1:E[P].fn.call(E[P].context);break;case 2:E[P].fn.call(E[P].context,h);break;case 3:E[P].fn.call(E[P].context,h,m);break;case 4:E[P].fn.call(E[P].context,h,m,g);break;default:if(!O)for(N=1,O=new Array(C-1);N<C;N++)O[N-1]=arguments[N];E[P].fn.apply(E[P].context,O)}}return!0},u.prototype.on=function(d,h,m){return a(this,d,h,m,!1)},u.prototype.once=function(d,h,m){return a(this,d,h,m,!0)},u.prototype.removeListener=function(d,h,m,g){var _=n?n+d:d;if(!this._events[_])return this;if(!h)return l(this,_),this;var T=this._events[_];if(T.fn)T.fn===h&&(!g||T.once)&&(!m||T.context===m)&&l(this,_);else{for(var w=0,E=[],C=T.length;w<C;w++)(T[w].fn!==h||g&&!T[w].once||m&&T[w].context!==m)&&E.push(T[w]);E.length?this._events[_]=E.length===1?E[0]:E:l(this,_)}return this},u.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&l(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(Ry)),Ry.exports}var Fne=$ne();const Hne=Ji(Fne);var ac=new Hne,Ab="recharts.syncEvent.tooltip",PO="recharts.syncEvent.brush";function Gne(e,t){if(t){var n=Number.parseInt(t,10);if(!Sr(n))return e?.[n]}}var Vne={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},EL=jn({name:"options",initialState:Vne,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Kne=EL.reducer,{createEventEmitter:Yne}=EL.actions;function Wne(e){return e.tooltip.syncInteraction}var Jne={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},wL=jn({name:"chartData",initialState:Jne,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:OO,setDataStartEndIndexes:Xne,setComputedData:tue}=wL.actions,Qne=wL.reducer,Zne=["x","y"];function NO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ms(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(n),!0).forEach(function(r){ere(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ere(e,t,n){return(t=tre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tre(e){var t=nre(e,"string");return typeof t=="symbol"?t:t+""}function nre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rre(e,t){if(e==null)return{};var n,r,i=ire(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ire(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function are(){var e=ve(hS),t=ve(pS),n=Tt(),r=ve(s2),i=ve(ra),a=pp(),l=bc(),u=ve(c=>c.rootProps.className);A.useEffect(()=>{if(e==null)return pc;var c=(d,h,m)=>{if(t!==m&&e===d){if(r==="index"){var g;if(l&&h!==null&&h!==void 0&&(g=h.payload)!==null&&g!==void 0&&g.coordinate&&h.payload.sourceViewBox){var _=h.payload.coordinate,{x:T,y:w}=_,E=rre(_,Zne),{x:C,y:O,width:P,height:R}=h.payload.sourceViewBox,N=Ms(Ms({},E),{},{x:l.x+(P?(T-C)/P:0)*l.width,y:l.y+(R?(w-O)/R:0)*l.height});n(Ms(Ms({},h),{},{payload:Ms(Ms({},h.payload),{},{coordinate:N})}))}else n(h);return}if(i!=null){var D;if(typeof r=="function"){var k={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},H=r(i,k);D=i[H]}else r==="value"&&(D=i.find(j=>String(j.value)===h.payload.label));var{coordinate:K}=h.payload;if(D==null||h.payload.active===!1||K==null||l==null){n(Tb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:ae,y:Y}=K,W=Math.min(ae,l.x+l.width),ue=Math.min(Y,l.y+l.height),fe={x:a==="horizontal"?D.coordinate:W,y:a==="horizontal"?ue:D.coordinate},ge=Tb({active:h.payload.active,coordinate:fe,dataKey:h.payload.dataKey,index:String(D.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox});n(ge)}}};return ac.on(Ab,c),()=>{ac.off(Ab,c)}},[u,n,t,e,r,i,a,l])}function ore(){var e=ve(hS),t=ve(pS),n=Tt();A.useEffect(()=>{if(e==null)return pc;var r=(i,a,l)=>{t!==l&&e===i&&n(Xne(a))};return ac.on(PO,r),()=>{ac.off(PO,r)}},[n,t,e])}function sre(){var e=Tt();A.useEffect(()=>{e(Yne())},[e]),are(),ore()}function lre(e,t,n,r,i,a){var l=ve(_=>pne(_,e,t)),u=ve(pS),c=ve(hS),d=ve(s2),h=ve(Wne),m=h?.active,g=bc();A.useEffect(()=>{if(!m&&c!=null&&u!=null){var _=Tb({active:a,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:g});ac.emit(Ab,c,_,u)}},[m,n,l,i,r,u,c,d,a,g])}function IO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(n),!0).forEach(function(r){ure(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ure(e,t,n){return(t=cre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cre(e){var t=fre(e,"string");return typeof t=="symbol"?t:t+""}function fre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dre(e){return e.dataKey}function hre(e,t){return A.isValidElement(e)?A.cloneElement(e,t):typeof e=="function"?A.createElement(e,t):A.createElement(KW,t)}var RO=[],pre={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!hl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function mre(e){var t,n,r=sn(e,pre),{active:i,allowEscapeViewBox:a,animationDuration:l,animationEasing:u,content:c,filterNull:d,isAnimationActive:h,offset:m,payloadUniqBy:g,position:_,reverseDirection:T,useTranslate3d:w,wrapperStyle:E,cursor:C,shared:O,trigger:P,defaultIndex:R,portal:N,axisId:D}=r,k=Tt(),H=typeof R=="number"?String(R):R;A.useEffect(()=>{k(ute({shared:O,trigger:P,axisId:D,active:i,defaultIndex:H}))},[k,O,P,D,i,H]);var K=bc(),ae=tk(),Y=rte(O),{activeIndex:W,isActive:ue}=(t=ve(we=>gne(we,Y,P,H)))!==null&&t!==void 0?t:{},fe=ve(we=>vne(we,Y,P,H)),ge=ve(we=>_L(we,Y,P,H)),j=ve(we=>mne(we,Y,P,H)),ee=fe,le=Bne(),V=(n=i??ue)!==null&&n!==void 0?n:!1,[pe,U]=oR([ee,V]),X=Y==="axis"?ge:void 0;lre(Y,P,j,X,W,V);var $=N??le;if($==null||K==null||Y==null)return null;var se=ee??RO;V||(se=RO),d&&se.length&&(se=tR(se.filter(we=>we.value!=null&&(we.hide!==!0||r.includeHidden)),g,dre));var _e=se.length>0,Ee=A.createElement(eJ,{allowEscapeViewBox:a,animationDuration:l,animationEasing:u,isAnimationActive:h,active:V,coordinate:j,hasPayload:_e,offset:m,position:_,reverseDirection:T,useTranslate3d:w,viewBox:K,wrapperStyle:E,lastBoundingBox:pe,innerRef:U,hasPortalFromProps:!!N},hre(c,DO(DO({},r),{},{payload:se,label:X,active:V,activeIndex:W,coordinate:j,accessibilityLayer:ae})));return A.createElement(A.Fragment,null,qb.createPortal(Ee,$),V&&A.createElement(jne,{cursor:C,tooltipEventType:Y,coordinate:j,payload:se,index:W}))}function vre(e,t,n){return(t=gre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gre(e){var t=yre(e,"string");return typeof t=="symbol"?t:t+""}function yre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class bre{constructor(t){vre(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function kO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _re(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kO(Object(n),!0).forEach(function(r){Sre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sre(e,t,n){return(t=Tre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tre(e){var t=Ere(e,"string");return typeof t=="symbol"?t:t+""}function Ere(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wre={cacheSize:2e3,enableCache:!0},AL=_re({},wre),LO=new bre(AL.cacheSize),Are={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},UO="recharts_measurement_span";function xre(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(l,"|").concat(u)}var qO=(e,t)=>{try{var n=document.getElementById(UO);n||(n=document.createElement("span"),n.setAttribute("id",UO),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Are,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},$u=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||hl.isSsr)return{width:0,height:0};if(!AL.enableCache)return qO(t,n);var r=xre(t,n),i=LO.get(r);if(i)return i;var a=qO(t,n);return LO.set(r,a),a},zO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Cre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Mre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,xL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Pre=Object.keys(xL),qs="NaN";function Ore(e,t){return e*xL[t]}class Dn{static parse(t){var n,[,r,i]=(n=Mre.exec(t))!==null&&n!==void 0?n:[];return new Dn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Sr(t)&&(this.unit=""),n!==""&&!Cre.test(n)&&(this.num=NaN,this.unit=""),Pre.includes(n)&&(this.num=Ore(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Dn(NaN,""):new Dn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Dn(NaN,""):new Dn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Dn(NaN,""):new Dn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Dn(NaN,""):new Dn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Sr(this.num)}}function CL(e){if(e.includes(qs))return qs;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=zO.exec(t))!==null&&n!==void 0?n:[],l=Dn.parse(r??""),u=Dn.parse(a??""),c=i==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return qs;t=t.replace(zO,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,h,m,g]=(d=jO.exec(t))!==null&&d!==void 0?d:[],_=Dn.parse(h??""),T=Dn.parse(g??""),w=m==="+"?_.add(T):_.subtract(T);if(w.isNaN())return qs;t=t.replace(jO,w.toString())}return t}var BO=/\(([^()]*)\)/;function Nre(e){for(var t=e,n;(n=BO.exec(t))!=null;){var[,r]=n;t=t.replace(BO,CL(r))}return t}function Ire(e){var t=e.replace(/\s+/g,"");return t=Nre(t),t=CL(t),t}function Dre(e){try{return Ire(e)}catch{return qs}}function ky(e){var t=Dre(e.slice(5,-1));return t===qs?"":t}var Rre=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],kre=["dx","dy","angle","className","breakAll"];function xb(){return xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xb.apply(null,arguments)}function $O(e,t){if(e==null)return{};var n,r,i=Lre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Lre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ML=/[ \f\n\r\t\v\u2028\u2029]+/,PL=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Yt(t)||(n?i=t.toString().split(""):i=t.toString().split(ML));var a=i.map(u=>({word:u,width:$u(u,r).width})),l=n?0:$u("",r).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}};function Ure(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var OL=(e,t,n,r)=>e.reduce((i,a)=>{var{word:l,width:u}=a,c=i[i.length-1];if(c&&u!=null&&(t==null||r||c.width+u+n<Number(t)))c.words.push(l),c.width+=u+n;else{var d={words:[l],width:u};i.push(d)}return i},[]),NL=e=>e.reduce((t,n)=>t.width>n.width?t:n),qre="",FO=(e,t,n,r,i,a,l,u)=>{var c=e.slice(0,t),d=PL({breakAll:n,style:r,children:c+qre});if(!d)return[!1,[]];var h=OL(d.wordsWithComputedWidth,a,l,u),m=h.length>i||NL(h).width>Number(a);return[m,h]},zre=(e,t,n,r,i)=>{var{maxLines:a,children:l,style:u,breakAll:c}=e,d=be(a),h=String(l),m=OL(t,r,n,i);if(!d||i)return m;var g=m.length>a||NL(m).width>Number(r);if(!g)return m;for(var _=0,T=h.length-1,w=0,E;_<=T&&w<=h.length-1;){var C=Math.floor((_+T)/2),O=C-1,[P,R]=FO(h,O,c,u,a,r,n,i),[N]=FO(h,C,c,u,a,r,n,i);if(!P&&!N&&(_=C+1),P&&N&&(T=C-1),!P&&N){E=R;break}w++}return E||m},HO=e=>{var t=Yt(e)?[]:e.toString().split(ML);return[{words:t,width:void 0}]},jre=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:l}=e;if((t||n)&&!hl.isSsr){var u,c,d=PL({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:h,spaceWidth:m}=d;u=h,c=m}else return HO(r);return zre({breakAll:a,children:r,maxLines:l,style:i},u,c,t,!!n)}return HO(r)},IL="#808080",Bre={angle:0,breakAll:!1,capHeight:"0.71em",fill:IL,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},qS=A.forwardRef((e,t)=>{var n=sn(e,Bre),{x:r,y:i,lineHeight:a,capHeight:l,fill:u,scaleToFit:c,textAnchor:d,verticalAnchor:h}=n,m=$O(n,Rre),g=A.useMemo(()=>jre({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:c,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,c,m.style,m.width]),{dx:_,dy:T,angle:w,className:E,breakAll:C}=m,O=$O(m,kre);if(!Tr(r)||!Tr(i)||g.length===0)return null;var P=Number(r)+(be(_)?_:0),R=Number(i)+(be(T)?T:0);if(!vt(P)||!vt(R))return null;var N;switch(h){case"start":N=ky("calc(".concat(l,")"));break;case"middle":N=ky("calc(".concat((g.length-1)/2," * -").concat(a," + (").concat(l," / 2))"));break;default:N=ky("calc(".concat(g.length-1," * -").concat(a,")"));break}var D=[];if(c){var k=g[0].width,{width:H}=m;D.push("scale(".concat(be(H)&&be(k)?H/k:1,")"))}return w&&D.push("rotate(".concat(w,", ").concat(P,", ").concat(R,")")),D.length&&(O.transform=D.join(" ")),A.createElement("text",xb({},vn(O),{ref:t,x:P,y:R,className:Ye("recharts-text",E),textAnchor:d,fill:u.includes("url")?IL:u}),g.map((K,ae)=>{var Y=K.words.join(C?"":" ");return A.createElement("tspan",{x:P,dy:ae===0?N:a,key:"".concat(Y,"-").concat(ae)},Y)}))});qS.displayName="Text";var $re=["labelRef"];function Fre(e,t){if(e==null)return{};var n,r,i=Hre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Hre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function GO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GO(Object(n),!0).forEach(function(r){Gre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gre(e,t,n){return(t=Vre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vre(e){var t=Kre(e,"string");return typeof t=="symbol"?t:t+""}function Kre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ni(){return Ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ni.apply(null,arguments)}var DL=A.createContext(null),RL=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:l,children:u}=e,c=A.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:l}),[t,n,r,i,a,l]);return A.createElement(DL.Provider,{value:c},u)},kL=()=>{var e=A.useContext(DL),t=bc();return e||GR(t)},Yre=A.createContext(null),Wre=()=>{var e=A.useContext(Yre),t=ve(d2);return e||t},Jre=e=>{var{value:t,formatter:n}=e,r=Yt(e.children)?t:e.children;return typeof n=="function"?n(r):r},zS=e=>e!=null&&typeof e=="function",Xre=(e,t)=>{var n=gr(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Qre=(e,t,n,r,i)=>{var{offset:a,className:l}=e,{cx:u,cy:c,innerRadius:d,outerRadius:h,startAngle:m,endAngle:g,clockWise:_}=i,T=(d+h)/2,w=Xre(m,g),E=w>=0?1:-1,C,O;switch(t){case"insideStart":C=m+E*a,O=_;break;case"insideEnd":C=g-E*a,O=!_;break;case"end":C=g+E*a,O=_;break;default:throw new Error("Unsupported position ".concat(t))}O=w<=0?O:!O;var P=on(u,c,T,C),R=on(u,c,T,C+(O?1:-1)*359),N="M".concat(P.x,",").concat(P.y,`
    A`).concat(T,",").concat(T,",0,1,").concat(O?0:1,`,
    `).concat(R.x,",").concat(R.y),D=Yt(e.id)?Gu("recharts-radial-line-"):e.id;return A.createElement("text",Ni({},r,{dominantBaseline:"central",className:Ye("recharts-radial-bar-label",l)}),A.createElement("defs",null,A.createElement("path",{id:D,d:N})),A.createElement("textPath",{xlinkHref:"#".concat(D)},n))},Zre=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:l,startAngle:u,endAngle:c}=e,d=(u+c)/2;if(n==="outside"){var{x:h,y:m}=on(r,i,l+t,d);return{x:h,y:m,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(a+l)/2,{x:_,y:T}=on(r,i,g,d);return{x:_,y:T,textAnchor:"middle",verticalAnchor:"middle"}},Cb=e=>"cx"in e&&be(e.cx),eie=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!Cb(n)&&(a=n);var{x:l,y:u,upperWidth:c,lowerWidth:d,height:h}=t,m=l,g=l+(c-d)/2,_=(m+g)/2,T=(c+d)/2,w=m+c/2,E=h>=0?1:-1,C=E*r,O=E>0?"end":"start",P=E>0?"start":"end",R=c>=0?1:-1,N=R*r,D=R>0?"end":"start",k=R>0?"start":"end";if(i==="top"){var H={x:m+c/2,y:u-C,textAnchor:"middle",verticalAnchor:O};return _t(_t({},H),a?{height:Math.max(u-a.y,0),width:c}:{})}if(i==="bottom"){var K={x:g+d/2,y:u+h+C,textAnchor:"middle",verticalAnchor:P};return _t(_t({},K),a?{height:Math.max(a.y+a.height-(u+h),0),width:d}:{})}if(i==="left"){var ae={x:_-N,y:u+h/2,textAnchor:D,verticalAnchor:"middle"};return _t(_t({},ae),a?{width:Math.max(ae.x-a.x,0),height:h}:{})}if(i==="right"){var Y={x:_+T+N,y:u+h/2,textAnchor:k,verticalAnchor:"middle"};return _t(_t({},Y),a?{width:Math.max(a.x+a.width-Y.x,0),height:h}:{})}var W=a?{width:T,height:h}:{};return i==="insideLeft"?_t({x:_+N,y:u+h/2,textAnchor:k,verticalAnchor:"middle"},W):i==="insideRight"?_t({x:_+T-N,y:u+h/2,textAnchor:D,verticalAnchor:"middle"},W):i==="insideTop"?_t({x:m+c/2,y:u+C,textAnchor:"middle",verticalAnchor:P},W):i==="insideBottom"?_t({x:g+d/2,y:u+h-C,textAnchor:"middle",verticalAnchor:O},W):i==="insideTopLeft"?_t({x:m+N,y:u+C,textAnchor:k,verticalAnchor:P},W):i==="insideTopRight"?_t({x:m+c-N,y:u+C,textAnchor:D,verticalAnchor:P},W):i==="insideBottomLeft"?_t({x:g+N,y:u+h-C,textAnchor:k,verticalAnchor:O},W):i==="insideBottomRight"?_t({x:g+d-N,y:u+h-C,textAnchor:D,verticalAnchor:O},W):i&&typeof i=="object"&&(be(i.x)||Hi(i.x))&&(be(i.y)||Hi(i.y))?_t({x:l+Ua(i.x,T),y:u+Ua(i.y,h),textAnchor:"end",verticalAnchor:"end"},W):_t({x:w,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},W)},tie={angle:0,offset:5,zIndex:pn.label,position:"middle",textBreakAll:!1};function Oa(e){var t=sn(e,tie),{viewBox:n,position:r,value:i,children:a,content:l,className:u="",textBreakAll:c,labelRef:d}=t,h=Wre(),m=kL(),g=r==="center"?m:h??m,_,T,w;if(n==null?_=g:Cb(n)?_=n:_=GR(n),!_||Yt(i)&&Yt(a)&&!A.isValidElement(l)&&typeof l!="function")return null;var E=_t(_t({},t),{},{viewBox:_});if(A.isValidElement(l)){var{labelRef:C}=E,O=Fre(E,$re);return A.cloneElement(l,O)}if(typeof l=="function"){if(T=A.createElement(l,E),A.isValidElement(T))return T}else T=Jre(t);var P=vn(t);if(Cb(_)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Qre(t,r,T,P,_);w=Zre(_,t.offset,t.position)}else w=eie(t,_);return A.createElement(ri,{zIndex:t.zIndex},A.createElement(qS,Ni({ref:d,className:Ye("recharts-label",u)},P,w,{textAnchor:Ure(P.textAnchor)?P.textAnchor:w.textAnchor,breakAll:c}),T))}Oa.displayName="Label";var nie=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?A.createElement(Oa,Ni({key:"label-implicit"},r)):Tr(e)?A.createElement(Oa,Ni({key:"label-implicit",value:e},r)):A.isValidElement(e)?e.type===Oa?A.cloneElement(e,_t({key:"label-implicit"},r)):A.createElement(Oa,Ni({key:"label-implicit",content:e},r)):zS(e)?A.createElement(Oa,Ni({key:"label-implicit",content:e},r)):e&&typeof e=="object"?A.createElement(Oa,Ni({},e,{key:"label-implicit"},r)):null};function LL(e){var{label:t,labelRef:n}=e,r=kL();return nie(t,r,n)||null}var Ly={},Uy={},VO;function rie(){return VO||(VO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(Uy)),Uy}var qy={},KO;function iie(){return KO||(KO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(qy)),qy}var YO;function aie(){return YO||(YO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rie(),n=iie(),r=E_();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(Ly)),Ly}var zy,WO;function oie(){return WO||(WO=1,zy=aie().last),zy}var sie=oie();const lie=Ji(sie);var uie=["valueAccessor"],cie=["dataKey","clockWise","id","textBreakAll","zIndex"];function Nh(){return Nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nh.apply(null,arguments)}function JO(e,t){if(e==null)return{};var n,r,i=fie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var die=e=>Array.isArray(e.value)?lie(e.value):e.value,UL=A.createContext(void 0),hie=UL.Provider,qL=A.createContext(void 0);qL.Provider;function pie(){return A.useContext(UL)}function mie(){return A.useContext(qL)}function Rd(e){var{valueAccessor:t=die}=e,n=JO(e,uie),{dataKey:r,clockWise:i,id:a,textBreakAll:l,zIndex:u}=n,c=JO(n,cie),d=pie(),h=mie(),m=d||h;return!m||!m.length?null:A.createElement(ri,{zIndex:u??pn.label},A.createElement(Fi,{className:"recharts-label-list"},m.map((g,_)=>{var T,w=Yt(r)?t(g,_):mn(g&&g.payload,r),E=Yt(a)?{}:{id:"".concat(a,"-").concat(_)};return A.createElement(Oa,Nh({key:"label-".concat(_)},vn(g),c,E,{fill:(T=n.fill)!==null&&T!==void 0?T:g.fill,parentViewBox:g.parentViewBox,value:w,textBreakAll:l,viewBox:g.viewBox,index:_,zIndex:0}))})))}Rd.displayName="LabelList";function vie(e){var{label:t}=e;return t?t===!0?A.createElement(Rd,{key:"labelList-implicit"}):A.isValidElement(t)||zS(t)?A.createElement(Rd,{key:"labelList-implicit",content:t}):typeof t=="object"?A.createElement(Rd,Nh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Mb(){return Mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mb.apply(null,arguments)}var zL=e=>{var{cx:t,cy:n,r,className:i}=e,a=Ye("recharts-dot",i);return be(t)&&be(n)&&be(r)?A.createElement("circle",Mb({},Jr(e),T_(e),{className:a,cx:t,cy:n,r})):null},gie={radiusAxis:{},angleAxis:{}},jL=jn({name:"polarAxis",initialState:gie,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:nue,removeRadiusAxis:rue,addAngleAxis:iue,removeAngleAxis:aue}=jL.actions,yie=jL.reducer,BL=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,jy={},XO;function bie(){return XO||(XO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(jy)),jy}var By,QO;function _ie(){return QO||(QO=1,By=bie().isPlainObject),By}var Sie=_ie();const Tie=Ji(Sie);function ZO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZO(Object(n),!0).forEach(function(r){Eie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Eie(e,t,n){return(t=wie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wie(e){var t=Aie(e,"string");return typeof t=="symbol"?t:t+""}function Aie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ih(){return Ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ih.apply(null,arguments)}var tN=(e,t,n,r,i)=>{var a=n-r,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+n,",").concat(t),l+="L ".concat(e+n-a/2,",").concat(t+i),l+="L ".concat(e+n-a/2-r,",").concat(t+i),l+="L ".concat(e,",").concat(t," Z"),l},xie={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Cie=e=>{var t=sn(e,xie),{x:n,y:r,upperWidth:i,lowerWidth:a,height:l,className:u}=t,{animationEasing:c,animationDuration:d,animationBegin:h,isUpdateAnimationActive:m}=t,g=A.useRef(null),[_,T]=A.useState(-1),w=A.useRef(i),E=A.useRef(a),C=A.useRef(l),O=A.useRef(n),P=A.useRef(r),R=z_(e,"trapezoid-");if(A.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var fe=g.current.getTotalLength();fe&&T(fe)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||l!==+l||i===0&&a===0||l===0)return null;var N=Ye("recharts-trapezoid",u);if(!m)return A.createElement("g",null,A.createElement("path",Ih({},vn(t),{className:N,d:tN(n,r,i,a,l)})));var D=w.current,k=E.current,H=C.current,K=O.current,ae=P.current,Y="0px ".concat(_===-1?1:_,"px"),W="".concat(_,"px 0px"),ue=rk(["strokeDasharray"],d,c);return A.createElement(q_,{animationId:R,key:R,canBegin:_>0,duration:d,easing:c,isActive:m,begin:h},fe=>{var ge=Ln(D,i,fe),j=Ln(k,a,fe),ee=Ln(H,l,fe),le=Ln(K,n,fe),V=Ln(ae,r,fe);g.current&&(w.current=ge,E.current=j,C.current=ee,O.current=le,P.current=V);var pe=fe>0?{transition:ue,strokeDasharray:W}:{strokeDasharray:Y};return A.createElement("path",Ih({},vn(t),{className:N,d:tN(le,V,ge,j,ee),ref:g,style:eN(eN({},pe),t.style)}))})},Mie=["option","shapeType","propTransformer","activeClassName"];function Pie(e,t){if(e==null)return{};var n,r,i=Oie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Oie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function nN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nN(Object(n),!0).forEach(function(r){Nie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nie(e,t,n){return(t=Iie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iie(e){var t=Die(e,"string");return typeof t=="symbol"?t:t+""}function Die(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rie(e,t){return Dh(Dh({},t),e)}function kie(e,t){return e==="symbols"}function rN(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return A.createElement(sk,n);case"trapezoid":return A.createElement(Cie,n);case"sector":return A.createElement(ck,n);case"symbols":if(kie(t))return A.createElement(S_,n);break;case"curve":return A.createElement(nk,n);default:return null}}function Lie(e){return A.isValidElement(e)?e.props:e}function Uie(e){var{option:t,shapeType:n,propTransformer:r=Rie,activeClassName:i="recharts-active-shape"}=e,a=Pie(e,Mie),l;if(A.isValidElement(t))l=A.cloneElement(t,Dh(Dh({},a),Lie(t)));else if(typeof t=="function")l=t(a);else if(Tie(t)&&typeof t!="boolean"){var u=r(t,a);l=A.createElement(rN,{shapeType:n,elementProps:u})}else{var c=a;l=A.createElement(rN,{shapeType:n,elementProps:c})}return a.isActive?A.createElement(Fi,{className:i},l):l}function qie(e){var{tooltipEntrySettings:t}=e,n=Tt(),r=wn(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(ote(t)):i.current!==t&&n(ste({prev:i.current,next:t})),i.current=t)},[t,n,r]),A.useLayoutEffect(()=>()=>{i.current&&(n(lte(i.current)),i.current=null)},[n]),null}function zie(e){var{legendPayload:t}=e,n=Tt(),r=wn(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(xW(t)):i.current!==t&&n(CW({prev:i.current,next:t})),i.current=t)},[n,r,t]),A.useLayoutEffect(()=>()=>{i.current&&(n(MW(i.current)),i.current=null)},[n]),null}var $y,jie=()=>{var[e]=A.useState(()=>Gu("uid-"));return e},Bie=($y=Uz.useId)!==null&&$y!==void 0?$y:jie;function $L(e,t){var n=Bie();return t||(e?"".concat(e,"-").concat(n):n)}var $ie=A.createContext(void 0),Fie=e=>{var{id:t,type:n,children:r}=e,i=$L("recharts-".concat(n),t);return A.createElement($ie.Provider,{value:i},r(i))},Hie={cartesianItems:[],polarItems:[]},FL=jn({name:"graphicalItems",initialState:Hie,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:ft()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Rr(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:ft()},removeCartesianGraphicalItem:{reducer(e,t){var n=Rr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:ft()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:ft()},removePolarGraphicalItem:{reducer(e,t){var n=Rr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:ft()}}}),{addCartesianGraphicalItem:Gie,replaceCartesianGraphicalItem:Vie,removeCartesianGraphicalItem:Kie,addPolarGraphicalItem:oue,removePolarGraphicalItem:sue}=FL.actions,Yie=FL.reducer,Wie=e=>{var t=Tt(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?t(Gie(e)):n.current!==e&&t(Vie({prev:n.current,next:e})),n.current=e},[t,e]),A.useLayoutEffect(()=>()=>{n.current&&(t(Kie(n.current)),n.current=null)},[t]),null},Jie=A.memo(Wie),Xie=["points"];function iN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iN(Object(n),!0).forEach(function(r){Qie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qie(e,t,n){return(t=Zie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zie(e){var t=eae(e,"string");return typeof t=="symbol"?t:t+""}function eae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rh(){return Rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rh.apply(null,arguments)}function tae(e,t){if(e==null)return{};var n,r,i=nae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function rae(e){var{option:t,dotProps:n,className:r}=e;if(A.isValidElement(t))return A.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Ye(r,typeof t!="boolean"?t.className:""),a=n??{},{points:l}=a,u=tae(a,Xie);return A.createElement(zL,Rh({},u,{className:i}))}function iae(e,t){return e==null?!1:t?!0:e.length===1}function aae(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:l,needClip:u,clipPathId:c,zIndex:d=pn.scatter}=e;if(!iae(t,n))return null;var h=BL(n),m=uK(n),g=t.map((T,w)=>{var E,C,O=Fy(Fy(Fy({r:3},l),m),{},{index:w,cx:(E=T.x)!==null&&E!==void 0?E:void 0,cy:(C=T.y)!==null&&C!==void 0?C:void 0,dataKey:a,value:T.value,payload:T.payload,points:t});return A.createElement(rae,{key:"dot-".concat(w),option:n,dotProps:O,className:i})}),_={};return u&&c!=null&&(_.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(c,")")),A.createElement(ri,{zIndex:d},A.createElement(Fi,Rh({className:r},_),g))}function aN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aN(Object(n),!0).forEach(function(r){oae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oae(e,t,n){return(t=sae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sae(e){var t=lae(e,"string");return typeof t=="symbol"?t:t+""}function lae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uae={xAxis:{},yAxis:{},zAxis:{}},HL=jn({name:"cartesianAxis",initialState:uae,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:ft()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:ft()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:ft()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:ft()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:ft()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:ft()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:ft()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:ft()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:ft()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var l=[...a,r].slice(-3);e.yAxis[n]=oN(oN({},e.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:cae,replaceXAxis:fae,removeXAxis:dae,addYAxis:hae,replaceYAxis:pae,removeYAxis:mae,addZAxis:lue,replaceZAxis:uue,removeZAxis:cue,updateYAxisWidth:vae}=HL.actions,gae=HL.reducer,yae=Q([ln],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),bae=Q([yae,ea,ta],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),jS=()=>ve(bae),_ae=()=>ve(ene);function sN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sN(Object(n),!0).forEach(function(r){Sae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sae(e,t,n){return(t=Tae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tae(e){var t=Eae(e,"string");return typeof t=="symbol"?t:t+""}function Eae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wae=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:l}=e;if(i===!1||t.x==null||t.y==null)return null;var u={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=Hy(Hy(Hy({},u),Jh(i)),T_(i)),d;return A.isValidElement(i)?d=A.cloneElement(i,c):typeof i=="function"?d=i(c):d=A.createElement(zL,c),A.createElement(Fi,{className:"recharts-active-dot",clipPath:l},d)};function Aae(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:l=pn.activeDot}=e,u=ve(ic),c=_ae();if(t==null||c==null)return null;var d=t.find(h=>c.includes(h.payload));return Yt(d)?null:A.createElement(ri,{zIndex:l},A.createElement(wae,{point:d,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var xae={},GL=jn({name:"errorBars",initialState:xae,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:fue,replaceErrorBar:due,removeErrorBar:hue}=GL.actions,Cae=GL.reducer,Mae=["children"];function Pae(e,t){if(e==null)return{};var n,r,i=Oae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Oae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Nae={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Iae=A.createContext(Nae);function Dae(e){var{children:t}=e,n=Pae(e,Mae);return A.createElement(Iae.Provider,{value:n},t)}function VL(e,t){var n,r,i=ve(d=>ti(d,e)),a=ve(d=>ni(d,t)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Ht.allowDataOverflow,u=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Gt.allowDataOverflow,c=l||u;return{needClip:c,needClipX:l,needClipY:u}}function Rae(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=jS(),{needClipX:a,needClipY:l,needClip:u}=VL(t,n);if(!u||!i)return null;var{x:c,y:d,width:h,height:m}=i;return A.createElement("clipPath",{id:"clipPath-".concat(r)},A.createElement("rect",{x:a?c:c-h/2,y:l?d:d-m/2,width:a?h:h*2,height:l?m:m*2}))}var Gy={exports:{}},Vy={};var lN;function kae(){if(lN)return Vy;lN=1;var e=rl();function t(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,l=e.useMemo,u=e.useDebugValue;return Vy.useSyncExternalStoreWithSelector=function(c,d,h,m,g){var _=i(null);if(_.current===null){var T={hasValue:!1,value:null};_.current=T}else T=_.current;_=l(function(){function E(N){if(!C){if(C=!0,O=N,N=m(N),g!==void 0&&T.hasValue){var D=T.value;if(g(D,N))return P=D}return P=N}if(D=P,n(O,N))return D;var k=m(N);return g!==void 0&&g(D,k)?(O=N,D):(O=N,P=k)}var C=!1,O,P,R=h===void 0?null:h;return[function(){return E(d())},R===null?void 0:function(){return E(R())}]},[d,h,m,g]);var w=r(c,_[0],_[1]);return a(function(){T.hasValue=!0,T.value=w},[w]),u(w),w},Vy}var uN;function Lae(){return uN||(uN=1,Gy.exports=kae()),Gy.exports}Lae();function Uae(e){e()}function qae(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Uae(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var cN={notify(){},get:()=>[]};function zae(e,t){let n,r=cN,i=0,a=!1;function l(w){h();const E=r.subscribe(w);let C=!1;return()=>{C||(C=!0,E(),m())}}function u(){r.notify()}function c(){T.onStateChange&&T.onStateChange()}function d(){return a}function h(){i++,n||(n=e.subscribe(c),r=qae())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=cN)}function g(){a||(a=!0,h())}function _(){a&&(a=!1,m())}const T={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:c,isSubscribed:d,trySubscribe:g,tryUnsubscribe:_,getListeners:()=>r};return T}var jae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bae=jae(),$ae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Fae=$ae(),Hae=()=>Bae||Fae?A.useLayoutEffect:A.useEffect,Gae=Hae();function fN(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Vae(e,t){if(fN(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!fN(e[n[i]],t[n[i]]))return!1;return!0}var Kae=Symbol.for("react-redux-context"),Yae=typeof globalThis<"u"?globalThis:{};function Wae(){if(!A.createContext)return{};const e=Yae[Kae]??=new Map;let t=e.get(A.createContext);return t||(t=A.createContext(null),e.set(A.createContext,t)),t}var Jae=Wae();function Xae(e){const{children:t,context:n,serverState:r,store:i}=e,a=A.useMemo(()=>{const c=zae(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),l=A.useMemo(()=>i.getState(),[i]);Gae(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,l]);const u=n||Jae;return A.createElement(u.Provider,{value:a},t)}var Qae=Xae,Zae=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function eoe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function BS(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Zae.has(r)){if(e[r]==null&&t[r]==null)continue;if(!Vae(e[r],t[r]))return!1}else if(!eoe(e[r],t[r]))return!1;return!0}var toe=e=>{var{chartData:t}=e,n=Tt(),r=wn();return A.useEffect(()=>r?()=>{}:(n(OO(t)),()=>{n(OO(void 0))}),[t,n,r]),null},dN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},KL=jn({name:"brush",initialState:dN,reducers:{setBrushSettings(e,t){return t.payload==null?dN:t.payload}}}),{setBrushSettings:pue}=KL.actions,noe=KL.reducer;function hN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hN(Object(n),!0).forEach(function(r){YL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YL(e,t,n){return(t=roe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function roe(e){var t=ioe(e,"string");return typeof t=="symbol"?t:t+""}function ioe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aoe=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return{x:Math.min(n,i),y:Math.min(r,a),width:Math.abs(i-n),height:Math.abs(a-r)}},ooe=e=>{var{x1:t,y1:n,x2:r,y2:i}=e;return aoe({x:t,y:n},{x:r,y:i})};class kp{static create(t){return new kp(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}YL(kp,"EPS",1e-4);var soe=e=>{var t=Object.keys(e).reduce((n,r)=>bd(bd({},n),{},{[r]:kp.create(e[r])}),{});return bd(bd({},t),{},{apply(n){var{bandAware:r,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(n).map(a=>{var[l,u]=a;return[l,t[l].apply(u,{bandAware:r,position:i})]}))},isInRange(n){return Object.keys(n).every(r=>t[r].isInRange(n[r]))}})};function loe(e){return(e%180+180)%180}var uoe=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=loe(i),l=a*Math.PI/180,u=Math.atan(r/n),c=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(c)},coe={dots:[],areas:[],lines:[]},WL=jn({name:"referenceElements",initialState:coe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Rr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Rr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Rr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:mue,removeDot:vue,addArea:gue,removeArea:yue,addLine:foe,removeLine:doe}=WL.actions,hoe=WL.reducer,JL=A.createContext(void 0),poe=e=>{var{children:t}=e,[n]=A.useState("".concat(Gu("recharts"),"-clip")),r=jS();if(r==null)return null;var{x:i,y:a,width:l,height:u}=r;return A.createElement(JL.Provider,{value:n},A.createElement("defs",null,A.createElement("clipPath",{id:n},A.createElement("rect",{x:i,y:a,height:u,width:l}))),t)},moe=()=>A.useContext(JL);function pN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pN(Object(n),!0).forEach(function(r){voe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function voe(e,t,n){return(t=goe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function goe(e){var t=yoe(e,"string");return typeof t=="symbol"?t:t+""}function yoe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kh(){return kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kh.apply(null,arguments)}var boe=(e,t)=>{var n;if(A.isValidElement(e))n=A.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{if(!vt(t.x1)||!vt(t.y1)||!vt(t.x2)||!vt(t.y2))return null;n=A.createElement("line",kh({},t,{className:"recharts-reference-line-line"}))}return n},_oe=(e,t,n,r,i,a)=>{var{x:l,width:u}=a,c=i.y.apply(e,{position:n});if(Sr(c)||t==="discard"&&!i.y.isInRange(c))return null;var d=[{x:l+u,y:c},{x:l,y:c}];return r==="left"?d.reverse():d},Soe=(e,t,n,r,i,a)=>{var{y:l,height:u}=a,c=i.x.apply(e,{position:n});if(Sr(c)||t==="discard"&&!i.x.isInRange(c))return null;var d=[{x:c,y:l+u},{x:c,y:l}];return r==="top"?d.reverse():d},Toe=(e,t,n,r)=>{var i=e.map(a=>r.apply(a,{position:n}));return t==="discard"&&i.some(a=>!r.isInRange(a))?null:i},Eoe=(e,t,n,r,i,a)=>{var{x:l,y:u,segment:c,ifOverflow:d}=a,h=Tr(l),m=Tr(u);return m?_oe(u,d,n,i,e,t):h?Soe(l,d,n,r,e,t):c!=null&&c.length===2?Toe(c,d,n,e):null};function woe(e){var t=Tt();return A.useEffect(()=>(t(foe(e)),()=>{t(doe(e))})),null}function Aoe(e){var{xAxisId:t,yAxisId:n,shape:r,className:i,ifOverflow:a}=e,l=wn(),u=moe(),c=ve(D=>ti(D,t)),d=ve(D=>ni(D,n)),h=ve(D=>za(D,"xAxis",t,l)),m=ve(D=>za(D,"yAxis",n,l)),g=bc();if(!u||!g||c==null||d==null||h==null||m==null)return null;var _=soe({x:h,y:m}),T=Eoe(_,g,e.position,c.orientation,d.orientation,e);if(!T)return null;var[{x:w,y:E},{x:C,y:O}]=T,P=a==="hidden"?"url(#".concat(u,")"):void 0,R=mN(mN({clipPath:P},vn(e)),{},{x1:w,y1:E,x2:C,y2:O}),N=ooe({x1:w,y1:E,x2:C,y2:O});return A.createElement(ri,{zIndex:e.zIndex},A.createElement(Fi,{className:Ye("recharts-reference-line",i)},boe(r,R),A.createElement(RL,kh({},N,{lowerWidth:N.width,upperWidth:N.width}),A.createElement(LL,{label:e.label}),e.children)))}var xoe={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:pn.line};function XL(e){var t=sn(e,xoe);return A.createElement(A.Fragment,null,A.createElement(woe,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),A.createElement(Aoe,t))}XL.displayName="ReferenceLine";function QL(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function Coe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return uoe(r,n)}function Moe(e,t,n){var r=n==="width",{x:i,y:a,width:l,height:u}=e;return t===1?{start:r?i:a,end:r?i+l:a+u}:{start:r?i+l:a+u,end:r?i:a}}function Lh(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function Poe(e,t){return QL(e,t+1)}function Ooe(e,t,n,r,i){for(var a=(r||[]).slice(),{start:l,end:u}=t,c=0,d=1,h=l,m=function(){var T=r?.[c];if(T===void 0)return{v:QL(r,d)};var w=c,E,C=()=>(E===void 0&&(E=n(T,w)),E),O=T.coordinate,P=c===0||Lh(e,O,C,h,u);P||(c=0,h=l,d+=1),P&&(h=O+e*(C()/2+i),c+=d)},g;d<=a.length;)if(g=m(),g)return g.v;return[]}function vN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vN(Object(n),!0).forEach(function(r){Noe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Noe(e,t,n){return(t=Ioe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ioe(e){var t=Doe(e,"string");return typeof t=="symbol"?t:t+""}function Doe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Roe(e,t,n,r,i){for(var a=(r||[]).slice(),l=a.length,{start:u}=t,{end:c}=t,d=function(g){var _=a[g],T,w=()=>(T===void 0&&(T=n(_,g)),T);if(g===l-1){var E=e*(_.coordinate+e*w()/2-c);a[g]=_=fn(fn({},_),{},{tickCoord:E>0?_.coordinate-E*e:_.coordinate})}else a[g]=_=fn(fn({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var C=Lh(e,_.tickCoord,w,u,c);C&&(c=_.tickCoord-e*(w()/2+i),a[g]=fn(fn({},_),{},{isShow:!0}))}},h=l-1;h>=0;h--)d(h);return a}function koe(e,t,n,r,i,a){var l=(r||[]).slice(),u=l.length,{start:c,end:d}=t;if(a){var h=r[u-1],m=n(h,u-1),g=e*(h.coordinate+e*m/2-d);if(l[u-1]=h=fn(fn({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate}),h.tickCoord!=null){var _=Lh(e,h.tickCoord,()=>m,c,d);_&&(d=h.tickCoord-e*(m/2+i),l[u-1]=fn(fn({},h),{},{isShow:!0}))}}for(var T=a?u-1:u,w=function(O){var P=l[O],R,N=()=>(R===void 0&&(R=n(P,O)),R);if(O===0){var D=e*(P.coordinate-e*N()/2-c);l[O]=P=fn(fn({},P),{},{tickCoord:D<0?P.coordinate-D*e:P.coordinate})}else l[O]=P=fn(fn({},P),{},{tickCoord:P.coordinate});if(P.tickCoord!=null){var k=Lh(e,P.tickCoord,N,c,d);k&&(c=P.tickCoord+e*(N()/2+i),l[O]=fn(fn({},P),{},{isShow:!0}))}},E=0;E<T;E++)w(E);return l}function $S(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:l,orientation:u,interval:c,tickFormatter:d,unit:h,angle:m}=e;if(!i||!i.length||!r)return[];if(be(c)||hl.isSsr){var g;return(g=Poe(i,be(c)?c:0))!==null&&g!==void 0?g:[]}var _=[],T=u==="top"||u==="bottom"?"width":"height",w=h&&T==="width"?$u(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},E=(P,R)=>{var N=typeof d=="function"?d(P.value,R):P.value;return T==="width"?Coe($u(N,{fontSize:t,letterSpacing:n}),w,m):$u(N,{fontSize:t,letterSpacing:n})[T]},C=i.length>=2?gr(i[1].coordinate-i[0].coordinate):1,O=Moe(a,C,T);return c==="equidistantPreserveStart"?Ooe(C,O,E,i,l):(c==="preserveStart"||c==="preserveStartEnd"?_=koe(C,O,E,i,l,c==="preserveStartEnd"):_=Roe(C,O,E,i,l),_.filter(P=>P.isShow))}var Loe=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,l=0;if(t){Array.from(t).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>l&&(l=m.width)}});var u=n?n.getBoundingClientRect().width:0,c=i+a,d=l+c+u+(n?r:0);return Math.round(d)}return 0},Uoe=["axisLine","width","height","className","hide","ticks","axisType"];function qoe(e,t){if(e==null)return{};var n,r,i=zoe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zoe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Do(){return Do=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Do.apply(null,arguments)}function gN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gN(Object(n),!0).forEach(function(r){joe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function joe(e,t,n){return(t=Boe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Boe(e){var t=$oe(e,"string");return typeof t=="symbol"?t:t+""}function $oe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qi={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:pn.axis};function Foe(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:l,axisLine:u,otherSvgProps:c}=e;if(!u)return null;var d=Mt(Mt(Mt({},c),Jr(u)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!l||a==="bottom"&&l);d=Mt(Mt({},d),{},{x1:t,y1:n+h*i,x2:t+r,y2:n+h*i})}else{var m=+(a==="left"&&!l||a==="right"&&l);d=Mt(Mt({},d),{},{x1:t+m*r,y1:n,x2:t+m*r,y2:n+i})}return A.createElement("line",Do({},d,{className:Ye("recharts-cartesian-axis-line",ep(u,"className"))}))}function Hoe(e,t,n,r,i,a,l,u,c){var d,h,m,g,_,T,w=u?-1:1,E=e.tickSize||l,C=be(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":d=h=e.coordinate,g=n+ +!u*i,m=g-w*E,T=m-w*c,_=C;break;case"left":m=g=e.coordinate,h=t+ +!u*r,d=h-w*E,_=d-w*c,T=C;break;case"right":m=g=e.coordinate,h=t+ +u*r,d=h+w*E,_=d+w*c,T=C;break;default:d=h=e.coordinate,g=n+ +u*i,m=g+w*E,T=m+w*c,_=C;break}return{line:{x1:d,y1:m,x2:h,y2:g},tick:{x:_,y:T}}}function Goe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Voe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Koe(e){var{option:t,tickProps:n,value:r}=e,i,a=Ye(n.className,"recharts-cartesian-axis-tick-value");if(A.isValidElement(t))i=A.cloneElement(t,Mt(Mt({},n),{},{className:a}));else if(typeof t=="function")i=t(Mt(Mt({},n),{},{className:a}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=Ye(l,t?.className)),i=A.createElement(qS,Do({},n,{className:l}),r)}return i}var Yoe=A.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:l,unit:u,padding:c,tickTextProps:d,orientation:h,mirror:m,x:g,y:_,width:T,height:w,tickSize:E,tickMargin:C,fontSize:O,letterSpacing:P,getTicksConfig:R,events:N,axisType:D}=e,k=$S(Mt(Mt({},R),{},{ticks:n}),O,P),H=Goe(h,m),K=Voe(h,m),ae=Jr(R),Y=Jh(r),W={};typeof i=="object"&&(W=i);var ue=Mt(Mt({},ae),{},{fill:"none"},W),fe=k.map(ee=>Mt({entry:ee},Hoe(ee,g,_,T,w,h,E,m,C))),ge=fe.map(ee=>{var{entry:le,line:V}=ee;return A.createElement(Fi,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(le.value,"-").concat(le.coordinate,"-").concat(le.tickCoord)},i&&A.createElement("line",Do({},ue,V,{className:Ye("recharts-cartesian-axis-tick-line",ep(i,"className"))})))}),j=fe.map((ee,le)=>{var{entry:V,tick:pe}=ee,U=Mt(Mt(Mt(Mt({textAnchor:H,verticalAnchor:K},ae),{},{stroke:"none",fill:a},Y),pe),{},{index:le,payload:V,visibleTicksCount:k.length,tickFormatter:l,padding:c},d);return A.createElement(Fi,Do({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(V.value,"-").concat(V.coordinate,"-").concat(V.tickCoord)},GD(N,V,le)),r&&A.createElement(Koe,{option:r,tickProps:U,value:"".concat(typeof l=="function"?l(V.value,le):V.value).concat(u||"")}))});return A.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},j.length>0&&A.createElement(ri,{zIndex:pn.label},A.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:t},j)),ge.length>0&&A.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},ge))}),Woe=A.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:l,ticks:u,axisType:c}=e,d=qoe(e,Uoe),[h,m]=A.useState(""),[g,_]=A.useState(""),T=A.useRef(null);A.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var E;return Loe({ticks:T.current,label:(E=e.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=A.useCallback(E=>{if(E){var C=E.getElementsByClassName("recharts-cartesian-axis-tick-value");T.current=C;var O=C[0];if(O){var P=window.getComputedStyle(O),R=P.fontSize,N=P.letterSpacing;(R!==h||N!==g)&&(m(R),_(N))}}},[h,g]);return l||r!=null&&r<=0||i!=null&&i<=0?null:A.createElement(ri,{zIndex:e.zIndex},A.createElement(Fi,{className:Ye("recharts-cartesian-axis",a)},A.createElement(Foe,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Jr(e)}),A.createElement(Yoe,{ref:w,axisType:c,events:d,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:g,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),A.createElement(RL,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},A.createElement(LL,{label:e.label,labelRef:e.labelRef}),e.children)))}),FS=A.forwardRef((e,t)=>{var n=sn(e,qi);return A.createElement(Woe,Do({},n,{ref:t}))});FS.displayName="CartesianAxis";var Joe=["x1","y1","x2","y2","key"],Xoe=["offset"],Qoe=["xAxisId","yAxisId"],Zoe=["xAxisId","yAxisId"];function yN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yN(Object(n),!0).forEach(function(r){ese(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ese(e,t,n){return(t=tse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tse(e){var t=nse(e,"string");return typeof t=="symbol"?t:t+""}function nse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wo(){return wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wo.apply(null,arguments)}function Uh(e,t){if(e==null)return{};var n,r,i=rse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ise=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:l,ry:u}=e;return A.createElement("rect",{x:r,y:i,ry:u,width:a,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function ZL(e){var{option:t,lineItemProps:n}=e,r;if(A.isValidElement(t))r=A.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:l,x2:u,y2:c,key:d}=n,h=Uh(n,Joe),m=(i=Jr(h))!==null&&i!==void 0?i:{},{offset:g}=m,_=Uh(m,Xoe);r=A.createElement("line",wo({},_,{x1:a,y1:l,x2:u,y2:c,fill:"none",key:d}))}return r}function ase(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=e,u=Uh(e,Qoe),c=i.map((d,h)=>{var m=dn(dn({},u),{},{x1:t,y1:d,x2:t+n,y2:d,key:"line-".concat(h),index:h});return A.createElement(ZL,{key:"line-".concat(h),option:r,lineItemProps:m})});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function ose(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=e,u=Uh(e,Zoe),c=i.map((d,h)=>{var m=dn(dn({},u),{},{x1:d,y1:t,x2:d,y2:t+n,key:"line-".concat(h),index:h});return A.createElement(ZL,{option:r,lineItemProps:m,key:"line-".concat(h)})});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function sse(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:l,horizontalPoints:u,horizontal:c=!0}=e;if(!c||!t||!t.length||u==null)return null;var d=u.map(m=>Math.round(m+i-i)).sort((m,g)=>m-g);i!==d[0]&&d.unshift(0);var h=d.map((m,g)=>{var _=!d[g+1],T=_?i+l-m:d[g+1]-m;if(T<=0)return null;var w=g%t.length;return A.createElement("rect",{key:"react-".concat(g),y:m,x:r,height:T,width:a,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function lse(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:l,height:u,verticalPoints:c}=e;if(!t||!n||!n.length)return null;var d=c.map(m=>Math.round(m+i-i)).sort((m,g)=>m-g);i!==d[0]&&d.unshift(0);var h=d.map((m,g)=>{var _=!d[g+1],T=_?i+l-m:d[g+1]-m;if(T<=0)return null;var w=g%n.length;return A.createElement("rect",{key:"react-".concat(g),x:m,y:a,width:T,height:u,stroke:"none",fill:n[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var use=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return UR($S(dn(dn(dn({},qi),n),{},{ticks:qR(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},cse=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return UR($S(dn(dn(dn({},qi),n),{},{ticks:qR(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},fse={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:pn.grid};function eU(e){var t=R_(),n=k_(),r=VR(),i=dn(dn({},sn(e,fse)),{},{x:be(e.x)?e.x:r.left,y:be(e.y)?e.y:r.top,width:be(e.width)?e.width:r.width,height:be(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:l,x:u,y:c,width:d,height:h,syncWithTicks:m,horizontalValues:g,verticalValues:_}=i,T=wn(),w=ve(K=>yO(K,"xAxis",a,T)),E=ve(K=>yO(K,"yAxis",l,T));if(!Qr(d)||!Qr(h)||!be(u)||!be(c))return null;var C=i.verticalCoordinatesGenerator||use,O=i.horizontalCoordinatesGenerator||cse,{horizontalPoints:P,verticalPoints:R}=i;if((!P||!P.length)&&typeof O=="function"){var N=g&&g.length,D=O({yAxis:E?dn(dn({},E),{},{ticks:N?g:E.ticks}):void 0,width:t??d,height:n??h,offset:r},N?!0:m);uh(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(P=D)}if((!R||!R.length)&&typeof C=="function"){var k=_&&_.length,H=C({xAxis:w?dn(dn({},w),{},{ticks:k?_:w.ticks}):void 0,width:t??d,height:n??h,offset:r},k?!0:m);uh(Array.isArray(H),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof H,"]")),Array.isArray(H)&&(R=H)}return A.createElement(ri,{zIndex:i.zIndex},A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(ise,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),A.createElement(sse,wo({},i,{horizontalPoints:P})),A.createElement(lse,wo({},i,{verticalPoints:R})),A.createElement(ase,wo({},i,{offset:r,horizontalPoints:P,xAxis:w,yAxis:E})),A.createElement(ose,wo({},i,{offset:r,verticalPoints:R,xAxis:w,yAxis:E}))))}eU.displayName="CartesianGrid";var tU=(e,t,n,r)=>X2(e,"xAxis",t,r),nU=(e,t,n,r)=>J2(e,"xAxis",t,r),rU=(e,t,n,r)=>X2(e,"yAxis",n,r),iU=(e,t,n,r)=>J2(e,"yAxis",n,r),dse=Q([lt,tU,rU,nU,iU],(e,t,n,r,i)=>$a(e,"xAxis")?lh(t,r,!1):lh(n,i,!1)),hse=(e,t,n,r,i)=>i;function pse(e){return e.type==="line"}var mse=Q([b2,hse],(e,t)=>e.filter(pse).find(n=>n.id===t)),vse=Q([lt,tU,rU,nU,iU,mse,dse,uS],(e,t,n,r,i,a,l,u)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:h}=u;if(!(a==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:m,data:g}=a,_;if(g!=null&&g.length>0?_=g:_=c?.slice(d,h+1),_!=null)return Use({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:m,bandSize:l,displayedData:_})}});function gse(e){var t=Jh(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,l=Number(i),u=Number(a);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(u)||u<0)&&(u=r),{r:l,strokeWidth:u}}return{r:n,strokeWidth:r}}var yse=["id"],bse=["type","layout","connectNulls","needClip","shape"],_se=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function oc(){return oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oc.apply(null,arguments)}function bN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(n),!0).forEach(function(r){Sse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sse(e,t,n){return(t=Tse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tse(e){var t=Ese(e,"string");return typeof t=="symbol"?t:t+""}function Ese(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HS(e,t){if(e==null)return{};var n,r,i=wse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ase=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:zR(n,t),payload:e}]},xse=A.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:l,hide:u,unit:c,tooltipType:d}=e,h={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:zR(l,t),hide:u,type:d,color:r,unit:c}};return A.createElement(qie,{tooltipEntrySettings:h})}),aU=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Cse(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var Mse=(e,t,n)=>{var r=n.reduce((m,g)=>m+g);if(!r)return aU(t,e);for(var i=Math.floor(e/r),a=e%r,l=t-e,u=[],c=0,d=0;c<n.length;d+=n[c],++c)if(d+n[c]>a){u=[...n.slice(0,c),a-d];break}var h=u.length%2===0?[0,l]:[l];return[...Cse(n,i),...u,...h].map(m=>"".concat(m,"px")).join(", ")};function Pse(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:a,needClip:l}=r,{id:u}=r,c=HS(r,yse),d=Jr(c);return A.createElement(aae,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:d,needClip:l,clipPathId:t})}function Ose(e){var{showLabels:t,children:n,points:r}=e,i=A.useMemo(()=>r?.map(a=>{var l,u,c={x:(l=a.x)!==null&&l!==void 0?l:0,y:(u=a.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Vr(Vr({},c),{},{value:a.value,payload:a.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[r]);return A.createElement(hie,{value:t?i:void 0},n)}function _N(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:a}=e,{type:l,layout:u,connectNulls:c,needClip:d,shape:h}=a,m=HS(a,bse),g=Vr(Vr({},vn(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:r,type:l,layout:u,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return A.createElement(A.Fragment,null,r?.length>1&&A.createElement(Uie,oc({shapeType:"curve",option:h},g,{pathRef:n})),A.createElement(Pse,{points:r,clipPathId:t,props:a}))}function Nse(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Ise(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:l,strokeDasharray:u,isAnimationActive:c,animationBegin:d,animationDuration:h,animationEasing:m,animateNewValues:g,width:_,height:T,onAnimationEnd:w,onAnimationStart:E}=n,C=i.current,O=z_(l,"recharts-line-"),P=A.useRef(O),[R,N]=A.useState(!1),D=!R,k=A.useCallback(()=>{typeof w=="function"&&w(),N(!1)},[w]),H=A.useCallback(()=>{typeof E=="function"&&E(),N(!0)},[E]),K=Nse(r.current),ae=A.useRef(0);P.current!==O&&(ae.current=a.current,P.current=O);var Y=ae.current;return A.createElement(Ose,{points:l,showLabels:D},n.children,A.createElement(q_,{animationId:O,begin:d,duration:h,isActive:c,easing:m,onAnimationEnd:k,onAnimationStart:H,key:O},W=>{var ue=Ln(Y,K+Y,W),fe=Math.min(ue,K),ge;if(c)if(u){var j="".concat(u).split(/[,\s]+/gim).map(V=>parseFloat(V));ge=Mse(fe,K,j)}else ge=aU(K,fe);else ge=u==null?void 0:String(u);if(W>0&&K>0&&(i.current=l,a.current=Math.max(a.current,fe)),C){var ee=C.length/l.length,le=W===1?l:l.map((V,pe)=>{var U=Math.floor(pe*ee);if(C[U]){var X=C[U];return Vr(Vr({},V),{},{x:Ln(X.x,V.x,W),y:Ln(X.y,V.y,W)})}return g?Vr(Vr({},V),{},{x:Ln(_*2,V.x,W),y:Ln(T/2,V.y,W)}):Vr(Vr({},V),{},{x:V.x,y:V.y})});return i.current=le,A.createElement(_N,{props:n,points:le,clipPathId:t,pathRef:r,strokeDasharray:ge})}return A.createElement(_N,{props:n,points:l,clipPathId:t,pathRef:r,strokeDasharray:ge})}),A.createElement(vie,{label:n.label}))}function Dse(e){var{clipPathId:t,props:n}=e,r=A.useRef(null),i=A.useRef(0),a=A.useRef(null);return A.createElement(Ise,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var Rse=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:mn(e.payload,t)}};class kse extends A.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:a,yAxisId:l,top:u,left:c,width:d,height:h,id:m,needClip:g,zIndex:_}=this.props;if(t)return null;var T=Ye("recharts-line",i),w=m,{r:E,strokeWidth:C}=gse(n),O=BL(n),P=E*2+C,R=g?"url(#clipPath-".concat(O?"":"dots-").concat(w,")"):void 0;return A.createElement(ri,{zIndex:_},A.createElement(Fi,{className:T},g&&A.createElement("defs",null,A.createElement(Rae,{clipPathId:w,xAxisId:a,yAxisId:l}),!O&&A.createElement("clipPath",{id:"clipPath-dots-".concat(w)},A.createElement("rect",{x:c-P/2,y:u-P/2,width:d+P,height:h+P}))),A.createElement(Dae,{xAxisId:a,yAxisId:l,data:r,dataPointFormatter:Rse,errorBarOffset:0},A.createElement(Dse,{props:this.props,clipPathId:w}))),A.createElement(Aae,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:R}))}}var oU={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:pn.line,type:"linear"};function Lse(e){var t=sn(e,oU),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,connectNulls:u,dot:c,hide:d,isAnimationActive:h,label:m,legendType:g,xAxisId:_,yAxisId:T,id:w}=t,E=HS(t,_se),{needClip:C}=VL(_,T),O=jS(),P=pp(),R=wn(),N=ve(ae=>vse(ae,_,T,R,w));if(P!=="horizontal"&&P!=="vertical"||N==null||O==null)return null;var{height:D,width:k,x:H,y:K}=O;return A.createElement(kse,oc({},E,{id:w,connectNulls:u,dot:c,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,isAnimationActive:h,hide:d,label:m,legendType:g,xAxisId:_,yAxisId:T,points:N,layout:P,height:D,width:k,left:H,top:K,needClip:C}))}function Use(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:l,bandSize:u,displayedData:c}=e;return c.map((d,h)=>{var m=mn(d,l);if(t==="horizontal"){var g=zM({axis:n,ticks:i,bandSize:u,entry:d,index:h}),_=Yt(m)?null:r.scale(m);return{x:g,y:_,value:m,payload:d}}var T=Yt(m)?null:n.scale(m),w=zM({axis:r,ticks:a,bandSize:u,entry:d,index:h});return T==null||w==null?null:{x:T,y:w,value:m,payload:d}}).filter(Boolean)}function qse(e){var t=sn(e,oU),n=wn();return A.createElement(Fie,{id:t.id,type:"line"},r=>A.createElement(A.Fragment,null,A.createElement(zie,{legendPayload:Ase(t)}),A.createElement(xse,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),A.createElement(Jie,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),A.createElement(Lse,oc({},t,{id:r}))))}var sU=A.memo(qse,BS);sU.displayName="Line";var zse=["domain","range"],jse=["domain","range"];function SN(e,t){if(e==null)return{};var n,r,i=Bse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function TN(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function lU(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=SN(e,zse),{domain:a,range:l}=t,u=SN(t,jse);return!TN(n,a)||!TN(r,l)?!1:BS(i,u)}var $se=["dangerouslySetInnerHTML","ticks"],Fse=["id"];function Pb(){return Pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pb.apply(null,arguments)}function EN(e,t){if(e==null)return{};var n,r,i=Hse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Hse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Gse(e){var t=Tt(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?t(cae(e)):n.current!==e&&t(fae({prev:n.current,next:e})),n.current=e},[e,t]),A.useLayoutEffect(()=>()=>{n.current&&(t(dae(n.current)),n.current=null)},[t]),null}var Vse=e=>{var{xAxisId:t,className:n}=e,r=ve(BR),i=wn(),a="xAxis",l=ve(E=>za(E,a,t,i)),u=ve(E=>W2(E,a,t,i)),c=ve(E=>Fee(E,t)),d=ve(E=>Wee(E,t)),h=ve(E=>m2(E,t));if(c==null||d==null||h==null)return null;var{dangerouslySetInnerHTML:m,ticks:g}=e,_=EN(e,$se),{id:T}=h,w=EN(h,Fse);return A.createElement(FS,Pb({},_,w,{scale:l,x:d.x,y:d.y,width:c.width,height:c.height,className:Ye("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:u,axisType:a}))},Kse={allowDataOverflow:Ht.allowDataOverflow,allowDecimals:Ht.allowDecimals,allowDuplicatedCategory:Ht.allowDuplicatedCategory,angle:Ht.angle,axisLine:qi.axisLine,height:Ht.height,hide:!1,includeHidden:Ht.includeHidden,interval:Ht.interval,minTickGap:Ht.minTickGap,mirror:Ht.mirror,orientation:Ht.orientation,padding:Ht.padding,reversed:Ht.reversed,scale:Ht.scale,tick:Ht.tick,tickCount:Ht.tickCount,tickLine:qi.tickLine,tickSize:qi.tickSize,type:Ht.type,xAxisId:0},Yse=e=>{var t=sn(e,Kse);return A.createElement(A.Fragment,null,A.createElement(Gse,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),A.createElement(Vse,t))},uU=A.memo(Yse,lU);uU.displayName="XAxis";var Wse=["dangerouslySetInnerHTML","ticks"],Jse=["id"];function Ob(){return Ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ob.apply(null,arguments)}function wN(e,t){if(e==null)return{};var n,r,i=Xse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Xse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Qse(e){var t=Tt(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?t(hae(e)):n.current!==e&&t(pae({prev:n.current,next:e})),n.current=e},[e,t]),A.useLayoutEffect(()=>()=>{n.current&&(t(mae(n.current)),n.current=null)},[t]),null}var Zse=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=A.useRef(null),l=A.useRef(null),u=ve(BR),c=wn(),d=Tt(),h="yAxis",m=ve(N=>za(N,h,t,c)),g=ve(N=>Qee(N,t)),_=ve(N=>Xee(N,t)),T=ve(N=>W2(N,h,t,c)),w=ve(N=>v2(N,t));if(A.useLayoutEffect(()=>{if(!(r!=="auto"||!g||zS(i)||A.isValidElement(i)||w==null)){var N=a.current;if(N){var D=N.getCalculatedWidth();Math.round(g.width)!==Math.round(D)&&d(vae({id:t,width:D}))}}},[T,g,d,i,t,r,w]),g==null||_==null||w==null)return null;var{dangerouslySetInnerHTML:E,ticks:C}=e,O=wN(e,Wse),{id:P}=w,R=wN(w,Jse);return A.createElement(FS,Ob({},O,R,{ref:a,labelRef:l,scale:m,x:_.x,y:_.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:Ye("recharts-".concat(h," ").concat(h),n),viewBox:u,ticks:T,axisType:h}))},ele={allowDataOverflow:Gt.allowDataOverflow,allowDecimals:Gt.allowDecimals,allowDuplicatedCategory:Gt.allowDuplicatedCategory,angle:Gt.angle,axisLine:qi.axisLine,hide:!1,includeHidden:Gt.includeHidden,interval:Gt.interval,minTickGap:Gt.minTickGap,mirror:Gt.mirror,orientation:Gt.orientation,padding:Gt.padding,reversed:Gt.reversed,scale:Gt.scale,tick:Gt.tick,tickCount:Gt.tickCount,tickLine:qi.tickLine,tickSize:qi.tickSize,type:Gt.type,width:Gt.width,yAxisId:0},tle=e=>{var t=sn(e,ele);return A.createElement(A.Fragment,null,A.createElement(Qse,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),A.createElement(Zse,t))},cU=A.memo(tle,lU);cU.displayName="YAxis";var nle=(e,t)=>t,GS=Q([nle,lt,d2,qt,dL,ra,hne,ln],_ne),VS=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},fU=Er("mouseClick"),dU=gc();dU.startListening({actionCreator:fU,effect:(e,t)=>{var n=e.payload,r=GS(t.getState(),VS(n));r?.activeIndex!=null&&t.dispatch(fte({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Nb=Er("mouseMove"),hU=gc(),_d=null;hU.startListening({actionCreator:Nb,effect:(e,t)=>{var n=e.payload;_d!==null&&cancelAnimationFrame(_d);var r=VS(n);_d=requestAnimationFrame(()=>{var i=t.getState(),a=MS(i,i.tooltip.settings.shared);if(a==="axis"){var l=GS(i,r);l?.activeIndex!=null?t.dispatch(iL({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(rL())}_d=null})}});var AN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},pU=jn({name:"rootProps",initialState:AN,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:AN.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),rle=pU.reducer,{updateOptions:ile}=pU.actions,mU=jn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:bue}=mU.actions,ale=mU.reducer,vU=Er("keyDown"),gU=Er("focus"),KS=gc();KS.startListening({actionCreator:vU,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var l=PS(i,_l(n),Cc(n),Ic(n)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var c=ra(n);if(a==="Enter"){var d=Oh(n,"axis","hover",String(i.index));t.dispatch(Eb({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var h=nte(n),m=h==="left-to-right"?1:-1,g=a==="ArrowRight"?1:-1,_=u+g*m;if(!(c==null||_>=c.length||_<0)){var T=Oh(n,"axis","hover",String(_));t.dispatch(Eb({active:!0,activeIndex:_.toString(),activeDataKey:void 0,activeCoordinate:T}))}}}}}});KS.startListening({actionCreator:gU,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",l=Oh(n,"axis","hover",String(a));t.dispatch(Eb({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:l}))}}}});var pr=Er("externalEvent"),yU=gc(),Ky=new Map;yU.startListening({actionCreator:pr,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=Ky.get(i);a!==void 0&&cancelAnimationFrame(a);var l=requestAnimationFrame(()=>{try{var u=t.getState(),c={activeCoordinate:Xte(u),activeDataKey:Wte(u),activeIndex:ic(u),activeLabel:mL(u),activeTooltipIndex:ic(u),isTooltipActive:Qte(u)};n(c,r)}finally{Ky.delete(i)}});Ky.set(i,l)}}});var ole=Q([bl],e=>e.tooltipItemPayloads),sle=Q([ole,Oc,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var l=t(a,n);return l}}}),bU=Er("touchMove"),_U=gc();_U.startListening({actionCreator:bU,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=MS(r,r.tooltip.settings.shared);if(i==="axis"){var a=GS(r,VS({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&t.dispatch(iL({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var l,u=n.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(u.clientX,u.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(R7),h=(l=c.getAttribute(k7))!==null&&l!==void 0?l:void 0,m=sle(t.getState(),d,h);t.dispatch(cte({activeDataKey:h,activeIndex:d,activeCoordinate:m}))}}}});var lle=lR({brush:noe,cartesianAxis:gae,chartData:Qne,errorBars:Cae,graphicalItems:Yie,layout:y7,legend:PW,options:Kne,polarAxis:yie,polarOptions:ale,referenceElements:hoe,rootProps:rle,tooltip:dte,zIndex:Rne}),ule=function(t){return F9({reducer:lle,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([dU.middleware,hU.middleware,KS.middleware,yU.middleware,_U.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(ER({type:"raf"}))},devTools:hl.devToolsEnabled})};function cle(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=wn(),a=A.useRef(null);if(i)return n;a.current==null&&(a.current=ule(t));var l=w_;return A.createElement(Qae,{context:l,store:a.current},n)}function fle(e){var{layout:t,margin:n}=e,r=Tt(),i=wn();return A.useEffect(()=>{i||(r(m7(t)),r(p7(n)))},[r,i,t,n]),null}var dle=A.memo(fle,BS);function hle(e){var t=Tt();return A.useEffect(()=>{t(ile(e))},[t,e]),null}function xN(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=$L("".concat(r).concat(t)),a=Tt();return A.useLayoutEffect(()=>(a(Ine({zIndex:t,elementId:i,isPanorama:n})),()=>{a(Dne({zIndex:t,isPanorama:n}))}),[a,t,i,n]),A.createElement("g",{id:i})}function CN(e){var{children:t,isPanorama:n}=e,r=ve(Tne);if(!r||r.length===0)return t;var i=r.filter(l=>l<0),a=r.filter(l=>l>0);return A.createElement(A.Fragment,null,i.map(l=>A.createElement(xN,{key:l,zIndex:l,isPanorama:n})),t,a.map(l=>A.createElement(xN,{key:l,zIndex:l,isPanorama:n})))}var ple=["children"];function mle(e,t){if(e==null)return{};var n,r,i=vle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qh(){return qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qh.apply(null,arguments)}var gle={width:"100%",height:"100%",display:"block"},yle=A.forwardRef((e,t)=>{var n=R_(),r=k_(),i=tk();if(!Qr(n)||!Qr(r))return null;var{children:a,otherAttributes:l,title:u,desc:c}=e,d,h;return l!=null&&(typeof l.tabIndex=="number"?d=l.tabIndex:d=i?0:void 0,typeof l.role=="string"?h=l.role:h=i?"application":void 0),A.createElement(p_,qh({},l,{title:u,desc:c,role:h,tabIndex:d,width:n,height:r,style:gle,ref:t}),a)}),ble=e=>{var{children:t}=e,n=ve(hp);if(!n)return null;var{width:r,height:i,y:a,x:l}=n;return A.createElement(p_,{width:r,height:i,x:l,y:a},t)},MN=A.forwardRef((e,t)=>{var{children:n}=e,r=mle(e,ple),i=wn();return i?A.createElement(ble,null,A.createElement(CN,{isPanorama:!0},n)):A.createElement(yle,qh({ref:t},r),A.createElement(CN,{isPanorama:!1},n))});function _le(){var e=Tt(),[t,n]=A.useState(null),r=ve(D7);return A.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;vt(a)&&a!==r&&e(g7(a))}},[t,e,r]),n}function PN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sle(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PN(Object(n),!0).forEach(function(r){Tle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tle(e,t,n){return(t=Ele(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ele(e){var t=wle(e,"string");return typeof t=="symbol"?t:t+""}function wle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ro(){return Ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ro.apply(null,arguments)}var Ale=()=>(sre(),null);function zh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var xle=A.forwardRef((e,t)=>{var n,r,i=A.useRef(null),[a,l]=A.useState({containerWidth:zh((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:zh((r=e.style)===null||r===void 0?void 0:r.height)}),u=A.useCallback((d,h)=>{l(m=>{var g=Math.round(d),_=Math.round(h);return m.containerWidth===g&&m.containerHeight===_?m:{containerWidth:g,containerHeight:_}})},[]),c=A.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null&&typeof ResizeObserver<"u"){var{width:h,height:m}=d.getBoundingClientRect();u(h,m);var g=T=>{var{width:w,height:E}=T[0].contentRect;u(w,E)},_=new ResizeObserver(g);_.observe(d),i.current=_}},[t,u]);return A.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[u]),A.createElement(A.Fragment,null,A.createElement(mp,{width:a.containerWidth,height:a.containerHeight}),A.createElement("div",Ro({ref:c},e)))}),Cle=A.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=A.useState({containerWidth:zh(n),containerHeight:zh(r)}),l=A.useCallback((c,d)=>{a(h=>{var m=Math.round(c),g=Math.round(d);return h.containerWidth===m&&h.containerHeight===g?h:{containerWidth:m,containerHeight:g}})},[]),u=A.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:d,height:h}=c.getBoundingClientRect();l(d,h)}},[t,l]);return A.createElement(A.Fragment,null,A.createElement(mp,{width:i.containerWidth,height:i.containerHeight}),A.createElement("div",Ro({ref:u},e)))}),Mle=A.forwardRef((e,t)=>{var{width:n,height:r}=e;return A.createElement(A.Fragment,null,A.createElement(mp,{width:n,height:r}),A.createElement("div",Ro({ref:t},e)))}),Ple=A.forwardRef((e,t)=>{var{width:n,height:r}=e;return Hi(n)||Hi(r)?A.createElement(Cle,Ro({},e,{ref:t})):A.createElement(Mle,Ro({},e,{ref:t}))});function Ole(e){return e===!0?xle:Ple}var Nle=A.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:l,onDoubleClick:u,onMouseDown:c,onMouseEnter:d,onMouseLeave:h,onMouseMove:m,onMouseUp:g,onTouchEnd:_,onTouchMove:T,onTouchStart:w,style:E,width:C,responsive:O,dispatchTouchEvents:P=!0}=e,R=A.useRef(null),N=Tt(),[D,k]=A.useState(null),[H,K]=A.useState(null),ae=_le(),Y=D_(),W=Y?.width>0?Y.width:C,ue=Y?.height>0?Y.height:i,fe=A.useCallback(te=>{ae(te),typeof t=="function"&&t(te),k(te),K(te),te!=null&&(R.current=te)},[ae,t,k,K]),ge=A.useCallback(te=>{N(fU(te)),N(pr({handler:a,reactEvent:te}))},[N,a]),j=A.useCallback(te=>{N(Nb(te)),N(pr({handler:d,reactEvent:te}))},[N,d]),ee=A.useCallback(te=>{N(rL()),N(pr({handler:h,reactEvent:te}))},[N,h]),le=A.useCallback(te=>{N(Nb(te)),N(pr({handler:m,reactEvent:te}))},[N,m]),V=A.useCallback(()=>{N(gU())},[N]),pe=A.useCallback(te=>{N(vU(te.key))},[N]),U=A.useCallback(te=>{N(pr({handler:l,reactEvent:te}))},[N,l]),X=A.useCallback(te=>{N(pr({handler:u,reactEvent:te}))},[N,u]),$=A.useCallback(te=>{N(pr({handler:c,reactEvent:te}))},[N,c]),se=A.useCallback(te=>{N(pr({handler:g,reactEvent:te}))},[N,g]),_e=A.useCallback(te=>{N(pr({handler:w,reactEvent:te}))},[N,w]),Ee=A.useCallback(te=>{P&&N(bU(te)),N(pr({handler:T,reactEvent:te}))},[N,P,T]),we=A.useCallback(te=>{N(pr({handler:_,reactEvent:te}))},[N,_]),gt=Ole(O);return A.createElement(TL.Provider,{value:D},A.createElement(ED.Provider,{value:H},A.createElement(gt,{width:W??E?.width,height:ue??E?.height,className:Ye("recharts-wrapper",r),style:Sle({position:"relative",cursor:"default",width:W,height:ue},E),onClick:ge,onContextMenu:U,onDoubleClick:X,onFocus:V,onKeyDown:pe,onMouseDown:$,onMouseEnter:j,onMouseLeave:ee,onMouseMove:le,onMouseUp:se,onTouchEnd:we,onTouchMove:Ee,onTouchStart:_e,ref:fe},A.createElement(Ale,null),n)))}),Ile=["width","height","responsive","children","className","style","compact","title","desc"];function Dle(e,t){if(e==null)return{};var n,r,i=Rle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Rle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var kle=A.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:l,style:u,compact:c,title:d,desc:h}=e,m=Dle(e,Ile),g=Jr(m);return c?A.createElement(A.Fragment,null,A.createElement(mp,{width:n,height:r}),A.createElement(MN,{otherAttributes:g,title:d,desc:h},a)):A.createElement(Nle,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},A.createElement(MN,{otherAttributes:g,title:d,desc:h,ref:t},A.createElement(poe,null,a)))});function Ib(){return Ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ib.apply(null,arguments)}var Lle={top:5,right:5,bottom:5,left:5},Ule={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Lle,reverseStackOrder:!1,syncMethod:"index",responsive:!1},qle=A.forwardRef(function(t,n){var r,i=sn(t.categoricalChartProps,Ule),{chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,categoricalChartProps:d}=t,h={chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return A.createElement(cle,{preloadedState:{options:h},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:a},A.createElement(toe,{chartData:d.data}),A.createElement(dle,{layout:i.layout,margin:i.margin}),A.createElement(hle,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),A.createElement(kle,Ib({},i,{ref:n})))}),zle=["axis"],jle=A.forwardRef((e,t)=>A.createElement(qle,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zle,tooltipPayloadSearcher:Gne,categoricalChartProps:e,ref:t}));const Ai={calories:"#FF6B6B",purines:"#845EF7",protein:"#339AF0",carbs:"#FCC419",fat:"#51CF66",fiber:"#20C997",sodium:"#FF922B",sugar:"#F06595"},ON={week:{label:"This Week",days:7},month:{label:"This Month",days:30},custom:{label:"Custom",days:null}},NN={daily:{label:"Daily",days:1},weekly:{label:"Weekly",days:7},monthly:{label:"Monthly",days:30}},IN=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`},Ble=e=>{const t=new Date;return t.setDate(t.getDate()-e),t},$le=(e,t)=>{const n=new Date(e+"T00:00:00");return t==="monthly"?n.toLocaleDateString("en-US",{month:"short",year:"2-digit"}):t==="weekly"?n.toLocaleDateString("en-US",{month:"short",day:"numeric"}):n.toLocaleDateString("en-US",{weekday:"short",day:"numeric"})},Fle=({active:e,payload:t,label:n})=>!e||!t?.length?null:M.jsxs("div",{className:"chart-tooltip",children:[M.jsx("p",{className:"tooltip-date",children:n}),t.map(r=>M.jsxs("p",{style:{color:r.color},children:[Ci[r.dataKey]?.icon," ",r.name,": ",Math.round(r.value),Ci[r.dataKey]?.unit]},r.dataKey))]});function Hle(){const{user:e}=ul(),{meals:t,isLoading:n}=t_(),r=e?.thresholds||$d,[i,a]=A.useState("week"),[l,u]=A.useState("daily"),[c,d]=A.useState(""),[h,m]=A.useState(""),[g,_]=A.useState({calories:!0,purines:!0,protein:!1,carbs:!1,fat:!1,fiber:!1,sodium:!1,sugar:!1}),{startDate:T,endDate:w}=A.useMemo(()=>{if(i==="custom"&&c&&h)return{startDate:c,endDate:h};const N=ON[i]?.days||7;return{startDate:IN(Ble(N-1)),endDate:IN(new Date)}},[i,c,h]),E=A.useMemo(()=>{if(!t?.length)return[];const N=t.filter(H=>H.date>=T&&H.date<=w),D={};N.forEach(H=>{D[H.date]||(D[H.date]={date:H.date,calories:0,purines:0,protein:0,carbs:0,fat:0,fiber:0,sodium:0,sugar:0}),H.total_nutrients&&Object.keys(D[H.date]).forEach(K=>{K!=="date"&&H.total_nutrients[K]&&(D[H.date][K]+=H.total_nutrients[K])})});let k=Object.values(D).sort((H,K)=>H.date.localeCompare(K.date));if(l!=="daily"){const H=[],K=NN[l].days;for(let ae=0;ae<k.length;ae+=K){const Y=k.slice(ae,ae+K);if(Y.length>0){const W={date:Y[0].date};Object.keys(Ai).forEach(ue=>{W[ue]=Y.reduce((fe,ge)=>fe+(ge[ue]||0),0)/Y.length}),H.push(W)}}k=H}return k.map(H=>({...H,displayDate:$le(H.date,l)}))},[t,T,w,l]),C=N=>{_(D=>({...D,[N]:!D[N]}))},O=()=>{if(!E.length)return;const N=["Date",...Object.keys(Ai).map(Y=>Ci[Y].label)],D=E.map(Y=>[Y.date,...Object.keys(Ai).map(W=>Math.round(Y[W]||0))]),k=[N.join(","),...D.map(Y=>Y.join(","))].join(`
`),H=new Blob([k],{type:"text/csv"}),K=URL.createObjectURL(H),ae=document.createElement("a");ae.href=K,ae.download=`nutrition-data-${T}-to-${w}.csv`,ae.click(),URL.revokeObjectURL(K)},P=N=>{switch(N){case"calories":return r.calories_max;case"purines":return r.purines_max;case"protein":return r.protein_target;case"carbs":return r.carbs_target;case"fat":return r.fat_target;case"fiber":return r.fiber_target;case"sodium":return r.sodium_max;case"sugar":return r.sugar_max;default:return null}},R=Object.entries(g).filter(([,N])=>N).map(([N])=>N);return n?M.jsxs("div",{className:"page charts-page",children:[M.jsx(Bi,{title:"Dragon's Scroll",subtitle:"View your nutrition history"}),M.jsx("div",{className:"loading-container",children:M.jsx("p",{children:"Loading your scroll..."})})]}):M.jsxs("div",{className:"page charts-page",children:[M.jsx(Bi,{title:"Dragon's Scroll",subtitle:"View your nutrition history"}),M.jsxs("div",{className:"card chart-controls",children:[M.jsx("div",{className:"control-row",children:M.jsxs("div",{className:"control-group",children:[M.jsx("label",{children:"Time Period"}),M.jsx("div",{className:"button-group",children:Object.entries(ON).map(([N,{label:D}])=>M.jsx("button",{className:`btn ${i===N?"btn-primary":"btn-secondary"}`,onClick:()=>a(N),children:D},N))})]})}),i==="custom"&&M.jsxs("div",{className:"control-row custom-dates",children:[M.jsxs("div",{className:"date-input",children:[M.jsx("label",{children:"From"}),M.jsx("input",{type:"date",value:c,onChange:N=>d(N.target.value)})]}),M.jsxs("div",{className:"date-input",children:[M.jsx("label",{children:"To"}),M.jsx("input",{type:"date",value:h,onChange:N=>m(N.target.value)})]})]}),M.jsx("div",{className:"control-row",children:M.jsxs("div",{className:"control-group",children:[M.jsx("label",{children:"Group By"}),M.jsx("div",{className:"button-group",children:Object.entries(NN).map(([N,{label:D}])=>M.jsx("button",{className:`btn btn-small ${l===N?"btn-primary":"btn-secondary"}`,onClick:()=>u(N),children:D},N))})]})})]}),M.jsxs("div",{className:"card nutrient-toggles",children:[M.jsx("label",{children:"Nutrients"}),M.jsx("div",{className:"toggle-grid",children:Object.entries(Ci).filter(([N])=>N!=="hydration").map(([N,{icon:D,label:k}])=>M.jsxs("button",{className:`nutrient-toggle ${g[N]?"active":""}`,style:{borderColor:g[N]?Ai[N]:"var(--color-border)",backgroundColor:g[N]?`${Ai[N]}20`:"transparent"},onClick:()=>C(N),children:[M.jsx("span",{className:"nutrient-icon",children:D}),M.jsx("span",{className:"nutrient-label",children:k})]},N))})]}),M.jsx("div",{className:"card chart-container",children:E.length>0?M.jsx(uW,{width:"100%",height:300,children:M.jsxs(jle,{data:E,margin:{top:20,right:20,left:0,bottom:5},children:[M.jsx(eU,{strokeDasharray:"3 3",stroke:"var(--color-border)"}),M.jsx(uU,{dataKey:"displayDate",tick:{fill:"var(--color-text-secondary)",fontSize:12},tickLine:{stroke:"var(--color-border)"}}),M.jsx(cU,{tick:{fill:"var(--color-text-secondary)",fontSize:12},tickLine:{stroke:"var(--color-border)"}}),M.jsx(mre,{content:M.jsx(Fle,{})}),M.jsx(ek,{}),R.map(N=>{const D=P(N);return D?M.jsx(XL,{y:D,stroke:Ai[N],strokeDasharray:"5 5",strokeOpacity:.6},`ref-${N}`):null}),Object.entries(g).map(([N,D])=>D?M.jsx(sU,{type:"monotone",dataKey:N,name:Ci[N].label,stroke:Ai[N],strokeWidth:2,dot:{fill:Ai[N],strokeWidth:0,r:4},activeDot:{r:6,strokeWidth:2}},N):null)]})}):M.jsxs("div",{className:"no-data",children:[M.jsx("p",{className:"text-muted",children:"No data for selected period"}),M.jsx("p",{className:"text-small",children:"Log some meals to see your nutrition trends!"})]})}),E.length>0&&M.jsxs("div",{className:"card chart-legend",children:[M.jsx("h3",{children:"Daily Targets"}),M.jsx("div",{className:"legend-grid",children:R.map(N=>{const D=P(N);return D?M.jsxs("div",{className:"legend-item",children:[M.jsx("span",{className:"legend-color",style:{backgroundColor:Ai[N]}}),M.jsxs("span",{className:"legend-label",children:[Ci[N].icon," ",Ci[N].label]}),M.jsxs("span",{className:"legend-value",children:[D,Ci[N].unit]})]},N):null})})]}),E.length>0&&M.jsx("button",{className:"btn btn-secondary export-btn",onClick:O,children:" Export Scroll as CSV"})]})}function Gle(){return M.jsxs("div",{className:"page oracle-page",children:[M.jsx(Bi,{title:"Dragon Oracle",subtitle:"Get meal recommendations"}),M.jsxs("div",{className:"coming-soon card",children:[M.jsx(E0,{state:"curious"}),M.jsx("h2",{children:"Coming Soon!"}),M.jsx("p",{className:"text-muted",children:"The Dragon Oracle will suggest meals based on your remaining nutrition budget."}),M.jsxs("ul",{className:"feature-list",children:[M.jsx("li",{children:" Familiar meals you love"}),M.jsx("li",{children:" Twisted versions of favorites"}),M.jsx("li",{children:" Wild new adventures"}),M.jsx("li",{children:" AI-powered recommendations"})]})]})]})}function Vle(){const e=Bh(),{user:t,isLoading:n,updateProfile:r,updateThresholds:i,updateTheme:a,saveUser:l}=ul(),{savedMeals:u,bottles:c}=n_(),[d,h]=A.useState({name:"Dragon Keeper",sex:"male",age:30,weight_kg:75,height_cm:175,activity_level:"moderate",dietary_conditions:[]}),[m,g]=A.useState($d),[_,T]=A.useState("emerald"),[w,E]=A.useState("#66BB6A"),[C,O]=A.useState(!1),[P,R]=A.useState(!1),[N,D]=A.useState(""),[k,H]=A.useState(!1),[K,ae]=A.useState(R0()?"saved":"none");A.useEffect(()=>{t&&(h({name:t.name||"Dragon Keeper",...t.profile}),g(t.thresholds||$d),T(t.theme?.preset||"emerald"),E(t.theme?.seed_color_hex||"#66BB6A"))},[t]);const Y=()=>{const V=pH(d);g(V),R(!0)},W=(V,pe)=>{g(U=>({...U,[V]:Number(pe)})),R(!0)},ue=V=>{h(pe=>({...pe,...V})),R(!0)},fe=async V=>{T(V);const pe=zu[V],U=bo(pe.seedColor,pe.isDark);_o(U),await a(V,pe.seedColor)},ge=async V=>{E(V),T("custom");const pe=bo(V,!1);_o(pe),await a("custom",V)},j=()=>{N.trim()&&(J8(N.trim()),ae("saved"),D(""),H(!1),alert("AI API key saved! Your dragon can now analyze meals. "))},ee=()=>{confirm("Remove your AI API key? Your dragon won't be able to analyze meals.")&&(X8(),ae("none"),D(""))},le=async()=>{const V={...t,name:d.name,profile:{sex:d.sex,age:d.age,weight_kg:d.weight_kg,height_cm:d.height_cm,activity_level:d.activity_level,dietary_conditions:d.dietary_conditions},thresholds:m};await r(V.profile),await i(m),await l(V),R(!1),alert("Dragon's settings saved! ")};return n?M.jsxs("div",{className:"page settings-page",children:[M.jsx(Bi,{title:"Dragon's Lair",subtitle:"Loading..."}),M.jsxs("div",{className:"loading-state card",children:[M.jsx("div",{className:"spinner"}),M.jsx("p",{children:"Opening the lair..."})]})]}):M.jsxs("div",{className:"page settings-page",children:[M.jsx(Bi,{title:"Dragon's Lair",subtitle:"Configure your dragon's needs"}),M.jsxs("section",{className:"settings-section card",children:[M.jsx("h2",{className:"section-title",children:" Keeper's Profile"}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{children:"Name"}),M.jsx("input",{type:"text",value:d.name,onChange:V=>ue({name:V.target.value})})]}),M.jsxs("div",{className:"form-row",children:[M.jsxs("div",{className:"form-group",children:[M.jsx("label",{children:"Sex"}),M.jsxs("select",{value:d.sex,onChange:V=>ue({sex:V.target.value}),children:[M.jsx("option",{value:"male",children:"Male"}),M.jsx("option",{value:"female",children:"Female"}),M.jsx("option",{value:"other",children:"Other"})]})]}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{children:"Age"}),M.jsx("input",{type:"number",value:d.age,onChange:V=>ue({age:parseInt(V.target.value)})})]})]}),M.jsxs("div",{className:"form-row",children:[M.jsxs("div",{className:"form-group",children:[M.jsx("label",{children:"Weight (kg)"}),M.jsx("input",{type:"number",value:d.weight_kg,onChange:V=>ue({weight_kg:parseInt(V.target.value)})})]}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{children:"Height (cm)"}),M.jsx("input",{type:"number",value:d.height_cm,onChange:V=>ue({height_cm:parseInt(V.target.value)})})]})]}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{children:"Activity Level"}),M.jsxs("select",{value:d.activity_level,onChange:V=>ue({activity_level:V.target.value}),children:[M.jsx("option",{value:"sedentary",children:"Sedentary (little exercise)"}),M.jsx("option",{value:"light",children:"Light (1-3 days/week)"}),M.jsx("option",{value:"moderate",children:"Moderate (3-5 days/week)"}),M.jsx("option",{value:"active",children:"Active (6-7 days/week)"}),M.jsx("option",{value:"very_active",children:"Very Active (intense daily)"})]})]}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{children:"Dietary Conditions"}),M.jsx("div",{className:"checkbox-group",children:["gout","diabetes","kidney_disease","vegetarian","vegan"].map(V=>M.jsxs("label",{className:"checkbox-label",children:[M.jsx("input",{type:"checkbox",checked:d.dietary_conditions?.includes(V)||!1,onChange:pe=>{const U=pe.target.checked?[...d.dietary_conditions||[],V]:(d.dietary_conditions||[]).filter(X=>X!==V);ue({dietary_conditions:U})}}),M.jsx("span",{children:V.replace("_"," ")})]},V))})]}),M.jsx("button",{className:"btn btn-primary w-full",onClick:Y,children:"Calculate Dragon's Needs "}),P&&M.jsx("button",{className:"btn btn-primary w-full mt-sm",onClick:le,children:" Save All Changes"})]}),M.jsxs("section",{className:"settings-section card",children:[M.jsx("h2",{className:"section-title",children:" Dragon's Hoard"}),M.jsx("p",{className:"text-muted",children:"Manage your saved meals and custom bottles."}),M.jsxs("div",{className:"stash-buttons",children:[M.jsxs("button",{className:"btn btn-secondary",onClick:()=>e("/stash"),children:[" Saved Meals (",u?.length||0,")"]}),M.jsxs("button",{className:"btn btn-secondary",onClick:()=>e("/stash?tab=bottles"),children:[" Custom Bottles (",c?.length||0,")"]})]})]}),M.jsxs("section",{className:"settings-section card",children:[M.jsxs("div",{className:"section-header-row",children:[M.jsx("h2",{className:"section-title",children:" Nutrition Thresholds"}),M.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>O(!C),children:C?"Done":"Edit"})]}),M.jsxs("div",{className:"threshold-row",children:[M.jsx("span",{className:"threshold-label",children:" Calories"}),C?M.jsxs("div",{className:"threshold-inputs",children:[M.jsx("input",{type:"number",value:m.calories_min,onChange:V=>W("calories_min",V.target.value),className:"threshold-input"}),M.jsx("span",{children:"-"}),M.jsx("input",{type:"number",value:m.calories_max,onChange:V=>W("calories_max",V.target.value),className:"threshold-input"}),M.jsx("span",{children:"kcal"})]}):M.jsxs("span",{className:"threshold-value",children:[m.calories_min," - ",m.calories_max," kcal"]})]}),M.jsxs("div",{className:"threshold-row",children:[M.jsx("span",{className:"threshold-label",children:" Purines"}),C?M.jsxs("div",{className:"threshold-inputs",children:[M.jsx("input",{type:"number",value:m.purines_max,onChange:V=>W("purines_max",V.target.value),className:"threshold-input"}),M.jsx("span",{children:"mg max"})]}):M.jsxs("span",{className:"threshold-value",children:[m.purines_max," mg max"]})]}),M.jsxs("div",{className:"threshold-row",children:[M.jsx("span",{className:"threshold-label",children:" Protein"}),C?M.jsxs("div",{className:"threshold-inputs",children:[M.jsx("input",{type:"number",value:m.protein_target,onChange:V=>W("protein_target",V.target.value),className:"threshold-input"}),M.jsx("span",{children:"g target"})]}):M.jsxs("span",{className:"threshold-value",children:[m.protein_target," g target"]})]}),M.jsxs("div",{className:"threshold-row",children:[M.jsx("span",{className:"threshold-label",children:" Carbs"}),C?M.jsxs("div",{className:"threshold-inputs",children:[M.jsx("input",{type:"number",value:m.carbs_target,onChange:V=>W("carbs_target",V.target.value),className:"threshold-input"}),M.jsx("span",{children:"g target"})]}):M.jsxs("span",{className:"threshold-value",children:[m.carbs_target," g target"]})]}),M.jsxs("div",{className:"threshold-row",children:[M.jsx("span",{className:"threshold-label",children:" Fat"}),C?M.jsxs("div",{className:"threshold-inputs",children:[M.jsx("input",{type:"number",value:m.fat_target,onChange:V=>W("fat_target",V.target.value),className:"threshold-input"}),M.jsx("span",{children:"g target"})]}):M.jsxs("span",{className:"threshold-value",children:[m.fat_target," g target"]})]}),M.jsxs("div",{className:"threshold-row",children:[M.jsx("span",{className:"threshold-label",children:" Fiber"}),C?M.jsxs("div",{className:"threshold-inputs",children:[M.jsx("input",{type:"number",value:m.fiber_target,onChange:V=>W("fiber_target",V.target.value),className:"threshold-input"}),M.jsx("span",{children:"g target"})]}):M.jsxs("span",{className:"threshold-value",children:[m.fiber_target," g target"]})]}),M.jsxs("div",{className:"threshold-row",children:[M.jsx("span",{className:"threshold-label",children:" Sodium"}),C?M.jsxs("div",{className:"threshold-inputs",children:[M.jsx("input",{type:"number",value:m.sodium_max,onChange:V=>W("sodium_max",V.target.value),className:"threshold-input"}),M.jsx("span",{children:"mg max"})]}):M.jsxs("span",{className:"threshold-value",children:[m.sodium_max," mg max"]})]}),M.jsxs("div",{className:"threshold-row",children:[M.jsx("span",{className:"threshold-label",children:" Sugar"}),C?M.jsxs("div",{className:"threshold-inputs",children:[M.jsx("input",{type:"number",value:m.sugar_max,onChange:V=>W("sugar_max",V.target.value),className:"threshold-input"}),M.jsx("span",{children:"g max"})]}):M.jsxs("span",{className:"threshold-value",children:[m.sugar_max," g max"]})]}),M.jsxs("div",{className:"threshold-row",children:[M.jsx("span",{className:"threshold-label",children:" Hydration"}),C?M.jsxs("div",{className:"threshold-inputs",children:[M.jsx("input",{type:"number",value:m.hydration_target,onChange:V=>W("hydration_target",V.target.value),className:"threshold-input"}),M.jsx("span",{children:"ml target"})]}):M.jsxs("span",{className:"threshold-value",children:[m.hydration_target," ml target"]})]}),C&&M.jsx("p",{className:"text-muted text-center mt-sm",children:`Tip: Use "Calculate Dragon's Needs" to auto-fill based on your profile.`})]}),M.jsxs("section",{className:"settings-section card",children:[M.jsx("h2",{className:"section-title",children:" Dragon Scale Theme"}),M.jsx("div",{className:"theme-presets",children:Object.entries(zu).map(([V,pe])=>M.jsxs("button",{className:`theme-preset ${_===V?"active":""}`,onClick:()=>fe(V),style:{"--preset-color":pe.seedColor},children:[M.jsx("span",{className:"preset-swatch",style:{background:pe.seedColor}}),M.jsx("span",{className:"preset-name",children:pe.name}),M.jsx("span",{className:"preset-desc",children:pe.description})]},V))}),M.jsxs("div",{className:"custom-color-section",children:[M.jsx("label",{children:"Custom Dragon Scale Color"}),M.jsxs("div",{className:"color-picker-row",children:[M.jsx("input",{type:"color",value:w,onChange:V=>ge(V.target.value),className:"color-picker"}),M.jsx("input",{type:"text",value:w,onChange:V=>ge(V.target.value),className:"color-input",placeholder:"#66BB6A"})]})]}),M.jsxs("div",{className:"theme-preview card",children:[M.jsx("p",{className:"preview-label",children:"Preview"}),M.jsxs("div",{className:"preview-content",children:[M.jsx("div",{className:"preview-text",children:"Sample text"}),M.jsx("button",{className:"btn btn-primary",children:"Button"}),M.jsx("div",{className:"progress-bar",children:M.jsx("div",{className:"progress-bar-fill success",style:{width:"60%"}})})]})]})]}),M.jsxs("section",{className:"settings-section card",children:[M.jsx("h2",{className:"section-title",children:" Dragon Statistics"}),M.jsxs("div",{className:"stats-grid",children:[M.jsxs("div",{className:"stat-item",children:[M.jsx("span",{className:"stat-value",children:t?.stats?.total_meals_logged||0}),M.jsx("span",{className:"stat-label",children:"Meals logged"})]}),M.jsxs("div",{className:"stat-item",children:[M.jsx("span",{className:"stat-value",children:t?.stats?.current_streak_days||0}),M.jsx("span",{className:"stat-label",children:"Day streak "})]}),M.jsxs("div",{className:"stat-item",children:[M.jsx("span",{className:"stat-value",children:(u?.length||0)+(c?.length||0)}),M.jsx("span",{className:"stat-label",children:"In hoard"})]}),M.jsxs("div",{className:"stat-item",children:[M.jsx("span",{className:"stat-value",children:t?.badges?.length||0}),M.jsx("span",{className:"stat-label",children:"Badges"})]})]})]}),M.jsxs("section",{className:"settings-section card",children:[M.jsx("h2",{className:"section-title",children:" Dragon's Intelligence"}),M.jsx("p",{className:"text-muted mb-md",children:"Connect your dragon to Google's AI to automatically analyze meals from text descriptions or photos."}),K==="saved"?M.jsxs("div",{className:"api-key-status",children:[M.jsx("div",{className:"status-badge success",children:M.jsx("span",{children:" AI Connected"})}),M.jsx("p",{className:"text-muted text-sm mt-sm",children:"Your dragon can analyze meals. Key stored locally on this device."}),M.jsx("button",{className:"btn btn-secondary btn-danger-outline mt-sm",onClick:ee,children:" Remove API Key"})]}):M.jsxs("div",{className:"api-key-form",children:[M.jsxs("div",{className:"form-group",children:[M.jsx("label",{children:"Google AI Studio API Key"}),M.jsxs("div",{className:"input-with-toggle",children:[M.jsx("input",{type:k?"text":"password",value:N,onChange:V=>D(V.target.value),placeholder:"AIza...",className:"api-key-input"}),M.jsx("button",{type:"button",className:"toggle-visibility",onClick:()=>H(!k),children:k?"":""})]}),M.jsxs("p",{className:"input-help",children:["Get your free key at"," ",M.jsx("a",{href:"https://aistudio.google.com/apikey",target:"_blank",rel:"noopener noreferrer",children:"Google AI Studio "})]})]}),M.jsx("button",{className:"btn btn-primary w-full",onClick:j,disabled:!N.trim(),children:" Save API Key"})]})]}),M.jsxs("section",{className:"settings-section card",children:[M.jsx("h2",{className:"section-title",children:" About"}),M.jsxs("p",{className:"text-center text-muted",children:["Purine Control v1.0.0",M.jsx("br",{}),`"The Dragon Keeper's Nutrition Tracker"`]}),M.jsx("p",{className:"text-center text-muted mt-md",children:"Made with  for your dragon"})]})]})}const Kle=[{id:"default-1",name:"Water Glass",capacity_ml:250,icon:"",type:"container"},{id:"default-2",name:"Water Bottle",capacity_ml:500,icon:"",type:"container"},{id:"default-3",name:"Dragon Chalice",capacity_ml:750,icon:"",type:"container"}],Yle=[{key:"meals",label:" Saved Meals",icon:""},{key:"bottles",label:" Bottles",icon:""}],Wle=["","","","","","","",""];function Jle(){const e=Bh(),[t,n]=lB(),r=t.get("tab")||"meals",[i,a]=A.useState(r),[l,u]=A.useState(""),[c,d]=A.useState(!1),[h,m]=A.useState(null),[g,_]=A.useState(""),[T,w]=A.useState(""),[E,C]=A.useState(250),[O,P]=A.useState({calories:0,purines:0,protein:0,carbs:0,fat:0}),{savedMeals:R,bottles:N,isLoading:D,addToStash:k,removeFromStash:H,updateStashItem:K}=n_(),{adjustHydration:ae}=BI(),{addMeal:Y}=t_(),W=[...Kle,...N],ue=$=>{a($),n({tab:$})},fe=async $=>{const se=$.capacity_ml||$.amount_ml;await ae(se),alert(`Added ${se}ml to hydration! `)},ge=async $=>{await Y({meal_type:"snack",meal_name:$.name,ingredients:$.ingredients||[],total_nutrients:$.total_nutrients||{}}),$.id&&!$.id.startsWith("default-")&&await K($.id,{use_count:($.use_count||0)+1}),alert(`${$.name} added to diary! `),e("/")},j=async $=>{confirm("Remove this item from your hoard?")&&await H($)},ee=()=>{_(""),w(""),C(250),P({calories:0,purines:0,protein:0,carbs:0,fat:0}),m(null),d(!1)},le=()=>{ee(),d(!0)},V=$=>{m($),_($.name||""),w($.icon||""),C($.capacity_ml||$.amount_ml||250),P($.nutrients||$.total_nutrients||{calories:0,purines:0,protein:0,carbs:0,fat:0}),d(!0)},pe=async()=>{if(!g.trim()){alert("Please enter a name");return}const $=h?.id?.startsWith("default-");if(h&&!$){const se={name:g};i==="bottles"&&(se.icon=T,se.capacity_ml=E),await K(h.id,se),alert("Item updated! ")}else{const se=i==="meals"?"meal":"container",_e={type:se,name:g,icon:T,capacity_ml:se==="container"?E:void 0,ingredients:se==="meal"?h?.ingredients||[]:void 0,total_nutrients:se==="meal"?O:void 0,use_count:0};await k(_e),alert($?"Custom bottle created! ":"Added to your hoard! ")}ee()},U=R.filter($=>$.name?.toLowerCase().includes(l.toLowerCase())),X=W.filter($=>$.name?.toLowerCase().includes(l.toLowerCase()));return D?M.jsxs("div",{className:"page stash-page",children:[M.jsx(Bi,{title:"Dragon's Hoard",subtitle:"Loading...",showBack:!0,onBack:()=>e("/settings")}),M.jsxs("div",{className:"loading-state card",children:[M.jsx("div",{className:"spinner"}),M.jsx("p",{children:"Opening the hoard..."})]})]}):M.jsxs("div",{className:"page stash-page",children:[M.jsx(Bi,{title:"Dragon's Hoard",subtitle:"Your saved meals and custom ingredients",showBack:!0,onBack:()=>e("/settings")}),M.jsx("div",{className:"stash-tabs",children:Yle.map($=>M.jsx("button",{className:`stash-tab ${i===$.key?"active":""}`,onClick:()=>ue($.key),children:$.label},$.key))}),M.jsx("div",{className:"stash-search",children:M.jsx("input",{type:"text",placeholder:`Search ${i==="meals"?"meals":"ingredients"}...`,value:l,onChange:$=>u($.target.value)})}),i==="meals"&&M.jsxs("section",{className:"stash-content",children:[U.length===0?M.jsxs("div",{className:"empty-state card",children:[M.jsx("p",{children:" No saved meals yet!"}),M.jsx("p",{className:"text-muted",children:"Save meals from your diary to reuse them."})]}):M.jsx("div",{className:"stash-list",children:U.map($=>M.jsxs("div",{className:"stash-item card",children:[M.jsxs("div",{className:"stash-item-header",children:[M.jsx("h3",{children:$.name}),M.jsxs("span",{className:"use-count",children:["Used ",$.use_count||0,"x"]})]}),M.jsx("p",{className:"stash-item-ingredients",children:Array.isArray($.ingredients)?$.ingredients.map(se=>typeof se=="string"?se:se.name).join(", "):"No ingredients"}),M.jsxs("div",{className:"stash-item-nutrients",children:[M.jsxs("span",{children:[" ",$.total_nutrients?.calories||0," cal"]}),M.jsxs("span",{children:[" ",$.total_nutrients?.purines||0,"mg"]}),M.jsxs("span",{children:[" ",$.total_nutrients?.protein||0,"g"]})]}),M.jsxs("div",{className:"stash-item-actions",children:[M.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>ge($),children:" Use"}),M.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>V($),children:" Edit"}),M.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>j($.id),children:""})]})]},$.id))}),M.jsx("button",{className:"btn btn-secondary w-full mt-md",onClick:le,children:" Create New Meal"})]}),i==="bottles"&&M.jsxs("section",{className:"stash-content",children:[M.jsx("p",{className:"text-muted",children:"Custom hydration containers for quick logging."}),X.length===0?M.jsxs("div",{className:"empty-state card",children:[M.jsx("p",{children:" No custom bottles yet!"}),M.jsx("p",{className:"text-muted",children:"Add your favorite containers."})]}):M.jsx("div",{className:"stash-list",children:X.map($=>M.jsxs("div",{className:"stash-item card bottle-item",children:[M.jsxs("div",{className:"bottle-info",children:[M.jsx("span",{className:"bottle-icon",children:$.icon||""}),M.jsxs("div",{className:"bottle-details",children:[M.jsx("h3",{children:$.name}),M.jsxs("span",{className:"bottle-amount",children:[$.capacity_ml||$.amount_ml," ml"]})]})]}),M.jsxs("div",{className:"stash-item-actions",children:[M.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>fe($),children:" Use"}),M.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>V($),children:""}),!$.id.startsWith("default-")&&M.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>j($.id),children:""})]})]},$.id))}),M.jsx("button",{className:"btn btn-secondary w-full mt-md",onClick:le,children:" Add Custom Bottle"})]}),c&&M.jsx("div",{className:"modal-overlay",onClick:ee,children:M.jsxs("div",{className:"modal-content card",onClick:$=>$.stopPropagation(),children:[M.jsxs("h2",{children:[h?" Edit":" Create"," ",i==="meals"?"Meal":i==="ingredients"?"Ingredient":"Bottle"]}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{children:"Name"}),M.jsx("input",{type:"text",value:g,onChange:$=>_($.target.value),placeholder:`e.g., ${i==="meals"?"Chicken Salad":i==="ingredients"?"Olive Oil":"Sports Bottle"}`})]}),i==="bottles"&&M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"form-group",children:[M.jsx("label",{children:"Icon"}),M.jsx("div",{className:"icon-picker",children:Wle.map($=>M.jsx("button",{type:"button",className:`icon-btn ${T===$?"active":""}`,onClick:()=>w($),children:$},$))})]}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{children:"Capacity (ml)"}),M.jsx("input",{type:"number",value:E,onChange:$=>C(parseInt($.target.value)||0),min:"0",step:"50"})]})]}),M.jsxs("div",{className:"modal-actions",children:[M.jsx("button",{className:"btn btn-secondary",onClick:ee,children:"Cancel"}),M.jsxs("button",{className:"btn btn-primary",onClick:pe,children:[" ",h?"Update":"Save"]})]})]})})]})}function Xle(){return M.jsx(yH,{children:M.jsx(iB,{basename:"/purine-control",children:M.jsxs("div",{className:"app",children:[M.jsxs(Rj,{children:[M.jsx(Ps,{path:"/",element:M.jsx(aK,{})}),M.jsx(Ps,{path:"/charts",element:M.jsx(Hle,{})}),M.jsx(Ps,{path:"/oracle",element:M.jsx(Gle,{})}),M.jsx(Ps,{path:"/settings",element:M.jsx(Vle,{})}),M.jsx(Ps,{path:"/stash",element:M.jsx(Jle,{})})]}),M.jsx(_H,{})]})})})}Fz.createRoot(document.getElementById("root")).render(M.jsx(A.StrictMode,{children:M.jsx(Xle,{})}));
